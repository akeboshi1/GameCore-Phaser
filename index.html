<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" name="viewport" content="width=device-width,height=device-height, initial-scale=1.0" />
    <title>Tooqing-phaser3</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
        }

        body div.container {
            text-align: center;
        }

        body div.container div#game {
            display: block;
            margin-left: auto;
            margin-right: auto;
        }
    </style>
</head>

<body>
    <!-- <input type="file" id="files" name="files[]" /> -->
    <!-- <div class="container"> -->
    <div id="game"></div>
    <!-- </div> -->
    <!-- <script>
        let fileBin;
        function handleFileSelect(evt) {
            var file = evt.target.files[0]; // FileList object
            console.log("handleFileSelect -> files", files);
            const fileReader = new FileReader();

            fileReader.readAsArrayBuffer(file);
            fileReader.onload = (event) => {
                console.log("fileReader.onload -> event.target.result", event.target.result);
                fileBin = new Uint8Array(event.target.result);
                console.log("fileReader.onload -> fileBin", fileBin);

                const capsule = TooqingCore.Launcher.DeserializeNode(fileBin);

                TooqingCore.Launcher.startElementEditor({
                    width: 1600,
                    height: 900,
                    parent: "game",
                    node: capsule.root.children.filter((node) => node.type === 3).pop(),
                    LOCAL_HOME_PATH: "/Users/wannatwo"
                });
            };
        }

        document.getElementById("files").addEventListener("change", handleFileSelect, false);

        window.addEventListener("load", (event) => {
            console.log("TooqingCore", TooqingCore);
        });
    </script> -->
    <script>
        window.addEventListener('load', (event) => {
            const launcher = tooqing.Launcher;
            const option = {
                width: document.documentElement.clientWidth,
                height: document.documentElement.clientHeight,
                // api_root: "http://172.18.0.100:17170/",
                // osd: "https://osd-alpha.tooqing.com/",
                // server_addr: {
                //     host: "172.18.0.201",
                //     port: 12100,
                //     secure: false
                // },
                // parent: "game",
                // game_id: "607f8b24ab74202ef8d04be7.5e410ba50681ad5557b4d6e9",
                // virtual_world_id: "0",
                // locationhref: window.location.href
                api_root: "https://api-dev.tooqing.com",
                osd: "https://osd-alpha.tooqing.com/",
                server_addr: {
                    host: "172.18.0.201",
                    port: 12100,
                    secure: false
                },
                parent: "game",
                game_id: "5e719a0a68196e416ecf7aad",
                virtual_world_id: "0",
                // virtual_world_id: "65557",
                // world_id: "64527",

                locationhref: window.location.href,

            }
            const app = launcher.start(option);
            app.registerReload(window.reload);
            window.addEventListener("resize", (e) => {
                app.onResize(document.documentElement.clientWidth, document.documentElement.clientHeight);

            });
            document.addEventListener("visibilitychange", function () {
                // if (document.visibilityState === "hidden") {
                //     app.hidden();
                // }
                app.visibilitychange(document.visibilityState);
            });
        });
    </script>
</body>

</html>