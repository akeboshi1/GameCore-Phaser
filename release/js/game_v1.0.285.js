(this["webpackJsonpTooqingCore"] = this["webpackJsonpTooqingCore"] || []).push([["game"],{

/***/ "./lib/rexui/lib/plugins/bbcodetext-plugin.js":
/*!****************************************************!*\
  !*** ./lib/rexui/lib/plugins/bbcodetext-plugin.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _gameobjects_text_bbcodetext_Factory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./gameobjects/text/bbcodetext/Factory */ \"./lib/rexui/lib/plugins/gameobjects/text/bbcodetext/Factory.js\");\n/* harmony import */ var _gameobjects_text_bbcodetext_Creator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./gameobjects/text/bbcodetext/Creator */ \"./lib/rexui/lib/plugins/gameobjects/text/bbcodetext/Creator.js\");\n/* harmony import */ var _gameobjects_text_bbcodetext_BBCodeText__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./gameobjects/text/bbcodetext/BBCodeText */ \"./lib/rexui/lib/plugins/gameobjects/text/bbcodetext/BBCodeText.js\");\n/* harmony import */ var _utils_object_SetValue__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/object/SetValue */ \"./lib/rexui/lib/plugins/utils/object/SetValue.js\");\n\n\n\n\n\nclass BBCodeTextPlugin extends Phaser.Plugins.BasePlugin {\n\n    constructor(pluginManager) {\n        super(pluginManager);\n\n        //  Register our new Game Object type\n        pluginManager.registerGameObject('rexBBCodeText', _gameobjects_text_bbcodetext_Factory__WEBPACK_IMPORTED_MODULE_0__[\"default\"], _gameobjects_text_bbcodetext_Creator__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n    }\n\n    start() {\n        var eventEmitter = this.game.events;\n        eventEmitter.on('destroy', this.destroy, this);\n    }\n}\n\nObject(_utils_object_SetValue__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(window, 'RexPlugins.GameObjects.BBCodeText', _gameobjects_text_bbcodetext_BBCodeText__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (BBCodeTextPlugin);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/bbcodetext-plugin.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/bbcodetext.js":
/*!*********************************************!*\
  !*** ./lib/rexui/lib/plugins/bbcodetext.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _gameobjects_text_bbcodetext_Factory_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./gameobjects/text/bbcodetext/Factory.js */ \"./lib/rexui/lib/plugins/gameobjects/text/bbcodetext/Factory.js\");\n/* harmony import */ var _gameobjects_text_bbcodetext_Creator_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./gameobjects/text/bbcodetext/Creator.js */ \"./lib/rexui/lib/plugins/gameobjects/text/bbcodetext/Creator.js\");\n/* harmony import */ var _gameobjects_text_bbcodetext_BBCodeText_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./gameobjects/text/bbcodetext/BBCodeText.js */ \"./lib/rexui/lib/plugins/gameobjects/text/bbcodetext/BBCodeText.js\");\n\n\n\n\nPhaser.GameObjects.GameObjectFactory.register('rexBBCodeText', _gameobjects_text_bbcodetext_Factory_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\nPhaser.GameObjects.GameObjectCreator.register('rexBBCodeText', _gameobjects_text_bbcodetext_Creator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_gameobjects_text_bbcodetext_BBCodeText_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/bbcodetext.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/behaviors/anchor/Anchor.js":
/*!**********************************************************!*\
  !*** ./lib/rexui/lib/plugins/behaviors/anchor/Anchor.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _GetViewport_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GetViewport.js */ \"./lib/rexui/lib/plugins/behaviors/anchor/GetViewport.js\");\n\n\nconst Rectangle = Phaser.Geom.Rectangle;\n\nclass Anchor {\n    constructor(gameObject, config) {\n        this.gameObject = gameObject;\n        this.viewport = new Rectangle();\n        this.resetFromJSON(config);\n        this.boot();\n    }\n\n    resetFromJSON(o) {\n        var alignX, configX;\n        if (o.x !== undefined) {\n            alignX = null;\n            configX = o.x;\n        } else if (o.left !== undefined) {\n            alignX = 0;\n            configX = o.left;\n        } else if (o.right !== undefined) {\n            alignX = 1;\n            configX = o.right;\n        } else if (o.centerX !== undefined) {\n            alignX = 0.5;\n            configX = o.centerX;\n        }\n\n        var alignY, configY;\n        if (o.y !== undefined) {\n            alignY = null;\n            configY = o.y;\n        } else if (o.top !== undefined) {\n            alignY = 0;\n            configY = o.top;\n        } else if (o.bottom !== undefined) {\n            alignY = 1;\n            configY = o.bottom;\n        } else if (o.centerY !== undefined) {\n            alignY = 0.5;\n            configY = o.centerY;\n        }\n\n        var percentageX, offsetX;\n        if (configX !== undefined) {\n            configX = configX.replace('left', '0%').replace('right', '100%').replace('center', '50%').split('%');\n            percentageX = parseFloat(configX[0]) / 100;\n            offsetX = (configX[1] === '') ? 0 : parseFloat(configX[1]);\n        }\n        var percentageY, offsetY;\n        if (configY !== undefined) {\n            configY = configY.replace('top', '0%').replace('bottom', '100%').replace('center', '50%').split('%');\n            percentageY = parseFloat(configY[0]) / 100;\n            offsetY = (configY[1] === '') ? 0 : parseFloat(configY[1]);\n        }\n\n        this.setAlign(alignX, alignY);\n        this.setPercentage(percentageX, percentageY);\n        this.setOffset(offsetX, offsetY);\n        return this;\n    }\n\n    boot() {\n        this.scaleManamger.on('resize', this.anchor, this);\n        this.gameObject.on('destroy', this.destroy, this);\n\n        this.anchor();\n    }\n\n    shutdown() {\n        this.scaleManamger.off('resize', this.anchor, this);\n        this.gameObject = undefined;\n    }\n\n    destroy() {\n        this.shutdown();\n    }\n\n    setAlign(x, y) {\n        this.alignX = x;\n        this.alignY = y;\n        return this;\n    }\n\n    setPercentage(x, y) {\n        this.percentageX = x;\n        this.percentageY = y;\n        return this;\n    }\n\n    setOffset(x, y) {\n        this.offsetX = x;\n        this.offsetY = y;\n        return this;\n    }\n\n    anchor() {\n        Object(_GetViewport_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this.scaleManamger, this.viewport);\n        this.updatePosition();\n        return this;\n    }\n\n    updatePosition() {\n        var gameObject = this.gameObject;\n\n        if (this.alignX === null) {\n            gameObject.x = this.anchorX;\n        } else if (this.alignX !== undefined) {\n            gameObject.x = this.anchorX + (gameObject.displayWidth * (gameObject.originX - this.alignX));\n        }\n\n        if (this.alignY === null) {\n            this.gameObject.y = this.anchorY;\n        } else if (this.alignY !== undefined) {\n            gameObject.y = this.anchorY + (gameObject.displayHeight * (gameObject.originY - this.alignY));\n        }\n        return this;\n    }\n\n    get scaleManamger() {\n        return this.gameObject.scene.scale;\n    }\n\n    get anchorX() {\n        return this.viewport.x + (this.viewport.width * this.percentageX) + this.offsetX;\n    }\n\n    get anchorY() {\n        return this.viewport.y + (this.viewport.height * this.percentageY) + this.offsetY;\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Anchor);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/behaviors/anchor/Anchor.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/behaviors/anchor/GetViewport.js":
/*!***************************************************************!*\
  !*** ./lib/rexui/lib/plugins/behaviors/anchor/GetViewport.js ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nconst Rectangle = Phaser.Geom.Rectangle;\n\nvar GetViewport = function (scaleManager, out) {\n    if (out === undefined) {\n        out = new Rectangle();\n    }\n    var bounds = scaleManager.canvasBounds;\n    var scale = scaleManager.displayScale;\n    var autoCenter = scaleManager.autoCenter;\n    out.x = (bounds.x >= 0) ? 0 : -(bounds.x * scale.x);\n    out.y = (bounds.y >= 0) ? 0 : -(bounds.y * scale.y);\n    out.width = (bounds.width * scale.x) - out.x;\n    out.height = (bounds.height * scale.y) - out.y;\n    if ((autoCenter === 1) || (autoCenter === 2)) {\n        out.width -= out.x;\n    }\n    if ((autoCenter === 1) || (autoCenter === 3)) {\n        out.height -= out.y;\n    }\n    return out;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GetViewport);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/behaviors/anchor/GetViewport.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/behaviors/fade/Fade.js":
/*!******************************************************!*\
  !*** ./lib/rexui/lib/plugins/behaviors/fade/Fade.js ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_tween_TweenBase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/tween/TweenBase.js */ \"./lib/rexui/lib/plugins/utils/tween/TweenBase.js\");\n\n\nconst GetValue = Phaser.Utils.Objects.GetValue;\nconst GetAdvancedValue = Phaser.Utils.Objects.GetAdvancedValue;\n\nclass Fade extends _utils_tween_TweenBase_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(gameObject, config) {\n        super(gameObject);\n        this.gameObject = gameObject;\n\n        this.alphaStart = undefined;\n        this.alphaEnd = undefined;\n        this.resetFromJSON(config);\n    }\n\n    resetFromJSON(o) {\n        this.setMode(GetValue(o, 'mode', 0));\n        this.setAlphaRange(\n            GetAdvancedValue(o, 'start', this.gameObject.alpha),\n            GetAdvancedValue(o, 'end', 0)\n        );\n        this.setDelay(GetAdvancedValue(o, 'delay', 0));\n        this.setDuration(GetAdvancedValue(o, 'duration', 1000));\n        return this;\n    }\n\n    toJSON() {\n        return {\n            mode: this.mode,\n            start: this.alphaStart,\n            end: this.alphaEnd,\n            delay: this.delay,\n            duration: this.duration\n        };\n    }\n\n    shutdown() {\n        super.shutdown();\n        this.gameObject = undefined;\n        return this;\n    }\n\n    setMode(m) {\n        if (typeof (m) === 'string') {\n            m = MODE[m];\n        }\n        this.mode = m;\n        return this;\n    }\n\n    setAlphaRange(start, end) {\n        this.alphaStart = start;\n        this.alphaEnd = end;\n        return this;\n    }\n\n    setDelay(time) {\n        this.delay = time;\n        return this;\n    }\n\n    setDuration(time) {\n        this.duration = time;\n        return this;\n    }\n\n    start() {\n        if (this.isRunning) {\n            return this;\n        }\n\n        this.gameObject.setAlpha(this.alphaStart);\n        super.start({\n            targets: this.gameObject,\n            alpha: this.alphaEnd,\n\n            delay: this.delay,\n            duration: this.duration,\n            ease: 'Linear',\n            yoyo: (this.mode == 2),\n            repeat: ((this.mode == 2) ? -1 : 0)\n        });\n        return this;\n    }\n\n    complete() {\n        super.complete();\n        if (this.mode === 1) {\n            this.gameObject.destroy();\n        }\n        return this;\n    }\n\n}\n\nconst MODE = {\n    stop: 0,\n    destroy: 1,\n    yoyo: 2\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Fade);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/behaviors/fade/Fade.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/behaviors/flip/Flip.js":
/*!******************************************************!*\
  !*** ./lib/rexui/lib/plugins/behaviors/flip/Flip.js ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_tween_TweenBase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/tween/TweenBase.js */ \"./lib/rexui/lib/plugins/utils/tween/TweenBase.js\");\n/* harmony import */ var _GetFaceUpdatingCallback_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GetFaceUpdatingCallback.js */ \"./lib/rexui/lib/plugins/behaviors/flip/GetFaceUpdatingCallback.js\");\n\n\n\nconst GetValue = Phaser.Utils.Objects.GetValue;\nconst GetAdvancedValue = Phaser.Utils.Objects.GetAdvancedValue;\n\nclass Flip extends _utils_tween_TweenBase_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(gameObject, config) {\n        super(gameObject, { eventEmitter: true });\n        this.gameObject = gameObject;\n\n        this.resetFromJSON(config);\n    }\n\n    resetFromJSON(o) {\n        this.setOrientation(GetValue(o, 'orientation', 0));\n        this.setDelay(GetAdvancedValue(o, 'delay', 0));\n        this.setDuration(GetAdvancedValue(o, 'duration', 500));\n        this.setEase(GetValue(o, 'ease', 'Sine'));\n\n        this.setFrontFace(GetValue(o, 'front', undefined));\n        this.setBackFace(GetValue(o, 'back', undefined));\n        this.setFace(GetValue(o, 'face', 0));\n        return this;\n    }\n\n    shutdown() {\n        super.shutdown();\n        this.gameObject = undefined;\n        return this;\n    }\n\n    setOrientation(orientation) {\n        if (typeof (orientation) === 'string') {\n            orientation = ORIENTATIONMODE[orientation];\n        }\n        this.orientation = orientation;\n        return this;\n    }\n\n    setDelay(time) {\n        this.delay = time;\n        return this;\n    }\n\n    setDuration(time) {\n        this.duration = time;\n        return this;\n    }\n\n    setEase(ease) {\n        if (ease === undefined) {\n            ease = 'Linear';\n        }\n        this.ease = ease;\n        return this;\n    }\n\n    get face() {\n        return this._face;\n    }\n\n    set face(face) {\n        if (typeof (face) === 'string') {\n            face = FACEMODE[face];\n        }\n        this._face = face;\n        if ((face === 0) && this.frontFaceCallback) {\n            this.frontFaceCallback(this.gameObject);\n        } else if ((face === 1) && this.backFaceCallback) {\n            this.backFaceCallback(this.gameObject);\n        }\n    }\n\n    setFace(face) {\n        this.face = face;\n        return this;\n    }\n\n    toggleFace() {\n        var newFace = (this.face === 0) ? 1 : 0;\n        this.setFace(newFace);\n        return this;\n    }\n\n    setFrontFace(key, frame) {\n        this.frontFaceCallback = Object(_GetFaceUpdatingCallback_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(key, frame, this.gameObject);\n        return this;\n    }\n\n    setBackFace(key, frame) {\n        this.backFaceCallback = Object(_GetFaceUpdatingCallback_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(key, frame, this.gameObject);\n        return this;\n    }\n\n    start() {\n        if (this.isRunning) {\n            return this;\n        }\n\n        var config = {\n            targets: this.gameObject,\n            delay: this.delay,\n            duration: this.duration / 2,\n            ease: this.ease,\n            yoyo: true,\n            repeat: 0,\n\n            onYoyo: this.toggleFace,\n            onYoyoScope: this\n        }\n\n        var propKey = (this.orientation === 0) ? 'scaleX' : 'scaleY';\n        config[propKey] = { from: 1, to: 0 };\n\n        super.start(config);\n        return this;\n    }\n\n    flip(duration) {\n        if (this.isRunning) {\n            return this;\n        }\n        if (duration !== undefined) {\n            this.setDuration(duration);\n        }\n        this.start();\n        return this;\n    }\n}\n\nconst ORIENTATIONMODE = {\n    x: 0,\n    horizontal: 0,\n    y: 1,\n    vertical: 1,\n}\n\nconst FACEMODE = {\n    front: 0,\n    back: 1,\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Flip);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/behaviors/flip/Flip.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/behaviors/flip/GetFaceUpdatingCallback.js":
/*!*************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/behaviors/flip/GetFaceUpdatingCallback.js ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\nconst GetValue = Phaser.Utils.Objects.GetValue;\n\nvar GetFaceUpdatingCallback = function (key, frame, gameObject) {\n    var callback;\n    if (key === undefined) {\n        key = gameObject.texture.key;\n        frame = gameObject.frame.name;\n    } else if (IsPlainObject(key)) {\n        var config = key;\n        key = GetValue(config, 'key', gameObject.texture.key);\n        frame = GetValue(config, 'frame', gameObject.frame.name);\n    } else if (typeof (key) === 'string') {\n    } else {\n        callback = key;\n    }\n\n    if (callback === undefined) {\n        callback = function (gameObject) {\n            gameObject.setTexture(key, frame);\n        }\n    }\n    return callback;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GetFaceUpdatingCallback);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/behaviors/flip/GetFaceUpdatingCallback.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/behaviors/scale/Scale.js":
/*!********************************************************!*\
  !*** ./lib/rexui/lib/plugins/behaviors/scale/Scale.js ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_tween_TweenBase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/tween/TweenBase.js */ \"./lib/rexui/lib/plugins/utils/tween/TweenBase.js\");\n\n\nconst GetValue = Phaser.Utils.Objects.GetValue;\nconst GetAdvancedValue = Phaser.Utils.Objects.GetAdvancedValue;\n\nclass Scale extends _utils_tween_TweenBase_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]{\n    constructor(gameObject, config) {\n        super(gameObject);\n        this.gameObject = gameObject;\n\n        this.scaleStart = {};\n        this.scaleEnd = {};\n        this.resetFromJSON(config);\n    }\n\n    resetFromJSON(o) {\n        this.setMode(GetValue(o, 'mode', 0));\n        this.setScaleRange(\n            GetAdvancedValue(o, 'start', undefined),\n            GetAdvancedValue(o, 'end', 0)\n        );\n        this.setDelay(GetAdvancedValue(o, 'delay', 0));\n        this.setDuration(GetAdvancedValue(o, 'duration', 1000));\n        this.setEase(GetValue(o, 'ease', undefined));\n        return this;\n    }\n\n    toJSON() {\n        return {\n            mode: this.mode,\n            start: this.scaleStart,\n            end: this.scaleEnd,\n            delay: this.delay,\n            duration: this.duration\n        };\n    }\n\n    setMode(m) {\n        if (typeof (m) === 'string') {\n            m = MODE[m];\n        }\n        this.mode = m;\n        return this;\n    }\n\n    setScaleRange(start, end) {\n        if (typeof (start) === 'number') {\n            this.scaleStart.x = start;\n            this.scaleStart.y = start;\n        } else {\n            this.scaleStart.x = GetValue(start, 'x', this.gameObject.scaleX);\n            this.scaleStart.y = GetValue(start, 'y', this.gameObject.scaleY);\n        }\n        if (typeof (end) === 'number') {\n            this.scaleEnd.x = end;\n            this.scaleEnd.y = end;\n        } else {\n            this.scaleEnd.x = GetValue(end, 'x', this.scaleStart.x);\n            this.scaleEnd.y = GetValue(end, 'y', this.scaleStart.y);\n        }\n        return this;\n    }\n\n    setDelay(time) {\n        this.delay = time;\n        return this;\n    }\n\n    setDuration(time) {\n        this.duration = time;\n        return this;\n    }\n\n    setEase(ease) {\n        if (ease === undefined) {\n            ease = 'Linear';\n        }\n        this.ease = ease;\n        return this;\n    }\n\n    start() {\n        if (this.isRunning) {\n            return this;\n        }\n\n        this.gameObject.setScale(this.scaleStart.x, this.scaleStart.y);\n        super.start({\n            targets: this.gameObject,\n            scaleX: this.scaleEnd.x,\n            scaleY: this.scaleEnd.y,\n\n            duration: this.duration,\n            ease: this.ease,\n            yoyo: (this.mode == 2),\n            repeat: ((this.mode == 2) ? -1 : 0)\n        });\n        return this;\n    }\n\n    complete() {\n        super.complete();\n        if (this.mode === 1) {\n            this.gameObject.destroy();\n        }\n        return this;\n    }\n\n}\n\nconst MODE = {\n    stop: 0,\n    destroy: 1,\n    yoyo: 2\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Scale);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/behaviors/scale/Scale.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/behaviors/textedit/CreateInputText.js":
/*!*********************************************************************!*\
  !*** ./lib/rexui/lib/plugins/behaviors/textedit/CreateInputText.js ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _gameobjects_inputtext_InputText_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../gameobjects/inputtext/InputText.js */ \"./lib/rexui/lib/plugins/gameobjects/inputtext/InputText.js\");\n\n\nconst GetValue = Phaser.Utils.Objects.GetValue;\n\nvar CreateInputText = function (text, config) {\n    if (config === undefined) {\n        config = {};\n    }\n\n    var scene = text.scene;\n    var style = text.style;\n    var backgroundColor = GetValue(config, 'backgroundColor', style.backgroundColor);\n    if (backgroundColor === null) {\n        backgroundColor = 'transparent';\n    }\n\n    config.text = GetValue(config, 'text', text.text);\n    config.fontFamily = GetValue(config, 'fontFamily', style.fontFamily);\n    config.fontSize = GetValue(config, 'fontSize', style.fontSize);\n    config.color = GetValue(config, 'color', style.color);\n    config.backgroundColor = backgroundColor;\n    config.align = GetValue(config, 'align', GetHAlign(style));\n\n    // config.paddingLeft = 0;\n    // config.paddingRight = 0;\n    // config.paddingTop = 0;\n    // config.paddingBottom = 0;\n    // var valign = GetVAlign(style);\n    // switch (valign) {\n    //     case 'top':\n    //         break;\n    //     case 'bottom':\n    //         break;\n    // }\n\n    var inputText = new _gameobjects_inputtext_InputText_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](scene,\n        text.x, text.y,\n        GetValue(config, 'width', text.width),\n        GetValue(config, 'height', text.height),\n        config\n    );\n    inputText.setOrigin(text.originX, text.originY);\n    scene.add.existing(inputText);\n    return inputText;\n}\n\nvar GetHAlign = function (style) {\n    if (style.hasOwnProperty('align')) {\n        return style.align;\n    } else if (style.hasOwnProperty('halign')) {\n        return style.halign;\n    } else {\n        return 'left';\n    }\n}\n\nvar GetVAlign = function (style) {\n    if (style.hasOwnProperty('halign')) {\n        return style.halign;\n    } else {\n        return 'top';\n    }\n}\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (CreateInputText);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/behaviors/textedit/CreateInputText.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/behaviors/textedit/Edit.js":
/*!**********************************************************!*\
  !*** ./lib/rexui/lib/plugins/behaviors/textedit/Edit.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _TextEdit_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TextEdit.js */ \"./lib/rexui/lib/plugins/behaviors/textedit/TextEdit.js\");\n\n\nvar Edit = function (gameObject, config, onCloseCallback) {\n    if (!gameObject._edit) {\n        gameObject._edit = new _TextEdit_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](gameObject);\n    }\n    gameObject._edit.open(config, onCloseCallback);\n    return gameObject._edit;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Edit);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/behaviors/textedit/Edit.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/behaviors/textedit/TextEdit.js":
/*!**************************************************************!*\
  !*** ./lib/rexui/lib/plugins/behaviors/textedit/TextEdit.js ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_system_GetSceneObject_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/system/GetSceneObject.js */ \"./lib/rexui/lib/plugins/utils/system/GetSceneObject.js\");\n/* harmony import */ var _CreateInputText_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CreateInputText.js */ \"./lib/rexui/lib/plugins/behaviors/textedit/CreateInputText.js\");\n/* harmony import */ var _utils_object_IsFunction_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/object/IsFunction.js */ \"./lib/rexui/lib/plugins/utils/object/IsFunction.js\");\n\n\n\n\nconst GetValue = Phaser.Utils.Objects.GetValue;\n\nclass TextEdit {\n    constructor(gameObject) {\n        this.gameObject = gameObject;\n        this.scene = Object(_utils_system_GetSceneObject_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(gameObject);\n\n        this.inputText = undefined;\n        this.onClose = undefined;\n        this.delayCall = undefined;\n        this.boot();\n    }\n\n    boot() {\n        this.gameObject.on('destroy', this.destroy, this);\n\n        return this;\n    }\n\n    shutdown() {\n        this.close();\n        this.gameObject = undefined;\n        this.scene = undefined;\n        if (globLastOpenedEditor === this) {\n            globLastOpenedEditor = undefined;\n        }\n        return this;\n    }\n\n    destroy() {\n        this.shutdown();\n        return this;\n    }\n\n    open(config, onCloseCallback) {\n        if (globLastOpenedEditor !== undefined) {\n            globLastOpenedEditor.close();\n        }\n\n        globLastOpenedEditor = this;\n        if (Object(_utils_object_IsFunction_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(config)) {\n            onCloseCallback = config;\n            config = undefined;\n        }\n        if (onCloseCallback === undefined) {\n            onCloseCallback = GetValue(config, 'onClose', undefined);\n        }\n\n        var customOnTextChanged = GetValue(config, 'onTextChanged', undefined);\n\n        this.inputText = Object(_CreateInputText_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this.gameObject, config)\n            .on('textchange', function (inputText) {\n                var text = inputText.text;\n                if (customOnTextChanged) { // Custom on-text-changed callback\n                    customOnTextChanged(this.gameObject, text);\n                } else { // Default on-text-changed callback\n                    this.gameObject.text = text;\n                }\n            }, this)\n            .setFocus();\n        this.gameObject.setVisible(false); // Set parent text invisible\n\n        // Attach close event\n        this.onClose = onCloseCallback;\n        this.scene.input.keyboard.once('keydown-ENTER', this.close, this);\n        // Attach pointerdown (outside of input-text) event, at next tick\n        this.delayCall = this.scene.time.delayedCall(0, function () {\n            this.scene.input.once('pointerdown', this.close, this);\n        }, [], this);\n        return this;\n    }\n\n    close() {\n        globLastOpenedEditor = undefined;\n        if (!this.inputText) {\n            return this;\n        }\n\n        this.gameObject.setVisible(true); // Set parent text visible\n\n        this.inputText.destroy();\n        this.inputText = undefined;\n        if (this.delayCall) {\n            this.delayCall.remove();\n            this.delayCall = undefined;\n        }\n\n        // Remove close event\n        this.scene.input.keyboard.off('keydown-ENTER', this.close, this);\n        this.scene.input.off('pointerdown', this.close, this);\n\n        if (this.onClose) {\n            this.onClose(this.gameObject);\n        }\n        return this;\n    }\n\n    get isOpened() {\n        return (this.inputText !== undefined);\n    }\n\n    get text() {\n        return (this.isOpened) ? this.inputText.text : this.gameObject.text;\n    }\n}\n\nvar globLastOpenedEditor = undefined;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (TextEdit);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/behaviors/textedit/TextEdit.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/button-plugin.js":
/*!************************************************!*\
  !*** ./lib/rexui/lib/plugins/button-plugin.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _button_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./button.js */ \"./lib/rexui/lib/plugins/button.js\");\n\n\nclass ButtonPlugin extends Phaser.Plugins.BasePlugin {\n\n    constructor(pluginManager) {\n        super(pluginManager);\n    }\n\n    start() {\n        var eventEmitter = this.game.events;\n        eventEmitter.on('destroy', this.destroy, this);\n    }\n\n    add(gameObject, config) {\n        return new _button_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](gameObject, config);\n    }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ButtonPlugin);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/button-plugin.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/button.js":
/*!*****************************************!*\
  !*** ./lib/rexui/lib/plugins/button.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _input_button_Button_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./input/button/Button.js */ \"./lib/rexui/lib/plugins/input/button/Button.js\");\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_input_button_Button_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/button.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/dragspeed.js":
/*!********************************************!*\
  !*** ./lib/rexui/lib/plugins/dragspeed.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _input_dragspeed_DragSpeed_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./input/dragspeed/DragSpeed.js */ \"./lib/rexui/lib/plugins/input/dragspeed/DragSpeed.js\");\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_input_dragspeed_DragSpeed_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/dragspeed.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/fade-in.js":
/*!******************************************!*\
  !*** ./lib/rexui/lib/plugins/fade-in.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _fade_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./fade.js */ \"./lib/rexui/lib/plugins/fade.js\");\n\n\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\n\nvar FadeIn = function (gameObject, duration, alpha, fade) {\n    var startAlpha, endAlpha;\n    if (IsPlainObject(alpha)) {\n        startAlpha = alpha.start;\n        endAlpha = alpha.end;\n    } else {\n        endAlpha = alpha;\n    }\n    if (startAlpha === undefined) {\n        startAlpha = 0\n    }\n    if (endAlpha === undefined) {\n        endAlpha = gameObject.alpha;\n    }\n    defaultConfig.mode = 0;\n    defaultConfig.start = startAlpha;\n    defaultConfig.end = endAlpha;\n    defaultConfig.duration = duration;\n\n    if (fade === undefined) {\n        fade = new _fade_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](gameObject, defaultConfig);\n    } else {\n        fade.resetFromJSON(defaultConfig);\n    }\n    fade.restart();\n\n    return fade;\n};\n\nvar defaultConfig = {}; // reuse this config\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (FadeIn);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/fade-in.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/fade-out-destroy.js":
/*!***************************************************!*\
  !*** ./lib/rexui/lib/plugins/fade-out-destroy.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _fade_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./fade.js */ \"./lib/rexui/lib/plugins/fade.js\");\n\n\nvar FadeOutDestroy = function (gameObject, duration, destroyMode, fade) {\n    if (destroyMode instanceof _fade_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]) {\n        fade = destroyMode;\n        destroyMode = undefined;\n    }\n\n    if (destroyMode === undefined) {\n        destroyMode = true;\n    }\n\n    defaultConfig.mode = (destroyMode) ? 1 : 0;\n    defaultConfig.end = 0;\n    defaultConfig.duration = duration;\n\n    if (fade === undefined) {\n        fade = new _fade_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](gameObject, defaultConfig);\n    } else {\n        fade.resetFromJSON(defaultConfig);\n    }\n    fade.restart();\n\n    return fade;\n};\n\nvar defaultConfig = {}; // reuse this config\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (FadeOutDestroy);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/fade-out-destroy.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/fade.js":
/*!***************************************!*\
  !*** ./lib/rexui/lib/plugins/fade.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _behaviors_fade_Fade_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./behaviors/fade/Fade.js */ \"./lib/rexui/lib/plugins/behaviors/fade/Fade.js\");\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_behaviors_fade_Fade_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/fade.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/flip.js":
/*!***************************************!*\
  !*** ./lib/rexui/lib/plugins/flip.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _behaviors_flip_Flip_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./behaviors/flip/Flip.js */ \"./lib/rexui/lib/plugins/behaviors/flip/Flip.js\");\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_behaviors_flip_Flip_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/flip.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/fsm.js":
/*!**************************************!*\
  !*** ./lib/rexui/lib/plugins/fsm.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _logic_fsm_FSM_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./logic/fsm/FSM.js */ \"./lib/rexui/lib/plugins/logic/fsm/FSM.js\");\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_logic_fsm_FSM_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/fsm.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/canvas/Canvas.js":
/*!************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/canvas/Canvas.js ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _render_Render_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./render/Render.js */ \"./lib/rexui/lib/plugins/gameobjects/canvas/render/Render.js\");\n/* harmony import */ var _CanvasMethods_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CanvasMethods.js */ \"./lib/rexui/lib/plugins/gameobjects/canvas/CanvasMethods.js\");\n/* harmony import */ var _TextureMethods_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TextureMethods.js */ \"./lib/rexui/lib/plugins/gameobjects/canvas/TextureMethods.js\");\n\n\n\n\nconst CanvasPool = Phaser.Display.Canvas.CanvasPool;\nconst GameObject = Phaser.GameObjects.GameObject;\n\nclass Canvas extends GameObject {\n    constructor(scene, x, y, width, height) {\n        if (x === undefined) {\n            x = 0;\n        }\n        if (y === undefined) {\n            y = 0;\n        }\n        if (width === undefined) {\n            width = 1;\n        }\n        if (height === undefined) {\n            height = 1;\n        }\n\n        super(scene, 'rexCanvas');\n\n        this.renderer = scene.sys.game.renderer;\n\n        this.resolution = scene.sys.game.config.resolution;\n        this.canvas = CanvasPool.create(this, this.resolution * width, this.resolution * height);\n        this.context = this.canvas.getContext('2d');\n        this.dirty = false;\n\n        this.setPosition(x, y);\n        this.setSize(width, height);\n        this.setOrigin(0.5, 0.5);\n        this.initPipeline();\n\n        this._crop = this.resetCropObject();\n\n        //  Create a Texture for this Text object\n        this.texture = scene.sys.textures.addCanvas(null, this.canvas, true);\n\n        //  Get the frame\n        this.frame = this.texture.get();\n\n        //  Set the resolution\n        this.frame.source.resolution = this.resolution;\n\n        if (this.renderer && this.renderer.gl) {\n            //  Clear the default 1x1 glTexture, as we override it later\n            this.renderer.deleteTexture(this.frame.source.glTexture);\n            this.frame.source.glTexture = null;\n        }\n\n        this.dirty = true;\n\n        scene.sys.game.events.on('contextrestored', function () {\n            this.dirty = true;\n        }, this);\n    }\n\n    getCanvas(readOnly) {\n        if (!readOnly) {\n            this.dirty = true;\n        }\n        return this.canvas;\n    }\n\n    needRedraw() {\n        this.dirty = true;\n        return this;\n    }\n\n    preDestroy() {\n        CanvasPool.remove(this.canvas);\n    }\n\n    resize(width, height) {\n        if ((this.width === width) && (this.height === height)) {\n            return this;\n        }\n\n        this\n            .setSize(width, height)\n            .updateDisplayOrigin();\n\n        width *= this.resolution;\n        height *= this.resolution;\n        width = Math.max(Math.ceil(width), 1);\n        height = Math.max(Math.ceil(height), 1);\n        this.canvas.width = width;\n        this.canvas.height = height;\n\n        this.dirty = true;\n        return this;\n    }\n}\n\nconst Components = Phaser.GameObjects.Components;\nPhaser.Class.mixin(Canvas,\n    [\n        Components.Alpha,\n        Components.BlendMode,\n        Components.ComputedSize,\n        Components.Crop,\n        Components.Depth,\n        Components.Flip,\n        Components.GetBounds,\n        Components.Mask,\n        Components.Origin,\n        Components.Pipeline,\n        Components.ScrollFactor,\n        Components.Tint,\n        Components.Transform,\n        Components.Visible,\n        _render_Render_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n        _CanvasMethods_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n        _TextureMethods_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n    ]\n);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Canvas);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/canvas/Canvas.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/canvas/CanvasMethods.js":
/*!*******************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/canvas/CanvasMethods.js ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nconst Color = Phaser.Display.Color;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    clear() {\n        this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\n        this.dirty = true;\n        return this;\n    },\n\n    fill(color) {\n        this.context.fillStyle = color;\n        this.context.fillRect(0, 0, this.canvas.width, this.canvas.height);\n        this.dirty = true;\n        return this;\n    },\n\n    getPixel(x, y, out) {\n        if (out === undefined) {\n            out = new Color();\n        }\n        var rgb = this.context.getImageData(x, y, 1, 1);\n        out.setTo(rgb.data[0], rgb.data[1], rgb.data[2], rgb.data[3])\n        return out;\n    },\n\n    setPixel(x, y, r, g, b, a) {\n        if (typeof (r) !== 'number') {\n            var color = r;\n            r = color.red;\n            g = color.green;\n            b = color.blue;\n            a = color.alpha;\n        }\n\n        if (a === undefined) {\n            a = ((r !== 0) || (g !== 0) || (b !== 0)) ? 255 : 0;\n        }\n\n        var imgData = this.context.createImageData(1, 1);\n        imgData.data[0] = r;\n        imgData.data[1] = g;\n        imgData.data[2] = b;\n        imgData.data[3] = a;\n        this.context.putImageData(imgData, x, y);\n        this.dirty = true;\n        return this;\n    }\n});\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/canvas/CanvasMethods.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/canvas/TextureMethods.js":
/*!********************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/canvas/TextureMethods.js ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    updateTexture(callback, scope) {\n        if (callback) {\n            if (scope) {\n                callback.call(scope, this.canvas, this.context);\n            } else {\n                callback(this.canvas, this.context);\n            }\n        }\n\n        if ((this.canvas.width !== this.frame.width) || (this.canvas.height !== this.frame.height)) {\n            this.frame.setSize(this.canvas.width, this.canvas.height);\n        }\n        if (this.renderer.gl) {\n            this.frame.source.glTexture = this.renderer.canvasToTexture(this.canvas, this.frame.source.glTexture, true);\n            this.frame.glTexture = this.frame.source.glTexture;\n        }\n        this.dirty = false;\n\n        var input = this.input;\n        if (input && !input.customHitArea) {\n            input.hitArea.width = this.width;\n            input.hitArea.height = this.height;\n        }\n        return this;\n    },\n\n    generateTexture(key, x, y, width, height) {\n        var srcCanvas = this.canvas;\n        var sys = this.scene.sys;\n        var renderer = sys.game.renderer;\n        var texture;\n\n        if (x === undefined) {\n            x = 0;\n        }\n\n        if (y === undefined) {\n            y = 0;\n        }\n\n        if (width === undefined) {\n            width = srcCanvas.width;\n        } else {\n            width *= this.resolution;\n        }\n\n        if (height === undefined) {\n            height = srcCanvas.height;\n        } else {\n            height *= this.resolution;\n        }\n\n\n        if (sys.textures.exists(key)) {\n            texture = sys.textures.get(key);\n        } else {\n            texture = sys.textures.createCanvas(key, width, height);\n        }\n\n        var destCanvas = texture.getSourceImage();\n        if (destCanvas.width !== width) {\n            destCanvas.width = width;\n        }\n        if (destCanvas.height !== height) {\n            destCanvas.height = height;\n        }\n\n        var destCtx = destCanvas.getContext('2d');\n        destCtx.clearRect(0, 0, width, height);\n        destCtx.drawImage(srcCanvas, x, y, width, height);\n        if (renderer.gl && texture) {\n            renderer.canvasToTexture(destCanvas, texture.source[0].glTexture, true, 0);\n        }\n\n        return this;\n    },\n\n    loadTexture(key, frame) {\n        var textureFrame = this.scene.textures.getFrame(key, frame);\n        if (!textureFrame) {\n            return this;\n        }\n\n        if ((this.width !== textureFrame.cutWidth) || (this.height !== textureFrame.cutHeight)) {\n            this.resize(textureFrame.cutWidth, textureFrame.cutHeight);\n        } else {\n            this.context.clearRect(0, 0, textureFrame.cutWidth, textureFrame.cutHeight);\n        }\n        this.context.drawImage(textureFrame.source.image,\n            textureFrame.cutX, textureFrame.cutY, textureFrame.cutWidth, textureFrame.cutHeight,\n            0, 0, this.canvas.width, this.canvas.height);\n        this.dirty = true;\n        return this;\n    },\n\n});\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/canvas/TextureMethods.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/canvas/render/CanvasRenderer.js":
/*!***************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/canvas/render/CanvasRenderer.js ***!
  \***************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// copy from Phaser.GameObjects.Text\n\nvar CanvasRenderer = function (renderer, src, interpolationPercentage, camera, parentMatrix) {\n    if ((src.width === 0) || (src.height === 0)) {\n        return;\n    }\n    renderer.batchSprite(src, src.frame, camera, parentMatrix);\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (CanvasRenderer);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/canvas/render/CanvasRenderer.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/canvas/render/Render.js":
/*!*******************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/canvas/render/Render.js ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _WebGLRenderer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./WebGLRenderer.js */ \"./lib/rexui/lib/plugins/gameobjects/canvas/render/WebGLRenderer.js\");\n/* harmony import */ var _CanvasRenderer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CanvasRenderer.js */ \"./lib/rexui/lib/plugins/gameobjects/canvas/render/CanvasRenderer.js\");\n/* harmony import */ var _utils_object_NOOP_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../utils/object/NOOP.js */ \"./lib/rexui/lib/plugins/utils/object/NOOP.js\");\n\n\n\n\nvar renderWebGL = _utils_object_NOOP_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"];\nvar renderCanvas = _utils_object_NOOP_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"];\n\nif (true) {\n    renderWebGL = _WebGLRenderer_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n}\n\nif (true) {\n    renderCanvas = _CanvasRenderer_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"];\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    renderWebGL: renderWebGL,\n    renderCanvas: renderCanvas\n\n});\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/canvas/render/Render.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/canvas/render/WebGLRenderer.js":
/*!**************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/canvas/render/WebGLRenderer.js ***!
  \**************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// copy from Phaser.GameObjects.Text\n\nconst Utils = Phaser.Renderer.WebGL.Utils;\n\nvar WebGLRenderer = function (renderer, src, interpolationPercentage, camera, parentMatrix) {\n    if (src.dirty) {\n        src.updateTexture();\n        src.dirty = false;\n    }\n\n    if ((src.width === 0) || (src.height === 0)) {\n        return;\n    }\n\n    var frame = src.frame;\n    var width = frame.width;\n    var height = frame.height;\n    var getTint = Utils.getTintAppendFloatAlpha;\n\n    this.pipeline.batchTexture(\n        src,\n        frame.glTexture,\n        width, height,\n        src.x, src.y,\n        width / src.resolution, height / src.resolution,\n        src.scaleX, src.scaleY,\n        src.rotation,\n        src.flipX, src.flipY,\n        src.scrollFactorX, src.scrollFactorY,\n        src.displayOriginX, src.displayOriginY,\n        0, 0, width, height,\n        getTint(src._tintTL, camera.alpha * src._alphaTL),\n        getTint(src._tintTR, camera.alpha * src._alphaTR),\n        getTint(src._tintBL, camera.alpha * src._alphaBL),\n        getTint(src._tintBR, camera.alpha * src._alphaBR),\n        (src._isTinted && src.tintFill),\n        0, 0,\n        camera,\n        parentMatrix\n    );\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (WebGLRenderer);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/canvas/render/WebGLRenderer.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/circlemaskimage/ApplyCircleMask.js":
/*!******************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/circlemaskimage/ApplyCircleMask.js ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar CircleMask = function (canvas, maskType) {\n    if (canvas.width === canvas.height) {\n        maskType = 0;\n    }\n\n    var x = Math.floor(canvas.width / 2);\n    var y = Math.floor(canvas.height / 2);\n\n    var ctx = canvas.getContext('2d');\n    ctx.save();\n    ctx.globalCompositeOperation = 'destination-in';\n    ctx.beginPath();\n    if (maskType === 0) {\n        ctx.arc(x, y, Math.min(x, y), 0, 2 * Math.PI);\n    } else {\n        ctx.ellipse(x, y, x, y, 0, 0, 2 * Math.PI);\n    }\n    ctx.fill();\n    ctx.restore();\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (CircleMask);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/circlemaskimage/ApplyCircleMask.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/circlemaskimage/CircleMaskImage.js":
/*!******************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/circlemaskimage/CircleMaskImage.js ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_Canvas_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../canvas/Canvas.js */ \"./lib/rexui/lib/plugins/gameobjects/canvas/Canvas.js\");\n/* harmony import */ var _ApplyCircleMask_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ApplyCircleMask.js */ \"./lib/rexui/lib/plugins/gameobjects/circlemaskimage/ApplyCircleMask.js\");\n\n\n\nconst GetValue = Phaser.Utils.Objects.GetValue;\n\nclass CircleMaskImage extends _canvas_Canvas_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(scene, x, y, key, frame, config) {\n        super(scene, x, y);\n\n        this.type = 'rexCircleMaskImage';\n        var maskType = GetValue(config, 'maskType', 0);\n        this.setTexture(key, frame, maskType);\n    }\n\n    setTexture(key, frame, maskType) {\n        if (maskType === undefined) {\n            maskType = 0;\n        } else if (typeof (maskType) === 'string') {\n            maskType = MASKTYPE[maskType];\n        }\n\n        this._textureKey = key;\n        this._frameName = frame;\n        this.loadTexture(key, frame);\n\n        if (maskType !== null) {\n            Object(_ApplyCircleMask_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this.canvas, maskType);\n        }\n        this.dirty = true;\n        return this;\n    }\n}\n\nconst MASKTYPE = {\n    circle: 0,\n    ellipse: 1,\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (CircleMaskImage);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/circlemaskimage/CircleMaskImage.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/containerlite/Active.js":
/*!*******************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/containerlite/Active.js ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    updateChildActive(child) {\n        child.active = this.active && this.getLocalState(child).active;\n        return this;\n    },\n\n    syncActive() {\n        if (this.children && this.syncChildrenEnable) {\n            this.children.getChildren().forEach(this.updateChildActive, this);\n        }\n        return this;\n    },\n    \n    resetChildActiveState(gameObject) {\n        this.getLocalState(gameObject).active = gameObject.active;\n        return this;\n    },\n\n    setChildActive(gameObject, active) {\n        gameObject.active = active;\n        this.resetChildActiveState(gameObject);\n        return this;\n    },\n\n    setChildLocalActive(gameObject, active) {\n        if (active === undefined) {\n            active = true;\n        }\n        this.getLocalState(gameObject).active = active;\n        this.updateChildActive(gameObject);\n        return this;\n    },\n});\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/containerlite/Active.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/containerlite/AddChild.js":
/*!*********************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/containerlite/AddChild.js ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    add(gameObject) {\n        if (Array.isArray(gameObject)) {\n            this.addMultiple(gameObject);\n        } else {\n            this._add(gameObject);\n        }\n        return this;\n    },\n\n    addMultiple(gameObjects) {\n        gameObjects.forEach(this._add, this);\n        return this;\n    },\n\n    _add(gameObject) {\n        this.children.add(gameObject);\n\n        this\n            .resetChildState(gameObject)           // Reset local state of child\n            .updateChildVisible(gameObject)        // Apply parent's visible to child\n            .updateChildActive(gameObject)         // Apply parent's active to child\n            .updateChildScrollFactor(gameObject)   // Apply parent's scroll factor to child\n            .updateChildMask(gameObject);          // Apply parent's mask to child\n        return this;\n    },\n});\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/containerlite/AddChild.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/containerlite/Alpha.js":
/*!******************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/containerlite/Alpha.js ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Scale_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Scale.js */ \"./lib/rexui/lib/plugins/gameobjects/containerlite/Scale.js\");\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    updateChildAlpha(child) {\n        child.alpha = this.alpha * this.getLocalState(child).alpha;\n        return this;\n    },\n\n    syncAlpha() {\n        if (this.children && this.syncChildrenEnable) {\n            this.children.getChildren().forEach(this.updateChildAlpha, this);\n        }\n        return this;\n    },\n\n    resetChildAlphaState(gameObject) {\n        this.getLocalState(gameObject).alpha = Object(_Scale_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(gameObject.alpha, this.alpha);\n        return this;\n    },\n    \n    setChildAlpha(gameObject, alpha) {\n        gameObject.alpha = alpha;\n        this.resetChildAlphaState(gameObject);\n        return this._add;\n    },\n    \n    setChildLocalAlpha(gameObject, alpha) {\n        this.getLocalState(gameObject).alpha = alpha;\n        this.updateChildAlpha(gameObject);\n        return this;\n    },\n});\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/containerlite/Alpha.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/containerlite/ChildState.js":
/*!***********************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/containerlite/ChildState.js ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    getLocalState(gameObject) {\n        if (!gameObject.hasOwnProperty('rexContainer')) {\n            gameObject.rexContainer = {};\n        }\n        return gameObject.rexContainer;\n    },\n\n    resetChildState(gameObject) {\n        this\n            .resetChildPositionState(gameObject)\n            .resetChildVisibleState(gameObject)\n            .resetChildAlphaState(gameObject)\n            .resetChildActiveState(gameObject);\n        return this;\n    },\n\n    resetChildrenState(gameObjects) {\n        for (var i = 0, cnt = gameObjects.length; i < cnt; i++) {\n            this.resetChildState(gameObjects[i]);\n        }\n        return this;\n    },\n\n    syncProperties() {\n        this\n            .syncPosition()\n            .syncVisible()\n            .syncAlpha()\n            .syncActive()\n            .syncScrollFactor()\n            .syncMask();\n        return this;\n    }\n});\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/containerlite/ChildState.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/containerlite/Children.js":
/*!*********************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/containerlite/Children.js ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nconst ArrayUtils = Phaser.Utils.Array;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    getChildren() {\n        return this.children.getChildren();\n    },\n\n    getAllChildren(out) {\n        if (out === undefined) {\n            out = [];\n        }\n        var myCildren = this.children.getChildren(),\n            myChild;\n        for (var i = 0, cnt = myCildren.length; i < cnt; i++) {\n            myChild = myCildren[i];\n            out.push(myChild);\n\n            if (myChild.hasOwnProperty('isRexContainerLite')) {\n                out.push(...myChild.getAllChildren());\n            }\n        }\n\n        return out;\n    },\n\n    contains(gameObject) {\n        if (this.children.contains(gameObject)) {\n            return true;\n        }\n\n        var myCildren = this.children.getChildren(),\n            myChild;\n        for (var i = 0, cnt = myCildren.length; i < cnt; i++) {\n            myChild = myCildren[i];\n\n            if (myChild.isRexContainerLite) {\n                if (myChild.contains(gameObject)) {\n                    return true;\n                }\n            }\n        }\n\n        return false;\n    },\n\n    getByName(name) {\n        return ArrayUtils.GetFirst(this.list, 'name', name);\n    },\n\n    getRandom(startIndex, length) {\n        return ArrayUtils.GetRandom(this.list, startIndex, length);\n    },\n\n    getFirst(property, value, startIndex, endIndex) {\n        return ArrayUtils.GetFirstElement(this.list, property, value, startIndex, endIndex);\n    },\n\n    getAll(property, value, startIndex, endIndex) {\n        return ArrayUtils.GetAll(this.list, property, value, startIndex, endIndex);\n    },\n\n    count(property, value, startIndex, endIndex) {\n        return ArrayUtils.CountAllMatching(this.list, property, value, startIndex, endIndex);\n    },\n\n    swap(child1, child2) {\n        ArrayUtils.Swap(this.list, child1, child2);\n        return this;\n    },\n\n    moveTo(child, index) {\n        ArrayUtils.MoveTo(this.list, child, index);\n        return this;\n    },\n\n    setAll(property, value, startIndex, endIndex) {\n        ArrayUtils.SetAll(this.list, property, value, startIndex, endIndex);\n        return this;\n    },\n});\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/containerlite/Children.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/containerlite/ContainerLite.js":
/*!**************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/containerlite/ContainerLite.js ***!
  \**************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _AddChild_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AddChild.js */ \"./lib/rexui/lib/plugins/gameobjects/containerlite/AddChild.js\");\n/* harmony import */ var _RemoveChild_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RemoveChild.js */ \"./lib/rexui/lib/plugins/gameobjects/containerlite/RemoveChild.js\");\n/* harmony import */ var _ChildState_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ChildState.js */ \"./lib/rexui/lib/plugins/gameobjects/containerlite/ChildState.js\");\n/* harmony import */ var _Transform_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Transform.js */ \"./lib/rexui/lib/plugins/gameobjects/containerlite/Transform.js\");\n/* harmony import */ var _Position_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Position.js */ \"./lib/rexui/lib/plugins/gameobjects/containerlite/Position.js\");\n/* harmony import */ var _Visible_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Visible.js */ \"./lib/rexui/lib/plugins/gameobjects/containerlite/Visible.js\");\n/* harmony import */ var _Alpha_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Alpha.js */ \"./lib/rexui/lib/plugins/gameobjects/containerlite/Alpha.js\");\n/* harmony import */ var _Active_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Active.js */ \"./lib/rexui/lib/plugins/gameobjects/containerlite/Active.js\");\n/* harmony import */ var _ScrollFactor_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ScrollFactor.js */ \"./lib/rexui/lib/plugins/gameobjects/containerlite/ScrollFactor.js\");\n/* harmony import */ var _Mask_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Mask.js */ \"./lib/rexui/lib/plugins/gameobjects/containerlite/Mask.js\");\n/* harmony import */ var _Depth_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Depth.js */ \"./lib/rexui/lib/plugins/gameobjects/containerlite/Depth.js\");\n/* harmony import */ var _Children_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Children.js */ \"./lib/rexui/lib/plugins/gameobjects/containerlite/Children.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst Zone = Phaser.GameObjects.Zone;\nconst Components = Phaser.GameObjects.Components;\n\nclass ContainerLite extends Zone {\n    constructor(scene, x, y, width, height, children) {\n        if (Array.isArray(width)) {\n            children = width;\n            width = undefined;\n        }\n        if (width === undefined) {\n            width = 1;\n        }\n        if (height === undefined) {\n            height = 1;\n        }\n        super(scene, x, y, width, height);\n        this.children = scene.add.group();\n        this.type = 'rexContainerLite';\n        this.isRexContainerLite = true;\n        this.syncChildrenEnable = true;\n\n        this._flipX = false;\n        this._flipY = false;\n        this._alpha = 1;\n        this._active = true;\n        this._mask = null;\n        this._scrollFactorX = 1;\n        this._scrollFactorY = 1;\n\n        if (children) {\n            this.add(children);\n        }\n    }\n\n    destroy(fromScene) {\n        //  This Game Object has already been destroyed\n        if (!this.scene) {\n            return;\n        }\n\n        this.children.destroy(!fromScene);\n        this.children = undefined;\n        super.destroy(fromScene);\n    }\n\n    resize(width, height) {\n        this.setSize(width, height);\n        return this;\n    }\n\n    get x() {\n        return this._x;\n    }\n\n    set x(value) {\n        if (this._x === value) {\n            return;\n        }\n        this._x = value;\n\n        this.syncPosition();\n    }\n\n    get y() {\n        return this._y;\n    }\n\n    set y(value) {\n        if (this._y === value) {\n            return;\n        }\n        this._y = value;\n\n        this.syncPosition();\n    }\n\n    // Override\n    get rotation() {\n        return super.rotation;\n    }\n\n    set rotation(value) {\n        if (this.rotation === value) {\n            return;\n        }\n        super.rotation = value;\n\n        this.syncPosition();\n    }\n\n    // Override\n    get scaleX() {\n        return super.scaleX;\n    }\n\n    set scaleX(value) {\n        if (this.scaleX === value) {\n            return;\n        }\n        super.scaleX = value;\n\n        this.syncPosition();\n    }\n\n    // Override\n    get scaleY() {\n        return super.scaleY;\n    }\n\n    set scaleY(value) {\n        if (this.scaleY === value) {\n            return;\n        }\n        super.scaleY = value;\n\n        this.syncPosition();\n    }\n\n    // Override\n    get flipX() {\n        return this._flipX;\n    }\n\n    set flipX(value) {\n        if (this._flipX === value) {\n            return;\n        }\n        this._flipX = value;\n\n        this.syncPosition();\n    }\n\n    // Override\n    get flipY() {\n        return this._flipY;\n    }\n\n    set flipY(value) {\n        if (this._flipY === value) {\n            return;\n        }\n        this._flipY = value;\n\n        this.syncPosition();\n    }\n\n    // Override\n    get visible() {\n        return super.visible;\n    }\n\n    set visible(value) {\n        if (this.visible === value) {\n            return;\n        }\n        super.visible = value;\n\n        this.syncVisible();\n    }\n\n    // Override\n    get alpha() {\n        return this._alpha;\n    }\n\n    set alpha(value) {\n        if (this._alpha === value) {\n            return;\n        }\n        this._alpha = value;\n\n        this.syncAlpha();\n    }\n\n    // Override\n    get active() {\n        return this._active;\n    }\n\n    set active(value) {\n        if (this._active === value) {\n            return;\n        }\n        this._active = value;\n\n        this.syncActive();\n    }\n\n    // Override\n    get mask() {\n        return this._mask;\n    }\n    set mask(mask) {\n        if (this._mask === mask) {\n            return;\n        }\n        this._mask = mask;\n\n        this.syncMask();\n    }\n\n    // Override\n    get scrollFactorX() {\n        return this._scrollFactorX;\n    }\n\n    set scrollFactorX(value) {\n        if (this._scrollFactorX === value) {\n            return;\n        }\n\n        this._scrollFactorX = value;\n        this.syncScrollFactor();\n    }\n    get scrollFactorY() {\n        return this._scrollFactorY;\n    }\n\n    set scrollFactorY(value) {\n        if (this._scrollFactorY === value) {\n            return;\n        }\n\n        this._scrollFactorY = value;\n        this.syncScrollFactor();\n    }\n\n    // Compatiable with container plugin\n    get list() {\n        return this.children.getChildren();\n    }\n}\n\nObject.assign(\n    ContainerLite.prototype,\n    _AddChild_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    _RemoveChild_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n    _ChildState_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n    _Transform_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n    _Position_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n    _Visible_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\n    _Alpha_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\n    _ScrollFactor_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"],\n    _Active_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"],\n    _Mask_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"],\n    _Depth_js__WEBPACK_IMPORTED_MODULE_10__[\"default\"],\n    _Children_js__WEBPACK_IMPORTED_MODULE_11__[\"default\"],\n\n    Components.Alpha,\n    Components.Flip\n);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ContainerLite);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/containerlite/ContainerLite.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/containerlite/Depth.js":
/*!******************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/containerlite/Depth.js ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    setDepth(value) {\n        this.depth = value;\n        if (this.children) {\n            var children = this.getAllChildren();\n            for (var i = 0, cnt = children.length; i < cnt; i++) {\n                children[i].depth = value;\n            }\n        }\n        return this;\n    },\n\n    swapDepth(containerB) {\n        var depthA = this.depth;\n        var depthB = containerB.depth;\n        this.setDepth(depthB);\n        containerB.setDepth(depthA);\n        return this;\n    },\n\n    incDepth(inc) {\n        this.depth += inc;\n        if (this.children) {\n            var children = this.getAllChildren();\n            for (var i = 0, cnt = children.length; i < cnt; i++) {\n                children[i].depth += inc;\n            }\n        }\n        return this;\n    },\n});\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/containerlite/Depth.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/containerlite/Mask.js":
/*!*****************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/containerlite/Mask.js ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    updateChildMask(child) {\n        // Don't propagate null mask to clear children's mask\n        if (this.mask == null) {\n            return this;\n        }\n\n        var maskGameObject = (this.mask.hasOwnProperty('geometryMask')) ? this.mask.geometryMask : this.mask.bitmapMask;\n        if (maskGameObject !== child) {\n            child.mask = this.mask;\n        }\n        return this;\n    },\n\n    syncMask() {\n        if (this.children && this.syncChildrenEnable) {\n            this.children.getChildren().forEach(this.updateChildMask, this);\n        }\n        return this;\n    },\n\n    setMask(mask) {\n        this.mask = mask;\n        return this;\n    },\n\n    clearMask(destroyMask) {\n        if (destroyMask === undefined) {\n            destroyMask = false;\n        }\n\n        if (destroyMask && this.mask) {\n            this.mask.destroy();\n        }\n        this.mask = null;\n        return this;\n    },\n});\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/containerlite/Mask.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/containerlite/MaskChildren.js":
/*!*************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/containerlite/MaskChildren.js ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_mask_MaskToGameObject_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/mask/MaskToGameObject.js */ \"./lib/rexui/lib/plugins/utils/mask/MaskToGameObject.js\");\n\n\nconst Intersects = Phaser.Geom.Intersects.RectangleToRectangle;\nconst Overlaps = Phaser.Geom.Rectangle.Overlaps;\n\nvar MaskChildren = function (parent, mask, children) {\n    if (!mask) {\n        return;\n    }\n\n    if (children === undefined) {\n        children = parent.getAllChildren();\n    }\n\n    var parentBounds = parent.getBounds();\n    var maskGameObject = Object(_utils_mask_MaskToGameObject_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(mask);\n\n    var child, childBounds, visiblePointsNumber;\n    for (var i = 0, cnt = children.length; i < cnt; i++) {\n        child = children[i];\n        if (child.hasOwnProperty('isRexContainerLite')) {\n            continue;\n        }\n        if (child === maskGameObject) {\n            continue;\n        }\n\n        if (child.getBounds) {\n            childBounds = child.getBounds(childBounds);\n            visiblePointsNumber = containsPoints(parentBounds, childBounds);\n            switch (visiblePointsNumber) {\n                case 4: // 4 points are all inside visible window, set visible\n                    showAll(child, mask);\n                    break;\n                case 0: // No point is inside visible window\n                    // Parent intersects with child, or parent is inside child, set visible, and apply mask\n                    if (Intersects(parentBounds, childBounds) || Overlaps(parentBounds, childBounds)) {\n                        showSome(child, mask);\n                    } else { // Set invisible\n                        showNone(child, mask);\n                    }\n                    break;\n                default: // Part of points are inside visible window, set visible, and apply mask\n                    showSome(child, mask);\n                    break;\n            }\n        } else {\n            showSome(child, mask);\n        }\n\n        parent\n            .resetChildVisibleState(child) // Reset local visible via child's visible\n            .updateChildVisible(child);  // Set child's visible via parent and local visible\n    }\n}\n\nvar containsPoints = function (rectA, rectB) {\n    var result = 0;\n    var top = rectB.top,\n        bottom = rectB.bottom,\n        left = rectB.left,\n        right = rectB.right;\n    result += rectA.contains(left, top) ? 1 : 0;\n    result += rectA.contains(left, bottom) ? 1 : 0;\n    result += rectA.contains(right, top) ? 1 : 0;\n    result += rectA.contains(right, bottom) ? 1 : 0;\n    return result;\n};\n\nvar showAll = function (child, mask) {\n    child.setVisible(true);\n    if (child.clearMask) {\n        child.clearMask();\n    }\n}\n\nvar showSome = function (child, mask) {\n    child.setVisible(true);\n    if (child.setMask) {\n        child.setMask(mask);\n    }\n}\n\nvar showNone = function (child, mask) {\n    child.setVisible(false);\n    if (child.clearMask) {\n        child.clearMask();\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (MaskChildren);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/containerlite/MaskChildren.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/containerlite/Position.js":
/*!*********************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/containerlite/Position.js ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Scale_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Scale.js */ \"./lib/rexui/lib/plugins/gameobjects/containerlite/Scale.js\");\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    updateChildPosition(child) {\n        if (child.isRexContainerLite) {\n            child.syncChildrenEnable = false;\n        }\n        var state = this.getLocalState(child);\n        child.x = state.x;\n        child.y = state.y;\n        this.localToWorld(child);\n\n        child.scaleX = state.scaleX * this.scaleX;\n        child.scaleY = state.scaleY * this.scaleY;\n\n        if (child.flipX !== undefined) {\n            child.flipX = (!this.flipX) ? state.flipX : !state.flipX;\n            child.flipY = (!this.flipY) ? state.flipY : !state.flipY;\n        }\n\n        child.rotation = state.rotation + this.rotation;\n\n        if (child.isRexContainerLite) {\n            child.syncChildrenEnable = true;\n            child.syncPosition();\n        }\n        return this;\n    },\n\n    syncPosition() {\n        if (this.children && this.syncChildrenEnable) {\n            this.children.getChildren().forEach(this.updateChildPosition, this);\n        }\n        return this;\n    },\n\n    resetChildPositionState(gameObject) {\n        var state = this.getLocalState(gameObject);\n        state.x = gameObject.x;\n        state.y = gameObject.y;\n        this.worldToLocal(state);\n\n        state.scaleX = Object(_Scale_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(gameObject.scaleX, this.scaleX);\n        state.scaleY = Object(_Scale_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(gameObject.scaleY, this.scaleY);\n\n        if (gameObject.flipX !== undefined) {\n            state.flipX = gameObject.flipX;\n            state.flipY = gameObject.flipY;\n        }\n\n        state.rotation = gameObject.rotation - this.rotation;\n        return this;\n    },\n    \n    setChildPosition(gameObject, x, y) {\n        gameObject.x = x;\n        gameObject.y = y;\n        this.resetChildPositionState(gameObject);\n        return this;\n    },\n\n    setChildLocalPosition(gameObject, x, y) {\n        var state = this.getLocalState(gameObject);\n        state.x = x;\n        state.y = y;\n        this.updateChildPosition(gameObject);\n        return this;\n    },\n});\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/containerlite/Position.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/containerlite/RemoveChild.js":
/*!************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/containerlite/RemoveChild.js ***!
  \************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    remove(gameObject, destroyChild) {\n        this.children.remove(gameObject, false, destroyChild);\n        return this;\n    },\n\n    clear(destroyChild) {\n        this.children.clear(false, destroyChild);\n        return this;\n    },\n});\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/containerlite/RemoveChild.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/containerlite/Scale.js":
/*!******************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/containerlite/Scale.js ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar Scale = function (a, b) {\n    if (a === b) {\n        return 1;\n    } else {\n        return a / b;\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Scale);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/containerlite/Scale.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/containerlite/ScrollFactor.js":
/*!*************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/containerlite/ScrollFactor.js ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    updateChildScrollFactor(child) {\n        child.setScrollFactor(this.scrollFactorX, this.scrollFactorY);\n        return this;\n    },\n\n    syncScrollFactor() {\n        if (this.children && this.syncChildrenEnable) {\n            this.children.getChildren().forEach(this.updateChildScrollFactor, this);\n        }\n        return this;\n    },\n\n});\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/containerlite/ScrollFactor.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/containerlite/Transform.js":
/*!**********************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/containerlite/Transform.js ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nconst RotateAround = Phaser.Math.RotateAround;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    worldToLocal(point) {\n        // Transform\n        point.x -= this.x;\n        point.y -= this.y;\n        // Rotate\n        RotateAround(point, 0, 0, -this.rotation);\n        // Scale\n        point.x /= this.scaleX;\n        point.y /= this.scaleY;\n        // Flip\n        point.x *= ((!this.flipX) ? 1 : -1);\n        point.y *= ((!this.flipY) ? 1 : -1);\n        return point;\n    },\n\n    localToWorld(point) {\n        // Flip\n        point.x *= ((!this.flipX) ? 1 : -1);\n        point.y *= ((!this.flipY) ? 1 : -1);\n        // Scale\n        point.x *= this.scaleX;\n        point.y *= this.scaleY;\n        // Rotate\n        RotateAround(point, 0, 0, this.rotation);\n        // Transform\n        point.x += this.x;\n        point.y += this.y;\n        return point;\n    }\n});\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/containerlite/Transform.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/containerlite/Visible.js":
/*!********************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/containerlite/Visible.js ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    updateChildVisible(child) {\n        child.visible = this.visible && this.getLocalState(child).visible;\n        return this;\n    },\n\n    syncVisible() {\n        if (this.children && this.syncChildrenEnable) {\n            this.children.getChildren().forEach(this.updateChildVisible, this);\n        }\n        return this;\n    },\n\n    resetChildVisibleState(gameObject) {\n        this.getLocalState(gameObject).visible = gameObject.visible;\n        return this;\n    },\n\n    setChildVisible(gameObject, visible) {\n        gameObject.visible = visible;\n        this.resetChildVisibleState(gameObject);\n        return this;\n    },\n    \n    setChildLocalVisible(gameObject, visible) {\n        if (visible === undefined) {\n            visible = true;\n        }\n        this.getLocalState(gameObject).visible = visible;\n        this.updateChildVisible(gameObject);\n        return this;\n    },\n});\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/containerlite/Visible.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/gridtable/Cell.js":
/*!*************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/gridtable/Cell.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_data_DataMethods_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/data/DataMethods.js */ \"./lib/rexui/lib/plugins/utils/data/DataMethods.js\");\n\n\nclass Cell {\n    constructor(parent, config) {\n        this.container = null;\n        this.setParent(parent);\n        this._deltaHeight = 0;\n        // this.resetFromJSON(config);\n    }\n\n    setParent(parent) {\n        this.parent = parent; // parent: table\n        this.parentContainer = parent.getParentContainer();\n    }\n\n    // resetFromJSON(o) {\n    //     return this;\n    // }\n\n    destroy(fromScene) {\n        if (fromScene === undefined) {\n            fromScene = false;\n        }\n\n        if (!fromScene) {\n            var table = this.parent;\n            if (this.deltaHeight !== 0) {\n                table.nonZeroDeltaHeightCount--;\n            }\n            this.destroyContainer();\n        }\n\n        this.data = undefined;\n        this.container = null;\n        this.parent = undefined;\n        this.parentContainer = undefined;\n    }\n\n    get table() {\n        return this.parent;\n    }\n\n    get scrollMode() {\n        return this.parentContainer.scrollMode;\n    }\n\n    get colIndx() {\n        return this.parent.cellIndxeToColIndex(this.index);\n    }\n\n    get rowIndx() {\n        return this.parent.cellIndxeToRowIndex(this.index);\n    }\n\n    getContainer() {\n        return this.container;\n    }\n\n    setContainer(container) {\n        if (!container) {\n            this.destroyContainer();\n            return this;\n        }\n\n        if (this.container) {\n            this.container.destroy();\n        }\n        this.container = container;\n        this.parentContainer.add(container);\n        return this;\n    }\n\n    destroyContainer() {\n        if (this.container) {\n            this.container.destroy();\n            this.container = null;\n        }\n        return this;\n    }\n\n    popContainer() {\n        if (this.container) {\n            var container = this.container;\n            this.container = null;\n            this.parentContainer.remove(container);\n            return container;\n        } else {\n            return null;\n        }\n    }\n\n    setXY(x, y) {\n        if (this.container) {\n            this.parentContainer.setChildLocalPosition(this.container, x, y);\n        }\n        return this;\n    }\n\n    get deltaHeight() {\n        return this._deltaHeight;\n    }\n\n    set deltaHeight(deltaHeight) {\n        if (deltaHeight == null) {\n            deltaHeight = 0;\n        }\n        var table = this.parent;\n        if ((this._deltaHeight === 0) && (deltaHeight !== 0)) {\n            table.nonZeroDeltaHeightCount++;\n        } else if ((this._deltaHeight !== 0) && (deltaHeight === 0)) {\n            table.nonZeroDeltaHeightCount--;\n        }\n\n        this._deltaHeight = deltaHeight;\n    }\n\n    setDeltaHeight(deltaHeight) {\n        this.deltaHeight = deltaHeight;\n        return this;\n    }\n\n    get height() {\n        if (this.scrollMode === 0) {\n            return this.deltaHeight + this.parent.defaultCellHeight;\n        } else {\n            return this.parent.defaultCellWidth;\n        }\n    }\n\n    set height(height) {\n        // Only worked when scrollMode is 0\n        if (this.scrollMode === 1) {\n            return;\n        }\n        this.setDeltaHeight(height - this.parent.defaultCellHeight);\n    }\n\n    setHeight(height) {\n        // Only worked when scrollMode is 0\n        this.height = height;\n        return this;\n    }\n\n    get width() {\n        if (this.scrollMode === 0) {\n            return this.parent.defaultCellWidth;\n        } else {\n            return this.deltaHeight + this.parent.defaultCellHeight;\n        }\n    }\n\n    set width(width) {\n        // Only worked when scrollMode is 1\n        if (this.scrollMode === 0) {\n            return;\n        }\n        this.setDeltaHeight(width - this.parent.defaultCellHeight);\n    }\n\n    setWidth(width) {\n        this.width = width;\n        return this;\n    }\n\n    get scene() {\n        return this.parentContainer.scene;\n    }\n};\n\n\nObject.assign(\n    Cell.prototype,\n    _utils_data_DataMethods_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]\n);\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Cell);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/gridtable/Cell.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/gridtable/GridTable.js":
/*!******************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/gridtable/GridTable.js ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _containerlite_ContainerLite_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../containerlite/ContainerLite.js */ \"./lib/rexui/lib/plugins/gameobjects/containerlite/ContainerLite.js\");\n/* harmony import */ var _Table_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Table.js */ \"./lib/rexui/lib/plugins/gameobjects/gridtable/Table.js\");\n/* harmony import */ var _utils_mask_DefaultMask_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/mask/DefaultMask.js */ \"./lib/rexui/lib/plugins/utils/mask/DefaultMask.js\");\n/* harmony import */ var _utils_size_ResizeGameObject_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/size/ResizeGameObject.js */ \"./lib/rexui/lib/plugins/utils/size/ResizeGameObject.js\");\n/* harmony import */ var _utils_mask_MaskToGameObject_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/mask/MaskToGameObject.js */ \"./lib/rexui/lib/plugins/utils/mask/MaskToGameObject.js\");\n/* harmony import */ var _methods_Methods_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./methods/Methods.js */ \"./lib/rexui/lib/plugins/gameobjects/gridtable/methods/Methods.js\");\n\n\n\n\n\n\n\nconst Container = _containerlite_ContainerLite_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\nconst Components = Phaser.GameObjects.Components;\nconst Set = Phaser.Structs.Set;\nconst GetValue = Phaser.Utils.Objects.GetValue;\nclass GridTable extends Container {\n    constructor(scene, x, y, width, height, config) {\n        if (config === undefined) {\n            config = {};\n        }\n        super(scene, x, y, width, height);\n        this.type = \"rexGridTable\";\n        this._tableOX = GetValue(config, \"tableOX\", 0);\n        this._tableOY = GetValue(config, \"tableOY\", 0);\n        this.visibleCells = new Set();\n        this.preVisibleCells = new Set();\n        this.visibleStartX = null;\n        this.visibleEndX = null;\n        this.visibleStartY = null;\n        this.visibleEndY = null;\n        this.lastVisibleCellIdx = null;\n        this.execeedTopState = false;\n        this.execeedBottomState = false;\n        this.execeedLeftState = false;\n        this.execeedRightState = false;\n\n        var reuseCellContainer = GetValue(config, \"reuseCellContainer\", false);\n        this.cellContainersPool = reuseCellContainer\n            ? scene.add.group()\n            : undefined;\n        var callback = GetValue(config, \"cellVisibleCallback\", null);\n        if (callback !== null) {\n            var scope = GetValue(config, \"cellVisibleCallbackScope\", undefined);\n            this.on(\"cellvisible\", callback, scope);\n        }\n        callback = GetValue(config, \"cellInvisibleCallback\", null);\n        if (callback !== null) {\n            var scope = GetValue(\n                config,\n                \"cellInvisibleCallbackScope\",\n                undefined\n            );\n            this.on(\"cellinvisible\", callback, scope);\n        }\n        this.zoom = GetValue(config, \"zoom\", 1);\n        this.cellsMask = undefined;\n        this.setCellsMask(GetValue(config, \"mask\", true));\n        // this.cellsMaskGameObject = undefined;\n\n        this.setScrollMode(GetValue(config, \"scrollMode\", 0));\n        this.setClampMode(GetValue(config, \"clamplTableOXY\", true));\n        // var cellOriginX = GetValue(config, \"cellOriginX\", 0.5);\n        // var cellOriginY = GetValue(config, \"cellOriginY\", 0.5);\n        // var padX = 0;\n        // var padY = 0;\n        // Pre-process cell size\n        if (this.scrollMode === 0) {\n            // scroll y \n            var cellWidth = GetValue(config, \"cellWidth\", undefined);\n            this.expandCellSize = cellWidth === undefined;\n            if (cellWidth === undefined) {\n                var columns = GetValue(config, \"columns\", 1);\n                config.cellWidth = this.width / columns;\n            }\n            // padY = cellOriginY * cellHeight;\n        } else {\n            // scroll x \n            // Swap cell width and cell height\n            var cellWidth = GetValue(config, \"cellHeight\", undefined);\n            var cellHeight = GetValue(config, \"cellWidth\", undefined);\n            this.expandCellSize = cellWidth === undefined;\n            config.cellWidth = cellWidth;\n            config.cellHeight = cellHeight;\n            // padX = cellOriginX * cellWidth;\n        }\n\n        const cellOriginX = GetValue(config, \"cellOriginX\", 0.5);\n        // if (cellOriginX > 0 && this.scrollMode) {\n        //     //  \n        //     config.cellOriginX = 0;\n        // }\n        const cellOriginY = GetValue(config, \"cellOriginY\", 0.5);\n        // if (cellOriginY > 0 && !this.scrollMode) {\n        //     //  \n        //     config.cellOriginY = 0;\n        // }\n        this.table = new _Table_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this, config);\n\n        this.updateTable();\n    }\n\n    destroy(fromScene) {\n        //  This Game Object has already been destroyed\n        if (!this.scene) {\n            return;\n        }\n\n        this.table.destroy(fromScene);\n        this.table = undefined;\n        if (this.cellContainersPool) {\n            this.cellContainersPool.destroy(true);\n            this.cellContainersPool = undefined;\n        }\n        super.destroy(fromScene);\n    }\n\n    setScrollMode(mode) {\n        if (typeof mode === \"string\") {\n            mode = SCROLLMODE[mode.toLowerCase()];\n        }\n        this.scrollMode = mode;\n        return this;\n    }\n\n    setClampMode(mode) {\n        this.clampTableOXYMode = mode;\n        return this;\n    }\n    setColumnCount(cnt) {\n        this.table.setColumnCount(cnt);\n        return this;\n    }\n    get tableOY() {\n        return this._tableOY;\n    }\n\n    get tableOX() {\n        return this._tableOX;\n    }\n\n    set tableOY(oy) {\n        this.setTableOY(oy).updateTable(true);\n    }\n\n    set tableOX(ox) {\n        this.setTableOX(ox).updateTable(true);\n    }\n\n    setTableOXY(ox, oy) {\n        this.setTableOY(oy).setTableOX(ox);\n        return this;\n    }\n\n    addTableOY(dy) {\n        this.setTableOY(this.tableOY + dy);\n        return this;\n    }\n\n    addTableOX(dx) {\n        this.setTableOX(this.tableOX + dx);\n        return this;\n    }\n\n    addTableOXY(dx, dy) {\n        this.addTableOY(dy).addTableOX(dx);\n        return this;\n    }\n\n    setTableOYByPercentage(percentage) {\n        this.setTableOY(-this.tableVisibleHeight * percentage);\n        return this;\n    }\n\n    getTableOYPercentage() {\n        var tableVisibleHeight = this.tableVisibleHeight;\n        if (tableVisibleHeight === 0) {\n            return 0;\n        }\n        return this.tableOY / -tableVisibleHeight;\n    }\n\n    set t(value) {\n        this.setTableOYByPercentage(value).updateTable();\n    }\n\n    get t() {\n        return this.getTableOYPercentage();\n    }\n\n    getCells() {\n        return this.table.cells;\n    }\n\n    getCell(cellIdx) {\n        return this.table.getCell(cellIdx, true);\n    }\n\n    getCellContainer(cellIdx) {\n        var cell = this.table.getCell(cellIdx, false);\n        var container;\n        if (cell) {\n            container = cell.getContainer();\n        }\n        return container;\n    }\n\n    get cellsCount() {\n        return this.table.cellsCount;\n    }\n\n    get columnCount() {\n        return this.table.colCount;\n    }\n\n    setCellHeight(cellIdx, height) {\n        var cell;\n        if (typeof cellIdx === \"number\") {\n            cell = this.table.getCell(cellIdx, true);\n        } else {\n            cell = cellIdx;\n        }\n        cell.height = height; // Only worked when scrollMode is 0\n        return this;\n    }\n\n    setCellWidth(cellIdx, width) {\n        var cell;\n        if (typeof cellIdx === \"number\") {\n            cell = this.table.getCell(cellIdx, true);\n        } else {\n            cell = cellIdx;\n        }\n        cell.width = width; // Only worked when scrollMode is 1\n        return this;\n    }\n\n    setCellsMask(maskConfig) {\n        var maskEnable, maskPadding;\n        if (maskConfig === true) {\n            maskEnable = true;\n            maskPadding = 0;\n        } else if (maskConfig === false) {\n            maskEnable = false;\n        } else {\n            maskEnable = GetValue(maskConfig, \"mask\", true);\n            maskPadding = GetValue(maskConfig, \"padding\", 0);\n        }\n        if (maskEnable) {\n            this.cellsMaskGameObject = new _utils_mask_DefaultMask_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this, 0, maskPadding);\n            this.cellsMask = this.cellsMaskGameObject.createGeometryMask();\n            //  this.add(this.cellsMaskGameObject);\n        }\n        return this;\n    }\n\n    getCellsMaskGameObject() {\n        return this.cellsMaskGameObject;\n    }\n\n    get instHeight() {\n        return this.scrollMode === 0 ? this.height : this.width;\n    }\n\n    get instWidth() {\n        return this.scrollMode === 0 ? this.width : this.height;\n    }\n\n    get tableHeight() {\n        return this.table.totalRowsHeight;\n    }\n\n    get tableWidth() {\n        return this.table.totalColumnWidth;\n    }\n\n    get topTableOY() {\n        return 0;\n    }\n\n    get bottomTableOY() {\n        return -this.tableVisibleHeight;\n    }\n\n    get leftTableOX() {\n        return 0;\n    }\n\n    get rightTableOX() {\n        return -this.tableVisibleWidth;\n    }\n\n    get tableVisibleHeight() {\n        var h;\n        var tableHeight = this.tableHeight;\n        var instHeight = this.instHeight;\n        if (tableHeight > instHeight) {\n            h = tableHeight - instHeight;\n        } else {\n            h = 0;\n        }\n\n        return h;\n    }\n\n    get tableVisibleWidth() {\n        var w;\n        var tableWidth = this.tableWidth;\n        var instWidth = this.instWidth;\n        if (tableWidth > instWidth) {\n            w = tableWidth - instWidth;\n        } else {\n            w = 0;\n        }\n        return w;\n    }\n\n    get bottomLeftY() {\n        return -(this.displayHeight * this.originY) + this.displayHeight;\n    }\n\n    get topRightX() {\n        return -(this.displayWidth * this.originX) + this.displayWidth;\n    }\n\n    get topLeftX() {\n        return -(this.displayWidth * this.originX);\n    }\n\n    get topLeftY() {\n        return -(this.displayHeight * this.originY);\n    }\n\n    get bottomBound() {\n        if (this.scrollMode === 0) {\n            return this.bottomLeftY + this.originOffsetY;\n        } else {\n            return this.topRightX + this.originOffsetX;\n        }\n    }\n\n    get rightBound() {\n        if (this.scrollMode === 0) {\n            return this.topRightX + this.originOffsetX;\n        } else {\n            return this.bottomLeftY + this.originOffsetY;\n        }\n    }\n\n    get originOffsetX() {\n        var table = this.table;\n        var len = table.defaultCellWidth * table.cellOriginX + table.padX;\n        return len;\n    }\n\n    get originOffsetY() {\n        var table = this.table;\n        var len = table.defaultCellHeight * table.cellOriginY + table.padY;\n        return len;\n    }\n    resize(width, height) {\n        if (this.width === width && this.height === height) {\n            return this;\n        }\n\n        super.resize(width, height);\n        if (this.cellsMask) {\n            Object(_utils_size_ResizeGameObject_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(Object(_utils_mask_MaskToGameObject_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this.cellsMask), width * this.zoom, height * this.zoom);\n        }\n\n        if (this.expandCellSize) {\n            this.table.setDefaultCellWidth(\n                this.instWidth / this.table.colCount\n            );\n        }\n        this.updateTable(true);\n        return this;\n    }\n\n}\n\n// mixin\nObject.assign(GridTable.prototype, Components.GetBounds, _methods_Methods_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]);\n\nconst SCROLLMODE = {\n    v: 0,\n    vertical: 0,\n    h: 1,\n    horizontal: 1,\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GridTable);\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/gridtable/GridTable.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/gridtable/Table.js":
/*!**************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/gridtable/Table.js ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Cell_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Cell.js */ \"./lib/rexui/lib/plugins/gameobjects/gridtable/Cell.js\");\n/* harmony import */ var _pool_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../pool.js */ \"./lib/rexui/lib/plugins/pool.js\");\n\n\n\nconst GetValue = Phaser.Utils.Objects.GetValue;\nconst SpliceOne = Phaser.Utils.Array.SpliceOne;\n\nclass Table {\n    constructor(parent, config) {\n        this.parent = parent; // parent: GridTable game object (Container)\n        this.cells = [];\n        this.cellPool = new _pool_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n        this.resetFromJSON(config);\n    }\n\n    resetFromJSON(o) {\n        this.colCount = undefined;\n        this._nonZeroDeltaHeightCount = 0;\n        this.resetTotalRowsHeight();\n        this.zoom = GetValue(o, 'zoom', 1);\n        this.dpr = GetValue(o, 'dpr', 1);\n        this.cellOriginX = GetValue(o, \"cellOriginX\", 0.5);\n        this.cellOriginY = GetValue(o, \"cellOriginY\", 0.5);\n        this.padX = GetValue(o, \"cellPadX\", 0);\n        this.padY = GetValue(0, \"cellPadY\", 0);\n        this.setDefaultCellHeight(GetValue(o, 'cellHeight', 30));\n        this.setDefaultCellWidth(GetValue(o, 'cellWidth', 30));\n        this.initCells(GetValue(o, 'cellsCount', 0));\n        this.setColumnCount(GetValue(o, 'columns', 1));\n        return this;\n    }\n\n    destroy(fromScene) {\n        for (var i = 0, cnt = this.cells.length; i < cnt; i++) {\n            this.freeCell(this.cells[i], fromScene);\n        }\n        this.cellPool.destroy();\n        this.cells = undefined;\n        this.parent = undefined;\n    }\n\n    get nonZeroDeltaHeightCount() {\n        return this._nonZeroDeltaHeightCount;\n    }\n\n    set nonZeroDeltaHeightCount(count) {\n        if (this._nonZeroDeltaHeightCount === count) {\n            return;\n        }\n        this._nonZeroDeltaHeightCount = count;\n        this.resetTotalRowsHeight();\n    }\n\n    get defaultCellHeightMode() {\n        return (this.nonZeroDeltaHeightCount === 0);\n    }\n\n    setDefaultCellHeight(height) {\n        this.defaultCellHeight = height;\n        return this;\n    }\n\n    setDefaultCellWidth(width) {\n        this.defaultCellWidth = width;\n        return this;\n    }\n\n    initCells(size) {\n        var cells = this.cells;\n        cells.length = size;\n        for (var i = 0; i < size; i++) {\n            cells[i] = null;\n        }\n        return this;\n    }\n\n    insertNewCells(cellIdx, count) {\n        var cells = this.cells;\n        if (cellIdx === cells.length) {\n            // append at end of array\n            var endIdx = cellIdx + count;\n            cells.length = endIdx;\n            for (var i = cellIdx; i < endIdx; i++) {\n                cells[i] = null;\n            }\n        } else {\n            var newCells = [];\n            newCells.length = count;\n            for (var i = 0; i < count; i++) {\n                newCells[i] = null;\n            }\n            this.cells.splice(cellIdx, 0, ...newCells);\n        }\n\n        this.resetTotalRowsHeight();\n        return this;\n    }\n\n    removeCells(cellIdx, count) {\n        var endIdx = cellIdx + count;\n        for (var i = cellIdx; i < endIdx; i++) {\n            this.freeCell(i);\n        }\n\n        if (endIdx === this.cells.length) {\n            // remove until end of array\n            this.cells.length = cellIdx;\n        } else {\n            if (count === 1) {\n                SpliceOne(this.cells, cellIdx);\n            } else {\n                this.cells.splice(cellIdx, count);\n            }\n            this.buildCellIndex(cellIdx);\n        }\n\n        this.resetTotalRowsHeight();\n        return this;\n    }\n\n    setColumnCount(cnt) {\n        this.colCount = cnt;\n        this.resetTotalRowsHeight();\n        return this;\n    }\n\n    get rowCount() {\n        return Math.ceil(this.cells.length / this.colCount);\n    }\n\n    get cellsCount() {\n        return this.cells.length;\n    }\n\n    isValidCellIdx(idx) {\n        return ((idx >= 0) && (idx < this.cells.length));\n    }\n\n    heightToRowIndex(height, isCeil) {\n        // defaultCellHeightMode\n        if (this.defaultCellHeightMode) {\n            var rowIdx = height / this.defaultCellHeight;\n            if (isCeil) {\n                rowIdx = Math.ceil(rowIdx);\n            } else {\n                rowIdx = Math.floor(rowIdx);\n            }\n\n            return rowIdx;\n        }\n\n        // count cell height one by one\n        var rowCount = this.rowCount;\n        var remainder = height,\n            isValidIdx;\n        var cell, rowHeight, rowIdx = 0;\n\n        while (1) {\n            rowHeight = this.getRowHeight(rowIdx);\n            remainder -= rowHeight;\n\n            isValidIdx = (rowIdx >= 0) && (rowIdx < rowCount);\n            if ((remainder > 0) && isValidIdx) {\n                rowIdx += 1;\n            } else if (remainder === 0) {\n                return rowIdx;\n            } else {\n                if (isCeil) {\n                    var preRowIdx = rowIdx;\n                    rowIdx += 1;\n                    isValidIdx = (rowIdx >= 0) && (rowIdx < rowCount);\n\n                    if (!isValidIdx)\n                        rowIdx = preRowIdx;\n                }\n\n                return rowIdx;\n            }\n        }\n\n    }\n\n    widthToColIndex(width, isCeil) {\n        var colIdx = width / this.defaultCellWidth;\n        if (isCeil) {\n            colIdx = Math.ceil(colIdx);\n        } else {\n            colIdx = Math.floor(colIdx);\n        }\n\n        return colIdx;\n    }\n\n    colRowToCellIndex(colIdx, rowIdx) {\n        if (colIdx >= this.colCount) {\n            return null;\n        }\n        return (rowIdx * this.colCount) + colIdx;\n    }\n\n    rowIndexToHeight(start, end) {\n        // defaultCellHeightMode\n        if (this.defaultCellHeightMode) {\n            return (end - start + 1) * this.defaultCellHeight + this.defaultCellHeight * this.cellOriginY + this.padY;\n        }\n\n        var h, sum = 0;\n        for (var i = start; i <= end; i++) {\n            h = this.getRowHeight(i);\n            sum += h;\n        }\n        return sum;\n    }\n\n    colIndexToWidth(start, end) {\n        return (end - start + 1) * this.defaultCellWidth + this.defaultCellWidth * this.cellOriginX + this.padX;\n    };\n\n    getRowHeight(rowIdx) {\n        var cnt = this.colCount;\n        // single column\n        if (cnt <= 1) {\n            return this.getCellHeight(this.colRowToCellIndex(0, rowIdx));\n        }\n\n        // multiple columns, get the maximum height\n        var maxHeight = 0,\n            cellHeight;\n        for (var i = 0; i < cnt; i++) {\n            cellHeight = this.getCellHeight(this.colRowToCellIndex(i, rowIdx));\n            if (maxHeight < cellHeight)\n                maxHeight = cellHeight;\n        }\n        return maxHeight;\n    }\n\n    getColWidth(idx) {\n        return this.defaultCellWidth;\n    }\n\n    getCellHeight(cellIdx) {\n        if (!this.isValidCellIdx(cellIdx)) {\n            return 0;\n        }\n\n        var cellHeight;\n        if (this.defaultCellHeightMode)\n            cellHeight = this.defaultCellHeight;\n        else {\n            var cell = this.getCell(cellIdx, false);\n            var deltaHeight = (cell) ? cell.deltaHeight : 0;\n            cellHeight = this.defaultCellHeight + deltaHeight;\n        }\n\n        return cellHeight;\n    }\n\n    resetTotalRowsHeight() {\n        this._totalRowsHeight = null;\n    }\n\n    get totalRowsHeight() {\n        if (this._totalRowsHeight === null) {\n            this._totalRowsHeight = this.rowIndexToHeight(0, this.rowCount - 1);\n        }\n\n        return this._totalRowsHeight;\n    }\n\n    get totalColumnWidth() {\n        return this.colCount * this.defaultCellWidth + this.cellOriginX * this.defaultCellWidth + this.padX;\n    }\n\n    cellIndxeToColIndex(cellIdx) {\n        return cellIdx % this.colCount;\n    }\n\n    cellIndxeToRowIndex(cellIdx) {\n        return Math.floor(cellIdx / this.colCount);\n    }\n\n    getCell(cellIdx, createNewCell) {\n        if (!this.isValidCellIdx(cellIdx)) {\n            return null;\n        }\n\n        if (createNewCell === undefined) {\n            createNewCell = true;\n        }\n        if ((this.cells[cellIdx] === null) && createNewCell) {\n            var cell = this.newCell(cellIdx);\n            this.cells[cellIdx] = cell;\n        }\n\n        return this.cells[cellIdx];\n    }\n\n    newCell(cellIdx) {\n        var cell = this.cellPool.pop();\n        if (cell === null) {\n            cell = new _Cell_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this);\n        } else {\n            cell.setParent(this);\n        }\n        cell.index = cellIdx;\n\n        return cell;\n    }\n\n    buildCellIndex(startIdx) {\n        if (startIdx === undefined) {\n            startIdx = 0;\n        }\n        var cells = this.cells,\n            cell;\n        for (var i = startIdx, len = cells.length; i < len; i++) {\n            cell = cells[i];\n            if (cell) {\n                cell.index = i;\n            }\n        }\n        return this;\n    }\n\n    getParentContainer() {\n        return this.parent;\n    }\n\n    freeCell(cell, fromScene) {\n        if (typeof (cell) === 'number') {\n            cell = this.cells[cell];\n        }\n\n        if (!cell) {\n            return this;\n        }\n\n        cell.destroy(fromScene);\n        if (!fromScene) {\n            this.cellPool.push(cell);\n        }\n        return this;\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Table);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/gridtable/Table.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/gridtable/methods/EachCell.js":
/*!*************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/gridtable/methods/EachCell.js ***!
  \*************************************************************************/
/*! exports provided: EachVisibleCell, IterateVisibleCell, EachCell, IterateCell */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EachVisibleCell\", function() { return EachVisibleCell; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IterateVisibleCell\", function() { return IterateVisibleCell; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EachCell\", function() { return EachCell; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IterateCell\", function() { return IterateCell; });\n// For when you know this Set will be modified during the iteration\nvar EachVisibleCell = function (callback, scope) {\n    this.visibleCells.each(callback, scope);\n    return this;\n}\n\n// For when you absolutely know this Set won't be modified during the iteration\nvar IterateVisibleCell = function (callback, scope) {\n    this.visibleCells.iterate(callback, scope);\n    return this;\n}\n\nvar EachCell = function (callback, scope) {\n    this.table.cells.slice().forEach(callback, scope);\n    return this;\n}\n\nvar IterateCell = function (callback, scope) {\n    this.table.cells.forEach(callback, scope);\n    return this;\n}\n\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/gridtable/methods/EachCell.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/gridtable/methods/InsertNewCells.js":
/*!*******************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/gridtable/methods/InsertNewCells.js ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nconst Clamp = Phaser.Math.Clamp;\n\nvar InsertNewCells = function (cellIdx, count) {\n    if (typeof (cellIdx) === 'object') {\n        cellIdx = cellIdx.index;\n    }\n    if (count === undefined) {\n        count = 1;\n    }\n    if (count <= 0) {\n        return this;\n    }\n    cellIdx = Clamp(cellIdx, 0, this.cellsCount);\n    this.table.insertNewCells(cellIdx, count);\n    return this;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (InsertNewCells);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/gridtable/methods/InsertNewCells.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/gridtable/methods/IsCellVisible.js":
/*!******************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/gridtable/methods/IsCellVisible.js ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar IsCellVisible = function (cellIdx) {\n    var cell = this.table.getCell(cellIdx, false);\n    return cell && this.visibleCells.contains(cell);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (IsCellVisible);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/gridtable/methods/IsCellVisible.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/gridtable/methods/Methods.js":
/*!************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/gridtable/methods/Methods.js ***!
  \************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _SetTableOY_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./SetTableOY.js */ \"./lib/rexui/lib/plugins/gameobjects/gridtable/methods/SetTableOY.js\");\n/* harmony import */ var _SetTableOX_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./SetTableOX.js */ \"./lib/rexui/lib/plugins/gameobjects/gridtable/methods/SetTableOX.js\");\n/* harmony import */ var _updatetable_UpdateTable_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./updatetable/UpdateTable.js */ \"./lib/rexui/lib/plugins/gameobjects/gridtable/methods/updatetable/UpdateTable.js\");\n/* harmony import */ var _IsCellVisible_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./IsCellVisible.js */ \"./lib/rexui/lib/plugins/gameobjects/gridtable/methods/IsCellVisible.js\");\n/* harmony import */ var _PointerToCell_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./PointerToCell.js */ \"./lib/rexui/lib/plugins/gameobjects/gridtable/methods/PointerToCell.js\");\n/* harmony import */ var _EachCell_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./EachCell.js */ \"./lib/rexui/lib/plugins/gameobjects/gridtable/methods/EachCell.js\");\n/* harmony import */ var _SetCellsCount_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./SetCellsCount.js */ \"./lib/rexui/lib/plugins/gameobjects/gridtable/methods/SetCellsCount.js\");\n/* harmony import */ var _InsertNewCells_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./InsertNewCells.js */ \"./lib/rexui/lib/plugins/gameobjects/gridtable/methods/InsertNewCells.js\");\n/* harmony import */ var _RemoveCells_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./RemoveCells.js */ \"./lib/rexui/lib/plugins/gameobjects/gridtable/methods/RemoveCells.js\");\n/* harmony import */ var _SetColumnCount_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./SetColumnCount.js */ \"./lib/rexui/lib/plugins/gameobjects/gridtable/methods/SetColumnCount.js\");\n/* harmony import */ var _SetGridSize_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./SetGridSize.js */ \"./lib/rexui/lib/plugins/gameobjects/gridtable/methods/SetGridSize.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    setTableOY: _SetTableOY_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    setTableOX: _SetTableOX_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n    updateTable: _updatetable_UpdateTable_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n    isCellVisible: _IsCellVisible_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n    pointerToCellIndex: _PointerToCell_js__WEBPACK_IMPORTED_MODULE_4__[\"PointerToCellIndex\"],\n    pointerToCellContainer: _PointerToCell_js__WEBPACK_IMPORTED_MODULE_4__[\"PointerToCellContainer\"],\n    eachVisibleCell: _EachCell_js__WEBPACK_IMPORTED_MODULE_5__[\"EachVisibleCell\"],\n    iterateVisibleCell: _EachCell_js__WEBPACK_IMPORTED_MODULE_5__[\"IterateVisibleCell\"],\n    eachCell: _EachCell_js__WEBPACK_IMPORTED_MODULE_5__[\"EachCell\"],\n    iterateCell: _EachCell_js__WEBPACK_IMPORTED_MODULE_5__[\"IterateCell\"],\n\n    setCellsCount: _SetCellsCount_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\n    insertNewCells: _InsertNewCells_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"],\n    removeCells: _RemoveCells_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"],\n    setColumnCount: _SetColumnCount_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"],\n    setGridSize: _SetGridSize_js__WEBPACK_IMPORTED_MODULE_10__[\"default\"]\n});\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/gridtable/methods/Methods.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/gridtable/methods/PointerToCell.js":
/*!******************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/gridtable/methods/PointerToCell.js ***!
  \******************************************************************************/
/*! exports provided: PointerToCellIndex, PointerToCellContainer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PointerToCellIndex\", function() { return PointerToCellIndex; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PointerToCellContainer\", function() { return PointerToCellContainer; });\n// var PointerToCellIndex = function (x, y) {\n//     y -= (this.y + this.topLeftY);\n//     x -= (this.x + this.topLeftX);\n//     var offsetTableOY = this.tableOY - ((this.scrollMode === 0) ? y : x);\n//     var offsetTableOX = this.tableOX - ((this.scrollMode === 0) ? x : y);\n\n//     var table = this.table;\n//     var rowIdx = table.heightToRowIndex(-offsetTableOY);\n//     var colIdx = table.widthToColIndex(-offsetTableOX);\n//     var cellIdx = table.colRowToCellIndex(colIdx, rowIdx);\n//     if (cellIdx === null) {\n//         return null;\n//     }\n//     if (!this.isCellVisible(cellIdx)) {\n//         return null;\n//     }\n//     return cellIdx;\n// }\n\nvar PointerToCellIndex = function (x, y) {\n    var worldpos = this.getWorldTransformMatrix();\n    var mx = worldpos.tx;// this.x;\n    var my = worldpos.ty;// this.y;\n    y -= (my + this.topLeftY * this.zoom);\n    x -= (mx + this.topLeftX * this.zoom);\n    var offsetTableOY = this.tableOY * this.zoom - ((this.scrollMode === 0) ? y : x);\n    var offsetTableOX = this.tableOX * this.zoom - ((this.scrollMode === 0) ? x : y);\n\n    var table = this.table;\n    var rowIdx = table.heightToRowIndex(-offsetTableOY);\n    var colIdx = table.widthToColIndex(-offsetTableOX);\n    var cellIdx = table.colRowToCellIndex(colIdx, rowIdx);\n    if (cellIdx === null) {\n        return null;\n    }\n    if (!this.isCellVisible(cellIdx)) {\n        return null;\n    }\n    return cellIdx;\n}\n\nvar PointerToCellContainer = function (x, y) {\n    var cellIdx = PointerToCellIndex.call(this, x, y);\n    if (cellIdx === null) {\n        return undefined;\n    }\n    return this.getCellContainer(cellIdx);\n}\n\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/gridtable/methods/PointerToCell.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/gridtable/methods/RemoveCells.js":
/*!****************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/gridtable/methods/RemoveCells.js ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _updatetable_HideCell_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./updatetable/HideCell.js */ \"./lib/rexui/lib/plugins/gameobjects/gridtable/methods/updatetable/HideCell.js\");\n\n\nvar RemoveCells = function (cellIdx, count) {\n    if (typeof (cellIdx) === 'object') {\n        cellIdx = cellIdx.index;\n    }\n    if (count === undefined) {\n        count = 1;\n    }\n    if (cellIdx < 0) {\n        count += cellIdx;\n        cellIdx = 0;\n    }\n    if (count <= 0) {\n        return this;\n    }\n    // out-of-range\n    if (cellIdx > this.cellsCount) {\n        return this;\n    }\n\n    if (cellIdx <= this.lastVisibleCellIdx) {\n        var preList = this.preVisibleCells;\n        var curList = this.visibleCells;\n        var cell;\n        for (var i = cellIdx, endIdx = cellIdx + count; i < endIdx; i++) {\n            cell = this.getCell(i, false);\n            if (cell) {\n                if (curList.contains(cell)) {\n                    _updatetable_HideCell_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].call(this, cell);\n                    curList.delete(cell);\n                }\n                preList.delete(cell);\n            }\n        }\n    }\n\n    this.table.removeCells(cellIdx, count);\n    return this;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (RemoveCells);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/gridtable/methods/RemoveCells.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/gridtable/methods/SetCellsCount.js":
/*!******************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/gridtable/methods/SetCellsCount.js ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar SetCellsCount = function (count) {\n    var cellsCount = this.cellsCount;\n    if (cellsCount === count) {\n        return this;\n    }\n\n    if (cellsCount > count) {\n        this.removeCells(count, cellsCount - count);\n    } else { // cellsCount < count\n        this.insertNewCells(cellsCount, count - cellsCount);\n    }\n    return this;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (SetCellsCount);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/gridtable/methods/SetCellsCount.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/gridtable/methods/SetColumnCount.js":
/*!*******************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/gridtable/methods/SetColumnCount.js ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar SetColumnCount = function (count) {\n    if (this.table.colCount === count) {\n        return this;\n    }\n    this.table.setColumnCount(count);\n    return this;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (SetColumnCount);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/gridtable/methods/SetColumnCount.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/gridtable/methods/SetGridSize.js":
/*!****************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/gridtable/methods/SetGridSize.js ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar SetGridSize = function (colCount, rowCount) {\n    this.setCellsCount(colCount * rowCount);\n    this.table.setColumnCount(colCount);\n    return this;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (SetGridSize);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/gridtable/methods/SetGridSize.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/gridtable/methods/SetTableOX.js":
/*!***************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/gridtable/methods/SetTableOX.js ***!
  \***************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar SetTableOX = function (ox) {\n    var table = this.table;\n    var leftTableOX = this.leftTableOX;\n    var rightTableOX = this.rightTableOX;\n    var tableOXExeceedLeft = (ox > this.leftTableOX);\n    var tableOXExeceedRight = (ox < this.rightTableOX);\n    if (this.clampTableOXYMode) {\n        var colCount = table.colCount;\n        var visibleColCount = table.widthToColIndex(this.instWidth, true);\n\n        // less then 1 page            \n        if (colCount < visibleColCount) {\n            ox = 0;\n        } else if (tableOXExeceedLeft) {\n            ox = leftTableOX\n        } else {\n            // var tableVisibleWidth = this.tableVisibleWidth;\n            if (tableOXExeceedRight)\n                ox = rightTableOX;\n        }\n    }\n\n    if (this._tableOX !== ox) {\n        this._tableOX = ox;\n    }\n\n    if (tableOXExeceedLeft) {\n        if (!this.execeedLeftState) {\n            this.emit('execeedleft', this, ox, leftTableOX);\n        }\n    }\n    this.execeedLeftState = tableOXExeceedLeft;\n\n    if (tableOXExeceedRight) {\n        if (!this.execeedRightState) {\n            this.emit('execeedright', this, ox, rightTableOX);\n        }\n    }\n    this.execeedRightState = tableOXExeceedRight;\n    return this;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (SetTableOX);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/gridtable/methods/SetTableOX.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/gridtable/methods/SetTableOY.js":
/*!***************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/gridtable/methods/SetTableOY.js ***!
  \***************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar SetTableOY = function (oy) {\n    var table = this.table;\n    var topTableOY = this.topTableOY;\n    var bottomTableOY = this.bottomTableOY;\n    var tableOYExceedTop = (oy > this.topTableOY);\n    var tableOYExeceedBottom = (oy < this.bottomTableOY);\n    if (this.clampTableOXYMode) {\n        var rowCount = table.rowCount;\n        var visibleRowCount = table.heightToRowIndex(this.instHeight, true);\n\n        // less then 1 page            \n        if (rowCount < visibleRowCount) {\n            oy = 0;\n        } else if (tableOYExceedTop) {\n            oy = topTableOY\n        } else if (tableOYExeceedBottom) {\n            oy = bottomTableOY;\n        }\n    }\n\n    if (this._tableOY !== oy) {\n        this._tableOY = oy;\n    }\n\n\n    if (tableOYExceedTop) {\n        if (!this.execeedTopState) {\n            this.emit('execeedtop', this, oy, topTableOY);\n        }\n    }\n    this.execeedTopState = tableOYExceedTop;\n\n    if (tableOYExeceedBottom) {\n        if (!this.execeedBottomState) {\n            this.emit('execeedbottom', this, oy, bottomTableOY);\n        }\n    }\n    this.execeedBottomState = tableOYExeceedBottom;\n    return this;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (SetTableOY);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/gridtable/methods/SetTableOY.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/gridtable/methods/updatetable/HideCell.js":
/*!*************************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/gridtable/methods/updatetable/HideCell.js ***!
  \*************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar HideCell = function (cell) {\n    // Option: pop container of cell by cell.popContainer() under this event \n    this.emit('cellinvisible', cell);\n\n    if (this.cellContainersPool) {\n        var cellContainer = cell.popContainer(); // null if already been removed\n        if (cellContainer) {\n            this.cellContainersPool.killAndHide(cellContainer);\n        }\n    }\n\n    cell.destroyContainer(); // Destroy container of cell\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (HideCell);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/gridtable/methods/updatetable/HideCell.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/gridtable/methods/updatetable/HideCells.js":
/*!**************************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/gridtable/methods/updatetable/HideCells.js ***!
  \**************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _HideCell_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./HideCell.js */ \"./lib/rexui/lib/plugins/gameobjects/gridtable/methods/updatetable/HideCell.js\");\n\n\nvar HideCells = function () {\n    var preList = this.preVisibleCells;\n    var curList = this.visibleCells;\n    preList.iterate(function (cell) {\n        if (!curList.contains(cell)) {\n            _HideCell_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].call(this, cell);\n        }\n    }, this);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (HideCells);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/gridtable/methods/updatetable/HideCells.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/gridtable/methods/updatetable/MaskCells.js":
/*!**************************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/gridtable/methods/updatetable/MaskCells.js ***!
  \**************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _containerlite_MaskChildren_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../containerlite/MaskChildren.js */ \"./lib/rexui/lib/plugins/gameobjects/containerlite/MaskChildren.js\");\n\n\nvar MaskCells = function () {\n    var children = [];\n    var cells = this.visibleCells.entries, container;\n    for (var i = 0, cnt = cells.length; i < cnt; i++) {\n        container = cells[i].getContainer();\n        if (container) {\n            if (container.isRexContainerLite) { // ContainerLite\n                container.getAllChildren(children);\n            } else { // Others\n                children.push(container);\n            }\n        }\n    }\n    Object(_containerlite_MaskChildren_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, this.cellsMask, children);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (MaskCells);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/gridtable/methods/updatetable/MaskCells.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/gridtable/methods/updatetable/ShowCell.js":
/*!*************************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/gridtable/methods/updatetable/ShowCell.js ***!
  \*************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar ShowCell = function (cell) {\n    // Attach container to cell by cell.setContainer(container) under this event\n    var reusedCellContainer = null;\n    if (this.cellContainersPool) {\n        reusedCellContainer = this.cellContainersPool.getFirstDead();\n        if (reusedCellContainer !== null) { // Reuse this game object\n            reusedCellContainer.setActive(true).setVisible(true);\n        }\n    }\n\n    this.emit('cellvisible', cell, reusedCellContainer);\n\n    if (this.cellContainersPool) {\n        var cellContainer = cell.getContainer();\n        if (cellContainer) {\n            if (reusedCellContainer === null) {\n                this.cellContainersPool.add(cellContainer); // New cell container, add to pool\n            } else if (reusedCellContainer !== cellContainer) {\n                // Why reusedCellContainer is not equal to cellContainer?\n                this.cellContainersPool.add(cellContainer); // New cell container, add to pool\n                this.cellContainersPool.killAndHide(reusedCellContainer); // Unused cell container, put back to pool\n            }\n        } else { // No cell container added\n            if (reusedCellContainer !== null) {\n                this.cellContainersPool.killAndHide(reusedCellContainer); // Unused cell container, put back to pool\n            }\n        }\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ShowCell);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/gridtable/methods/updatetable/ShowCell.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/gridtable/methods/updatetable/ShowCells.js":
/*!**************************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/gridtable/methods/updatetable/ShowCells.js ***!
  \**************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ShowCell_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ShowCell.js */ \"./lib/rexui/lib/plugins/gameobjects/gridtable/methods/updatetable/ShowCell.js\");\n\n\nvar ShowCells = function () {\n    if (this.cellsCount === 0) {\n        return;\n    }\n    var table = this.table;\n    var rowIdx = table.heightToRowIndex(-this.tableOY);\n    if (rowIdx < 0) {\n        rowIdx = 0;\n    }\n\n    var colIdx = table.widthToColIndex(-this.tableOX);\n    if (colIdx < 0) {\n        colIdx = 0;\n    }\n\n    var cellIdx = table.colRowToCellIndex(colIdx, rowIdx);\n    var bottomBound = this.bottomBound;\n    var rightBound = this.rightBound;\n    var lastIdx = table.cellsCount - 1;\n    var lastColIdx = table.colCount - 1;\n\n    var cellTLX0 = GetCellTLX.call(this, colIdx),\n        cellTLX = cellTLX0;\n    var cellTLY = GetCellTLY.call(this, rowIdx);\n    this.visibleStartY = null;\n    this.visibleEndY = null;\n    this.visibleStartX = null;\n    this.visibleEndX = null;\n    this.lastVisibleCellIdx = null;\n    while ((cellTLY < bottomBound) && (cellIdx <= lastIdx)) {\n        if (this.table.isValidCellIdx(cellIdx)) {\n            if (this.visibleStartY === null) {\n                this.visibleStartY = rowIdx;\n                this.visibleEndY = rowIdx;\n            }\n            if (this.visibleStartX === null) {\n                this.visibleStartX = colIdx;\n                this.visibleEndX = colIdx;\n            }\n\n            if (this.lastVisibleCellIdx === null) {\n                this.lastVisibleCellIdx = cellIdx;\n            }\n\n            if (this.visibleEndY < rowIdx) {\n                this.visibleEndY = rowIdx;\n            }\n\n            if (this.visibleEndX < colIdx) {\n                this.visibleEndX = colIdx;\n            }\n\n            if (this.lastVisibleCellIdx < cellIdx) {\n                this.lastVisibleCellIdx = cellIdx;\n            }\n\n            var cell = table.getCell(cellIdx, true);\n            this.visibleCells.set(cell);\n            if (!this.preVisibleCells.contains(cell)) {\n                _ShowCell_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].call(this, cell);\n            }\n            if (this.scrollMode === 0) {\n                cell.setXY(cellTLX, cellTLY);\n            } else {\n                cell.setXY(cellTLY, cellTLX);\n            }\n        }\n\n        if ((cellTLX < rightBound) && (colIdx < lastColIdx)) {\n            cellTLX += table.getColWidth(colIdx);\n            colIdx += 1;\n        } else {\n            cellTLX = cellTLX0;\n            cellTLY += table.getRowHeight(rowIdx);\n\n            colIdx = this.visibleStartX;\n            rowIdx += 1;\n        }\n\n        cellIdx = table.colRowToCellIndex(colIdx, rowIdx);\n    }\n}\n\nvar GetCellTLX = function (colIdx) {\n    var ox = (this.scrollMode === 0) ? this.topLeftX : this.topLeftY;\n    var x = this.tableOX + this.table.colIndexToWidth(0, colIdx - 1) + ox;\n    return x;\n}\n\nvar GetCellTLY = function (rowIdx) {\n    var oy = (this.scrollMode === 0) ? this.topLeftY : this.topLeftX;\n    var y = this.tableOY + this.table.rowIndexToHeight(0, rowIdx - 1) + oy;\n    return y;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ShowCells);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/gridtable/methods/updatetable/ShowCells.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/gridtable/methods/updatetable/UpdateTable.js":
/*!****************************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/gridtable/methods/updatetable/UpdateTable.js ***!
  \****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _HideCells_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./HideCells.js */ \"./lib/rexui/lib/plugins/gameobjects/gridtable/methods/updatetable/HideCells.js\");\n/* harmony import */ var _ShowCells_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ShowCells.js */ \"./lib/rexui/lib/plugins/gameobjects/gridtable/methods/updatetable/ShowCells.js\");\n/* harmony import */ var _MaskCells_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MaskCells.js */ \"./lib/rexui/lib/plugins/gameobjects/gridtable/methods/updatetable/MaskCells.js\");\n\n\n\n\nvar UpdateTable = function (refresh) {\n    if (refresh === undefined) {\n        refresh = false;\n    }\n    if (refresh) {\n        ClearVisibleCellIndexes.call(this);\n        _HideCells_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].call(this);\n    }\n    ClearVisibleCellIndexes.call(this);\n    _ShowCells_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].call(this);\n    _HideCells_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].call(this);\n    _MaskCells_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].call(this);\n    return this;\n}\n\nvar ClearVisibleCellIndexes = function () {\n    var tmp = this.preVisibleCells;\n    this.preVisibleCells = this.visibleCells;\n    this.visibleCells = tmp;\n    this.visibleCells.clear();\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (UpdateTable);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/gridtable/methods/updatetable/UpdateTable.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/inputtext/Creator.js":
/*!****************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/inputtext/Creator.js ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _InputText_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./InputText.js */ \"./lib/rexui/lib/plugins/gameobjects/inputtext/InputText.js\");\n\n\nconst GetAdvancedValue = Phaser.Utils.Objects.GetAdvancedValue;\nconst BuildGameObject = Phaser.GameObjects.BuildGameObject;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (config, addToScene) {\n    var width = GetAdvancedValue(config, 'width', undefined);\n    var height = GetAdvancedValue(config, 'height', undefined);\n    if (addToScene !== undefined) {\n        config.add = addToScene;\n    }\n    var gameObject = new _InputText_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.scene, 0, 0, width, height, config);\n    BuildGameObject(this.scene, gameObject, config);\n    return gameObject;\n});;\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/inputtext/Creator.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/inputtext/Factory.js":
/*!****************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/inputtext/Factory.js ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _InputText_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./InputText.js */ \"./lib/rexui/lib/plugins/gameobjects/inputtext/InputText.js\");\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (x, y, width, height, config) {\n    var gameObject = new _InputText_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.scene, x, y, width, height, config);\n    this.scene.add.existing(gameObject);\n    return gameObject;\n});;\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/inputtext/Factory.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/inputtext/InputText.js":
/*!******************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/inputtext/InputText.js ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_input_StopPropagationTouchEvents_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/input/StopPropagationTouchEvents.js */ \"./lib/rexui/lib/plugins/utils/input/StopPropagationTouchEvents.js\");\n\n\nconst DOMElement = Phaser.GameObjects.DOMElement;\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\nconst GetValue = Phaser.Utils.Objects.GetValue;\n\nclass InputText extends DOMElement {\n    constructor(scene, x, y, width, height, config) {\n        if (IsPlainObject(x)) {\n            config = x;\n            x = GetValue(config, 'x', 0);\n            y = GetValue(config, 'y', 0);\n            width = GetValue(config, 'width', undefined);\n            height = GetValue(config, 'height', undefined);\n        } else if (IsPlainObject(width)) {\n            config = width;\n            width = GetValue(config, 'width', undefined);\n            height = GetValue(config, 'height', undefined);\n        }\n\n        if (config === undefined) {\n            config = {};\n        }\n        var autoRound = scene.scale.autoRound;\n        if (width !== undefined) {\n            if (autoRound) {\n                width = Math.floor(width);\n            }\n            config.width = width + 'px';\n        }\n        if (height !== undefined) {\n            if (autoRound) {\n                height = Math.floor(height);\n            }\n            config.height = height + 'px';\n        }\n\n        var element;\n        var textType = GetValue(config, 'type', 'text');\n        if (textType === 'textarea') {\n            element = document.createElement(\"textarea\");\n            element.style.resize = 'none';\n        } else {\n            element = document.createElement(\"input\");\n            element.type = textType;\n        }\n\n        // Apply registed style properties\n        var elemProp, elemPropValue;\n        for (var key in ElementProperties) {\n            elemProp = ElementProperties[key];\n            elemPropValue = GetValue(config, key, elemProp[1]);\n            if (elemPropValue !== undefined) {\n                element[elemProp[0]] = elemPropValue;\n            }\n        }\n\n        var style = GetValue(config, 'style', undefined);\n        if (style === undefined) {\n            style = {};\n        }\n        // Apply registed style properties\n        var styleProp, stylePropValue;\n        for (var key in StyleProperties) {\n            styleProp = StyleProperties[key];\n            stylePropValue = GetValue(config, key, styleProp[1]);\n            if (stylePropValue !== undefined) {\n                style[styleProp[0]] = stylePropValue;\n            }\n        }\n        // Apply other style properties\n        var elementStyle = element.style;\n        for (var key in config) {\n            if ((key in ElementProperties) || (key in StyleProperties)) {\n                continue;\n            } else if (key in elementStyle) {\n                style[key] = config[key];\n            }\n        }\n        style['box-sizing'] = 'border-box';\n        super(scene, x, y, element, style);\n        this.type = 'rexInputText';\n\n        // Apply events\n        for (let eventName in ElementEvents) { // Note: Don't use `var` here\n            this.node[ElementEvents[eventName]] = (function () {\n                this.emit(eventName, this);\n            }).bind(this);\n        }\n\n        // Don't propagate touch/mouse events to parent(game canvas)\n        Object(_utils_input_StopPropagationTouchEvents_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this.node);\n    }\n\n    resize(width, height) {\n        var style = this.node.style;\n        style.width = width + 'px';\n        style.height = height + 'px';\n        this.updateSize();\n        return this;\n    }\n\n    get text() {\n        return this.node.value;\n    }\n\n    set text(value) {\n        this.node.value = value;\n    }\n\n    setText(value) { // Override\n        this.text = value;\n        return this;\n    }\n\n    selectText() {\n        this.node.select();\n        return this;\n    }\n\n    get placeholder() {\n        return this.node.placeholder;\n    }\n\n    set placeholder(value) {\n        this.node.placeholder = value;\n    }\n\n    setPlaceholder(value) {\n        this.placeholder = value;\n        return this;\n    }\n\n    get tooltip() {\n        return this.node.title;\n    }\n\n    set tooltip(value) {\n        this.node.title = value;\n    }\n\n    setTooltip(value) {\n        this.tooltip = value;\n        return this;\n    }\n\n    setTextChangedCallback(callback) {\n        this.onTextChanged = callback;\n        return this;\n    }\n\n    get readOnly() {\n        return this.node.readOnly;\n    }\n\n    set readOnly(value) {\n        this.node.readOnly = value;\n    }\n\n    setReadOnly(value) {\n        if (value === undefined) {\n            value = true;\n        }\n        this.readOnly = value;\n        return this;\n    }\n\n    get spellCheck() {\n        return this.node.spellcheck;\n    }\n\n    set spellCheck(value) {\n        this.node.spellcheck = value;\n    }\n\n    setSpellCheck(value) {\n        this.spellCheck = value;\n        return this;\n    }\n\n    setStyle(key, value) {\n        this.node.style[key] = value;\n        return this;\n    }\n\n    getStyle(key) {\n        return this.node.style[key];\n    }\n\n    scrollToBottom() {\n        this.node.scrollTop = this.node.scrollHeight;\n        return this;\n    }\n\n    setEnabled(enabled) {\n        if (enabled === undefined) {\n            enabled = true;\n        }\n        this.node.disabled = !enabled;\n        return this;\n    }\n\n    setBlur() {\n        this.node.blur();\n        return this;\n    }\n\n    setFocus() {\n        this.node.focus();\n        return this;\n    }\n}\n\nconst ElementProperties = {\n    id: ['id', undefined],\n    text: ['value', undefined],\n    placeholder: ['placeholder', undefined],\n    tooltip: ['title', undefined],\n    readOnly: ['readonly', false],\n    spellCheck: ['spellcheck', false],\n    autoComplete: ['autocomplete', 'off'],\n    maxLength: ['maxLength', undefined]\n};\n\nconst StyleProperties = {\n    align: ['textAlign', undefined],\n    width: ['width', undefined],\n    height: ['height', undefined],\n    fontFamily: ['fontFamily', undefined],\n    fontSize: ['font-size', undefined],\n    color: ['color', '#ffffff'],\n    backgroundColor: ['backgroundColor', 'transparent'],\n    borderColor: ['borderColor', 'transparent'],\n    outline: ['outline', 'none'],\n};\n\nconst ElementEvents = {\n    textchange: 'oninput',\n    click: 'onclick',\n    dblclick: 'ondblclick',\n    focus: 'onfocus',\n    blur: 'onblur',\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (InputText);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/inputtext/InputText.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/ninepatch/Creator.js":
/*!****************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/ninepatch/Creator.js ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _NinePatch_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./NinePatch.js */ \"./lib/rexui/lib/plugins/gameobjects/ninepatch/NinePatch.js\");\n\n\nconst BuildGameObject = Phaser.GameObjects.BuildGameObject;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (config, addToScene) {\n    if (addToScene !== undefined) {\n        config.add = addToScene;\n    }\n    var gameObject = new _NinePatch_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.scene, config);\n    BuildGameObject(this.scene, gameObject, config);\n    return gameObject;\n});;\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/ninepatch/Creator.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/ninepatch/Factory.js":
/*!****************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/ninepatch/Factory.js ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _NinePatch_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./NinePatch.js */ \"./lib/rexui/lib/plugins/gameobjects/ninepatch/NinePatch.js\");\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (x, y, width, height, key, baseFrame, columns, rows, config) {\n    var gameObject = new _NinePatch_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.scene, x, y, width, height, key, baseFrame, columns, rows, config);\n    this.scene.add.existing(gameObject);\n    return gameObject;\n});\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/ninepatch/Factory.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/ninepatch/NinePatch.js":
/*!******************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/ninepatch/NinePatch.js ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _texture_TextureMethods_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./texture/TextureMethods.js */ \"./lib/rexui/lib/plugins/gameobjects/ninepatch/texture/TextureMethods.js\");\n/* harmony import */ var _utils_DefaultGetFrameNameCallback_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/DefaultGetFrameNameCallback.js */ \"./lib/rexui/lib/plugins/gameobjects/ninepatch/utils/DefaultGetFrameNameCallback.js\");\n/* harmony import */ var _utils_object_IsArray_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/object/IsArray.js */ \"./lib/rexui/lib/plugins/utils/object/IsArray.js\");\n\n\n\n\nconst RenderTexture = Phaser.GameObjects.RenderTexture;\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\nconst GetValue = Phaser.Utils.Objects.GetValue;\n\nclass NinePatch extends RenderTexture {\n    constructor(scene, x, y, width, height, key, baseFrame, columns, rows, config) {\n        if (IsPlainObject(x)) {\n            config = x;\n            x = GetValue(config, 'x', 0);\n            y = GetValue(config, 'y', 0);\n            width = GetValue(config, 'width', 1);\n            height = GetValue(config, 'height', 1);\n            key = GetValue(config, 'key', undefined);\n            baseFrame = GetValue(config, 'baseFrame', undefined);\n            columns = GetValue(config, 'columns', undefined);\n            rows = GetValue(config, 'rows', undefined);\n        } else if (IsPlainObject(width)) {\n            config = width;\n            width = GetValue(config, 'width', 1);\n            height = GetValue(config, 'height', 1);\n            key = GetValue(config, 'key', undefined);\n            baseFrame = GetValue(config, 'baseFrame', undefined);\n            columns = GetValue(config, 'columns', undefined);\n            rows = GetValue(config, 'rows', undefined);\n        } else if (IsPlainObject(key)) {\n            config = key;\n            key = GetValue(config, 'key', undefined);\n            baseFrame = GetValue(config, 'baseFrame', undefined);\n            columns = GetValue(config, 'columns', undefined);\n            rows = GetValue(config, 'rows', undefined);\n        } else if (IsPlainObject(baseFrame)) {\n            config = baseFrame;\n            baseFrame = GetValue(config, 'baseFrame', undefined);\n            columns = GetValue(config, 'columns', undefined);\n            rows = GetValue(config, 'rows', undefined);\n        } else if (Object(_utils_object_IsArray_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(baseFrame)) {\n            config = rows;\n            rows = columns;\n            columns = baseFrame;\n            baseFrame = GetValue(config, 'baseFrame', undefined);\n        } else if (IsPlainObject(columns)) {\n            config = columns;\n            columns = GetValue(config, 'columns', undefined);\n            rows = GetValue(config, 'rows', undefined);\n        }\n\n        super(scene, x, y, width, height);\n        this.columns = {};\n        this.rows = {};\n        this.stretchMode = {};\n        this._tileSprite = undefined; // Reserved for drawing image\n        this._image = undefined; // Reserved for drawing image\n\n        this.setOrigin(0.5, 0.5);\n        this.setGetFrameNameCallback(GetValue(config, 'getFrameNameCallback', undefined));\n        this.setStretchMode(GetValue(config, 'stretchMode', 0));\n        this.setTexture(key, baseFrame, columns, rows); // Also update render texture\n    }\n\n    setGetFrameNameCallback(callback) {\n        if (callback === undefined) {\n            callback = _utils_DefaultGetFrameNameCallback_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"];\n        }\n        this.getFrameNameCallback = callback;\n        return this;\n    }\n\n    get minWidth() {\n        return this.columns.minWidth;\n    }\n\n    get minHeight() {\n        return this.rows.minHeight;\n    }\n\n    resize(width, height) {\n        if ((this.width === width) && (this.height === height)) {\n            return this;\n        }\n\n        super.resize(width, height);\n        this.updateTexture();\n        return this;\n    }\n}\n\nObject.assign(\n    NinePatch.prototype,\n    _texture_TextureMethods_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]\n);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (NinePatch);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/ninepatch/NinePatch.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/ninepatch/texture/GetStretchMode.js":
/*!*******************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/ninepatch/texture/GetStretchMode.js ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_IsEdge_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/IsEdge.js */ \"./lib/rexui/lib/plugins/gameobjects/ninepatch/utils/IsEdge.js\");\n\n\nvar GetStretchMode = function(colIndex, rowIndex) {\n    return (_utils_IsEdge_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].call(this, colIndex, rowIndex)) ? this.stretchMode.edge : this.stretchMode.internal;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GetStretchMode);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/ninepatch/texture/GetStretchMode.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/ninepatch/texture/SetStretchMode.js":
/*!*******************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/ninepatch/texture/SetStretchMode.js ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\nconst GetValue = Phaser.Utils.Objects.GetValue;\n\nvar SetStretchMode = function(mode) {\n    if (IsPlainObject(mode)) {\n        this.stretchMode.edge = parseMode(GetValue(mode, 'edge', 0));\n        this.stretchMode.internal = parseMode(GetValue(mode, 'internal', 0));\n    } else {\n        mode = parseMode(mode);\n        this.stretchMode.edge = mode;\n        this.stretchMode.internal = mode;\n    }\n    return this;\n};\n\nvar parseMode = function (mode) {\n    if (typeof (mode) === 'string') {\n        mode = EXTENDMODE[mode];\n    }\n    return mode;\n}\n\nconst EXTENDMODE = {\n    scale: 0,\n    repeat: 1,\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (SetStretchMode);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/ninepatch/texture/SetStretchMode.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/ninepatch/texture/SetTexture.js":
/*!***************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/ninepatch/texture/SetTexture.js ***!
  \***************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_object_IsArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../utils/object/IsArray.js */ \"./lib/rexui/lib/plugins/utils/object/IsArray.js\");\n\n\nvar SetTexture = function (key, baseFrameName, columns, rows) {\n    if (Object(_utils_object_IsArray_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(baseFrameName)) {\n        rows = columns;\n        columns = baseFrameName;\n        baseFrameName = undefined;\n    }\n\n    if (baseFrameName === undefined) {\n        baseFrameName = '__BASE';\n    }\n\n    this.textureKey = key;\n    this.baseFrameName = baseFrameName;\n    this.columns.data = columns;\n    this.columns.count = (columns) ? columns.length : 0;\n    this.columns.stretch = 0;\n    this.columns.minWidth = 0;\n    this.rows.data = rows;\n    this.rows.count = (rows) ? rows.length : 0;\n    this.rows.stretch = 0;\n    this.rows.minHeight = 0;\n\n    var texture = this.scene.textures.get(key);\n    if (!texture) {\n        this.clear();\n        return this;\n    }\n    if (!columns || !rows) {\n        this.clear();\n        return this;\n    }\n\n    // Get remainder width/height for unknown width/height\n    var baseFrame = texture.frames[baseFrameName];\n    var remainderTextureWidth = baseFrame.width;\n    var unknownColumnWidthCount = 0;\n    for (var i = 0, cnt = columns.length; i < cnt; i++) {\n        if (columns[i] === undefined) {\n            unknownColumnWidthCount++;\n        } else if (typeof (columns[i]) === 'number') {\n            remainderTextureWidth -= columns[i];\n        } else {\n            remainderTextureWidth -= columns[i].width;\n        }\n    }\n    var unknownColumnWidth = remainderTextureWidth / unknownColumnWidthCount;\n\n    var remainderTextureHeight = baseFrame.height;\n    var unknownRowHeightCount = 0;\n    for (var i = 0, cnt = rows.length; i < cnt; i++) {\n        if (rows[i] === undefined) {\n            unknownRowHeightCount++;\n        } else if (typeof (rows[i]) === 'number') {\n            remainderTextureHeight -= rows[i];\n        } else {\n            remainderTextureHeight -= rows[i].width;\n        }\n    }\n    var unknownRowHeight = remainderTextureHeight / unknownRowHeightCount;\n\n    var row, col, rowHeight, colWidth, frameName;\n    var offsetX = 0, offsetY = 0;\n    for (var j = 0, jcnt = rows.length; j < jcnt; j++) {\n        // Unknown height\n        if (rows[j] === undefined) {\n            rows[j] = unknownRowHeight;\n        }\n\n        if (typeof (rows[j]) === 'number') {\n            rows[j] = {\n                height: rows[j],\n                stretch: (j % 2),\n            }\n        }\n\n        row = rows[j];\n        rowHeight = row.height;\n\n        this.rows.stretch += (row.stretch | 0);\n        this.rows.minHeight += (row.stretch > 0) ? 0 : rowHeight;\n\n        offsetX = 0;\n        for (var i = 0, icnt = columns.length; i < icnt; i++) {\n            // Unknown width\n            if (columns[i] === undefined) {\n                columns[i] = unknownColumnWidth;\n            }\n\n            if (typeof (columns[i]) === 'number') {\n                columns[i] = {\n                    width: columns[i],\n                    stretch: (i % 2),\n                }\n            }\n\n            col = columns[i];\n            colWidth = col.width;\n\n            if (j === 0) {\n                this.columns.stretch += (col.stretch | 0);\n                this.columns.minWidth += (col.stretch > 0) ? 0 : colWidth;\n            }\n\n            if ((colWidth >= 1) && (rowHeight >= 1)) {\n                frameName = this.getFrameNameCallback(i, j, baseFrameName);\n                if (frameName) {\n                    texture.add(\n                        frameName, 0,\n                        (offsetX + baseFrame.cutX), (offsetY + baseFrame.cutY),\n                        colWidth, rowHeight\n                    );\n                    // Do nothing if frameName is existed\n                }\n            } else {\n                console.warn(`Size of Grid(${i},${j}) = ${colWidth}x${rowHeight}, which is invalid`);\n            }\n            offsetX += colWidth;\n        }\n        offsetY += rowHeight;\n    }\n\n    this.updateTexture();\n    return this;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (SetTexture);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/ninepatch/texture/SetTexture.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/ninepatch/texture/TextureMethods.js":
/*!*******************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/ninepatch/texture/TextureMethods.js ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _SetTexture_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./SetTexture.js */ \"./lib/rexui/lib/plugins/gameobjects/ninepatch/texture/SetTexture.js\");\n/* harmony import */ var _UpdateTexture_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./UpdateTexture.js */ \"./lib/rexui/lib/plugins/gameobjects/ninepatch/texture/UpdateTexture.js\");\n/* harmony import */ var _SetStretchMode_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./SetStretchMode.js */ \"./lib/rexui/lib/plugins/gameobjects/ninepatch/texture/SetStretchMode.js\");\n/* harmony import */ var _GetStretchMode_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./GetStretchMode.js */ \"./lib/rexui/lib/plugins/gameobjects/ninepatch/texture/GetStretchMode.js\");\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    setTexture: _SetTexture_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    updateTexture: _UpdateTexture_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n    setStretchMode: _SetStretchMode_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n    getStretchMode: _GetStretchMode_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n});\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/ninepatch/texture/TextureMethods.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/ninepatch/texture/UpdateTexture.js":
/*!******************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/ninepatch/texture/UpdateTexture.js ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_renderTexture_MakeChildImageGameObject_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../utils/renderTexture/MakeChildImageGameObject.js */ \"./lib/rexui/lib/plugins/utils/renderTexture/MakeChildImageGameObject.js\");\n\n\nvar UpdateTexture = function () {\n    this.clear();\n\n    if (this.textureKey === undefined) {\n        return this;\n    }\n    var texture = this.scene.textures.get(this.textureKey);\n    if (!texture) {\n        return this;\n    }\n\n    var stretchWidth = this.width - this.columns.minWidth;\n    var proportionWidth, fixedPartScaleX;\n    if (stretchWidth >= 0) {\n        proportionWidth = (this.columns.stretch > 0) ? (stretchWidth / this.columns.stretch) : 0;\n        fixedPartScaleX = 1;\n    } else {\n        proportionWidth = 0;\n        fixedPartScaleX = (this.width / this.columns.minWidth);\n    }\n\n    var stretchHeight = this.height - this.rows.minHeight;\n    var proportionHeight, fixedPartScaleY;\n    if (stretchHeight >= 0) {\n        proportionHeight = (this.rows.stretch > 0) ? (stretchHeight / this.rows.stretch) : 0;\n        fixedPartScaleY = 1;\n    } else {\n        proportionHeight = 0;\n        fixedPartScaleY = (this.height / this.rows.minHeight);\n    }\n\n    var frameName, col, row, colWidth, rowHeight;\n    var offsetX = 0, offsetY = 0;\n    var gameObject, imageType;\n    for (var j = 0, jcnt = this.rows.count; j < jcnt; j++) {\n        row = this.rows.data[j];\n        rowHeight = (row.stretch === 0) ? (row.height * fixedPartScaleY) : (proportionHeight * row.stretch);\n\n        offsetX = 0;\n        for (var i = 0, icnt = this.columns.count; i < icnt; i++) {\n            col = this.columns.data[i];\n            colWidth = (col.stretch === 0) ? (col.width * fixedPartScaleX) : (proportionWidth * col.stretch);\n\n            frameName = this.getFrameNameCallback(i, j, this.baseFrameName);\n            if (frameName && (colWidth > 0) && (rowHeight > 0) && texture.has(frameName)) {\n                if ((row.stretch === 0) && (col.stretch === 0)) { // Fixed parts\n                    imageType = 0; // Draw image\n                } else { // Stretchable parts\n                    if (this.getStretchMode(i, j) === 0) { // Scaled image\n                        imageType = 0; // Draw scaled image\n                    } else { // Repeat tile-sprite\n                        imageType = 1; // Draw tile-sprite\n                    }\n                }\n\n                if (imageType === 0) {\n                    gameObject = Object(_utils_renderTexture_MakeChildImageGameObject_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, '_image', 'image');\n                    gameObject\n                        .setTexture(this.textureKey, frameName)\n                        .setDisplaySize(colWidth, rowHeight);\n                } else {\n                    gameObject = Object(_utils_renderTexture_MakeChildImageGameObject_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, '_tileSprite', 'tileSprite');\n                    gameObject\n                        .setTexture(this.textureKey, frameName)\n                        .setSize(colWidth, rowHeight);\n                }\n            }\n\n            if (gameObject) {\n                this.draw(gameObject, offsetX, offsetY);\n                gameObject = undefined;\n            }\n            offsetX += colWidth;\n        }\n\n        offsetY += rowHeight;\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (UpdateTexture);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/ninepatch/texture/UpdateTexture.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/ninepatch/utils/DefaultGetFrameNameCallback.js":
/*!******************************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/ninepatch/utils/DefaultGetFrameNameCallback.js ***!
  \******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nconst DefaultBaseFrameName = '__BASE';\n\nvar GetFrameNameCallback = function (colIndex, rowIndex, baseFrameName) {\n    if (baseFrameName === DefaultBaseFrameName) {\n        return `${colIndex},${rowIndex}`;\n    } else {\n        return `${baseFrameName}_${colIndex},${rowIndex}`;\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GetFrameNameCallback);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/ninepatch/utils/DefaultGetFrameNameCallback.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/ninepatch/utils/IsEdge.js":
/*!*********************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/ninepatch/utils/IsEdge.js ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar IsEdge = function (colIndex, rowIndex) {\n    return (colIndex === 0) || (colIndex === (this.columns.count - 1)) ||\n        (rowIndex === 0) || (rowIndex === (this.rows.count - 1));\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (IsEdge);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/ninepatch/utils/IsEdge.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/shape/roundrectangle/RoundRectangle.js":
/*!**********************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/shape/roundrectangle/RoundRectangle.js ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _geom_RoundRectangle_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./geom/RoundRectangle.js */ \"./lib/rexui/lib/plugins/gameobjects/shape/roundrectangle/geom/RoundRectangle.js\");\n/* harmony import */ var _utils_LineTo_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/LineTo.js */ \"./lib/rexui/lib/plugins/gameobjects/shape/utils/LineTo.js\");\n/* harmony import */ var _utils_ArcTo_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/ArcTo.js */ \"./lib/rexui/lib/plugins/gameobjects/shape/utils/ArcTo.js\");\n/* harmony import */ var _utils_geom_polygon_Earcut_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../utils/geom/polygon/Earcut.js */ \"./lib/rexui/lib/plugins/utils/geom/polygon/Earcut.js\");\n/* harmony import */ var _utils_geom_polygon_Earcut_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_utils_geom_polygon_Earcut_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _render_Render_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./render/Render.js */ \"./lib/rexui/lib/plugins/gameobjects/shape/roundrectangle/render/Render.js\");\n\n\n\n\n\n\nconst GetValue = Phaser.Utils.Objects.GetValue;\n\nclass RoundRectangle extends Phaser.GameObjects.Shape {\n    constructor(scene, x, y, width, height, radiusConfig, fillColor, fillAlpha) {\n        if (x === undefined) {\n            x = 0;\n        }\n        if (y === undefined) {\n            y = 0;\n        }\n\n        var iteration = GetValue(radiusConfig, 'iteration', undefined);\n        radiusConfig = GetValue(radiusConfig, 'radius', radiusConfig);\n        var geom = new _geom_RoundRectangle_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](0, 0, width, height, radiusConfig);\n        super(scene, 'RoundRectangle', geom);\n\n        this.setIteration(iteration);\n        this.setPosition(x, y);\n        // this.setSize(this.geom.width, this.geom.height);\n\n        if (fillColor !== undefined) {\n            this.setFillStyle(fillColor, fillAlpha);\n        }\n\n        this.updateDisplayOrigin();\n        this.updateData();\n    }\n\n    updateData() {\n        var geom = this.geom;\n        var pathData = this.pathData;\n\n        pathData.length = 0;\n\n        var cornerRadius = geom.cornerRadius,\n            radius,\n            iteration = this.iteration + 1;\n        // bottom-right\n        radius = cornerRadius.br;\n        if (isArcCorner(radius)) {\n            var centerX = geom.width - radius.x;\n            var centerY = geom.height - radius.y;\n            Object(_utils_ArcTo_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(centerX, centerY, radius.x, radius.y, 0, 90, false, iteration, pathData);\n        } else {\n            Object(_utils_LineTo_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(geom.width, geom.height, pathData);\n        }\n\n        // bottom-left\n        radius = cornerRadius.bl;\n        if (isArcCorner(radius)) {\n            var centerX = radius.x;\n            var centerY = geom.height - radius.y;\n            Object(_utils_ArcTo_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(centerX, centerY, radius.x, radius.y, 90, 180, false, iteration, pathData);\n        } else {\n            Object(_utils_LineTo_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(0, geom.height, pathData);\n        }\n\n        // top-left\n        radius = cornerRadius.tl;\n        if (isArcCorner(radius)) {\n            var centerX = radius.x;\n            var centerY = radius.y;\n            Object(_utils_ArcTo_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(centerX, centerY, radius.x, radius.y, 180, 270, false, iteration, pathData);\n        } else {\n            Object(_utils_LineTo_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(0, 0, pathData);\n        }\n\n        // top-right\n        radius = cornerRadius.tr;\n        if (isArcCorner(radius)) {\n            var centerX = geom.width - radius.x;\n            var centerY = radius.y;\n            Object(_utils_ArcTo_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(centerX, centerY, radius.x, radius.y, 270, 360, false, iteration, pathData);\n        } else {\n            Object(_utils_LineTo_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(geom.width, 0, pathData);\n        }\n\n        pathData.push(pathData[0], pathData[1]); // Repeat first point to close curve\n        this.pathIndexes = _utils_geom_polygon_Earcut_js__WEBPACK_IMPORTED_MODULE_3___default()(pathData);\n        return this;\n    }\n\n    get width() {\n        return this.geom.width;\n    }\n    set width(value) {\n        this.resize(value, this.height);\n    }\n\n    get height() {\n        return this.geom.height;\n    }\n    set height(value) {\n        this.resize(this.width, value);\n    }\n\n    resize(width, height) {\n        if (height === undefined) {\n            height = width;\n        }\n        if ((this.geom.width === width) && (this.geom.height === height)) {\n            return this;\n        }\n        this.geom.height = height;\n        this.geom.width = width\n        this.updateDisplayOrigin();\n        this.updateData();\n\n        var input = this.input;\n        if (input && !input.customHitArea) {\n            input.hitArea.width = width;\n            input.hitArea.height = height;\n        }\n        return this;\n    }\n\n    get iteration() {\n        return this._iteration;\n    }\n\n    set iteration(value) {\n        // Set iteration first time\n        if (this._iteration === undefined) {\n            this._iteration = value;\n            return;\n        }\n\n        // Change iteration value\n        if (this._iteration === value) {\n            return;\n        }\n\n        this._iteration = value;\n        this.updateData();\n    }\n\n    setIteration(iteration) {\n        if (iteration === undefined) {\n            iteration = 6;\n        }\n        this.iteration = iteration;\n        return this;\n    }\n\n    get radius() {\n        return this.geom.radius;\n    }\n\n    set radius(value) {\n        this.geom.setRadius(value);\n        this.updateDisplayOrigin();\n        this.updateData();\n    }\n\n    setRadius(value) {\n        if (value === undefined) {\n            value = 0;\n        }\n        this.radius = value;\n        return this;\n    }\n\n    get cornerRadius() {\n        return this.geom.cornerRadius;\n    }\n\n    set cornerRadius(value) {\n        this.radius = value;\n    }\n\n    setCornerRadius(value) {\n        return this.setRadius(value);\n    }\n}\n\nvar isArcCorner = function (radius) {\n    return ((radius.x !== 0) && (radius.y !== 0));\n}\n\n\nObject.assign(\n    RoundRectangle.prototype,\n    _render_Render_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]\n);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (RoundRectangle);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/shape/roundrectangle/RoundRectangle.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/shape/roundrectangle/geom/RoundRectangle.js":
/*!***************************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/shape/roundrectangle/geom/RoundRectangle.js ***!
  \***************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nconst GetValue = Phaser.Utils.Objects.GetValue;\n\nclass RoundRectangle {\n    constructor(x, y, width, height, radiusConfig) {\n        this.cornerRadius = {};\n        this._width = 0;\n        this._height = 0;\n        this.setTo(x, y, width, height, radiusConfig);\n    }\n\n    setTo(x, y, width, height, radiusConfig) {\n        this.setPosition(x, y);\n        this.setRadius(radiusConfig);\n        this.setSize(width, height);\n        return this;\n    }\n\n    setPosition(x, y) {\n        if (x === undefined) {\n            x = 0;\n        }\n        if (y === undefined) {\n            y = x;\n        }\n        this.x = x;\n        this.y = y;\n        return this;\n    }\n\n    setRadius(config) {\n        if (config === undefined) {\n            config = 0;\n        }\n        var defaultRadiusX, defaultRadiusY;\n        if (typeof (config) === 'number') {\n            defaultRadiusX = config;\n            defaultRadiusY = config;\n        } else {\n            defaultRadiusX = GetValue(config, 'x', 0);\n            defaultRadiusY = GetValue(config, 'y', 0);\n        }\n\n        var radius = this.cornerRadius;\n        radius.tl = GetRadius(GetValue(config, 'tl', undefined), defaultRadiusX, defaultRadiusY);\n        radius.tr = GetRadius(GetValue(config, 'tr', undefined), defaultRadiusX, defaultRadiusY);\n        radius.bl = GetRadius(GetValue(config, 'bl', undefined), defaultRadiusX, defaultRadiusY);\n        radius.br = GetRadius(GetValue(config, 'br', undefined), defaultRadiusX, defaultRadiusY);\n        return this;\n    }\n\n    setSize(width, height) {\n        this.width = width;\n        this.height = height;\n        return this;\n    }\n\n    get minWidth() {\n        var radius = this.cornerRadius;\n        return Math.max(radius.tl.x + radius.tr.x, radius.bl.x + radius.br.x);\n    }\n\n    get minHeight() {\n        var radius = this.cornerRadius;\n        return Math.max(radius.tl.y + radius.bl.y, radius.tr.y + radius.br.y);\n    }\n\n    get width() {\n        return this._width;\n    }\n\n    set width(value) {\n        if (value == null) {\n            value = 0;\n        }\n        this._width = Math.max(value, this.minWidth);\n    }\n\n    get height() {\n        return this._height;\n    }\n\n    set height(value) {\n        if (value == null) {\n            value = 0;\n        }\n        this._height = Math.max(value, this.minHeight);\n    }\n\n    get radius() {\n        var radius = this.cornerRadius;\n        var max = Math.max(\n            radius.tl.x,\n            radius.tl.y,\n            radius.tr.x,\n            radius.tr.y,\n            radius.bl.x,\n            radius.bl.y,\n            radius.br.x,\n            radius.br.y\n        );\n        return max;\n    }\n}\n\nvar GetRadius = function (radius, defaultRadiusX, defaultRadiusY) {\n    if (radius === undefined) {\n        return {\n            x: defaultRadiusX,\n            y: defaultRadiusY\n        };\n    } else if (typeof (radius) === 'number') {\n        return {\n            x: radius,\n            y: radius\n        };\n    } else {\n        return radius;\n    }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (RoundRectangle);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/shape/roundrectangle/geom/RoundRectangle.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/shape/roundrectangle/render/CanvasRenderer.js":
/*!*****************************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/shape/roundrectangle/render/CanvasRenderer.js ***!
  \*****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2019 Photon Storm Ltd.\n * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}\n */\n\nvar FillStyleCanvas = __webpack_require__(/*! ../../utils/FillStyleCanvas */ \"./lib/rexui/lib/plugins/gameobjects/shape/utils/FillStyleCanvas.js\");\nvar LineStyleCanvas = __webpack_require__(/*! ../../utils/LineStyleCanvas */ \"./lib/rexui/lib/plugins/gameobjects/shape/utils/LineStyleCanvas.js\");\nvar SetTransform = Phaser.Renderer.Canvas.SetTransform;\n\n/**\n * Renders this Game Object with the Canvas Renderer to the given Camera.\n * The object will not render if any of its renderFlags are set or it is being actively filtered out by the Camera.\n * This method should not be called directly. It is a utility function of the Render module.\n *\n * @method Phaser.GameObjects.Polygon#renderCanvas\n * @since 3.13.0\n * @private\n *\n * @param {Phaser.Renderer.Canvas.CanvasRenderer} renderer - A reference to the current active Canvas renderer.\n * @param {Phaser.GameObjects.Polygon} src - The Game Object being rendered in this call.\n * @param {number} interpolationPercentage - Reserved for future use and custom pipelines.\n * @param {Phaser.Cameras.Scene2D.Camera} camera - The Camera that is rendering the Game Object.\n * @param {Phaser.GameObjects.Components.TransformMatrix} parentMatrix - This transform matrix is defined if the game object is nested\n */\nvar PolygonCanvasRenderer = function (renderer, src, interpolationPercentage, camera, parentMatrix) {\n    var ctx = renderer.currentContext;\n\n    if (SetTransform(renderer, ctx, src, camera, parentMatrix)) {\n        var dx = src._displayOriginX;\n        var dy = src._displayOriginY;\n\n        var path = src.pathData;\n        var pathLength = path.length - 1;\n\n        var px1 = path[0] - dx;\n        var py1 = path[1] - dy;\n\n        ctx.beginPath();\n\n        ctx.moveTo(px1, py1);\n\n        if (!src.closePath) {\n            pathLength -= 2;\n        }\n\n        for (var i = 2; i < pathLength; i += 2) {\n            var px2 = path[i] - dx;\n            var py2 = path[i + 1] - dy;\n\n            ctx.lineTo(px2, py2);\n        }\n\n        ctx.closePath();\n\n        if (src.isFilled) {\n            FillStyleCanvas(ctx, src);\n\n            ctx.fill();\n        }\n\n        if (src.isStroked) {\n            LineStyleCanvas(ctx, src);\n\n            ctx.stroke();\n        }\n\n        //  Restore the context saved in SetTransform\n        ctx.restore();\n    }\n};\n\nmodule.exports = PolygonCanvasRenderer;\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/shape/roundrectangle/render/CanvasRenderer.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/shape/roundrectangle/render/Render.js":
/*!*********************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/shape/roundrectangle/render/Render.js ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _WebGLRenderer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./WebGLRenderer.js */ \"./lib/rexui/lib/plugins/gameobjects/shape/roundrectangle/render/WebGLRenderer.js\");\n/* harmony import */ var _WebGLRenderer_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_WebGLRenderer_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _CanvasRenderer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CanvasRenderer.js */ \"./lib/rexui/lib/plugins/gameobjects/shape/roundrectangle/render/CanvasRenderer.js\");\n/* harmony import */ var _CanvasRenderer_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_CanvasRenderer_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_object_NOOP_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../utils/object/NOOP.js */ \"./lib/rexui/lib/plugins/utils/object/NOOP.js\");\n\n\n\n\nvar renderWebGL = _utils_object_NOOP_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"];\nvar renderCanvas = _utils_object_NOOP_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"];\n\nif (true) {\n    renderWebGL = _WebGLRenderer_js__WEBPACK_IMPORTED_MODULE_0___default.a;\n}\n\nif (true) {\n    renderCanvas = _CanvasRenderer_js__WEBPACK_IMPORTED_MODULE_1___default.a;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    renderWebGL: renderWebGL,\n    renderCanvas: renderCanvas\n\n});\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/shape/roundrectangle/render/Render.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/shape/roundrectangle/render/WebGLRenderer.js":
/*!****************************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/shape/roundrectangle/render/WebGLRenderer.js ***!
  \****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2019 Photon Storm Ltd.\n * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}\n */\n\nvar FillPathWebGL = __webpack_require__(/*! ../../utils/FillPathWebGL */ \"./lib/rexui/lib/plugins/gameobjects/shape/utils/FillPathWebGL.js\");\nvar StrokePathWebGL = __webpack_require__(/*! ../../utils/StrokePathWebGL */ \"./lib/rexui/lib/plugins/gameobjects/shape/utils/StrokePathWebGL.js\");\n\n/**\n * Renders this Game Object with the WebGL Renderer to the given Camera.\n * The object will not render if any of its renderFlags are set or it is being actively filtered out by the Camera.\n * This method should not be called directly. It is a utility function of the Render module.\n *\n * @method Phaser.GameObjects.Polygon#renderWebGL\n * @since 3.13.0\n * @private\n *\n * @param {Phaser.Renderer.WebGL.WebGLRenderer} renderer - A reference to the current active WebGL renderer.\n * @param {Phaser.GameObjects.Polygon} src - The Game Object being rendered in this call.\n * @param {number} interpolationPercentage - Reserved for future use and custom pipelines.\n * @param {Phaser.Cameras.Scene2D.Camera} camera - The Camera that is rendering the Game Object.\n * @param {Phaser.GameObjects.Components.TransformMatrix} parentMatrix - This transform matrix is defined if the game object is nested\n */\nvar PolygonWebGLRenderer = function (renderer, src, interpolationPercentage, camera, parentMatrix)\n{\n    var pipeline = this.pipeline;\n\n    var camMatrix = pipeline._tempMatrix1;\n    var shapeMatrix = pipeline._tempMatrix2;\n    var calcMatrix = pipeline._tempMatrix3;\n\n    renderer.setPipeline(pipeline);\n\n    shapeMatrix.applyITRS(src.x, src.y, src.rotation, src.scaleX, src.scaleY);\n\n    camMatrix.copyFrom(camera.matrix);\n\n    if (parentMatrix)\n    {\n        //  Multiply the camera by the parent matrix\n        camMatrix.multiplyWithOffset(parentMatrix, -camera.scrollX * src.scrollFactorX, -camera.scrollY * src.scrollFactorY);\n\n        //  Undo the camera scroll\n        shapeMatrix.e = src.x;\n        shapeMatrix.f = src.y;\n    }\n    else\n    {\n        shapeMatrix.e -= camera.scrollX * src.scrollFactorX;\n        shapeMatrix.f -= camera.scrollY * src.scrollFactorY;\n    }\n\n    camMatrix.multiply(shapeMatrix, calcMatrix);\n\n    var dx = src._displayOriginX;\n    var dy = src._displayOriginY;\n\n    var alpha = camera.alpha * src.alpha;\n\n    if (src.isFilled)\n    {\n        FillPathWebGL(pipeline, calcMatrix, src, alpha, dx, dy);\n    }\n\n    if (src.isStroked)\n    {\n        StrokePathWebGL(pipeline, src, alpha, dx, dy);\n    }\n};\n\nmodule.exports = PolygonWebGLRenderer;\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/shape/roundrectangle/render/WebGLRenderer.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/shape/utils/ArcTo.js":
/*!****************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/shape/utils/ArcTo.js ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _LineTo_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./LineTo.js */ \"./lib/rexui/lib/plugins/gameobjects/shape/utils/LineTo.js\");\n/* harmony import */ var _utils_math_DegToRad_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../utils/math/DegToRad.js */ \"./lib/rexui/lib/plugins/utils/math/DegToRad.js\");\n/* harmony import */ var _utils_math_DegToRad_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_utils_math_DegToRad_js__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\nvar ArcTo = function (centerX, centerY, radiusX, radiusY, startAngle, endAngle, antiClockWise, iteration, out) {\n    // startAngle, endAngle: 0 ~ 360\n    if (antiClockWise) {\n        endAngle += 360;\n    }\n\n    startAngle = _utils_math_DegToRad_js__WEBPACK_IMPORTED_MODULE_1___default()(startAngle);\n    endAngle = _utils_math_DegToRad_js__WEBPACK_IMPORTED_MODULE_1___default()(endAngle);\n    var x, y, angle;\n    var step = (endAngle - startAngle) / iteration;\n    for (var i = 0; i <= iteration; i++) {\n        angle = startAngle + (step * i);\n        x = centerX + (radiusX * Math.cos(angle));\n        y = centerY + (radiusY * Math.sin(angle));\n        Object(_LineTo_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(x, y, out);\n    }\n    return out;\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (ArcTo);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/shape/utils/ArcTo.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/shape/utils/FillPathWebGL.js":
/*!************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/shape/utils/FillPathWebGL.js ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2019 Photon Storm Ltd.\n * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}\n */\n\nvar Utils = Phaser.Renderer.WebGL.Utils;\n\n/**\n * Renders a filled path for the given Shape.\n *\n * @method Phaser.GameObjects.Shape#FillPathWebGL\n * @since 3.13.0\n * @private\n *\n * @param {Phaser.Renderer.WebGL.WebGLPipeline} pipeline - The WebGL Pipeline used to render this Shape.\n * @param {Phaser.GameObjects.Components.TransformMatrix} calcMatrix - The transform matrix used to get the position values.\n * @param {Phaser.GameObjects.Shape} src - The Game Object shape being rendered in this call.\n * @param {number} alpha - The base alpha value.\n * @param {number} dx - The source displayOriginX.\n * @param {number} dy - The source displayOriginY.\n */\nvar FillPathWebGL = function (pipeline, calcMatrix, src, alpha, dx, dy)\n{\n    var fillTintColor = Utils.getTintAppendFloatAlphaAndSwap(src.fillColor, src.fillAlpha * alpha);\n\n    var path = src.pathData;\n    var pathIndexes = src.pathIndexes;\n\n    for (var i = 0; i < pathIndexes.length; i += 3)\n    {\n        var p0 = pathIndexes[i] * 2;\n        var p1 = pathIndexes[i + 1] * 2;\n        var p2 = pathIndexes[i + 2] * 2;\n\n        var x0 = path[p0 + 0] - dx;\n        var y0 = path[p0 + 1] - dy;\n        var x1 = path[p1 + 0] - dx;\n        var y1 = path[p1 + 1] - dy;\n        var x2 = path[p2 + 0] - dx;\n        var y2 = path[p2 + 1] - dy;\n\n        var tx0 = calcMatrix.getX(x0, y0);\n        var ty0 = calcMatrix.getY(x0, y0);\n\n        var tx1 = calcMatrix.getX(x1, y1);\n        var ty1 = calcMatrix.getY(x1, y1);\n\n        var tx2 = calcMatrix.getX(x2, y2);\n        var ty2 = calcMatrix.getY(x2, y2);\n    \n        pipeline.setTexture2D();\n\n        pipeline.batchTri(tx0, ty0, tx1, ty1, tx2, ty2, 0, 0, 1, 1, fillTintColor, fillTintColor, fillTintColor, pipeline.tintEffect);\n    }\n};\n\nmodule.exports = FillPathWebGL;\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/shape/utils/FillPathWebGL.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/shape/utils/FillStyleCanvas.js":
/*!**************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/shape/utils/FillStyleCanvas.js ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2019 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\n/**\n * Sets the fillStyle on the target context based on the given Shape.\n *\n * @method Phaser.GameObjects.Shape#FillStyleCanvas\n * @since 3.13.0\n * @private\n *\n * @param {CanvasRenderingContext2D} ctx - The context to set the fill style on.\n * @param {Phaser.GameObjects.Shape} src - The Game Object to set the fill style from.\n * @param {number} [altColor] - An alternative color to render with.\n * @param {number} [altAlpha] - An alternative alpha to render with.\n */\nvar FillStyleCanvas = function (ctx, src, altColor, altAlpha)\n{\n    var fillColor = (altColor) ? altColor : src.fillColor;\n    var fillAlpha = (altAlpha) ? altAlpha : src.fillAlpha;\n\n    var red = ((fillColor & 0xFF0000) >>> 16);\n    var green = ((fillColor & 0xFF00) >>> 8);\n    var blue = (fillColor & 0xFF);\n\n    ctx.fillStyle = 'rgba(' + red + ',' + green + ',' + blue + ',' + fillAlpha + ')';\n};\n\nmodule.exports = FillStyleCanvas;\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/shape/utils/FillStyleCanvas.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/shape/utils/LineStyleCanvas.js":
/*!**************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/shape/utils/LineStyleCanvas.js ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2019 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\n/**\n * Sets the strokeStyle and lineWidth on the target context based on the given Shape.\n *\n * @method Phaser.GameObjects.Shape#LineStyleCanvas\n * @since 3.13.0\n * @private\n *\n * @param {CanvasRenderingContext2D} ctx - The context to set the stroke style on.\n * @param {Phaser.GameObjects.Shape} src - The Game Object to set the stroke style from.\n * @param {number} [altColor] - An alternative color to render with.\n * @param {number} [altAlpha] - An alternative alpha to render with.\n */\nvar LineStyleCanvas = function (ctx, src, altColor, altAlpha)\n{\n    var strokeColor = (altColor) ? altColor : src.strokeColor;\n    var strokeAlpha = (altAlpha) ? altAlpha : src.strokeAlpha;\n\n    var red = ((strokeColor & 0xFF0000) >>> 16);\n    var green = ((strokeColor & 0xFF00) >>> 8);\n    var blue = (strokeColor & 0xFF);\n\n    ctx.strokeStyle = 'rgba(' + red + ',' + green + ',' + blue + ',' + strokeAlpha + ')';\n    ctx.lineWidth = src.lineWidth;\n};\n\nmodule.exports = LineStyleCanvas;\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/shape/utils/LineStyleCanvas.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/shape/utils/LineTo.js":
/*!*****************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/shape/utils/LineTo.js ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar LineTo = function (x, y, out) {\n    var cnt = out.length;\n    if (cnt >= 2) {\n        var lastX = out[cnt - 2];\n        var lastY = out[cnt - 1];\n        if ((x === lastX) && (y === lastY)) {\n            return out;\n        }\n    }\n\n    out.push(x, y);\n    return out;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (LineTo);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/shape/utils/LineTo.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/shape/utils/StrokePathWebGL.js":
/*!**************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/shape/utils/StrokePathWebGL.js ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2019 Photon Storm Ltd.\n * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}\n */\n\nvar Utils = Phaser.Renderer.WebGL.Utils;\n\n/**\n * Renders a stroke outline around the given Shape.\n *\n * @method Phaser.GameObjects.Shape#StrokePathWebGL\n * @since 3.13.0\n * @private\n *\n * @param {Phaser.Renderer.WebGL.WebGLPipeline} pipeline - The WebGL Pipeline used to render this Shape.\n * @param {Phaser.GameObjects.Shape} src - The Game Object shape being rendered in this call.\n * @param {number} alpha - The base alpha value.\n * @param {number} dx - The source displayOriginX.\n * @param {number} dy - The source displayOriginY.\n */\nvar StrokePathWebGL = function (pipeline, src, alpha, dx, dy)\n{\n    var strokeTint = pipeline.strokeTint;\n    var strokeTintColor = Utils.getTintAppendFloatAlphaAndSwap(src.strokeColor, src.strokeAlpha * alpha);\n\n    strokeTint.TL = strokeTintColor;\n    strokeTint.TR = strokeTintColor;\n    strokeTint.BL = strokeTintColor;\n    strokeTint.BR = strokeTintColor;\n\n    var path = src.pathData;\n    var pathLength = path.length - 1;\n    var lineWidth = src.lineWidth;\n    var halfLineWidth = lineWidth / 2;\n\n    var px1 = path[0] - dx;\n    var py1 = path[1] - dy;\n\n    if (!src.closePath)\n    {\n        pathLength -= 2;\n    }\n\n    for (var i = 2; i < pathLength; i += 2)\n    {\n        var px2 = path[i] - dx;\n        var py2 = path[i + 1] - dy;\n\n        pipeline.setTexture2D();\n\n        pipeline.batchLine(\n            px1,\n            py1,\n            px2,\n            py2,\n            halfLineWidth,\n            halfLineWidth,\n            lineWidth,\n            i - 2,\n            (src.closePath) ? (i === pathLength - 1) : false\n        );\n\n        px1 = px2;\n        py1 = py2;\n    }\n};\n\nmodule.exports = StrokePathWebGL;\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/shape/utils/StrokePathWebGL.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/text/bbcodetext/BBCodeText.js":
/*!*************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/text/bbcodetext/BBCodeText.js ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _textbase_Text__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../textbase/Text */ \"./lib/rexui/lib/plugins/gameobjects/text/textbase/Text.js\");\n/* harmony import */ var _Parser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Parser */ \"./lib/rexui/lib/plugins/gameobjects/text/bbcodetext/Parser.js\");\n\n\n\nclass BBCodeText extends _textbase_Text__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(scene, x, y, text, style) {\n        super(scene, x, y, text, style, 'rexBBCodeText', _Parser__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (BBCodeText);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/text/bbcodetext/BBCodeText.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/text/bbcodetext/Creator.js":
/*!**********************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/text/bbcodetext/Creator.js ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _BBCodeText_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BBCodeText.js */ \"./lib/rexui/lib/plugins/gameobjects/text/bbcodetext/BBCodeText.js\");\n\n\nconst GetAdvancedValue = Phaser.Utils.Objects.GetAdvancedValue;\nconst BuildGameObject = Phaser.GameObjects.BuildGameObject;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (config, addToScene) {\n    // style Object = {\n    //     font: [ 'font', '16px Courier' ],\n    //     backgroundColor: [ 'backgroundColor', null ],\n    //     fill: [ 'fill', '#fff' ],\n    //     stroke: [ 'stroke', '#fff' ],\n    //     strokeThickness: [ 'strokeThickness', 0 ],\n    //     shadowOffsetX: [ 'shadow.offsetX', 0 ],\n    //     shadowOffsetY: [ 'shadow.offsetY', 0 ],\n    //     shadowColor: [ 'shadow.color', '#000' ],\n    //     shadowBlur: [ 'shadow.blur', 0 ],\n    //     shadowStroke: [ 'shadow.stroke', false ],\n    //     shadowFill: [ 'shadow.fill', false ],\n    //     align: [ 'align', 'left' ],\n    //     maxLines: [ 'maxLines', 0 ],\n    //     fixedWidth: [ 'fixedWidth', false ],\n    //     fixedHeight: [ 'fixedHeight', false ]\n    // }\n\n    var content = GetAdvancedValue(config, 'text', '');\n    var style = GetAdvancedValue(config, 'style', null);\n\n    //  Padding\n    //      { padding: 2 }\n    //      { padding: { x: , y: }}\n    //      { padding: { left: , top: }}\n    //      { padding: { left: , right: , top: , bottom: }}  \n\n    var padding = GetAdvancedValue(config, 'padding', null);\n\n    if (padding !== null) {\n        style.padding = padding;\n    }\n\n    if (addToScene !== undefined) {\n        config.add = addToScene;\n    }\n\n    var gameObject = new _BBCodeText_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.scene, 0, 0, content, style);\n    BuildGameObject(this.scene, gameObject, config);\n\n    //  Text specific config options:\n\n    gameObject.autoRound = GetAdvancedValue(config, 'autoRound', true);\n    gameObject.resolution = GetAdvancedValue(config, 'resolution', 1);\n\n    return gameObject;\n});;\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/text/bbcodetext/Creator.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/text/bbcodetext/Factory.js":
/*!**********************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/text/bbcodetext/Factory.js ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _BBCodeText_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BBCodeText.js */ \"./lib/rexui/lib/plugins/gameobjects/text/bbcodetext/BBCodeText.js\");\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (x, y, text, style) {\n    var gameObject = new _BBCodeText_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.scene, x, y, text, style);\n    this.scene.add.existing(gameObject);\n    return gameObject;\n});;\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/text/bbcodetext/Factory.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/text/bbcodetext/Parser.js":
/*!*********************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/text/bbcodetext/Parser.js ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _textbase_textstyle_TextStyle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../textbase/textstyle/TextStyle */ \"./lib/rexui/lib/plugins/gameobjects/text/textbase/textstyle/TextStyle.js\");\n\n\nvar GETPROP_RESULT = {\n    plainText: null,\n    prevProp: null\n};\n\nvar STYLE_RESULT = new _textbase_textstyle_TextStyle__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nvar EMPTYPROP = {};\n\nvar parser = {\n    splitText: function (text, mode) {\n        var result = [];\n        var arr, m, charIdx = 0,\n            totalLen = text.length,\n            matchStart = totalLen;\n\n        while (true) {\n            arr = RE_SPLITTEXT.exec(text);\n            if (!arr) {\n                break;\n            }\n\n            m = arr[0];\n            matchStart = RE_SPLITTEXT.lastIndex - m.length;\n\n            if (charIdx < matchStart) {\n                result.push(text.substring(charIdx, matchStart));\n            }\n\n            if (mode === undefined) {\n                result.push(m);\n            }\n\n            charIdx = RE_SPLITTEXT.lastIndex;\n        }\n\n        if (charIdx < totalLen) {\n            result.push(text.substring(charIdx, totalLen));\n        }\n        return result; // [text,...]\n    },\n\n    tagTextToProp: function (text, prevProp) {\n        var plainText, innerMatch;\n\n        if (prevProp == null) {\n            prevProp = {};\n        }\n\n        // close image tag\n        if (prevProp.img) {\n            updateProp(prevProp, PROP_REMOVE, 'img');\n        }\n        // Check if current fragment is a class tag\n        if (RE_BLOD_OPEN.test(text)) {\n            updateProp(prevProp, PROP_ADD, 'b', true);\n            plainText = '';\n        } else if (RE_BLOD_CLOSE.test(text)) {\n            updateProp(prevProp, PROP_REMOVE, 'b');\n            plainText = '';\n        } else if (RE_ITALICS_OPEN.test(text)) {\n            updateProp(prevProp, PROP_ADD, 'i', true);\n            plainText = '';\n        } else if (RE_ITALICS_CLOSE.test(text)) {\n            updateProp(prevProp, PROP_REMOVE, 'i');\n            plainText = '';\n        } else if (RE_SIZE_OPEN.test(text)) {\n            innerMatch = text.match(RE_SIZE_OPEN);\n            updateProp(prevProp, PROP_ADD, 'size', innerMatch[1] + 'px');\n            plainText = '';\n        } else if (RE_SIZE_CLOSE.test(text)) {\n            updateProp(prevProp, PROP_REMOVE, 'size');\n            plainText = '';\n        } else if (RE_COLOR_OPEN.test(text)) {\n            innerMatch = text.match(RE_COLOR_OPEN);\n            updateProp(prevProp, PROP_ADD, 'color', innerMatch[1]);\n            plainText = '';\n        } else if (RE_COLOR_CLOSE.test(text)) {\n            updateProp(prevProp, PROP_REMOVE, 'color');\n            plainText = '';\n        } else if (RE_UNDERLINE_OPEN.test(text)) {\n            innerMatch = text.match(RE_UNDERLINE_OPEN);\n            updateProp(prevProp, PROP_ADD, 'u', true);\n            plainText = '';\n        } else if (RE_UNDERLINE_OPENC.test(text)) {\n            innerMatch = text.match(RE_UNDERLINE_OPENC);\n            updateProp(prevProp, PROP_ADD, 'u', innerMatch[1]);\n            plainText = '';\n        } else if (RE_UNDERLINE_CLOSE.test(text)) {\n            updateProp(prevProp, PROP_REMOVE, 'u');\n            plainText = '';\n        } else if (RE_SHADOW_OPEN.test(text)) {\n            updateProp(prevProp, PROP_ADD, 'shadow', true);\n            plainText = '';\n        } else if (RE_SHADOW_CLOSE.test(text)) {\n            updateProp(prevProp, PROP_REMOVE, 'shadow');\n            plainText = '';\n        } else if (RE_STROKE_OPEN.test(text)) {\n            updateProp(prevProp, PROP_ADD, 'stroke', true);\n            plainText = '';\n        } else if (RE_STROKE_OPENC.test(text)) {\n            innerMatch = text.match(RE_STROKE_OPENC);\n            updateProp(prevProp, PROP_ADD, 'stroke', innerMatch[1]);\n            plainText = '';\n        } else if (RE_STROKE_CLOSE.test(text)) {\n            updateProp(prevProp, PROP_REMOVE, 'stroke');\n            plainText = '';\n        } else if (RE_IMAGE_OPEN.test(text)) {\n            innerMatch = text.match(RE_IMAGE_OPEN);\n            updateProp(prevProp, PROP_ADD, 'img', innerMatch[1]);\n            plainText = '';\n        } else if (RE_IMAGE_CLOSE.test(text)) {\n            updateProp(prevProp, PROP_REMOVE, 'img');\n            plainText = '';\n        } else if (RE_AREA_OPEN.test(text)) {\n            innerMatch = text.match(RE_AREA_OPEN);\n            updateProp(prevProp, PROP_ADD, 'area', innerMatch[1]);\n            plainText = '';\n        } else if (RE_AREA_CLOSE.test(text)) {\n            updateProp(prevProp, PROP_REMOVE, 'area');\n            plainText = '';            \n        } else {\n            plainText = text\n        }\n\n        var result = GETPROP_RESULT;\n        result.plainText = plainText;\n        result.prop = prevProp;\n        return result;\n    },\n\n    propToContextStyle: function (defaultStyle, prop) {\n        var result = STYLE_RESULT;\n        if (!prop.hasOwnProperty('img')) {\n            result.image = null;\n\n            if (prop.hasOwnProperty('family')) {\n                result.fontFamily = prop.family;\n            } else {\n                result.fontFamily = defaultStyle.fontFamily;\n            }\n\n            if (prop.hasOwnProperty('size')) {\n                var size = prop.size;\n                if (typeof (size) === 'number') {\n                    size = size.toString() + 'px';\n                }\n                result.fontSize = size;\n            } else {\n                result.fontSize = defaultStyle.fontSize;\n            }\n            result.fontStyle = getFontStyle(prop.b, prop.i);\n\n            if (prop.hasOwnProperty('color')) {\n                result.color = prop.color;\n            } else {\n                result.color = defaultStyle.color;\n            }\n\n            if (prop.hasOwnProperty('stroke')) {\n                if (prop.stroke === true) {\n                    result.stroke = defaultStyle.stroke;\n                    result.strokeThickness = defaultStyle.strokeThickness;\n                } else {\n                    result.stroke = prop.stroke;\n                    result.strokeThickness = defaultStyle.strokeThickness;\n                }\n            } else {\n                result.stroke = defaultStyle.stroke;\n                result.strokeThickness = 0;\n            }\n        } else {\n            result.image = prop.img;\n        }\n\n        if (prop.hasOwnProperty('shadow')) {\n            if (prop.shadow === true) {\n                result.shadowColor = defaultStyle.shadowColor;\n                result.shadowOffsetX = defaultStyle.shadowOffsetX;\n                result.shadowOffsetY = defaultStyle.shadowOffsetY;\n                result.shadowBlur = defaultStyle.shadowBlur;\n                result.shadowStroke = true;\n                result.shadowFill = true;\n            } else {\n                result.shadowColor = prop.shadow;\n                result.shadowOffsetX = defaultStyle.shadowOffsetX;\n                result.shadowOffsetY = defaultStyle.shadowOffsetY;\n                result.shadowBlur = defaultStyle.shadowBlur;\n                result.shadowStroke = true;\n                result.shadowFill = true;\n            }\n        } else {\n            result.shadowColor = '#000';\n            result.shadowOffsetX = 0;\n            result.shadowOffsetY = 0;\n            result.shadowBlur = 0;\n            result.shadowStroke = false;\n            result.shadowFill = false;\n        }\n\n        if (prop.hasOwnProperty('u')) {\n            if (prop.u === true) {\n                result.underlineColor = defaultStyle.underlineColor;\n                result.underlineThickness = defaultStyle.underlineThickness;\n                result.underlineOffset = defaultStyle.underlineOffset;\n            } else {\n                result.underlineColor = prop.u;\n                result.underlineThickness = defaultStyle.underlineThickness;\n                result.underlineOffset = defaultStyle.underlineOffset;\n            }\n        } else {\n            result.underlineColor = '#000';\n            result.underlineThickness = 0;\n            result.underlineOffset = 0;\n        }\n\n        return result;\n    },\n\n    propToTagText: function (text, prop, prevProp) {\n        if (prevProp == null) {\n            prevProp = EMPTYPROP;\n        }\n\n        for (var k in prevProp) {\n            if (prop.hasOwnProperty(k)) {\n                continue;\n            }\n\n            text = '[/' + k + ']' + text;\n        }\n\n        var header = '';\n        for (var k in prop) {\n            if (prevProp[k] === prop[k]) {\n                continue;\n            }\n\n            if (k === 'size') {\n                header += ('[size=' + prop[k].replace('px', '') + ']');\n            } else if ((k === 'color') || (k === 'stroke') || (k === 'img')) {\n                header += ('[' + k + '=' + prop[k] + ']');\n            } else if (k === 'u') {\n                if (prop[k] === true) {\n                    header += '[u]';\n                } else {\n                    header += ('[u=' + prop[k] + ']');\n                }\n            } else {\n                header += ('[' + k + ']');\n            }\n        }\n        text = header + text;\n\n        return text;\n    }\n};\n\nvar updateProp = function (prop, op, key, value) {\n    if (op === PROP_ADD) {\n        // PROP_ADD     \n        prop[key] = value;\n    } else {\n        // PROP_REMOVE        \n        if (prop.hasOwnProperty(key)) {\n            delete prop[key];\n        }\n    }\n\n    return prop;\n};\n\nvar getFontStyle = function (isBold, isItalic) {\n    if (isBold && isItalic) {\n        return 'bold italic';\n    } else if (isBold) {\n        return 'bold';\n    } else if (isItalic) {\n        return 'italic';\n    } else {\n        return '';\n    }\n};\n\nvar RE_SPLITTEXT = /\\[b\\]|\\[\\/b\\]|\\[i\\]|\\[\\/i\\]|\\[size=(\\d+)\\]|\\[\\/size\\]|\\[color=([a-z]+|#[0-9abcdef]+)\\]|\\[\\/color\\]|\\[u\\]|\\[u=([a-z]+|#[0-9abcdef]+)\\]|\\[\\/u\\]|\\[shadow\\]|\\[\\/shadow\\]|\\[stroke\\]|\\[stroke=([a-z]+|#[0-9abcdef]+)\\]|\\[\\/stroke\\]|\\[img=([^\\]]+)\\]|\\[\\/img\\]|\\[area=([^\\]]+)\\]|\\[\\/area\\]/ig;\n\nvar RE_BLOD_OPEN = /\\[b\\]/i;\nvar RE_BLOD_CLOSE = /\\[\\/b\\]/i;\nvar RE_ITALICS_OPEN = /\\[i\\]/i;\nvar RE_ITALICS_CLOSE = /\\[\\/i\\]/i;\nvar RE_SIZE_OPEN = /\\[size=(\\d+)\\]/i;\nvar RE_SIZE_CLOSE = /\\[\\/size\\]/i;\nvar RE_COLOR_OPEN = /\\[color=([a-z]+|#[0-9abcdef]+)\\]/i;\nvar RE_COLOR_CLOSE = /\\[\\/color\\]/i;\nvar RE_UNDERLINE_OPEN = /\\[u\\]/i;\nvar RE_UNDERLINE_OPENC = /\\[u=([a-z]+|#[0-9abcdef]+)\\]/i;\nvar RE_UNDERLINE_CLOSE = /\\[\\/u\\]/i;\nvar RE_SHADOW_OPEN = /\\[shadow\\]/i;\nvar RE_SHADOW_CLOSE = /\\[\\/shadow\\]/i;\nvar RE_STROKE_OPEN = /\\[stroke\\]/i;\nvar RE_STROKE_OPENC = /\\[stroke=([a-z]+|#[0-9abcdef]+)\\]/i;\nvar RE_STROKE_CLOSE = /\\[\\/stroke\\]/i;\nvar RE_IMAGE_OPEN = /\\[img=([^\\]]+)\\]/i;\nvar RE_IMAGE_CLOSE = /\\[\\/img\\]/i;\nvar RE_AREA_OPEN = /\\[area=([^\\]]+)\\]/i;\nvar RE_AREA_CLOSE = /\\[\\/area\\]/i;\nconst PROP_REMOVE = false;\nconst PROP_ADD = true;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (parser);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/text/bbcodetext/Parser.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/text/tagtext/Parser.js":
/*!******************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/text/tagtext/Parser.js ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _textbase_textstyle_TextStyle_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../textbase/textstyle/TextStyle.js */ \"./lib/rexui/lib/plugins/gameobjects/text/textbase/textstyle/TextStyle.js\");\n\n\nvar GETPROP_RESULT = {\n    plainText: null,\n    prevProp: null\n};\n\nvar STYLE_RESULT = new _textbase_textstyle_TextStyle_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nvar PROPLIST = [];\n\nclass parser {\n    constructor(tags) {\n        if (tags === undefined) {\n            tags = {};\n        }\n        this.tags = tags;\n    }\n\n    addTag(name, prop) {\n        this.tags[name] = prop;\n    }\n\n    splitText(text, mode) {\n        var result = [];\n        var arr, m, charIdx = 0,\n            totalLen = text.length,\n            matchStart = totalLen;\n        var innerMatch;\n        while (true) {\n            arr = RE_SPLITTEXT.exec(text);\n            if (!arr) {\n                break;\n            }\n\n            m = arr[0];\n            matchStart = RE_SPLITTEXT.lastIndex - m.length;\n\n            if (charIdx < matchStart) {\n                result.push(text.substring(charIdx, matchStart));\n            }\n            if (mode === undefined) {\n                result.push(m);\n            } else if (mode === 1) { // RAWTEXTONLY_MODE\n                if (RE_CLASS_HEADER.test(m)) {\n                    innerMatch = m.match(RE_CLASS);\n                    result.push(innerMatch[2]);\n                } else if (RE_STYLE_HEADER.test(m)) {\n                    innerMatch = m.match(RE_STYLE);\n                    result.push(innerMatch[2]);\n                }\n            }\n\n            charIdx = RE_SPLITTEXT.lastIndex;\n        }\n\n\n        if (charIdx < totalLen) {\n            result.push(text.substring(charIdx, totalLen));\n        }\n        return result; // [text,...]\n    }\n\n    tagTextToProp(text, prevProp) {\n        var plainText, propOut;\n        if (RE_CLASS_HEADER.test(text)) {\n            var innerMatch = text.match(RE_CLASS);\n            if (innerMatch != null) {\n                var name = innerMatch[1];\n                var tags = this.tags;\n                if (tags.hasOwnProperty(name)) {\n                    propOut = tags[name];\n                } else {\n                    propOut = {};\n                }\n                propOut._class = name;\n                plainText = innerMatch[2];\n            }\n        } else if (RE_STYLE_HEADER.test(text)) {\n            var innerMatch = text.match(RE_STYLE);\n            if (innerMatch != null) {\n                var style = innerMatch[1];\n                propOut = styleToProp(style);\n                propOut._style = style;\n                plainText = innerMatch[2];\n            }\n        }\n\n        if (plainText == null) {\n            plainText = text;\n        }\n\n        if (propOut == null) {\n            propOut = {};\n        }\n\n        var result = GETPROP_RESULT;\n        result.plainText = plainText;\n        result.prop = propOut;\n        return result;\n    }\n\n    propToContextStyle(defaultStyle, prop) {\n        var result = STYLE_RESULT;\n        if (!prop.hasOwnProperty('img')) {\n            result.image = null;\n\n            if (prop.hasOwnProperty('family') || prop.hasOwnProperty('fontFamily') || prop.hasOwnProperty('font-family')) {\n                var family = (prop.hasOwnProperty('family')) ? prop.family :\n                    (prop.hasOwnProperty('fontFamily')) ? prop.fontFamily :\n                    prop['font-family'];\n                result.fontFamily = family;\n            } else {\n                result.fontFamily = defaultStyle.fontFamily;\n            }\n\n            if (prop.hasOwnProperty('size') || prop.hasOwnProperty('fontSize') || prop.hasOwnProperty('font-size')) {\n                var size = (prop.hasOwnProperty('size')) ? prop.size :\n                    (prop.hasOwnProperty('fontSize')) ? prop.fontSize :\n                    prop['font-size'];\n                if (typeof (size) === 'number') {\n                    size = size.toString() + 'px';\n                }\n                result.fontSize = size;\n            } else {\n                result.fontSize = defaultStyle.fontSize;\n            }\n\n            if (prop.hasOwnProperty('style') || prop.hasOwnProperty('fontStyle') || prop.hasOwnProperty('font-style')) {\n                var fontStyle = (prop.hasOwnProperty('style')) ? prop.style :\n                    (prop.hasOwnProperty('fontStyle')) ? prop.fontStyle :\n                    prop['font-style'];\n                result.fontStyle = fontStyle;\n            } else {\n                result.fontStyle = defaultStyle.fontStyle;\n            }\n\n            if (prop.hasOwnProperty('color') || prop.hasOwnProperty('font-color')) {\n                var color = (prop.hasOwnProperty('color')) ? prop.color : prop['font-color'];\n                result.color = prop.color;\n            } else {\n                result.color = defaultStyle.color;\n            }\n\n            if (prop.hasOwnProperty('stroke')) {\n                var stroke = prop.stroke; // {color, thinkness}\n                result.stroke = (stroke.hasOwnProperty('color')) ? stroke.color : defaultStyle.stroke;\n                result.strokeThickness = (stroke.hasOwnProperty('thinkness')) ? stroke.thinkness : defaultStyle.strokeThickness;\n            } else {\n                result.stroke = defaultStyle.stroke;\n                result.strokeThickness = defaultStyle.strokeThickness;\n            }\n        } else {\n            result.image = prop.img;\n        }\n\n        if (prop.hasOwnProperty('shadow')) {\n            var shadow = prop.shadow; // {color, offsetX, offsetY, blur}\n            result.shadowColor = (shadow.hasOwnProperty('color')) ? shadow.color : defaultStyle.shadowColor;\n            result.shadowOffsetX = (shadow.hasOwnProperty('offsetX')) ? shadow.offsetX : defaultStyle.shadowOffsetX;\n            result.shadowOffsetY = (shadow.hasOwnProperty('offsetY')) ? shadow.offsetY : defaultStyle.shadowOffsetY;\n            result.shadowBlur = (shadow.hasOwnProperty('blur')) ? shadow.blur : defaultStyle.shadowBlur;\n            result.shadowStroke = true;\n            result.shadowFill = true;\n        } else {\n            result.shadowColor = defaultStyle.shadowColor;\n            result.shadowOffsetX = defaultStyle.shadowOffsetX;\n            result.shadowOffsetY = defaultStyle.shadowOffsetY;\n            result.shadowBlur = defaultStyle.shadowBlur;\n            result.shadowStroke = defaultStyle.shadowStroke;\n            result.shadowFill = defaultStyle.shadowFill;\n        }\n\n        if (prop.hasOwnProperty('u') || prop.hasOwnProperty('underline')) {\n            var u = (prop.hasOwnProperty('u')) ? prop.u : prop.underline; // {color, thinkness, offset}\n            result.underlineColor = (u.hasOwnProperty('color')) ? u.color : defaultStyle.underlineColor;\n            result.underlineThickness = (u.hasOwnProperty('thinkness')) ? u.thinkness : defaultStyle.underlineThickness;\n            result.underlineOffset = (u.hasOwnProperty('offset')) ? u.offset : defaultStyle.underlineOffset;\n        } else {\n            result.underlineColor = defaultStyle.underlineColor;\n            result.underlineThickness = defaultStyle.underlineThickness;\n            result.underlineOffset = defaultStyle.underlineOffset;\n        }\n\n        return result;\n    }\n\n    propToTagText(text, prop, prevProp) {\n        if (prop.hasOwnProperty('_class')) { // class mode\n            if (text === '') {\n                if (this.isTextTag(prop._class)) {\n                    return '';\n                }\n            }\n            return \"<class='\" + prop._class + \"'>\" + text + \"</class>\";\n        } else if (prop.hasOwnProperty('_style')) { // class mode\n            return \"<style='\" + prop._style + \"'>\" + text + \"</style>\";\n        }\n    }\n\n    destroy() {\n        this.tags = undefined;\n    }\n\n    isTextTag(tagName) {\n        var tag = this.tags[tagName];\n        if (tag) {\n            return (tag.img == null);\n        } else { // tag not found\n            return false;\n        }\n    }\n};\n\nvar styleToProp = function (s) {\n    s = s.split(\";\");\n\n    var result = {},\n        prop, k, v;\n    for (var i = 0, slen = s.length; i < slen; i++) {\n        prop = s[i].split(\":\");\n        k = prop[0], v = prop[1];\n        if (isEmpty(k) || isEmpty(v)) {\n            continue;\n        }\n\n        switch (k) {\n            case 'stroke':\n                var stroke = v.split(' '); // stroke:blue 1px\n                var len = stroke.length;\n                v = {};\n                if (len >= 1) {\n                    v.color = stroke[0];\n                }\n                if (len >= 2) {\n                    v.thinkness = parseInt(stroke[1].replace('px', ''));\n                }\n                break;\n            case 'shadow':\n                var shadow = v.split(' '); // shadow:blue 2px 2px 2px\n                var len = shadow.length;\n                v = {};\n                if (len >= 1) {\n                    v.color = shadow[0];\n                }\n                if (len >= 2) {\n                    v.offsetX = parseInt(shadow[1].replace('px', ''));\n                }\n                if (len >= 3) {\n                    v.offsetY = parseInt(shadow[2].replace('px', ''));\n                }\n                if (len >= 4) {\n                    v.blur = parseInt(shadow[3].replace('px', ''));\n                }\n                break;\n            case 'u':\n            case 'underline': // underline:blue 3px -1px\n                var u = v.split(' ');\n                var len = u.length;\n                v = {};\n                if (len >= 1) {\n                    v.color = u[0];\n                }\n                if (len >= 2) {\n                    v.thinkness = parseInt(u[1].replace('px', ''));\n                }\n                if (len >= 3) {\n                    v.offset = parseInt(u[2].replace('px', ''));\n                }\n                break;\n        }\n        result[k] = v;\n    }\n    return result;\n};\n\nvar isEmpty = function (s) {\n    // Remove white spaces.\n    s = s.replace(RE_SPACE, '');\n    return (s.length === 0);\n};\n\nvar RE_SPLITTEXT = /<\\s*class=[\"|']([^\"|']+)[\"|']\\s*\\>([\\s\\S]*?)<\\s*\\/class\\s*\\>|<\\s*style=[\"|']([^\"|']+)[\"|']\\s*\\>([\\s\\S]*?)<\\s*\\/style\\s*\\>/g;\nvar RE_CLASS_HEADER = /<\\s*class=/i;\nvar RE_CLASS = /<\\s*class=[\"|']([^\"|']+)[\"|']\\s*\\>([\\s\\S]*?)<\\s*\\/class\\s*\\>/;\nvar RE_STYLE_HEADER = /<\\s*style=/i;\nvar RE_STYLE = /<\\s*style=[\"|']([^\"|']+)[\"|']\\s*\\>([\\s\\S]*?)<\\s*\\/style\\s*\\>/;\nvar RE_SPACE = /^\\s+|\\s+$/;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (parser);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/text/tagtext/Parser.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/text/tagtext/TagText.js":
/*!*******************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/text/tagtext/TagText.js ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _textbase_Text_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../textbase/Text.js */ \"./lib/rexui/lib/plugins/gameobjects/text/textbase/Text.js\");\n/* harmony import */ var _Parser_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Parser.js */ \"./lib/rexui/lib/plugins/gameobjects/text/tagtext/Parser.js\");\n\n\n\nconst GetValue = Phaser.Utils.Objects.GetValue;\n\nclass TagText extends _textbase_Text_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(scene, x, y, text, style) {\n        var tags = GetValue(style, 'tags', undefined);\n        var parser = new _Parser_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](tags);\n        super(scene, x, y, text, style, 'rexTagText', parser);\n        this.parser = parser;\n    }\n\n    addTag(name, prop) {\n        this.parser.addTag(name, prop);\n        return this.updateText(true);\n    }\n\n    addTags(tags) {\n        for(var name in tags){\n            this.parser.addTag(name, tags[name]);\n        }\n        return this.updateText(true);\n    }\n\n    preDestroy() {\n        super.preDestroy();\n        this.parser.destroy();\n        this.parser = undefined;\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (TagText);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/text/tagtext/TagText.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/text/textbase/Text.js":
/*!*****************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/text/textbase/Text.js ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _render_Render_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./render/Render.js */ \"./lib/rexui/lib/plugins/gameobjects/text/textbase/render/Render.js\");\n/* harmony import */ var _textstyle_TextStyle_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./textstyle/TextStyle.js */ \"./lib/rexui/lib/plugins/gameobjects/text/textbase/textstyle/TextStyle.js\");\n/* harmony import */ var _canvastext_CanvasText_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./canvastext/CanvasText.js */ \"./lib/rexui/lib/plugins/gameobjects/text/textbase/canvastext/CanvasText.js\");\n/* harmony import */ var _pool_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../pool.js */ \"./lib/rexui/lib/plugins/pool.js\");\n/* harmony import */ var _const_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./const.js */ \"./lib/rexui/lib/plugins/gameobjects/text/textbase/const.js\");\n/* harmony import */ var _imagemanager_GetGlobImageManager_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./imagemanager/GetGlobImageManager.js */ \"./lib/rexui/lib/plugins/gameobjects/text/textbase/imagemanager/GetGlobImageManager.js\");\n\n // extended\n\n\n\n\n\nconst AddToDOM = Phaser.DOM.AddToDOM;\nconst CanvasPool = Phaser.Display.Canvas.CanvasPool;\nconst GameObject = Phaser.GameObjects.GameObject;\nconst GetValue = Phaser.Utils.Objects.GetValue;\nconst RemoveFromDOM = Phaser.DOM.RemoveFromDOM;\nconst SPLITREGEXP = _const_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].SPLITREGEXP;\n\nvar PensPools = {};\n\nclass Text extends GameObject {\n    constructor(scene, x, y, text, style, type, parser) {\n        if (x === undefined) {\n            x = 0;\n        }\n        if (y === undefined) {\n            y = 0;\n        }\n\n        super(scene, type);\n\n        this.renderer = scene.sys.game.renderer;\n\n        this.setPosition(x, y);\n        this.setOrigin(0, 0);\n        this.initPipeline();\n\n        this.canvas = CanvasPool.create(this);\n\n        this.context = this.canvas.getContext('2d');\n\n        if (style) {\n            // Override align\n            if (style.hasOwnProperty('align')) {\n                var halign = style.align;\n                delete style.align;\n                style.halign = halign;\n            }\n        }\n        this.style = new _textstyle_TextStyle_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this, style);\n\n        this.autoRound = true;\n\n        this._text = undefined;\n\n        this.padding = {\n            left: 0,\n            right: 0,\n            top: 0,\n            bottom: 0\n        };\n\n        this.width = 1;\n\n        this.height = 1;\n\n        this.dirty = false;\n\n        //  If resolution wasn't set, then we get it from the game config\n        if (this.style.resolution === 0) {\n            this.style.resolution = scene.sys.game.config.resolution;\n        }\n\n        this._crop = this.resetCropObject();\n\n        //  Create a Texture for this Text object\n        this.texture = scene.sys.textures.addCanvas(null, this.canvas, true);\n\n        //  Get the frame\n        this.frame = this.texture.get();\n\n        //  Set the resolution\n        this.frame.source.resolution = this.style.resolution;\n\n        if (this.renderer && this.renderer.gl) {\n            //  Clear the default 1x1 glTexture, as we override it later\n\n            this.renderer.deleteTexture(this.frame.source.glTexture);\n\n            this.frame.source.glTexture = null;\n        }\n\n        if (!PensPools.hasOwnProperty(type)) {\n            PensPools[type] = new _pool_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n        }\n        this.canvasText = new _canvastext_CanvasText_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n            parent: this,\n            context: this.context,\n            parser: parser,\n            style: this.style,\n            pensPool: PensPools[type]\n        });\n\n        //this.initRTL();\n\n        if (style && style.padding) {\n            this.setPadding(style.padding);\n        }\n\n        this.setText(text);\n\n        scene.sys.game.events.on('contextrestored', function () {\n            this.dirty = true;\n        }, this);\n    }\n\n    set text(value) {\n        this.setText(value);\n    }\n    get text() {\n        return this._text;\n    }\n\n    initRTL() {\n        if (!this.style.rtl) {\n            return;\n        }\n\n        //  Here is where the crazy starts.\n        //\n        //  Due to browser implementation issues, you cannot fillText BiDi text to a canvas\n        //  that is not part of the DOM. It just completely ignores the direction property.\n\n        this.canvas.dir = 'rtl';\n\n        //  Experimental atm, but one day ...\n        this.context.direction = 'rtl';\n\n        //  Add it to the DOM, but hidden within the parent canvas.\n        this.canvas.style.display = 'none';\n\n        AddToDOM(this.canvas, this.scene.sys.canvas);\n\n        //  And finally we set the x origin\n        this.originX = 1;\n    }\n\n    setText(value) {\n        if (!value && value !== 0) {\n            value = '';\n        }\n\n        if (Array.isArray(value)) {\n            value = value.join('\\n');\n        }\n\n        if (value !== this._text) {\n            this._text = value.toString();\n\n            this.updateText();\n        }\n\n        return this;\n    }\n\n    setStyle(style) {\n        return this.style.setStyle(style);\n    }\n\n    setFont(font) {\n        return this.style.setFont(font);\n    }\n\n    setFontFamily(family) {\n        return this.style.setFontFamily(family);\n    }\n\n    setFontSize(size) {\n        return this.style.setFontSize(size);\n    }\n\n    setFontStyle(style) {\n        return this.style.setFontStyle(style);\n    }\n\n    setFixedSize(width, height) {\n        return this.style.setFixedSize(width, height);\n    }\n\n    setBackgroundColor(color) {\n        return this.style.setBackgroundColor(color);\n    }\n\n    setFill(color) {\n        return this.style.setFill(color);\n    }\n\n    setColor(color) {\n        return this.style.setColor(color);\n    }\n\n    setStroke(color, thickness) {\n        return this.style.setStroke(color, thickness);\n    }\n\n    setShadow(x, y, color, blur, shadowStroke, shadowFill) {\n        return this.style.setShadow(x, y, color, blur, shadowStroke, shadowFill);\n    }\n\n    setShadowOffset(x, y) {\n        return this.style.setShadowOffset(x, y);\n    }\n\n    setShadowColor(color) {\n        return this.style.setShadowColor(color);\n    }\n\n    setShadowBlur(blur) {\n        return this.style.setShadowBlur(blur);\n    }\n\n    setShadowStroke(enabled) {\n        return this.style.setShadowStroke(enabled);\n    }\n\n    setShadowFill(enabled) {\n        return this.style.setShadowFill(enabled);\n    }\n\n    setWrapMode(mode) {\n        return this.style.setWrapMode(mode);\n    }\n\n    setWrapWidth(width) {\n        return this.style.setWrapWidth(width);\n    }\n\n    setAlign(align) {\n        return this.style.setHAlign(align);\n    }\n\n    setLineSpacing(value) {\n        return this.style.setLineSpacing(value);\n    }\n\n    setPadding(left, top, right, bottom) {\n        if (typeof left === 'object') {\n            var config = left;\n\n            //  If they specify x and/or y this applies to all\n            var x = GetValue(config, 'x', null);\n\n            if (x !== null) {\n                left = x;\n                right = x;\n            } else {\n                left = GetValue(config, 'left', 0);\n                right = GetValue(config, 'right', left);\n            }\n\n            var y = GetValue(config, 'y', null);\n\n            if (y !== null) {\n                top = y;\n                bottom = y;\n            } else {\n                top = GetValue(config, 'top', 0);\n                bottom = GetValue(config, 'bottom', top);\n            }\n        } else {\n            if (left === undefined) {\n                left = 0;\n            }\n            if (top === undefined) {\n                top = left;\n            }\n            if (right === undefined) {\n                right = left;\n            }\n            if (bottom === undefined) {\n                bottom = top;\n            }\n        }\n\n        this.padding.left = left;\n        this.padding.top = top;\n        this.padding.right = right;\n        this.padding.bottom = bottom;\n\n        return this.updateText(false);\n    }\n\n    setResolution(value) {\n        return this.style.setResolution(value);\n    }\n\n    setMaxLines(max) {\n        return this.style.setMaxLines(max);\n    }\n\n    updateText(runWrap) {\n        if (runWrap === undefined) {\n            runWrap = true;\n        }\n        var canvasText = this.canvasText;\n\n        // wrap text to pens\n        var style = this.style;\n        if (runWrap) {\n            canvasText.updatePenManager(\n                this._text,\n                style.wrapMode,\n                style.wrapWidth,\n                style.lineHeight\n            );\n        }\n\n        // resize\n        var padding = this.padding;\n        var textWidth, textHeight;\n        if (style.fixedWidth === 0) {\n            this.width = canvasText.linesWidth + padding.left + padding.right;\n            textWidth = canvasText.linesWidth;\n        }\n        else {\n            this.width = style.fixedWidth;\n            textWidth = this.width - padding.left - padding.right;\n            if (textWidth < canvasText.linesWidth) {\n                textWidth = canvasText.linesWidth;\n            }\n        }\n        if (style.fixedHeight === 0) {\n            this.height = canvasText.linesHeight + padding.top + padding.bottom;\n            textHeight = canvasText.linesHeight;\n        }\n        else {\n            this.height = style.fixedHeight;\n            textHeight = this.height - padding.top - padding.bottom;\n            if (textHeight < canvasText.linesHeight) {\n                textHeight = canvasText.linesHeight;\n            }\n        }\n\n        var w = this.width;\n        var h = this.height;\n\n        this.updateDisplayOrigin();\n\n        var resolution = style.resolution;\n        w *= resolution;\n        h *= resolution;\n\n        w = Math.max(Math.ceil(w), 1);\n        h = Math.max(Math.ceil(h), 1);\n\n        var canvas = this.canvas;\n        var context = this.context;\n        if (canvas.width !== w || canvas.height !== h) {\n            canvas.width = w;\n            canvas.height = h;\n            this.frame.setSize(w, h);\n        } else {\n            context.clearRect(0, 0, w, h);\n        }\n\n        context.save();\n        context.scale(resolution, resolution);\n\n        // draw\n        canvasText.draw(\n            padding.left,\n            padding.top,\n            textWidth,\n            textHeight\n        );\n\n        context.restore();\n\n        if (this.renderer.gl) {\n            this.frame.source.glTexture = this.renderer.canvasToTexture(canvas, this.frame.source.glTexture, true);\n            this.frame.glTexture = this.frame.source.glTexture;\n        }\n\n        this.dirty = true;\n\n        var input = this.input;\n\n        if (input && !input.customHitArea) {\n            input.hitArea.width = this.width;\n            input.hitArea.height = this.height;\n        }\n\n        return this;\n    }\n\n    getTextMetrics() {\n        return this.style.getTextMetrics();\n    }\n\n    toJSON() {\n        var out = Components.ToJSON(this);\n\n        //  Extra Text data is added here\n\n        var data = {\n            autoRound: this.autoRound,\n            text: this._text,\n            style: this.style.toJSON(),\n            resolution: this.resolution,\n            padding: {\n                left: this.padding.left,\n                right: this.padding.right,\n                top: this.padding.top,\n                bottom: this.padding.bottom\n            }\n        };\n\n        out.data = data;\n\n        return out;\n    }\n\n    preDestroy() {\n        if (this.style.rtl) {\n            RemoveFromDOM(this.canvas);\n        }\n\n        CanvasPool.remove(this.canvas);\n        this.canvasText.destroy();\n    }\n\n    setInteractive(shape, callback, dropZone) {\n        GameObject.prototype.setInteractive.call(this, shape, callback, dropZone);\n        this.canvasText.setInteractive();\n        return this;\n    }\n\n    getWrappedText(text, start, end) {\n        text = this.canvasText.getText(text, start, end, true);\n        return text.split(SPLITREGEXP);\n    }\n\n    getPlainText(text, start, end) {\n        return this.canvasText.getPlainText(text, start, end);\n    }\n\n    getText(text, start, end) {\n        return this.canvasText.getText(text, start, end, false);\n    }\n\n    getSubString(text, start, end) {\n        return this.getText(text, start, end);\n    }\n\n    copyPenManager(penManager) {\n        return this.canvasText.copyPenManager(penManager);\n    }\n\n    getPenManager(text, penManager) {\n        return this.canvasText.getPenManager(text, penManager);\n    }\n\n    setSize(width, height) {\n        return this.setFixedSize(width, height);\n    }\n\n    resize(width, height) {\n        return this.setFixedSize(width, height);\n    }\n\n    set lineSpacing(value) {\n        this.setLineSpacing(value);\n    }\n    get lineSpacing() {\n        return this.style.lineSpacing;\n    }\n\n    get imageManager() {\n        return Object(_imagemanager_GetGlobImageManager_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this.scene.textures);\n    }\n\n    addImage(key, config) {\n        this.imageManager.add(key, config);\n        return this;\n    }\n\n    drawAreaBounds(graphics, color) {\n        this.canvasText.hitAreaManager.drawBounds(graphics, color, this);\n        return this;\n    }\n}\n\nconst Components = Phaser.GameObjects.Components;\nPhaser.Class.mixin(Text,\n    [\n        Components.Alpha,\n        Components.BlendMode,\n        Components.ComputedSize,\n        Components.Crop,\n        Components.Depth,\n        Components.Flip,\n        Components.GetBounds,\n        Components.Mask,\n        Components.Origin,\n        Components.Pipeline,\n        Components.ScrollFactor,\n        Components.Tint,\n        Components.Transform,\n        Components.Visible,\n        _render_Render_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]\n    ]\n);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Text);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/text/textbase/Text.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/text/textbase/canvastext/CanvasText.js":
/*!**********************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/text/textbase/canvastext/CanvasText.js ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _DrawMethods_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DrawMethods.js */ \"./lib/rexui/lib/plugins/gameobjects/text/textbase/canvastext/DrawMethods.js\");\n/* harmony import */ var _penmanger_PenManager_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../penmanger/PenManager.js */ \"./lib/rexui/lib/plugins/gameobjects/text/textbase/penmanger/PenManager.js\");\n/* harmony import */ var _hitareamanager_HitAreaManager_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../hitareamanager/HitAreaManager.js */ \"./lib/rexui/lib/plugins/gameobjects/text/textbase/hitareamanager/HitAreaManager.js\");\n/* harmony import */ var _SetInteractive_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./SetInteractive.js */ \"./lib/rexui/lib/plugins/gameobjects/text/textbase/canvastext/SetInteractive.js\");\n/* harmony import */ var _const_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../const.js */ \"./lib/rexui/lib/plugins/gameobjects/text/textbase/const.js\");\n/* harmony import */ var _WrapText_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./WrapText.js */ \"./lib/rexui/lib/plugins/gameobjects/text/textbase/canvastext/WrapText.js\");\n/* harmony import */ var _utils_object_Clone_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../utils/object/Clone.js */ \"./lib/rexui/lib/plugins/utils/object/Clone.js\");\n\n\n\n\n\n\n\n\nconst GetValue = Phaser.Utils.Objects.GetValue;\nconst NO_WRAP = _const_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].NO_WRAP;\nconst NO_NEWLINE = _const_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].NO_NEWLINE;\n\nclass CanvasText {\n    constructor(config) {\n        this.parent = config.parent;\n        this.context = GetValue(config, 'context', null);\n        this.canvas = this.context.canvas;\n        this.parser = GetValue(config, 'parser', null);\n        this.defatultStyle = GetValue(config, 'style', null);\n        this.autoRound = true;\n\n        this.pensPool = GetValue(config, 'pensPool', null);\n        this.penManager = this.newPenManager();\n        this._tmpPenManager = null;\n\n        this.hitAreaManager = new _hitareamanager_HitAreaManager_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\n        var context = this.context;\n        this.getTextWidth = function (text) {\n            return context.measureText(text).width;\n        }\n    }\n\n    destroy() {\n        this.context = undefined;\n        this.canvas = undefined;\n        this.parser = undefined;\n        this.defatultStyle = undefined;\n\n        if (this.penManager) {\n            this.penManager.destroy();\n            this.penManager = undefined;\n        }\n        if (this._tmpPenManager) {\n            this._tmpPenManager.destroy();\n            this._tmpPenManager = undefined;\n        }\n        if (this.hitAreaManager) {\n            this.hitAreaManager.destroy();\n            this.hitAreaManager = undefined;\n        }\n    }\n\n    updatePenManager(text, wrapMode, wrapWidth, lineHeight, penManager) {\n        if (penManager === undefined) {\n            penManager = this.penManager;\n        }\n        penManager.freePens();\n        if (text === \"\") {\n            return penManager;\n        }\n\n        var canvas = this.canvas;\n        var context = this.context;\n\n        var cursorX = 0,\n            cursorY = 0;\n\n        var plainText, curProp, curStyle;\n        var match = this.parser.splitText(text),\n            result, wrapLines;\n        for (var i = 0, len = match.length; i < len; i++) {\n            result = this.parser.tagTextToProp(match[i], curProp);\n            plainText = result.plainText;\n            curProp = result.prop;\n\n            if (curProp.img) { // Image tag                \n                var imgWidth = this.imageManager.getOuterWidth(curProp.img);\n                if ((wrapWidth > 0) && (wrapMode !== NO_WRAP)) {  // Wrap mode\n                    if (wrapWidth < (cursorX + imgWidth)) {\n                        penManager.addNewLinePen();\n                        cursorY += lineHeight;\n                        cursorX = 0;\n                    }\n                }\n                penManager.addImagePen(cursorX, cursorY, imgWidth, Object(_utils_object_Clone_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(curProp));\n                cursorX += imgWidth;\n\n            } else if (plainText !== '') {\n                // wrap text to lines\n                // Save the current context.\n                this.context.save();\n                curStyle = this.parser.propToContextStyle(\n                    this.defatultStyle,\n                    curProp\n                );\n                curStyle.buildFont();\n                curStyle.syncFont(canvas, context);\n                curStyle.syncStyle(canvas, context);\n                wrapLines = Object(_WrapText_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(plainText, this.getTextWidth, wrapMode, wrapWidth, cursorX);\n\n                // add pens\n                var n;\n                for (var j = 0, jLen = wrapLines.length; j < jLen; j++) {\n                    n = wrapLines[j];\n                    penManager.addTextPen(n.text, cursorX, cursorY, n.width, Object(_utils_object_Clone_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(curProp), n.newLineMode);\n\n                    if (n.newLineMode !== NO_NEWLINE) {\n                        cursorX = 0;\n                        cursorY += lineHeight;\n                    } else {\n                        cursorX += n.width;\n                    }\n\n                }\n                this.context.restore();\n\n            }\n\n        }\n\n        return penManager;\n    }\n\n    get startXOffset() {\n        var defatultStyle = this.defatultStyle;\n        return (defatultStyle.strokeThickness / 2);\n    }\n\n    get startYOffset() {\n        var defatultStyle = this.defatultStyle;\n        return (defatultStyle.strokeThickness / 2) + defatultStyle.metrics.ascent;\n    }\n\n    get lines() {\n        return this.penManager.lines;\n    }\n\n    get desplayLinesCount() {\n        var linesCount = this.penManager.linesCount,\n            maxLines = this.defatultStyle.maxLines;\n        if ((maxLines > 0) && (linesCount > maxLines)) {\n            linesCount = maxLines;\n        }\n        return linesCount;\n    }\n\n    get linesWidth() {\n        return this.penManager.getMaxLineWidth();\n    }\n\n    get linesHeight() {\n        var linesCount = this.desplayLinesCount;\n        var linesHeight = (this.defatultStyle.lineHeight * linesCount);\n        if (linesCount > 0) {\n            linesHeight -= this.defatultStyle.lineSpacing;\n        }\n        return linesHeight;\n    }\n\n    get imageManager() {\n        return this.parent.imageManager;\n    }\n\n    newPenManager() {\n        return new _penmanger_PenManager_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n            pensPool: this.pensPool,\n            tagToText: this.parser.propToTagText,\n            tagToTextScope: this.parser\n        });\n    }\n\n    get tmpPenManager() {\n        if (this._tmpPenManager === null) {\n            this._tmpPenManager = this.newPenManager();\n        }\n        return this._tmpPenManager;\n    }\n\n    getPlainText(text, start, end) {\n        var plainText;\n        if (text == null) {\n            plainText = this.penManager.plainText;\n        } else {\n            var m, match = this.parser.splitText(text, 1); // PLAINTEXTONLY_MODE\n            plainText = \"\";\n            for (var i = 0, len = match.length; i < len; i++) {\n                plainText += match[i];\n            }\n        }\n\n        if ((start != null) || (end != null)) {\n            if (start == null) {\n                start = 0;\n            }\n            if (end == null) {\n                end = plainText.length;\n            }\n            plainText = plainText.substring(start, end);\n        }\n\n        return plainText;\n    }\n\n    getPenManager(text, retPenManager) {\n        if (text === undefined) {\n            return this.copyPenManager(retPenManager, this.penManager);\n        }\n\n        if (retPenManager === undefined) {\n            retPenManager = this.newPenManager();\n        }\n\n        var defatultStyle = this.defatultStyle;\n        this.updatePenManager(\n            text,\n            defatultStyle.wrapMode,\n            defatultStyle.wrapWidth,\n            defatultStyle.lineHeight,\n            retPenManager\n        );\n        return retPenManager;\n    }\n\n    getText(text, start, end, wrap) {\n        if (text == null) {\n            return this.penManager.getSliceTagText(start, end, wrap);\n        }\n\n        var penManager = this.tmpPenManager;\n        var defatultStyle = this.defatultStyle;\n        this.updatePenManager(\n            text,\n            defatultStyle.wrapMode,\n            defatultStyle.wrapWidth,\n            defatultStyle.lineHeight,\n            penManager\n        );\n\n        return penManager.getSliceTagText(start, end, wrap);\n    }\n\n    copyPenManager(ret, src) {\n        if (src === undefined) {\n            src = this.penManager;\n        }\n        return src.copy(ret);\n    }\n\n    getTextWidth(penManager) {\n        if (penManager === undefined) {\n            penManager = this.penManager;\n        }\n\n        return penManager.getMaxLineWidth();\n    }\n\n    getLastPen(penManager) {\n        if (penManager === undefined) {\n            penManager = this.penManager;\n        }\n\n        return penManager.lastPen;\n    }\n};\n\nvar methods = {\n    setInteractive: _SetInteractive_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n}\n\nObject.assign(\n    CanvasText.prototype,\n    _DrawMethods_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    methods\n);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (CanvasText);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/text/textbase/canvastext/CanvasText.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/text/textbase/canvastext/DrawMethods.js":
/*!***********************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/text/textbase/canvastext/DrawMethods.js ***!
  \***********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    draw(startX, startY, boxWidth, boxHeight) {\n        var penManager = this.penManager;\n        this.hitAreaManager.clear();\n\n        var context = this.context;\n        context.save();\n\n        // this.clear();\n        this.drawBackground(this.defatultStyle.backgroundColor);\n\n        // draw lines\n        var defatultStyle = this.defatultStyle;\n        startX += this.startXOffset;\n        startY += this.startYOffset;\n        var halign = defatultStyle.halign,\n            valign = defatultStyle.valign;\n\n        var lineWidth, lineHeight = defatultStyle.lineHeight;\n        var lines = penManager.lines;\n        var totalLinesNum = lines.length,\n            maxLines = defatultStyle.maxLines;\n        var drawLinesNum, drawLineStartIdx, drawLineEndIdx;\n        if ((maxLines > 0) && (totalLinesNum > maxLines)) {\n            drawLinesNum = maxLines;\n            if (valign === 'center') { // center\n                drawLineStartIdx = Math.floor((totalLinesNum - drawLinesNum) / 2);\n            } else if (valign === 'bottom') { // bottom\n                drawLineStartIdx = totalLinesNum - drawLinesNum;\n            } else {\n                drawLineStartIdx = 0;\n            }\n        } else {\n            drawLinesNum = totalLinesNum;\n            drawLineStartIdx = 0;\n        }\n        drawLineEndIdx = drawLineStartIdx + drawLinesNum;\n\n        var offsetX, offsetY;\n        if (valign === 'center') { // center\n            offsetY = Math.max((boxHeight - (drawLinesNum * lineHeight)) / 2, 0);\n        } else if (valign === 'bottom') { // bottom\n            offsetY = Math.max(boxHeight - (drawLinesNum * lineHeight) - 2, 0);\n        } else {\n            offsetY = 0;\n        }\n        offsetY += startY;\n        for (var lineIdx = drawLineStartIdx; lineIdx < drawLineEndIdx; lineIdx++) {\n            lineWidth = penManager.getLineWidth(lineIdx);\n            if (lineWidth === 0) {\n                continue;\n            }\n\n            if (halign === 'center') { // center\n                offsetX = (boxWidth - lineWidth) / 2;\n            } else if (halign === 'right') { // right\n                offsetX = boxWidth - lineWidth;\n            } else {\n                offsetX = 0;\n            }\n            offsetX += startX;\n\n            var pens = lines[lineIdx];\n            for (var penIdx = 0, pensLen = pens.length; penIdx < pensLen; penIdx++) {\n                this.drawPen(pens[penIdx], offsetX, offsetY);\n            }\n        }\n\n        context.restore();\n    },\n\n    drawPen(pen, offsetX, offsetY) {\n        offsetX += pen.x;\n        offsetY += pen.y;\n\n        var canvas = this.canvas;\n        var context = this.context;\n        context.save();\n\n        var curStyle = this.parser.propToContextStyle(\n            this.defatultStyle,\n            pen.prop\n        );\n        curStyle.buildFont();\n        curStyle.syncFont(canvas, context);\n        curStyle.syncStyle(canvas, context);\n\n        // Underline\n        if ((curStyle.underlineThickness > 0) && (pen.width > 0)) {\n            this.drawUnderline(offsetX, offsetY, pen.width, curStyle);\n        }\n\n        // Text\n        if (pen.isTextPen) {\n            this.drawText(offsetX, offsetY, pen.text, curStyle);\n        }\n\n        // Image\n        if (pen.isImagePen) {\n            this.drawImage(offsetX, offsetY, pen.prop.img, curStyle);\n        }\n\n        context.restore();\n\n        if (pen.hasAreaMarker && (pen.width > 0)) {\n            this.hitAreaManager.add(\n                pen.prop.area,\n                offsetX, (offsetY - this.startYOffset),\n                pen.width, this.defatultStyle.lineHeight);\n        }\n    },\n\n    clear() {\n        var canvas = this.canvas;\n        this.context.clearRect(0, 0, canvas.width, canvas.height);\n    },\n\n    drawBackground(color) {\n        if (color === null) {\n            return;\n        }\n        this.context.fillStyle = color;\n        this.context.fillRect(0, 0, this.canvas.width, this.canvas.height);\n    },\n\n    drawUnderline(x, y, width, style) {\n        y += style.underlineOffset - (style.underlineThickness / 2);\n        if (this.autoRound) {\n            x = Math.round(x);\n            y = Math.round(y);\n        }\n\n        var context = this.context;\n        var savedLineCap = context.lineCap;\n        context.lineCap = 'butt';\n        context.beginPath();\n        context.strokeStyle = style.underlineColor;\n        context.lineWidth = style.underlineThickness;\n        context.moveTo(x, y);\n        context.lineTo((x + width), y);\n        context.stroke();\n        context.lineCap = savedLineCap;\n    },\n\n    drawText(x, y, text, style) {\n        if (this.autoRound) {\n            x = Math.round(x);\n            y = Math.round(y);\n        }\n\n        var context = this.context;\n        if (style.strokeThickness) {\n            style.syncShadow(context, style.shadowStroke);\n            context.strokeText(text, x, y);\n        }\n\n        if (style.color && (style.color !== 'none')) {\n            style.syncShadow(context, style.shadowFill);\n            context.fillText(text, x, y);\n        }\n    },\n\n    drawImage(x, y, imgKey, style) {\n        var imageManager = this.parent.imageManager;\n        var imgData = imageManager.get(imgKey);\n        var frame = imageManager.getFrame(imgKey);\n\n        x += imgData.left;\n        y += - this.startYOffset + imgData.y;\n        if (this.autoRound) {\n            x = Math.round(x);\n            y = Math.round(y);\n        }\n\n        var context = this.context;\n        context.drawImage(\n            frame.source.image,\n            frame.cutX, frame.cutY, frame.cutWidth, frame.cutHeight,\n            x, y, imgData.width, imgData.height\n        );\n    }\n\n});\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/text/textbase/canvastext/DrawMethods.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/text/textbase/canvastext/SetInteractive.js":
/*!**************************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/text/textbase/canvastext/SetInteractive.js ***!
  \**************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar SetInteractive = function () {\n    this.parent\n        .on('pointerdown', function (pointer, localX, localY, event) {\n            FireEvent.call(this, 'areadown', pointer, localX, localY);\n        }, this)\n        .on('pointerup', function (pointer, localX, localY, event) {\n            FireEvent.call(this, 'areaup', pointer, localX, localY);\n        }, this)\n}\n\nvar FireEvent = function (eventName, pointer, localX, localY) {\n    var key = this.hitAreaManager.contains(localX, localY);\n    if (key === false) {\n        return;\n    }\n    this.parent.emit(`${eventName}-${key}`, pointer, localX, localY)\n    this.parent.emit(eventName, key, pointer, localX, localY)\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (SetInteractive);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/text/textbase/canvastext/SetInteractive.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/text/textbase/canvastext/WrapText.js":
/*!********************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/text/textbase/canvastext/WrapText.js ***!
  \********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _pool_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../pool.js */ \"./lib/rexui/lib/plugins/pool.js\");\n/* harmony import */ var _const_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../const.js */ \"./lib/rexui/lib/plugins/gameobjects/text/textbase/const.js\");\n\n\n\nconst NO_NEWLINE = _const_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].NO_NEWLINE;\nconst RAW_NEWLINE = _const_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].RAW_NEWLINE;\nconst WRAPPED_NEWLINE = _const_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].WRAPPED_NEWLINE;\nconst NO_WRAP = _const_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].NO_WRAP;\nconst WORD_WRAP = _const_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].WORD_WRAP;\nconst CHAR_WRAP = _const_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].CHAR_WRAP;\nconst splitRegExp = _const_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].SPLITREGEXP;\n\nvar WRAP_RESULT = [];\nvar WrapText = function (text, getTextWidth, wrapMode, wrapWidth, offset) {\n    if (wrapWidth <= 0) {\n        wrapMode = NO_WRAP;\n    }\n\n    var retLines = WRAP_RESULT;\n    LinesPool.pushMultiple(retLines);\n\n    if (!text || !text.length) {\n        return retLines;\n    }\n\n    var lines = text.split(splitRegExp),\n        line, remainWidth, isLaseLine, newLineMode;\n    for (var i = 0, linesLen = lines.length; i < linesLen; i++) {\n        line = lines[i];\n        newLineMode = (i === (linesLen - 1)) ? NO_NEWLINE : RAW_NEWLINE;\n\n        if (wrapMode === NO_WRAP) {\n            var textWidth = getTextWidth(line);\n            retLines.push(LinesPool.newline(line, textWidth, newLineMode));\n            continue;\n        } else {\n            if (i === 0) {\n                remainWidth = wrapWidth - offset;\n            } else {\n                remainWidth = wrapWidth;\n            }\n        }\n\n        // short string testing\n        if (line.length <= 100) {\n            var textWidth = getTextWidth(line);\n            if (textWidth <= remainWidth) {\n                retLines.push(LinesPool.newline(line, textWidth, newLineMode));\n                continue;\n            }\n        }\n\n        // character mode\n        var tokenArray;\n        if (wrapMode === WORD_WRAP) {\n            // word mode\n            tokenArray = line.split(' ');\n        } else {\n            tokenArray = line;\n        }\n        var token;\n        var curLineText = '',\n            lineText = '',\n            currLineWidth, lineWidth = 0;\n        for (var j = 0, tokenLen = tokenArray.length; j < tokenLen; j++) {\n            token = tokenArray[j];\n\n            if (wrapMode === WORD_WRAP) {\n                curLineText += token;\n\n                if (j < (tokenLen - 1)) {\n                    curLineText += ' ';\n                }\n            } else {\n                curLineText += token;\n            }\n\n            currLineWidth = getTextWidth(curLineText);\n            if (currLineWidth > remainWidth) {\n                // new line\n                if (j === 0) {\n                    retLines.push(LinesPool.newline('', 0, WRAPPED_NEWLINE));\n                } else {\n                    retLines.push(LinesPool.newline(lineText, lineWidth, WRAPPED_NEWLINE));\n                    curLineText = token;\n                    if (wrapMode === WORD_WRAP) {\n                        if (j < (tokenLen - 1)) {\n                            curLineText += ' ';\n                        }\n                    }\n                    currLineWidth = getTextWidth(curLineText);\n                }\n\n                remainWidth = wrapWidth;\n            }\n\n            lineText = curLineText;\n            lineWidth = currLineWidth;\n        } // for token in tokenArray\n\n        // flush remain text\n        retLines.push(LinesPool.newline(lineText, lineWidth, newLineMode));\n\n    } // for each line in lines\n\n    return retLines;\n};\n\nvar LinesPool = new _pool_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nLinesPool.newline = function (text, width, newLineMode) {\n    var l = this.pop();\n    if (l === null) {\n        l = {};\n    }\n    l.text = text;\n    l.width = width;\n    l.newLineMode = newLineMode;\n    return l;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (WrapText);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/text/textbase/canvastext/WrapText.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/text/textbase/const.js":
/*!******************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/text/textbase/const.js ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar CONST = {\n    // new line mode\n    NO_NEWLINE: 0,\n    RAW_NEWLINE: 1,\n    WRAPPED_NEWLINE: 2,\n\n    // wrap mode\n    NO_WRAP: 0,\n    WORD_WRAP: 1,\n    CHAR_WRAP: 2,\n\n    // split lines\n    SPLITREGEXP: /(?:\\r\\n|\\r|\\n)/\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (CONST);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/text/textbase/const.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/text/textbase/hitareamanager/HitAreaManager.js":
/*!******************************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/text/textbase/hitareamanager/HitAreaManager.js ***!
  \******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _pool_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../pool.js */ \"./lib/rexui/lib/plugins/pool.js\");\n\n\nconst Rectangle = Phaser.Geom.Rectangle;\n\nvar RectanglePool = new _pool_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nclass HitAreaManager {\n    constructor() {\n        this.hitAreas = [];\n    }\n\n    destroy() {\n        this.clear();\n    }\n\n    clear() {\n        RectanglePool.pushMultiple(this.hitAreas);\n        return this;\n    }\n\n    add(key, x, y, width, height) {\n        var rectangle = RectanglePool.pop();\n        if (rectangle === null) {\n            rectangle = new Rectangle(x, y, width, height);\n        } else {\n            rectangle.setTo(x, y, width, height);\n        }\n        rectangle.key = key;\n        this.hitAreas.push(rectangle);\n        return this;\n    }\n\n    contains(x, y) {\n        var hitAreas = this.hitAreas, hitArea;\n        for (var i = 0, cnt = hitAreas.length; i < cnt; i++) {\n            hitArea = hitAreas[i];\n            if (hitArea.contains(x, y)) {\n                return hitArea.key;\n            }\n        }\n        return false;\n    }\n\n    drawBounds(graphics, color, parent) {\n        if (color === undefined) {\n            color = 0xffffff;\n        }\n\n        if (parent) {\n            graphics\n                .save()\n                .scaleCanvas(parent.scaleX, parent.scaleY)\n                .rotateCanvas(parent.rotation)\n                .translateCanvas(parent.x, parent.y)\n        }\n\n        var hitAreas = this.hitAreas, hitArea;\n        for (var i = 0, cnt = hitAreas.length; i < cnt; i++) {\n            hitArea = hitAreas[i];\n            graphics.lineStyle(1, color).strokeRect(hitArea.x, hitArea.y, hitArea.width, hitArea.height);\n        }\n\n        if (parent) {\n            graphics\n                .restore()\n        }\n        return this;\n    }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (HitAreaManager);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/text/textbase/hitareamanager/HitAreaManager.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/text/textbase/imagemanager/GetGlobImageManager.js":
/*!*********************************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/text/textbase/imagemanager/GetGlobImageManager.js ***!
  \*********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ImageManager_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ImageManager.js */ \"./lib/rexui/lib/plugins/gameobjects/text/textbase/imagemanager/ImageManager.js\");\n\n\nvar globImageManager;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function(textureManager) {\n    if (globImageManager === undefined) {\n        globImageManager = new _ImageManager_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](textureManager);\n    }\n    return globImageManager;\n});\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/text/textbase/imagemanager/GetGlobImageManager.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/text/textbase/imagemanager/ImageManager.js":
/*!**************************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/text/textbase/imagemanager/ImageManager.js ***!
  \**************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nconst GetValue = Phaser.Utils.Objects.GetValue;\n\nclass ImageManager {\n    constructor(textureManager) {\n        this.textureManager = textureManager;\n        this.images = {};\n    }\n\n    add(key, config) {\n        if (typeof (key) === 'string') {\n            this._add(key, config);\n        } else if (Array.isArray(key)) {\n            var data = key;\n            for (var i = 0, cnt = data.length; i < cnt; i++) {\n                this._add(data[i]);\n            }\n        } else {\n            var data = key;\n            for (var key in data) {\n                this._add(key, data[key]);\n            }\n        }\n        return this;\n    }\n\n    _add(key, config) {\n        if (config === undefined) {\n            config = {\n                key: key\n            }\n        }\n\n        var textureKey = config.key, frameKey = config.frame;\n        var width = config.width, height = config.height;\n\n        if ((width === undefined) || (height === undefined)) {\n            var frame = this.textureManager.getFrame(textureKey, frameKey);\n            var frameWidth = (frame) ? frame.cutWidth : 0;\n            var frameHeight = (frame) ? frame.cutHeight : 0;\n            if ((width === undefined) && (height === undefined)) {\n                width = frameWidth;\n                height = frameHeight;\n            } else if (width === undefined) {\n                width = frameWidth * (height / frameHeight);\n            } else if (height === undefined) {\n                height = frameHeight * (width / frameWidth);\n            }\n        }\n\n        this.images[key] = {\n            key: textureKey,\n            frame: frameKey,\n            width: width,\n            height: height,\n            y: GetValue(config, 'y', 0),\n            left: GetValue(config, 'left', 0),\n            right: GetValue(config, 'right', 0)\n        }\n    }\n\n    remove(key) {\n        if (this.images.hasOwnProperty(key)) {\n            delete this.images[key];\n        }\n        return this;\n    }\n\n    get(key) {\n        if (!this.images.hasOwnProperty(key)) {\n            if (this.textureManager.exists(key)) {\n                this.add(key);\n            }\n        }\n        return this.images[key];\n    }\n\n    getOuterWidth(key) {\n        var data = this.get(key);\n        return (data) ? (data.width + data.left + data.right) : 0;\n    }\n\n    getFrame(key) {\n        var data = this.get(key);\n        return (data) ? this.textureManager.getFrame(data.key, data.frame) : undefined;\n    }\n\n    hasTexture(key) {\n        return !!this.getFrame(key);\n    }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (ImageManager);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/text/textbase/imagemanager/ImageManager.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/text/textbase/penmanger/Pen.js":
/*!**************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/text/textbase/penmanger/Pen.js ***!
  \**************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _const_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../const.js */ \"./lib/rexui/lib/plugins/gameobjects/text/textbase/const.js\");\n\n\nconst GetValue = Phaser.Utils.Objects.GetValue;\nconst NO_NEWLINE = _const_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].NO_NEWLINE;\nconst RAW_NEWLINE = _const_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].RAW_NEWLINE;\n\nclass Pen {\n    constructor(config) {\n        this.prop = {};\n        this.resetFromJSON(config);\n    }\n\n    resetFromJSON(o) { // (txt, x, y, width, prop, newLineMode, startIndex)\n        this.text = GetValue(o, 'text', '');\n        this.x = GetValue(o, 'x', 0);\n        this.y = GetValue(o, 'y', 0);\n        this.width = GetValue(o, 'width', 0);\n\n        var prop = GetValue(o, 'prop', null);\n        if (prop === null) {\n            prop = {};\n        }\n        this.prop = prop;\n        this.newLineMode = GetValue(o, 'newLineMode', 0);\n        this.startIndex = GetValue(o, 'startIndex', 0);\n    }\n\n    get plainText() {\n        var txt = this.text\n        if (this.newLineMode === RAW_NEWLINE) {\n            txt += \"\\n\";\n        }\n\n        return txt;\n    }\n\n    get wrapText() {\n        var txt = this.text;\n        if (this.newLineMode !== NO_NEWLINE) {\n            txt += \"\\n\";\n        }\n\n        return txt;\n    }\n\n    get rawTextLength() {\n        var len = this.text.length;\n        if (this.newLineMode === RAW_NEWLINE) {\n            len += 1;\n        }\n        return len;\n    }\n\n    get endIndex() {\n        return this.startIndex + this.rawTextLength;\n    }\n\n    get lastX() {\n        return this.x + this.width;\n    }\n\n    get isTextPen() {\n        return (this.text !== '');\n    }\n\n    get isImagePen() {\n        return !!this.prop.img;\n    }\n\n    get hasAreaMarker() {\n        return !!this.prop.area;\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Pen);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/text/textbase/penmanger/Pen.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/text/textbase/penmanger/PenManager.js":
/*!*********************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/text/textbase/penmanger/PenManager.js ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _pool_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../pool.js */ \"./lib/rexui/lib/plugins/pool.js\");\n/* harmony import */ var _Pen_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Pen.js */ \"./lib/rexui/lib/plugins/gameobjects/text/textbase/penmanger/Pen.js\");\n/* harmony import */ var _const_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../const.js */ \"./lib/rexui/lib/plugins/gameobjects/text/textbase/const.js\");\n/* harmony import */ var _utils_object_Clone_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../utils/object/Clone.js */ \"./lib/rexui/lib/plugins/utils/object/Clone.js\");\n/* harmony import */ var _utils_object_NOOP_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../utils/object/NOOP.js */ \"./lib/rexui/lib/plugins/utils/object/NOOP.js\");\n\n\n\n\n\n\nconst GetFastValue = Phaser.Utils.Objects.GetFastValue;\nconst NO_NEWLINE = _const_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].NO_NEWLINE;\nconst WRAPPED_NEWLINE = _const_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].WRAPPED_NEWLINE;\n\nvar PensPool = new _pool_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](); // default pens pool\nvar LinesPool = new _pool_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](); // default lines pool\nclass PenManager {\n    constructor(config) {\n        this.pens = []; // all pens\n        this.lines = []; // pens in lines [ [],[],[],.. ]\n        this.maxLinesWidth = undefined;\n\n        this.PensPool = GetFastValue(config, 'pensPool', PensPool);\n        this.LinesPool = GetFastValue(config, 'linesPool', LinesPool);\n        this.tagToText = GetFastValue(config, 'tagToText', _utils_object_NOOP_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]);\n        this.tagToTextScope = GetFastValue(config, 'tagToTextScope', undefined);\n    }\n\n    destroy() {\n        this.freePens();\n        this.tagToText = undefined;\n        this.tagToTextScope = undefined;\n    }\n\n    freePens() {\n        for (var i = 0, len = this.lines.length; i < len; i++)\n            this.lines[i].length = 0;\n\n        this.PensPool.pushMultiple(this.pens);\n        this.LinesPool.pushMultiple(this.lines);\n        this.maxLinesWidth = undefined;\n    }\n\n    addTextPen(text, x, y, width, prop, newLineMode) {\n        var pen = this.PensPool.pop();\n        if (pen == null) {\n            pen = new _Pen_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n        }\n        PEN_CONFIG.text = text;\n        PEN_CONFIG.x = x;\n        PEN_CONFIG.y = y;\n        PEN_CONFIG.width = width;\n        PEN_CONFIG.prop = prop;\n        PEN_CONFIG.newLineMode = newLineMode;\n        pen.resetFromJSON(PEN_CONFIG);\n        this.addPen(pen);\n        return this;\n    }\n\n    addImagePen(x, y, width, prop) {\n        this.addTextPen('', x, y, width, prop, NO_NEWLINE);\n        return this;\n    }\n\n    addNewLinePen() {\n        var previousPen = this.lastPen;\n        var x = (previousPen) ? previousPen.lastX : 0;\n        var y = (previousPen) ? previousPen.y : 0;\n        var prop = (previousPen) ? Object(_utils_object_Clone_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(previousPen.prop) : null;\n        this.addTextPen('', x, y, 0, prop, WRAPPED_NEWLINE);\n        return this;\n    }\n\n    addPen(pen) {\n        var previousPen = this.lastPen;\n        if (previousPen == null) {\n            pen.startIndex = 0;\n        } else {\n            pen.startIndex = previousPen.endIndex;\n        }\n        this.pens.push(pen);\n\n        // maintan lines\n        var line = this.lastLine;\n        if (line == null) {\n            line = this.LinesPool.pop() || [];\n            this.lines.push(line);\n        }\n        line.push(pen);\n\n        // new line, add an empty line\n        if (pen.newLineMode !== NO_NEWLINE) {\n            line = this.LinesPool.pop() || [];\n            this.lines.push(line);\n        }\n        this.maxLinesWidth = undefined;\n    }\n\n    clone(targetPenManager) {\n        if (targetPenManager == null)\n            targetPenManager = new PenManager();\n\n        targetPenManager.freePens();\n\n        for (var li = 0, llen = this.lines.length; li < llen; li++) {\n            var pens = this.lines[li];\n            for (var pi = 0, plen = pens.length; pi < plen; pi++) {\n                var pen = pens[pi];\n                targetPenManager.addPen(\n                    pen.text,\n                    pen.x,\n                    pen.y,\n                    pen.width,\n                    Object(_utils_object_Clone_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(pen.prop),\n                    pen.newLineMode\n                );\n            }\n        }\n\n        return targetPenManager;\n    }\n\n    get lastPen() {\n        return this.pens[this.pens.length - 1];\n    }\n\n    get lastLine() {\n        return this.lines[this.lines.length - 1];\n    }\n\n    getLineStartIndex(i) {\n        if (i >= this.lines.length) {\n            return this.getLineEndIndex(i);\n        } else {\n            var line = this.lines[i];\n            return (line && line[0]) ? line[0].startIndex : 0;\n        }\n    }\n\n    getLineEndIndex(i) {\n        if (i >= this.lines.length) {\n            i = this.lines.length - 1;\n        }\n        var li, hasLastPen = false,\n            line;\n        for (li = i; li >= 0; li--) {\n            line = this.lines[li];\n            hasLastPen = (line != null) && (line.length > 0);\n            if (hasLastPen) {\n                break;\n            }\n        }\n        if (!hasLastPen) {\n            return 0;\n        }\n\n        var lastPen = line[line.length - 1];\n        return lastPen.endIndex;\n    }\n\n    getLineWidth(i) {\n        var line = this.lines[i];\n        if (!line) {\n            return 0;\n        }\n\n        var lastPen = line[line.length - 1];\n        if (lastPen == null) {\n            return 0;\n        }\n\n        var lineWidth = lastPen.lastX; // start from 0\n        return lineWidth;\n    }\n\n    getMaxLineWidth() {\n        if (this.maxLinesWidth !== undefined) {\n            return this.maxLinesWidth;\n        }\n        var w, maxW = 0;\n        for (var i = 0, len = this.lines.length; i < len; i++) {\n            w = this.getLineWidth(i);\n            if (w > maxW) {\n                maxW = w;\n            }\n        }\n        this.maxLinesWidth = maxW;\n        return maxW;\n    }\n\n    getLineWidths() {\n        var result = [];\n        for (var i = 0, len = this.lines.length; i < len; i++) {\n            result.push(this.getLineWidth(i));\n        }\n        return result;\n    }\n\n    get linesCount() {\n        return this.lines.length;\n    }\n\n    get plainText() {\n        var txt = \"\",\n            pens = this.pens;\n        for (var i = 0, len = pens.length; i < len; i++) {\n            txt += pens[i].plainText;\n        }\n\n        return txt;\n    }\n\n    get rawTextLength() {\n        var l = 0,\n            pens = this.pens;\n        for (var i = 0, len = this.pens.length; i < len; i++) {\n            l += pens[i].rawTextLength;\n        }\n\n        return l;\n    }\n\n    getSliceTagText(start, end, wrap) {\n        if (start === undefined) {\n            start = 0;\n        }\n        if (end === undefined) {\n            var lastPen = this.lastPen;\n            if (lastPen == null) {\n                return \"\";\n            }\n\n            end = lastPen.endIndex;\n        }\n        if (wrap === undefined) {\n            wrap = false;\n        }\n\n        var txt = \"\",\n            formatTxt,\n            pen, penTxt, penStartIdx, penEndIdx, isInRange;\n        var currentProp, previousProp;\n        for (var i = 0, len = this.pens.length; i < len; i++) {\n            pen = this.pens[i];\n            penEndIdx = pen.endIndex;\n            if (penEndIdx <= start) {\n                continue;\n            }\n            pen = this.pens[i];\n            penTxt = (!wrap) ? pen.plainText : pen.wrapText;\n            currentProp = pen.prop;\n            penStartIdx = pen.startIndex;\n\n            isInRange = (penStartIdx >= start) && (penEndIdx <= end);\n            if (!isInRange) {\n                penTxt = penTxt.substring(start - penStartIdx, end - penStartIdx);\n            }\n\n            if (this.tagToTextScope) {\n                txt += this.tagToText.call(this.tagToTextScope, penTxt, currentProp, previousProp);\n            } else {\n                txt += this.tagToText(penTxt, currentProp, previousProp);\n            }\n\n            previousProp = currentProp;\n            if (penEndIdx >= end) {\n                break;\n            }\n        }\n\n        return txt;\n    }\n};\n\nvar PEN_CONFIG = {};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (PenManager);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/text/textbase/penmanger/PenManager.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/text/textbase/render/CanvasRenderer.js":
/*!**********************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/text/textbase/render/CanvasRenderer.js ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2019 Photon Storm Ltd.\n * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}\n */\n\n/**\n * Renders this Game Object with the Canvas Renderer to the given Camera.\n * The object will not render if any of its renderFlags are set or it is being actively filtered out by the Camera.\n * This method should not be called directly. It is a utility function of the Render module.\n *\n * @method Phaser.GameObjects.Text#renderCanvas\n * @since 3.0.0\n * @private\n *\n * @param {Phaser.Renderer.Canvas.CanvasRenderer} renderer - A reference to the current active Canvas renderer.\n * @param {Phaser.GameObjects.Text} src - The Game Object being rendered in this call.\n * @param {number} interpolationPercentage - Reserved for future use and custom pipelines.\n * @param {Phaser.Cameras.Scene2D.Camera} camera - The Camera that is rendering the Game Object.\n * @param {Phaser.GameObjects.Components.TransformMatrix} parentMatrix - This transform matrix is defined if the game object is nested\n */\nvar TextCanvasRenderer = function (renderer, src, interpolationPercentage, camera, parentMatrix) {\n    if ((src.width === 0) || (src.height === 0)) {\n        return;\n    }\n\n    renderer.batchSprite(src, src.frame, camera, parentMatrix);\n};\n\nmodule.exports = TextCanvasRenderer;\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/text/textbase/render/CanvasRenderer.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/text/textbase/render/Render.js":
/*!**************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/text/textbase/render/Render.js ***!
  \**************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _WebGLRenderer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./WebGLRenderer.js */ \"./lib/rexui/lib/plugins/gameobjects/text/textbase/render/WebGLRenderer.js\");\n/* harmony import */ var _WebGLRenderer_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_WebGLRenderer_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _CanvasRenderer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CanvasRenderer.js */ \"./lib/rexui/lib/plugins/gameobjects/text/textbase/render/CanvasRenderer.js\");\n/* harmony import */ var _CanvasRenderer_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_CanvasRenderer_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_object_NOOP__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../utils/object/NOOP */ \"./lib/rexui/lib/plugins/utils/object/NOOP.js\");\n\n\n\n\nvar renderWebGL = _utils_object_NOOP__WEBPACK_IMPORTED_MODULE_2__[\"default\"];\nvar renderCanvas = _utils_object_NOOP__WEBPACK_IMPORTED_MODULE_2__[\"default\"];\n\nif (true) {\n    renderWebGL = _WebGLRenderer_js__WEBPACK_IMPORTED_MODULE_0___default.a;\n}\n\nif (true) {\n    renderCanvas = _CanvasRenderer_js__WEBPACK_IMPORTED_MODULE_1___default.a;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    renderWebGL: renderWebGL,\n    renderCanvas: renderCanvas\n\n});\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/text/textbase/render/Render.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/text/textbase/render/WebGLRenderer.js":
/*!*********************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/text/textbase/render/WebGLRenderer.js ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2019 Photon Storm Ltd.\n * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}\n */\n\nvar Utils = Phaser.Renderer.WebGL.Utils;\n\n/**\n * Renders this Game Object with the WebGL Renderer to the given Camera.\n * The object will not render if any of its renderFlags are set or it is being actively filtered out by the Camera.\n * This method should not be called directly. It is a utility function of the Render module.\n *\n * @method Phaser.GameObjects.Text#renderWebGL\n * @since 3.0.0\n * @private\n *\n * @param {Phaser.Renderer.WebGL.WebGLRenderer} renderer - A reference to the current active WebGL renderer.\n * @param {Phaser.GameObjects.Text} src - The Game Object being rendered in this call.\n * @param {number} interpolationPercentage - Reserved for future use and custom pipelines.\n * @param {Phaser.Cameras.Scene2D.Camera} camera - The Camera that is rendering the Game Object.\n * @param {Phaser.GameObjects.Components.TransformMatrix} parentMatrix - This transform matrix is defined if the game object is nested\n */\nvar TextWebGLRenderer = function (renderer, src, interpolationPercentage, camera, parentMatrix) {\n    if ((src.width === 0) || (src.height === 0)) {\n        return;\n    }\n\n    var frame = src.frame;\n    var width = frame.width;\n    var height = frame.height;\n    var getTint = Utils.getTintAppendFloatAlpha;\n\n    this.pipeline.batchTexture(\n        src,\n        frame.glTexture,\n        width, height,\n        src.x, src.y,\n        width / src.style.resolution, height / src.style.resolution,\n        src.scaleX, src.scaleY,\n        src.rotation,\n        src.flipX, src.flipY,\n        src.scrollFactorX, src.scrollFactorY,\n        src.displayOriginX, src.displayOriginY,\n        0, 0, width, height,\n        getTint(src._tintTL, camera.alpha * src._alphaTL),\n        getTint(src._tintTR, camera.alpha * src._alphaTR),\n        getTint(src._tintBL, camera.alpha * src._alphaBL),\n        getTint(src._tintBR, camera.alpha * src._alphaBR),\n        (src._isTinted && src.tintFill),\n        0, 0,\n        camera,\n        parentMatrix\n    );\n};\n\nmodule.exports = TextWebGLRenderer;\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/text/textbase/render/WebGLRenderer.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/text/textbase/textstyle/MeasureText.js":
/*!**********************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/text/textbase/textstyle/MeasureText.js ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2018 Photon Storm Ltd.\n * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}\n */\n\nconst CanvasPool = Phaser.Display.Canvas.CanvasPool;\n\n/**\n * Calculates the ascent, descent and fontSize of a given font style.\n *\n * @function Phaser.GameObjects.Text.MeasureText\n * @since 3.0.0\n *\n * @param {Phaser.GameObjects.Text.TextStyle} textStyle - The TextStyle object to measure.\n *\n * @return {object} An object containing the ascent, descent and fontSize of the TextStyle.\n */\nvar MeasureText = function (textStyle) {\n    // @property {HTMLCanvasElement} canvas - The canvas element that the text is rendered.\n    var canvas = CanvasPool.create(this);\n\n    // @property {HTMLCanvasElement} context - The context of the canvas element that the text is rendered to.\n    var context = canvas.getContext('2d');\n\n    textStyle.syncFont(canvas, context);\n\n    var width = Math.ceil(context.measureText(textStyle.testString).width * textStyle.baselineX);\n    var baseline = width;\n    var height = 2 * baseline;\n\n    baseline = baseline * textStyle.baselineY | 0;\n\n    canvas.width = width;\n    canvas.height = height;\n\n    context.fillStyle = '#f00';\n    context.fillRect(0, 0, width, height);\n\n    context.font = textStyle._font;\n\n    context.textBaseline = 'alphabetic';\n    context.fillStyle = '#000';\n    context.fillText(textStyle.testString, 0, baseline);\n\n    var output = {\n        ascent: 0,\n        descent: 0,\n        fontSize: 0\n    };\n\n    if (!context.getImageData(0, 0, width, height)) {\n        output.ascent = baseline;\n        output.descent = baseline + 6;\n        output.fontSize = output.ascent + output.descent;\n\n        CanvasPool.remove(canvas);\n\n        return output;\n    }\n\n    var imagedata = context.getImageData(0, 0, width, height).data;\n    var pixels = imagedata.length;\n    var line = width * 4;\n    var i;\n    var j;\n    var idx = 0;\n    var stop = false;\n\n    // ascent. scan from top to bottom until we find a non red pixel\n    for (i = 0; i < baseline; i++) {\n        for (j = 0; j < line; j += 4) {\n            if (imagedata[idx + j] !== 255) {\n                stop = true;\n                break;\n            }\n        }\n\n        if (!stop) {\n            idx += line;\n        } else {\n            break;\n        }\n    }\n\n    output.ascent = baseline - i;\n\n    idx = pixels - line;\n    stop = false;\n\n    // descent. scan from bottom to top until we find a non red pixel\n    for (i = height; i > baseline; i--) {\n        for (j = 0; j < line; j += 4) {\n            if (imagedata[idx + j] !== 255) {\n                stop = true;\n                break;\n            }\n        }\n\n        if (!stop) {\n            idx -= line;\n        } else {\n            break;\n        }\n    }\n\n    output.descent = (i - baseline);\n    output.fontSize = output.ascent + output.descent;\n\n    CanvasPool.remove(canvas);\n\n    return output;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (MeasureText);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/text/textbase/textstyle/MeasureText.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/gameobjects/text/textbase/textstyle/TextStyle.js":
/*!********************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/gameobjects/text/textbase/textstyle/TextStyle.js ***!
  \********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _MeasureText_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MeasureText.js */ \"./lib/rexui/lib/plugins/gameobjects/text/textbase/textstyle/MeasureText.js\");\n/* harmony import */ var _const_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../const.js */ \"./lib/rexui/lib/plugins/gameobjects/text/textbase/const.js\");\n/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2018 Photon Storm Ltd.\n * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}\n */\n\n\n\n\nconst GetAdvancedValue = Phaser.Utils.Objects.GetAdvancedValue;\nconst GetValue = Phaser.Utils.Objects.GetValue;\n\n//  Key: [ Object Key, Default Value ]\n\n/**\n * A custom function that will be responsible for wrapping the text.\n * @callback TextStyleWordWrapCallback\n *\n * @param {string} text - The string to wrap.\n * @param {Phaser.GameObjects.Text} textObject - The Text instance.\n *\n * @return {(string|string[])} Should return the wrapped lines either as an array of lines or as a string with\n * newline characters in place to indicate where breaks should happen.\n */\n\nvar propertyMap = {\n    // background\n    backgroundColor: ['backgroundColor', null],\n\n    // font\n    fontFamily: ['fontFamily', 'Courier'],\n    fontSize: ['fontSize', '16px'],\n    fontStyle: ['fontStyle', ''],\n    color: ['color', '#fff'],\n    stroke: ['stroke', '#fff'],\n    strokeThickness: ['strokeThickness', 0],\n    shadowOffsetX: ['shadow.offsetX', 0],\n    shadowOffsetY: ['shadow.offsetY', 0],\n    shadowColor: ['shadow.color', '#000'],\n    shadowBlur: ['shadow.blur', 0],\n    shadowStroke: ['shadow.stroke', false],\n    shadowFill: ['shadow.fill', false],\n\n    // underline\n    underlineColor: ['underline.color', '#000'],\n    underlineThickness: ['underline.thickness', 0],\n    underlineOffset: ['underline.offset', 0],\n\n    // align\n    halign: ['halign', 'left'],\n    valign: ['valign', 'top'],\n\n    // size\n    maxLines: ['maxLines', 0],\n    fixedWidth: ['fixedWidth', 0],\n    fixedHeight: ['fixedHeight', 0],\n    resolution: ['resolution', 0],\n    lineSpacing: ['lineSpacing', 0],\n\n    rtl: ['rtl', false],\n    testString: ['testString', '|Mqgy'],\n    baselineX: ['baselineX', 1.2],\n    baselineY: ['baselineY', 1.4],\n\n    // wrap\n    wrapMode: ['wrap.mode', 1],\n    wrapWidth: ['wrap.width', 0]\n    //wrapCallback: ['wrap.callback', null],\n    //wrapCallbackScope: ['wrap.callbackScope', null]\n};\n\nclass TextStyle {\n    constructor(text, style) {\n        this.parent = text;\n\n        this.backgroundColor;\n\n        this.fontFamily;\n        this.fontSize;\n        this.fontStyle;\n        this.color;\n        this.stroke;\n        this.strokeThickness;\n        this.shadowOffsetX;\n        this.shadowOffsetY;\n        this.shadowColor;\n        this.shadowBlur;\n        this.shadowStroke;\n        this.shadowFill;\n\n        this.underlineColor;\n        this.underlineThickness;\n        this.underlineOffset;\n\n        this.halign;\n        this.valign;\n\n        this.maxLines;\n        this.fixedWidth;\n        this.fixedHeight;\n        this.resolution;\n        this.lineSpacing;\n\n        this.rtl;\n        this.testString;\n\n\n        this.baselineX;\n        this.baselineY;\n\n        this._font;\n\n        //  Set to defaults + user style\n        this.setStyle(style, false);\n\n        var metrics = GetValue(style, 'metrics', false);\n\n        //  Provide optional TextMetrics in the style object to avoid the canvas look-up / scanning\n        //  Doing this is reset if you then change the font of this TextStyle after creation\n        if (metrics) {\n            this.metrics = {\n                ascent: GetValue(metrics, 'ascent', 0),\n                descent: GetValue(metrics, 'descent', 0),\n                fontSize: GetValue(metrics, 'fontSize', 0)\n            };\n        } else {\n            this.metrics = Object(_MeasureText_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this);\n        }\n    }\n\n    setStyle(style, updateText) {\n        if (updateText === undefined) {\n            updateText = true;\n        }\n\n        if (style && style.hasOwnProperty('wrap')) {\n            var wrap = style.wrap;\n            if (wrap.hasOwnProperty('mode')) {\n                var mode = wrap.mode;\n                if (typeof mode === 'string') {\n                    wrap.mode = WRAPMODE[mode];\n                }\n            } else {\n                if (wrap.hasOwnProperty('width')) {\n                    wrap.mode = 1;\n                }\n            }\n        }\n\n        //  Avoid type mutation\n        if (style && style.hasOwnProperty('fontSize') && typeof style.fontSize === 'number') {\n            style.fontSize = style.fontSize.toString() + 'px';\n        }\n\n        for (var key in propertyMap) {\n            if (key === 'wrapCallback' || key === 'wrapCallbackScope') {\n                // Callback & scope should be set without processing the values\n                this[key] = GetValue(style, propertyMap[key][0], propertyMap[key][1]);\n            } else {\n                this[key] = GetAdvancedValue(style, propertyMap[key][0], propertyMap[key][1]);\n            }\n        }\n\n        //  Allow for 'font' override\n        var font = GetValue(style, 'font', null);\n\n        if (font === null) {\n            this._font = this.fontStyle + ' ' + this.fontSize + ' ' + this.fontFamily;\n        } else {\n            this._font = font;\n        }\n\n        //  Allow for 'fill' to be used in place of 'color'\n        var fill = GetValue(style, 'fill', null);\n\n        if (fill !== null) {\n            this.color = fill;\n        }\n\n        if (updateText) {\n            return this.update(true);\n        } else {\n            return this.parent;\n        }\n    }\n\n    syncFont(canvas, context) {\n        context.font = this._font;\n    }\n\n    syncStyle(canvas, context) {\n        context.textBaseline = 'alphabetic';\n\n        context.fillStyle = this.color;\n        context.strokeStyle = this.stroke;\n\n        context.lineWidth = this.strokeThickness;\n        context.lineCap = 'round';\n        context.lineJoin = 'round';\n    }\n\n    syncShadow(context, enabled) {\n        if (enabled) {\n            context.shadowOffsetX = this.shadowOffsetX;\n            context.shadowOffsetY = this.shadowOffsetY;\n            context.shadowColor = this.shadowColor;\n            context.shadowBlur = this.shadowBlur;\n        } else {\n            context.shadowOffsetX = 0;\n            context.shadowOffsetY = 0;\n            context.shadowColor = 0;\n            context.shadowBlur = 0;\n        }\n    }\n\n    update(recalculateMetrics) {\n        if (recalculateMetrics) {\n            this._font = this.fontStyle + ' ' + this.fontSize + ' ' + this.fontFamily;\n\n            this.metrics = Object(_MeasureText_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this);\n        }\n\n        return this.parent.updateText(recalculateMetrics);\n    }\n\n    buildFont() {\n        var newFont = this.fontStyle + ' ' + this.fontSize + ' ' + this.fontFamily;\n        if (newFont !== this._font) {\n            this._font = newFont;\n            //this.metrics = MeasureText(this);\n        }\n        return this;\n    }\n\n    setFont(font) {\n        if (typeof font === 'string') {\n            this.fontFamily = font;\n            this.fontSize = '';\n            this.fontStyle = '';\n        } else {\n            this.fontFamily = GetValue(font, 'fontFamily', 'Courier');\n            this.fontSize = GetValue(font, 'fontSize', '16px');\n            this.fontStyle = GetValue(font, 'fontStyle', '');\n        }\n\n        return this.update(true);\n    }\n\n    setFontFamily(family) {\n        this.fontFamily = family;\n\n        return this.update(true);\n    }\n\n    setFontStyle(style) {\n        this.fontStyle = style;\n\n        return this.update(true);\n    }\n\n    setFontSize(size) {\n        if (typeof size === 'number') {\n            size = size.toString() + 'px';\n        }\n\n        this.fontSize = size;\n\n        return this.update(true);\n    }\n\n    setTestString(string) {\n        this.testString = string;\n\n        return this.update(true);\n    }\n\n    setFixedSize(width, height) {\n        this.fixedWidth = width;\n        this.fixedHeight = height;\n\n        if (width) {\n            this.parent.width = width;\n        }\n\n        if (height) {\n            this.parent.height = height;\n        }\n\n        return this.update(false);\n    }\n\n    setResolution(value) {\n        this.resolution = value;\n\n        return this.update(false);\n    }\n\n    setLineSpacing(value) {\n        this.lineSpacing = value;\n\n        return this.update(false);\n    }\n\n    setBackgroundColor(color) {\n        this.backgroundColor = color;\n\n        return this.update(false);\n    }\n\n    setFill(color) {\n        this.color = color;\n\n        return this.update(false);\n    }\n\n    setColor(color) {\n        this.color = color;\n\n        return this.update(false);\n    }\n\n    setStroke(color, thickness) {\n        if (color === undefined) {\n            //  Reset the stroke to zero (disabling it)\n            this.strokeThickness = 0;\n        } else {\n            if (thickness === undefined) {\n                thickness = this.strokeThickness;\n            }\n\n            this.stroke = color;\n            this.strokeThickness = thickness;\n        }\n\n        return this.update(true);\n    }\n\n    setShadow(x, y, color, blur, shadowStroke, shadowFill) {\n        if (x === undefined) {\n            x = 0;\n        }\n        if (y === undefined) {\n            y = 0;\n        }\n        if (color === undefined) {\n            color = '#000';\n        }\n        if (blur === undefined) {\n            blur = 0;\n        }\n        if (shadowStroke === undefined) {\n            shadowStroke = false;\n        }\n        if (shadowFill === undefined) {\n            shadowFill = true;\n        }\n\n        this.shadowOffsetX = x;\n        this.shadowOffsetY = y;\n        this.shadowColor = color;\n        this.shadowBlur = blur;\n        this.shadowStroke = shadowStroke;\n        this.shadowFill = shadowFill;\n\n        return this.update(false);\n    }\n\n    setShadowOffset(x, y) {\n        if (x === undefined) {\n            x = 0;\n        }\n        if (y === undefined) {\n            y = x;\n        }\n\n        this.shadowOffsetX = x;\n        this.shadowOffsetY = y;\n\n        return this.update(false);\n    }\n\n    setShadowColor(color) {\n        if (color === undefined) {\n            color = '#000';\n        }\n\n        this.shadowColor = color;\n\n        return this.update(false);\n    }\n\n    setShadowBlur(blur) {\n        if (blur === undefined) {\n            blur = 0;\n        }\n\n        this.shadowBlur = blur;\n\n        return this.update(false);\n    }\n\n    setShadowStroke(enabled) {\n        this.shadowStroke = enabled;\n\n        return this.update(false);\n    }\n\n    setShadowFill(enabled) {\n        this.shadowFill = enabled;\n\n        return this.update(false);\n    }\n\n    setUnderline(color, thickness, offset) {\n        if (color === undefined) {\n            color = '#000';\n        }\n        if (thickness === undefined) {\n            thickness = 0;\n        }\n        if (offset === undefined) {\n            offset = 0;\n        }\n\n        this.underlineColor = color;\n        this.underlineThickness = thickness;\n        this.underlineOffset = offset;\n\n        return this.update(false);\n    }\n\n    setUnderlineColor(color) {\n        if (color === undefined) {\n            color = '#000';\n        }\n\n        this.underlineColor = color;\n        return this.update(false);\n    }\n\n    setUnderlineThickness(thickness) {\n        if (thickness === undefined) {\n            thickness = 0;\n        }\n\n        this.underlineThickness = thickness;\n        return this.update(false);\n    }\n\n    setUnderlineOffset(offset) {\n        if (offset === undefined) {\n            offset = 0;\n        }\n\n        this.underlineOffset = offset;\n        return this.update(false);\n    }\n\n    setWrapMode(mode) {\n        if (typeof mode === 'string') {\n            mode = WRAPMODE[mode.toLowerCase()] || 0;\n        }\n        this.wrapMode = mode;\n        return this.update(true);\n    }\n\n    setWrapWidth(width) {\n        this.wrapWidth = width;\n        return this.update(false);\n    }\n\n    setAlign(halign, valign) {\n        if (halign === undefined) {\n            halign = 'left';\n        }\n        if (valign === undefined) {\n            valign = 'top';\n        }\n        this.halign = halign;\n        this.valign = valign;\n\n        return this.update(false);\n    }\n\n    setHAlign(halign) {\n        if (halign === undefined) {\n            halign = 'left';\n        }\n        this.halign = halign;\n\n        return this.update(false);\n    }\n\n    setVAlign(valign) {\n        if (valign === undefined) {\n            valign = 'top';\n        }\n        this.valign = valign;\n\n        return this.update(false);\n    }\n\n    setMaxLines(max) {\n        if (max === undefined) {\n            max = 0;\n        }\n\n        this.maxLines = max;\n\n        return this.update(false);\n    }\n\n    getTextMetrics() {\n        var metrics = this.metrics;\n\n        return {\n            ascent: metrics.ascent,\n            descent: metrics.descent,\n            fontSize: metrics.fontSize\n        };\n    }\n\n    get lineHeight() {\n        return this.metrics.fontSize + this.strokeThickness + this.lineSpacing;\n    }\n\n    toJSON() {\n        var output = {};\n\n        for (var key in propertyMap) {\n            output[key] = this[key];\n        }\n\n        output.metrics = this.getTextMetrics();\n\n        return output;\n    }\n\n    destroy() {\n        this.parent = undefined;\n    }\n\n}\n\nconst HALIGNMODE = {\n    left: _const_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].hleft,\n    center: _const_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].hcenter,\n    right: _const_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].hright,\n};\nconst VALIGNMODE = {\n    top: _const_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].vtop,\n    center: _const_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].vcenter,\n    bottom: _const_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].vbottom,\n};\nconst WRAPMODE = {\n    none: _const_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].NO_WRAP,\n    word: _const_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].WORD_WRAP,\n    char: _const_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].CHAR_WRAP,\n    character: _const_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].CHAR_WRAP\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (TextStyle);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/gameobjects/text/textbase/textstyle/TextStyle.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/input/button/Button.js":
/*!******************************************************!*\
  !*** ./lib/rexui/lib/plugins/input/button/Button.js ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_eventemitter_EventEmitterMethods_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/eventemitter/EventEmitterMethods.js */ \"./lib/rexui/lib/plugins/utils/eventemitter/EventEmitterMethods.js\");\n/* harmony import */ var _utils_system_GetSceneObject_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/system/GetSceneObject.js */ \"./lib/rexui/lib/plugins/utils/system/GetSceneObject.js\");\n\n\n\nconst GetValue = Phaser.Utils.Objects.GetValue;\n\nclass Button {\n    constructor(gameObject, config) {\n        this.gameObject = gameObject;\n        this.scene = Object(_utils_system_GetSceneObject_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(gameObject);\n        // Event emitter\n        this.setEventEmitter(GetValue(config, 'eventEmitter', undefined));\n\n        gameObject.setInteractive(GetValue(config, \"inputConfig\", undefined));\n        this.resetFromJSON(config);\n        this.boot();\n    }\n\n    resetFromJSON(o) {\n        this.pointer = undefined;\n        this.lastClickTime = undefined;\n        this.setEnable(GetValue(o, \"enable\", true));\n        this.setMode(GetValue(o, \"mode\", 1));\n        this.setClickInterval(GetValue(o, \"clickInterval\", 100));\n        this.setDragThreshold(GetValue(o, 'threshold', undefined));\n        return this;\n    }\n\n    boot() {\n        this.gameObject.on('pointerdown', this.onPress, this);\n        this.gameObject.on('pointerup', this.onRelease, this);\n        this.gameObject.on('pointerout', this.onPointOut, this);\n        this.gameObject.on('pointermove', this.onMove, this);\n        this.gameObject.on('destroy', this.destroy, this);\n    }\n\n    shutdown() {\n        this.destroyEventEmitter();\n        this.pointer = undefined;\n        this.gameObject = undefined;\n        this.scene = undefined;\n        // gameObject events will be removed when this gameObject destroyed \n    }\n\n    destroy() {\n        this.shutdown();\n    }\n\n    setEnable(e) {\n        if (e === undefined) {\n            e = true;\n        }\n\n        if (this.enable === e) {\n            return this;\n        }\n\n        if (!e) {\n            this.cancel();\n        }\n        this.enable = e;\n        this.gameObject.input.enabled = e;\n        return this;\n    }\n\n    setMode(m) {\n        if (typeof (m) === 'string') {\n            m = CLICKMODE[m];\n        }\n        this.mode = m;\n        return this;\n    }\n\n    setClickInterval(interval) {\n        this.clickInterval = interval; // ms\n        return this;\n    }\n\n    setDragThreshold(distance) {\n        this.dragThreshold = distance;\n        return this;\n    }\n\n    // internal\n    onPress(pointer, localX, localY, event) {\n        if (this.pointer !== undefined) {\n            return;\n        }\n        this.pointer = pointer;\n        if (this.mode === 0) {\n            this.click(pointer.downTime, pointer, event);\n        }\n    }\n\n    onRelease(pointer, localX, localY, event) {\n        if (this.pointer !== pointer) {\n            return;\n        }\n        if (this.mode === 1) {\n            this.click(pointer.upTime, pointer, event);\n        }\n        this.pointer = undefined;\n    }\n\n    onPointOut(pointer, event) {\n        if (this.pointer !== pointer) {\n            return;\n        }\n        this.cancel();\n    }\n\n    onMove(pointer, localX, localY, event) {\n        if (this.pointer !== pointer) {\n            return;\n        }\n\n        if (this.dragThreshold === undefined) {\n            return;\n        }\n\n        if (pointer.getDistance() >= this.dragThreshold) {\n            this.cancel();\n        }\n    }\n\n    click(nowTime, pointer, event) {\n        if (nowTime === undefined) {\n            // fires 'click' event manually\n            this.emit('click', this, this.gameObject, pointer, event);\n            return this;\n        }\n\n        this.pointer = undefined;\n        var lastClickTime = this.lastClickTime;\n        if ((lastClickTime !== undefined) &&\n            ((nowTime - lastClickTime) <= this.clickInterval)) {\n            return this;\n        }\n        this.lastClickTime = nowTime;\n        this.emit('click', this, this.gameObject, pointer, event);\n        return this;\n    }\n\n    cancel() {\n        this.pointer = undefined;\n        return this;\n    }\n}\n\nObject.assign(\n    Button.prototype,\n    _utils_eventemitter_EventEmitterMethods_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]\n);\n\nconst CLICKMODE = {\n    'press': 0,\n    'pointerdown': 0,\n    'release': 1,\n    'pointerup': 1,\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Button);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/input/button/Button.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/input/dragspeed/DragSpeed.js":
/*!************************************************************!*\
  !*** ./lib/rexui/lib/plugins/input/dragspeed/DragSpeed.js ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_system_GetSceneObject_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/system/GetSceneObject.js */ \"./lib/rexui/lib/plugins/utils/system/GetSceneObject.js\");\n/* harmony import */ var _utils_eventemitter_EventEmitterMethods_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/eventemitter/EventEmitterMethods.js */ \"./lib/rexui/lib/plugins/utils/eventemitter/EventEmitterMethods.js\");\n\n\n\nconst GetValue = Phaser.Utils.Objects.GetValue;\nconst DistanceBetween = Phaser.Math.Distance.Between;\n\nclass DragSpeed {\n    constructor(gameObject, config) {\n        this.gameObject = gameObject;\n        this.scene = Object(_utils_system_GetSceneObject_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(gameObject);\n        // Event emitter\n        this.setEventEmitter(GetValue(config, 'eventEmitter', undefined));\n\n        gameObject.setInteractive(GetValue(config, \"inputConfig\", undefined));\n        this.resetFromJSON(config);\n        this.boot();\n    }\n\n    resetFromJSON(o) {\n        this.pointer = undefined;\n        this.isInTouched = false;\n        this.holdStartTime = undefined;\n        this.x = undefined;\n        this.y = undefined;\n        this.preX = undefined;\n        this.preY = undefined;\n        this.localX = undefined;\n        this.localY = undefined;\n        this.justMoved = false;\n        this.setEnable(GetValue(o, \"enable\", true));\n        this.holdThreshold = GetValue(o, \"holdThreshold\", 50); // ms\n        return this;\n    }\n\n    boot() {\n        this.gameObject.on('pointerdown', this.onPointIn, this);\n        this.gameObject.on('pointerover', this.onPointIn, this);\n        this.gameObject.on('pointerup', this.onPointOut, this);\n        this.gameObject.on('pointerout', this.onPointOut, this);\n        this.gameObject.on('pointermove', this.onPointerMove, this);\n        this.gameObject.on('destroy', this.destroy, this);\n        this.scene.events.on('preupdate', this.preupdate, this);\n    }\n\n    shutdown() {\n        if (this.scene) { // Scene might be destoryed\n            this.scene.events.off('preupdate', this.preupdate, this);\n        }\n        this.pointer = undefined;\n        this.gameObject = undefined;\n        this.scene = undefined;\n        // GameObject events will be removed when this gameObject destroyed \n        this.destroyEventEmitter();\n    }\n\n    destroy() {\n        this.shutdown();\n    }\n\n    setEnable(e) {\n        if (e === undefined) {\n            e = true;\n        }\n\n        if (this.enable === e) {\n            return this;\n        }\n\n        if (!e) {\n            this.isInTouched = false;\n            this.pointer = undefined;\n        }\n        this.enable = e;\n        this.gameObject.input.enabled = e;\n        return this;\n    }\n\n    get isDown() {\n        return this.pointer && this.pointer.isDown;\n    }\n\n    get isUp() {\n        return !this.isDown;\n    }\n\n    get dx() {\n        return this.x - this.preX;\n    }\n\n    get dy() {\n        return this.y - this.preY;\n    }\n\n    get dt() {\n        var game = this.scene.sys.game;\n        var delta = game.loop.delta;\n        return delta;\n    }\n\n    get speed() {\n        if ((this.x === this.preX) && (this.y === this.preY)) {\n            return 0;\n        }\n        var d = DistanceBetween(this.preX, this.preY, this.x, this.y);\n        var speed = d / (this.dt * 0.001);\n        return speed;\n    }\n\n    get speedX() {\n        return this.dx / (this.dt * 0.001);\n    }\n\n    get speedY() {\n        return this.dy / (this.dt * 0.001);\n    }\n\n    // internal\n    onPointIn(pointer, localX, localY) {\n        if (!pointer.isDown ||\n            (this.pointer !== undefined)) {\n            return;\n        }\n        this.pointer = pointer;\n        this.localX = localX;\n        this.localY = localY;\n    }\n\n    onPointOut(pointer) {\n        if (this.pointer !== pointer) {\n            return;\n        }\n        this.pointer = undefined;\n    }\n\n    onPointerMove(pointer, localX, localY) {\n        if (!pointer.isDown ||\n            (this.pointer !== pointer)) {\n            return;\n        }\n        this.localX = localX;\n        this.localY = localY;\n    }\n\n    preupdate(time, delta) {\n        var pointer = this.pointer;\n        this.justMoved = false;\n        if (pointer && (!this.isInTouched)) {\n            // Touch start\n            this.x = pointer.x;\n            this.y = pointer.y;\n            this.preX = pointer.x;\n            this.preY = pointer.y;\n            this.isInTouched = true;\n            this.holdStartTime = undefined;\n            this.emit('touchstart', pointer, this.localX, this.localY);\n\n        } else if (pointer && this.isInTouched) {\n            // In touch\n            if ((this.x === pointer.x) && (this.y === pointer.y)) {\n                // Hold\n                if (this.holdStartTime === undefined) {\n                    this.holdStartTime = time;\n                } else if (time - this.holdStartTime > this.holdThreshold) {\n                    this.preX = this.x;\n                    this.preY = this.y;\n                }\n            } else {\n                // Move\n                this.preX = this.x;\n                this.preY = this.y;\n                this.x = pointer.x;\n                this.y = pointer.y;\n                this.holdStartTime = undefined;\n                this.justMoved = true;\n                this.emit('touchmove', pointer, this.localX, this.localY);\n            }\n\n        } else if ((!pointer) && this.isInTouched) {\n            // Touch end\n            this.isInTouched = false;\n            this.holdStartTime = undefined;\n            this.emit('touchend', pointer);\n\n        }\n    }\n}\n\nObject.assign(\n    DragSpeed.prototype,\n    _utils_eventemitter_EventEmitterMethods_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]\n);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (DragSpeed);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/input/dragspeed/DragSpeed.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/input/gestures/onepointertracer/OnePointerTracer.js":
/*!***********************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/input/gestures/onepointertracer/OnePointerTracer.js ***!
  \***********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_ticktask_TickTask_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../utils/ticktask/TickTask.js */ \"./lib/rexui/lib/plugins/utils/ticktask/TickTask.js\");\n/* harmony import */ var _utils_system_GetSceneObject_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../utils/system/GetSceneObject.js */ \"./lib/rexui/lib/plugins/utils/system/GetSceneObject.js\");\n\n\n\nconst GetValue = Phaser.Utils.Objects.GetValue;\n\nclass OnePointerTracer extends _utils_ticktask_TickTask_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(gameObject, config) {\n        var scene = Object(_utils_system_GetSceneObject_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(gameObject);\n        if (scene === gameObject) {\n            gameObject = undefined;\n        }\n        super(scene, config);\n\n        this.scene = scene;\n        this.gameObject = gameObject;\n        if (gameObject) {\n            gameObject.setInteractive(GetValue(config, \"inputConfig\", undefined));\n        }\n        this.resetFromJSON(config);\n        this.boot();\n    }\n\n    resetFromJSON(o) {\n        this.setEnable(GetValue(o, \"enable\", true));\n\n        if (this.gameObject === undefined) {\n            this.bounds = GetValue(o, 'bounds', undefined);\n        } else {\n            this.bounds = undefined;\n        }\n\n        this.tracerState = TOUCH0;\n        // this.recongizedState = new stateClass(this);\n        this.pointer = undefined;\n        this.lastPointer = undefined; // Last catched pointer\n        this.movedState = false;\n        this.isTouchingAnyObject = false;\n        return this;\n    }\n\n    boot() {\n        super.boot();\n        if (this.gameObject) {\n            this.gameObject.on('pointerdown', this.onPointerDown, this);\n        } else {\n            this.scene.input.on('pointerdown', this.onPointerDown, this);\n        }\n        this.scene.input.on('pointerup', this.onPointerUp, this);\n        this.scene.input.on('pointermove', this.onPointerMove, this);\n        this.scene.events.once('shutdown', this.destroy, this);\n    }\n\n    shutdown() {\n        if (this.gameObject) {\n            this.gameObject.off('pointerdown', this.onPointerDown, this);\n        } else if (this.scene) {\n            this.scene.input.off('pointerdown', this.onPointerDown, this);\n        }\n        if (this.scene) {\n            this.scene.input.off('pointerup', this.onPointerUp, this);\n            this.scene.input.off('pointermove', this.onPointerMove, this);\n            this.scene.events.off('destroy', this.destroy, this);\n            this.scene = undefined;\n        }\n\n        this.scene = undefined;\n        this.gameObject = undefined;\n        this.bounds = undefined;\n        this.pointer = undefined;\n        this.lastPointer = undefined; // Last catched pointer\n        this.movedState = false;\n        super.shutdown();\n    }\n\n    destroy() {\n        this.shutdown();\n    }\n\n    setEnable(e) {\n        if (e === undefined) {\n            e = true;\n        }\n\n        if (this.enable === e) {\n            return this;\n        }\n\n        if (!e) {\n            this.dragCancel();\n        }\n        this.enable = e;\n        return this;\n    }\n\n    onPointerDown(pointer, gameObjects) {\n        if (!this.enable) {\n            return;\n        }\n\n        if (this.pointer !== undefined) {\n            return;\n        }\n\n        var isInsideBounds = (this.bounds) ? this.bounds.contains(pointer.x, pointer.y) : true;\n        if (!isInsideBounds) {\n            return;\n        }\n\n        if (this.pointer === pointer) {\n            return;\n        }\n\n        this.pointer = pointer;\n        this.lastPointer = pointer;\n        this.movedState = false;\n        this.tracerState = TOUCH1;\n\n        if (this.gameObject === undefined) {\n            this.isTouchingAnyObject = (gameObjects.length > 0);\n        }\n        this.onDragStart();\n    }\n\n    onPointerUp(pointer) {\n        if (!this.enable) {\n            return;\n        }\n\n        var isInsideBounds = (this.bounds) ? this.bounds.contains(pointer.x, pointer.y) : true;\n        if (!isInsideBounds) {\n            return;\n        }\n\n        if (this.pointer !== pointer) {\n            return;\n        }\n\n        this.pointer = undefined;\n        this.movedState = false;\n        this.tracerState = TOUCH0;\n        this.onDragEnd();\n    }\n\n    onPointerMove(pointer) {\n        if (!this.enable) {\n            return;\n        }\n\n        if (pointer.isDown) {\n            var isInsideBounds = (this.bounds) ? this.bounds.contains(pointer.x, pointer.y) : true;\n            var isCatchedPointer = (this.pointer === pointer);\n            if (!isCatchedPointer && isInsideBounds) { // Pointer moves into bounds\n                // this.onPointerDown(pointer);\n            } else if (isCatchedPointer && !isInsideBounds) { // Pointer moves out of bounds\n                this.onPointerUp(pointer);\n            } else { // Pointer drags in bounds\n                if (!this.movedState) {\n                    this.movedState = (pointer.x !== pointer.downX) || (pointer.y !== pointer.downY);\n                }\n                if (this.movedState) {\n                    this.onDrag();\n                }\n            }\n        } else {\n            // var isInsideBounds = (this.bounds) ? this.bounds.contains(pointer.x, pointer.y) : true;\n            // var isLastCatchedPointer = (this.lastPointer === pointer);\n            // if (isLastCatchedPointer && isInsideBounds) {\n            //     this.onLastPointerMove();\n            // }\n        }\n    }\n\n    dragCancel() {\n        if (this.tracerState === TOUCH1) {\n            this.onDragEnd();\n        }\n        this.pointer = undefined;\n        this.tracerState = TOUCH0;\n        return this;\n    }\n\n    onDragStart() {\n        this.emit('dragstart', this);\n    }\n\n    onDragEnd() {\n        this.emit('dragend', this);\n    }\n\n    onDrag() {\n        this.emit('drag', this);\n    }\n\n    // onLastPointerMove() { }\n\n    preUpdate(time, delta) { }\n\n    postUpdate(time, delta) { }\n\n    startTicking() {\n        super.startTicking();\n        this.scene.events.on('preupdate', this.preUpdate, this);\n        this.scene.events.on('postupdate', this.postUpdate, this);\n    }\n\n    stopTicking() {\n        super.stopTicking();\n        if (this.scene) { // Scene might be destoryed\n            this.scene.events.off('preupdate', this.preUpdate, this);\n            this.scene.events.off('postupdate', this.postUpdate, this);\n        }\n    }\n\n    setRecongizedStateObject(stateObject) {\n        this.recongizedState = stateObject;\n        return this;\n    }\n\n    get state() {\n        return this.recongizedState.state;\n    }\n\n    set state(newState) {\n        this.recongizedState.state = newState;\n    }\n\n    cancel() {\n        this.state = IDLE;\n        return this;\n    }\n}\n\nconst TOUCH0 = 0;\nconst TOUCH1 = 1;\n\nconst IDLE = 'IDLE';\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (OnePointerTracer);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/input/gestures/onepointertracer/OnePointerTracer.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/input/gestures/pan/Pan.js":
/*!*********************************************************!*\
  !*** ./lib/rexui/lib/plugins/input/gestures/pan/Pan.js ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _onepointertracer_OnePointerTracer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../onepointertracer/OnePointerTracer.js */ \"./lib/rexui/lib/plugins/input/gestures/onepointertracer/OnePointerTracer.js\");\n/* harmony import */ var _fsm_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../fsm.js */ \"./lib/rexui/lib/plugins/fsm.js\");\n\n\n\nconst GetValue = Phaser.Utils.Objects.GetValue;\n\nclass Pan extends _onepointertracer_OnePointerTracer_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(gameObject, config) {\n        super(gameObject, config);\n\n        var self = this;\n        var stateConfig = {\n            states: {\n                IDLE: {\n                },\n                BEGIN: {\n                    enter: function () {\n                        var pointer = self.pointer;\n                        self.startX = pointer.x;\n                        self.startY = pointer.y;\n                        self.startWorldX = pointer.worldX;\n                        self.startWorldY = pointer.worldY;\n                    }\n                },\n                RECOGNIZED: {\n                    enter: function () {\n                        self.emit('panstart', self, self.gameObject, self.lastPointer);\n                    },\n                    exit: function () {\n                        var pointer = self.lastPointer;\n                        self.endX = pointer.x;\n                        self.endY = pointer.y;\n                        self.endWorldX = pointer.worldX;\n                        self.endWorldY = pointer.worldY;\n                        self.emit('panend', self, self.gameObject, self.lastPointer);\n                    }\n                }\n            },\n            init: function () {\n                this.state = IDLE;\n            },\n            eventEmitter: false,\n        }\n        this.setRecongizedStateObject(new _fsm_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](stateConfig));\n    }\n\n    resetFromJSON(o) {\n        super.resetFromJSON(o);\n        this.setDragThreshold(GetValue(o, 'threshold', 10));\n        return this;\n    }\n\n    onDragStart() {\n        this.state = (this.dragThreshold === 0) ? RECOGNIZED : BEGIN;\n    }\n\n    onDragEnd() {\n        this.state = IDLE;\n    }\n\n    onDrag() {\n        switch (this.state) {\n            case BEGIN:\n                if (this.pointer.getDistance() >= this.dragThreshold) {\n                    this.state = RECOGNIZED;\n                }\n                break;\n\n            case RECOGNIZED:\n                var p1 = this.pointer.position;\n                var p0 = this.pointer.prevPosition;\n                this.dx = p1.x - p0.x;\n                this.dy = p1.y - p0.y;\n                var pointer = this.pointer;\n                self.x = pointer.x;\n                self.y = pointer.y;\n                self.worldX = pointer.worldX;\n                self.worldY = pointer.worldY;\n                this.emit('pan', this);\n                break;\n        }\n    }\n\n    get isPan() {\n        return (this.state === RECOGNIZED);\n    }\n\n    setDragThreshold(distance) {\n        this.dragThreshold = distance;\n        return this;\n    }\n}\n\nconst IDLE = 'IDLE';\nconst BEGIN = 'BEGIN';\nconst RECOGNIZED = 'RECOGNIZED';\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Pan);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/input/gestures/pan/Pan.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/input/gestures/pinch/Pinch.js":
/*!*************************************************************!*\
  !*** ./lib/rexui/lib/plugins/input/gestures/pinch/Pinch.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _twopointerstracer_TwoPointersTracer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../twopointerstracer/TwoPointersTracer.js */ \"./lib/rexui/lib/plugins/input/gestures/twopointerstracer/TwoPointersTracer.js\");\n/* harmony import */ var _fsm_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../fsm.js */ \"./lib/rexui/lib/plugins/fsm.js\");\n\n\n\nconst GetValue = Phaser.Utils.Objects.GetValue;\n\nclass Pinch extends _twopointerstracer_TwoPointersTracer_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(scene, config) {\n        super(scene, config);\n\n        var self = this;\n        var stateConfig = {\n            states: {\n                IDLE: {\n                    enter: function () {\n                        self.prevDistance = undefined;\n                        self.scaleFactor = 1;\n                    },\n                },\n                BEGIN: {\n                },\n                RECOGNIZED: {\n                    enter: function () {\n                        self.emit('pinchstart', self);\n                    },\n                    exit: function () {\n                        self.emit('pinchend', self);\n                    }\n                }\n            },\n            init: function () {\n                this.state = IDLE;\n            },\n            eventEmitter: false,\n        }\n        this.setRecongizedStateObject(new _fsm_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](stateConfig));\n    }\n\n    resetFromJSON(o) {\n        super.resetFromJSON(o);\n        this.setDragThreshold(GetValue(o, 'threshold', 0));\n        return this;\n    }\n\n    onDrag2Start() {\n        this.scaleFactor = 1;\n        this.prevDistance = this.distanceBetween;\n        this.state = (this.dragThreshold === 0) ? RECOGNIZED : BEGIN;\n    }\n\n    onDrag2End() {\n        this.state = IDLE;\n    }\n\n    onDrag2() {\n        switch (this.state) {\n            case BEGIN:\n                if ((this.pointers[0].getDistance() >= this.dragThreshold) &&\n                    (this.pointers[1].getDistance() >= this.dragThreshold)) {\n                    var curDistance = this.distanceBetween;\n                    this.scaleFactor = curDistance / this.prevDistance;\n                    this.prevDistance = curDistance;\n                    this.state = RECOGNIZED;\n                }\n                break;\n            case RECOGNIZED:\n                var curDistance = this.distanceBetween;\n                this.scaleFactor = curDistance / this.prevDistance;\n                this.emit('pinch', this);\n                this.prevDistance = curDistance;\n                break;\n        }\n    }\n\n    get isPinch() {\n        return (this.state === RECOGNIZED);\n    }\n\n    setDragThreshold(distance) {\n        this.dragThreshold = distance;\n        return this;\n    }\n}\n\nconst IDLE = 'IDLE';\nconst BEGIN = 'BEGIN';\nconst RECOGNIZED = 'RECOGNIZED';\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Pinch);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/input/gestures/pinch/Pinch.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/input/gestures/press/Press.js":
/*!*************************************************************!*\
  !*** ./lib/rexui/lib/plugins/input/gestures/press/Press.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _onepointertracer_OnePointerTracer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../onepointertracer/OnePointerTracer.js */ \"./lib/rexui/lib/plugins/input/gestures/onepointertracer/OnePointerTracer.js\");\n/* harmony import */ var _fsm_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../fsm.js */ \"./lib/rexui/lib/plugins/fsm.js\");\n\n\n\nconst GetValue = Phaser.Utils.Objects.GetValue;\n\nclass Press extends _onepointertracer_OnePointerTracer_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(gameObject, config) {\n        super(gameObject, config);\n\n        var self = this;\n        var stateConfig = {\n            states: {\n                IDLE: {\n                    enter: function () {\n                        self.x = 0;\n                        self.y = 0;\n                        self.worldX = 0;\n                        self.worldY = 0;\n                    },\n                    exit: function () {\n                        var pointer = self.lastPointer;\n                        self.x = pointer.x;\n                        self.y = pointer.y;\n                        self.worldX = pointer.worldX;\n                        self.worldY = pointer.worldY;\n                    }\n                },\n                BEGIN: {\n                    enter: function () {\n                        self.start();\n                    },\n                    exit: function () {\n                        self.stop();\n                    }\n                },\n                RECOGNIZED: {\n                    enter: function () {\n                        self.emit('pressstart', self, self.gameObject, self.lastPointer);\n                    },\n                    exit: function () {\n                        self.emit('pressend', self, self.gameObject, self.lastPointer);\n                    }\n                }\n            },\n            init: function () {\n                this.state = IDLE;\n            },\n            eventEmitter: false,\n        }\n        this.setRecongizedStateObject(new _fsm_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](stateConfig));\n    }\n\n    resetFromJSON(o) {\n        super.resetFromJSON(o);\n        this.setDragThreshold(GetValue(o, 'threshold', 9));\n        this.setMinHoldTime(GetValue(o, 'time', 251));\n        return this;\n    }\n\n    onDragStart() {\n        this.state = (this.holdTime === 0) ? RECOGNIZED : BEGIN;\n    }\n\n    onDragEnd() {\n        this.state = IDLE;\n    }\n\n    onDrag() {\n        if (this.state === IDLE) {\n            return;\n        }\n\n        if (this.pointer.getDistance() > this.dragThreshold) {\n            this.state = IDLE;\n        }\n    }\n\n    preUpdate(time, delta) {\n        if (this.state === BEGIN) {\n            var holdTime = time - this.pointer.downTime;\n            if (holdTime >= this.holdTime) {\n                this.state = RECOGNIZED;\n            }\n        }\n    }\n\n    get isPressed() {\n        return (this.state === RECOGNIZED);\n    }\n\n    setDragThreshold(distance) {\n        this.dragThreshold = distance;\n        return this;\n    }\n\n    setMinHoldTime(time) {\n        this.holdTime = time; // ms\n        return this;\n    }\n}\n\nconst IDLE = 'IDLE';\nconst BEGIN = 'BEGIN';\nconst RECOGNIZED = 'RECOGNIZED';\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Press);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/input/gestures/press/Press.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/input/gestures/rotate/Rotate.js":
/*!***************************************************************!*\
  !*** ./lib/rexui/lib/plugins/input/gestures/rotate/Rotate.js ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _twopointerstracer_TwoPointersTracer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../twopointerstracer/TwoPointersTracer.js */ \"./lib/rexui/lib/plugins/input/gestures/twopointerstracer/TwoPointersTracer.js\");\n/* harmony import */ var _fsm_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../fsm.js */ \"./lib/rexui/lib/plugins/fsm.js\");\n/* harmony import */ var _SpinObject_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./SpinObject.js */ \"./lib/rexui/lib/plugins/input/gestures/rotate/SpinObject.js\");\n\n\n\n\nconst GetValue = Phaser.Utils.Objects.GetValue;\nconst WrapDegrees = Phaser.Math.Angle.WrapDegrees; // Wrap degrees: -180 to 180 \nconst ShortestBetween = Phaser.Math.Angle.ShortestBetween;\nconst RadToDeg = Phaser.Math.RadToDeg;\nconst DegToRad = Phaser.Math.DegToRad;\n\nclass Rotate extends _twopointerstracer_TwoPointersTracer_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(scene, config) {\n        super(scene, config);\n\n        var self = this;\n        var stateConfig = {\n            states: {\n                IDLE: {\n                    enter: function () {\n                        self.prevAngle = undefined;\n                        self.angle = 0;\n                    },\n                },\n                BEGIN: {\n                },\n                RECOGNIZED: {\n                    enter: function () {\n                        self.emit('rotatestart', self);\n                    },\n                    exit: function () {\n                        self.emit('rotateend', self);\n                    }\n                }\n            },\n            init: function () {\n                this.state = IDLE;\n            },\n            eventEmitter: false,\n        }\n        this.setRecongizedStateObject(new _fsm_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](stateConfig));\n    }\n\n    resetFromJSON(o) {\n        super.resetFromJSON(o);\n        this.setDragThreshold(GetValue(o, 'threshold', 0));\n        return this;\n    }\n\n    onDrag2Start() {\n        this.prevAngle = WrapDegrees(RadToDeg(this.angleBetween)); // Degrees\n        this.state = (this.rotationThreshold === 0) ? RECOGNIZED : BEGIN;\n    }\n\n    onDrag2End() {\n        this.state = IDLE;\n    }\n\n    onDrag2() {\n        switch (this.state) {\n            case BEGIN:\n                if ((this.pointers[0].getDistance() >= this.dragThreshold) &&\n                    (this.pointers[1].getDistance() >= this.dragThreshold)) {\n                    var curAngle = WrapDegrees(RadToDeg(this.angleBetween));\n                    this.angle = ShortestBetween(this.prevAngle, curAngle);\n                    this.prevAngle = curAngle;\n                    this.state = RECOGNIZED;\n                }\n                break;\n            case RECOGNIZED:\n                var curAngle = WrapDegrees(RadToDeg(this.angleBetween));\n                this.angle = ShortestBetween(this.prevAngle, curAngle);\n                this.prevAngle = curAngle;\n                this.emit('rotate', this);\n                break;\n        }\n    }\n\n    get isRotation() {\n        return (this.state === RECOGNIZED);\n    }\n\n    get rotation() {\n        return DegToRad(this.angle);\n    }\n\n    setDragThreshold(distance) {\n        this.dragThreshold = distance;\n        return this;\n    }\n\n}\n\nvar methods = {\n    spinObject: _SpinObject_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n};\nObject.assign(\n    Rotate.prototype,\n    methods\n);\n\n\nconst IDLE = 'IDLE';\nconst BEGIN = 'BEGIN';\nconst RECOGNIZED = 'RECOGNIZED';\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Rotate);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/input/gestures/rotate/Rotate.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/input/gestures/rotate/SpinObject.js":
/*!*******************************************************************!*\
  !*** ./lib/rexui/lib/plugins/input/gestures/rotate/SpinObject.js ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_actions_RotateObjectAround_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../utils/actions/RotateObjectAround.js */ \"./lib/rexui/lib/plugins/utils/actions/RotateObjectAround.js\");\n\n\nvar SpinObject = function (gameObject, camera) {\n    if (!this.isRotation) {\n        return this;\n    }\n\n    if (camera === undefined) {\n        camera = this.pointers[0].camera;\n    }\n\n    var movementX = this.movementCenterX,\n        movementY = this.movementCenterY;\n\n    camera.getWorldPoint(this.centerX, this.centerY, tmpPos);\n    var centerWorldX = tmpPos.x;\n    var centerWorldY = tmpPos.y;\n\n    var angle = this.rotation;\n    if (Array.isArray(gameObject)) {\n        var gameObjects = gameObject;\n        for (var i = 0, cnt = gameObjects.length; i < cnt; i++) {\n            gameObject = gameObjects[i];\n            gameObject.x += movementX;\n            gameObject.y += movementY;\n            Object(_utils_actions_RotateObjectAround_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(gameObject, centerWorldX, centerWorldY, angle);\n        }\n    } else {\n        gameObject.x += movementX;\n        gameObject.y += movementY;\n        Object(_utils_actions_RotateObjectAround_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(gameObject, x, y, angle);\n    }\n    return this;\n}\n\nvar tmpPos = {};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (SpinObject);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/input/gestures/rotate/SpinObject.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/input/gestures/swipe/Swipe.js":
/*!*************************************************************!*\
  !*** ./lib/rexui/lib/plugins/input/gestures/swipe/Swipe.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _onepointertracer_OnePointerTracer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../onepointertracer/OnePointerTracer.js */ \"./lib/rexui/lib/plugins/input/gestures/onepointertracer/OnePointerTracer.js\");\n/* harmony import */ var _fsm_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../fsm.js */ \"./lib/rexui/lib/plugins/fsm.js\");\n/* harmony import */ var _VelocityMethods_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./VelocityMethods.js */ \"./lib/rexui/lib/plugins/input/gestures/swipe/VelocityMethods.js\");\n/* harmony import */ var _utils_math_angle_angletodirections_Const_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../utils/math/angle/angletodirections/Const.js */ \"./lib/rexui/lib/plugins/utils/math/angle/angletodirections/Const.js\");\n/* harmony import */ var _utils_math_angle_angletodirections_AngleToDirections_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../utils/math/angle/angletodirections/AngleToDirections.js */ \"./lib/rexui/lib/plugins/utils/math/angle/angletodirections/AngleToDirections.js\");\n\n\n\n\n\n\nconst GetValue = Phaser.Utils.Objects.GetValue;\nconst RadToDeg = Phaser.Math.RadToDeg;\n\nclass Swipe extends _onepointertracer_OnePointerTracer_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(gameObject, config) {\n        super(gameObject, config);\n\n        var self = this;\n        var stateConfig = {\n            states: {\n                IDLE: {\n                    enter: function () {\n                        self.x = 0;\n                        self.y = 0;\n                        self.worldX = 0;\n                        self.worldY = 0;\n                    },\n                    exit: function () {\n                        var pointer = self.lastPointer;\n                        self.x = pointer.x;\n                        self.y = pointer.y;\n                        self.worldX = pointer.worldX;\n                        self.worldY = pointer.worldY;\n                    }\n                },\n                BEGIN: {\n                    enter: function () {\n                        self.validDrag = false;\n                    }\n                },\n                RECOGNIZED: {\n                    enter: function () {\n                        self.start();\n                        self.updateDirectionStates();\n                        self.emit('swipe', self, self.gameObject, self.lastPointer);\n                    },\n\n                    exit: function () {\n                        self.stop();\n                        self.clearDirectionStates();\n                    }\n                }\n            },\n            init: function () {\n                this.state = IDLE;\n            },\n            eventEmitter: false,\n        }\n        this.setRecongizedStateObject(new _fsm_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](stateConfig));\n        this.clearDirectionStates();\n    }\n\n    resetFromJSON(o) {\n        super.resetFromJSON(o);\n        this.setDragThreshold(GetValue(o, 'threshold', 10));\n        this.setMinDragVelocity(GetValue(o, 'velocityThreshold', 1000));\n        this.setDirectionMode(GetValue(o, 'dir', '8dir'));\n        return this;\n    }\n\n    onDragStart() {\n        this.state = BEGIN;\n    }\n\n    onDragEnd() {\n        this.state = IDLE;\n    }\n\n    onDrag() {\n        if (this.state === BEGIN) {\n            if (!this.vaildDrag) {\n                this.vaildDrag = (this.dragThreshold === 0) || (this.pointer.getDistance() >= this.dragThreshold);\n            }\n            if (this.vaildDrag && (this.dragVelocity > this.minDragVelocity)) {\n                this.state = RECOGNIZED;\n            }\n        }\n    }\n\n    postUpdate(time, delta) {\n        // Clear RECOGNIZED after update()\n        if (this.state === RECOGNIZED) {\n            this.state = IDLE;\n        }\n    }\n\n    get isSwiped() {\n        return (this.state === RECOGNIZED);\n    }\n\n    get dragVelocity() {\n        var velocity;\n        switch (this.dirMode) {\n            case 0: velocity = this.getVelocityY(); break; // up & down\n            case 1: velocity = this.getVelocityX(); break; // left & right\n            default: velocity = this.getVelocity(); break; // 4 dir, 8 dir\n        }\n        return velocity;\n    }\n\n    setDragThreshold(distance) {\n        this.dragThreshold = distance;\n        return this;\n    }\n\n    setMinDragVelocity(velocity) {\n        this.minDragVelocity = velocity;\n        return this;\n    }\n\n    setDirectionMode(m) {\n        if (typeof (m) === 'string') {\n            m = _utils_math_angle_angletodirections_Const_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"][m];\n        }\n        this.dirMode = m;\n        return this;\n    }\n\n    updateDirectionStates() {\n        var angle = RadToDeg(this.getVelocityAngle());\n        Object(_utils_math_angle_angletodirections_AngleToDirections_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(angle, this.dirMode, this);\n        return this;\n    }\n\n    clearDirectionStates() {\n        this.left = false;\n        this.right = false;\n        this.up = false;\n        this.down = false;\n        return this;\n    }\n}\n\nObject.assign(\n    Swipe.prototype,\n    _VelocityMethods_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]\n);\n\nconst IDLE = 'IDLE';\nconst BEGIN = 'BEGIN';\nconst RECOGNIZED = 'RECOGNIZED';\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Swipe);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/input/gestures/swipe/Swipe.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/input/gestures/swipe/VelocityMethods.js":
/*!***********************************************************************!*\
  !*** ./lib/rexui/lib/plugins/input/gestures/swipe/VelocityMethods.js ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nconst DistanceBetween = Phaser.Math.Distance.Between;\nconst AngleBetween = Phaser.Math.Angle.Between;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    getDt: function () {\n        var game = this.scene.sys.game;\n        var dt = game.loop.delta;\n        return dt;\n    },\n\n    getVelocity: function () {\n        var p1 = this.pointer.position;\n        var p0 = this.pointer.prevPosition;\n        var d = DistanceBetween(p0.x, p0.y, p1.x, p1.y);\n        var velocity = d / (this.getDt() * 0.001);\n        return velocity;\n    },\n\n    getVelocityX: function () {\n        var p1 = this.pointer.position;\n        var p0 = this.pointer.prevPosition;\n        var d = Math.abs(p1.x - p0.x);\n        var velocity = d / (this.getDt() * 0.001);\n        return velocity;\n    },\n\n    getVelocityY: function () {\n        var p1 = this.pointer.position;\n        var p0 = this.pointer.prevPosition;\n        var d = Math.abs(p1.y - p0.y);\n        var velocity = d / (this.getDt() * 0.001);\n        return velocity;\n    },\n\n    getVelocityAngle: function () {\n        var p1 = this.pointer.position;\n        var p0 = this.pointer.prevPosition;\n        var angle = AngleBetween(p0.x, p0.y, p1.x, p1.y);\n        return angle;\n    }\n});\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/input/gestures/swipe/VelocityMethods.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/input/gestures/tap/Tap.js":
/*!*********************************************************!*\
  !*** ./lib/rexui/lib/plugins/input/gestures/tap/Tap.js ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _onepointertracer_OnePointerTracer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../onepointertracer/OnePointerTracer.js */ \"./lib/rexui/lib/plugins/input/gestures/onepointertracer/OnePointerTracer.js\");\n/* harmony import */ var _fsm_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../fsm.js */ \"./lib/rexui/lib/plugins/fsm.js\");\n\n\n\nconst GetValue = Phaser.Utils.Objects.GetValue;\nconst DistanceBetween = Phaser.Math.Distance.Between;\n\nclass Tap extends _onepointertracer_OnePointerTracer_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(gameObject, config) {\n        super(gameObject, config);\n\n        var self = this;\n        var stateConfig = {\n            states: {\n                IDLE: {\n                    enter: function () {\n                        self.stop();\n                        self.tapsCount = 0;\n                        self.x = 0;\n                        self.y = 0;\n                        self.worldX = 0;\n                        self.worldY = 0;\n                    },\n                    exit: function () {\n                        var pointer = self.lastPointer;\n                        self.x = pointer.x;\n                        self.y = pointer.y;\n                        self.worldX = pointer.worldX;\n                        self.worldY = pointer.worldY;\n                    }\n                },\n                BEGIN: {\n                    enter: function () {\n                        self.start();\n                        self.tapsCount = 0;\n                        self.emit('tappingstart', self, self.gameObject, self.lastPointer);\n                    },\n                },\n                RECOGNIZED: {\n                    enter: function () {\n                        self.start();\n                        self.emit('tap', self, self.gameObject, self.lastPointer);\n                        self.emit(`${self.tapsCount}tap`, self, self.gameObject, self.lastPointer);\n                    },\n                }\n            },\n            init: function () {\n                this.state = IDLE;\n            },\n            eventEmitter: false,\n        }\n        this.setRecongizedStateObject(new _fsm_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](stateConfig));\n    }\n\n    resetFromJSON(o) {\n        super.resetFromJSON(o);\n        this.setMaxHoldTime(GetValue(o, 'time', 250)); // min-hold-time of Press is 251\n        this.setTapInterval(GetValue(o, 'tapInterval', 200));\n        this.setDragThreshold(GetValue(o, 'threshold', 9));\n        this.setTapOffset(GetValue(o, 'tapOffset', 10));\n\n        var taps = GetValue(o, 'taps', undefined);\n        if (taps !== undefined) {\n            this.setTaps(taps);\n        } else {\n            this.setMaxTaps(GetValue(o, 'maxTaps', undefined));\n            this.setMinTaps(GetValue(o, 'minTaps', undefined));\n        }\n        return this;\n    }\n\n    onDragStart() {\n        switch (this.state) {\n            case IDLE:\n                this.state = BEGIN;\n                break;\n\n            case BEGIN:\n                var pointer = this.lastPointer;\n                var tapsOffset = DistanceBetween(\n                    pointer.upX,\n                    pointer.upY,\n                    pointer.x,\n                    pointer.y);\n                if (tapsOffset > this.tapOffset) { // Can't recognize next level, restart here\n                    this.state = RECOGNIZED;\n                    this.state = BEGIN;\n                }\n                break;\n\n            case RECOGNIZED:\n                this.state = BEGIN;\n                break;\n        }\n    }\n\n    onDragEnd() {\n        if (this.state === BEGIN) {\n            this.tapsCount++; // Try recognize next level\n            this.emit('tapping', this, this.gameObject, this.lastPointer);\n\n            if ((this.maxTaps !== undefined) && (this.tapsCount === this.maxTaps)) { // Reach to maxTaps, stop here                \n                this.state = RECOGNIZED;\n            }\n        }\n    }\n\n    onDrag() {\n        if (this.state === IDLE) {\n            return;\n        }\n\n        if (this.pointer.getDistance() > this.dragThreshold) { // Cancel\n            this.state = IDLE;\n        }\n    }\n\n    preUpdate(time, delta) {\n        if (this.state === BEGIN) {\n            var pointer = this.lastPointer;\n            if (pointer.isDown) {\n                var holdTime = time - pointer.downTime;\n                if (holdTime > this.holdTime) {\n                    this.state = IDLE;\n                }\n            } else { // isUp\n                var releasedTime = time - pointer.upTime;\n                if (releasedTime > this.tapInterval) {\n                    if ((this.minTaps === undefined) || (this.tapsCount >= this.minTaps)) {\n                        this.state = RECOGNIZED;\n                    } else {\n                        this.state = IDLE;\n                    }\n                }\n            }\n        }\n    }\n\n    postUpdate(time, delta) {\n        // Clear RECOGNIZED after update()\n        if (this.state === RECOGNIZED) {\n            this.state = IDLE;\n        }\n    }\n\n    get isTapped() {\n        return (this.state === RECOGNIZED);\n    }\n\n    setMaxHoldTime(time) {\n        this.holdTime = time; // ms\n        return this;\n    }\n\n    setTapInterval(time) {\n        this.tapInterval = time; // ms\n        return this;\n    }\n\n    setDragThreshold(distance) {\n        this.dragThreshold = distance;\n        return this;\n    }\n\n    setTapOffset(distance) {\n        this.tapOffset = distance;\n        return this;\n    }\n\n    setMaxTaps(taps) {\n        this.maxTaps = taps;\n        return this;\n    }\n\n    setMinTaps(taps) {\n        this.minTaps = taps;\n        return this;\n    }\n\n    setTaps(minTaps, maxTaps) {\n        if (maxTaps === undefined) {\n            maxTaps = minTaps;\n        }\n        this.setMinTaps(minTaps).setMaxTaps(maxTaps);\n        return this;\n    }\n}\n\nconst IDLE = 'IDLE';\nconst BEGIN = 'BEGIN';\nconst RECOGNIZED = 'RECOGNIZED';\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Tap);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/input/gestures/tap/Tap.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/input/gestures/twopointerstracer/TwoPointersTracer.js":
/*!*************************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/input/gestures/twopointerstracer/TwoPointersTracer.js ***!
  \*************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_eventemitter_EventEmitterMethods_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../utils/eventemitter/EventEmitterMethods.js */ \"./lib/rexui/lib/plugins/utils/eventemitter/EventEmitterMethods.js\");\n/* harmony import */ var _utils_object_Clear_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../utils/object/Clear.js */ \"./lib/rexui/lib/plugins/utils/object/Clear.js\");\n\n\n\nconst GetValue = Phaser.Utils.Objects.GetValue;\nconst SpliceOne = Phaser.Utils.Array.SpliceOne;\nconst DistanceBetween = Phaser.Math.Distance.Between;\nconst AngleBetween = Phaser.Math.Angle.Between;\n\nclass TwoPointersTracer {\n    constructor(scene, config) {\n        var amount = scene.input.manager.pointersTotal - 1;\n        if (amount < 2) {\n            scene.input.addPointer(2 - amount);\n        }\n\n        this.scene = scene;\n        // Event emitter\n        this.setEventEmitter(GetValue(config, 'eventEmitter', undefined));\n        this.pointers = [];\n        this.movedState = {};\n        this.resetFromJSON(config);\n        this.boot();\n    }\n\n    resetFromJSON(o) {\n        this.setEnable(GetValue(o, \"enable\", true));\n        this.bounds = GetValue(o, 'bounds', undefined);\n\n        this.tracerState = TOUCH0;\n        this.pointers.length = 0;\n        Object(_utils_object_Clear_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this.movedState);\n        return this;\n    }\n\n    boot() {\n        this.scene.input.on('pointerdown', this.onPointerDown, this);\n        this.scene.input.on('pointerup', this.onPointerUp, this);\n        this.scene.input.on('pointermove', this.onPointerMove, this);\n        this.scene.events.once('shutdown', this.destroy, this);\n    }\n\n    shutdown() {\n        this.destroyEventEmitter();\n        this.pointers.length = 0;\n        Object(_utils_object_Clear_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this.movedState);\n        if (this.scene) {\n            this.scene.input.off('pointerdown', this.onPointerDown, this);\n            this.scene.input.off('pointerup', this.onPointerUp, this);\n            this.scene.input.off('pointermove', this.onPointerMove, this);\n            this.scene.events.off('destroy', this.destroy, this);\n            this.scene = undefined;\n        }\n        this.scene = undefined;\n    }\n\n    destroy() {\n        this.shutdown();\n    }\n\n    setEnable(e) {\n        if (e === undefined) {\n            e = true;\n        }\n\n        if (this.enable === e) {\n            return this;\n        }\n\n        if (!e) {\n            this.dragCancel();\n        }\n        this.enable = e;\n        return this;\n    }\n\n    onPointerDown(pointer) {\n        if (!this.enable) {\n            return;\n        }\n\n        if (this.pointers.length === 2) {\n            return;\n        }\n\n        var isInsideBounds = (this.bounds) ? this.bounds.contains(pointer.x, pointer.y) : true;\n        if (!isInsideBounds) {\n            return;\n        }\n\n        var index = this.pointers.indexOf(pointer);\n        if (index !== -1) { // Already in catched pointers\n            return;\n        }\n\n        this.movedState[pointer.id] = false;\n        this.pointers.push(pointer);\n\n        switch (this.tracerState) {\n            case TOUCH0:\n                this.tracerState = TOUCH1;\n                this.onDrag1Start();\n                break;\n            case TOUCH1:\n                this.tracerState = TOUCH2;\n                this.onDrag2Start();\n                break;\n        }\n    }\n\n    onPointerUp(pointer) {\n        if (!this.enable) {\n            return;\n        }\n\n        var isInsideBounds = (this.bounds) ? this.bounds.contains(pointer.x, pointer.y) : true;\n        if (!isInsideBounds) {\n            return;\n        }\n\n        var index = this.pointers.indexOf(pointer);\n        if (index === -1) { // Not in catched pointers\n            return;\n        } else {\n            delete this.movedState[pointer.id];\n            SpliceOne(this.pointers, index);\n        }\n\n        switch (this.tracerState) {\n            case TOUCH1:\n                this.tracerState = TOUCH0;\n                this.onDrag1End();\n                break;\n            case TOUCH2:\n                this.tracerState = TOUCH1;\n                this.onDrag2End();\n                this.onDrag1Start();\n                break;\n        }\n    }\n\n    onPointerMove(pointer) {\n        if (!this.enable) {\n            return;\n        }\n\n        if (pointer.isDown) {\n            var isInsideBounds = (this.bounds) ? this.bounds.contains(pointer.x, pointer.y) : true;\n            var isCatchedPointer = (this.pointers.indexOf(pointer) !== -1);\n            if (!isCatchedPointer && isInsideBounds) { // Pointer moves into bounds\n                // this.onPointerDown(pointer);\n            } else if (isCatchedPointer && !isInsideBounds) { // Pointer moves out of bounds, lose pointer\n                this.onPointerUp(pointer);\n            } else {  // Pointer drags in bounds\n                if (!this.movedState[pointer.id]) {\n                    this.movedState[pointer.id] = (pointer.x !== pointer.downX) || (pointer.y !== pointer.downY);\n                }\n                if (this.movedState[pointer.id]) {\n                    switch (this.tracerState) {\n                        case TOUCH1:\n                            this.onDrag1();\n                            break;\n                        case TOUCH2:\n                            this.onDrag2();\n                            break;\n                    }\n                }\n            }\n        }\n    }\n\n    dragCancel() {\n        if (this.tracerState === TOUCH2) {\n            this.onDrag2End();\n        }\n        this.pointers.length = 0;\n        Object(_utils_object_Clear_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this.movedState);\n        this.tracerState = TOUCH0;\n        return this;\n    }\n\n    onDrag1Start() {\n        this.emit('drag1start', this);\n    }\n\n    onDrag1End() {\n        this.emit('drag1end', this);\n    }\n\n    onDrag1() {\n        this.emit('drag1', this);\n    }\n\n    onDrag2Start() {\n        this.emit('drag2start', this);\n    }\n\n    onDrag2End() {\n        this.emit('drag2end', this);\n    }\n\n    onDrag2() {\n        this.emit('drag2', this);\n    }\n\n    get distanceBetween() {\n        if (this.tracerState !== TOUCH2) {\n            return 0;\n        }\n        var p0 = this.pointers[0],\n            p1 = this.pointers[1];\n        return DistanceBetween(p0.x, p0.y, p1.x, p1.y);\n    }\n\n    get angleBetween() {\n        if (this.tracerState !== TOUCH2) {\n            return 0;\n        }\n        var p0 = this.pointers[0],\n            p1 = this.pointers[1];\n        return AngleBetween(p0.x, p0.y, p1.x, p1.y);\n    }\n\n    get drag1Vector() {\n        var pointer = this.pointers[0];\n        if (pointer && this.movedState[pointer.id]) {\n            var p1 = pointer.position;\n            var p0 = pointer.prevPosition;\n            tmpDragVector.x = p1.x - p0.x;\n            tmpDragVector.y = p1.y - p0.y;\n        } else {\n            tmpDragVector.x = 0;\n            tmpDragVector.y = 0;\n        }\n        return tmpDragVector;\n    }\n\n    get centerX() {\n        if (this.tracerState !== TOUCH2) {\n            return 0;\n        }\n        var p0 = this.pointers[0].position;\n        var p1 = this.pointers[1].position;\n        return (p0.x + p1.x) / 2;\n    }\n\n    get centerY() {\n        if (this.tracerState !== TOUCH2) {\n            return 0;\n        }\n        var p0 = this.pointers[0].position;\n        var p1 = this.pointers[1].position;\n        return (p0.y + p1.y) / 2;\n    }\n\n    get prevCenterX() {\n        if (this.tracerState !== TOUCH2) {\n            return 0;\n        }\n        var preP0 = (this.movedState[this.pointers[0].id]) ? this.pointers[0].prevPosition : this.pointers[0].position;\n        var preP1 = (this.movedState[this.pointers[1].id]) ? this.pointers[1].prevPosition : this.pointers[1].position;\n        return (preP0.x + preP1.x) / 2;\n    }\n\n    get prevCenterY() {\n        if (this.tracerState !== TOUCH2) {\n            return 0;\n        }\n        var preP0 = (this.movedState[this.pointers[0].id]) ? this.pointers[0].prevPosition : this.pointers[0].position;\n        var preP1 = (this.movedState[this.pointers[1].id]) ? this.pointers[1].prevPosition : this.pointers[1].position;\n        return (preP0.y + preP1.y) / 2;\n    }\n\n    get movementCenterX() {\n        return this.centerX - this.prevCenterX;\n    }\n\n    get movementCenterY() {\n        return this.centerY - this.prevCenterY;\n    }\n\n    setRecongizedStateObject(stateObject) {\n        this.recongizedState = stateObject;\n        return this;\n    }\n\n    get state() {\n        return this.recongizedState.state;\n    }\n\n    set state(newState) {\n        this.recongizedState.state = newState;\n    }\n\n    cancel() {\n        this.state = IDLE;\n        return this;\n    }\n}\n\nObject.assign(\n    TwoPointersTracer.prototype,\n    _utils_eventemitter_EventEmitterMethods_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]\n);\n\nvar tmpDragVector = {};\n\nconst TOUCH0 = 0;\nconst TOUCH1 = 1;\nconst TOUCH2 = 2;\n\nconst IDLE = 'IDLE';\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (TwoPointersTracer);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/input/gestures/twopointerstracer/TwoPointersTracer.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/input/scroller/Scroller.js":
/*!**********************************************************!*\
  !*** ./lib/rexui/lib/plugins/input/scroller/Scroller.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_system_GetSceneObject_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/system/GetSceneObject.js */ \"./lib/rexui/lib/plugins/utils/system/GetSceneObject.js\");\n/* harmony import */ var _utils_eventemitter_EventEmitterMethods_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/eventemitter/EventEmitterMethods.js */ \"./lib/rexui/lib/plugins/utils/eventemitter/EventEmitterMethods.js\");\n/* harmony import */ var _State_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./State.js */ \"./lib/rexui/lib/plugins/input/scroller/State.js\");\n/* harmony import */ var _dragspeed_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../dragspeed.js */ \"./lib/rexui/lib/plugins/dragspeed.js\");\n/* harmony import */ var _utils_movement_SlowDown_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/movement/SlowDown.js */ \"./lib/rexui/lib/plugins/utils/movement/SlowDown.js\");\n\n\n\n\n\n\nconst GetValue = Phaser.Utils.Objects.GetValue;\n\nclass Scroller {\n    constructor(gameObject, config) {\n        this.gameObject = gameObject;\n        this.scene = Object(_utils_system_GetSceneObject_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(gameObject);\n        // Event emitter\n        this.setEventEmitter(GetValue(config, 'eventEmitter', undefined));\n\n        var enable = GetValue(config, 'enable', true);\n        var stateConfig = {\n            enable: enable,\n            eventEmitter: false,\n        }\n        this._state = new _State_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this, stateConfig);\n\n        var drapSpeedConfig = {\n            inputConfig: GetValue(config, 'inputConfig', undefined),\n            enable: enable,\n            eventEmitter: false,\n        };\n        this.dragState = new _dragspeed_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"](gameObject, drapSpeedConfig);\n\n        this._value = undefined;\n        this._slowDown = new _utils_movement_SlowDown_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\n\n        var callback = GetValue(config, 'valuechangeCallback', null);\n        if (callback !== null) {\n            var scope = GetValue(config, 'valuechangeCallbackScope', undefined);\n            this.on('valuechange', callback, scope);\n        }\n        callback = GetValue(config, 'overmaxCallback', null);\n        if (callback !== null) {\n            var scope = GetValue(config, 'overmaxCallbackScope', undefined);\n            this.on('overmax', callback, scope);\n        }\n        callback = GetValue(config, 'overminCallback', null);\n        if (callback !== null) {\n            var scope = GetValue(config, 'overminCallbackScope', undefined);\n            this.on('overmin', callback, scope);\n        }\n\n        this.resetFromJSON(config);\n        this.boot();\n    }\n\n    resetFromJSON(o) {\n        this.setOrientationMode(GetValue(o, 'orientation', 0));\n        this.setDragThreshold(GetValue(o, 'threshold', 10));\n        this.setSlidingDeceleration(GetValue(o, 'slidingDeceleration', 5000));\n        this.setBackDeceleration(GetValue(o, 'backDeceleration', 2000));\n        this.boundPad0 = GetValue(o, 'boundPad0', 0);\n        this.boundPad1 = GetValue(o, 'boundPad1', 0);\n        var bounds = GetValue(o, 'bounds', undefined);\n        if (bounds) {\n            this.setBounds(bounds);\n        } else {\n            this.setBounds(GetValue(o, 'max', 0), GetValue(o, 'min', 0));\n        }\n        this.setValue(GetValue(o, 'value', this.maxValue || 0 + this.boundPad1));\n        this.setEnable(GetValue(o, \"enable\", true));\n        return this;\n    }\n\n    boot() {\n        this.scene.events.on('update', this._state.update, this._state);\n        this.gameObject.on('destroy', this.destroy, this);\n    }\n\n    shutdown() {\n        this.destroyEventEmitter();\n        if (this.scene) { // Scene might be destoryed\n            this.scene.events.off('update', this._state.update, this._state);\n        }\n        this.gameObject = undefined;\n        this.scene = undefined;\n        this._state.destroy();\n        this.dragState.destroy();\n        // gameObject events will be removed when this gameObject destroyed \n    }\n\n    destroy() {\n        this.shutdown();\n    }\n\n    setOrientationMode(m) {\n        if (typeof (m) === 'string') {\n            m = ORIENTATIONMODE[m];\n        }\n        this.orientationMode = m;\n        return this;\n    }\n\n    setDragThreshold(distance) {\n        this.dragThreshold = distance;\n        return this;\n    }\n\n    setSlidingDeceleration(dec) {\n        this.slidingDeceleration = dec;\n        return this;\n    }\n\n    setBackDeceleration(dec) {\n        this.backDeceleration = dec;\n        return this;\n    }\n\n    setBounds(value0, value1) {\n        if (Array.isArray(value0)) {\n            var bounds = value0;\n            value0 = bounds[0];\n            value1 = bounds[1];\n        }\n        if (value0 < value1) {\n            this.minValue = value0 + this.boundPad0;\n            this.maxValue = value1 + this.boundPad1;\n        } else {\n            this.minValue = value1 + this.boundPad0;\n            this.maxValue = value0 + this.boundPad1;\n        }\n        return this;\n    }\n\n    get value() {\n        return this._value;\n    }\n\n    set value(value) {\n        if (value === this._value) {\n            return;\n        }\n\n        var oldValue = this._value;\n        var isOverMax = this.overMax(value);\n        var isOverMin = this.overMin(value);\n        if (isOverMax) {\n            this.emit('overmax', value, oldValue);\n        }\n        if (isOverMin) {\n            this.emit('overmin', value, oldValue);\n        }\n        if (!this.backEnable) {\n            if (isOverMax) {\n                value = this.maxValue;\n            }\n            if (isOverMin) {\n                value = this.minValue;\n            }\n        }\n\n        this._value = value;\n        this.emit('valuechange', value, oldValue);\n    }\n\n    setValue(value) {\n        this.value = value;\n    }\n\n    setEnable(e) {\n        this._state.setEnable(e);\n        this.dragState.setEnable(e);\n        return this;\n    }\n\n    get state() {\n        return this._state.state;\n    }\n\n    get isDragging() {\n        return this.dragState.isInTouched;\n    }\n\n    get outOfMaxBound() {\n        return this.overMax(this.value);\n    }\n\n    get outOfMinBound() {\n        return this.overMin(this.value);\n    }\n\n    get outOfBounds() {\n        return this.outOfMinBound || this.outOfMaxBound;\n    }\n\n    // internal\n    overMax(value) {\n        return (this.maxValue != null) && (value > this.maxValue);\n    }\n\n    overMin(value) {\n        return (this.minValue != null) && (value < this.minValue);\n    }\n\n    get backEnable() {\n        return (typeof (this.backDeceleration) === 'number');\n    }\n\n    get isPullBack() {\n        return this._slowDown.isMoving;\n    }\n\n    get slidingEnable() {\n        return (typeof (this.slidingDeceleration) === 'number');\n    }\n\n    get isSliding() {\n        return this._slowDown.isMoving;\n    }\n\n    get dragDelta() {\n        if (this.orientationMode === 0) { // y\n            return this.dragState.dy;\n        } else if (this.orientationMode === 1) { // x\n            return this.dragState.dx;\n        } else {\n            return 0;\n        }\n    }\n\n    get dragSpeed() {\n        if (this.orientationMode === 0) { // y\n            return this.dragState.speedY;\n        } else if (this.orientationMode === 1) { // x\n            return this.dragState.speedX;\n        } else {\n            return 0;\n        }\n    }\n\n    // everyTick_DRAG\n    dragging() {\n        this.value += this.dragDelta;\n    }\n\n    // enter_SLIDE \n    onSliding() {\n        var start = this.value;\n        var speed = this.dragSpeed;\n        if (speed === 0) {\n            this._slowDown.stop();\n            this._state.next();\n            return;\n        }\n        var dec = this.slidingDeceleration;\n        this._slowDown.init(start, (speed > 0), Math.abs(speed), dec)\n    }\n\n    // everyTick_SLIDE\n    sliding(time, delta) {\n        delta *= 0.001;\n        var newValue = this._slowDown.update(delta).value;\n        if (this.overMax(newValue)) {\n            this.value = this.maxValue;\n            this._slowDown.stop();\n        } else if (this.overMin(newValue)) {\n            this.value = this.minValue;\n            this._slowDown.stop();\n        } else {\n            this.value = newValue;\n        }\n    }\n\n    // enter_BACK\n    onPullBack() {\n        var start = this.value;\n        var end = (this.outOfMinBound) ? this.minValue : this.maxValue;\n        var dist = Math.abs(end - start);\n        var dec = this.backDeceleration;\n        var speed = Math.sqrt(2 * dec * dist);\n        this._slowDown.init(start, undefined, speed, dec, end);\n    }\n\n    // everyTick_BACK\n    pullBack(time, delta) {\n        delta *= 0.001;\n        this.value = this._slowDown.update(delta).value;\n\n        if (!this._slowDown.isMoving) {\n            this._state.next();\n        }\n    }\n\n    // exit_SLIDE, exit_BACK\n    stop() {\n        this._slowDown.stop();\n    }\n\n}\n\nObject.assign(\n    Scroller.prototype,\n    _utils_eventemitter_EventEmitterMethods_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]\n);\n\n/** @private */\nconst ORIENTATIONMODE = {\n    y: 0,\n    v: 0,\n    vertical: 0,\n    x: 1,\n    h: 1,\n    horizontal: 1,\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Scroller);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/input/scroller/Scroller.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/input/scroller/State.js":
/*!*******************************************************!*\
  !*** ./lib/rexui/lib/plugins/input/scroller/State.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _fsm_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../fsm.js */ \"./lib/rexui/lib/plugins/fsm.js\");\n\n\nclass State extends _fsm_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(parent, config) {\n        super(config);\n        this.parent = parent;\n        this.init();\n    }\n\n    init() {\n        this.start('IDLE');\n    }\n\n    // IDLE -> DRAGBEGIN|DRAG\n    next_IDLE() {\n        var nextState,\n            parent = this.parent,\n            dragState = parent.dragState;\n        if (dragState.isDown) {\n            nextState = (parent.dragThreshold === 0) ? 'DRAG' : 'DRAGBEGIN';\n        }\n        return nextState;\n    }\n    update_IDLE(time, delta) {\n        this.next();\n    }\n    // IDLE\n\n    // DRAGBEGIN -> DRAG|IDLE\n    next_DRAGBEGIN() {\n        var nextState,\n            parent = this.parent,\n            dragState = parent.dragState;\n        if (dragState.isDown) {\n            nextState = (dragState.pointer.getDistance() >= parent.dragThreshold) ? 'DRAG' : 'DRAGBEGIN';\n        } else { // dragState.isUp\n            nextState = 'IDLE';\n        }\n        return nextState;\n    }\n    update_DRAGBEGIN(time, delta) {\n        this.next();\n    }\n    // DRAGBEGIN\n\n    // DRAG -> BACK|SLIDE|IDLE\n    next_DRAG() {\n        var nextState,\n            parent = this.parent,\n            dragState = parent.dragState;\n        if (dragState.isUp) {\n            if (parent.outOfBounds) {\n                nextState = 'BACK';\n            } else if (parent.slidingEnable) {\n                nextState = 'SLIDE';\n            } else {\n                nextState = 'IDLE';\n            }\n        }\n        return nextState;\n    }\n    update_DRAG(time, delta) {\n        var parent = this.parent,\n            dragState = parent.dragState;\n        if (dragState.justMoved) {\n            parent.dragging();\n        }\n        this.next();\n    }\n    // DRAG    \n\n    // SLIDE -> DRAG|IDLE\n    next_SLIDE() {\n        var nextState,\n            parent = this.parent,\n            dragState = parent.dragState;\n        if (dragState.isDown) {\n            nextState = 'DRAG';\n        } else if (!parent.isSliding) {\n            nextState = 'IDLE';\n        }\n        return nextState;\n    }\n    enter_SLIDE() {\n        this.parent.onSliding();\n    }\n    exit_SLIDE() {\n        this.parent.stop();\n    }\n    update_SLIDE(time, delta) {\n        this.parent.sliding(time, delta);\n        this.next();\n    }\n    // SLIDE    \n\n    // BACK -> DRAG|IDLE\n    next_BACK() {\n        var nextState,\n            parent = this.parent,\n            dragState = parent.dragState;\n        if (dragState.isDown) {\n            nextState = 'DRAG';\n        } else if (!parent.isPullBack) {\n            nextState = 'IDLE';\n        }\n        return nextState;\n    }\n    enter_BACK() {\n        this.parent.onPullBack();\n    }\n    exit_BACK() {\n        this.parent.stop();\n    }\n    update_BACK(time, delta) {\n        this.parent.pullBack(time, delta);\n        this.next();\n    }\n    // BACK\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (State);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/input/scroller/State.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/inputtext-plugin.js":
/*!***************************************************!*\
  !*** ./lib/rexui/lib/plugins/inputtext-plugin.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _gameobjects_inputtext_Factory_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./gameobjects/inputtext/Factory.js */ \"./lib/rexui/lib/plugins/gameobjects/inputtext/Factory.js\");\n/* harmony import */ var _gameobjects_inputtext_Creator_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./gameobjects/inputtext/Creator.js */ \"./lib/rexui/lib/plugins/gameobjects/inputtext/Creator.js\");\n/* harmony import */ var _gameobjects_inputtext_InputText_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./gameobjects/inputtext/InputText.js */ \"./lib/rexui/lib/plugins/gameobjects/inputtext/InputText.js\");\n/* harmony import */ var _utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/object/SetValue.js */ \"./lib/rexui/lib/plugins/utils/object/SetValue.js\");\n\n\n\n\n\nclass InputTextPlugin extends Phaser.Plugins.BasePlugin {\n\n    constructor(pluginManager) {\n        super(pluginManager);\n\n        //  Register our new Game Object type\n        pluginManager.registerGameObject('rexInputText', _gameobjects_inputtext_Factory_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"], _gameobjects_inputtext_Creator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n    }\n\n    start() {\n        var eventEmitter = this.game.events;\n        eventEmitter.on('destroy', this.destroy, this);\n    }\n}\n\nObject(_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(window, 'RexPlugins.GameObjects.InputText', _gameobjects_inputtext_InputText_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (InputTextPlugin);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/inputtext-plugin.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/logic/fsm/FSM.js":
/*!************************************************!*\
  !*** ./lib/rexui/lib/plugins/logic/fsm/FSM.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_eventemitter_EventEmitterMethods_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/eventemitter/EventEmitterMethods.js */ \"./lib/rexui/lib/plugins/utils/eventemitter/EventEmitterMethods.js\");\n/* harmony import */ var _utils_object_GetValue_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/object/GetValue.js */ \"./lib/rexui/lib/plugins/utils/object/GetValue.js\");\n/* harmony import */ var _utils_object_GetValue_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_utils_object_GetValue_js__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\nclass FSM {\n    /*\n    var config = {\n        start: 'A',   // default: undefined\n        states: {\n            A: {\n                next: 'B',  // function() { return 'B'; }\n                enter: function() {},\n                exit: function() {}\n            },\n            // ...\n        },        \n        extend: {\n            i: 0,\n            name: 'abc'\n            // ...\n        },\n        init: function() {},\n        enable: true,\n        eventEmitter: true,\n    };\n    */\n    constructor(config) {\n        // Attach get-next-state function\n        var states = _utils_object_GetValue_js__WEBPACK_IMPORTED_MODULE_1___default()(config, 'states', undefined);\n        if (states) {\n            this.addStates(states);\n        }\n\n        // Attach extend members\n        var extend = _utils_object_GetValue_js__WEBPACK_IMPORTED_MODULE_1___default()(config, 'extend', undefined);\n        if (extend) {\n            for (var name in extend) {\n                if (!this.hasOwnProperty(name) || this[name] === undefined) {\n                    this[name] = extend[name];\n                }\n            }\n        }\n\n        // Event emitter\n        var eventEmitter = _utils_object_GetValue_js__WEBPACK_IMPORTED_MODULE_1___default()(config, 'eventEmitter', undefined);\n        var EventEmitterClass = _utils_object_GetValue_js__WEBPACK_IMPORTED_MODULE_1___default()(config, 'EventEmitterClass', undefined);\n        this.setEventEmitter(eventEmitter, EventEmitterClass);\n\n        this._stateLock = false;\n        this.resetFromJSON(config);\n    }\n\n    shutdown() {\n        this.destroyEventEmitter();\n    }\n\n    destroy() {\n        this.shutdown();\n    }\n\n    resetFromJSON(o) {\n        this.setEnable(_utils_object_GetValue_js__WEBPACK_IMPORTED_MODULE_1___default()(o, 'enable', true));\n        this.start(_utils_object_GetValue_js__WEBPACK_IMPORTED_MODULE_1___default()(o, 'start', undefined));\n        var init = _utils_object_GetValue_js__WEBPACK_IMPORTED_MODULE_1___default()(o, 'init', undefined);\n        if (init) {\n            init.call(this);\n        }\n        return this;\n    }\n\n    toJSON() {\n        return {\n            curState: this.state,\n            prevState: this.prevState,\n\n            enable: this.enable,\n            start: this._start\n        };\n    }\n\n    setEnable(e) {\n        if (e === undefined) {\n            e = true;\n        }\n        this.enable = e;\n        return this;\n    }\n\n    set state(newState) {\n        if (!this.enable || this._stateLock) {\n            return;\n        }\n        if (this._state === newState) {\n            return;\n        }\n        this._prevState = this._state;\n        this._state = newState;\n\n        this._stateLock = true; // lock state\n\n        this.emit('statechange', this);\n\n        if (this._prevState != null) {\n            var exitEventName = 'exit_' + this._prevState;\n            var exitCallback = this[exitEventName];\n            if (exitCallback) {\n                exitCallback.call(this);\n            }\n            this.emit(exitEventName, this);\n        }\n\n        this._stateLock = false;\n\n        if (this._state != null) {\n            var enterEventName = 'enter_' + this._state;\n            var enterCallback = this[enterEventName];\n            if (enterCallback) {\n                enterCallback.call(this);\n            }\n            this.emit(enterEventName, this);\n        }\n    }\n\n    get state() {\n        return this._state;\n    }\n\n    get prevState() {\n        return this._prevState;\n    }\n\n    start(state) {\n        this._start = state;\n        this._prevState = undefined;\n        this._state = state; // Won't fire statechange events\n        return this;\n    }\n\n    goto(nextState) {\n        if (nextState != null) {\n            this.state = nextState;\n        }\n        return this;\n    }\n\n    next() {\n        var nextState;\n        var getNextState = this['next_' + this.state];\n        if (getNextState) {\n            if (typeof (getNextState) === 'string') {\n                nextState = getNextState;\n            } else {\n                nextState = getNextState.call(this);\n            }\n        }\n\n        this.goto(nextState);\n        return this;\n    }\n\n    addState(name, config) {\n        var getNextStateCallback = _utils_object_GetValue_js__WEBPACK_IMPORTED_MODULE_1___default()(config, 'next', undefined);\n        if (getNextStateCallback) {\n            this['next_' + name] = getNextStateCallback;\n        }\n\n        var exitCallback = _utils_object_GetValue_js__WEBPACK_IMPORTED_MODULE_1___default()(config, 'exit', undefined);\n        if (exitCallback) {\n            this['exit_' + name] = exitCallback;\n        }\n\n        var enterCallback = _utils_object_GetValue_js__WEBPACK_IMPORTED_MODULE_1___default()(config, 'enter', undefined);\n        if (enterCallback) {\n            this['enter_' + name] = enterCallback;\n        }\n        return this;\n    }\n\n    addStates(states) {\n        for (var name in states) {\n            this.addState(name, states[name]);\n        }\n        return this;\n    }\n\n    update(time, delta, key) {\n        if (key === undefined) {\n            key = 'update';\n        }\n        var fn = this[key + '_' + this.state];\n        if (fn) {\n            fn.call(this, time, delta);\n        }\n    }\n\n    preupdate(time, delta) {\n        this.update(time, delta, 'preupdate');\n    }\n\n    postupdate(time, delta) {\n        this.update(time, delta, 'postupdate');\n    }\n}\n\nObject.assign(\n    FSM.prototype,\n    _utils_eventemitter_EventEmitterMethods_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]\n);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (FSM);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/logic/fsm/FSM.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/ninepatch-plugin.js":
/*!***************************************************!*\
  !*** ./lib/rexui/lib/plugins/ninepatch-plugin.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _gameobjects_ninepatch_Factory_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./gameobjects/ninepatch/Factory.js */ \"./lib/rexui/lib/plugins/gameobjects/ninepatch/Factory.js\");\n/* harmony import */ var _gameobjects_ninepatch_Creator_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./gameobjects/ninepatch/Creator.js */ \"./lib/rexui/lib/plugins/gameobjects/ninepatch/Creator.js\");\n/* harmony import */ var _gameobjects_ninepatch_NinePatch_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./gameobjects/ninepatch/NinePatch.js */ \"./lib/rexui/lib/plugins/gameobjects/ninepatch/NinePatch.js\");\n/* harmony import */ var _utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/object/SetValue.js */ \"./lib/rexui/lib/plugins/utils/object/SetValue.js\");\n\n\n\n\n\nclass NinePatchPlugin extends Phaser.Plugins.BasePlugin {\n\n    constructor(pluginManager) {\n        super(pluginManager);\n\n        //  Register our new Game Object type\n        pluginManager.registerGameObject('rexNinePatch', _gameobjects_ninepatch_Factory_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"], _gameobjects_ninepatch_Creator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n    }\n\n    start() {\n        var eventEmitter = this.game.events;\n        eventEmitter.on('destroy', this.destroy, this);\n    }\n}\n\nObject(_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(window, 'RexPlugins.GameObjects.NinePatch', _gameobjects_ninepatch_NinePatch_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (NinePatchPlugin);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/ninepatch-plugin.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/pool.js":
/*!***************************************!*\
  !*** ./lib/rexui/lib/plugins/pool.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_struct_Stack_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/struct/Stack.js */ \"./lib/rexui/lib/plugins/utils/struct/Stack.js\");\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_utils_struct_Stack_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/pool.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/popup.js":
/*!****************************************!*\
  !*** ./lib/rexui/lib/plugins/popup.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _scale_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./scale.js */ \"./lib/rexui/lib/plugins/scale.js\");\n\n\nvar PopUp = function (gameObject, duration, orientation, ease, scale) {\n    defaultConfig.mode = 0;\n    switch (orientation) {\n        case 0:\n        case 'x':\n            defaultConfig.start = {\n                x: 0\n            };\n            break;\n        case 1:\n        case 'y':\n            defaultConfig.start = {\n                y: 0\n            };\n            break;\n        default:\n            defaultConfig.start = 0;\n            break;\n    }\n    defaultConfig.end = 1;\n    defaultConfig.duration = duration;\n    defaultConfig.ease = (ease === undefined) ? 'Cubic' : ease;\n\n    if (scale === undefined) {\n        scale = new _scale_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](gameObject, defaultConfig);\n    } else {\n        scale.resetFromJSON(defaultConfig);\n    }\n    scale.restart();\n\n    return scale;\n};\n\nvar defaultConfig = {}; // reuse this config\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (PopUp);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/popup.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/scale-down-destroy.js":
/*!*****************************************************!*\
  !*** ./lib/rexui/lib/plugins/scale-down-destroy.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _scale_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./scale.js */ \"./lib/rexui/lib/plugins/scale.js\");\n\n\nvar ScaleDownDestroy = function (gameObject, duration, orientation, ease, destroyMode, scale) {\n    if (destroyMode instanceof _scale_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]) {\n        scale = destroyMode;\n        destroyMode = undefined;\n    }\n\n    if (destroyMode === undefined) {\n        destroyMode = true;\n    }\n\n    defaultConfig.mode = (destroyMode) ? 1 : 0;\n    switch (orientation) {\n        case 0:\n        case 'x':\n            defaultConfig.end = {\n                x: 0\n            };\n            break;\n        case 1:\n        case 'y':\n            defaultConfig.end = {\n                y: 0\n            };\n            break;\n        default:\n            defaultConfig.end = 0;\n            break;\n    }\n    defaultConfig.duration = duration;\n    defaultConfig.ease = (ease === undefined) ? 'Linear' : ease;\n\n    if (scale === undefined) {\n        scale = new _scale_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](gameObject, defaultConfig);\n    } else {\n        scale.resetFromJSON(defaultConfig);\n    }\n    scale.restart();\n\n    return scale;\n};\n\nvar defaultConfig = {}; // reuse this config\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ScaleDownDestroy);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/scale-down-destroy.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/scale.js":
/*!****************************************!*\
  !*** ./lib/rexui/lib/plugins/scale.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _behaviors_scale_Scale_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./behaviors/scale/Scale.js */ \"./lib/rexui/lib/plugins/behaviors/scale/Scale.js\");\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_behaviors_scale_Scale_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/scale.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/scroller.js":
/*!*******************************************!*\
  !*** ./lib/rexui/lib/plugins/scroller.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _input_scroller_Scroller_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./input/scroller/Scroller.js */ \"./lib/rexui/lib/plugins/input/scroller/Scroller.js\");\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_input_scroller_Scroller_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/scroller.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/actions/GlobZone.js":
/*!*********************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/actions/GlobZone.js ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _object_NOOP_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../object/NOOP.js */ \"./lib/rexui/lib/plugins/utils/object/NOOP.js\");\n\nvar globZone = new Phaser.GameObjects.Zone({\n    sys: {\n        queueDepthSort: _object_NOOP_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n        events: {\n            once: _object_NOOP_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]\n        }\n    }\n}, 0, 0, 1, 1);\nglobZone.setOrigin(0);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (globZone);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/actions/GlobZone.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/actions/RotateObjectAround.js":
/*!*******************************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/actions/RotateObjectAround.js ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nconst RotateAround = Phaser.Math.RotateAround;\n\nvar RotateObjectAround = function (gameObject, x, y, angle) {\n    RotateAround(gameObject, x, y, angle);\n    gameObject.rotation += angle;\n    return gameObject;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (RotateObjectAround);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/actions/RotateObjectAround.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/align/align/const.js":
/*!**********************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/align/align/const.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar ALIGN_CONST = {\n\n    /**\n    * A constant representing a top-left alignment or position.\n    * @constant\n    * @name Phaser.Display.Align.TOP_LEFT\n    * @since 3.0.0\n    * @type {integer}\n    */\n    TOP_LEFT: 0,\n\n    /**\n    * A constant representing a top-center alignment or position.\n    * @constant\n    * @name Phaser.Display.Align.TOP_CENTER\n    * @since 3.0.0\n    * @type {integer}\n    */\n    TOP_CENTER: 1,\n\n    /**\n    * A constant representing a top-right alignment or position.\n    * @constant\n    * @name Phaser.Display.Align.TOP_RIGHT\n    * @since 3.0.0\n    * @type {integer}\n    */\n    TOP_RIGHT: 2,\n\n    /**\n    * A constant representing a left-top alignment or position.\n    * @constant\n    * @name Phaser.Display.Align.LEFT_TOP\n    * @since 3.0.0\n    * @type {integer}\n    */\n    LEFT_TOP: 3,\n\n    /**\n    * A constant representing a left-center alignment or position.\n    * @constant\n    * @name Phaser.Display.Align.LEFT_CENTER\n    * @since 3.0.0\n    * @type {integer}\n    */\n    LEFT_CENTER: 4,\n\n    /**\n    * A constant representing a left-bottom alignment or position.\n    * @constant\n    * @name Phaser.Display.Align.LEFT_BOTTOM\n    * @since 3.0.0\n    * @type {integer}\n    */\n    LEFT_BOTTOM: 5,\n\n    /**\n    * A constant representing a center alignment or position.\n    * @constant\n    * @name Phaser.Display.Align.CENTER\n    * @since 3.0.0\n    * @type {integer}\n    */\n    CENTER: 6,\n\n    /**\n    * A constant representing a right-top alignment or position.\n    * @constant\n    * @name Phaser.Display.Align.RIGHT_TOP\n    * @since 3.0.0\n    * @type {integer}\n    */\n    RIGHT_TOP: 7,\n\n    /**\n    * A constant representing a right-center alignment or position.\n    * @constant\n    * @name Phaser.Display.Align.RIGHT_CENTER\n    * @since 3.0.0\n    * @type {integer}\n    */\n    RIGHT_CENTER: 8,\n\n    /**\n    * A constant representing a right-bottom alignment or position.\n    * @constant\n    * @name Phaser.Display.Align.RIGHT_BOTTOM\n    * @since 3.0.0\n    * @type {integer}\n    */\n    RIGHT_BOTTOM: 9,\n\n    /**\n    * A constant representing a bottom-left alignment or position.\n    * @constant\n    * @name Phaser.Display.Align.BOTTOM_LEFT\n    * @since 3.0.0\n    * @type {integer}\n    */\n    BOTTOM_LEFT: 10,\n\n    /**\n    * A constant representing a bottom-center alignment or position.\n    * @constant\n    * @name Phaser.Display.Align.BOTTOM_CENTER\n    * @since 3.0.0\n    * @type {integer}\n    */\n    BOTTOM_CENTER: 11,\n\n    /**\n    * A constant representing a bottom-right alignment or position.\n    * @constant\n    * @name Phaser.Display.Align.BOTTOM_RIGHT\n    * @since 3.0.0\n    * @type {integer}\n    */\n    BOTTOM_RIGHT: 12\n\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ALIGN_CONST);\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/align/align/const.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/align/align/in/BottomCenter.js":
/*!********************************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/align/align/in/BottomCenter.js ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _bounds_GetBottom_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../bounds/GetBottom.js */ \"./lib/rexui/lib/plugins/utils/align/bounds/GetBottom.js\");\n/* harmony import */ var _bounds_GetCenterX_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../bounds/GetCenterX.js */ \"./lib/rexui/lib/plugins/utils/align/bounds/GetCenterX.js\");\n/* harmony import */ var _bounds_SetBottom_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../bounds/SetBottom.js */ \"./lib/rexui/lib/plugins/utils/align/bounds/SetBottom.js\");\n/* harmony import */ var _bounds_SetCenterX_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../bounds/SetCenterX.js */ \"./lib/rexui/lib/plugins/utils/align/bounds/SetCenterX.js\");\n\n\n\n\n\nvar BottomCenter = function (gameObject, alignIn, offsetX, offsetY) {\n    if (offsetX === undefined) { offsetX = 0; }\n    if (offsetY === undefined) { offsetY = 0; }\n\n    Object(_bounds_SetCenterX_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(gameObject, Object(_bounds_GetCenterX_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(alignIn) + offsetX);\n    Object(_bounds_SetBottom_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(gameObject, Object(_bounds_GetBottom_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(alignIn) + offsetY);\n\n    return gameObject;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (BottomCenter);\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/align/align/in/BottomCenter.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/align/align/in/BottomLeft.js":
/*!******************************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/align/align/in/BottomLeft.js ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _bounds_GetBottom_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../bounds/GetBottom.js */ \"./lib/rexui/lib/plugins/utils/align/bounds/GetBottom.js\");\n/* harmony import */ var _bounds_GetLeft_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../bounds/GetLeft.js */ \"./lib/rexui/lib/plugins/utils/align/bounds/GetLeft.js\");\n/* harmony import */ var _bounds_SetBottom_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../bounds/SetBottom.js */ \"./lib/rexui/lib/plugins/utils/align/bounds/SetBottom.js\");\n/* harmony import */ var _bounds_SetLeft_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../bounds/SetLeft.js */ \"./lib/rexui/lib/plugins/utils/align/bounds/SetLeft.js\");\n\n\n\n\n\nvar BottomLeft = function (gameObject, alignIn, offsetX, offsetY) {\n    if (offsetX === undefined) { offsetX = 0; }\n    if (offsetY === undefined) { offsetY = 0; }\n\n    Object(_bounds_SetLeft_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(gameObject, Object(_bounds_GetLeft_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(alignIn) - offsetX);\n    Object(_bounds_SetBottom_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(gameObject, Object(_bounds_GetBottom_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(alignIn) + offsetY);\n\n    return gameObject;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (BottomLeft);\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/align/align/in/BottomLeft.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/align/align/in/BottomRight.js":
/*!*******************************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/align/align/in/BottomRight.js ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _bounds_GetBottom_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../bounds/GetBottom.js */ \"./lib/rexui/lib/plugins/utils/align/bounds/GetBottom.js\");\n/* harmony import */ var _bounds_GetRight_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../bounds/GetRight.js */ \"./lib/rexui/lib/plugins/utils/align/bounds/GetRight.js\");\n/* harmony import */ var _bounds_SetBottom_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../bounds/SetBottom.js */ \"./lib/rexui/lib/plugins/utils/align/bounds/SetBottom.js\");\n/* harmony import */ var _bounds_SetRight_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../bounds/SetRight.js */ \"./lib/rexui/lib/plugins/utils/align/bounds/SetRight.js\");\n\n\n\n\n\nvar BottomRight = function (gameObject, alignIn, offsetX, offsetY) {\n    if (offsetX === undefined) { offsetX = 0; }\n    if (offsetY === undefined) { offsetY = 0; }\n\n    Object(_bounds_SetRight_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(gameObject, Object(_bounds_GetRight_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(alignIn) + offsetX);\n    Object(_bounds_SetBottom_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(gameObject, Object(_bounds_GetBottom_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(alignIn) + offsetY);\n\n    return gameObject;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (BottomRight);\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/align/align/in/BottomRight.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/align/align/in/Center.js":
/*!**************************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/align/align/in/Center.js ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _bounds_CenterOn_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../bounds/CenterOn.js */ \"./lib/rexui/lib/plugins/utils/align/bounds/CenterOn.js\");\n/* harmony import */ var _bounds_GetCenterX_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../bounds/GetCenterX.js */ \"./lib/rexui/lib/plugins/utils/align/bounds/GetCenterX.js\");\n/* harmony import */ var _bounds_GetCenterY_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../bounds/GetCenterY.js */ \"./lib/rexui/lib/plugins/utils/align/bounds/GetCenterY.js\");\n\n\n\n\nvar Center = function (gameObject, alignIn, offsetX, offsetY) {\n    if (offsetX === undefined) { offsetX = 0; }\n    if (offsetY === undefined) { offsetY = 0; }\n\n    Object(_bounds_CenterOn_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(gameObject, Object(_bounds_GetCenterX_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(alignIn) + offsetX, Object(_bounds_GetCenterY_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(alignIn) + offsetY);\n\n    return gameObject;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Center);\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/align/align/in/Center.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/align/align/in/LeftCenter.js":
/*!******************************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/align/align/in/LeftCenter.js ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _bounds_GetCenterY_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../bounds/GetCenterY.js */ \"./lib/rexui/lib/plugins/utils/align/bounds/GetCenterY.js\");\n/* harmony import */ var _bounds_GetLeft_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../bounds/GetLeft.js */ \"./lib/rexui/lib/plugins/utils/align/bounds/GetLeft.js\");\n/* harmony import */ var _bounds_SetCenterY_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../bounds/SetCenterY.js */ \"./lib/rexui/lib/plugins/utils/align/bounds/SetCenterY.js\");\n/* harmony import */ var _bounds_SetLeft_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../bounds/SetLeft.js */ \"./lib/rexui/lib/plugins/utils/align/bounds/SetLeft.js\");\n\n\n\n\n\nvar LeftCenter = function (gameObject, alignIn, offsetX, offsetY) {\n    if (offsetX === undefined) { offsetX = 0; }\n    if (offsetY === undefined) { offsetY = 0; }\n\n    Object(_bounds_SetLeft_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(gameObject, Object(_bounds_GetLeft_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(alignIn) - offsetX);\n    Object(_bounds_SetCenterY_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(gameObject, Object(_bounds_GetCenterY_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(alignIn) + offsetY);\n\n    return gameObject;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (LeftCenter);\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/align/align/in/LeftCenter.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/align/align/in/QuickSet.js":
/*!****************************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/align/align/in/QuickSet.js ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _const_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../const.js */ \"./lib/rexui/lib/plugins/utils/align/align/const.js\");\n/* harmony import */ var _BottomCenter_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BottomCenter.js */ \"./lib/rexui/lib/plugins/utils/align/align/in/BottomCenter.js\");\n/* harmony import */ var _BottomLeft_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BottomLeft.js */ \"./lib/rexui/lib/plugins/utils/align/align/in/BottomLeft.js\");\n/* harmony import */ var _BottomRight_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./BottomRight.js */ \"./lib/rexui/lib/plugins/utils/align/align/in/BottomRight.js\");\n/* harmony import */ var _Center_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Center.js */ \"./lib/rexui/lib/plugins/utils/align/align/in/Center.js\");\n/* harmony import */ var _LeftCenter_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./LeftCenter.js */ \"./lib/rexui/lib/plugins/utils/align/align/in/LeftCenter.js\");\n/* harmony import */ var _RightCenter_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./RightCenter.js */ \"./lib/rexui/lib/plugins/utils/align/align/in/RightCenter.js\");\n/* harmony import */ var _TopCenter_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./TopCenter.js */ \"./lib/rexui/lib/plugins/utils/align/align/in/TopCenter.js\");\n/* harmony import */ var _TopLeft_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./TopLeft.js */ \"./lib/rexui/lib/plugins/utils/align/align/in/TopLeft.js\");\n/* harmony import */ var _TopRight_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./TopRight.js */ \"./lib/rexui/lib/plugins/utils/align/align/in/TopRight.js\");\n\n\n\n\n\n\n\n\n\n\n\nvar AlignInMap = [];\n\nAlignInMap[_const_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BOTTOM_CENTER] = _BottomCenter_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"];\nAlignInMap[_const_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BOTTOM_LEFT] = _BottomLeft_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"];\nAlignInMap[_const_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BOTTOM_RIGHT] = _BottomRight_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"];\nAlignInMap[_const_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].CENTER] = _Center_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\nAlignInMap[_const_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].LEFT_CENTER] = _LeftCenter_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"];\nAlignInMap[_const_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].RIGHT_CENTER] = _RightCenter_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"];\nAlignInMap[_const_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].TOP_CENTER] = _TopCenter_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"];\nAlignInMap[_const_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].TOP_LEFT] = _TopLeft_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"];\nAlignInMap[_const_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].TOP_RIGHT] = _TopRight_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"];\n\nvar QuickSet = function (child, alignIn, position, offsetX, offsetY) {\n    return AlignInMap[position](child, alignIn, offsetX, offsetY);\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (QuickSet);\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/align/align/in/QuickSet.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/align/align/in/RightCenter.js":
/*!*******************************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/align/align/in/RightCenter.js ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _bounds_GetCenterY_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../bounds/GetCenterY.js */ \"./lib/rexui/lib/plugins/utils/align/bounds/GetCenterY.js\");\n/* harmony import */ var _bounds_GetRight_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../bounds/GetRight.js */ \"./lib/rexui/lib/plugins/utils/align/bounds/GetRight.js\");\n/* harmony import */ var _bounds_SetCenterY_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../bounds/SetCenterY.js */ \"./lib/rexui/lib/plugins/utils/align/bounds/SetCenterY.js\");\n/* harmony import */ var _bounds_SetRight_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../bounds/SetRight.js */ \"./lib/rexui/lib/plugins/utils/align/bounds/SetRight.js\");\n\n\n\n\n\nvar RightCenter = function (gameObject, alignIn, offsetX, offsetY) {\n    if (offsetX === undefined) { offsetX = 0; }\n    if (offsetY === undefined) { offsetY = 0; }\n\n    Object(_bounds_SetRight_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(gameObject, Object(_bounds_GetRight_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(alignIn) + offsetX);\n    Object(_bounds_SetCenterY_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(gameObject, Object(_bounds_GetCenterY_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(alignIn) + offsetY);\n\n    return gameObject;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (RightCenter);\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/align/align/in/RightCenter.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/align/align/in/TopCenter.js":
/*!*****************************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/align/align/in/TopCenter.js ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _bounds_GetCenterX_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../bounds/GetCenterX.js */ \"./lib/rexui/lib/plugins/utils/align/bounds/GetCenterX.js\");\n/* harmony import */ var _bounds_GetTop_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../bounds/GetTop.js */ \"./lib/rexui/lib/plugins/utils/align/bounds/GetTop.js\");\n/* harmony import */ var _bounds_SetCenterX_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../bounds/SetCenterX.js */ \"./lib/rexui/lib/plugins/utils/align/bounds/SetCenterX.js\");\n/* harmony import */ var _bounds_SetTop_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../bounds/SetTop.js */ \"./lib/rexui/lib/plugins/utils/align/bounds/SetTop.js\");\n\n\n\n\n\nvar TopCenter = function (gameObject, alignIn, offsetX, offsetY) {\n    if (offsetX === undefined) { offsetX = 0; }\n    if (offsetY === undefined) { offsetY = 0; }\n\n    Object(_bounds_SetCenterX_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(gameObject, Object(_bounds_GetCenterX_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(alignIn) + offsetX);\n    Object(_bounds_SetTop_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(gameObject, Object(_bounds_GetTop_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(alignIn) - offsetY);\n\n    return gameObject;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (TopCenter);\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/align/align/in/TopCenter.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/align/align/in/TopLeft.js":
/*!***************************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/align/align/in/TopLeft.js ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _bounds_GetLeft_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../bounds/GetLeft.js */ \"./lib/rexui/lib/plugins/utils/align/bounds/GetLeft.js\");\n/* harmony import */ var _bounds_GetTop_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../bounds/GetTop.js */ \"./lib/rexui/lib/plugins/utils/align/bounds/GetTop.js\");\n/* harmony import */ var _bounds_SetLeft_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../bounds/SetLeft.js */ \"./lib/rexui/lib/plugins/utils/align/bounds/SetLeft.js\");\n/* harmony import */ var _bounds_SetTop_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../bounds/SetTop.js */ \"./lib/rexui/lib/plugins/utils/align/bounds/SetTop.js\");\n\n\n\n\n\nvar TopLeft = function (gameObject, alignIn, offsetX, offsetY) {\n    if (offsetX === undefined) { offsetX = 0; }\n    if (offsetY === undefined) { offsetY = 0; }\n\n    Object(_bounds_SetLeft_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(gameObject, Object(_bounds_GetLeft_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(alignIn) - offsetX);\n    Object(_bounds_SetTop_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(gameObject, Object(_bounds_GetTop_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(alignIn) - offsetY);\n\n    return gameObject;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (TopLeft);\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/align/align/in/TopLeft.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/align/align/in/TopRight.js":
/*!****************************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/align/align/in/TopRight.js ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _bounds_GetRight_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../bounds/GetRight.js */ \"./lib/rexui/lib/plugins/utils/align/bounds/GetRight.js\");\n/* harmony import */ var _bounds_GetTop_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../bounds/GetTop.js */ \"./lib/rexui/lib/plugins/utils/align/bounds/GetTop.js\");\n/* harmony import */ var _bounds_SetRight_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../bounds/SetRight.js */ \"./lib/rexui/lib/plugins/utils/align/bounds/SetRight.js\");\n/* harmony import */ var _bounds_SetTop_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../bounds/SetTop.js */ \"./lib/rexui/lib/plugins/utils/align/bounds/SetTop.js\");\n\n\n\n\n\nvar TopRight = function (gameObject, alignIn, offsetX, offsetY) {\n    if (offsetX === undefined) { offsetX = 0; }\n    if (offsetY === undefined) { offsetY = 0; }\n\n    Object(_bounds_SetRight_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(gameObject, Object(_bounds_GetRight_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(alignIn) + offsetX);\n    Object(_bounds_SetTop_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(gameObject, Object(_bounds_GetTop_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(alignIn) - offsetY);\n\n    return gameObject;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (TopRight);\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/align/align/in/TopRight.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/align/bounds/CenterOn.js":
/*!**************************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/align/bounds/CenterOn.js ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _SetCenterX_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./SetCenterX.js */ \"./lib/rexui/lib/plugins/utils/align/bounds/SetCenterX.js\");\n/* harmony import */ var _SetCenterY_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./SetCenterY.js */ \"./lib/rexui/lib/plugins/utils/align/bounds/SetCenterY.js\");\n\n\n\nvar CenterOn = function (gameObject, x, y) {\n    Object(_SetCenterX_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(gameObject, x);\n    return Object(_SetCenterY_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(gameObject, y);\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (CenterOn);\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/align/bounds/CenterOn.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/align/bounds/GetBottom.js":
/*!***************************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/align/bounds/GetBottom.js ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../size/GetDisplaySize.js */ \"./lib/rexui/lib/plugins/utils/size/GetDisplaySize.js\");\n\n\nvar GetBottom = function (gameObject) {\n    var height = Object(_size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_0__[\"GetDisplayHeight\"])(gameObject);\n    return (gameObject.y + height) - (height * gameObject.originY);\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GetBottom);\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/align/bounds/GetBottom.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/align/bounds/GetCenterX.js":
/*!****************************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/align/bounds/GetCenterX.js ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../size/GetDisplaySize.js */ \"./lib/rexui/lib/plugins/utils/size/GetDisplaySize.js\");\n\n\nvar GetCenterX = function (gameObject) {\n    var width = Object(_size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_0__[\"GetDisplayWidth\"])(gameObject);\n    return gameObject.x - (width * gameObject.originX) + (width * 0.5);\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GetCenterX);\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/align/bounds/GetCenterX.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/align/bounds/GetCenterY.js":
/*!****************************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/align/bounds/GetCenterY.js ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../size/GetDisplaySize.js */ \"./lib/rexui/lib/plugins/utils/size/GetDisplaySize.js\");\n\n\nvar GetCenterY = function (gameObject) {\n    var height = Object(_size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_0__[\"GetDisplayHeight\"])(gameObject);\n    return gameObject.y - (height * gameObject.originY) + (height * 0.5);\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GetCenterY);\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/align/bounds/GetCenterY.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/align/bounds/GetLeft.js":
/*!*************************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/align/bounds/GetLeft.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../size/GetDisplaySize.js */ \"./lib/rexui/lib/plugins/utils/size/GetDisplaySize.js\");\n\n\nvar GetLeft = function (gameObject) {\n    var width = Object(_size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_0__[\"GetDisplayWidth\"])(gameObject);\n    return gameObject.x - (width * gameObject.originX);\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GetLeft);\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/align/bounds/GetLeft.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/align/bounds/GetRight.js":
/*!**************************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/align/bounds/GetRight.js ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../size/GetDisplaySize.js */ \"./lib/rexui/lib/plugins/utils/size/GetDisplaySize.js\");\n\n\nvar GetRight = function (gameObject) {\n    var width = Object(_size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_0__[\"GetDisplayWidth\"])(gameObject);\n    return (gameObject.x + width) - (width * gameObject.originX);\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GetRight);\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/align/bounds/GetRight.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/align/bounds/GetTop.js":
/*!************************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/align/bounds/GetTop.js ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../size/GetDisplaySize.js */ \"./lib/rexui/lib/plugins/utils/size/GetDisplaySize.js\");\n\n\nvar GetTop = function (gameObject) {\n    var height = Object(_size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_0__[\"GetDisplayHeight\"])(gameObject);\n    return gameObject.y - (height * gameObject.originY);\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GetTop);\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/align/bounds/GetTop.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/align/bounds/SetBottom.js":
/*!***************************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/align/bounds/SetBottom.js ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../size/GetDisplaySize.js */ \"./lib/rexui/lib/plugins/utils/size/GetDisplaySize.js\");\n\n\nvar SetBottom = function (gameObject, value) {\n    var height = Object(_size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_0__[\"GetDisplayHeight\"])(gameObject);\n    gameObject.y = (value - height) + (height * gameObject.originY);\n    return gameObject;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (SetBottom);\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/align/bounds/SetBottom.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/align/bounds/SetCenterX.js":
/*!****************************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/align/bounds/SetCenterX.js ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../size/GetDisplaySize.js */ \"./lib/rexui/lib/plugins/utils/size/GetDisplaySize.js\");\n\n\nvar SetCenterX = function (gameObject, x) {\n    var width = Object(_size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_0__[\"GetDisplayWidth\"])(gameObject);\n    var offsetX = width * gameObject.originX;\n    gameObject.x = (x + offsetX) - (width * 0.5);\n\n    return gameObject;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (SetCenterX);\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/align/bounds/SetCenterX.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/align/bounds/SetCenterY.js":
/*!****************************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/align/bounds/SetCenterY.js ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../size/GetDisplaySize.js */ \"./lib/rexui/lib/plugins/utils/size/GetDisplaySize.js\");\n\n\nvar SetCenterY = function (gameObject, y) {\n    var height = Object(_size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_0__[\"GetDisplayHeight\"])(gameObject);\n    var offsetY = height * gameObject.originY;\n    gameObject.y = (y + offsetY) - (height * 0.5);\n\n    return gameObject;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (SetCenterY);\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/align/bounds/SetCenterY.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/align/bounds/SetLeft.js":
/*!*************************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/align/bounds/SetLeft.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../size/GetDisplaySize.js */ \"./lib/rexui/lib/plugins/utils/size/GetDisplaySize.js\");\n\n\nvar SetLeft = function (gameObject, value) {\n    var width = Object(_size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_0__[\"GetDisplayWidth\"])(gameObject);\n    gameObject.x = value + (width * gameObject.originX);\n    return gameObject;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (SetLeft);\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/align/bounds/SetLeft.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/align/bounds/SetRight.js":
/*!**************************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/align/bounds/SetRight.js ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../size/GetDisplaySize.js */ \"./lib/rexui/lib/plugins/utils/size/GetDisplaySize.js\");\n\n\nvar SetRight = function (gameObject, value) {\n    var width = Object(_size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_0__[\"GetDisplayWidth\"])(gameObject);\n    gameObject.x = (value - width) + (width * gameObject.originX);\n\n    return gameObject;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (SetRight);\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/align/bounds/SetRight.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/align/bounds/SetTop.js":
/*!************************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/align/bounds/SetTop.js ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../size/GetDisplaySize.js */ \"./lib/rexui/lib/plugins/utils/size/GetDisplaySize.js\");\n\n\nvar SetTop = function (gameObject, value) {\n    var height = Object(_size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_0__[\"GetDisplayHeight\"])(gameObject);\n    gameObject.y = value + (height * gameObject.originY);\n    return gameObject;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (SetTop);\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/align/bounds/SetTop.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/data/DataMethods.js":
/*!*********************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/data/DataMethods.js ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _object_GetValue_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../object/GetValue.js */ \"./lib/rexui/lib/plugins/utils/object/GetValue.js\");\n/* harmony import */ var _object_GetValue_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_object_GetValue_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _object_Clear_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../object/Clear.js */ \"./lib/rexui/lib/plugins/utils/object/Clear.js\");\n/* harmony import */ var _object_Clone_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../object/Clone.js */ \"./lib/rexui/lib/plugins/utils/object/Clone.js\");\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    enableData() {\n        if (this.data === undefined) {\n            this.data = {};\n        }\n        return this;\n    },\n\n    getData(key, defaultValue) {\n        this.enableData();\n        return (key === undefined) ? this.data : _object_GetValue_js__WEBPACK_IMPORTED_MODULE_0___default()(this.data, key, defaultValue);\n    },\n\n    setData(key, value) {\n        this.enableData();\n        this.data[key] = value;\n        return this;\n    },\n\n    incData(key, inc, defaultValue) {\n        if (defaultValue === undefined) {\n            defaultValue = 0;\n        }\n        this.enableData();\n        this.setData(key, this.getData(key, defaultValue) + inc);\n        return this;\n    },\n\n    mulData(key, mul, defaultValue) {\n        if (defaultValue === undefined) {\n            defaultValue = 0;\n        }\n        this.enableData();\n        this.setData(key, this.getData(key, defaultValue) * mul);\n        return this;\n    },\n\n    clearData() {\n        if (this.data) {\n            Object(_object_Clear_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this.data);\n        }\n        return this;\n    },\n\n    resetData(data) {\n        this.clearData();\n\n        if (data) {\n            this.enableData();\n            for (var key in data) {\n                this.data[key] = data[key];\n            }\n        }\n        return this;\n    },\n\n    cloneData() {\n        if (this.data) {\n            return Object(_object_Clone_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this.data);\n        } else {\n            return {};\n        }\n    }\n});\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/data/DataMethods.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/defaultbounds/GetDefaultBounds.js":
/*!***********************************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/defaultbounds/GetDefaultBounds.js ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar GetDefaultBounds = function (scene, out) {\n    if (out === undefined) {\n        if (GlobRectangle === undefined) {\n            GlobRectangle = new Phaser.Geom.Rectangle();\n        }\n        out = GlobRectangle;\n    }\n    var gameConfig = scene.game.config;\n    out.setTo(0, 0, gameConfig.width, gameConfig.height);\n    return out;\n}\n\nvar GlobRectangle;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GetDefaultBounds);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/defaultbounds/GetDefaultBounds.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/eventemitter/EventEmitterMethods.js":
/*!*************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/eventemitter/EventEmitterMethods.js ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    setEventEmitter(eventEmitter, EventEmitterClass) {\n        if (EventEmitterClass === undefined) {\n            EventEmitterClass = Phaser.Events.EventEmitter; // Use built-in EventEmitter class by default\n        }\n        this._privateEE = (eventEmitter === undefined);\n        this._eventEmitter = (this._privateEE) ? (new EventEmitterClass()) : eventEmitter;\n        return this;\n    },\n\n    destroyEventEmitter() {\n        if (this._eventEmitter && this._privateEE) {\n            this._eventEmitter.shutdown();\n        }\n        return this;\n    },\n\n    getEventEmitter() {\n        return this._eventEmitter;\n    },\n\n    on: function () {\n        if (this._eventEmitter) {\n            this._eventEmitter.on.apply(this._eventEmitter, arguments);\n        }\n        return this;\n    },\n\n    once: function () {\n        if (this._eventEmitter) {\n            this._eventEmitter.once.apply(this._eventEmitter, arguments);\n        }\n        return this;\n    },\n\n    off: function () {\n        if (this._eventEmitter) {\n            this._eventEmitter.off.apply(this._eventEmitter, arguments);\n        }\n        return this;\n    },\n\n    emit: function (event) {\n        if (this._eventEmitter && event) {\n            this._eventEmitter.emit.apply(this._eventEmitter, arguments);\n        }\n        return this;\n    },\n\n    addListener: function () {\n        if (this._eventEmitter) {\n            this._eventEmitter.addListener.apply(this._eventEmitter, arguments);\n        }\n        return this;\n    },\n\n    removeListener: function () {\n        if (this._eventEmitter) {\n            this._eventEmitter.removeListener.apply(this._eventEmitter, arguments);\n        }\n        return this;\n    },\n\n    removeAllListeners: function () {\n        if (this._eventEmitter) {\n            this._eventEmitter.removeAllListeners.apply(this._eventEmitter, arguments);\n        }\n        return this;\n    },\n\n    listenerCount: function () {\n        if (this._eventEmitter) {\n            return this._eventEmitter.listenerCount.apply(this._eventEmitter, arguments);\n        }\n        return 0;\n    },\n\n    listeners: function () {\n        if (this._eventEmitter) {\n            return this._eventEmitter.listeners.apply(this._eventEmitter, arguments);\n        }\n        return [];\n    }\n});\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/eventemitter/EventEmitterMethods.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/geom/polygon/Earcut.js":
/*!************************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/geom/polygon/Earcut.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2019 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\n//  Earcut 2.1.4 (December 4th 2018)\n\n/*\n * ISC License\n * \n * Copyright (c) 2016, Mapbox\n * \n * Permission to use, copy, modify, and/or distribute this software for any purpose\n * with or without fee is hereby granted, provided that the above copyright notice\n * and this permission notice appear in all copies.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS\n * OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER\n * TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF\n * THIS SOFTWARE.\n */\n\n\n\nmodule.exports = earcut;\n\nfunction earcut(data, holeIndices, dim) {\n\n    dim = dim || 2;\n\n    var hasHoles = holeIndices && holeIndices.length,\n        outerLen = hasHoles ? holeIndices[0] * dim : data.length,\n        outerNode = linkedList(data, 0, outerLen, dim, true),\n        triangles = [];\n\n    if (!outerNode || outerNode.next === outerNode.prev) return triangles;\n\n    var minX, minY, maxX, maxY, x, y, invSize;\n\n    if (hasHoles) outerNode = eliminateHoles(data, holeIndices, outerNode, dim);\n\n    // if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n    if (data.length > 80 * dim) {\n        minX = maxX = data[0];\n        minY = maxY = data[1];\n\n        for (var i = dim; i < outerLen; i += dim) {\n            x = data[i];\n            y = data[i + 1];\n            if (x < minX) minX = x;\n            if (y < minY) minY = y;\n            if (x > maxX) maxX = x;\n            if (y > maxY) maxY = y;\n        }\n\n        // minX, minY and invSize are later used to transform coords into integers for z-order calculation\n        invSize = Math.max(maxX - minX, maxY - minY);\n        invSize = invSize !== 0 ? 1 / invSize : 0;\n    }\n\n    earcutLinked(outerNode, triangles, dim, minX, minY, invSize);\n\n    return triangles;\n}\n\n// create a circular doubly linked list from polygon points in the specified winding order\nfunction linkedList(data, start, end, dim, clockwise) {\n    var i, last;\n\n    if (clockwise === (signedArea(data, start, end, dim) > 0)) {\n        for (i = start; i < end; i += dim) last = insertNode(i, data[i], data[i + 1], last);\n    } else {\n        for (i = end - dim; i >= start; i -= dim) last = insertNode(i, data[i], data[i + 1], last);\n    }\n\n    if (last && equals(last, last.next)) {\n        removeNode(last);\n        last = last.next;\n    }\n\n    return last;\n}\n\n// eliminate colinear or duplicate points\nfunction filterPoints(start, end) {\n    if (!start) return start;\n    if (!end) end = start;\n\n    var p = start,\n        again;\n    do {\n        again = false;\n\n        if (!p.steiner && (equals(p, p.next) || area(p.prev, p, p.next) === 0)) {\n            removeNode(p);\n            p = end = p.prev;\n            if (p === p.next) break;\n            again = true;\n\n        } else {\n            p = p.next;\n        }\n    } while (again || p !== end);\n\n    return end;\n}\n\n// main ear slicing loop which triangulates a polygon (given as a linked list)\nfunction earcutLinked(ear, triangles, dim, minX, minY, invSize, pass) {\n    if (!ear) return;\n\n    // interlink polygon nodes in z-order\n    if (!pass && invSize) indexCurve(ear, minX, minY, invSize);\n\n    var stop = ear,\n        prev, next;\n\n    // iterate through ears, slicing them one by one\n    while (ear.prev !== ear.next) {\n        prev = ear.prev;\n        next = ear.next;\n\n        if (invSize ? isEarHashed(ear, minX, minY, invSize) : isEar(ear)) {\n            // cut off the triangle\n            triangles.push(prev.i / dim);\n            triangles.push(ear.i / dim);\n            triangles.push(next.i / dim);\n\n            removeNode(ear);\n\n            // skipping the next vertex leads to less sliver triangles\n            ear = next.next;\n            stop = next.next;\n\n            continue;\n        }\n\n        ear = next;\n\n        // if we looped through the whole remaining polygon and can't find any more ears\n        if (ear === stop) {\n            // try filtering points and slicing again\n            if (!pass) {\n                earcutLinked(filterPoints(ear), triangles, dim, minX, minY, invSize, 1);\n\n            // if this didn't work, try curing all small self-intersections locally\n            } else if (pass === 1) {\n                ear = cureLocalIntersections(ear, triangles, dim);\n                earcutLinked(ear, triangles, dim, minX, minY, invSize, 2);\n\n            // as a last resort, try splitting the remaining polygon into two\n            } else if (pass === 2) {\n                splitEarcut(ear, triangles, dim, minX, minY, invSize);\n            }\n\n            break;\n        }\n    }\n}\n\n// check whether a polygon node forms a valid ear with adjacent nodes\nfunction isEar(ear) {\n    var a = ear.prev,\n        b = ear,\n        c = ear.next;\n\n    if (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n\n    // now make sure we don't have other points inside the potential ear\n    var p = ear.next.next;\n\n    while (p !== ear.prev) {\n        if (pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) &&\n            area(p.prev, p, p.next) >= 0) return false;\n        p = p.next;\n    }\n\n    return true;\n}\n\nfunction isEarHashed(ear, minX, minY, invSize) {\n    var a = ear.prev,\n        b = ear,\n        c = ear.next;\n\n    if (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n\n    // triangle bbox; min & max are calculated like this for speed\n    var minTX = a.x < b.x ? (a.x < c.x ? a.x : c.x) : (b.x < c.x ? b.x : c.x),\n        minTY = a.y < b.y ? (a.y < c.y ? a.y : c.y) : (b.y < c.y ? b.y : c.y),\n        maxTX = a.x > b.x ? (a.x > c.x ? a.x : c.x) : (b.x > c.x ? b.x : c.x),\n        maxTY = a.y > b.y ? (a.y > c.y ? a.y : c.y) : (b.y > c.y ? b.y : c.y);\n\n    // z-order range for the current triangle bbox;\n    var minZ = zOrder(minTX, minTY, minX, minY, invSize),\n        maxZ = zOrder(maxTX, maxTY, minX, minY, invSize);\n\n    var p = ear.prevZ,\n        n = ear.nextZ;\n\n    // look for points inside the triangle in both directions\n    while (p && p.z >= minZ && n && n.z <= maxZ) {\n        if (p !== ear.prev && p !== ear.next &&\n            pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) &&\n            area(p.prev, p, p.next) >= 0) return false;\n        p = p.prevZ;\n\n        if (n !== ear.prev && n !== ear.next &&\n            pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y) &&\n            area(n.prev, n, n.next) >= 0) return false;\n        n = n.nextZ;\n    }\n\n    // look for remaining points in decreasing z-order\n    while (p && p.z >= minZ) {\n        if (p !== ear.prev && p !== ear.next &&\n            pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) &&\n            area(p.prev, p, p.next) >= 0) return false;\n        p = p.prevZ;\n    }\n\n    // look for remaining points in increasing z-order\n    while (n && n.z <= maxZ) {\n        if (n !== ear.prev && n !== ear.next &&\n            pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y) &&\n            area(n.prev, n, n.next) >= 0) return false;\n        n = n.nextZ;\n    }\n\n    return true;\n}\n\n// go through all polygon nodes and cure small local self-intersections\nfunction cureLocalIntersections(start, triangles, dim) {\n    var p = start;\n    do {\n        var a = p.prev,\n            b = p.next.next;\n\n        if (!equals(a, b) && intersects(a, p, p.next, b) && locallyInside(a, b) && locallyInside(b, a)) {\n\n            triangles.push(a.i / dim);\n            triangles.push(p.i / dim);\n            triangles.push(b.i / dim);\n\n            // remove two nodes involved\n            removeNode(p);\n            removeNode(p.next);\n\n            p = start = b;\n        }\n        p = p.next;\n    } while (p !== start);\n\n    return p;\n}\n\n// try splitting polygon into two and triangulate them independently\nfunction splitEarcut(start, triangles, dim, minX, minY, invSize) {\n    // look for a valid diagonal that divides the polygon into two\n    var a = start;\n    do {\n        var b = a.next.next;\n        while (b !== a.prev) {\n            if (a.i !== b.i && isValidDiagonal(a, b)) {\n                // split the polygon in two by the diagonal\n                var c = splitPolygon(a, b);\n\n                // filter colinear points around the cuts\n                a = filterPoints(a, a.next);\n                c = filterPoints(c, c.next);\n\n                // run earcut on each half\n                earcutLinked(a, triangles, dim, minX, minY, invSize);\n                earcutLinked(c, triangles, dim, minX, minY, invSize);\n                return;\n            }\n            b = b.next;\n        }\n        a = a.next;\n    } while (a !== start);\n}\n\n// link every hole into the outer loop, producing a single-ring polygon without holes\nfunction eliminateHoles(data, holeIndices, outerNode, dim) {\n    var queue = [],\n        i, len, start, end, list;\n\n    for (i = 0, len = holeIndices.length; i < len; i++) {\n        start = holeIndices[i] * dim;\n        end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n        list = linkedList(data, start, end, dim, false);\n        if (list === list.next) list.steiner = true;\n        queue.push(getLeftmost(list));\n    }\n\n    queue.sort(compareX);\n\n    // process holes from left to right\n    for (i = 0; i < queue.length; i++) {\n        eliminateHole(queue[i], outerNode);\n        outerNode = filterPoints(outerNode, outerNode.next);\n    }\n\n    return outerNode;\n}\n\nfunction compareX(a, b) {\n    return a.x - b.x;\n}\n\n// find a bridge between vertices that connects hole with an outer ring and and link it\nfunction eliminateHole(hole, outerNode) {\n    outerNode = findHoleBridge(hole, outerNode);\n    if (outerNode) {\n        var b = splitPolygon(outerNode, hole);\n        filterPoints(b, b.next);\n    }\n}\n\n// David Eberly's algorithm for finding a bridge between hole and outer polygon\nfunction findHoleBridge(hole, outerNode) {\n    var p = outerNode,\n        hx = hole.x,\n        hy = hole.y,\n        qx = -Infinity,\n        m;\n\n    // find a segment intersected by a ray from the hole's leftmost point to the left;\n    // segment's endpoint with lesser x will be potential connection point\n    do {\n        if (hy <= p.y && hy >= p.next.y && p.next.y !== p.y) {\n            var x = p.x + (hy - p.y) * (p.next.x - p.x) / (p.next.y - p.y);\n            if (x <= hx && x > qx) {\n                qx = x;\n                if (x === hx) {\n                    if (hy === p.y) return p;\n                    if (hy === p.next.y) return p.next;\n                }\n                m = p.x < p.next.x ? p : p.next;\n            }\n        }\n        p = p.next;\n    } while (p !== outerNode);\n\n    if (!m) return null;\n\n    if (hx === qx) return m.prev; // hole touches outer segment; pick lower endpoint\n\n    // look for points inside the triangle of hole point, segment intersection and endpoint;\n    // if there are no points found, we have a valid connection;\n    // otherwise choose the point of the minimum angle with the ray as connection point\n\n    var stop = m,\n        mx = m.x,\n        my = m.y,\n        tanMin = Infinity,\n        tan;\n\n    p = m.next;\n\n    while (p !== stop) {\n        if (hx >= p.x && p.x >= mx && hx !== p.x &&\n                pointInTriangle(hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y)) {\n\n            tan = Math.abs(hy - p.y) / (hx - p.x); // tangential\n\n            if ((tan < tanMin || (tan === tanMin && p.x > m.x)) && locallyInside(p, hole)) {\n                m = p;\n                tanMin = tan;\n            }\n        }\n\n        p = p.next;\n    }\n\n    return m;\n}\n\n// interlink polygon nodes in z-order\nfunction indexCurve(start, minX, minY, invSize) {\n    var p = start;\n    do {\n        if (p.z === null) p.z = zOrder(p.x, p.y, minX, minY, invSize);\n        p.prevZ = p.prev;\n        p.nextZ = p.next;\n        p = p.next;\n    } while (p !== start);\n\n    p.prevZ.nextZ = null;\n    p.prevZ = null;\n\n    sortLinked(p);\n}\n\n// Simon Tatham's linked list merge sort algorithm\n// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\nfunction sortLinked(list) {\n    var i, p, q, e, tail, numMerges, pSize, qSize,\n        inSize = 1;\n\n    do {\n        p = list;\n        list = null;\n        tail = null;\n        numMerges = 0;\n\n        while (p) {\n            numMerges++;\n            q = p;\n            pSize = 0;\n            for (i = 0; i < inSize; i++) {\n                pSize++;\n                q = q.nextZ;\n                if (!q) break;\n            }\n            qSize = inSize;\n\n            while (pSize > 0 || (qSize > 0 && q)) {\n\n                if (pSize !== 0 && (qSize === 0 || !q || p.z <= q.z)) {\n                    e = p;\n                    p = p.nextZ;\n                    pSize--;\n                } else {\n                    e = q;\n                    q = q.nextZ;\n                    qSize--;\n                }\n\n                if (tail) tail.nextZ = e;\n                else list = e;\n\n                e.prevZ = tail;\n                tail = e;\n            }\n\n            p = q;\n        }\n\n        tail.nextZ = null;\n        inSize *= 2;\n\n    } while (numMerges > 1);\n\n    return list;\n}\n\n// z-order of a point given coords and inverse of the longer side of data bbox\nfunction zOrder(x, y, minX, minY, invSize) {\n    // coords are transformed into non-negative 15-bit integer range\n    x = 32767 * (x - minX) * invSize;\n    y = 32767 * (y - minY) * invSize;\n\n    x = (x | (x << 8)) & 0x00FF00FF;\n    x = (x | (x << 4)) & 0x0F0F0F0F;\n    x = (x | (x << 2)) & 0x33333333;\n    x = (x | (x << 1)) & 0x55555555;\n\n    y = (y | (y << 8)) & 0x00FF00FF;\n    y = (y | (y << 4)) & 0x0F0F0F0F;\n    y = (y | (y << 2)) & 0x33333333;\n    y = (y | (y << 1)) & 0x55555555;\n\n    return x | (y << 1);\n}\n\n// find the leftmost node of a polygon ring\nfunction getLeftmost(start) {\n    var p = start,\n        leftmost = start;\n    do {\n        if (p.x < leftmost.x) leftmost = p;\n        p = p.next;\n    } while (p !== start);\n\n    return leftmost;\n}\n\n// check if a point lies within a convex triangle\nfunction pointInTriangle(ax, ay, bx, by, cx, cy, px, py) {\n    return (cx - px) * (ay - py) - (ax - px) * (cy - py) >= 0 &&\n           (ax - px) * (by - py) - (bx - px) * (ay - py) >= 0 &&\n           (bx - px) * (cy - py) - (cx - px) * (by - py) >= 0;\n}\n\n// check if a diagonal between two polygon nodes is valid (lies in polygon interior)\nfunction isValidDiagonal(a, b) {\n    return a.next.i !== b.i && a.prev.i !== b.i && !intersectsPolygon(a, b) &&\n           locallyInside(a, b) && locallyInside(b, a) && middleInside(a, b);\n}\n\n// signed area of a triangle\nfunction area(p, q, r) {\n    return (q.y - p.y) * (r.x - q.x) - (q.x - p.x) * (r.y - q.y);\n}\n\n// check if two points are equal\nfunction equals(p1, p2) {\n    return p1.x === p2.x && p1.y === p2.y;\n}\n\n// check if two segments intersect\nfunction intersects(p1, q1, p2, q2) {\n    if ((equals(p1, q1) && equals(p2, q2)) ||\n        (equals(p1, q2) && equals(p2, q1))) return true;\n    return area(p1, q1, p2) > 0 !== area(p1, q1, q2) > 0 &&\n           area(p2, q2, p1) > 0 !== area(p2, q2, q1) > 0;\n}\n\n// check if a polygon diagonal intersects any polygon segments\nfunction intersectsPolygon(a, b) {\n    var p = a;\n    do {\n        if (p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i &&\n                intersects(p, p.next, a, b)) return true;\n        p = p.next;\n    } while (p !== a);\n\n    return false;\n}\n\n// check if a polygon diagonal is locally inside the polygon\nfunction locallyInside(a, b) {\n    return area(a.prev, a, a.next) < 0 ?\n        area(a, b, a.next) >= 0 && area(a, a.prev, b) >= 0 :\n        area(a, b, a.prev) < 0 || area(a, a.next, b) < 0;\n}\n\n// check if the middle point of a polygon diagonal is inside the polygon\nfunction middleInside(a, b) {\n    var p = a,\n        inside = false,\n        px = (a.x + b.x) / 2,\n        py = (a.y + b.y) / 2;\n    do {\n        if (((p.y > py) !== (p.next.y > py)) && p.next.y !== p.y &&\n                (px < (p.next.x - p.x) * (py - p.y) / (p.next.y - p.y) + p.x))\n            inside = !inside;\n        p = p.next;\n    } while (p !== a);\n\n    return inside;\n}\n\n// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n// if one belongs to the outer ring and another to a hole, it merges it into a single ring\nfunction splitPolygon(a, b) {\n    var a2 = new Node(a.i, a.x, a.y),\n        b2 = new Node(b.i, b.x, b.y),\n        an = a.next,\n        bp = b.prev;\n\n    a.next = b;\n    b.prev = a;\n\n    a2.next = an;\n    an.prev = a2;\n\n    b2.next = a2;\n    a2.prev = b2;\n\n    bp.next = b2;\n    b2.prev = bp;\n\n    return b2;\n}\n\n// create a node and optionally link it with previous one (in a circular doubly linked list)\nfunction insertNode(i, x, y, last) {\n    var p = new Node(i, x, y);\n\n    if (!last) {\n        p.prev = p;\n        p.next = p;\n\n    } else {\n        p.next = last.next;\n        p.prev = last;\n        last.next.prev = p;\n        last.next = p;\n    }\n    return p;\n}\n\nfunction removeNode(p) {\n    p.next.prev = p.prev;\n    p.prev.next = p.next;\n\n    if (p.prevZ) p.prevZ.nextZ = p.nextZ;\n    if (p.nextZ) p.nextZ.prevZ = p.prevZ;\n}\n\nfunction Node(i, x, y) {\n    // vertex index in coordinates array\n    this.i = i;\n\n    // vertex coordinates\n    this.x = x;\n    this.y = y;\n\n    // previous and next vertex nodes in a polygon ring\n    this.prev = null;\n    this.next = null;\n\n    // z-order curve value\n    this.z = null;\n\n    // previous and next nodes in z-order\n    this.prevZ = null;\n    this.nextZ = null;\n\n    // indicates whether this is a steiner point\n    this.steiner = false;\n}\n\n// return a percentage difference between the polygon area and its triangulation area;\n// used to verify correctness of triangulation\nearcut.deviation = function (data, holeIndices, dim, triangles) {\n    var hasHoles = holeIndices && holeIndices.length;\n    var outerLen = hasHoles ? holeIndices[0] * dim : data.length;\n\n    var polygonArea = Math.abs(signedArea(data, 0, outerLen, dim));\n    if (hasHoles) {\n        for (var i = 0, len = holeIndices.length; i < len; i++) {\n            var start = holeIndices[i] * dim;\n            var end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n            polygonArea -= Math.abs(signedArea(data, start, end, dim));\n        }\n    }\n\n    var trianglesArea = 0;\n    for (i = 0; i < triangles.length; i += 3) {\n        var a = triangles[i] * dim;\n        var b = triangles[i + 1] * dim;\n        var c = triangles[i + 2] * dim;\n        trianglesArea += Math.abs(\n            (data[a] - data[c]) * (data[b + 1] - data[a + 1]) -\n            (data[a] - data[b]) * (data[c + 1] - data[a + 1]));\n    }\n\n    return polygonArea === 0 && trianglesArea === 0 ? 0 :\n        Math.abs((trianglesArea - polygonArea) / polygonArea);\n};\n\nfunction signedArea(data, start, end, dim) {\n    var sum = 0;\n    for (var i = start, j = end - dim; i < end; i += dim) {\n        sum += (data[j] - data[i]) * (data[i + 1] + data[j + 1]);\n        j = i;\n    }\n    return sum;\n}\n\n// turn a polygon in a multi-dimensional array form (e.g. as in GeoJSON) into a form Earcut accepts\nearcut.flatten = function (data) {\n    var dim = data[0][0].length,\n        result = {vertices: [], holes: [], dimensions: dim},\n        holeIndex = 0;\n\n    for (var i = 0; i < data.length; i++) {\n        for (var j = 0; j < data[i].length; j++) {\n            for (var d = 0; d < dim; d++) result.vertices.push(data[i][j][d]);\n        }\n        if (i > 0) {\n            holeIndex += data[i - 1].length;\n            result.holes.push(holeIndex);\n        }\n    }\n    return result;\n};\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/geom/polygon/Earcut.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/input/IsPointerInBounds.js":
/*!****************************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/input/IsPointerInBounds.js ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar IsPointerInBounds = function (gameObject, pointer, preTest, postTest) {\n    if (globRect === undefined) {\n        globRect = new Phaser.Geom.Rectangle();\n    }\n    gameObject.getBounds(globRect);\n\n    if (pointer) {\n        if (preTest && !preTest(gameObject, pointer)) {\n            return false;\n        }\n        if (!globRect.contains(pointer.x, pointer.y)) {\n            return false;\n        }\n        if (postTest && !postTest(gameObject, pointer)) {\n            return false;\n        }\n        return true;\n\n    } else {\n        var inputManager = gameObject.scene.input.manager;\n        var pointersTotal = inputManager.pointersTotal;\n        var pointers = inputManager.pointers;\n        for (var i = 0; i < pointersTotal; i++) {\n            pointer = pointers[i];\n            if (preTest && !preTest(gameObject, pointer)) {\n                continue;\n            }\n            if (!globRect.contains(pointer.x, pointer.y)) {\n                continue;\n            }\n            if (postTest && !postTest(gameObject, pointer)) {\n                continue;\n            }\n            return true;\n        }\n        return false;\n\n    }\n\n}\n\nvar globRect = undefined;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (IsPointerInBounds);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/input/IsPointerInBounds.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/input/StopPropagationTouchEvents.js":
/*!*************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/input/StopPropagationTouchEvents.js ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar StopPropagationTouchEvents = function (element) {\n    // Don't propagate touch/mouse events to parent(game canvas)\n    element.addEventListener(\"touchstart\", callback, false);\n    element.addEventListener(\"touchmove\", callback, false);\n    element.addEventListener(\"touchend\", callback, false);\n    element.addEventListener(\"mousedown\", callback, false);\n    element.addEventListener(\"mouseup\", callback, false);\n    element.addEventListener(\"mousemove\", callback, false);\n}\n\nvar callback = function (e) {\n    e.stopPropagation();\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (StopPropagationTouchEvents);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/input/StopPropagationTouchEvents.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/mask/DefaultMask.js":
/*!*********************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/mask/DefaultMask.js ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nconst Graphics = Phaser.GameObjects.Graphics;\n\nclass DefaultMask extends Graphics {\n    constructor(parent, shape, padding) {\n        if (shape === undefined) {\n            shape = 0;\n        }\n        if (typeof (shape) === 'string') {\n            shaep = SHAPEMODE[shape];\n        }\n        if (padding === undefined) {\n            padding = 0;\n        }\n\n        super(parent.scene);\n        this.parent = parent;\n        this.shape = shape;\n        this.padding = padding;\n        this.setPosition().resize();\n        // Don't add it to display list\n        // Graphics does not have origin, bounds\n    }\n\n    destroy() {\n        this.parent = undefined;\n        super.destroy();\n        return this;\n    }\n\n    setPosition(x, y) {\n        var parent = this.parent;\n        if (parent)\n            var worldpos = parent.getWorldTransformMatrix();\n        if (x === undefined) {\n            x = (worldpos.tx ? worldpos.tx : parent.x);\n        }\n        if (y === undefined) {\n            y = (worldpos.ty ? worldpos.ty : parent.y);\n        }\n        super.setPosition(x, y);\n        return this;\n    }\n\n    resize(width, height, padding) {\n        var parent = this.parent;\n        var zoom = parent.zoom === undefined ? 1 : parent.zoom;\n        if (width === undefined) {\n            width = parent.width * zoom;\n        }\n        if (height === undefined) {\n            height = parent.height * zoom;\n        }\n        if (padding === undefined) {\n            padding = this.padding * zoom;\n        }\n        // if(padding===undefined)padding = 4;\n        if ((this.widthSave === width) && (this.heightSave === height) && (this.paddingSave === padding)) {\n            return this;\n        }\n\n        this.clear().fillStyle(0xffffff);\n        switch (this.shape) {\n            case 1: // circle\n                var radius = Math.min(width, height) / 2;\n                this.fillCircle(\n                    0,\n                    0,\n                    radius + padding\n                );\n                break;\n            default: // 0|'rectangle'\n                this.fillRect(\n                    -(width * parent.originX) - padding,\n                    -(height * parent.originY) - padding,\n                    width + (2 * padding),\n                    height + (2 * padding)\n                );\n                break;\n        }\n        this.widthSave = width;\n        this.heightSave = height;\n        this.paddingSave = padding;\n        return this;\n    }\n}\n\nconst SHAPEMODE = {\n    rectangle: 0,\n    circle: 1,\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (DefaultMask);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/mask/DefaultMask.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/mask/MaskToGameObject.js":
/*!**************************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/mask/MaskToGameObject.js ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar MaskToGameObject = function (mask) {\n    return (mask.hasOwnProperty('geometryMask')) ? mask.geometryMask : mask.bitmapMask;\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (MaskToGameObject);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/mask/MaskToGameObject.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/math/DegToRad.js":
/*!******************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/math/DegToRad.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2018 Photon Storm Ltd.\n * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}\n */\n\nconst DEG_TO_RAD = Math.PI / 180;\n\n/**\n * Convert the given angle from degrees, to the equivalent angle in radians.\n *\n * @function Phaser.Math.DegToRad\n * @since 3.0.0\n *\n * @param {integer} degrees - The angle (in degrees) to convert to radians.\n *\n * @return {number} The given angle converted to radians.\n */\nvar DegToRad = function (degrees)\n{\n    return degrees * DEG_TO_RAD;\n};\n\nmodule.exports = DegToRad;\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/math/DegToRad.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/math/angle/angletodirections/AngleToDirections.js":
/*!***************************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/math/angle/angletodirections/AngleToDirections.js ***!
  \***************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar AngleToDirections = function (angle, dirMode, out) {\n    if (out === undefined) {\n        out = {}\n    } else if (out === true) {\n        out = tmpOut;\n    }\n\n    out.left = false;\n    out.right = false;\n    out.up = false;\n    out.down = false;\n\n    angle = (angle + 360) % 360;\n    switch (dirMode) {\n        case 0: // up & down\n            if (angle < 180) {\n                out.down = true;\n            } else {\n                out.up = true;\n            }\n            break;\n\n        case 1: // left & right\n            if ((angle > 90) && (angle <= 270)) {\n                out.left = true;\n            } else {\n                out.right = true;\n            }\n            break;\n\n        case 2: // 4 dir\n            if ((angle > 45) && (angle <= 135)) {\n                out.down = true;\n            } else if ((angle > 135) && (angle <= 225)) {\n                out.left = true;\n            } else if ((angle > 225) && (angle <= 315)) {\n                out.up = true;\n            } else {\n                out.right = true;\n            }\n            break;\n\n        case 3: // 8 dir\n            if ((angle > 22.5) && (angle <= 67.5)) {\n                out.down = true;\n                out.right = true;\n            } else if ((angle > 67.5) && (angle <= 112.5)) {\n                out.down = true;\n            } else if ((angle > 112.5) && (angle <= 157.5)) {\n                out.down = true;\n                out.left = true;\n            } else if ((angle > 157.5) && (angle <= 202.5)) {\n                out.left = true;\n            } else if ((angle > 202.5) && (angle <= 247.5)) {\n                out.left = true;\n                out.up = true;\n            } else if ((angle > 247.5) && (angle <= 292.5)) {\n                out.up = true;\n            } else if ((angle > 292.5) && (angle <= 337.5)) {\n                out.up = true;\n                out.right = true;\n            } else {\n                out.right = true;\n            }\n            break;\n    }\n\n    return out;\n};\n\nvar tmpOut = {};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (AngleToDirections);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/math/angle/angletodirections/AngleToDirections.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/math/angle/angletodirections/Const.js":
/*!***************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/math/angle/angletodirections/Const.js ***!
  \***************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    'up&down': 0,\n    'left&right': 1,\n    '4dir': 2,\n    '8dir': 3\n});\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/math/angle/angletodirections/Const.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/movement/Movement.js":
/*!**********************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/movement/Movement.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nconst GetValue = Phaser.Utils.Objects.GetValue;\n\nclass Movement {\n    constructor(config) {\n        this.resetFromJSON(config);\n    }\n\n    resetFromJSON(o) {\n        this.setValue(GetValue(o, 'value', 0));\n        this.setSpeed(GetValue(o, 'speed', 0));\n        this.setAcceleration(GetValue(o, 'acceleration', 0));\n        return this;\n    }\n\n    reset() {\n        this.setValue(0);\n        this.setSpeed(0);\n        this.setAcceleration(0);\n    }\n\n    setValue(value) {\n        this.value = value;\n        return this;\n    }\n\n    setSpeed(speed) {\n        // speed == 0 : stop\n        // speed  > 0 : move\n        this.speed = speed;\n        return this;        \n    }\n\n    setAcceleration(acc) {\n        // acc == 0 : constant speed\n        // acc  > 0 : acceleration\n        // acc  < 0 : deceleration\n        this.acceleration = acc;\n        return this;\n    }\n\n    updateSpeed(delta) {\n        // delta in sec\n        if (this.acceleration !== 0) {\n            this.speed += (this.acceleration * delta);\n            if (this.speed < 0) {\n                this.speed = 0;\n            }\n        }\n        return this;\n    }\n\n    getDeltaValue(delta) {\n        // delta in sec\n        this.updateSpeed(delta);\n        if (this.speed <= 0) {\n            return 0;\n        }\n        return (this.speed * delta);\n    }\n\n    update(delta) {\n        // delta in sec\n        this.updateSpeed(delta);\n        if (this.speed > 0) {\n            this.value += this.getDeltaValue(delta);\n        }\n        return this;\n    }\n\n    get isMoving() {\n        return (this.speed > 0);\n    }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (Movement);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/movement/Movement.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/movement/SlowDown.js":
/*!**********************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/movement/SlowDown.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Movement_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Movement.js */ \"./lib/rexui/lib/plugins/utils/movement/Movement.js\");\n\n\nclass SlowDown {\n    constructor() {\n        this.value;\n        this.dir; // true:+, false:-\n        this.movement = new _Movement_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n    }\n\n    init(start, dir, speed, dec, end) {\n        this.value = start;\n        this.end = end;\n        if (end !== undefined) {\n            this.dir = (start < end);\n        } else {\n            this.dir = dir;\n        }\n\n        this.movement\n            .setSpeed(speed)\n            .setAcceleration(-dec);\n        return this;\n    }\n\n    stop() {\n        this.movement.reset();\n    }\n\n    update(delta) {\n        // delta in sec\n        var d = this.movement.getDeltaValue(delta);\n        if (!this.dir) {\n            d = -d;\n        }\n\n        if (this.end === undefined) {\n            this.value += d;\n        } else {\n            if (d === 0) {\n                this.value = this.end;\n            } else {\n                this.value += d;\n                if (this.dir) { // +\n                    if (this.value > this.end) {\n                        this.value = this.end;\n                    }\n                } else { // -\n                    if (this.value < this.end) {\n                        this.value = this.end;\n                    }\n                }\n            }\n        }\n        return this;\n    }\n\n    get isMoving() {\n        return this.movement.isMoving;\n    }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (SlowDown);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/movement/SlowDown.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/object/Clear.js":
/*!*****************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/object/Clear.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar Clear = function (obj) {\n    if (Array.isArray(obj)) {\n        obj.length = 0;\n    } else {\n        for (var key in obj) {\n            delete obj[key];\n        }\n    }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (Clear);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/object/Clear.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/object/Clone.js":
/*!*****************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/object/Clone.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Clear_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Clear.js */ \"./lib/rexui/lib/plugins/utils/object/Clear.js\");\n\n\n/**\n * Shallow Object Clone. Will not out nested objects.\n * @param {object} obj JSON object\n * @param {object} ret JSON object to return, set null to return a new object\n * @returns {object} this object\n */\nvar Clone = function (obj, out) {\n    var objIsArray = Array.isArray(obj);\n\n    if (out === undefined) {\n        out = (objIsArray) ? [] : {};\n    } else {\n        Object(_Clear_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(out);\n    }\n\n    if (objIsArray) {\n        out.length = obj.length;\n        for (var i = 0, cnt = obj.length; i < cnt; i++) {\n            out[i] = obj[i];\n        }\n    } else {\n        for (var key in obj) {\n            out[key] = obj[key];\n        }\n    }\n\n    return out;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Clone);\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/object/Clone.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/object/GetValue.js":
/*!********************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/object/GetValue.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2019 Photon Storm Ltd.\n * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}\n */\n\n//  Source object\n//  The key as a string, or an array of keys, i.e. 'banner', or 'banner.hideBanner'\n//  The default value to use if the key doesn't exist\n\n/**\n * Retrieves a value from an object.\n *\n * @function Phaser.Utils.Objects.GetValue\n * @since 3.0.0\n *\n * @param {object} source - The object to retrieve the value from.\n * @param {string} key - The name of the property to retrieve from the object. If a property is nested, the names of its preceding properties should be separated by a dot (`.`) - `banner.hideBanner` would return the value of the `hideBanner` property from the object stored in the `banner` property of the `source` object.\n * @param {*} defaultValue - The value to return if the `key` isn't found in the `source` object.\n *\n * @return {*} The value of the requested key.\n */\nvar GetValue = function (source, key, defaultValue)\n{\n    if (!source || typeof source === 'number')\n    {\n        return defaultValue;\n    }\n    else if (source.hasOwnProperty(key))\n    {\n        return source[key];\n    }\n    else if (key.indexOf('.') !== -1)\n    {\n        var keys = key.split('.');\n        var parent = source;\n        var value = defaultValue;\n\n        //  Use for loop here so we can break early\n        for (var i = 0; i < keys.length; i++)\n        {\n            if (parent.hasOwnProperty(keys[i]))\n            {\n                //  Yes it has a key property, let's carry on down\n                value = parent[keys[i]];\n\n                parent = parent[keys[i]];\n            }\n            else\n            {\n                //  Can't go any further, so reset to default\n                value = defaultValue;\n                break;\n            }\n        }\n\n        return value;\n    }\n    else\n    {\n        return defaultValue;\n    }\n};\n\nmodule.exports = GetValue;\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/object/GetValue.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/object/IsArray.js":
/*!*******************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/object/IsArray.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar IsArray = function(obj) {\n    return Object.prototype.toString.call(obj) === '[object Array]';\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (IsArray);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/object/IsArray.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/object/IsFunction.js":
/*!**********************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/object/IsFunction.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar IsFunction = function (obj) {    \n    return obj && (typeof(obj) === 'function');\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (IsFunction);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/object/IsFunction.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/object/NOOP.js":
/*!****************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/object/NOOP.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar NOOP = function () {\n    //  NOOP\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (NOOP);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/object/NOOP.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/object/SetValue.js":
/*!********************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/object/SetValue.js ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar IsInValidKey = function (keys) {\n    return (keys == null) || (keys === '') || (keys.length === 0);\n};\n\nvar GetEntry = function (target, keys, defaultEntry) {\n    var entry = target;\n    if (IsInValidKey(keys)) {\n        //entry = root;\n    } else {\n        if (typeof (keys) === 'string') {\n            keys = keys.split('.');\n        }\n\n        var key;\n        for (var i = 0, cnt = keys.length; i < cnt; i++) {\n            key = keys[i];\n            if ((entry[key] == null) || (typeof (entry[key]) !== 'object')) {\n                var newEntry;\n                if (i === cnt - 1) {\n                    if (defaultEntry === undefined) {\n                        newEntry = {};\n                    } else {\n                        newEntry = defaultEntry;\n                    }\n                } else {\n                    newEntry = {};\n                }\n\n                entry[key] = newEntry;\n            }\n\n            entry = entry[key];\n        }\n    }\n\n    return entry;\n};\n\nvar SetValue = function (target, keys, value) {\n    // no object\n    if (typeof (target) !== 'object') {\n        return;\n    }\n\n    // invalid key\n    else if (IsInValidKey(keys)) {\n        // don't erase target\n        if (value == null) {\n            return;\n        }\n        // set target to another object\n        else if (typeof (value) === 'object') {\n            target = value;\n        }\n    } else {\n        if (typeof (keys) === 'string') {\n            keys = keys.split('.');\n        }\n\n        var lastKey = keys.pop();\n        var entry = GetEntry(target, keys);\n        entry[lastKey] = value;\n    }\n\n    return target;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (SetValue);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/object/SetValue.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/promise/WaitEvent.js":
/*!**********************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/promise/WaitEvent.js ***!
  \**********************************************************/
/*! exports provided: WaitEvent, WaitComplete */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"WaitEvent\", function() { return WaitEvent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"WaitComplete\", function() { return WaitComplete; });\nvar WaitEvent = function (eventEmitter, eventName) {\n    return new Promise(function (resolve, reject) {\n        eventEmitter.once(eventName, function () {\n            resolve();\n        });\n    });\n}\n\nvar WaitComplete = function (eventEmitter) {\n    return WaitEvent(eventEmitter, 'complete');\n}\n\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/promise/WaitEvent.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/renderTexture/MakeChildImageGameObject.js":
/*!*******************************************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/renderTexture/MakeChildImageGameObject.js ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar MakeChildImageGameObject = function (parent, key, className) {\n    if (className === undefined) {\n        className = 'image';\n    }\n    if (!parent[key]) {\n        parent[key] = parent.scene.make[className]({\n            add: false,\n            origin: { x: 0, y: 0 },\n        });\n        parent.on('destroy', function () {\n            if (parent[key]) {\n                parent[key].destroy();\n                parent[key] = undefined;\n            }\n        })\n    }\n    return parent[key];\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (MakeChildImageGameObject);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/renderTexture/MakeChildImageGameObject.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/size/GetDisplaySize.js":
/*!************************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/size/GetDisplaySize.js ***!
  \************************************************************/
/*! exports provided: GetDisplayWidth, GetDisplayHeight */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetDisplayWidth\", function() { return GetDisplayWidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetDisplayHeight\", function() { return GetDisplayHeight; });\nvar GetDisplayWidth = function (gameObject) {\n    if (gameObject.displayWidth !== undefined) {\n        return gameObject.displayWidth;\n    } else {\n        return gameObject.width;\n    }\n}\n\nvar GetDisplayHeight = function (gameObject) {\n    if (gameObject.displayHeight !== undefined) {\n        return gameObject.displayHeight;\n    } else {\n        return gameObject.height;\n    }\n}\n\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/size/GetDisplaySize.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/size/ResizeGameObject.js":
/*!**************************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/size/ResizeGameObject.js ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar ResizeGameObject = function (gameObject, newWidth, newHeight) {\n    if (!gameObject || ((newWidth === undefined) && (newHeight === undefined))) {\n        return;\n    }\n    if (gameObject.resize) { // Has `resize` method\n        if (newWidth === undefined) {\n            newWidth = gameObject.width;\n        }\n        if (newHeight === undefined) {\n            newHeight = gameObject.height;\n        }\n        gameObject.resize(newWidth, newHeight);\n    } else { // Set display width/height\n        if (newWidth !== undefined) {\n            gameObject.displayWidth = newWidth;\n        }\n        if (newHeight !== undefined) {\n            gameObject.displayHeight = newHeight;\n        }\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ResizeGameObject);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/size/ResizeGameObject.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/struct/Stack.js":
/*!*****************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/struct/Stack.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nclass Stack {\n    constructor() {\n        this.items = [];\n    }\n\n    destroy() {\n        this.clear();\n        this.items = undefined;\n    }\n\n    pop() {\n        return (this.items.length > 0) ? this.items.pop() : null;\n    }\n\n    push(l) {\n        this.items.push(l);\n        return this;\n    }\n\n    pushMultiple(arr) {\n        this.items.push.apply(this.items, arr);\n        arr.length = 0;\n        return this;\n    }\n\n    clear() {\n        this.items.length = 0;\n        return this;\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Stack);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/struct/Stack.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/system/GetSceneObject.js":
/*!**************************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/system/GetSceneObject.js ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _IsSceneObject_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./IsSceneObject.js */ \"./lib/rexui/lib/plugins/utils/system/IsSceneObject.js\");\n\n\nvar GetSceneObject = function (object) {\n    if (Object(_IsSceneObject_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(object)) { // object = scene\n        return object;\n    } else if (object.scene && Object(_IsSceneObject_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(object.scene)) { // object = game object\n        return object.scene;\n    } else if (object.parent && object.parent.scene && Object(_IsSceneObject_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(object.parent.scene)) { // parent = bob object\n        return object.parent.scene;\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GetSceneObject);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/system/GetSceneObject.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/system/IsGameObject.js":
/*!************************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/system/IsGameObject.js ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nconst GameObjectClass = Phaser.GameObjects.GameObject;\nvar IsGameObject = function (object) {\n    return (object instanceof GameObjectClass);\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (IsGameObject);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/system/IsGameObject.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/system/IsSceneObject.js":
/*!*************************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/system/IsSceneObject.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nconst SceneClass = Phaser.Scene;\nvar IsSceneObject = function (object) {\n    return (object instanceof SceneClass);\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (IsSceneObject);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/system/IsSceneObject.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/text/IsTextGameObject.js":
/*!**************************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/text/IsTextGameObject.js ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nconst TextKlass = Phaser.GameObjects.Text;\n\nvar IsTextGameObject = function (gameObject) {\n    return (gameObject instanceof TextKlass);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (IsTextGameObject);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/text/IsTextGameObject.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/ticktask/TickTask.js":
/*!**********************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/ticktask/TickTask.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _eventemitter_EventEmitterMethods_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../eventemitter/EventEmitterMethods.js */ \"./lib/rexui/lib/plugins/utils/eventemitter/EventEmitterMethods.js\");\n\n\nconst GetValue = Phaser.Utils.Objects.GetValue;\n\nclass TickTask {\n    constructor(parent, config) {\n        this.parent = parent;\n        this._isRunning = false;\n        this.tickingState = false;\n        // Event emitter\n        this.setEventEmitter(GetValue(config, 'eventEmitter', undefined));\n        this.setTickingMode(GetValue(config, 'tickingMode', 1));\n    }\n\n    // override\n    boot() {\n        if ((this.tickingMode === 2) && (!this.tickingState)) {\n            this.startTicking();\n        }\n    }\n\n    // override\n    shutdown() {\n        this.destroyEventEmitter();\n        if (this.tickingState) {\n            this.stopTicking();\n        }        \n    }\n\n    setTickingMode(mode) {\n        if (typeof (mode) === 'string') {\n            mode = TICKINGMODE[mode];\n        }\n        this.tickingMode = mode;\n    }\n\n    // override\n    startTicking() {\n        this.tickingState = true;\n    }\n\n    // override\n    stopTicking() {\n        this.tickingState = false;\n    }\n\n    get isRunning() {\n        return this._isRunning;\n    }\n\n    set isRunning(value) {\n        if (this._isRunning === value) {\n            return;\n        }\n\n        this._isRunning = value;\n        if ((this.tickingMode === 1) && (value != this.tickingState)) {\n            if (value) {\n                this.startTicking();\n            } else {\n                this.stopTicking();\n            }\n        }\n    }\n\n    start() {\n        this.isRunning = true;\n        return this;\n    }\n\n    pause() {\n        this.isRunning = false;\n        return this;\n    }\n\n    resume() {\n        this.isRunning = true;\n        return this;\n    }\n\n    stop() {\n        this.isRunning = false;\n        return this;\n    }\n\n    complete() {\n        this.isRunning = false;\n        this.emit('complete', this.parent, this);\n    }\n}\n\nObject.assign(\n    TickTask.prototype,\n    _eventemitter_EventEmitterMethods_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]\n);\n\nconst TICKINGMODE = {\n    'no': 0,\n    'lazy': 1,\n    'always': 2\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (TickTask);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/ticktask/TickTask.js?");

/***/ }),

/***/ "./lib/rexui/lib/plugins/utils/tween/TweenBase.js":
/*!********************************************************!*\
  !*** ./lib/rexui/lib/plugins/utils/tween/TweenBase.js ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _eventemitter_EventEmitterMethods_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../eventemitter/EventEmitterMethods.js */ \"./lib/rexui/lib/plugins/utils/eventemitter/EventEmitterMethods.js\");\n/* harmony import */ var _system_GetSceneObject_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../system/GetSceneObject.js */ \"./lib/rexui/lib/plugins/utils/system/GetSceneObject.js\");\n/* harmony import */ var _system_IsGameObject_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../system/IsGameObject.js */ \"./lib/rexui/lib/plugins/utils/system/IsGameObject.js\");\n/* harmony import */ var _system_IsSceneObject_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../system/IsSceneObject.js */ \"./lib/rexui/lib/plugins/utils/system/IsSceneObject.js\");\n\n\n\n\n\nconst GetValue = Phaser.Utils.Objects.GetValue;\n\nclass TweenBase {\n    constructor(parent, config) {\n        this.parent = parent;\n        this.scene = Object(_system_GetSceneObject_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(parent);\n\n        /*\n        eventEmitter:\n        - false(default value): Use tween's event emitter.\n        - true: Create a private event emitter.\n        */\n        var eventEmitter = GetValue(config, 'eventEmitter', false);\n        if (eventEmitter === true) {\n            eventEmitter = undefined;\n        }\n        this.setEventEmitter(eventEmitter);\n        this.boot();\n    }\n\n    boot() {\n        if (Object(_system_IsGameObject_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this.parent)) { // Parent is Game Object\n            if (this.parent.once) { // oops, bob object does not have event emitter\n                this.parent.on('destroy', this.destroy, this);\n            }\n        } else if (Object(_system_IsSceneObject_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this.parent)) { // Parent is Scene Object\n            this.parent.events.once('shutdown', this.destroy, this);\n        } else {\n            // ??\n        }\n    }\n\n    shutdown() {\n        this.stop();\n        if (Object(_system_IsSceneObject_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this.parent)) {  // Parent is Scene Object\n            this.parent.events.off('shutdown', this.destroy, this);\n        }\n        this.destroyEventEmitter();\n        this.parent = undefined;\n        this.scene = undefined;\n        return this;\n    }\n\n\n    destroy() {\n        this.shutdown();\n        return this;\n    }\n\n    start(tweenConfig) {\n        if (this.isRunning) {\n            return this;\n        }\n\n        this.tween = this.scene.tweens.add(tweenConfig)\n            .on('complete', this.complete, this);\n        if (this.getEventEmitter() === false) {\n            this.setEventEmitter(this.tween);\n        }\n        return this;\n    }\n\n    restart() {\n        this.stop().start();\n        return this;\n    }\n\n    stop() {\n        if (!this.tween) {\n            return this;\n        }\n\n        if (this.getEventEmitter() === this.tween) {\n            this.setEventEmitter(false);\n        }\n        this.tween.remove();\n        this.tween = undefined;\n        return this;\n    }\n\n    complete() {\n        this.stop();\n        if (this.getEventEmitter()) {\n            this.emit('complete');\n        }\n        return this;\n    }\n\n    get isRunning() {\n        return (!!this.tween);\n    }\n}\n\nObject.assign(\n    TweenBase.prototype,\n    _eventemitter_EventEmitterMethods_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]\n);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (TweenBase);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/plugins/utils/tween/TweenBase.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/ObjectFactory.js":
/*!*******************************************!*\
  !*** ./lib/rexui/lib/ui/ObjectFactory.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nclass ObjectFactory {\n    constructor(scene) {\n        this.scene = scene;\n    }\n\n    static register(type, callback) {\n        ObjectFactory.prototype[type] = callback;\n    }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (ObjectFactory);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/ObjectFactory.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/baseUI/BaseMediator.ts":
/*!*************************************************!*\
  !*** ./lib/rexui/lib/ui/baseUI/BaseMediator.ts ***!
  \*************************************************/
/*! exports provided: BaseMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BaseMediator\", function() { return BaseMediator; });\n/* harmony import */ var _interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../interface/baseUI/UIType */ \"./lib/rexui/lib/ui/interface/baseUI/UIType.ts\");\n\nvar BaseMediator = /** @class */ (function () {\n    function BaseMediator() {\n        /**\n         * \n         */\n        this.mShow = false;\n        this.mUIType = _interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_0__[\"UIType\"].None;\n    }\n    Object.defineProperty(BaseMediator.prototype, \"UIType\", {\n        get: function () {\n            return this.mUIType;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BaseMediator.prototype.updateViewPos = function () {\n        if (!this.mView)\n            return;\n        this.mView.updatePos();\n    };\n    BaseMediator.prototype.tweenExpand = function (show) {\n        if (this.mView)\n            this.mView.tweenExpand(show);\n    };\n    BaseMediator.prototype.getView = function () {\n        return this.mView;\n    };\n    BaseMediator.prototype.hide = function () {\n        this.mShow = false;\n        var view = this.getView();\n        if (view)\n            view.hide();\n    };\n    BaseMediator.prototype.isSceneUI = function () {\n        return false;\n    };\n    BaseMediator.prototype.isShow = function () {\n        return this.mShow;\n    };\n    BaseMediator.prototype.resize = function (width, height) {\n        var view = this.getView();\n        if (view && view.isShow())\n            view.resize(width, height);\n    };\n    BaseMediator.prototype.show = function (param) {\n        this.mShow = true;\n    };\n    BaseMediator.prototype.update = function (param) {\n        var view = this.getView();\n        if (view)\n            view.update(param);\n    };\n    BaseMediator.prototype.setParam = function (param) {\n        this.mParam = param;\n    };\n    BaseMediator.prototype.getParam = function () {\n        return this.mParam;\n    };\n    BaseMediator.prototype.destroy = function () {\n        this.mShow = false;\n        this.mParam = null;\n        if (this.mView) {\n            this.mView.destroy();\n            this.mView = undefined;\n        }\n    };\n    return BaseMediator;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/baseUI/BaseMediator.ts?");

/***/ }),

/***/ "./lib/rexui/lib/ui/baseUI/BaseUI.ts":
/*!*******************************************!*\
  !*** ./lib/rexui/lib/ui/baseUI/BaseUI.ts ***!
  \*******************************************/
/*! exports provided: BaseUI */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BaseUI\", function() { return BaseUI; });\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @class BaseUI\n * @memberof TooqinUI\n * @extends Phaser.GameObjects.Container\n */\nvar BaseUI = /** @class */ (function (_super) {\n    __extends(BaseUI, _super);\n    function BaseUI(scene, dpr, scale) {\n        var _this = _super.call(this, scene) || this;\n        /**\n         * \n         */\n        _this.silent = false;\n        /**\n         * \n         */\n        _this.dpr = 1;\n        /**\n         * \n         */\n        _this.mInitialized = false;\n        _this.interactiveBoo = false;\n        _this.mShow = false;\n        _this.dpr = dpr || 1;\n        _this.scale = scale || 1;\n        _this.soundMap = new Map();\n        _this.disInteractive();\n        return _this;\n    }\n    BaseUI.prototype.setFollow = function (gameObject, froscene, posFunc) {\n        this.mFollow = gameObject;\n        this.mFroscene = froscene;\n        if (posFunc)\n            this.posFunc = posFunc;\n    };\n    BaseUI.prototype.updatePos = function () {\n        if (!this.mShow)\n            return;\n        if (this.posFunc) {\n            this.posFunc({\n                scene: this.mFroscene,\n                followX: this.mFollow.x,\n                followY: this.mFollow.y,\n                baseX: this.x,\n                baseY: this.y\n            });\n        }\n        else {\n            var camera = this.mFroscene.cameras.main;\n            var px = this.x - camera.scrollX;\n            var py = this.y - camera.scrollY;\n            this.x = px;\n            this.y = py;\n        }\n    };\n    BaseUI.prototype.setInteractive = function (shape, callback, dropZone) {\n        this.interactiveBoo = true;\n        _super.prototype.setInteractive.call(this, shape, callback, dropZone);\n        return this;\n    };\n    BaseUI.prototype.disInteractive = function () {\n        this.interactiveBoo = false;\n        _super.prototype.disableInteractive.call(this);\n    };\n    BaseUI.prototype.addListen = function () {\n        // if (!this.mInitialized) return;\n        // let sizeBoo: boolean = true;\n        // if (this.width === 0 || this.height === 0) {\n        //     sizeBoo = false;\n        // }\n        // if (this.interactiveBoo) {\n        //     if (sizeBoo) {\n        //         this.setInteractive(new Phaser.Geom.Rectangle(0, 0, this.width, this.height), Phaser.Geom.Rectangle.Contains);\n        //         this.on(\"pointerup\", this.uiClick, this);\n        //     }\n        //     this.scene.input.off(\"pointerup\", this.sceneClick, this);\n        // } else {\n        //     if (sizeBoo) {\n        //         this.disableInteractive();\n        //         this.off(\"pointerup\", this.uiClick, this);\n        //     }\n        //     this.scene.input.on(\"pointerup\", this.sceneClick, this);\n        // }\n    };\n    BaseUI.prototype.removeListen = function () {\n        // if (!this.mInitialized) return;\n        // this.scene.input.off(\"pointerup\", this.sceneClick, this);\n        // this.off(\"pointerup\", this.uiClick, this);\n    };\n    BaseUI.prototype.playSound = function (config) {\n        if (this.silent)\n            return;\n        // if (config.key === undefined) {\n        //     if (typeof config.urls === \"string\") {\n        //         config.key = config.urls;\n        //     } else {\n        //         config.key = config.urls[0];\n        //     }\n        // }\n        var key = config.key;\n        // const urls = config.urls;\n        if (this.scene.cache.audio.exists(key)) {\n            this.startPlay(config);\n        }\n        else {\n            // this.scene.load.once(`filecomplete-audio-${key}`, () => {\n            //     this.startPlay(config);\n            // }, this);\n            // this.scene.load.audio(key, urls);\n            // this.scene.load.start();\n        }\n    };\n    BaseUI.prototype.startPlay = function (config) {\n        if (this.silent)\n            return;\n        var key = config.key;\n        var sound = this.soundMap.get(key);\n        if (!sound) {\n            sound = this.scene.sound.add(key, config.soundConfig);\n            this.soundMap.set(key, sound);\n        }\n        if (sound.isPlaying) {\n            return;\n        }\n        sound.play();\n    };\n    BaseUI.prototype.stopSound = function () {\n        if (this.silent)\n            return;\n        this.soundMap.forEach(function (sound) {\n            if (sound.isPlaying)\n                sound.stop();\n        });\n    };\n    BaseUI.prototype.pauseSound = function () {\n        if (this.silent)\n            return;\n        this.soundMap.forEach(function (sound) {\n            if (!sound.isPaused)\n                sound.pause();\n        });\n    };\n    BaseUI.prototype.resumeSound = function () {\n        if (this.silent)\n            return;\n        this.soundMap.forEach(function (sound) {\n            if (sound.isPaused)\n                sound.resume();\n        });\n    };\n    BaseUI.prototype.setSilent = function (boo) {\n        this.silent = boo;\n    };\n    BaseUI.prototype.destroy = function () {\n        this.soundMap.forEach(function (sound) {\n            if (sound.isPlaying)\n                sound.stop();\n        });\n        this.mInitialized = false;\n        this.interactiveBoo = false;\n        this.silent = false;\n        this.removeListen();\n        _super.prototype.destroy.call(this);\n    };\n    // protected sceneClick(pointer: Phaser.Input.Pointer) {\n    //     if (Tool.checkPointerContains(this, pointer) && this.checkPointerDelection(pointer)) {\n    //         this.emit(\"uiClick\");\n    //     }\n    // }\n    // protected uiClick(pointer: Phaser.Input.Pointer) {\n    //     if (this.checkPointerDelection(pointer)) {\n    //         this.emit(\"uiClick\");\n    //     }\n    // }\n    BaseUI.prototype.checkPointerDelection = function (pointer) {\n        if (!this.scene)\n            return true;\n        return Math.abs(pointer.downX - pointer.upX) < 10 * this.dpr * this.scale ||\n            Math.abs(pointer.downY - pointer.upY) < 10 * this.dpr * this.scale;\n    };\n    return BaseUI;\n}(Phaser.GameObjects.Container));\n\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/baseUI/BaseUI.ts?");

/***/ }),

/***/ "./lib/rexui/lib/ui/basesizer/AddChildrenMap.js":
/*!******************************************************!*\
  !*** ./lib/rexui/lib/ui/basesizer/AddChildrenMap.js ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/**\n * @function tooqinui.Base.AddChildrenMap\n * @param {*} key \n * @param {*} gameObject \n */\nvar AddChildrenMap = function (key, gameObject) {\n    if (this.childrenMap === undefined) {\n        this.childrenMap = {};\n    }\n    this.childrenMap[key] = gameObject;\n    return this;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (AddChildrenMap);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/basesizer/AddChildrenMap.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/basesizer/BaseSizer.js":
/*!*************************************************!*\
  !*** ./lib/rexui/lib/ui/basesizer/BaseSizer.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _container_Container_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../container/Container.js */ \"./lib/rexui/lib/ui/container/Container.js\");\n/* harmony import */ var _Methods_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Methods.js */ \"./lib/rexui/lib/ui/basesizer/Methods.js\");\n/* harmony import */ var _plugins_utils_size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../plugins/utils/size/GetDisplaySize.js */ \"./lib/rexui/lib/plugins/utils/size/GetDisplaySize.js\");\n\n\n\n\nconst GetValue = Phaser.Utils.Objects.GetValue;\n/**\n * @class Base\n * @memberof tooqinui\n * @constructor\n * @param {Phaser.Scene} scene \n * @param {number} x\n * @param {number} y\n * @param {number} minWidth\n * @param {number} minHeight\n * @param {*} config\n * \n */\nclass Base extends _container_Container_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(scene, x, y, minWidth, minHeight, config) {\n        super(scene, x, y, 2, 2);\n        /**\n         * @name Base.isRexSizer\n         * @type {boolean}\n         */\n        this.isRexSizer = true;\n        this.setMinSize(minWidth, minHeight);\n        this.setName(GetValue(config, 'name', ''));\n        /**\n         * @name Base.rexSizer\n         * @type {*}\n         */\n        this.rexSizer = {};\n        /**\n         * @name Base.backgroundChildren\n         * @type {*}\n         */\n        this.backgroundChildren = undefined;\n\n        var anchorConfig = GetValue(config, 'anchor', undefined);\n        if (anchorConfig) {\n            this.setAnchor(anchorConfig);\n        }\n\n        this.setDraggable(GetValue(config, 'draggable', false));\n    }\n    /**\n     * @method tooqinui.Base#destroy\n     * @param {boolean} fromScene \n     */\n    destroy(fromScene) {\n        //  This Game Object has already been destroyed\n        if (!this.scene) {\n            return;\n        }\n        if (this.backgroundChildren !== undefined) {\n            this.backgroundChildren.length = 0;\n        }\n        super.destroy(fromScene);\n    }\n    /**\n     * @method tooqinui.Base#setMinSize\n     * @param {number} minWidth \n     * @param {number} minHeight \n     */\n    setMinSize(minWidth, minHeight) {\n        this.setMinWidth(minWidth).setMinHeight(minHeight);\n        return this;\n    }\n    /**\n     * @method tooqinui.Base#setMinWidth\n     * @param {number} minWidth \n     */\n    setMinWidth(minWidth) {\n        if (minWidth == null) {\n            minWidth = 0;\n        }\n        this.minWidth = minWidth;\n        return this;\n    }\n    /**\n     * @method tooqinui.Base#setMinHeight\n     * @param {number} minHeight \n     */\n    setMinHeight(minHeight) {\n        if (minHeight == null) {\n            minHeight = 0;\n        }\n        this.minHeight = minHeight;\n        return this;\n    }\n    /**\n     * @name Base.childrenWidth\n     * @type {number}\n     * @return {number}\n     */\n    get childrenWidth() {\n        if (this._childrenWidth === undefined) {\n            this._childrenWidth = this.getChildrenWidth();\n        }\n        return this._childrenWidth;\n    }\n    /**\n     * @name Base.childrenHeight\n     * @type {number}\n     * @return {number}\n     */\n    get childrenHeight() {\n        if (this._childrenHeight === undefined) {\n            this._childrenHeight = this.getChildrenHeight();\n        }\n        return this._childrenHeight;\n    }\n    /**\n     * @name Base.left\n     * @type {number}\n     * @return {number}\n     */\n    get left() {\n        return this.x - (Object(_plugins_utils_size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_2__[\"GetDisplayWidth\"])(this) * this.originX);\n    }\n    /**\n     * \n     */\n    set left(value) {\n        this.x += (value - this.left);\n    }\n    /**\n     * @method tooqinui.Base#alignLeft\n     * @param {number} value \n     */\n    alignLeft(value) {\n        this.left = value;\n        return this;\n    }\n    /**\n     * @name Base.right\n     * @type {number}\n     * @return {number}\n     */\n    get right() {\n        return this.left + Object(_plugins_utils_size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_2__[\"GetDisplayWidth\"])(this);\n    }\n    /**\n     * \n     */\n    set right(value) {\n        this.x += (value - this.right);\n    }\n    /**\n     * @method tooqinui.Base#alignRight\n     * @param {number} value \n     */\n    alignRight(value) {\n        this.right = value;\n        return this;\n    }\n    /**\n     * @name Base.centerX\n     * @type {number}\n     * @return {number}\n     */\n    get centerX() {\n        return this.left + (Object(_plugins_utils_size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_2__[\"GetDisplayWidth\"])(this) / 2);\n    }\n    /**\n     * \n     */\n    set centerX(value) {\n        this.x += (value - this.centerX);\n    }\n    /**\n     * @method tooqinui.Base#alignCenterX\n     * @param {number} value \n     */\n    alignCenterX(value) {\n        this.centerX = value;\n        return this;\n    }\n    /**\n     * @name Base.top\n     * @type {number}\n     * @return {number}\n     */\n    get top() {\n        return this.y - (Object(_plugins_utils_size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_2__[\"GetDisplayHeight\"])(this) * this.originY);\n    }\n    /**\n     * \n     */\n    set top(value) {\n        this.y += (value - this.top);\n    }\n    /**\n     * @method tooqinui.Base#alignTop\n     * @param {number} value \n     */\n    alignTop(value) {\n        this.top = value;\n        return this;\n    }\n    /**\n     * @name Base.bottom\n     * @type {number}\n     * @return {number}\n     */\n    get bottom() {\n        return this.top + Object(_plugins_utils_size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_2__[\"GetDisplayHeight\"])(this);\n    }\n    /**\n     * \n     */\n    set bottom(value) {\n        this.y += (value - this.bottom);\n    }\n    /**\n     * @method tooqinui.Base#alignBottom\n     * @param {number} value \n     */\n    alignBottom(value) {\n        this.bottom = value;\n        return this;\n    }\n    /**\n     * @name Base.centerY\n     * @type {number}\n     * @return {number}\n     */\n    get centerY() {\n        return this.top + (Object(_plugins_utils_size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_2__[\"GetDisplayHeight\"])(this) / 2);\n    }\n    /**\n     * \n     */\n    set centerY(value) {\n        this.y += (value - this.centerY);\n    }\n    /**\n     * @method tooqinui.Base#alignCenterY\n     * @param {number} value \n     */\n    alignCenterY(value) {\n        this.centerY = value;\n        return this;\n    }\n    /**\n     * @method tooqinui.Base#pin\n     * @param {*} gameObject \n     */\n    pin(gameObject) {\n        super.add(gameObject);\n        return this;\n    }\n    /**\n     * @method tooqinui.Base#addBackground\n     * @param {*} gameObject \n     * @param {*} childKey \n     */\n    addBackground(gameObject, childKey) {\n        if (this.backgroundChildren === undefined) {\n            this.backgroundChildren = [];\n        }\n\n        super.add(gameObject);\n\n        var config = this.getSizerConfig(gameObject);\n        config.parent = this;\n        this.backgroundChildren.push(gameObject);\n\n        if (childKey !== undefined) {\n            this.addChildrenMap(childKey, gameObject)\n        }\n        return this;\n    }\n}\n\nObject.assign(\n    Base.prototype,\n    _Methods_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]\n);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Base);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/basesizer/BaseSizer.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/basesizer/DrawBounds.js":
/*!**************************************************!*\
  !*** ./lib/rexui/lib/ui/basesizer/DrawBounds.js ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_AlignConst_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/AlignConst.js */ \"./lib/rexui/lib/ui/utils/AlignConst.js\");\n/* harmony import */ var _plugins_utils_actions_GlobZone_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../plugins/utils/actions/GlobZone.js */ \"./lib/rexui/lib/plugins/utils/actions/GlobZone.js\");\n/* harmony import */ var _plugins_utils_align_align_in_QuickSet_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../plugins/utils/align/align/in/QuickSet.js */ \"./lib/rexui/lib/plugins/utils/align/align/in/QuickSet.js\");\n\n\n\n\nconst GetValue = Phaser.Utils.Objects.GetValue;\n/**\n * @function tooqinui.DrawBounds\n * @param {Phaser.GameObjects.Graphics} graphics \n * @param {*} config \n */\nvar DrawBounds = function (graphics, config) {\n    var scene = graphics.scene;\n\n    var color;\n    var createTextCallback, createTextCallbackScope, textAlign;\n    if (typeof (config) === 'number') {\n        color = config;\n    } else {\n        color = GetValue(config, 'color', 0xffffff);\n        var nameTextConfig = GetValue(config, 'name', false);\n        if (nameTextConfig) {\n            createTextCallback = GetValue(nameTextConfig, 'createTextCallback', DefaultCreateTextCallback);\n            createTextCallbackScope = GetValue(nameTextConfig, 'createTextCallbackScope', undefined);\n            textAlign = GetValue(nameTextConfig, 'align', 'left-top');\n            if (typeof (textAlign) === 'string') {\n                textAlign = _utils_AlignConst_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"][textAlign];\n            }\n        }\n    }\n\n    if (createTextCallback && !graphics.children) {\n        graphics.children = scene.add.group();\n        graphics.on('destroy', function () {\n            graphics.children.destroy();\n            graphics.children = undefined;\n        })\n        var graphicsClear = graphics.clear.bind(graphics);\n        graphics.clear = function () {\n            graphicsClear();\n            graphics.children.clear(false, true);\n        }\n    }\n\n    var children = this.getAllChildren([this]), child;\n    var nameText;\n    for (var i = 0, cnt = children.length; i < cnt; i++) {\n        child = children[i];\n        if (!child.getBounds) {\n            continue;\n        }\n        if (color) {\n            graphics\n                .lineStyle(1, color)\n                .strokeRectShape(child.getBounds(globRect));\n        }\n\n        if (child.name && createTextCallback) {\n            if (createTextCallbackScope) {\n                nameText = createTextCallback.call(createTextCallbackScope, scene);\n            } else {\n                nameText = createTextCallback(scene);\n            }\n            if (nameText) {\n                nameText.setText(child.name);\n                graphics.children.add(nameText);\n\n                _plugins_utils_actions_GlobZone_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].setPosition(globRect.x, globRect.y).setSize(globRect.width, globRect.height);\n                Object(_plugins_utils_align_align_in_QuickSet_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(nameText, _plugins_utils_actions_GlobZone_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], textAlign);\n            }\n        }\n    }\n    return this;\n}\n/**\n * @function tooqinui.DefaultCreateTextCallback\n * @param {Phaser.Scene} scene \n * @param {*} child \n * @param {Phaser.Geom.Rectangle} childBoundsRect \n * @return {Phaser.GameObjects.Text}\n */\nvar DefaultCreateTextCallback = function (scene, child, childBoundsRect) {\n    return scene.add.text(0, 0, '');\n}\n\nvar globRect = new Phaser.Geom.Rectangle();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (DrawBounds);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/basesizer/DrawBounds.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/basesizer/FadeMethods.js":
/*!***************************************************!*\
  !*** ./lib/rexui/lib/ui/basesizer/FadeMethods.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _plugins_fade_in_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../plugins/fade-in.js */ \"./lib/rexui/lib/plugins/fade-in.js\");\n/* harmony import */ var _plugins_fade_out_destroy_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../plugins/fade-out-destroy.js */ \"./lib/rexui/lib/plugins/fade-out-destroy.js\");\n/* harmony import */ var _plugins_utils_promise_WaitEvent_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../plugins/utils/promise/WaitEvent.js */ \"./lib/rexui/lib/plugins/utils/promise/WaitEvent.js\");\n\n\n\n\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\nconst GetValue = Phaser.Utils.Objects.GetValue;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    /**\n     * @function tooqinui.FadeMethods\n     * @param {number} duration \n     * @param {number} alpha \n     */\n    fadeIn(duration, alpha) {\n        if (IsPlainObject(duration)) {\n            var config = duration;\n            duration = GetValue(config, 'duration', undefined);\n        }\n\n        this._fade = Object(_plugins_fade_in_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, duration, alpha, this._fade);\n        this._fade.once('complete', function () {\n            this.emit('fadein.complete', this);\n        }, this);\n        return this;\n    },\n    /**\n     * @function tooqinui.fadeInPromoise\n     * @param {number} duration \n     * @param {number} alpha \n     * @return {Promise<*>}\n     */\n    fadeInPromoise(duration, alpha) {\n        this.fadeIn(duration, alpha);\n        return Object(_plugins_utils_promise_WaitEvent_js__WEBPACK_IMPORTED_MODULE_2__[\"WaitComplete\"])(this._fade);\n    },\n    /**\n     * @function tooqinui.fadeOutDestroy\n     * @param {number} duration \n     * @param {*} destroyMode \n     */\n    fadeOutDestroy(duration, destroyMode) {\n        if (IsPlainObject(duration)) {\n            var config = duration;\n            duration = GetValue(config, 'duration', undefined);\n            destroyMode = GetValue(config, 'destroy', undefined);\n        }\n        this._fade = Object(_plugins_fade_out_destroy_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this, duration, destroyMode, this._fade);\n        this._fade.once('complete', function () {\n            this.emit('fadeout.complete', this);\n        }, this);\n        return this;\n    },\n    /**\n     * @function tooqinui.fadeOutDestroyPromise\n     * @param {number} duration \n     * @param {*} destroyMode \n     * @return {Promise<*>}\n     */\n    fadeOutDestroyPromise(duration, destroyMode) {\n        this.fadeOutDestroy(duration, destroyMode);\n        return Object(_plugins_utils_promise_WaitEvent_js__WEBPACK_IMPORTED_MODULE_2__[\"WaitComplete\"])(this._fade);\n    },\n    /**\n     * @function tooqinui.fadeOut\n     * @param {number} duration \n     */\n    fadeOut(duration) {\n        this.fadeOutDestroy(duration, false);\n        return this;\n    },\n    /**\n     * @function tooqinui.fadeOutPromise\n     * @param {number} duration \n     * @return {Promise<*>}\n     */\n    fadeOutPromise(duration) {\n        this.fadeOut(duration);\n        return Object(_plugins_utils_promise_WaitEvent_js__WEBPACK_IMPORTED_MODULE_2__[\"WaitComplete\"])(this._fade);\n    }\n});\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/basesizer/FadeMethods.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/basesizer/GetAllChildrenSizers.js":
/*!************************************************************!*\
  !*** ./lib/rexui/lib/ui/basesizer/GetAllChildrenSizers.js ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/**\n * @function tooqinui.GetAllChildrenSizers\n * @param {array} out \n * @return {array}\n */\nvar GetAllChildrenSizers = function (out) {\n    if (out === undefined) {\n        out = [];\n    }\n    var startIdx = out.length;\n    var children = this.getChildrenSizers(out);\n    var endIdx = out.length;\n    for (var i = startIdx; i < endIdx; i++) {\n        children[i].getAllChildrenSizers(out);\n    }\n\n    return out;\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (GetAllChildrenSizers);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/basesizer/GetAllChildrenSizers.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/basesizer/GetChildrenHeight.js":
/*!*********************************************************!*\
  !*** ./lib/rexui/lib/ui/basesizer/GetChildrenHeight.js ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// Override\n/**\n * @function tooqinui.GetChildrenHeight\n * @return {number}\n */\nvar GetChildrenHeight = function () {\n    return 0;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GetChildrenHeight);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/basesizer/GetChildrenHeight.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/basesizer/GetChildrenSizers.js":
/*!*********************************************************!*\
  !*** ./lib/rexui/lib/ui/basesizer/GetChildrenSizers.js ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// Override\n/**\n * @function tooqinui.GetChildrenSizers\n * @param {array} out \n * @return {array}\n */\nvar GetChildrenSizers = function(out) {\n    if (out === undefined) {\n        out = [];\n    }\n    return out;\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (GetChildrenSizers);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/basesizer/GetChildrenSizers.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/basesizer/GetChildrenWidth.js":
/*!********************************************************!*\
  !*** ./lib/rexui/lib/ui/basesizer/GetChildrenWidth.js ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// Override\n/**\n * @function tooqinui.GetChildrenWidth\n * @return {number}\n */\nvar GetChildrenWidth = function () {\n    return 0;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GetChildrenWidth);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/basesizer/GetChildrenWidth.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/basesizer/GetElement.js":
/*!**************************************************!*\
  !*** ./lib/rexui/lib/ui/basesizer/GetElement.js ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _plugins_utils_object_IsArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../plugins/utils/object/IsArray.js */ \"./lib/rexui/lib/plugins/utils/object/IsArray.js\");\n\n\n/**\n * @function tooqinui.GetElement\n * @param {string[]} mapNameList \n * @return {*}\n */\nvar GetElement = function (mapNameList) {\n    if (this.childrenMap === undefined) {\n        return undefined;\n    }\n\n    if (typeof (mapNameList) === 'string') {\n        mapNameList = mapNameList.split('.');\n    }\n    if (mapNameList.length === 0) {\n        return undefined;\n    }\n\n    var name = mapNameList.shift(),\n        element;\n    if (name.charAt(0) === '#') {\n        name = name.substring(1);\n        element = GetElementByName(this.childrenMap, name);\n    } else if (name.indexOf('[') === (-1)) {\n        element = this.childrenMap[name];\n    } else { // name[]\n        var innerMatch = name.match(RE_OBJ);\n        if (innerMatch != null) {\n            var elements = this.childrenMap[innerMatch[1]];\n            if (elements) {\n                element = elements[innerMatch[2]];\n            }\n        }\n    }\n\n    if (mapNameList.length === 0) {\n        return element;\n    } else if (element && element.childrenMap) {\n        return element.getElement(mapNameList);\n    } else {\n        return null;\n    }\n};\n/**\n * @function tooqinui.GetElementByName\n * @param {*} children \n * @param {string} name \n * @return {*}\n */\nvar GetElementByName = function (children, name) {\n    var child;\n    if (Object(_plugins_utils_object_IsArray_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(children)) {\n        for (var i = 0, cnt = children.length; i < cnt; i++) {\n            child = TestName(children[i], name);\n            if (child) {\n                return child;\n            }\n        }\n    } else { // Is plain object\n        for (var key in children) {\n            child = TestName(children[key], name);\n            if (child) {\n                return child;\n            }\n        }\n    }\n}\n/**\n * @function tooqinui.TestName\n * @param {*} gameObject \n * @param {string} name \n * @return {*}\n */\nvar TestName = function (gameObject, name) {\n    if (!gameObject) {\n        return null;\n    } else if (gameObject.hasOwnProperty('name')) {\n        return (gameObject.name === name) ? gameObject : null;\n    } else { // Array, or plain object\n        return GetElementByName(gameObject, name);\n    }\n}\n\nconst RE_OBJ = /(\\S+)\\[(\\d+)\\]/i;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GetElement);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/basesizer/GetElement.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/basesizer/GetParentSizer.js":
/*!******************************************************!*\
  !*** ./lib/rexui/lib/ui/basesizer/GetParentSizer.js ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_GetParentSizer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/GetParentSizer.js */ \"./lib/rexui/lib/ui/utils/GetParentSizer.js\");\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function () {\n    return Object(_utils_GetParentSizer_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this);\n});\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/basesizer/GetParentSizer.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/basesizer/GetTopmostSizer.js":
/*!*******************************************************!*\
  !*** ./lib/rexui/lib/ui/basesizer/GetTopmostSizer.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_GetTopmostSizer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/GetTopmostSizer.js */ \"./lib/rexui/lib/ui/utils/GetTopmostSizer.js\");\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function () {\n    return Object(_utils_GetTopmostSizer_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this);\n});\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/basesizer/GetTopmostSizer.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/basesizer/IsInTouching.js":
/*!****************************************************!*\
  !*** ./lib/rexui/lib/ui/basesizer/IsInTouching.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _plugins_utils_input_IsPointerInBounds_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../plugins/utils/input/IsPointerInBounds.js */ \"./lib/rexui/lib/plugins/utils/input/IsPointerInBounds.js\");\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (pointer) {\n    /**\n     * @function tooqinui.IsInTouching\n     * @param {*} gameObject \n     * @param {Phaser.Input.Pointer} pointer \n     * @return {boolean}\n     */\n    return Object(_plugins_utils_input_IsPointerInBounds_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, pointer);\n});\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/basesizer/IsInTouching.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/basesizer/Layout.js":
/*!**********************************************!*\
  !*** ./lib/rexui/lib/ui/basesizer/Layout.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// Override\n/**\n * @function tooqinui.Layout\n * @param {*} parent \n * @param {number} newWidth \n * @param {number} newHeight \n * @return {*}\n */\nvar Layout = function (parent, newWidth, newHeight) {\n    if (this.rexSizer.hidden) {\n        return this;\n    }\n\n    this.preLayout()\n\n    // ...\n\n    return this.postLayout();\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (Layout);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/basesizer/Layout.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/basesizer/LayoutBackgrounds.js":
/*!*********************************************************!*\
  !*** ./lib/rexui/lib/ui/basesizer/LayoutBackgrounds.js ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _plugins_utils_size_ResizeGameObject_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../plugins/utils/size/ResizeGameObject.js */ \"./lib/rexui/lib/plugins/utils/size/ResizeGameObject.js\");\n/* harmony import */ var _plugins_utils_actions_GlobZone_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../plugins/utils/actions/GlobZone.js */ \"./lib/rexui/lib/plugins/utils/actions/GlobZone.js\");\n/* harmony import */ var _plugins_utils_align_align_in_QuickSet_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../plugins/utils/align/align/in/QuickSet.js */ \"./lib/rexui/lib/plugins/utils/align/align/in/QuickSet.js\");\n\n\n\n\nconst ALIGN_CENTER = Phaser.Display.Align.CENTER;\n/**\n * @function tooqinui.LayoutBackgrounds\n */\nvar LayoutBackgrounds = function () {\n    if (this.backgroundChildren === undefined) {\n        return;\n    }\n    var backgrounds = this.backgroundChildren;\n\n    var child;\n    var x = this.left,\n        y = this.top,\n        width = this.width,\n        height = this.height;\n\n    for (var i = 0, cnt = backgrounds.length; i < cnt; i++) {\n        child = backgrounds[i];\n        if (child.rexSizer.hidden) {\n            continue;\n        }\n        Object(_plugins_utils_size_ResizeGameObject_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(child, width, height);\n        _plugins_utils_actions_GlobZone_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].setPosition(x, y).setSize(width, height);\n        Object(_plugins_utils_align_align_in_QuickSet_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(child, _plugins_utils_actions_GlobZone_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], ALIGN_CENTER);\n        this.resetChildPositionState(child);\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (LayoutBackgrounds);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/basesizer/LayoutBackgrounds.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/basesizer/Methods.js":
/*!***********************************************!*\
  !*** ./lib/rexui/lib/ui/basesizer/Methods.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_GetSizerConfig_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/GetSizerConfig.js */ \"./lib/rexui/lib/ui/utils/GetSizerConfig.js\");\n/* harmony import */ var _PushIntoBounds_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PushIntoBounds.js */ \"./lib/rexui/lib/ui/basesizer/PushIntoBounds.js\");\n/* harmony import */ var _DrawBounds_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./DrawBounds.js */ \"./lib/rexui/lib/ui/basesizer/DrawBounds.js\");\n/* harmony import */ var _AddChildrenMap_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./AddChildrenMap.js */ \"./lib/rexui/lib/ui/basesizer/AddChildrenMap.js\");\n/* harmony import */ var _GetElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./GetElement.js */ \"./lib/rexui/lib/ui/basesizer/GetElement.js\");\n/* harmony import */ var _GetChildrenWidth_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./GetChildrenWidth.js */ \"./lib/rexui/lib/ui/basesizer/GetChildrenWidth.js\");\n/* harmony import */ var _GetChildrenHeight_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./GetChildrenHeight.js */ \"./lib/rexui/lib/ui/basesizer/GetChildrenHeight.js\");\n/* harmony import */ var _GetAllChildrenSizers_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./GetAllChildrenSizers.js */ \"./lib/rexui/lib/ui/basesizer/GetAllChildrenSizers.js\");\n/* harmony import */ var _GetChildrenSizers_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./GetChildrenSizers.js */ \"./lib/rexui/lib/ui/basesizer/GetChildrenSizers.js\");\n/* harmony import */ var _PreLayout_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./PreLayout.js */ \"./lib/rexui/lib/ui/basesizer/PreLayout.js\");\n/* harmony import */ var _Layout_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Layout.js */ \"./lib/rexui/lib/ui/basesizer/Layout.js\");\n/* harmony import */ var _PostLayout_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./PostLayout.js */ \"./lib/rexui/lib/ui/basesizer/PostLayout.js\");\n/* harmony import */ var _layoutInit_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./_layoutInit.js */ \"./lib/rexui/lib/ui/basesizer/_layoutInit.js\");\n/* harmony import */ var _SetAnchor_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./SetAnchor.js */ \"./lib/rexui/lib/ui/basesizer/SetAnchor.js\");\n/* harmony import */ var _ScaleMethods_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./ScaleMethods.js */ \"./lib/rexui/lib/ui/basesizer/ScaleMethods.js\");\n/* harmony import */ var _FadeMethods_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./FadeMethods.js */ \"./lib/rexui/lib/ui/basesizer/FadeMethods.js\");\n/* harmony import */ var _IsInTouching_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./IsInTouching.js */ \"./lib/rexui/lib/ui/basesizer/IsInTouching.js\");\n/* harmony import */ var _GetParentSizer_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./GetParentSizer.js */ \"./lib/rexui/lib/ui/basesizer/GetParentSizer.js\");\n/* harmony import */ var _GetTopmostSizer_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./GetTopmostSizer.js */ \"./lib/rexui/lib/ui/basesizer/GetTopmostSizer.js\");\n/* harmony import */ var _LayoutBackgrounds_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./LayoutBackgrounds.js */ \"./lib/rexui/lib/ui/basesizer/LayoutBackgrounds.js\");\n/* harmony import */ var _SetDraggable_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./SetDraggable.js */ \"./lib/rexui/lib/ui/basesizer/SetDraggable.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar methods = {\n    getSizerConfig: _utils_GetSizerConfig_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    pushIntoBounds: _PushIntoBounds_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n    drawBounds: _DrawBounds_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n    getChildrenWidth: _GetChildrenWidth_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\n    getChildrenHeight: _GetChildrenHeight_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\n    addChildrenMap: _AddChildrenMap_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n    addElement: _AddChildrenMap_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n    getElement: _GetElement_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n    getAllChildrenSizers: _GetAllChildrenSizers_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"],\n    getChildrenSizers: _GetChildrenSizers_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"],\n    preLayout: _PreLayout_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"],\n    _layoutInit: _layoutInit_js__WEBPACK_IMPORTED_MODULE_12__[\"default\"],\n    layout: _Layout_js__WEBPACK_IMPORTED_MODULE_10__[\"default\"],\n    layoutBackgrounds: _LayoutBackgrounds_js__WEBPACK_IMPORTED_MODULE_19__[\"default\"],\n    postLayout: _PostLayout_js__WEBPACK_IMPORTED_MODULE_11__[\"default\"],\n\n    setAnchor: _SetAnchor_js__WEBPACK_IMPORTED_MODULE_13__[\"default\"],\n    isInTouching: _IsInTouching_js__WEBPACK_IMPORTED_MODULE_16__[\"default\"],\n    getParentSizer: _GetParentSizer_js__WEBPACK_IMPORTED_MODULE_17__[\"default\"],\n    getTopmostSizer: _GetTopmostSizer_js__WEBPACK_IMPORTED_MODULE_18__[\"default\"],\n    setDraggable: _SetDraggable_js__WEBPACK_IMPORTED_MODULE_20__[\"default\"],\n};\n\nObject.assign(\n    methods,\n    _FadeMethods_js__WEBPACK_IMPORTED_MODULE_15__[\"default\"],\n    _ScaleMethods_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"]\n);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (methods);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/basesizer/Methods.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/basesizer/PostLayout.js":
/*!**************************************************!*\
  !*** ./lib/rexui/lib/ui/basesizer/PostLayout.js ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/**\n * @function tooqinui.PostLayout\n * @param {*} parent \n * @param {number} newWidth \n * @param {number} newHeight \n */\nvar PostLayout = function (parent, newWidth, newHeight) {\n    if (this._anchor) {\n        this._anchor.updatePosition();\n    }\n    return this;\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (PostLayout);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/basesizer/PostLayout.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/basesizer/PreLayout.js":
/*!*************************************************!*\
  !*** ./lib/rexui/lib/ui/basesizer/PreLayout.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/**\n * @function tooqinui.PreLayout\n * @param {*} parent \n */\nvar LayoutInit = function (parent) {\n    if (parent) {\n        return;\n    }\n\n    var children = this.getAllChildrenSizers([this]);\n    var child, parent;\n    for (var i = 0, cnt = children.length; i < cnt; i++) {\n        child = children[i];\n        if (!child.rexSizer) {\n            continue;\n        }\n        child._layoutInit();\n    }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (LayoutInit);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/basesizer/PreLayout.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/basesizer/PushIntoBounds.js":
/*!******************************************************!*\
  !*** ./lib/rexui/lib/ui/basesizer/PushIntoBounds.js ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _plugins_utils_defaultbounds_GetDefaultBounds_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../plugins/utils/defaultbounds/GetDefaultBounds.js */ \"./lib/rexui/lib/plugins/utils/defaultbounds/GetDefaultBounds.js\");\n\n/**\n * @function tooqinui.PushIntoBounds\n * @param {Phaser.Geom.Rectangle} bounds \n */\nvar PushIntoBounds = function (bounds) {\n    if (bounds === undefined) {\n        bounds = Object(_plugins_utils_defaultbounds_GetDefaultBounds_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this.scene);\n    }\n\n    this.left = Math.max(this.left, bounds.left);\n    this.right = Math.min(this.right, bounds.right);\n    this.top = Math.max(this.top, bounds.top);\n    this.bottom = Math.min(this.bottom, bounds.bottom);\n    return this;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (PushIntoBounds);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/basesizer/PushIntoBounds.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/basesizer/ScaleMethods.js":
/*!****************************************************!*\
  !*** ./lib/rexui/lib/ui/basesizer/ScaleMethods.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _plugins_popup_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../plugins/popup.js */ \"./lib/rexui/lib/plugins/popup.js\");\n/* harmony import */ var _plugins_scale_down_destroy_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../plugins/scale-down-destroy.js */ \"./lib/rexui/lib/plugins/scale-down-destroy.js\");\n/* harmony import */ var _plugins_utils_promise_WaitEvent_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../plugins/utils/promise/WaitEvent.js */ \"./lib/rexui/lib/plugins/utils/promise/WaitEvent.js\");\n\n\n\n\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\nconst GetValue = Phaser.Utils.Objects.GetValue;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    /**\n     * @function tooqinui.popUp\n     * @param {number} duration \n     * @param {number} orientation \n     * @param {*} ease \n     */\n    popUp(duration, orientation, ease) {\n        if (IsPlainObject(duration)) {\n            var config = duration;\n            duration = GetValue(config, 'duration', undefined);\n            orientation = GetValue(config, 'orientation', undefined);\n            ease = GetValue(config, 'ease', undefined);\n        }\n\n        this._scale = Object(_plugins_popup_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, duration, orientation, ease, this._scale);\n        this._scale.once('complete', function () {\n            this.emit('popup.complete', this);\n        }, this);\n        return this;\n    },\n    /**\n     * @function tooqinui.popUpPromise\n     * @param {number} duration \n     * @param {number} orientation \n     * @param {*} ease \n     * @return {Promise<*>}\n     */\n    popUpPromise(duration, orientation, ease) {\n        this.popUp(duration, orientation, ease);\n        return Object(_plugins_utils_promise_WaitEvent_js__WEBPACK_IMPORTED_MODULE_2__[\"WaitComplete\"])(this._scale);\n    },\n    /**\n     * @function tooqinui.scaleDownDestroy\n     * @param {number} duration \n     * @param {number} orientation \n     * @param {*} ease \n     * @param {*} destroyMode \n     */\n    scaleDownDestroy(duration, orientation, ease, destroyMode) {\n        if (IsPlainObject(duration)) {\n            var config = duration;\n            duration = GetValue(config, 'duration', undefined);\n            orientation = GetValue(config, 'orientation', undefined);\n            ease = GetValue(config, 'ease', undefined);\n            destroyMode = GetValue(config, 'destroy', undefined);\n        }\n\n        this._scale = Object(_plugins_scale_down_destroy_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this, duration, orientation, ease, destroyMode, this._scale);\n        this._scale.once('complete', function () {\n            this.emit('scaledown.complete', this);\n        }, this);\n        return this;\n    },\n    /**\n     * @function tooqinui.scaleDownDestroyPromise\n     * @param {number} duration \n     * @param {number} orientation \n     * @param {*} ease \n     * @param {*} destroyMode \n     * @return {Promise<*>}\n     */\n    scaleDownDestroyPromise(duration, orientation, ease, destroyMode) {\n        this.scaleDownDestroy(duration, orientation, ease, destroyMode);\n        return Object(_plugins_utils_promise_WaitEvent_js__WEBPACK_IMPORTED_MODULE_2__[\"WaitComplete\"])(this._scale);\n    },\n    /**\n     * @function tooqinui.scaleDown\n     * @param {number} duration \n     * @param {number} orientation \n     * @param {*} ease \n     */\n    scaleDown(duration, orientation, ease) {\n        this.scaleDownDestroy(duration, orientation, ease, false);\n        return this;\n    },\n    /**\n     * @function tooqinui.scaleDownPromise\n     * @param {number} duration \n     * @param {number} orientation \n     * @param {*} ease \n     * @return {Promise<*>}\n     */\n    scaleDownPromise(duration, orientation, ease) {\n        this.scaleDown(duration, orientation, ease);\n        return Object(_plugins_utils_promise_WaitEvent_js__WEBPACK_IMPORTED_MODULE_2__[\"WaitComplete\"])(this._scale);\n    }\n\n\n});\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/basesizer/ScaleMethods.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/basesizer/SetAnchor.js":
/*!*************************************************!*\
  !*** ./lib/rexui/lib/ui/basesizer/SetAnchor.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _plugins_behaviors_anchor_Anchor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../plugins/behaviors/anchor/Anchor.js */ \"./lib/rexui/lib/plugins/behaviors/anchor/Anchor.js\");\n\n/**\n * @function tooqinui.SetAnchor\n * @param {*} config \n */\nvar SetAnchor = function (config) {\n    if (this._anchor === undefined) {\n        this._anchor = new _plugins_behaviors_anchor_Anchor_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this, config);\n    } else {\n        this._anchor.resetFromJSON(config)\n    }\n    return this;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (SetAnchor);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/basesizer/SetAnchor.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/basesizer/SetDraggable.js":
/*!****************************************************!*\
  !*** ./lib/rexui/lib/ui/basesizer/SetDraggable.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/**\n * @function tooqinui.SetDraggable\n * @param {*} senser \n * @param {boolean} draggable \n */\nvar SetDraggable = function (senser, draggable) {\n    var senserType = typeof (senser);\n    if (senserType === 'string') {\n        senser = this.getElement(senser);\n    } else if ((senser === undefined) || (senserType != 'object')) {\n        draggable = senser;\n        senser = this;\n    }\n    if (draggable === undefined) {\n        draggable = true;\n    }\n\n    if (senser.input && senser.input.hasOwnProperty('draggable')) {\n        // Draggable is already registered\n        senser.input.draggable = draggable;\n    } else if (draggable) {\n        // Register draggable\n        senser.setInteractive();\n        senser.scene.input.setDraggable(senser);\n        senser.on('drag', onDrag, this);\n    } else {\n        // Not draggable and draggable is not registered yet, do nothing\n    }\n    return this;\n}\n/**\n * @function tooqinui.onDrag\n * @param {Phaser.Input.Pointer} pointer \n * @param {number} dragX \n * @param {number} dragY \n */\nvar onDrag = function (pointer, dragX, dragY) {\n    var topmostParent = this.getTopmostSizer();\n    topmostParent.x += (dragX - this.x);\n    topmostParent.y += (dragY - this.y);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (SetDraggable);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/basesizer/SetDraggable.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/basesizer/_layoutInit.js":
/*!***************************************************!*\
  !*** ./lib/rexui/lib/ui/basesizer/_layoutInit.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// Override\nvar _layoutInit = function () {}\n/* harmony default export */ __webpack_exports__[\"default\"] = (_layoutInit);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/basesizer/_layoutInit.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/bbcodetext/BBCodeText.js":
/*!***************************************************!*\
  !*** ./lib/rexui/lib/ui/bbcodetext/BBCodeText.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _plugins_gameobjects_text_bbcodetext_BBCodeText_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../plugins/gameobjects/text/bbcodetext/BBCodeText.js */ \"./lib/rexui/lib/plugins/gameobjects/text/bbcodetext/BBCodeText.js\");\n\n/**\n * @function tooqinui.BBCodeText\n * @param {Phaser.Scene} scene \n * @param {number} x \n * @param {number} y \n * @param {Phaser.GameObjects.Text} text \n * @param {*} style \n * @return {*}\n */\nvar BBCodeText = function (scene, x, y, text, style) {\n    return new _plugins_gameobjects_text_bbcodetext_BBCodeText_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](scene, x, y, text, style);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (BBCodeText);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/bbcodetext/BBCodeText.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/bbcodetext/Factory.js":
/*!************************************************!*\
  !*** ./lib/rexui/lib/ui/bbcodetext/Factory.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _BBCodeText_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BBCodeText.js */ \"./lib/rexui/lib/ui/bbcodetext/BBCodeText.js\");\n/* harmony import */ var _ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ObjectFactory.js */ \"./lib/rexui/lib/ui/ObjectFactory.js\");\n/* harmony import */ var _plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../plugins/utils/object/SetValue.js */ \"./lib/rexui/lib/plugins/utils/object/SetValue.js\");\n\n\n\n\n_ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].register('BBCodeText', function (x, y, text, style) {\n    var gameObject = new _BBCodeText_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.scene, x, y, text, style);\n    this.scene.add.existing(gameObject);\n    return gameObject;\n});\n\nObject(_plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(window, 'RexPlugins.UI.BBCodeText', _BBCodeText_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_BBCodeText_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/bbcodetext/Factory.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/button/Button.ts":
/*!*******************************************!*\
  !*** ./lib/rexui/lib/ui/button/Button.ts ***!
  \*******************************************/
/*! exports provided: ButtonState, ButtonSoundKey, Button */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ButtonState\", function() { return ButtonState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ButtonSoundKey\", function() { return ButtonSoundKey; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Button\", function() { return Button; });\n/* harmony import */ var _baseUI_BaseUI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../baseUI/BaseUI */ \"./lib/rexui/lib/ui/baseUI/BaseUI.ts\");\n/* harmony import */ var _interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../interface/event/MouseEvent */ \"./lib/rexui/lib/ui/interface/event/MouseEvent.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar ButtonState;\n(function (ButtonState) {\n    ButtonState[\"Normal\"] = \"normal\";\n    ButtonState[\"Over\"] = \"over\";\n    ButtonState[\"Select\"] = \"select\";\n    ButtonState[\"Disable\"] = \"disable\";\n})(ButtonState || (ButtonState = {}));\nvar ButtonSoundKey;\n(function (ButtonSoundKey) {\n})(ButtonSoundKey || (ButtonSoundKey = {}));\nvar GetValue = Phaser.Utils.Objects.GetValue;\nvar Button = /** @class */ (function (_super) {\n    __extends(Button, _super);\n    function Button(scene, key, frame, downFrame, text, music, dpr, scale, nineConfig) {\n        var _this = _super.call(this, scene) || this;\n        _this.mDownTime = 0;\n        _this.mPressDelay = 1000;\n        _this.mIsMove = false;\n        _this.dpr = dpr || 1;\n        _this.scale = scale || 1;\n        _this.soundGroup = {\n            up: {\n                key: \"click\",\n            }\n        };\n        Object.assign(_this.soundGroup, music);\n        _this.ninePatchConfig = nineConfig;\n        _this.mKey = key;\n        _this.mFrame = frame;\n        _this.mDownFrame = downFrame;\n        _this.createBackground();\n        if (text) {\n            _this.mText = _this.scene.make.text(undefined, false)\n                .setOrigin(0.5, 0.5)\n                .setText(text)\n                .setSize(_this.mBackground.width, _this.mBackground.height);\n            _this.add(_this.mText);\n        }\n        _this.setInteractive();\n        _this.addListen();\n        return _this;\n    }\n    Object.defineProperty(Button.prototype, \"background\", {\n        get: function () {\n            return this.mBackground;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Button.prototype, \"text\", {\n        get: function () {\n            return this.mText;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Button.prototype.addListen = function () {\n        this.removeListen();\n        this.on(\"pointerdown\", this.onPointerDownHandler, this);\n        this.on(\"pointerup\", this.onPointerUpHandler, this);\n        this.on(\"pointermove\", this.onPointerMoveHandler, this);\n    };\n    Button.prototype.removeListen = function () {\n        this.off(\"pointerdown\", this.onPointerDownHandler, this);\n        this.off(\"pointerup\", this.onPointerUpHandler, this);\n        this.off(\"pointermove\", this.onPointerMoveHandler, this);\n    };\n    Object.defineProperty(Button.prototype, \"enable\", {\n        set: function (value) {\n            if (value) {\n                this.mBackground.clearTint();\n                this.mText.clearTint();\n                this.setInteractive();\n            }\n            else {\n                this.mBackground.setTintFill(0x666666);\n                this.mText.setTintFill(0x777777);\n                this.removeInteractive();\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Button.prototype.mute = function (boo) {\n        this.silent = boo;\n    };\n    Button.prototype.changeNormal = function () {\n        this.setBgFrame(this.mFrame);\n    };\n    Button.prototype.changeDown = function () {\n        if (this.mDownFrame) {\n            this.setBgFrame(this.mDownFrame);\n        }\n    };\n    Button.prototype.setFrame = function (frame) {\n        if (this.mBackground) {\n            this.setBgFrame(frame);\n        }\n    };\n    Button.prototype.setText = function (val) {\n        if (this.mText) {\n            this.mText.setText(val);\n        }\n    };\n    Button.prototype.setTextStyle = function (style) {\n        if (this.mText) {\n            this.mText.setStyle(style);\n        }\n    };\n    Button.prototype.setFontStyle = function (val) {\n        if (this.mText) {\n            this.mText.setFontStyle(val);\n        }\n    };\n    Button.prototype.setTextOffset = function (x, y) {\n        if (this.mText) {\n            this.mText.setPosition(x, y);\n        }\n    };\n    Button.prototype.setTextColor = function (color) {\n        if (this.mText) {\n            this.mText.setColor(color);\n        }\n    };\n    Button.prototype.createBackground = function () {\n        this.mBackground = this.scene.make.image({\n            key: this.mKey,\n            frame: this.mFrame\n        }, false);\n        this.setSize(this.mBackground.width, this.mBackground.height);\n        this.add(this.mBackground);\n    };\n    Button.prototype.setBgFrame = function (frame) {\n        this.mBackground.setFrame(frame);\n        this.setSize(this.mBackground.width, this.mBackground.height);\n    };\n    Button.prototype.buttonStateChange = function (state) {\n        switch (state) {\n            case ButtonState.Normal:\n                this.changeNormal();\n                break;\n            case ButtonState.Over:\n                break;\n            case ButtonState.Select:\n                this.changeDown();\n                break;\n            case ButtonState.Disable:\n                break;\n        }\n    };\n    Button.prototype.onPointerMoveHandler = function (pointer) {\n        if (this.soundGroup && this.soundGroup.move)\n            this.playSound(this.soundGroup.move);\n        if (!this.interactiveBoo)\n            return;\n        this.mIsMove = true;\n        this.emit(_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_1__[\"CoreUI\"].MouseEvent.Move);\n    };\n    Button.prototype.onPointerUpHandler = function (pointer) {\n        if (!this.interactiveBoo) {\n            if (this.soundGroup && this.soundGroup.disabled)\n                this.playSound(this.soundGroup.disabled);\n            return;\n        }\n        this.buttonStateChange(ButtonState.Normal);\n        if (!this.mIsMove || (Date.now() - this.mDownTime > this.mPressTime)) {\n            if (Math.abs(pointer.downX - pointer.upX) < 30 && Math.abs(pointer.downY - pointer.upY) < 30) {\n                if (this.soundGroup && this.soundGroup.up)\n                    this.playSound(this.soundGroup.up);\n                this.emit(_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_1__[\"CoreUI\"].MouseEvent.Tap, pointer, this);\n            }\n        }\n        clearTimeout(this.mPressTime);\n        this.mIsMove = false;\n        this.mDownTime = 0;\n    };\n    Button.prototype.onPointerDownHandler = function (pointer) {\n        var _this = this;\n        if (!this.interactiveBoo) {\n            if (this.soundGroup && this.soundGroup.disabled)\n                this.playSound(this.soundGroup.disabled);\n            return;\n        }\n        if (this.soundGroup && this.soundGroup.down)\n            this.playSound(this.soundGroup.down);\n        this.buttonStateChange(ButtonState.Select);\n        this.mDownTime = Date.now();\n        this.mPressTime = setTimeout(function () {\n            _this.emit(_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_1__[\"CoreUI\"].MouseEvent.Hold, _this);\n        }, this.mPressDelay);\n        this.emit(_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_1__[\"CoreUI\"].MouseEvent.Down, this);\n    };\n    return Button;\n}(_baseUI_BaseUI__WEBPACK_IMPORTED_MODULE_0__[\"BaseUI\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/button/Button.ts?");

/***/ }),

/***/ "./lib/rexui/lib/ui/button/NineSliceButton.ts":
/*!****************************************************!*\
  !*** ./lib/rexui/lib/ui/button/NineSliceButton.ts ***!
  \****************************************************/
/*! exports provided: NineSliceButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NineSliceButton\", function() { return NineSliceButton; });\n/* harmony import */ var _ninepatch_NineSlicePatch__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ninepatch/NineSlicePatch */ \"./lib/rexui/lib/ui/ninepatch/NineSlicePatch.ts\");\n/* harmony import */ var _ui_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ui-components */ \"./lib/rexui/lib/ui/ui-components.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar NineSliceButton = /** @class */ (function (_super) {\n    __extends(NineSliceButton, _super);\n    function NineSliceButton(scene, x, y, width, height, key, frame, text, dpr, scale, config, music, data) {\n        var _this = _super.call(this, scene, key, frame, frame, text, music, dpr, scale, {\n            width: width,\n            height: height,\n            configlist: [config]\n        }) || this;\n        _this.x = x;\n        _this.y = y;\n        if (data) {\n            _this.btnData = data;\n        }\n        return _this;\n    }\n    Object.defineProperty(NineSliceButton.prototype, \"enable\", {\n        set: function (value) {\n            if (value) {\n                this.mBackground.clearTint();\n                if (this.mText)\n                    this.mText.clearTint();\n                this.setInteractive();\n            }\n            else {\n                this.mBackground.setTintFill(0x666666);\n                if (this.mText)\n                    this.mText.setTintFill(0x777777);\n                this.removeInteractive();\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    NineSliceButton.prototype.getBtnData = function () {\n        return this.btnData;\n    };\n    NineSliceButton.prototype.createBackground = function () {\n        this.mFrame = this.mFrame ? this.mFrame : \"__BASE\";\n        this.initFrame();\n        var config = this.ninePatchConfig.configlist[0];\n        var width = this.ninePatchConfig.width;\n        var height = this.ninePatchConfig.height;\n        this.mBackground = new _ninepatch_NineSlicePatch__WEBPACK_IMPORTED_MODULE_0__[\"NineSlicePatch\"](this.scene, 0, 0, width, height, this.mKey, this.mFrame, { left: config.left, top: config.top, right: config.right, bottom: config.bottom }, this.dpr, 1);\n        this.add(this.mBackground);\n        this.setSize(width, height);\n    };\n    NineSliceButton.prototype.isExists = function (frame) {\n        var originTexture = this.scene.textures.get(this.mKey);\n        if (originTexture && originTexture.has(frame))\n            return true;\n        return false;\n    };\n    NineSliceButton.prototype.initFrame = function () {\n        var frame = this.mFrame ? this.mFrame : this.mKey;\n        this.mFrame = frame + \"_normal\";\n        if (!this.isExists(this.mFrame)) {\n            this.mFrame = frame;\n        }\n        this.mDownFrame = frame + \"_down\";\n        if (!this.isExists(this.mDownFrame)) {\n            this.mDownFrame = this.mFrame;\n        }\n        return this.mFrame;\n    };\n    return NineSliceButton;\n}(_ui_components__WEBPACK_IMPORTED_MODULE_1__[\"Button\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/button/NineSliceButton.ts?");

/***/ }),

/***/ "./lib/rexui/lib/ui/buttons/ButtonMethods.js":
/*!***************************************************!*\
  !*** ./lib/rexui/lib/ui/buttons/ButtonMethods.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ButtonSetInteractive_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ButtonSetInteractive.js */ \"./lib/rexui/lib/ui/buttons/ButtonSetInteractive.js\");\n/* harmony import */ var _utils_Hide_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/Hide.js */ \"./lib/rexui/lib/ui/utils/Hide.js\");\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    getButton(index) {\n        var button;\n        if (typeof (index) === 'number') {\n            button = this.childrenMap.buttons[index];\n        } else {\n            button = index;\n            if (this.childrenMap.buttons.indexOf(button) === -1) {\n                button = undefined;\n            }\n        }\n        return button;\n    },\n\n    emitButtonClick(index) {\n        // index or button game object\n        _ButtonSetInteractive_js__WEBPACK_IMPORTED_MODULE_0__[\"FireEvent\"].call(this, 'button.click', index);\n        return this;\n    },\n\n    showButton(index) {\n        Object(_utils_Hide_js__WEBPACK_IMPORTED_MODULE_1__[\"Show\"])(this.getButton(index));\n        return this;\n    },\n\n    hideButton(index) {\n        Object(_utils_Hide_js__WEBPACK_IMPORTED_MODULE_1__[\"Hide\"])(this.getButton(index));\n        return this;\n    },\n\n    isButtonShown(index) {\n        Object(_utils_Hide_js__WEBPACK_IMPORTED_MODULE_1__[\"IsShown\"])(this.getButton(index));\n        return this;\n    },\n\n    forEachButtton(callback, scope) {\n        var buttons = this.childrenMap.buttons;\n        for (var i = 0, cnt = buttons.length; i < cnt; i++) {\n            if (scope) {\n                callback.call(scope, buttons[i], i, buttons);\n            } else {\n                callback(buttons[i], i, buttons);\n            }\n        }\n        return this;\n    }\n});\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/buttons/ButtonMethods.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/buttons/ButtonSetInteractive.js":
/*!**********************************************************!*\
  !*** ./lib/rexui/lib/ui/buttons/ButtonSetInteractive.js ***!
  \**********************************************************/
/*! exports provided: ButtonSetInteractive, FireEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ButtonSetInteractive\", function() { return ButtonSetInteractive; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FireEvent\", function() { return FireEvent; });\n/* harmony import */ var _plugins_input_button_Button_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../plugins/input/button/Button.js */ \"./lib/rexui/lib/plugins/input/button/Button.js\");\n\n\nvar ButtonSetInteractive = function (button, clickConfig) {\n    //Default: Fire 'click' event when touch released after pressed.\n    button._buttonBehavior = new _plugins_input_button_Button_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](button, clickConfig);\n\n    button._buttonBehavior.on('click', function (buttonBehavior, gameObject, pointer, event) {\n        FireEvent.call(this, 'button.click', button, pointer, event);\n    }, this);\n\n    button\n        .on('pointerover', function (pointer, localX, localY, event) {\n            FireEvent.call(this, 'button.over', button, pointer, event);\n        }, this)\n        .on('pointerout', function (pointer, event) {\n            FireEvent.call(this, 'button.out', button, pointer, event);\n        }, this)\n}\n\nvar FireEvent = function (eventName, button, pointer, event) {\n    var index;\n    if (typeof (button) === 'number') {\n        index = button;\n        button = this.childrenMap.buttons[index];\n        if (!button) {\n            return;\n        }\n    } else {\n        index = this.childrenMap.buttons.indexOf(button);\n        if (index === -1) {\n            return;\n        }\n    }\n\n    // Buttons is a child. Fire internal events.\n    if (this.eventEmitter !== this) {\n        this.emit(eventName, button, index, pointer, event);\n    }\n\n    if (this.groupName !== undefined) {\n        this.eventEmitter.emit(eventName, button, this.groupName, index, pointer, event);\n    } else {\n        this.eventEmitter.emit(eventName, button, index, pointer, event);\n    }\n}\n\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/buttons/ButtonSetInteractive.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/buttons/Buttons.js":
/*!*********************************************!*\
  !*** ./lib/rexui/lib/ui/buttons/Buttons.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _sizer_Sizer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../sizer/Sizer.js */ \"./lib/rexui/lib/ui/sizer/Sizer.js\");\n/* harmony import */ var _ButtonSetInteractive_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ButtonSetInteractive.js */ \"./lib/rexui/lib/ui/buttons/ButtonSetInteractive.js\");\n/* harmony import */ var _ButtonMethods_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ButtonMethods.js */ \"./lib/rexui/lib/ui/buttons/ButtonMethods.js\");\n/* harmony import */ var _types_SetType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./types/SetType.js */ \"./lib/rexui/lib/ui/buttons/types/SetType.js\");\n\n\n\n\n\nconst GetValue = Phaser.Utils.Objects.GetValue;\n\nclass Buttons extends _sizer_Sizer_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(scene, config) {\n        if (config === undefined) {\n            config = {};\n        }\n        // Create \n        super(scene, config);\n        this.type = 'rexButtons';\n        this.eventEmitter = GetValue(config, 'eventEmitter', this);\n        this.groupName = GetValue(config, 'groupName', undefined);\n\n        // Add elements\n        var background = GetValue(config, 'background', undefined);\n        var buttons = GetValue(config, 'buttons', undefined);\n        if (buttons && buttons.length === 0) {\n            buttons = undefined;\n        }\n\n        // Space\n        var buttonSpace = GetValue(config, 'space', 0);\n\n        if (background) {\n            this.addBackground(background);\n        }\n\n        if (buttons) {\n            var expand = GetValue(config, 'expand', false);\n            var proportion = (expand) ? 1 : 0;\n            var buttonsAlign = GetValue(config, 'align', undefined); // undefined/left/top: no space\n            var clickConfig = GetValue(config, 'click', undefined);\n\n            // Add space\n            if ((!expand) &&\n                (\n                    (buttonsAlign === 'right') ||\n                    (buttonsAlign === 'bottom') ||\n                    (buttonsAlign === 'center')\n                )\n            ) {\n                this.addSpace();\n            }\n\n            var button, padding;\n            for (var i = 0, cnt = buttons.length; i < cnt; i++) {\n                button = buttons[i];\n                // Add to sizer\n                if (this.orientation === 0) {\n                    padding = {\n                        left: (i >= 1) ? buttonSpace : 0,\n                        right: 0,\n                        top: 0,\n                        bottom: 0\n                    }\n                } else {\n                    padding = {\n                        left: 0,\n                        right: 0,\n                        top: (i >= 1) ? buttonSpace : 0,\n                        bottom: 0\n                    }\n                }\n                this.add(button, proportion, 'center', padding, true);\n                _ButtonSetInteractive_js__WEBPACK_IMPORTED_MODULE_1__[\"ButtonSetInteractive\"].call(this, button, clickConfig);\n            }\n\n            // Add space\n            if ((!expand) && (buttonsAlign === 'center')) {\n                this.addSpace();\n            }\n        }\n\n        this.addChildrenMap('background', background);\n        this.addChildrenMap('buttons', (buttons) ? buttons : []);\n\n        _types_SetType_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].call(this, config);\n    }\n}\n\nObject.assign(\n    Buttons.prototype,\n    _ButtonMethods_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]\n);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Buttons);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/buttons/Buttons.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/buttons/Factory.js":
/*!*********************************************!*\
  !*** ./lib/rexui/lib/ui/buttons/Factory.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Buttons_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Buttons.js */ \"./lib/rexui/lib/ui/buttons/Buttons.js\");\n/* harmony import */ var _ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ObjectFactory.js */ \"./lib/rexui/lib/ui/ObjectFactory.js\");\n/* harmony import */ var _plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../plugins/utils/object/SetValue.js */ \"./lib/rexui/lib/plugins/utils/object/SetValue.js\");\n\n\n\n\n_ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].register('buttons', function (config) {\n    var gameObject = new _Buttons_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.scene, config);\n    this.scene.add.existing(gameObject); // It won't be added to display list, neither update list\n    return gameObject;\n});\n\nObject(_plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(window, 'RexPlugins.UI.Buttons', _Buttons_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_Buttons_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/buttons/Factory.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/buttons/types/InitData.js":
/*!****************************************************!*\
  !*** ./lib/rexui/lib/ui/buttons/types/InitData.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nconst GetValue = Phaser.Utils.Objects.GetValue;\n\nvar InitData = function (config, initialValue) {\n    if (initialValue === undefined) {\n        initialValue = false;\n    }\n\n    var dataManager = GetValue(config, 'dataManager', undefined);\n    var setValueCallback = GetValue(config, 'setValueCallback', undefined);\n    var setValueCallbackScope = GetValue(config, 'setValueCallbackScope', undefined);\n\n    if (dataManager === undefined) {\n        this.setDataEnabled();\n        dataManager = this.data;\n    }\n\n    this.childrenMap.buttons.forEach(function (button) {\n        var key = button.name;\n\n        if (setValueCallback) {\n            dataManager.events.on(`changedata-${key}`, function (parent, value, previousValue) {\n                if (setValueCallbackScope) {\n                    setValueCallback.call(setValueCallbackScope, button, value, previousValue);\n                } else {\n                    setValueCallback(button, value);\n                }\n            }, this)\n        }\n\n        dataManager.set(key, undefined);\n        dataManager.set(key, initialValue); // Trigger data event 'changedata'\n    })\n    this._dataManager = dataManager;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (InitData);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/buttons/types/InitData.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/buttons/types/SetCheckboxesType.js":
/*!*************************************************************!*\
  !*** ./lib/rexui/lib/ui/buttons/types/SetCheckboxesType.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _InitData_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./InitData.js */ \"./lib/rexui/lib/ui/buttons/types/InitData.js\");\n\n\nvar SetCheckboxesType = function (config) {\n    _InitData_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].call(this, config);\n\n    this.on('button.click', function (button) {\n        var dataManager = this._dataManager;\n        var key = button.name;\n        var value = dataManager.get(key);\n        dataManager.set(key, !value);\n    }, this);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (SetCheckboxesType);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/buttons/types/SetCheckboxesType.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/buttons/types/SetRadioType.js":
/*!********************************************************!*\
  !*** ./lib/rexui/lib/ui/buttons/types/SetRadioType.js ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _InitData_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./InitData.js */ \"./lib/rexui/lib/ui/buttons/types/InitData.js\");\n\n\nvar SetRadioType = function (config) {\n    _InitData_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].call(this, config);\n\n    this._value = undefined;\n    Object.defineProperty(this, 'value', {\n        get: (function () {\n            return this._value;\n        }).bind(this),\n        set: (function (value) {\n            if (value === this._value) {\n                return;\n            }\n\n            this._value = value;\n\n            // Update state of button -> Fire `changedata-btnName` event -> setValueCallback\n            var dataManager = this._dataManager;\n            this.getElement('buttons').forEach(function (button) {\n                var key = button.name;\n                var state = dataManager.get(key);\n                if (key === value) {\n                    if (!state) {\n                        dataManager.set(key, true);\n                    }\n                } else {\n                    if (state) {\n                        dataManager.set(key, false);\n                    }\n                }\n            });\n        }).bind(this),\n        enumerable: true,\n        configurable: true\n    });\n\n    this.on('button.click', function (button) {\n        this.value = button.name;\n    }, this);\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (SetRadioType);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/buttons/types/SetRadioType.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/buttons/types/SetType.js":
/*!***************************************************!*\
  !*** ./lib/rexui/lib/ui/buttons/types/SetType.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _SetRadioType_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./SetRadioType.js */ \"./lib/rexui/lib/ui/buttons/types/SetRadioType.js\");\n/* harmony import */ var _SetCheckboxesType_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./SetCheckboxesType.js */ \"./lib/rexui/lib/ui/buttons/types/SetCheckboxesType.js\");\n\n\n\nconst GetValue = Phaser.Utils.Objects.GetValue;\n\nconst SetTypeCallbacks = {\n    radio: _SetRadioType_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    checkboxes: _SetCheckboxesType_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]\n}\n\nvar SetType = function (config) {\n    var type = GetValue(config, 'type', undefined);\n    if (type && SetTypeCallbacks.hasOwnProperty(type)) {\n        SetTypeCallbacks[type].call(this, config);\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (SetType);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/buttons/types/SetType.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/canvas/Canvas.js":
/*!*******************************************!*\
  !*** ./lib/rexui/lib/ui/canvas/Canvas.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _plugins_gameobjects_canvas_Canvas_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../plugins/gameobjects/canvas/Canvas.js */ \"./lib/rexui/lib/plugins/gameobjects/canvas/Canvas.js\");\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_plugins_gameobjects_canvas_Canvas_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/canvas/Canvas.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/canvas/Factory.js":
/*!********************************************!*\
  !*** ./lib/rexui/lib/ui/canvas/Factory.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Canvas_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Canvas.js */ \"./lib/rexui/lib/ui/canvas/Canvas.js\");\n/* harmony import */ var _ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ObjectFactory.js */ \"./lib/rexui/lib/ui/ObjectFactory.js\");\n/* harmony import */ var _plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../plugins/utils/object/SetValue.js */ \"./lib/rexui/lib/plugins/utils/object/SetValue.js\");\n\n\n\n\n_ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].register('canvas', function (x, y, width, height) {\n    var gameObject = new _Canvas_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.scene, x, y, width, height);\n    this.scene.add.existing(gameObject);\n    return gameObject;\n});\n\nObject(_plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(window, 'RexPlugins.UI.Canvas', _Canvas_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_Canvas_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/canvas/Factory.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/checkbox/CheckBox.ts":
/*!***********************************************!*\
  !*** ./lib/rexui/lib/ui/checkbox/CheckBox.ts ***!
  \***********************************************/
/*! exports provided: CheckBox */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CheckBox\", function() { return CheckBox; });\n/* harmony import */ var _button_Button__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../button/Button */ \"./lib/rexui/lib/ui/button/Button.ts\");\n/* harmony import */ var _interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../interface/event/MouseEvent */ \"./lib/rexui/lib/ui/interface/event/MouseEvent.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar CheckBox = /** @class */ (function (_super) {\n    __extends(CheckBox, _super);\n    function CheckBox(scene, key, frame, downFrame, text, music, dpr, scale, nineConfig) {\n        var _this = _super.call(this, scene, key, frame, downFrame, text, music, dpr, scale, nineConfig) || this;\n        _this.mSelected = false;\n        return _this;\n    }\n    Object.defineProperty(CheckBox.prototype, \"selected\", {\n        get: function () {\n            return this.mSelected;\n        },\n        set: function (value) {\n            this.mSelected = value;\n            var buttonState = value ? _button_Button__WEBPACK_IMPORTED_MODULE_0__[\"ButtonState\"].Select : _button_Button__WEBPACK_IMPORTED_MODULE_0__[\"ButtonState\"].Normal;\n            this.buttonStateChange(buttonState);\n            this.emit(\"selectChange\", value);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CheckBox.prototype.destroy = function () {\n        this.selected = false;\n        _super.prototype.destroy.call(this);\n    };\n    CheckBox.prototype.onPointerUpHandler = function (pointer) {\n        if (!this.interactiveBoo) {\n            if (this.soundGroup && this.soundGroup.disabled)\n                this.playSound(this.soundGroup.disabled);\n            return;\n        }\n        if (!this.mIsMove || (Date.now() - this.mDownTime > this.mPressTime)) {\n            if (Math.abs(pointer.downX - pointer.upX) < 30 && Math.abs(pointer.downY - pointer.upY) < 30) {\n                if (this.soundGroup && this.soundGroup.up)\n                    this.playSound(this.soundGroup.up);\n                this.selected = !this.selected;\n                this.emit(_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_1__[\"CoreUI\"].MouseEvent.Tap, pointer, this);\n            }\n        }\n        clearTimeout(this.mPressDelay);\n        this.mIsMove = false;\n        this.mDownTime = 0;\n    };\n    CheckBox.prototype.onPointerDownHandler = function (pointer) {\n        var _this = this;\n        if (!this.interactiveBoo) {\n            if (this.soundGroup && this.soundGroup.disabled)\n                this.playSound(this.soundGroup.disabled);\n            return;\n        }\n        if (this.soundGroup && this.soundGroup.down)\n            this.playSound(this.soundGroup.down);\n        this.mDownTime = Date.now();\n        this.mPressTime = setTimeout(function () {\n            _this.emit(_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_1__[\"CoreUI\"].MouseEvent.Hold, _this);\n        }, this.mPressTime);\n        this.emit(_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_1__[\"CoreUI\"].MouseEvent.Down, this);\n    };\n    return CheckBox;\n}(_button_Button__WEBPACK_IMPORTED_MODULE_0__[\"Button\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/checkbox/CheckBox.ts?");

/***/ }),

/***/ "./lib/rexui/lib/ui/circlemaskimage/CircleMaskImage.js":
/*!*************************************************************!*\
  !*** ./lib/rexui/lib/ui/circlemaskimage/CircleMaskImage.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _plugins_gameobjects_circlemaskimage_CircleMaskImage_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../plugins/gameobjects/circlemaskimage/CircleMaskImage.js */ \"./lib/rexui/lib/plugins/gameobjects/circlemaskimage/CircleMaskImage.js\");\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_plugins_gameobjects_circlemaskimage_CircleMaskImage_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/circlemaskimage/CircleMaskImage.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/circlemaskimage/Factory.js":
/*!*****************************************************!*\
  !*** ./lib/rexui/lib/ui/circlemaskimage/Factory.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _CircleMaskImage_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CircleMaskImage.js */ \"./lib/rexui/lib/ui/circlemaskimage/CircleMaskImage.js\");\n/* harmony import */ var _ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ObjectFactory.js */ \"./lib/rexui/lib/ui/ObjectFactory.js\");\n/* harmony import */ var _plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../plugins/utils/object/SetValue.js */ \"./lib/rexui/lib/plugins/utils/object/SetValue.js\");\n\n\n\n\n_ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].register('circleMaskImage', function (x, y, key, frame, config) {\n    var gameObject = new _CircleMaskImage_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.scene, x, y, key, frame, config);\n    this.scene.add.existing(gameObject);\n    return gameObject;\n});\n\nObject(_plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(window, 'RexPlugins.UI.CircleMaskImage', _CircleMaskImage_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_CircleMaskImage_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/circlemaskimage/Factory.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/container/Container.js":
/*!*************************************************!*\
  !*** ./lib/rexui/lib/ui/container/Container.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _plugins_gameobjects_containerlite_ContainerLite_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../plugins/gameobjects/containerlite/ContainerLite.js */ \"./lib/rexui/lib/plugins/gameobjects/containerlite/ContainerLite.js\");\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_plugins_gameobjects_containerlite_ContainerLite_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/container/Container.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/container/Factory.js":
/*!***********************************************!*\
  !*** ./lib/rexui/lib/ui/container/Factory.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Container_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Container.js */ \"./lib/rexui/lib/ui/container/Container.js\");\n/* harmony import */ var _ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ObjectFactory.js */ \"./lib/rexui/lib/ui/ObjectFactory.js\");\n/* harmony import */ var _plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../plugins/utils/object/SetValue.js */ \"./lib/rexui/lib/plugins/utils/object/SetValue.js\");\n\n\n\n\n_ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].register('container', function (x, y, width, height, children) {\n    var gameObject = new _Container_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.scene, x, y, width, height, children);\n    this.scene.add.existing(gameObject); // It won't be added to display list, neither update list\n    return gameObject;\n});\n\nObject(_plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(window, 'RexPlugins.UI.Container', _Container_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_Container_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/container/Factory.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/flip/Factory.js":
/*!******************************************!*\
  !*** ./lib/rexui/lib/ui/flip/Factory.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Flip_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Flip.js */ \"./lib/rexui/lib/ui/flip/Flip.js\");\n/* harmony import */ var _ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ObjectFactory.js */ \"./lib/rexui/lib/ui/ObjectFactory.js\");\n/* harmony import */ var _plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../plugins/utils/object/SetValue.js */ \"./lib/rexui/lib/plugins/utils/object/SetValue.js\");\n\n\n\n\n_ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].register('flip', function (gameObject, config) {\n    return new _Flip_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](gameObject, config);\n});\n\nObject(_plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(window, 'RexPlugins.UI.Flip', _Flip_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_Flip_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/flip/Factory.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/flip/Flip.js":
/*!***************************************!*\
  !*** ./lib/rexui/lib/ui/flip/Flip.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _plugins_flip_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../plugins/flip.js */ \"./lib/rexui/lib/plugins/flip.js\");\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_plugins_flip_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/flip/Flip.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/gridsizer/Factory.js":
/*!***********************************************!*\
  !*** ./lib/rexui/lib/ui/gridsizer/Factory.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _GridSizer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GridSizer.js */ \"./lib/rexui/lib/ui/gridsizer/GridSizer.js\");\n/* harmony import */ var _ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ObjectFactory.js */ \"./lib/rexui/lib/ui/ObjectFactory.js\");\n/* harmony import */ var _plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../plugins/utils/object/SetValue.js */ \"./lib/rexui/lib/plugins/utils/object/SetValue.js\");\n\n\n\n\n_ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].register('gridSizer', function (x, y, minWidth, minHeight, columnCount, rowCount, columnProportions, rowProportion) {\n    var gameObject = new _GridSizer_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.scene, x, y, minWidth, minHeight, columnCount, rowCount, columnProportions, rowProportion);\n    this.scene.add.existing(gameObject); // It won't be added to display list, neither update list\n    return gameObject;\n});\n\nObject(_plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(window, 'RexPlugins.UI.GridSizer', _GridSizer_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_GridSizer_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/gridsizer/Factory.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/gridsizer/GetChildrenHeight.js":
/*!*********************************************************!*\
  !*** ./lib/rexui/lib/ui/gridsizer/GetChildrenHeight.js ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _plugins_utils_size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../plugins/utils/size/GetDisplaySize.js */ \"./lib/rexui/lib/plugins/utils/size/GetDisplaySize.js\");\n\n\nvar GetChildrenHeight = function () {\n    if (this.rexSizer.hidden) {\n        return 0;\n    }\n\n    var result = 0,\n        rowHeight;\n    var children = this.gridChildren;\n    var child, padding, childHeight, proportion;\n\n    for (var i = 0; i < this.rowCount; i++) {\n        proportion = this.rowProportions[i];\n        rowHeight = 0;\n        if ((proportion === undefined) || (proportion === 0)) {\n            for (var j = 0; j < this.columnCount; j++) {\n                child = children[(i * this.columnCount) + j];\n                if (!child) {\n                    continue;\n                }\n                if (child.rexSizer.hidden) {\n                    continue;\n                }\n\n                childHeight = (child.isRexSizer) ?\n                    Math.max(child.minHeight, child.childrenHeight) :\n                    Object(_plugins_utils_size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_0__[\"GetDisplayHeight\"])(child);\n                padding = child.rexSizer.padding;\n                childHeight += (padding.top + padding.bottom);\n                rowHeight = Math.max(rowHeight, childHeight);\n            }\n            result += rowHeight;\n        }\n        this.rowHeight[i] = rowHeight;\n    }\n    return result;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GetChildrenHeight);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/gridsizer/GetChildrenHeight.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/gridsizer/GetChildrenSizers.js":
/*!*********************************************************!*\
  !*** ./lib/rexui/lib/ui/gridsizer/GetChildrenSizers.js ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar GetChildrenSizers = function (out) {\n    if (out === undefined) {\n        out = [];\n    }\n    var children = this.gridChildren,\n        child;\n    for (var i = 0, cnt = children.length; i < cnt; i++) {\n        child = children[i];\n        if (child && child.isRexSizer) {\n            out.push(child);\n        }\n    }\n    return out;\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (GetChildrenSizers);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/gridsizer/GetChildrenSizers.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/gridsizer/GetChildrenWidth.js":
/*!********************************************************!*\
  !*** ./lib/rexui/lib/ui/gridsizer/GetChildrenWidth.js ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _plugins_utils_size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../plugins/utils/size/GetDisplaySize.js */ \"./lib/rexui/lib/plugins/utils/size/GetDisplaySize.js\");\n\n\nvar GetChildrenWidth = function () {\n    if (this.rexSizer.hidden) {\n        return 0;\n    }\n\n    var result = 0,\n        columnWidth;\n    var children = this.gridChildren;\n    var child, padding, childWidth, proportion;\n\n    for (var i = 0; i < this.columnCount; i++) {\n        proportion = this.columnProportions[i];\n        columnWidth = 0;\n        if ((proportion === undefined) || (proportion === 0)) {\n            for (var j = 0; j < this.rowCount; j++) {\n                child = children[(j * this.columnCount) + i];\n                if (!child) {\n                    continue;\n                }\n                if (child.rexSizer.hidden) {\n                    continue;\n                }\n\n                childWidth = (child.isRexSizer) ?\n                    Math.max(child.minWidth, child.childrenWidth) :\n                    Object(_plugins_utils_size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_0__[\"GetDisplayWidth\"])(child);\n                padding = child.rexSizer.padding;\n                childWidth += (padding.left + padding.right);\n                columnWidth = Math.max(columnWidth, childWidth);\n            }\n            result += columnWidth;\n        }\n        this.columnWidth[i] = columnWidth;\n    }\n    return result;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GetChildrenWidth);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/gridsizer/GetChildrenWidth.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/gridsizer/GetExpandedChildHeight.js":
/*!**************************************************************!*\
  !*** ./lib/rexui/lib/ui/gridsizer/GetExpandedChildHeight.js ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar GetExpandedChildHeight = function (child, rowHeight) {\n    var newHeight;\n    var childConfig = child.rexSizer;    \n    if (childConfig.expand) {\n        var padding = childConfig.padding;\n        newHeight = rowHeight - padding.top - padding.bottom;\n    }\n    return newHeight;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GetExpandedChildHeight);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/gridsizer/GetExpandedChildHeight.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/gridsizer/GetExpandedChildWidth.js":
/*!*************************************************************!*\
  !*** ./lib/rexui/lib/ui/gridsizer/GetExpandedChildWidth.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar GetExpandedChildWidth = function (child, colWidth) {\n    var newWidth;\n    var childConfig = child.rexSizer;    \n    if (childConfig.expand) {\n        var padding = childConfig.padding;\n        newWidth = colWidth - padding.left - padding.right;\n    }\n    return newWidth;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GetExpandedChildWidth);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/gridsizer/GetExpandedChildWidth.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/gridsizer/GridSizer.js":
/*!*************************************************!*\
  !*** ./lib/rexui/lib/ui/gridsizer/GridSizer.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _basesizer_BaseSizer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../basesizer/BaseSizer.js */ \"./lib/rexui/lib/ui/basesizer/BaseSizer.js\");\n/* harmony import */ var _Methods_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Methods.js */ \"./lib/rexui/lib/ui/gridsizer/Methods.js\");\n/* harmony import */ var _utils_GetBoundsConfig_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/GetBoundsConfig.js */ \"./lib/rexui/lib/ui/utils/GetBoundsConfig.js\");\n/* harmony import */ var _utils_AlignConst_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/AlignConst.js */ \"./lib/rexui/lib/ui/utils/AlignConst.js\");\n\n\n\n\n\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\nconst GetValue = Phaser.Utils.Objects.GetValue;\nconst RemoveItem = Phaser.Utils.Array.Remove;\nconst ALIGN_CENTER = Phaser.Display.Align.CENTER;\n\nclass GridSizer extends _basesizer_BaseSizer_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(scene, x, y, minWidth, minHeight, columnCount, rowCount, columnProportions, rowProportions) {\n        var config;\n        if (IsPlainObject(x)) {\n            config = x;\n            x = GetValue(config, 'x', 0);\n            y = GetValue(config, 'y', 0);\n            minWidth = GetValue(config, 'width', undefined);\n            minHeight = GetValue(config, 'height', undefined);\n            columnCount = GetValue(config, 'column', 0);\n            rowCount = GetValue(config, 'row', 0);\n            columnProportions = GetValue(config, 'columnProportions', undefined);\n            rowProportions = GetValue(config, 'rowProportions', undefined);\n        } else if (IsPlainObject(minWidth)) {\n            config = minWidth;\n            minWidth = GetValue(config, 'width', undefined);\n            minHeight = GetValue(config, 'height', undefined);\n            columnCount = GetValue(config, 'column', 0);\n            rowCount = GetValue(config, 'row', 0);\n            columnProportions = GetValue(config, 'columnProportions', undefined);\n            rowProportions = GetValue(config, 'rowProportions', undefined);\n        } else if (IsPlainObject(columnCount)) {\n            config = columnCount;\n            columnCount = GetValue(config, 'column', 0);\n            rowCount = GetValue(config, 'row', 0);\n            columnProportions = GetValue(config, 'columnProportions', undefined);\n            rowProportions = GetValue(config, 'rowProportions', undefined);\n        } else if (IsPlainObject(columnProportions)) {\n            config = columnProportions;\n            columnProportions = GetValue(config, 'columnProportions', undefined);\n            rowProportions = GetValue(config, 'rowProportions', undefined);\n        }\n        super(scene, x, y, minWidth, minHeight, config);\n\n        this.type = 'rexGridSizer';\n        this.initialGrid(columnCount, rowCount, columnProportions, rowProportions);\n\n    }\n\n    destroy(fromScene) {\n        //  This Game Object has already been destroyed\n        if (!this.scene) {\n            return;\n        }\n        this.gridChildren.length = 0;\n        super.destroy(fromScene);\n    }\n\n    setColumnProportion(columnIndex, proportion) {\n        if (columnIndex >= this.columnProportions.length) {\n            return this;\n        }\n        this.columnProportions[columnIndex] = proportion;\n        return this;\n    }\n\n    setRowProportion(rowIndex, proportion) {\n        if (rowIndex >= this.rowProportions.length) {\n            return this;\n        }\n        this.rowProportions[rowIndex] = proportion;\n        return this;\n    }\n\n    add(gameObject, columnIndex, rowIndex, align, paddingConfig, expand, childKey) {\n        super.add(gameObject);\n        if (IsPlainObject(columnIndex)) {\n            var config = columnIndex;\n            columnIndex = GetValue(config, 'column', 0);\n            rowIndex = GetValue(config, 'row', 0);\n            align = GetValue(config, 'align', ALIGN_CENTER);\n            paddingConfig = GetValue(config, 'padding', 0);\n            expand = GetValue(config, 'expand', false);\n            childKey = GetValue(config, 'key', undefined);\n        }\n        if (typeof (align) === 'string') {\n            align = _utils_AlignConst_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"][align];\n        }\n        if (align === undefined) {\n            align = ALIGN_CENTER;\n        }\n        if (paddingConfig === undefined) {\n            paddingConfig = 0;\n        }\n        if (expand === undefined) {\n            expand = true;\n        }\n\n        var config = this.getSizerConfig(gameObject);\n        config.parent = this;\n        config.align = align;\n        config.padding = Object(_utils_GetBoundsConfig_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(paddingConfig);\n        config.expand = expand;\n        this.gridChildren[(rowIndex * this.columnCount) + columnIndex] = gameObject;\n\n        if (childKey !== undefined) {\n            this.addChildrenMap(childKey, gameObject)\n        }\n        return this;\n    }\n\n    remove(gameObject) {\n        var config = this.getSizerConfig(gameObject);\n        if (config.parent !== this) {\n            return this;\n        }\n        config.parent = undefined;\n        RemoveItem(this.gridChildren, gameObject);\n\n        if (this.backgroundChildren !== undefined) {\n            RemoveItem(this.backgroundChildren, gameObject);\n        }\n        super.remove(gameObject);\n        return this;\n    }\n\n    get totalColumnProportions() {\n        var result = 0,\n            proportion;\n        for (var i = 0; i < this.columnCount; i++) {\n            proportion = this.columnProportions[i];\n            if (proportion > 0) {\n                result += proportion;\n            }\n        }\n        return result;\n    }\n\n    get totalRowProportions() {\n        var result = 0,\n            proportion;\n        for (var i = 0; i < this.rowCount; i++) {\n            proportion = this.rowProportions[i];\n            if (proportion > 0) {\n                result += proportion;\n            }\n        }\n        return result;\n    }\n\n    initialGrid(columnCount, rowCount, columnProportions, rowProportions) {\n        this.columnCount = columnCount;\n        this.rowCount = rowCount;\n        this.gridChildren = [];\n        this.gridChildren.length = columnCount * rowCount;\n        this.columnProportions = [];\n        this.columnProportions.length = columnCount;\n        this.columnWidth = [];\n        this.columnWidth.length = columnCount;\n        this.rowProportions = [];\n        this.rowProportions.length = rowCount;\n        this.rowHeight = [];\n        this.rowHeight.length = rowCount;\n\n        if (columnProportions) {\n            var columnProportionsIsNumber = (typeof (columnProportions) === 'number');\n            for (var i = 0; i < columnCount; i++) {\n                if (columnProportionsIsNumber) {\n                    this.setColumnProportion(i, columnProportions);\n                } else {\n                    var columnProportion = columnProportions[i];\n                    if (columnProportion > 0) {\n                        this.setColumnProportion(i, columnProportion);\n                    }\n                }\n            }\n        }\n        if (rowProportions) {\n            var rowProportionsIsNumber = (typeof (rowProportions) === 'number');\n            for (var i = 0; i < rowCount; i++) {\n                if (rowProportionsIsNumber) {\n                    this.setRowProportion(i, rowProportions);\n                } else {\n                    var rowProportion = rowProportions[i];\n                    if (rowProportion > 0) {\n                        this.setRowProportion(i, rowProportion);\n                    }\n                }\n            }\n        }\n\n        return this;\n    }\n}\n\nObject.assign(\n    GridSizer.prototype,\n    _Methods_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]\n);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GridSizer);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/gridsizer/GridSizer.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/gridsizer/Layout.js":
/*!**********************************************!*\
  !*** ./lib/rexui/lib/ui/gridsizer/Layout.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _GetExpandedChildWidth_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GetExpandedChildWidth.js */ \"./lib/rexui/lib/ui/gridsizer/GetExpandedChildWidth.js\");\n/* harmony import */ var _GetExpandedChildHeight_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GetExpandedChildHeight.js */ \"./lib/rexui/lib/ui/gridsizer/GetExpandedChildHeight.js\");\n/* harmony import */ var _plugins_utils_size_ResizeGameObject_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../plugins/utils/size/ResizeGameObject.js */ \"./lib/rexui/lib/plugins/utils/size/ResizeGameObject.js\");\n/* harmony import */ var _plugins_utils_actions_GlobZone_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../plugins/utils/actions/GlobZone.js */ \"./lib/rexui/lib/plugins/utils/actions/GlobZone.js\");\n/* harmony import */ var _plugins_utils_align_align_in_QuickSet_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../plugins/utils/align/align/in/QuickSet.js */ \"./lib/rexui/lib/plugins/utils/align/align/in/QuickSet.js\");\n\n\n\n\n\n\nvar Layout = function (parent, newWidth, newHeight) {\n    // Skip invisible sizer\n    if (this.rexSizer.hidden) {\n        return this;\n    }\n\n    this.preLayout(parent);\n\n    var totalColumnProportions = this.totalColumnProportions;\n    var totalRowProportions = this.totalRowProportions;\n\n    // Set size\n    if (newWidth === undefined) {\n        if (parent && (totalColumnProportions > 0)) { // Expand to parent width\n            var padding = this.rexSizer.padding;\n            newWidth = parent.width - padding.left - padding.right;\n        } else {\n            newWidth = Math.max(this.childrenWidth, this.minWidth);\n        }\n    }\n    if (newHeight === undefined) {\n        if (parent && (totalRowProportions > 0)) { // Expand to parent height\n            var padding = this.rexSizer.padding;\n            newHeight = parent.height - padding.top - padding.bottom;\n        } else {\n            newHeight = Math.max(this.childrenHeight, this.minHeight);\n        }\n    }\n    this.resize(newWidth, newHeight);\n\n    var proportionWidthLength;\n    if (totalColumnProportions > 0) {\n        proportionWidthLength = (this.width - this.childrenWidth) / totalColumnProportions;\n    } else {\n        proportionWidthLength = 0;\n    }\n    var proportionHeightLength;\n    if (totalRowProportions > 0) {\n        proportionHeightLength = (this.height - this.childrenHeight) / totalRowProportions;\n    } else {\n        proportionHeightLength = 0;\n    }\n\n    // Layout children\n    var child, childConfig, padding;\n    var startX = this.left,\n        startY = this.top;\n    var itemX = startX,\n        itemY = startY;\n    var x, y, width, height; // Align zone\n    var childWidth, childHeight;\n    // Layout grid children\n    var colProportion, rowProportion,\n        colWidth, rowHeight;\n    for (var rowIndex = 0; rowIndex < this.rowCount; rowIndex++) {\n        rowProportion = this.rowProportions[rowIndex] || 0;\n        rowHeight = (rowProportion === 0) ? this.rowHeight[rowIndex] : (rowProportion * proportionHeightLength);\n\n        itemX = startX;\n        for (var columnIndex = 0; columnIndex < this.columnCount; columnIndex++) {\n            colProportion = this.columnProportions[columnIndex] || 0;\n            colWidth = (colProportion === 0) ? this.columnWidth[columnIndex] : (colProportion * proportionWidthLength);\n\n            child = this.gridChildren[(rowIndex * this.columnCount) + columnIndex];\n            if ((!child) || (child.rexSizer.hidden)) {\n                itemX += colWidth;\n                continue;\n            }\n\n            childWidth = Object(_GetExpandedChildWidth_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(child, colWidth);\n            childHeight = Object(_GetExpandedChildHeight_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(child, rowHeight);\n            if (child.isRexSizer) {\n                child.layout(this, childWidth, childHeight);\n            } else {\n                Object(_plugins_utils_size_ResizeGameObject_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(child, childWidth, childHeight);\n            }\n\n            childConfig = child.rexSizer;\n            padding = childConfig.padding;\n            x = (itemX + padding.left);\n            width = colWidth - padding.left - padding.right;\n            y = (itemY + padding.top);\n            height = rowHeight - padding.top - padding.bottom;\n\n            _plugins_utils_actions_GlobZone_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].setPosition(x, y).setSize(width, height);\n            Object(_plugins_utils_align_align_in_QuickSet_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(child, _plugins_utils_actions_GlobZone_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"], childConfig.align);\n            this.resetChildPositionState(child);\n\n            itemX += colWidth;\n        }\n\n        itemY += rowHeight;\n    }\n\n\n    // Layout background children\n    this.layoutBackgrounds();\n\n    return this.postLayout();\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Layout);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/gridsizer/Layout.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/gridsizer/Methods.js":
/*!***********************************************!*\
  !*** ./lib/rexui/lib/ui/gridsizer/Methods.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _GetChildrenWidth_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GetChildrenWidth.js */ \"./lib/rexui/lib/ui/gridsizer/GetChildrenWidth.js\");\n/* harmony import */ var _GetChildrenHeight_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GetChildrenHeight.js */ \"./lib/rexui/lib/ui/gridsizer/GetChildrenHeight.js\");\n/* harmony import */ var _GetChildrenSizers_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GetChildrenSizers.js */ \"./lib/rexui/lib/ui/gridsizer/GetChildrenSizers.js\");\n/* harmony import */ var _Layout_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Layout.js */ \"./lib/rexui/lib/ui/gridsizer/Layout.js\");\n/* harmony import */ var _layoutInit_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./_layoutInit.js */ \"./lib/rexui/lib/ui/gridsizer/_layoutInit.js\");\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    getChildrenWidth: _GetChildrenWidth_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    getChildrenHeight: _GetChildrenHeight_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n    getChildrenSizers: _GetChildrenSizers_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n    layout: _Layout_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n    _layoutInit: _layoutInit_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n});\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/gridsizer/Methods.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/gridsizer/_layoutInit.js":
/*!***************************************************!*\
  !*** ./lib/rexui/lib/ui/gridsizer/_layoutInit.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar LayoutInitChild = function () {\n    this._childrenWidth = undefined;\n    this._childrenHeight = undefined;\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (LayoutInitChild);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/gridsizer/_layoutInit.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/gridtable/Factory.js":
/*!***********************************************!*\
  !*** ./lib/rexui/lib/ui/gridtable/Factory.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar GridTable_js_1 = __webpack_require__(/*! ./GridTable.js */ \"./lib/rexui/lib/ui/gridtable/GridTable.js\");\nvar ObjectFactory_js_1 = __webpack_require__(/*! ../ObjectFactory.js */ \"./lib/rexui/lib/ui/ObjectFactory.js\");\nvar SetValue_js_1 = __webpack_require__(/*! ../../plugins/utils/object/SetValue.js */ \"./lib/rexui/lib/plugins/utils/object/SetValue.js\");\nObjectFactory_js_1.default.register('gridTable', function (config) {\n    var gameObject = new GridTable_js_1.default(this.scene, config);\n    this.scene.add.existing(gameObject); // It won't be added to display list, neither update list\n    return gameObject;\n});\nSetValue_js_1.default(window, 'RexPlugins.UI.GridTable', GridTable_js_1.default);\nexports.default = GridTable_js_1.default;\n//# sourceMappingURL=Factory.js.map\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/gridtable/Factory.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/gridtable/GameGridTable.ts":
/*!*****************************************************!*\
  !*** ./lib/rexui/lib/ui/gridtable/GameGridTable.ts ***!
  \*****************************************************/
/*! exports provided: GameGridTable */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GameGridTable\", function() { return GameGridTable; });\n/* harmony import */ var _GridTable_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GridTable.js */ \"./lib/rexui/lib/ui/gridtable/GridTable.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar GetValue = Phaser.Utils.Objects.GetValue;\nvar GameGridTable = /** @class */ (function (_super) {\n    __extends(GameGridTable, _super);\n    function GameGridTable(scene, config) {\n        var _this = _super.call(this, scene) || this;\n        if (config)\n            _this.setPosition(config.x, config.y);\n        _this.mGridTable = new _GridTable_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](scene, config);\n        _this.add(_this.table);\n        _this.mConfig = config;\n        _this.addListen();\n        return _this;\n    }\n    GameGridTable.prototype.adjustScrollMode = function (mode) {\n        // // Pre-process cell size\n        // this.mConfig.scrollMode = mode;\n        // const tableCoreConfig: GridTableCoreConfig;\n        // let cellWidth: number;\n        // let cellHeight: number;\n        // if (mode === 0) { // scroll y\n        //     cellWidth = GetValue(tableCoreConfig, \"cellWidth\", undefined);\n        //     this.expandCellSize = (cellWidth === undefined);\n        //     if (cellWidth === undefined) {\n        //         var columns = GetValue(tableCoreConfig, \"columns\", 1);\n        //         this.mConfig.cellWidth = this.width / columns;\n        //     }\n        // } else { // scroll x\n        //     // Swap cell width and cell height\n        //     cellWidth = GetValue(tableCoreConfig, \"cellHeight\", undefined);\n        //     cellHeight = GetValue(tableCoreConfig, 'cellWidth', undefined);\n        //     this.expandCellSize = (cellWidth === undefined);\n        //     config.cellWidth = cellWidth;\n        //     config.cellHeight = cellHeight;\n        // }\n        // this.table = new Table(this, config);\n    };\n    /**\n     * gridtable\n     * @param width\n     * @param height\n     * @param x\n     * @param y\n     */\n    GameGridTable.prototype.adjustMask = function (x, y, width, height) {\n        if (x === void 0) { x = this.mConfig.x; }\n        if (y === void 0) { y = this.mConfig.y; }\n        if (!this.mGridTable)\n            return;\n        this.mGridTable.x = x;\n        this.mGridTable.y = y;\n        if (width !== this.mGridTable.width || height !== this.mGridTable.height) {\n            this.mGridTable.resize(width, height);\n        }\n    };\n    Object.defineProperty(GameGridTable.prototype, \"gridTable\", {\n        get: function () {\n            return this.mGridTable;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(GameGridTable.prototype, \"childrenMap\", {\n        get: function () {\n            if (this.mGridTable)\n                return this.mGridTable.childrenMap;\n            return undefined;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(GameGridTable.prototype, \"table\", {\n        get: function () {\n            if (this.mGridTable)\n                return this.mGridTable.getElement(\"table\");\n            return undefined;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Only worked when scrollMode is 0\n     * @param hei\n     */\n    GameGridTable.prototype.adjustCellHeight = function (hei) {\n        if (!this.mGridTable)\n            return;\n        var cells = this.mGridTable.getCells();\n        for (var i = 0, len = cells.length; i < len; i++) {\n            this.mGridTable.setCellHeight(i, hei);\n        }\n    };\n    /**\n     * Only worked when scrollMode is 1\n     * @param wid\n     */\n    GameGridTable.prototype.adjusetCellWidth = function (wid) {\n        if (!this.mGridTable)\n            return;\n        var cells = this.mGridTable.getCells();\n        for (var i = 0, len = cells.length; i < len; i++) {\n            this.mGridTable.setCellWidth(i, wid);\n        }\n    };\n    Object.defineProperty(GameGridTable.prototype, \"items\", {\n        get: function () {\n            if (!this.mGridTable)\n                return null;\n            return this.mGridTable.items;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    GameGridTable.prototype.setItems = function (items) {\n        if (this.mGridTable) {\n            this.mGridTable.setItems(items);\n            this.mGridTable.layout();\n        }\n    };\n    GameGridTable.prototype.setColumnCount = function (cnt) {\n        this.mGridTable.setColumnCount(cnt);\n        return this;\n    };\n    GameGridTable.prototype.getCells = function () {\n        return this.mGridTable.getCells();\n    };\n    GameGridTable.prototype.getCell = function (cellIdx) {\n        return this.mGridTable.getCell(cellIdx, true);\n    };\n    GameGridTable.prototype.setT = function (value) {\n        if (this.mGridTable)\n            this.mGridTable.setT(value);\n    };\n    GameGridTable.prototype.addListen = function () {\n        if (this.mGridTable) {\n            this.mGridTable.on(\"cell.1tap\", this.cellTapHandler, this);\n        }\n    };\n    GameGridTable.prototype.removeListen = function () {\n        if (this.mGridTable) {\n            this.mGridTable.off(\"cell.1tap\", this.cellTapHandler, this);\n        }\n    };\n    Object.defineProperty(GameGridTable.prototype, \"x\", {\n        get: function () {\n            if (!this.mGridTable)\n                return 0;\n            return this.mGridTable.x;\n        },\n        set: function (value) {\n            if (this.mGridTable)\n                this.mGridTable.x = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(GameGridTable.prototype, \"y\", {\n        get: function () {\n            if (!this.mGridTable)\n                return 0;\n            return this.mGridTable.y;\n        },\n        set: function (value) {\n            if (this.mGridTable)\n                this.mGridTable.y = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    GameGridTable.prototype.refresh = function () {\n        if (this.mGridTable)\n            this.mGridTable.refresh();\n    };\n    GameGridTable.prototype.resetMask = function (x, y, width, height) {\n        if (this.mGridTable)\n            this.mGridTable.resetMask(x, y, width, height);\n    };\n    GameGridTable.prototype.layout = function () {\n        if (this.mGridTable)\n            this.mGridTable.layout();\n    };\n    GameGridTable.prototype.refreshPos = function (x, y, conx, cony) {\n        if (!this.mGridTable)\n            return;\n        this.mGridTable.x = x;\n        this.mGridTable.y = y;\n        if (this.table && conx !== undefined && cony !== undefined) {\n            this.table.tableOX = conx;\n            this.table.tableOY = cony;\n        }\n        this.adjustMask(x, y);\n        this.mGridTable.layout();\n        this.resetMask();\n    };\n    GameGridTable.prototype.destroy = function () {\n        if (this.mGridTable) {\n            this.removeListen();\n            this.mGridTable.destroy();\n        }\n    };\n    GameGridTable.prototype.cellTapHandler = function (cell) {\n        this.emit(\"cellTap\", cell);\n    };\n    return GameGridTable;\n}(Phaser.GameObjects.Container));\n\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/gridtable/GameGridTable.ts?");

/***/ }),

/***/ "./lib/rexui/lib/ui/gridtable/GridTable.js":
/*!*************************************************!*\
  !*** ./lib/rexui/lib/ui/gridtable/GridTable.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_scrollable_Scrollable_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/scrollable/Scrollable.js */ \"./lib/rexui/lib/ui/utils/scrollable/Scrollable.js\");\n/* harmony import */ var _utils_GetScrollMode_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/GetScrollMode.js */ \"./lib/rexui/lib/ui/utils/GetScrollMode.js\");\n/* harmony import */ var _plugins_gameobjects_gridtable_GridTable_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../plugins/gameobjects/gridtable/GridTable.js */ \"./lib/rexui/lib/plugins/gameobjects/gridtable/GridTable.js\");\n/* harmony import */ var _InjectProperties_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./InjectProperties.js */ \"./lib/rexui/lib/ui/gridtable/InjectProperties.js\");\n/* harmony import */ var _TableOnCellVisible_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./TableOnCellVisible.js */ \"./lib/rexui/lib/ui/gridtable/TableOnCellVisible.js\");\n/* harmony import */ var _input_TableSetInteractive_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./input/TableSetInteractive.js */ \"./lib/rexui/lib/ui/gridtable/input/TableSetInteractive.js\");\n/* harmony import */ var _plugins_utils_object_NOOP_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../plugins/utils/object/NOOP.js */ \"./lib/rexui/lib/plugins/utils/object/NOOP.js\");\n/* harmony import */ var _SetItems_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./SetItems.js */ \"./lib/rexui/lib/ui/gridtable/SetItems.js\");\n\n\n\n\n\n\n\n\n\nconst GetValue = Phaser.Utils.Objects.GetValue;\nclass GridTable extends _utils_scrollable_Scrollable_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(scene, config) {\n        if (config === undefined) {\n            config = {};\n        }\n\n        // Create grid table core\n        var scrollMode = Object(_utils_GetScrollMode_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(config);\n        var tableConfig = GetValue(config, \"table\", undefined);\n        if (tableConfig === undefined) {\n            tableConfig = {};\n        }\n        tableConfig.scrollMode = scrollMode;\n        tableConfig.clamplTableOXY = GetValue(config, \"clamplChildOY\", false);\n        var tableWidth = GetValue(tableConfig, \"width\", undefined);\n        var tableHeight = GetValue(tableConfig, \"height\", undefined);\n        var table = new _plugins_gameobjects_gridtable_GridTable_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](\n            scene,\n            0,\n            0,\n            tableWidth,\n            tableHeight,\n            tableConfig\n        );\n        scene.add.existing(table); // Important: Add to display list for touch detecting\n        var proportion, expand;\n        if (scrollMode === 0) {\n            proportion = tableWidth === undefined ? 1 : 0;\n            expand = tableHeight === undefined;\n        } else {\n            proportion = tableHeight === undefined ? 1 : 0;\n            expand = tableWidth === undefined;\n        }\n        // Inject properties for scrollable interface\n        Object(_InjectProperties_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(table);\n        // Fill config of scrollable\n        config.type = \"rexGridTable\";\n        config.child = {\n            gameObject: table,\n            proportion: proportion,\n            expand: expand,\n        };\n        var spaceConfig = GetValue(config, \"space\", undefined);\n        if (spaceConfig) {\n            spaceConfig.child = spaceConfig.table;\n        }\n        super(scene, config);\n\n        this.addChildrenMap(\"table\", table);\n\n        this.eventEmitter = GetValue(config, \"eventEmitter\", this);\n        var callback = GetValue(config, \"createCellContainerCallback\", _plugins_utils_object_NOOP_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]);\n        var scope = GetValue(\n            config,\n            \"createCellContainerCallbackScope\",\n            undefined\n        );\n        this.setCreateCellContainerCallback(callback, scope);\n\n        _TableOnCellVisible_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].call(this, table);\n\n        if (GetValue(tableConfig, \"interactive\", true)) {\n            _input_TableSetInteractive_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].call(this, table, tableConfig);\n        }\n        this.setItems(GetValue(config, \"items\", []));\n    }\n\n    set tableOX(ox) {\n        const table = this.getElement(\"table\");\n        if (table) table.tableOX = ox;\n    }\n\n    set tableOY(oy) {\n        const table = this.getElement(\"table\");\n        if (table) table.tableOY = oy;\n    }\n    setColumnCount(cnt) {\n        const table = this.getElement(\"table\");\n        if (table) table.setColumnCount(cnt);\n        return this;\n    }\n\n    getCells() {\n        const table = this.getElement(\"table\");\n        return table.table.cells;\n    }\n\n    getCell(cellIdx) {\n        const table = this.getElement(\"table\");\n        return table.getCell(cellIdx, true);\n    }\n    setCreateCellContainerCallback(callback, scope) {\n        this.createCellContainerCallback = callback;\n        this.createCellContainerCallbackScope = scope;\n        return this;\n    }\n\n    resetMask(x,y,width,height){\n        const table = this.getElement(\"table\");\n        const mask = table.getCellsMaskGameObject();\n        if(mask){\n            mask.setPosition(x,y);\n            mask.resize(width,height);\n        }\n    }\n    refresh() {\n        this.setItems(this.items);\n        return this;\n    }\n}\n\nvar methods = {\n    setItems: _SetItems_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"],\n};\nObject.assign(GridTable.prototype, methods);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GridTable);\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/gridtable/GridTable.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/gridtable/InjectProperties.js":
/*!********************************************************!*\
  !*** ./lib/rexui/lib/ui/gridtable/InjectProperties.js ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar InjectProperties = function (table) {\n    Object.defineProperty(table, 'childOY', {\n        configurable: true,\n        get: function () {\n            return table.tableOY;\n        },\n        set: function (value) {\n            table.tableOY = value;\n        }\n    });\n    Object.defineProperty(table, 'topChildOY', {\n        get: function () {\n            return table.topTableOY;\n        }\n    });\n    Object.defineProperty(table, 'bottomChildOY', {\n        get: function () {\n            return table.bottomTableOY;\n        }\n    });\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (InjectProperties);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/gridtable/InjectProperties.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/gridtable/SetItems.js":
/*!************************************************!*\
  !*** ./lib/rexui/lib/ui/gridtable/SetItems.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar SetItems = function (items) {\n    if (items === undefined) {\n        this.items.length = 0;\n    } else {\n        this.items = items;\n    }\n\n    var table = this.childrenMap.child;\n    table.setCellsCount(this.items.length);\n    table.updateTable(true);\n\n    this.resizeController();\n    return this;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (SetItems);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/gridtable/SetItems.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/gridtable/TableOnCellVisible.js":
/*!**********************************************************!*\
  !*** ./lib/rexui/lib/ui/gridtable/TableOnCellVisible.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar TableOnCellVisible = function (table) {\n    table.on('cellvisible', function (cell, cellContainer) {\n        var callback = this.createCellContainerCallback;\n        var scope = this.createCellContainerCallbackScope;\n        cell.item = this.items[cell.index];\n        var cellContainer;\n        if (scope) {\n            cellContainer = callback.call(scope, cell, cellContainer);\n        } else {\n            cellContainer = callback(cell, cellContainer);\n        }\n        if (cellContainer) {\n            if (cellContainer.setOrigin) {\n                cellContainer.setOrigin(0);\n            }\n            if (cellContainer.isRexSizer) {\n                cellContainer.layout(); // Use original size\n            }\n        }\n\n        cell.item = undefined;\n        cell.setContainer(cellContainer);\n    }, this);\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (TableOnCellVisible);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/gridtable/TableOnCellVisible.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/gridtable/input/ClickCell.js":
/*!*******************************************************!*\
  !*** ./lib/rexui/lib/ui/gridtable/input/ClickCell.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _plugins_input_button_Button_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../plugins/input/button/Button.js */ \"./lib/rexui/lib/plugins/input/button/Button.js\");\n/* harmony import */ var _EmitCellEvent_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EmitCellEvent.js */ \"./lib/rexui/lib/ui/gridtable/input/EmitCellEvent.js\");\n\n\n\nvar ClickCell = function (table, tableConfig) {\n    table._click = new _plugins_input_button_Button_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](table, {\n        threshold: 10\n    });\n    table._click.on('click', function (button, gameObject, pointer) {\n        Object(_EmitCellEvent_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this.eventEmitter, 'cell.click', gameObject, pointer.x, pointer.y);\n    }, this);\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ClickCell);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/gridtable/input/ClickCell.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/gridtable/input/EmitCellEvent.js":
/*!***********************************************************!*\
  !*** ./lib/rexui/lib/ui/gridtable/input/EmitCellEvent.js ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar EmitCellEvent = function (eventEmitter, eventName, table, x, y) {\n    var cellIndex;\n    if (y === undefined) {\n        cellIndex = x;\n    } else {\n        cellIndex = table.pointerToCellIndex(x, y);\n    }\n    if ((cellIndex === null) || (cellIndex === undefined)) {\n        return;\n    }\n    var cellContainer = table.getCellContainer(cellIndex);\n    eventEmitter.emit(eventName, cellContainer, cellIndex);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (EmitCellEvent);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/gridtable/input/EmitCellEvent.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/gridtable/input/OverCell.js":
/*!******************************************************!*\
  !*** ./lib/rexui/lib/ui/gridtable/input/OverCell.js ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _EmitCellEvent_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EmitCellEvent.js */ \"./lib/rexui/lib/ui/gridtable/input/EmitCellEvent.js\");\n\n\nvar OverCell = function (table, tableConfig) {\n    table\n        .on('pointermove', OnMove, this)\n        .on('pointerover', OnMove, this)\n        .on('pointerup', OnOut, this)\n        .on('pointerout', OnOut, this);\n}\n\nvar OnMove = function (pointer) {\n    if (pointer.isDown) {\n        return;\n    }\n    var table = this.childrenMap.child;\n    var cellIndex = table.pointerToCellIndex(pointer.x, pointer.y);\n    if (cellIndex === this._lastOverCellIndex) {\n        return;\n    }\n\n    var preCellIndex = this._lastOverCellIndex;\n    this._lastOverCellIndex = cellIndex;\n    Object(_EmitCellEvent_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this.eventEmitter, 'cell.out', table, preCellIndex);\n    Object(_EmitCellEvent_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this.eventEmitter, 'cell.over', table, cellIndex);\n}\n\nvar OnOut = function () {\n    var table = this.childrenMap.child;\n    var cellIndxe = this._lastOverCellIndex;\n    this._lastOverCellIndex = undefined;\n    Object(_EmitCellEvent_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this.eventEmitter, 'cell.out', table, cellIndxe);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (OverCell);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/gridtable/input/OverCell.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/gridtable/input/PressCell.js":
/*!*******************************************************!*\
  !*** ./lib/rexui/lib/ui/gridtable/input/PressCell.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _press_Press_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../press/Press.js */ \"./lib/rexui/lib/ui/press/Press.js\");\n/* harmony import */ var _EmitCellEvent_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EmitCellEvent.js */ \"./lib/rexui/lib/ui/gridtable/input/EmitCellEvent.js\");\n\n\n\nconst GetValue = Phaser.Utils.Objects.GetValue;\n\nvar PressCell = function (table, tableConfig) {\n    var pressConfig = GetValue(tableConfig, 'press', undefined);\n    table._press = new _press_Press_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](table, pressConfig);\n    table._press\n        .on('pressstart', function (press) {\n            var cellIndex = table.pointerToCellIndex(press.x, press.y);\n            press._cellIndex = cellIndex;\n            Object(_EmitCellEvent_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this.eventEmitter, 'cell.pressstart', table, cellIndex);\n        }, this)\n        .on('pressend', function (press) {\n            var cellIndex = press._cellIndex;\n            press._cellIndex = undefined;\n            Object(_EmitCellEvent_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this.eventEmitter, 'cell.pressend', table, cellIndex);\n        }, this)\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (PressCell);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/gridtable/input/PressCell.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/gridtable/input/SwipeCell.js":
/*!*******************************************************!*\
  !*** ./lib/rexui/lib/ui/gridtable/input/SwipeCell.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _swipe_Swipe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../swipe/Swipe.js */ \"./lib/rexui/lib/ui/swipe/Swipe.js\");\n/* harmony import */ var _EmitCellEvent_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EmitCellEvent.js */ \"./lib/rexui/lib/ui/gridtable/input/EmitCellEvent.js\");\n\n\n\nconst GetValue = Phaser.Utils.Objects.GetValue;\n\nvar SwipeCell = function (table, tableConfig) {\n    var swipeConfig = GetValue(tableConfig, 'swipe', undefined);\n    if (swipeConfig === undefined) {\n        swipeConfig = {};\n    }\n    swipeConfig.dir = '4dir';\n    table._swipe = new _swipe_Swipe_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](table, swipeConfig);\n    table._swipe\n        .on('swipe', function (swipe) {\n            var isValidSwipe = (table.scrollMode === 0) ? (swipe.left || swipe.right) : (swipe.up || swipe.down);\n            if (isValidSwipe) {\n                var cellIndex = table.pointerToCellIndex(swipe.x, swipe.y);\n                var dirName =\n                    (swipe.left) ? 'left' :\n                        (swipe.right) ? 'right' :\n                            (swipe.up) ? 'up' :\n                                'down';\n                Object(_EmitCellEvent_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this.eventEmitter, `cell.swipe${dirName}`, table, cellIndex);\n            }\n        }, this)\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (SwipeCell);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/gridtable/input/SwipeCell.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/gridtable/input/TableSetInteractive.js":
/*!*****************************************************************!*\
  !*** ./lib/rexui/lib/ui/gridtable/input/TableSetInteractive.js ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ClickCell_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ClickCell.js */ \"./lib/rexui/lib/ui/gridtable/input/ClickCell.js\");\n/* harmony import */ var _OverCell_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./OverCell.js */ \"./lib/rexui/lib/ui/gridtable/input/OverCell.js\");\n/* harmony import */ var _TapCell_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TapCell.js */ \"./lib/rexui/lib/ui/gridtable/input/TapCell.js\");\n/* harmony import */ var _PressCell_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./PressCell.js */ \"./lib/rexui/lib/ui/gridtable/input/PressCell.js\");\n/* harmony import */ var _SwipeCell_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./SwipeCell.js */ \"./lib/rexui/lib/ui/gridtable/input/SwipeCell.js\");\n\n\n\n\n\n\nvar TableSetInteractive = function (table, tableConfig) {\n    table.setInteractive();\n\n    _ClickCell_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].call(this, table, tableConfig);\n    _OverCell_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].call(this, table, tableConfig);\n    _TapCell_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].call(this, table, tableConfig);\n    _PressCell_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].call(this, table, tableConfig);\n    _SwipeCell_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].call(this, table, tableConfig);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (TableSetInteractive);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/gridtable/input/TableSetInteractive.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/gridtable/input/TapCell.js":
/*!*****************************************************!*\
  !*** ./lib/rexui/lib/ui/gridtable/input/TapCell.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _tap_Tap_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tap/Tap.js */ \"./lib/rexui/lib/ui/tap/Tap.js\");\n/* harmony import */ var _EmitCellEvent_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EmitCellEvent.js */ \"./lib/rexui/lib/ui/gridtable/input/EmitCellEvent.js\");\n\n\n\nconst GetValue = Phaser.Utils.Objects.GetValue;\n\nvar TapCell = function (table, tableConfig) {\n    var tapConfig = GetValue(tableConfig, 'press', undefined);\n    table._tap = new _tap_Tap_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](table, tapConfig);\n    table._tap\n        .on('tap', function (tap) {\n            var eventName = `cell.${tap.tapsCount}tap`\n            Object(_EmitCellEvent_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this.eventEmitter, eventName, tap.gameObject, tap.x, tap.y);\n        }, this)\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (TapCell);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/gridtable/input/TapCell.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/interface/baseUI/Patches.config.ts":
/*!*************************************************************!*\
  !*** ./lib/rexui/lib/ui/interface/baseUI/Patches.config.ts ***!
  \*************************************************************/
/*! exports provided: normalizePatchesConfig, resetPatchesConfig */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"normalizePatchesConfig\", function() { return normalizePatchesConfig; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resetPatchesConfig\", function() { return resetPatchesConfig; });\nvar normalizePatchesConfig = function (config) {\n    config.bottom = (config.bottom !== undefined) ? config.bottom : config.top;\n    config.left = (config.left !== undefined) ? config.left : config.top;\n    config.right = (config.right !== undefined) ? config.right : config.left;\n    return config;\n};\nvar resetPatchesConfig = function (config) {\n    config.top = 0;\n    config.bottom = 0;\n    config.left = 0;\n    config.right = 0;\n    return config;\n};\n\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/interface/baseUI/Patches.config.ts?");

/***/ }),

/***/ "./lib/rexui/lib/ui/interface/baseUI/UIType.ts":
/*!*****************************************************!*\
  !*** ./lib/rexui/lib/ui/interface/baseUI/UIType.ts ***!
  \*****************************************************/
/*! exports provided: UIType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UIType\", function() { return UIType; });\n/**\n * @typedef {number} UIType\n */\n/**\n * @enum {UIType}\n * @memberof tooqinui\n * @readonly\n * @property {number} None 0\n * @property {number} Scene 1\n * @property {number} Normal 2\n * @property {number} Pop 3\n * @property {number} Tips 4\n * @property {number} Monopoly 5\n * @property {number} Activity 6\n*/\nvar UIType;\n(function (UIType) {\n    UIType[UIType[\"None\"] = 0] = \"None\";\n    UIType[UIType[\"Scene\"] = 1] = \"Scene\";\n    UIType[UIType[\"Normal\"] = 2] = \"Normal\";\n    UIType[UIType[\"Pop\"] = 3] = \"Pop\";\n    UIType[UIType[\"Tips\"] = 4] = \"Tips\";\n    UIType[UIType[\"Monopoly\"] = 5] = \"Monopoly\";\n    UIType[UIType[\"Activity\"] = 6] = \"Activity\";\n})(UIType || (UIType = {}));\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/interface/baseUI/UIType.ts?");

/***/ }),

/***/ "./lib/rexui/lib/ui/interface/event/MouseEvent.ts":
/*!********************************************************!*\
  !*** ./lib/rexui/lib/ui/interface/event/MouseEvent.ts ***!
  \********************************************************/
/*! exports provided: CoreUI */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CoreUI\", function() { return CoreUI; });\nvar CoreUI;\n(function (CoreUI) {\n    var MouseEvent;\n    (function (MouseEvent) {\n        MouseEvent[\"Click\"] = \"click\";\n        MouseEvent[\"Up\"] = \"Up\";\n        MouseEvent[\"Down\"] = \"Down\";\n        MouseEvent[\"Hold\"] = \"Hold\";\n        MouseEvent[\"Tap\"] = \"Tap\";\n        MouseEvent[\"Move\"] = \"Move\";\n        MouseEvent[\"Over\"] = \"Over\";\n        MouseEvent[\"Out\"] = \"Out\";\n        MouseEvent[\"DragStart\"] = \"DragStart\";\n        MouseEvent[\"DragStop\"] = \"DragStop\";\n    })(MouseEvent = CoreUI.MouseEvent || (CoreUI.MouseEvent = {}));\n})(CoreUI || (CoreUI = {}));\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/interface/event/MouseEvent.ts?");

/***/ }),

/***/ "./lib/rexui/lib/ui/interface/sound/ISoundConfig.ts":
/*!**********************************************************!*\
  !*** ./lib/rexui/lib/ui/interface/sound/ISoundConfig.ts ***!
  \**********************************************************/
/*! exports provided: SoundField */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SoundField\", function() { return SoundField; });\nvar SoundField;\n(function (SoundField) {\n    SoundField[SoundField[\"Background\"] = 0] = \"Background\";\n    SoundField[SoundField[\"Element\"] = 1] = \"Element\";\n    SoundField[SoundField[\"Effect\"] = 2] = \"Effect\";\n})(SoundField || (SoundField = {}));\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/interface/sound/ISoundConfig.ts?");

/***/ }),

/***/ "./lib/rexui/lib/ui/label/Factory.js":
/*!*******************************************!*\
  !*** ./lib/rexui/lib/ui/label/Factory.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Label_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Label.js */ \"./lib/rexui/lib/ui/label/Label.js\");\n/* harmony import */ var _ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ObjectFactory.js */ \"./lib/rexui/lib/ui/ObjectFactory.js\");\n/* harmony import */ var _plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../plugins/utils/object/SetValue.js */ \"./lib/rexui/lib/plugins/utils/object/SetValue.js\");\n\n\n\n\n_ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].register('label', function (config) {\n    var gameObject = new _Label_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.scene, config);\n    this.scene.add.existing(gameObject);\n    return gameObject;\n});\n\nObject(_plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(window, 'RexPlugins.UI.Label', _Label_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_Label_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/label/Factory.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/label/Label.js":
/*!*****************************************!*\
  !*** ./lib/rexui/lib/ui/label/Label.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _sizer_Sizer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../sizer/Sizer.js */ \"./lib/rexui/lib/ui/sizer/Sizer.js\");\n/* harmony import */ var _utils_AddChildMask_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/AddChildMask.js */ \"./lib/rexui/lib/ui/utils/AddChildMask.js\");\n\n\n\nconst GetValue = Phaser.Utils.Objects.GetValue;\n\nclass Label extends _sizer_Sizer_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(scene, config) {\n        // Create sizer\n        super(scene, config);\n        this.type = 'rexLabel';\n\n        // Add elements\n        var background = GetValue(config, 'background', undefined);\n        var icon = GetValue(config, 'icon', undefined);\n        var iconMask = GetValue(config, 'iconMask', undefined);\n        var text = GetValue(config, 'text', undefined);\n        var action = GetValue(config, 'action', undefined);\n        var actionMask = GetValue(config, 'actionMask', undefined);\n        // Align\n        var align = GetValue(config, 'align', undefined); // undefined/left/top: no space\n        // Space\n        var paddingLeft = GetValue(config, 'space.left', 0);\n        var paddingRight = GetValue(config, 'space.right', 0);\n        var paddingTop = GetValue(config, 'space.top', 0);\n        var paddingBottom = GetValue(config, 'space.bottom', 0);\n        var iconSpace = GetValue(config, 'space.icon', 0);\n        var textSpace = GetValue(config, 'space.text', 0);\n\n        if (background) {\n            this.addBackground(background);\n        }\n\n        // Add space\n        if (\n            (align === 'right') ||\n            (align === 'bottom') ||\n            (align === 'center')\n        ) {\n            this.addSpace();\n        }\n\n        if (icon) {\n            var padding;\n            if (this.orientation === 0) {\n                padding = {\n                    left: paddingLeft,\n                    right: (text || action) ? iconSpace : paddingRight,\n                    top: paddingTop,\n                    bottom: paddingBottom\n                }\n            } else {\n                padding = {\n                    left: paddingLeft,\n                    right: paddingRight,\n                    top: paddingTop,\n                    bottom: (text || action) ? iconSpace : paddingBottom\n                }\n            }\n\n            this.add(icon, 0, 'center', padding);\n\n            if (iconMask) {\n                iconMask = this.addChildMask(icon, icon, 1); // Circle mask\n            }\n        }\n\n        if (text) {\n            var expandTextWidth = GetValue(config, 'expandTextWidth', false);\n            var expandTextHeight = GetValue(config, 'expandTextHeight', false);\n            var proportion, padding, expand;\n            if (this.orientation === 0) {\n                proportion = (expandTextWidth) ? 1 : 0;\n                padding = {\n                    left: (icon) ? 0 : paddingLeft,\n                    right: (action) ? textSpace : paddingRight,\n                    top: paddingTop,\n                    bottom: paddingBottom\n                };\n                expand = expandTextHeight;\n            } else {\n                proportion = (expandTextHeight) ? 1 : 0;\n                padding = {\n                    left: paddingLeft,\n                    right: paddingRight,\n                    top: (icon) ? 0 : paddingTop,\n                    bottom: (action) ? textSpace : paddingBottom\n                }\n                expand = expandTextWidth;\n            }\n            this.add(text, proportion, 'center', padding, expand);\n        }\n\n        if (action) {\n            var padding;\n            if (this.orientation === 0) {\n                padding = {\n                    left: (icon || text) ? 0 : paddingLeft,\n                    right: paddingRight,\n                    top: paddingTop,\n                    bottom: paddingBottom\n                }\n            } else {\n                padding = {\n                    left: paddingLeft,\n                    right: paddingRight,\n                    top: (icon || text) ? 0 : paddingTop,\n                    bottom: paddingBottom\n                }\n            }\n            this.add(action, 0, 'center', padding);\n\n            if (actionMask) {\n                actionMask = this.addChildMask(action, action, 1); // Circle mask\n            }\n        }\n\n        // Add space\n        if (align === 'center') {\n            this.addSpace();\n        }\n\n        this.addChildrenMap('background', background);\n        this.addChildrenMap('icon', icon);\n        this.addChildrenMap('iconMask', iconMask);\n        this.addChildrenMap('text', text);\n        this.addChildrenMap('action', action);\n        this.addChildrenMap('actionMask', actionMask);\n    }\n\n    get text() {\n        var textObject = this.childrenMap.text;\n        if (textObject === undefined) {\n            return '';\n        }\n        var value;\n        if (textObject.text) {\n            value = textObject.text;\n        } else {\n            value = textObject.getData('text');\n        }\n        return value;\n    }\n\n    set text(value) {\n        var textObject = this.childrenMap.text;\n        if (textObject === undefined) {\n            return;\n        }\n        if (textObject.setText) {\n            textObject.setText(value);\n        } else {\n            textObject.setData('text', value);\n        }\n    }\n\n    setText(value) {\n        this.text = value;\n        return this;\n    }\n\n    appendText(value) {\n        this.text += value;\n    }\n\n    layout(parent, newWidth, newHeight) {\n        super.layout(parent, newWidth, newHeight);\n        // Pin icon-mask to icon game object\n        var iconMask = this.childrenMap.iconMask;\n        if (iconMask) {\n            iconMask.setPosition();\n            this.resetChildPositionState(iconMask);\n        }\n        // Pin action-mask to action game object\n        var actionMask = this.childrenMap.actionMask;\n        if (actionMask) {\n            actionMask.setPosition();\n            this.resetChildPositionState(actionMask);\n        }\n        return this;\n    }\n\n    resize(width, height) {\n        super.resize(width, height);\n        // Resize icon-mask to icon game object\n        var iconMask = this.childrenMap.iconMask;\n        if (iconMask) {\n            iconMask.resize();\n        }\n        // Resize action-mask to icon game object\n        var actionMask = this.childrenMap.actionMask;\n        if (actionMask) {\n            actionMask.resize();\n        }\n        return this;\n    }\n}\n\nvar methods = {\n    addChildMask: _utils_AddChildMask_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]\n}\n\nObject.assign(\n    Label.prototype,\n    methods\n);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Label);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/label/Label.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/menu/Collapse.js":
/*!*******************************************!*\
  !*** ./lib/rexui/lib/ui/menu/Collapse.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _GetEaseConfig_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GetEaseConfig.js */ \"./lib/rexui/lib/ui/menu/GetEaseConfig.js\");\n\n\nvar Collapse = function () {\n    this.root.emit('collapse', this, this.parentButton, this.parentMenu);\n    this.scaleDownDestroy(Object(_GetEaseConfig_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, this.root.easeOut));\n    this.collapseSubMenu();\n    return this;\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (Collapse);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/menu/Collapse.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/menu/CollapseSubMenu.js":
/*!**************************************************!*\
  !*** ./lib/rexui/lib/ui/menu/CollapseSubMenu.js ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar CollapseSubMenu = function () {\n    if (this.childrenMap.subMenu === undefined) {\n        return this;\n    }\n\n    var subMenu = this.childrenMap.subMenu;\n    this.childrenMap.subMenu = undefined;\n    this.remove(subMenu);\n    subMenu.collapse();\n    return this;\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (CollapseSubMenu);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/menu/CollapseSubMenu.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/menu/CreateBackground.js":
/*!***************************************************!*\
  !*** ./lib/rexui/lib/ui/menu/CreateBackground.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar CreateBackground = function (scene, items, callback, scope) {\n    var background;\n    if (callback) {\n        items.scene = scene;\n        if (scope) {\n            background = callback.call(scope, items);\n        } else {\n            background = callback(items);\n        }\n        items.scene = undefined;\n    }\n\n    return background;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (CreateBackground);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/menu/CreateBackground.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/menu/CreateButtons.js":
/*!************************************************!*\
  !*** ./lib/rexui/lib/ui/menu/CreateButtons.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar CreateButtons = function (scene, items, callback, scope) {\n    var item;\n    var buttons = [],\n        button;\n    if (items && callback) {\n        for (var i = 0, cnt = items.length; i < cnt; i++) {\n            item = items[i];\n            item.scene = scene;\n            if (scope) {\n                button = callback.call(scope, item, i, items);\n            } else {\n                button = callback(item, i, items);\n            }\n            item.scene = undefined;\n            buttons.push(button);\n        }\n    }\n\n    return buttons;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (CreateButtons);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/menu/CreateButtons.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/menu/ExpandSubMenu.js":
/*!************************************************!*\
  !*** ./lib/rexui/lib/ui/menu/ExpandSubMenu.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar ExpandSubMenu = function (parentButton, items) {\n    this.collapseSubMenu();\n\n    var orientation\n    if (this.root.toggleOrientation) {\n        orientation = (this.orientation === 0) ? 1 : 0;\n    } else {\n        orientation = this.orientation;\n    }\n\n    var subMenu = new this.constructor(this.scene, {\n        items: items,\n        orientation: orientation,\n\n        createBackgroundCallback: this.root.createBackgroundCallback,\n        createBackgroundCallbackScope: this.root.createBackgroundCallbackScope,\n        createButtonCallback: this.root.createButtonCallback,\n        createButtonCallbackScope: this.root.createButtonCallbackScope,\n        easeIn: this.root.easeIn,\n        easeOut: this.root.easeOut,\n\n        _rootMenu: this.root,\n        _parentMenu: this,\n        _parentButton: parentButton\n    });\n    this.pin(subMenu);\n    this.childrenMap.subMenu = subMenu;\n    this.root.emit('expand', subMenu, parentButton, this);\n    return this;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ExpandSubMenu);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/menu/ExpandSubMenu.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/menu/Factory.js":
/*!******************************************!*\
  !*** ./lib/rexui/lib/ui/menu/Factory.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Menu_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Menu.js */ \"./lib/rexui/lib/ui/menu/Menu.js\");\n/* harmony import */ var _ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ObjectFactory.js */ \"./lib/rexui/lib/ui/ObjectFactory.js\");\n/* harmony import */ var _plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../plugins/utils/object/SetValue.js */ \"./lib/rexui/lib/plugins/utils/object/SetValue.js\");\n\n\n\n\n_ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].register('menu', function (config) {\n    var gameObject = new _Menu_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.scene, config);\n    this.scene.add.existing(gameObject); // It won't be added to display list, neither update list\n    return gameObject;\n});\n\nObject(_plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(window, 'RexPlugins.UI.Menu', _Menu_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_Menu_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/menu/Factory.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/menu/GetEaseConfig.js":
/*!************************************************!*\
  !*** ./lib/rexui/lib/ui/menu/GetEaseConfig.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar GetEaseConfig = function (menu, config) {\n    config.orientation = menu.orientation;\n    return config;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GetEaseConfig);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/menu/GetEaseConfig.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/menu/Menu.js":
/*!***************************************!*\
  !*** ./lib/rexui/lib/ui/menu/Menu.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _buttons_Buttons_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../buttons/Buttons.js */ \"./lib/rexui/lib/ui/buttons/Buttons.js\");\n/* harmony import */ var _Methods_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Methods.js */ \"./lib/rexui/lib/ui/menu/Methods.js\");\n/* harmony import */ var _CreateBackground_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./CreateBackground.js */ \"./lib/rexui/lib/ui/menu/CreateBackground.js\");\n/* harmony import */ var _CreateButtons_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./CreateButtons.js */ \"./lib/rexui/lib/ui/menu/CreateButtons.js\");\n/* harmony import */ var _plugins_utils_defaultbounds_GetDefaultBounds_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../plugins/utils/defaultbounds/GetDefaultBounds.js */ \"./lib/rexui/lib/plugins/utils/defaultbounds/GetDefaultBounds.js\");\n/* harmony import */ var _MenuSetInteractive_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./MenuSetInteractive.js */ \"./lib/rexui/lib/ui/menu/MenuSetInteractive.js\");\n/* harmony import */ var _GetEaseConfig_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./GetEaseConfig.js */ \"./lib/rexui/lib/ui/menu/GetEaseConfig.js\");\n\n\n\n\n\n\n\n\nconst GetValue = Phaser.Utils.Objects.GetValue;\n\nclass Menu extends _buttons_Buttons_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(scene, config) {\n        if (config === undefined) {\n            config = {};\n        }\n\n        // Orientation\n        if (!config.hasOwnProperty('orientation')) {\n            config.orientation = 1; // y\n        }\n\n        // Parent\n        var rootMenu = config._rootMenu;\n        var parentMenu = config._parentMenu;\n        var parentButton = config._parentButton;\n        // Items\n        var items = GetValue(config, 'items', undefined);\n        // Background\n        var createBackgroundCallback = GetValue(config, 'createBackgroundCallback', undefined);\n        var createBackgroundCallbackScope = GetValue(config, 'createBackgroundCallbackScope', undefined);\n        config.background = Object(_CreateBackground_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(scene, items, createBackgroundCallback, createBackgroundCallbackScope);\n        // Buttons\n        var createButtonCallback = GetValue(config, 'createButtonCallback', undefined);\n        var createButtonCallbackScope = GetValue(config, 'createButtonCallbackScope', undefined);\n        config.buttons = Object(_CreateButtons_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(scene, items, createButtonCallback, createButtonCallbackScope);\n\n        super(scene, config);\n        this.type = 'rexMenu';\n\n        this.items = items;        \n        this.root = (rootMenu === undefined) ? this : rootMenu;\n        this.parentMenu = parentMenu;\n        this.parentButton = parentButton;\n        var isRootMenu = (this.root === this);\n        if (isRootMenu) {\n            // Bounds\n            var bounds = config.bounds;\n            if (bounds === undefined) {\n                bounds = Object(_plugins_utils_defaultbounds_GetDefaultBounds_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(scene);\n            }\n            this.bounds = bounds;\n\n            // Expand mode\n            this.expandEventName = GetValue(config, 'expandEvent', 'button.click');\n            // toggleOrientation mode\n            this.toggleOrientation = GetValue(config, 'toggleOrientation', false);\n            // Transition\n            this.easeIn = GetValue(config, 'easeIn', 0);\n            if (typeof (this.easeIn) === 'number') {\n                this.easeIn = { duration: this.easeIn };\n            }\n            this.easeOut = GetValue(config, 'easeOut', 0);\n            if (typeof (this.easeOut) === 'number') {\n                this.easeOut = { duration: this.easeOut };\n            }\n            // Callbacks\n            this.createBackgroundCallback = createBackgroundCallback;\n            this.createBackgroundCallbackScope = createBackgroundCallbackScope;\n            this.createButtonCallback = createButtonCallback;\n            this.createButtonCallbackScope = createButtonCallbackScope;\n\n            // Event flag\n            this._isPassedEvent = false;\n        }\n        this\n            .setOrigin(0)\n            .layout();\n\n        var bounds = this.root.bounds;\n        // Align to parentButton\n        if (isRootMenu) {\n            this.expandOrientation = [\n                ((this.y < bounds.centerY) ? 1 : 3), // Expand down(1)/up(3)\n                ((this.x < bounds.centerX) ? 0 : 2)  // Expand right(0)/left(2)\n            ];\n\n        } else { // Sub-menu, align to parent button\n            var expandOrientation = this.root.expandOrientation[parentMenu.orientation];\n            switch (expandOrientation) {\n                case 0: //Expand right\n                    this.alignTop(parentButton.top).alignLeft(parentButton.right);\n                    break;\n                case 1: //Expand down\n                    this.alignLeft(parentButton.left).alignTop(parentButton.bottom);\n                    break;\n                case 2: //Expand left\n                    this.alignTop(parentButton.top).alignRight(parentButton.left);\n                    break;\n                case 3: //Expand up\n                    this.alignLeft(parentButton.left).alignBottom(parentButton.top);\n                    break;\n            }\n        }\n        this.pushIntoBounds(bounds);\n\n        Object(_MenuSetInteractive_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this);\n\n        // Ease in menu\n        this.popUp(Object(_GetEaseConfig_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(this, this.root.easeIn));\n    }\n\n    isInTouching(pointer) {\n        if (super.isInTouching(pointer)) {\n            return true;\n        } else if (this.childrenMap.subMenu) {\n            return this.childrenMap.subMenu.isInTouching(pointer);\n        } else {\n            return false;\n        }\n    }\n}\n\nObject.assign(\n    Menu.prototype,\n    _Methods_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]\n);\n/* harmony default export */ __webpack_exports__[\"default\"] = (Menu);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/menu/Menu.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/menu/MenuSetInteractive.js":
/*!*****************************************************!*\
  !*** ./lib/rexui/lib/ui/menu/MenuSetInteractive.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar MenuSetInteractive = function (menu) {\n    menu\n        // Expand sub event\n        .on(menu.root.expandEventName, function (button, index) {\n            if (this._isPassedEvent) {\n                return;\n            }\n            var subItems = this.items[index].children;\n            if (subItems) {\n                this.expandSubMenu(button, subItems);\n            } else {\n                // this.root.on('button.click', button); // TODO\n            }\n        }, menu)\n        // Click any button\n        .on('button.click', function (button, index, pointer, event) {\n            // Pass event to root menu object\n            if (this !== this.root) {\n                this.root._isPassedEvent = true;\n                this.root.emit('button.click', button, index, pointer, event);\n                this.root._isPassedEvent = false;\n            }\n        }, menu)\n        //Pointer over any button\n        .on('button.over', function (button, index, pointer, event) {\n            // Pass event to root menu object\n            if (this !== this.root) {\n                this.root._isPassedEvent = true;\n                this.root.emit('button.over', button, index, pointer, event);\n                this.root._isPassedEvent = false;\n            }\n        }, menu)\n        //Pointer out any button\n        .on('button.out', function (button, index, pointer, event) {\n            // Pass event to root menu object\n            if (this !== this.root) {\n                this.root._isPassedEvent = true;\n                this.root.emit('button.out', button, index, pointer, event);\n                this.root._isPassedEvent = false;\n            }\n        }, menu);\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (MenuSetInteractive);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/menu/MenuSetInteractive.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/menu/Methods.js":
/*!******************************************!*\
  !*** ./lib/rexui/lib/ui/menu/Methods.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ExpandSubMenu_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ExpandSubMenu.js */ \"./lib/rexui/lib/ui/menu/ExpandSubMenu.js\");\n/* harmony import */ var _Collapse_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Collapse.js */ \"./lib/rexui/lib/ui/menu/Collapse.js\");\n/* harmony import */ var _CollapseSubMenu_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./CollapseSubMenu.js */ \"./lib/rexui/lib/ui/menu/CollapseSubMenu.js\");\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    expandSubMenu: _ExpandSubMenu_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    collapse: _Collapse_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n    collapseSubMenu: _CollapseSubMenu_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n});\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/menu/Methods.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/ninepatch/Factory.js":
/*!***********************************************!*\
  !*** ./lib/rexui/lib/ui/ninepatch/Factory.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _NinePatch_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./NinePatch.js */ \"./lib/rexui/lib/ui/ninepatch/NinePatch.js\");\n/* harmony import */ var _ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ObjectFactory.js */ \"./lib/rexui/lib/ui/ObjectFactory.js\");\n/* harmony import */ var _plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../plugins/utils/object/SetValue.js */ \"./lib/rexui/lib/plugins/utils/object/SetValue.js\");\n\n\n\n\n_ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].register('ninePatch', function (x, y, width, height, key, columns, rows, config) {\n    var gameObject = new _NinePatch_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.scene, x, y, width, height, key, columns, rows, config);\n    this.scene.add.existing(gameObject);\n    return gameObject;\n});\n\nObject(_plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(window, 'RexPlugins.UI.NinePatch', _NinePatch_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_NinePatch_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/ninepatch/Factory.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/ninepatch/NinePatch.js":
/*!*************************************************!*\
  !*** ./lib/rexui/lib/ui/ninepatch/NinePatch.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _plugins_gameobjects_ninepatch_NinePatch_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../plugins/gameobjects/ninepatch/NinePatch.js */ \"./lib/rexui/lib/plugins/gameobjects/ninepatch/NinePatch.js\");\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_plugins_gameobjects_ninepatch_NinePatch_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/ninepatch/NinePatch.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/ninepatch/NineSlicePatch.ts":
/*!******************************************************!*\
  !*** ./lib/rexui/lib/ui/ninepatch/NineSlicePatch.ts ***!
  \******************************************************/
/*! exports provided: NineSlicePatch */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NineSlicePatch\", function() { return NineSlicePatch; });\n/* harmony import */ var _interface_baseUI_Patches_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../interface/baseUI/Patches.config */ \"./lib/rexui/lib/ui/interface/baseUI/Patches.config.ts\");\n/* harmony import */ var _baseUI_BaseUI__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../baseUI/BaseUI */ \"./lib/rexui/lib/ui/baseUI/BaseUI.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar GetValue = Phaser.Utils.Objects.GetValue;\nvar NineSlicePatch = /** @class */ (function (_super) {\n    __extends(NineSlicePatch, _super);\n    function NineSlicePatch(scene, x, y, width, height, key, frame, config, dpr, scale) {\n        var _this = _super.call(this, scene, dpr, scale) || this;\n        _this.dpr = dpr || 1;\n        _this.scale = scale || 1;\n        _this.patchesConfig = { top: 0, left: 0, right: 0, bottom: 0 };\n        _this.setConfig(config);\n        _this.setSize(width, height);\n        _this.setTexture(key, frame);\n        return _this;\n    }\n    NineSlicePatch.prototype.resize = function (width, height) {\n        width = Math.round(width);\n        height = Math.round(height);\n        if (!this.patchesConfig) {\n            return this;\n        }\n        if (this.width === width && this.height === height) {\n            return this;\n        }\n        // width = Math.max(width, this.patchesConfig.left + this.patchesConfig.right);\n        // height = Math.max(height, this.patchesConfig.top + this.patchesConfig.bottom);\n        this.setSize(width, height);\n        this.drawPatches();\n        return;\n    };\n    NineSlicePatch.prototype.getConfig = function () {\n        return this.patchesConfig;\n    };\n    NineSlicePatch.prototype.setConfig = function (config) {\n        Object.assign(this.patchesConfig, config);\n        this.patchesConfig.top = Math.round(this.patchesConfig.top);\n        if (this.patchesConfig.right)\n            this.patchesConfig.right = Math.round(this.patchesConfig.right);\n        if (this.patchesConfig.bottom)\n            this.patchesConfig.bottom = Math.round(this.patchesConfig.bottom);\n        if (this.patchesConfig.left)\n            this.patchesConfig.left = Math.round(this.patchesConfig.left);\n        Object(_interface_baseUI_Patches_config__WEBPACK_IMPORTED_MODULE_0__[\"normalizePatchesConfig\"])(config);\n    };\n    NineSlicePatch.prototype.setTexture = function (key, frame) {\n        this.originTexture = this.scene.textures.get(key);\n        this.setFrame(frame);\n        return this;\n    };\n    NineSlicePatch.prototype.setFrame = function (frame) {\n        this.originFrame = this.originTexture.frames[frame] || this.originTexture.frames[NineSlicePatch.__BASE];\n        this.createPatches();\n        this.drawPatches();\n        return this;\n    };\n    NineSlicePatch.prototype.setSize = function (width, height) {\n        _super.prototype.setSize.call(this, width, height);\n        var right = this.width - this.patchesConfig.right > 0 ? this.width - this.patchesConfig.right : this.patchesConfig.right;\n        var bottom = this.height - this.patchesConfig.bottom > 0 ? this.height - this.patchesConfig.bottom : this.patchesConfig.right;\n        this.finalXs = [0, this.patchesConfig.left, right, this.width];\n        this.finalYs = [0, this.patchesConfig.top, bottom, this.height];\n        return this;\n    };\n    NineSlicePatch.prototype.setTint = function (tint) {\n        this.tint = tint;\n        return this;\n    };\n    NineSlicePatch.prototype.setTintFill = function (tint) {\n        this.tint = tint;\n        this.tintFill = true;\n        return this;\n    };\n    Object.defineProperty(NineSlicePatch.prototype, \"tintFill\", {\n        get: function () {\n            return this.first && this.first.tintFill;\n        },\n        set: function (value) {\n            this.each(function (patch) { return patch.tintFill = value; });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(NineSlicePatch.prototype, \"tint\", {\n        set: function (value) {\n            this.each(function (patch) { return patch.setTint(value); });\n            this.internalTint = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(NineSlicePatch.prototype, \"isTinted\", {\n        get: function () {\n            return this.first && this.first.isTinted;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    NineSlicePatch.prototype.clearTint = function () {\n        this.each(function (patch) { return patch.clearTint(); });\n        this.internalTint = undefined;\n        this.tintFill = false;\n    };\n    NineSlicePatch.prototype.createPatches = function () {\n        // The positions we want from the base texture\n        // xy90\n        var textureXs = [0, this.patchesConfig.left, this.originFrame.width - this.patchesConfig.right, this.originFrame.width];\n        var textureYs = [0, this.patchesConfig.top, this.originFrame.height - this.patchesConfig.bottom, this.originFrame.height];\n        var patchIndex = 0;\n        for (var yi = 0; yi < 3; yi++) {\n            for (var xi = 0; xi < 3; xi++) {\n                this.createPatchFrame(this.getPatchNameByIndex(patchIndex), textureXs[xi], // x\n                textureYs[yi], // y\n                textureXs[xi + 1] - textureXs[xi], // width\n                textureYs[yi + 1] - textureYs[yi] // height\n                );\n                ++patchIndex;\n            }\n        }\n    };\n    NineSlicePatch.prototype.drawPatches = function () {\n        var tintFill = this.tintFill;\n        this.removeAll(true);\n        var patchIndex = 0;\n        for (var yi = 0; yi < 3; yi++) {\n            // 012\n            if (this.height < this.patchesConfig.bottom + this.patchesConfig.top && yi === 1) {\n                continue;\n            }\n            for (var xi = 0; xi < 3; xi++) {\n                // 012\n                if (this.width < this.patchesConfig.left + this.patchesConfig.right && xi === 1) {\n                    continue;\n                }\n                var patch = this.originTexture.frames[this.getPatchNameByIndex(patchIndex)];\n                var patchImg = new Phaser.GameObjects.Image(this.scene, 0, 0, patch.texture.key, patch.name);\n                patchImg.setOrigin(0);\n                patchImg.setPosition((this.finalXs[xi] * 1000 - this.width * this.originX * 1000) / 1000, (this.finalYs[yi] * 1000 - this.height * this.originY * 1000) / 1000);\n                // let widScale: number = (this.finalXs[xi + 1] - this.finalXs[xi]) / patch.width;\n                // let heiScale: number = (this.finalYs[yi + 1] - this.finalYs[yi]) / patch.height;\n                // // \n                // // ++\n                // if (patch.width > this.width) widScale = this.width / patch.width;\n                // if (patch.height > this.height) heiScale = this.height / patch.height;\n                // patchImg.setScale(\n                //     widScale,\n                //     heiScale\n                // );\n                patchImg.displayWidth = this.finalXs[xi + 1] - this.finalXs[xi];\n                patchImg.displayHeight = this.finalYs[yi + 1] - this.finalYs[yi];\n                this.add(patchImg);\n                if (this.internalTint)\n                    patchImg.setTint(this.internalTint);\n                patchImg.tintFill = tintFill;\n                ++patchIndex;\n            }\n        }\n    };\n    NineSlicePatch.prototype.createPatchFrame = function (patch, x, y, width, height) {\n        if (this.originTexture.frames.hasOwnProperty(patch)) {\n            return;\n        }\n        this.originTexture.add(patch, this.originFrame.sourceIndex, this.originFrame.cutX + x, this.originFrame.cutY + y, width, height);\n    };\n    NineSlicePatch.prototype.getPatchNameByIndex = function (index) {\n        return this.originFrame.name + \"|\" + NineSlicePatch.patches[index];\n    };\n    NineSlicePatch.prototype.calculScale = function (num0, num1) {\n        return (num1 * num0) / (2 * num1 * (num1 + num0));\n    };\n    NineSlicePatch.__BASE = \"__BASE\";\n    NineSlicePatch.patches = [\"[0][0]\", \"[1][0]\", \"[2][0]\", \"[0][1]\", \"[1][1]\", \"[2][1]\", \"[0][2]\", \"[1][2]\", \"[2][2]\"];\n    return NineSlicePatch;\n}(_baseUI_BaseUI__WEBPACK_IMPORTED_MODULE_1__[\"BaseUI\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/ninepatch/NineSlicePatch.ts?");

/***/ }),

/***/ "./lib/rexui/lib/ui/pan/Factory.js":
/*!*****************************************!*\
  !*** ./lib/rexui/lib/ui/pan/Factory.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Pan_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Pan.js */ \"./lib/rexui/lib/ui/pan/Pan.js\");\n/* harmony import */ var _ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ObjectFactory.js */ \"./lib/rexui/lib/ui/ObjectFactory.js\");\n/* harmony import */ var _plugins_utils_system_IsGameObject_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../plugins/utils/system/IsGameObject.js */ \"./lib/rexui/lib/plugins/utils/system/IsGameObject.js\");\n/* harmony import */ var _plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../plugins/utils/object/SetValue.js */ \"./lib/rexui/lib/plugins/utils/object/SetValue.js\");\n\n\n\n\n\n_ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].register('pan', function (gameObject, config) {\n    if (!Object(_plugins_utils_system_IsGameObject_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(gameObject)) {\n        config = gameObject;\n        gameObject = this.scene;\n    }\n    return new _Pan_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](gameObject, config);\n});\n\nObject(_plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(window, 'RexPlugins.UI.Pan', _Pan_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_Pan_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/pan/Factory.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/pan/Pan.js":
/*!*************************************!*\
  !*** ./lib/rexui/lib/ui/pan/Pan.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _plugins_input_gestures_pan_Pan_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../plugins/input/gestures/pan/Pan.js */ \"./lib/rexui/lib/plugins/input/gestures/pan/Pan.js\");\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_plugins_input_gestures_pan_Pan_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/pan/Pan.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/panel/Panel.ts":
/*!*****************************************!*\
  !*** ./lib/rexui/lib/ui/panel/Panel.ts ***!
  \*****************************************/
/*! exports provided: Panel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Panel\", function() { return Panel; });\n/* harmony import */ var _tool_Tool__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tool/Tool */ \"./lib/rexui/lib/ui/tool/Tool.ts\");\n/* harmony import */ var _baseUI_BaseUI__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../baseUI/BaseUI */ \"./lib/rexui/lib/ui/baseUI/BaseUI.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar Panel = /** @class */ (function (_super) {\n    __extends(Panel, _super);\n    function Panel(scene, world, music) {\n        var _this = _super.call(this, scene, world.uiRatio, world.uiScale) || this;\n        /**\n         * uishow\n         */\n        _this.mPreLoad = false;\n        _this.mTweening = false;\n        _this.mReloadTimes = 0;\n        _this.mTweenBoo = true;\n        _this.mMute = false;\n        _this.mEnabled = true;\n        _this.soundMap = new Map();\n        _this.scene = scene;\n        _this.mWorld = world;\n        _this.soundGroup = music;\n        _this.mInitialized = false;\n        _this.setTween(false);\n        return _this;\n    }\n    Panel.prototype.addListen = function () {\n        if (!this.mInitialized)\n            return;\n        this.removeListen();\n        _super.prototype.addListen.call(this);\n    };\n    Panel.prototype.removeListen = function () {\n        if (!this.mInitialized)\n            return;\n        _super.prototype.removeListen.call(this);\n    };\n    Panel.prototype.setFollow = function (gameObject, froscene, posFunc) {\n        this.mFollow = gameObject;\n        this.mFroscene = froscene;\n        if (posFunc)\n            this.posFunc = posFunc;\n    };\n    Panel.prototype.isShow = function () {\n        return this.mShow;\n    };\n    Panel.prototype.hide = function () {\n        if (this.soundGroup && this.soundGroup.close)\n            this.playSound(this.soundGroup.close);\n        if (!this.mTweening && this.mTweenBoo) {\n            this.showTween(false);\n        }\n        else {\n            this.destroy();\n        }\n    };\n    Panel.prototype.destroy = function () {\n        if (this.mPanelTween) {\n            this.mPanelTween.stop();\n            this.mPanelTween.remove();\n            this.mPanelTween = undefined;\n        }\n        if (this.mResources) {\n            this.mResources.clear();\n            this.mResources = undefined;\n        }\n        this.mMute = false;\n        this.mInitialized = false;\n        this.mShow = false;\n        this.width = 0;\n        this.height = 0;\n        this.mReloadTimes = 0;\n        this.offLoad();\n        _super.prototype.destroy.call(this);\n    };\n    Panel.prototype.resize = function (wid, hei) {\n    };\n    Panel.prototype.show = function (param) {\n        this.mShowData = param;\n        if (this.mPreLoad)\n            return;\n        if (!this.mInitialized) {\n            this.preload();\n            return;\n        }\n        if (this.mShow)\n            return;\n        if (this.soundGroup && this.soundGroup.open)\n            this.playSound(this.soundGroup.open);\n        if (!this.mTweening && this.mTweenBoo) {\n            this.showTween(true);\n        }\n        else {\n            this.mShow = true;\n        }\n        this.addListen();\n    };\n    Panel.prototype.update = function (param) {\n        this.mShowData = param;\n    };\n    Panel.prototype.updateUIState = function (activeUI) {\n    };\n    Panel.prototype.tweenExpand = function (tweenBoo) {\n    };\n    Panel.prototype.setTween = function (boo) {\n        this.mTweenBoo = boo;\n    };\n    Object.defineProperty(Panel.prototype, \"showData\", {\n        get: function () {\n            return this.mShowData;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Panel.prototype, \"interactive\", {\n        get: function () {\n            return this.mEnabled;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Panel.prototype.showTween = function (show) {\n        var _this = this;\n        this.mTweening = true;\n        var scale = show ? this.scale : 0;\n        this.scale = scale;\n        if (this.mPanelTween) {\n            this.mPanelTween.stop();\n        }\n        this.mPanelTween = this.scene.tweens.add({\n            targets: this,\n            duration: 200,\n            ease: \"Linear\",\n            props: {\n                scaleX: { value: scale },\n                scaleY: { value: scale },\n            },\n            onComplete: function () {\n                _this.tweenComplete(show);\n            },\n            onCompleteParams: [this]\n        });\n    };\n    Panel.prototype.tweenComplete = function (show) {\n        this.mTweening = false;\n        this.mPanelTween.stop();\n        this.mShow = show;\n        if (!show) {\n            this.destroy();\n        }\n    };\n    Panel.prototype.init = function () {\n        this.mInitialized = true;\n        if (this.mResources) {\n            this.mResources.clear();\n            this.mResources = null;\n        }\n        this.show(this.mShowData);\n    };\n    Panel.prototype.addAtlas = function (key, texture, data) {\n        if (!this.mResources) {\n            this.mResources = new Map();\n        }\n        this.mResources.set(key, {\n            dpr: this.dpr,\n            type: \"atlas\",\n            texture: texture,\n            data: data\n        });\n    };\n    Panel.prototype.addImage = function (key, value) {\n        if (!this.mResources) {\n            this.mResources = new Map();\n        }\n        if (value === undefined)\n            value = key;\n        this.mResources.set(key, {\n            dpr: this.dpr,\n            type: \"image\",\n            texture: value\n        });\n    };\n    Panel.prototype.preload = function () {\n        var _this = this;\n        this.mPreLoad = true;\n        if (!this.scene) {\n            return;\n        }\n        if (this.mResources) {\n            this.mResources.forEach(function (resource, key) {\n                _this.addResources(key, resource);\n            }, this);\n        }\n        this.startLoad();\n    };\n    Panel.prototype.loadComplete = function (loader, totalComplete, totalFailed) {\n        this.mPreLoad = false;\n        if (this.mInitialized) {\n            return;\n        }\n        if (totalFailed > 0 && this.mResources && this.mResources.size > 0) {\n            this.reload();\n            return;\n        }\n        this.offLoad();\n        this.init();\n    };\n    Panel.prototype.loadError = function (file) {\n        if (!this.mResources) {\n            return;\n        }\n        var resource = this.mResources.get(file.key);\n        if (!resource) {\n            return;\n        }\n        resource.dpr = 2;\n        if (!this.mReLoadResources) {\n            this.mReLoadResources = new Map();\n        }\n        this.mReLoadResources.set(file.key, resource);\n    };\n    Panel.prototype.onFileKeyComplete = function (key) {\n        if (!this.mResources) {\n            return;\n        }\n        if (this.mResources.has(key)) {\n            this.mResources.delete(key);\n        }\n    };\n    Panel.prototype.addResources = function (key, resource) {\n        // TODO Add IResource interface\n        if (!this.scene) {\n            return;\n        }\n        // TODO add load type\n        // if (resource.data) this.scene.load.atlas(key, Url.getUIRes(resource.dpr, resource.texture), Url.getUIRes(resource.dpr, resource.data));\n    };\n    Panel.prototype.reload = function () {\n        var _this = this;\n        if (!this.mReLoadResources || this.mReLoadResources.size <= 0) {\n            return;\n        }\n        if (++this.mReloadTimes > 1) {\n            return;\n        }\n        this.mReLoadResources.forEach(function (resource, key) {\n            _this.addResources(key, resource);\n        }, this);\n        this.startLoad();\n    };\n    Panel.prototype.startLoad = function () {\n        if (!this.scene) {\n            return;\n        }\n        this.scene.load.on(Phaser.Loader.Events.FILE_COMPLETE, this.onFileKeyComplete, this);\n        this.scene.load.once(Phaser.Loader.Events.COMPLETE, this.loadComplete, this);\n        this.scene.load.on(Phaser.Loader.Events.FILE_LOAD_ERROR, this.loadError, this);\n        this.scene.load.start();\n    };\n    Panel.prototype.offLoad = function () {\n        if (!this.scene) {\n            return;\n        }\n        this.scene.load.off(Phaser.Loader.Events.FILE_COMPLETE, this.onFileKeyComplete, this);\n        this.scene.load.off(Phaser.Loader.Events.COMPLETE, this.loadComplete, this);\n        this.scene.load.off(Phaser.Loader.Events.FILE_LOAD_ERROR, this.loadError, this);\n    };\n    Panel.prototype.sceneClick = function (pointer) {\n        if (_tool_Tool__WEBPACK_IMPORTED_MODULE_0__[\"Tool\"].checkPointerContains(this, pointer) && this.checkPointerDelection(pointer)) {\n            this.emit(\"panelClick\", pointer);\n        }\n    };\n    Panel.prototype.uiClick = function (pointer) {\n        if (this.checkPointerDelection(pointer)) {\n            this.emit(\"panelClick\", pointer);\n        }\n    };\n    return Panel;\n}(_baseUI_BaseUI__WEBPACK_IMPORTED_MODULE_1__[\"BaseUI\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/panel/Panel.ts?");

/***/ }),

/***/ "./lib/rexui/lib/ui/pinch/Factory.js":
/*!*******************************************!*\
  !*** ./lib/rexui/lib/ui/pinch/Factory.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Pinch_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Pinch.js */ \"./lib/rexui/lib/ui/pinch/Pinch.js\");\n/* harmony import */ var _ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ObjectFactory.js */ \"./lib/rexui/lib/ui/ObjectFactory.js\");\n/* harmony import */ var _plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../plugins/utils/object/SetValue.js */ \"./lib/rexui/lib/plugins/utils/object/SetValue.js\");\n\n\n\n\n_ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].register('pinch', function (config) {\n    return new _Pinch_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.scene, config);\n});\n\nObject(_plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(window, 'RexPlugins.UI.Pinch', _Pinch_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_Pinch_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/pinch/Factory.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/pinch/Pinch.js":
/*!*****************************************!*\
  !*** ./lib/rexui/lib/ui/pinch/Pinch.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _plugins_input_gestures_pinch_Pinch_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../plugins/input/gestures/pinch/Pinch.js */ \"./lib/rexui/lib/plugins/input/gestures/pinch/Pinch.js\");\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_plugins_input_gestures_pinch_Pinch_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/pinch/Pinch.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/press/Factory.js":
/*!*******************************************!*\
  !*** ./lib/rexui/lib/ui/press/Factory.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Press_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Press.js */ \"./lib/rexui/lib/ui/press/Press.js\");\n/* harmony import */ var _ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ObjectFactory.js */ \"./lib/rexui/lib/ui/ObjectFactory.js\");\n/* harmony import */ var _plugins_utils_system_IsGameObject_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../plugins/utils/system/IsGameObject.js */ \"./lib/rexui/lib/plugins/utils/system/IsGameObject.js\");\n/* harmony import */ var _plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../plugins/utils/object/SetValue.js */ \"./lib/rexui/lib/plugins/utils/object/SetValue.js\");\n\n\n\n\n\n_ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].register('press', function (gameObject, config) {\n    if (!Object(_plugins_utils_system_IsGameObject_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(gameObject)) {\n        config = gameObject;\n        gameObject = this.scene;\n    }\n    return new _Press_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](gameObject, config);\n});\n\nObject(_plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(window, 'RexPlugins.UI.Press', _Press_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_Press_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/press/Factory.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/press/Press.js":
/*!*****************************************!*\
  !*** ./lib/rexui/lib/ui/press/Press.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _plugins_input_gestures_press_Press_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../plugins/input/gestures/press/Press.js */ \"./lib/rexui/lib/plugins/input/gestures/press/Press.js\");\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_plugins_input_gestures_press_Press_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/press/Press.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/progressbar/ProgressBar.ts":
/*!*****************************************************!*\
  !*** ./lib/rexui/lib/ui/progressbar/ProgressBar.ts ***!
  \*****************************************************/
/*! exports provided: ProgressBarEvent, ProgressBar */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ProgressBarEvent\", function() { return ProgressBarEvent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ProgressBar\", function() { return ProgressBar; });\n/* harmony import */ var _ninepatch_NineSlicePatch__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ninepatch/NineSlicePatch */ \"./lib/rexui/lib/ui/ninepatch/NineSlicePatch.ts\");\n/* harmony import */ var _baseUI_BaseUI__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../baseUI/BaseUI */ \"./lib/rexui/lib/ui/baseUI/BaseUI.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar ProgressBarEvent;\n(function (ProgressBarEvent) {\n    ProgressBarEvent[\"tweenStart\"] = \"tweenStart\";\n    ProgressBarEvent[\"tweenComplete\"] = \"tweenComplete\";\n    ProgressBarEvent[\"tweenUpdate\"] = \"tweenUpdate\";\n})(ProgressBarEvent || (ProgressBarEvent = {}));\nvar GetValue = Phaser.Utils.Objects.GetValue;\nvar ProgressBar = /** @class */ (function (_super) {\n    __extends(ProgressBar, _super);\n    function ProgressBar(scene, config) {\n        var _this = _super.call(this, scene) || this;\n        _this.mConfig = config;\n        var posX = config.x;\n        var posY = config.y;\n        _this.width = config.width;\n        _this.height = config.height;\n        _this.setPosition(posX, posY);\n        _this.setSize(_this.width, _this.height);\n        _this.dpr = GetValue(config, \"dpr\", 1);\n        _this.scale = GetValue(config, \"scale\", 1);\n        var bgSkinData = config.background;\n        var barSkinData = config.bar;\n        _this.mBgSkin = new _ninepatch_NineSlicePatch__WEBPACK_IMPORTED_MODULE_0__[\"NineSlicePatch\"](scene, bgSkinData.x, bgSkinData.y, bgSkinData.width, bgSkinData.height, bgSkinData.key, bgSkinData.frame, bgSkinData.config, _this.dpr, _this.scale);\n        _this.mBarSkin = new _ninepatch_NineSlicePatch__WEBPACK_IMPORTED_MODULE_0__[\"NineSlicePatch\"](scene, barSkinData.x, barSkinData.y, barSkinData.width, barSkinData.height, barSkinData.key, barSkinData.frame, barSkinData.config, _this.dpr, _this.scale);\n        // \n        var textconfig = {};\n        _this.mText = scene.make.text({\n            style: Object.assign(textconfig, config.textConfig)\n        }, false);\n        _this.barWid = barSkinData.width;\n        var hei = _this.mBarSkin.height;\n        _this.mBarMaskGraphics = _this.scene.make.graphics(undefined, false);\n        _this.mBarMaskGraphics.fillStyle(0, 1);\n        _this.mBarMaskGraphics.beginPath();\n        _this.mBarMaskGraphics.fillRect(0, 0, 10, hei);\n        _this.mBarMaskGraphics.setPosition(-_this.barWid / 2, -hei / 2);\n        // this.mBarSkin.mask = this.mBarMaskGraphics.createGeometryMask();\n        _this.add([_this.mBgSkin, _this.mBarSkin, _this.mText]);\n        _this.disInteractive();\n        return _this;\n    }\n    ProgressBar.prototype.setProgress = function (curVal, maxVal) {\n        this.curWid = (curVal / maxVal) * this.barWid;\n        var hei = this.mBarSkin.height;\n        this.mBarSkin.resize(this.curWid, hei);\n        this.mBarSkin.x = -this.barWid / 2 + this.curWid / 2;\n        // this.mBarMaskGraphics.clear();\n        // this.mBarMaskGraphics.fillRect(0, 0, this.curWid, hei);\n        // this.mBarMaskGraphics.setPosition(-this.barWid / 2, -hei / 2);\n        // if (this.mTween) {\n        //     this.mTween.stop();\n        //     this.mTween.remove();\n        // }\n        // this.mTween = this.scene.tweens.add({\n        //     targets: this.mBarMaskGraphics,\n        //     duration: 1000,\n        //     ease: \"Linear\",\n        //     scaleX: { value: curVal / maxVal },\n        //     onStart: () => {\n        //         this.onTweenStart();\n        //     },\n        //     onComplete: (tween, targets, element) => {\n        //         this.onTweenComplete();\n        //     },\n        //     onUpdate: (tween, targets, element) => {\n        //         this.onTweenUpdate();\n        //     },\n        //     onCompleteParams: [this]\n        // });\n    };\n    ProgressBar.prototype.setText = function (val) {\n        if (this.mText) {\n            this.mText.text = val;\n            if (!this.mText.parentContainer)\n                this.add(this.mText);\n        }\n    };\n    ProgressBar.prototype.destory = function () {\n        // if (this.mTween) {\n        //     this.mTween.stop();\n        //     this.mTween.remove();\n        //     this.mTween = null;\n        // }\n        _super.prototype.destroy.call(this);\n    };\n    return ProgressBar;\n}(_baseUI_BaseUI__WEBPACK_IMPORTED_MODULE_1__[\"BaseUI\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/progressbar/ProgressBar.ts?");

/***/ }),

/***/ "./lib/rexui/lib/ui/rotate/Factory.js":
/*!********************************************!*\
  !*** ./lib/rexui/lib/ui/rotate/Factory.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Rotate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Rotate.js */ \"./lib/rexui/lib/ui/rotate/Rotate.js\");\n/* harmony import */ var _ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ObjectFactory.js */ \"./lib/rexui/lib/ui/ObjectFactory.js\");\n/* harmony import */ var _plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../plugins/utils/object/SetValue.js */ \"./lib/rexui/lib/plugins/utils/object/SetValue.js\");\n\n\n\n\n_ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].register('rotate', function (config) {\n    return new _Rotate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.scene, config);\n});\n\nObject(_plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(window, 'RexPlugins.UI.Rotate', _Rotate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_Rotate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/rotate/Factory.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/rotate/Rotate.js":
/*!*******************************************!*\
  !*** ./lib/rexui/lib/ui/rotate/Rotate.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _plugins_input_gestures_rotate_Rotate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../plugins/input/gestures/rotate/Rotate.js */ \"./lib/rexui/lib/plugins/input/gestures/rotate/Rotate.js\");\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_plugins_input_gestures_rotate_Rotate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/rotate/Rotate.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/roundrectangle/Factory.js":
/*!****************************************************!*\
  !*** ./lib/rexui/lib/ui/roundrectangle/Factory.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _RoundRectangle_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RoundRectangle.js */ \"./lib/rexui/lib/ui/roundrectangle/RoundRectangle.js\");\n/* harmony import */ var _ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ObjectFactory.js */ \"./lib/rexui/lib/ui/ObjectFactory.js\");\n/* harmony import */ var _plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../plugins/utils/object/SetValue.js */ \"./lib/rexui/lib/plugins/utils/object/SetValue.js\");\n\n\n\n\n_ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].register('roundRectangle', function (x, y, width, height, radiusConfig, fillColor, fillAlpha) {\n    var gameObject = new _RoundRectangle_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.scene, x, y, width, height, radiusConfig, fillColor, fillAlpha);\n    this.scene.add.existing(gameObject);\n    return gameObject;\n});\n\nObject(_plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(window, 'RexPlugins.UI.RoundRectangle', _RoundRectangle_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_RoundRectangle_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/roundrectangle/Factory.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/roundrectangle/RoundRectangle.js":
/*!***********************************************************!*\
  !*** ./lib/rexui/lib/ui/roundrectangle/RoundRectangle.js ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _plugins_gameobjects_shape_roundrectangle_RoundRectangle_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../plugins/gameobjects/shape/roundrectangle/RoundRectangle.js */ \"./lib/rexui/lib/plugins/gameobjects/shape/roundrectangle/RoundRectangle.js\");\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_plugins_gameobjects_shape_roundrectangle_RoundRectangle_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/roundrectangle/RoundRectangle.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/scrollableblock/Factory.js":
/*!*****************************************************!*\
  !*** ./lib/rexui/lib/ui/scrollableblock/Factory.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ScrollableBlock_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ScrollableBlock.js */ \"./lib/rexui/lib/ui/scrollableblock/ScrollableBlock.js\");\n/* harmony import */ var _ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ObjectFactory.js */ \"./lib/rexui/lib/ui/ObjectFactory.js\");\n/* harmony import */ var _plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../plugins/utils/object/SetValue.js */ \"./lib/rexui/lib/plugins/utils/object/SetValue.js\");\n\n\n\n\n_ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].register('scrollableBlock', function (config) {\n    var gameObject = new _ScrollableBlock_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.scene, config);\n    this.scene.add.existing(gameObject); // It won't be added to display list, neither update list\n    return gameObject;\n});\n\nObject(_plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(window, 'RexPlugins.UI.ScrollableBlock', _ScrollableBlock_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_ScrollableBlock_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/scrollableblock/Factory.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/scrollableblock/GetChildrenHeight.js":
/*!***************************************************************!*\
  !*** ./lib/rexui/lib/ui/scrollableblock/GetChildrenHeight.js ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _plugins_utils_size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../plugins/utils/size/GetDisplaySize.js */ \"./lib/rexui/lib/plugins/utils/size/GetDisplaySize.js\");\n\n\nvar GetChildrenHeight = function () {\n    if (this.rexSizer.hidden) {\n        return 0;\n    }\n\n    var result;\n    var child = this.child,\n        childConfig = child.rexSizer;\n    if (childConfig.hidden) {\n        result = 0;\n    } else if (this.scrollMode === 0) { // scroll y   \n        result = 0;\n    } else { // scroll x\n        result = (child.isRexSizer) ?\n            Math.max(child.minHeight, child.childrenHeight) :\n            Object(_plugins_utils_size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_0__[\"GetDisplayHeight\"])(child);\n    }\n\n    return result;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GetChildrenHeight);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/scrollableblock/GetChildrenHeight.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/scrollableblock/GetChildrenWidth.js":
/*!**************************************************************!*\
  !*** ./lib/rexui/lib/ui/scrollableblock/GetChildrenWidth.js ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _plugins_utils_size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../plugins/utils/size/GetDisplaySize.js */ \"./lib/rexui/lib/plugins/utils/size/GetDisplaySize.js\");\n\n\nvar GetChildrenWidth = function () {\n    if (this.rexSizer.hidden) {\n        return 0;\n    }\n\n    var result;\n    var child = this.child,\n        childConfig = child.rexSizer;\n    if (childConfig.hidden) {\n        result = 0;\n    } else if (this.scrollMode === 0) { // scroll y\n        result = (child.isRexSizer) ?\n            Math.max(child.minWidth, child.childrenWidth) :\n            Object(_plugins_utils_size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_0__[\"GetDisplayWidth\"])(child);\n    } else { // scroll x\n        result = 0;\n    }\n\n    return result;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GetChildrenWidth);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/scrollableblock/GetChildrenWidth.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/scrollableblock/Layout.js":
/*!****************************************************!*\
  !*** ./lib/rexui/lib/ui/scrollableblock/Layout.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _plugins_utils_size_ResizeGameObject_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../plugins/utils/size/ResizeGameObject.js */ \"./lib/rexui/lib/plugins/utils/size/ResizeGameObject.js\");\n/* harmony import */ var _plugins_utils_mask_MaskToGameObject_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../plugins/utils/mask/MaskToGameObject.js */ \"./lib/rexui/lib/plugins/utils/mask/MaskToGameObject.js\");\n\n\n\nvar Layout = function (parent, newWidth, newHeight) {\n    // Skip invisible sizer\n    if (this.rexSizer.hidden) {\n        return this;\n    }\n\n    this.preLayout(parent);\n\n    // Set size\n    if (newWidth === undefined) {\n        newWidth = Math.max(this.childrenWidth, this.minWidth);\n    }\n    if (newHeight === undefined) {\n        newHeight = Math.max(this.childrenHeight, this.minHeight);\n    }\n    this.resize(newWidth, newHeight);\n\n    // Layout child\n    var child = this.child;\n    var childWidth, childHeight;\n    if (!child.rexSizer.hidden) {\n        // Set size\n        if (this.scrollMode === 0) {\n            childWidth = this.width;\n        } else {\n            childHeight = this.height;\n        }\n        if (child.isRexSizer) {\n            child.layout(this, childWidth, childHeight);\n        } else {\n            Object(_plugins_utils_size_ResizeGameObject_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(child, childWidth, childHeight);\n        }\n\n        this.resetChildPosition();\n\n        // Layout child mask\n        if (this.childMask) {\n            var maskGameObject = Object(_plugins_utils_mask_MaskToGameObject_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this.childMask);\n            maskGameObject.setPosition().resize();\n            this.resetChildPositionState(maskGameObject);\n        }\n    }\n\n    return this.postLayout();\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Layout);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/scrollableblock/Layout.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/scrollableblock/Methods.js":
/*!*****************************************************!*\
  !*** ./lib/rexui/lib/ui/scrollableblock/Methods.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _SetChild_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./SetChild.js */ \"./lib/rexui/lib/ui/scrollableblock/SetChild.js\");\n/* harmony import */ var _GetChildrenWidth_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GetChildrenWidth.js */ \"./lib/rexui/lib/ui/scrollableblock/GetChildrenWidth.js\");\n/* harmony import */ var _GetChildrenHeight_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GetChildrenHeight.js */ \"./lib/rexui/lib/ui/scrollableblock/GetChildrenHeight.js\");\n/* harmony import */ var _ResetChildPosition_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ResetChildPosition.js */ \"./lib/rexui/lib/ui/scrollableblock/ResetChildPosition.js\");\n/* harmony import */ var _Layout_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Layout.js */ \"./lib/rexui/lib/ui/scrollableblock/Layout.js\");\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    setChild: _SetChild_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    getChildrenWidth: _GetChildrenWidth_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n    getChildrenHeight: _GetChildrenHeight_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n    resetChildPosition: _ResetChildPosition_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n    layout: _Layout_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n});\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/scrollableblock/Methods.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/scrollableblock/ResetChildPosition.js":
/*!****************************************************************!*\
  !*** ./lib/rexui/lib/ui/scrollableblock/ResetChildPosition.js ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _plugins_gameobjects_containerlite_MaskChildren_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../plugins/gameobjects/containerlite/MaskChildren.js */ \"./lib/rexui/lib/plugins/gameobjects/containerlite/MaskChildren.js\");\n\n\nvar ResetChildPosition = function () {\n    var x = this.left;\n    var y = this.top;\n    if (this.scrollMode === 0) {\n        y += this.childOY;\n    } else {\n        x += this.childOY;\n    }\n    this.child.setPosition(x, y);\n    Object(_plugins_gameobjects_containerlite_MaskChildren_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, this.childMask, this.child.getAllChildren());\n    this.resetChildPositionState(this.child);\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ResetChildPosition);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/scrollableblock/ResetChildPosition.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/scrollableblock/ScrollableBlock.js":
/*!*************************************************************!*\
  !*** ./lib/rexui/lib/ui/scrollableblock/ScrollableBlock.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _basesizer_BaseSizer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../basesizer/BaseSizer.js */ \"./lib/rexui/lib/ui/basesizer/BaseSizer.js\");\n/* harmony import */ var _Methods_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Methods.js */ \"./lib/rexui/lib/ui/scrollableblock/Methods.js\");\n/* harmony import */ var _utils_ScrollModeConst_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/ScrollModeConst.js */ \"./lib/rexui/lib/ui/utils/ScrollModeConst.js\");\n/* harmony import */ var _plugins_utils_size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../plugins/utils/size/GetDisplaySize.js */ \"./lib/rexui/lib/plugins/utils/size/GetDisplaySize.js\");\n\n\n\n\n\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\nconst GetValue = Phaser.Utils.Objects.GetValue;\n\nclass ScrollableBlock extends _basesizer_BaseSizer_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(scene, x, y, minWidth, minHeight, config) {\n        if (IsPlainObject(x)) {\n            config = x;\n            x = GetValue(config, 'x', 0);\n            y = GetValue(config, 'y', 0);\n            minWidth = GetValue(config, 'width', undefined);\n            minHeight = GetValue(config, 'height', undefined);\n        } else if (IsPlainObject(minWidth)) {\n            config = minWidth;\n            minWidth = GetValue(config, 'width', undefined);\n            minHeight = GetValue(config, 'height', undefined);\n        }\n        super(scene, x, y, minWidth, minHeight, config);\n\n        this.type = 'rexScrollableBlock';\n        this.child = undefined;\n        this.childMask = undefined;\n        this._childOY = 0;\n        this.execeedTopState = false;\n        this.execeedBottomState = false;\n\n        this.setScrollMode(GetValue(config, 'scrollMode', true))\n        this.setClampMode(GetValue(config, 'clamplChildOY', true));\n\n        // Add elements\n        // No background object, and child does not have padding\n        var child = GetValue(config, 'child', undefined);\n        var expand = GetValue(config, 'expand', true);\n        var childMask = GetValue(config, 'mask', undefined);\n\n        this.setChild(child, expand, childMask);\n    }\n\n    destroy(fromScene) {\n        //  This Game Object has already been destroyed\n        if (!this.scene) {\n            return;\n        }\n        this.child = undefined;\n        if (this.childMask) {\n            this.childMask.destroy();\n            this.childMask = undefined;\n        }\n        super.destroy(fromScene);\n    }\n\n    setScrollMode(mode) {\n        if (typeof (mode) === 'string') {\n            mode = _utils_ScrollModeConst_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"][mode.toLowerCase()];\n        }\n        this.scrollMode = mode;\n        return this;\n    }\n\n    setClampMode(mode) {\n        this.clampChildOYMode = mode;\n        return this;\n    }\n\n    get instHeight() {\n        return (this.scrollMode === 0) ? this.height : this.width;\n    }\n\n    get instWidth() {\n        return (this.scrollMode === 0) ? this.width : this.height;\n    }\n\n    get childHeight() {\n        return (this.scrollMode === 0) ? Object(_plugins_utils_size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_3__[\"GetDisplayHeight\"])(this.child) : Object(_plugins_utils_size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_3__[\"GetDisplayWidth\"])(this.child);\n    }\n\n    get childWidth() {\n        return (this.scrollMode === 0) ? Object(_plugins_utils_size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_3__[\"GetDisplayWidth\"])(this.child) : Object(_plugins_utils_size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_3__[\"GetDisplayHeight\"])(this.child);\n    }\n\n    get topChildOY() {\n        return 0;\n    }\n\n    get bottomChildOY() {\n        return -this.visibleHeight;\n    }\n\n    get visibleHeight() {\n        var h;\n        var childHeight = this.childHeight;\n        var instHeight = this.instHeight;\n        if (childHeight > instHeight) {\n            h = childHeight - instHeight;\n        } else {\n            h = 0;\n        }\n\n        return h;\n    }\n\n    childOYExceedTop(oy) {\n        if (oy === undefined) {\n            oy = this.childOY;\n        }\n        return (oy > this.topChildOY);\n    }\n\n    childOYExeceedBottom(oy) {\n        if (oy === undefined) {\n            oy = this.childOY;\n        }\n        return (oy < this.bottomChildOY);\n    }\n\n    get childOY() {\n        return this._childOY;\n    }\n\n    set childOY(oy) {\n        var topChildOY = this.topChildOY;\n        var bottomChildOY = this.bottomChildOY;\n        var childOYExceedTop = this.childOYExceedTop(oy);\n        var childOYExeceedBottom = this.childOYExeceedBottom(oy);\n\n        if (this.clampChildOYMode) {\n            if (this.instHeight > this.childHeight) {\n                oy = 0;\n            } else if (childOYExceedTop) {\n                oy = topChildOY\n            } else if (childOYExeceedBottom) {\n                oy = bottomChildOY;\n            }\n        }\n\n        if (this._childOY !== oy) {\n            this._childOY = oy;\n            this.resetChildPosition();\n        }\n\n        if (childOYExceedTop) {\n            if (!this.execeedTopState) {\n                this.emit('execeedtop', this, oy, topChildOY);\n            }\n        }\n        this.execeedTopState = childOYExceedTop;\n\n        if (childOYExeceedBottom) {\n            if (!this.execeedBottomState) {\n                this.emit('execeedbottom', this, oy, bottomChildOY);\n            }\n        }\n        this.execeedBottomState = childOYExeceedBottom;\n    }\n\n    setChildOY(oy) {\n        this.childOY = oy;\n        return this;\n    }\n\n    set t(value) {\n        this.childOY = -this.visibleHeight * value;\n    }\n\n    get t() {\n        var visibleHeight = this.visibleHeight;\n        if (visibleHeight === 0) {\n            return 0;\n        }\n        return (this.childOY / -visibleHeight);\n    }\n\n    setChildOYByPercentage(percentage) {\n        this.t = percentage;\n        return this;\n    }\n}\n\nObject.assign(\n    ScrollableBlock.prototype,\n    _Methods_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]\n);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ScrollableBlock);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/scrollableblock/ScrollableBlock.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/scrollableblock/SetChild.js":
/*!******************************************************!*\
  !*** ./lib/rexui/lib/ui/scrollableblock/SetChild.js ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _plugins_utils_mask_DefaultMask_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../plugins/utils/mask/DefaultMask.js */ \"./lib/rexui/lib/plugins/utils/mask/DefaultMask.js\");\n\n\nconst GetValue = Phaser.Utils.Objects.GetValue;\nconst ALIGN_LEFTTOP = Phaser.Display.Align.TOP_LEFT;\n\nvar SetChild = function (gameObject, expand, maskConfig) {\n    if (gameObject.setOrigin) {\n        gameObject.setOrigin(0);\n    }\n\n    this.add(gameObject);\n\n    var config = this.getSizerConfig(gameObject);\n    config.parent = this;\n    config.align = ALIGN_LEFTTOP;\n    config.expand = expand;\n    this.child = gameObject;\n\n    // Create mask of child object\n    var maskEnable, maskPadding;\n    if (maskConfig === true) {\n        maskEnable = true;\n        maskPadding = 0;\n    } else if (maskConfig === false) {\n        maskEnable = false;\n    } else {\n        maskEnable = GetValue(maskConfig, 'mask', true);\n        maskPadding = GetValue(maskConfig, 'padding', 0);\n    }\n\n    if (maskEnable) {\n        var maskGameObject = new _plugins_utils_mask_DefaultMask_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this, 0, maskPadding);\n        this.childMask = maskGameObject.createGeometryMask();\n        this.pin(maskGameObject);\n    }\n\n    return this;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (SetChild);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/scrollableblock/SetChild.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/scrollablepanel/Factory.js":
/*!*****************************************************!*\
  !*** ./lib/rexui/lib/ui/scrollablepanel/Factory.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ScrollablePanel_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ScrollablePanel.js */ \"./lib/rexui/lib/ui/scrollablepanel/ScrollablePanel.js\");\n/* harmony import */ var _ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ObjectFactory.js */ \"./lib/rexui/lib/ui/ObjectFactory.js\");\n/* harmony import */ var _plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../plugins/utils/object/SetValue.js */ \"./lib/rexui/lib/plugins/utils/object/SetValue.js\");\n\n\n\n\n_ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].register('scrollablePanel', function (config) {\n    var gameObject = new _ScrollablePanel_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.scene, config);\n    this.scene.add.existing(gameObject); // It won't be added to display list, neither update list\n    return gameObject;\n});\n\nObject(_plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(window, 'RexPlugins.UI.ScrollablePanel', _ScrollablePanel_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_ScrollablePanel_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/scrollablepanel/Factory.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/scrollablepanel/ScrollablePanel.js":
/*!*************************************************************!*\
  !*** ./lib/rexui/lib/ui/scrollablepanel/ScrollablePanel.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_scrollable_Scrollable_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/scrollable/Scrollable.js */ \"./lib/rexui/lib/ui/utils/scrollable/Scrollable.js\");\n/* harmony import */ var _utils_GetScrollMode_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/GetScrollMode.js */ \"./lib/rexui/lib/ui/utils/GetScrollMode.js\");\n/* harmony import */ var _scrollableblock_ScrollableBlock_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../scrollableblock/ScrollableBlock.js */ \"./lib/rexui/lib/ui/scrollableblock/ScrollableBlock.js\");\n\n\n\nconst GetValue = Phaser.Utils.Objects.GetValue;\n\nclass ScrollablePanel extends _utils_scrollable_Scrollable_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(scene, config) {\n        if (config === undefined) {\n            config = {};\n        }\n\n        // Create scrollable-block\n        var scrollMode = Object(_utils_GetScrollMode_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(config);\n        var panelConfig = GetValue(config, 'panel', undefined);\n        if (panelConfig === undefined) {\n            panelConfig = {};\n        }\n        panelConfig.scrollMode = scrollMode;\n        panelConfig.clamplChildOY = GetValue(config, 'clamplChildOY', false);\n        var scrollableBlock = new _scrollableblock_ScrollableBlock_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](scene, panelConfig);\n        var panelWidth = GetValue(panelConfig, 'width', undefined);\n        var panelHeight = GetValue(panelConfig, 'height', undefined);\n        var proportion, expand;\n        if (scrollMode === 0) {\n            proportion = (panelWidth === undefined) ? 1 : 0;\n            expand = (panelHeight === undefined);\n        } else {\n            proportion = (panelHeight === undefined) ? 1 : 0;\n            expand = (panelWidth === undefined);\n        }\n\n        // Fill config of scrollable\n        config.type = 'rexScrollablePanel';\n        config.child = {\n            gameObject: scrollableBlock,\n            proportion: proportion,\n            expand: expand,\n        };\n        var spaceConfig = GetValue(config, 'space', undefined);\n        if (spaceConfig) {\n            spaceConfig.child = spaceConfig.panel;\n        }\n        super(scene, config);\n\n        this.addChildrenMap('panel', this.childrenMap.child.child);\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ScrollablePanel);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/scrollablepanel/ScrollablePanel.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/scroller/GameScroller.ts":
/*!***************************************************!*\
  !*** ./lib/rexui/lib/ui/scroller/GameScroller.ts ***!
  \***************************************************/
/*! exports provided: ScrollerEvent, GameScroller */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ScrollerEvent\", function() { return ScrollerEvent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GameScroller\", function() { return GameScroller; });\n/* harmony import */ var _plugins_input_scroller_Scroller_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../plugins/input/scroller/Scroller.js */ \"./lib/rexui/lib/plugins/input/scroller/Scroller.js\");\n/* harmony import */ var _baseUI_BaseUI__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../baseUI/BaseUI */ \"./lib/rexui/lib/ui/baseUI/BaseUI.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar ScrollerEvent;\n(function (ScrollerEvent) {\n    ScrollerEvent[\"downinBound\"] = \"downinBound\";\n    ScrollerEvent[\"downoutBound\"] = \"downoutBound\";\n    ScrollerEvent[\"upinBound\"] = \"upinBound\";\n    ScrollerEvent[\"upoutBound\"] = \"upoutBound\";\n})(ScrollerEvent || (ScrollerEvent = {}));\nvar GetValue = Phaser.Utils.Objects.GetValue;\nvar GameScroller = /** @class */ (function (_super) {\n    __extends(GameScroller, _super);\n    function GameScroller(scene, config, gameObject) {\n        var _this = _super.call(this, scene) || this;\n        /**\n         * \n         */\n        _this.mMoveing = false;\n        _this.soundMap = new Map();\n        _this.mConfig = config;\n        _this.soundGroup = config.music;\n        _this.x = config.x;\n        _this.y = config.y;\n        _this.width = _this.mConfig.width;\n        _this.height = _this.mConfig.height;\n        var zoom = config.zoom;\n        _this.maskGraphic = scene.make.graphics(undefined, false);\n        _this.maskGraphic.fillStyle(0);\n        _this.maskGraphic.fillRect(-_this.width * 0.5 * zoom, -_this.height * 0.5 * zoom, _this.width * zoom, _this.height * zoom);\n        var worldpos = _this.getWorldTransformMatrix();\n        _this.maskGraphic.setPosition(worldpos.tx, worldpos.ty);\n        // this.add(this.maskGraphic);\n        if (gameObject) {\n            _this.mGameObject = gameObject;\n        }\n        else {\n            _this.mGameObject = scene.make.container(undefined, false);\n            _this.add(_this.mGameObject);\n        }\n        _this.mGameObject.setMask(_this.maskGraphic.createGeometryMask());\n        // const bg1 = scene.make.graphics(undefined, false);\n        // bg1.fillStyle(0, .2);\n        // bg1.fillRect(0, 0, config.width, config.height);\n        // bg1.setPosition(-config.width / 2, -config.height / 2);\n        // this.add(bg1);\n        var valuechangeCallback = config.valuechangeCallback;\n        config.valuechangeCallback = function (value) {\n            _this.onScrollValueChange(value);\n            if (valuechangeCallback)\n                valuechangeCallback(value);\n        };\n        _this.mScroller = new _plugins_input_scroller_Scroller_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](_this, config);\n        _this.mDisDelection = GetValue(config, \"interactivedisDetection\", 10);\n        _this.mCellDownHandler = GetValue(config, \"celldownCallBack\", undefined);\n        _this.mCellUpHandler = GetValue(config, \"cellupCallBack\", undefined);\n        _this.setInteractive();\n        _this.addListen();\n        return _this;\n    }\n    Object.defineProperty(GameScroller.prototype, \"view\", {\n        get: function () {\n            return this.mGameObject;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    GameScroller.prototype.setEnable = function (enable) {\n        if (this.mScroller)\n            this.mScroller.setEnable(enable);\n    };\n    GameScroller.prototype.setValue = function (value) {\n        if (this.mScroller)\n            this.mScroller.setValue(value);\n    };\n    GameScroller.prototype.getValue = function () {\n        return this.mScroller.value;\n    };\n    Object.defineProperty(GameScroller.prototype, \"isSliding\", {\n        get: function () {\n            return this.mScroller.isSliding;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(GameScroller.prototype, \"dragSpeed\", {\n        get: function () {\n            return this.mScroller.dragSpeed;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    GameScroller.prototype.adjustBackDeceleration = function (deceler) {\n        if (this.mScroller)\n            this.mScroller.setBackDeceleration(deceler);\n    };\n    GameScroller.prototype.adjustSlidingDeceleration = function (deceler) {\n        if (this.mScroller)\n            this.mScroller.setSlidingDeceleration(deceler);\n    };\n    GameScroller.prototype.adjustScrollMode = function (mode) {\n        if (!this.mConfig.orientation || this.mConfig.orientation !== mode) {\n            if (this.mScroller)\n                this.mScroller.setOrientationMode(mode);\n        }\n        this.mConfig.orientation = mode;\n    };\n    GameScroller.prototype.adjustDragThreshol = function (hold) {\n        if (this.mScroller)\n            this.mScroller.setDragThreshold(hold);\n    };\n    GameScroller.prototype.updateScrollPos = function (pos) {\n        if (this.mConfig.orientation) {\n            this.mGameObject.x = pos;\n        }\n        else {\n            this.mGameObject.y = pos;\n        }\n    };\n    GameScroller.prototype.refreshMask = function () {\n        var worldpos = this.getWorldTransformMatrix();\n        this.maskGraphic.setPosition(worldpos.tx, worldpos.ty);\n    };\n    /***\n    *  scroller\n    * @param width\n    * @param height\n    * @param x\n    * @param y\n    */\n    GameScroller.prototype.adjustMask = function (width, height, x, y) {\n        if (x === void 0) { x = this.mConfig.x; }\n        if (y === void 0) { y = this.mConfig.y; }\n        this.mGameObject.clearMask();\n        var mask = this.scene.make.graphics(undefined, false);\n        mask.fillStyle(0);\n        mask.fillRect(0, 0, width, height);\n        mask.setPosition(x, y);\n        this.mGameObject.setMask(mask.createGeometryMask());\n    };\n    GameScroller.prototype.addItem = function (item) {\n        this.mGameObject.add(item);\n        this.setInteractiveObject(item);\n    };\n    GameScroller.prototype.addItems = function (items) {\n        this.mGameObject.add(items);\n        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n            var item = items_1[_i];\n            this.setInteractiveObject(item);\n        }\n    };\n    GameScroller.prototype.addItemAt = function (item, index) {\n        this.mGameObject.addAt(item, index);\n        this.setInteractiveObject(item);\n    };\n    GameScroller.prototype.getItemList = function () {\n        return this.mGameObject.list;\n    };\n    GameScroller.prototype.getItemAt = function (index) {\n        return this.mGameObject.list[index];\n    };\n    GameScroller.prototype.setBounds = function (value0, value1) {\n        this.mScroller.setBounds(value0, value1);\n    };\n    /**\n     *\n     * @param align 2  1 0 \n     */\n    GameScroller.prototype.setAlign = function (align) {\n        if (align === void 0) { align = 2; }\n        this.mConfig.align = align;\n        this.Sort();\n    };\n    GameScroller.prototype.Sort = function (isFixed, iscallValue) {\n        if (isFixed === void 0) { isFixed = false; }\n        if (iscallValue === void 0) { iscallValue = true; }\n        var value = 0;\n        var offset = (isFixed ? this.getScrollBound() : 0);\n        var space = (this.mConfig.space === undefined ? 0 : this.mConfig.space);\n        var list = this.mGameObject.list;\n        var activeArr = [];\n        for (var _i = 0, list_1 = list; _i < list_1.length; _i++) {\n            var item = list_1[_i];\n            if (item.visible) {\n                activeArr.push(item);\n            }\n        }\n        for (var _a = 0, activeArr_1 = activeArr; _a < activeArr_1.length; _a++) {\n            var item = activeArr_1[_a];\n            if (this.mConfig.orientation === 1) {\n                item.x = item.width * item.originX + value;\n                value += item.width + space;\n            }\n            else {\n                item.y = item.height * item.originY + value;\n                value += item.height + space;\n            }\n        }\n        value -= space;\n        if (this.mConfig.orientation === 1) {\n            this.mGameObject.width = value;\n            for (var _b = 0, activeArr_2 = activeArr; _b < activeArr_2.length; _b++) {\n                var item = activeArr_2[_b];\n                item.x -= value * 0.5;\n            }\n            value -= this.width;\n        }\n        else {\n            this.mGameObject.height = value;\n            for (var _c = 0, activeArr_3 = activeArr; _c < activeArr_3.length; _c++) {\n                var item = activeArr_3[_c];\n                item.y -= value * 0.5;\n            }\n            value -= this.height;\n        }\n        var leftBound = 0, rightBound = 0, bound = 0;\n        if (value < 0) {\n            if (this.mConfig.align === 0) {\n                leftBound = rightBound = -value / 2;\n            }\n            else if (this.mConfig.align === 1) {\n                leftBound = rightBound = 0;\n            }\n            else {\n                leftBound = rightBound = value / 2;\n            }\n            bound = leftBound;\n        }\n        else {\n            leftBound = -value / 2;\n            rightBound = value / 2;\n            if (this.mConfig.align === 0) {\n                bound = leftBound;\n            }\n            else if (this.mConfig.align === 1) {\n                bound = 0;\n            }\n            else {\n                bound = rightBound;\n            }\n        }\n        this.mLeftBound = leftBound;\n        this.mRightBound = rightBound;\n        var value0 = bound;\n        if (isFixed) {\n            value0 += offset;\n            if (value0 < leftBound)\n                value0 = leftBound;\n            if (value0 > rightBound)\n                value0 = rightBound;\n        }\n        this.setBounds(leftBound, rightBound);\n        if (iscallValue)\n            this.setValue(value0);\n    };\n    GameScroller.prototype.getScrollBound = function () {\n        var scrollValue = 0;\n        var contentValue = 0;\n        var bound = 0;\n        if (this.mConfig.orientation === 1) {\n            scrollValue = this.width;\n            contentValue = this.mGameObject.width;\n        }\n        else {\n            scrollValue = this.height;\n            contentValue = this.mGameObject.height;\n        }\n        bound = contentValue - scrollValue;\n        if (bound < 0) {\n            if (this.mConfig.align === 0) {\n                bound = -bound / 2;\n            }\n            else if (this.mConfig.align === 1) {\n                bound = 0;\n            }\n            else {\n                bound = bound / 2;\n            }\n        }\n        else {\n            if (this.mConfig.align === 0) {\n                bound = -bound / 2;\n            }\n            else if (this.mConfig.align === 1) {\n                bound = 0;\n            }\n            else {\n                bound = bound / 2;\n            }\n        }\n        var offset = 0;\n        if (this.mConfig.orientation === 1) {\n            offset = this.mGameObject.x - bound;\n        }\n        else {\n            offset = this.mGameObject.y - bound;\n        }\n        return offset;\n    };\n    GameScroller.prototype.clearItems = function () {\n        var list = this.mGameObject.list;\n        for (var _i = 0, list_2 = list; _i < list_2.length; _i++) {\n            var item = list_2[_i];\n            item.destroy();\n        }\n        this.mGameObject.list.length = 0;\n        this.clearInteractiveObject();\n    };\n    Object.defineProperty(GameScroller.prototype, \"bounds\", {\n        get: function () {\n            return [this.mLeftBound, this.mRightBound];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    GameScroller.prototype.removeInteractiveObject = function (obj) {\n        var index = this.mInteractiveList.indexOf(obj);\n        if (index > -1) {\n            this.mInteractiveList.splice(index, 1);\n        }\n    };\n    GameScroller.prototype.addListen = function () {\n        if (!this.scene)\n            return;\n        this.removeListen();\n        this.scene.input.on(\"pointermove\", this.pointerMoveHandler, this);\n        this.scene.input.on(\"pointerdown\", this.pointerDownHandler, this);\n        this.scene.input.on(\"pointerup\", this.pointerUpHandler, this);\n    };\n    GameScroller.prototype.removeListen = function () {\n        this.mMoveing = false;\n        if (!this.scene)\n            return;\n        this.scene.input.off(\"pointerdown\", this.pointerDownHandler, this);\n        this.scene.input.off(\"pointerup\", this.pointerUpHandler, this);\n        this.scene.input.off(\"pointermove\", this.pointerMoveHandler, this);\n    };\n    Object.defineProperty(GameScroller.prototype, \"left\", {\n        get: function () {\n            return -this.mGameObject.width / 2;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(GameScroller.prototype, \"right\", {\n        get: function () {\n            return this.mGameObject.width / 2;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(GameScroller.prototype, \"top\", {\n        get: function () {\n            return -this.mGameObject.height / 2;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(GameScroller.prototype, \"bottom\", {\n        get: function () {\n            return this.mGameObject.height / 2;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    GameScroller.prototype.setInteractiveObject = function (obj) {\n        if (!this.mInteractiveList)\n            this.mInteractiveList = [];\n        this.mInteractiveList.push(obj);\n    };\n    GameScroller.prototype.destroy = function () {\n        this.mMoveing = false;\n        if (this.mGameObject)\n            this.mGameObject.clearMask(true);\n        if (this.mScroller)\n            this.mScroller.destroy();\n        _super.prototype.destroy.call(this);\n    };\n    // public refreshBound(refreshSize?: number) {\n    //     if (!this.mInteractiveList) return;\n    //     // \n    //     let totalSize: number = 0;\n    //     if (refreshSize !== undefined) {\n    //         totalSize = refreshSize;\n    //     } else {\n    //         this.mInteractiveList.forEach((cell) => {\n    //             if (cell) {\n    //                 totalSize += this.mConfig.orientation ? cell.width : cell.height;\n    //             }\n    //         });\n    //     }\n    //     // // \n    //     // const tmpSize: number = this.mConfig.orientation ? this.mGameObject.width : this.mGameObject.height;\n    //     // \n    //     const baseSize: number = this.mConfig.orientation ? this.mGameObject.parentContainer.x : this.mGameObject.parentContainer.y;\n    //     // \n    //     const baseShowSize: number = this.mConfig.orientation ? this.mConfig.width : this.mConfig.height;\n    //     if (totalSize < baseShowSize) totalSize = baseShowSize;\n    //     this.setBounds(baseSize, baseSize - totalSize + baseShowSize);\n    // }\n    GameScroller.prototype.clearInteractiveObject = function () {\n        if (!this.mInteractiveList)\n            return;\n        this.mInteractiveList.length = 0;\n        this.mInteractiveList = [];\n        this.mScroller.setBounds(0, 0);\n    };\n    GameScroller.prototype.pointerMoveHandler = function (pointer) {\n        if (this.soundGroup && this.soundGroup.move)\n            this.playSound(this.soundGroup.move);\n        this.mMoveing = true;\n    };\n    GameScroller.prototype.pointerDownHandler = function (pointer) {\n        // this.scene.input.off(\"pointermove\", this.pointerMoveHandler, this);\n        if (this.soundGroup && this.soundGroup.down)\n            this.playSound(this.soundGroup.down);\n        var inBound = this.checkPointerInBounds(this, pointer);\n        if (inBound && this.checkPointerDelection(pointer)) {\n            if (this.mCellDownHandler && !this.mMoveing) {\n                if (!this.mInteractiveList)\n                    return;\n                for (var i = 0, len = this.mInteractiveList.length; i < len; i++) {\n                    var interactiveObj = this.mInteractiveList[i];\n                    if (this.checkPointerInBounds(interactiveObj, pointer, true)) {\n                        this.mCellDownHandler(interactiveObj);\n                        break;\n                    }\n                }\n            }\n            var eventName = inBound ? ScrollerEvent.downinBound : ScrollerEvent.downoutBound;\n            this.emit(eventName, this);\n        }\n    };\n    GameScroller.prototype.pointerUpHandler = function (pointer, gameObject) {\n        // this.scene.input.on(\"pointermove\", this.pointerMoveHandler, this);\n        if (this.soundGroup && this.soundGroup.up)\n            this.playSound(this.soundGroup.up);\n        var inBound = this.checkPointerInBounds(this, pointer);\n        if (inBound && this.checkPointerDelection(pointer)) {\n            if (this.mCellUpHandler && !this.mMoveing) {\n                if (!this.mInteractiveList)\n                    return;\n                for (var i = 0, len = this.mInteractiveList.length; i < len; i++) {\n                    var interactiveObj = this.mInteractiveList[i];\n                    if (this.checkPointerInBounds(interactiveObj, pointer, true)) {\n                        this.mCellUpHandler(interactiveObj);\n                        break;\n                    }\n                }\n            }\n            var eventName = inBound ? ScrollerEvent.upinBound : ScrollerEvent.upoutBound;\n            this.emit(eventName, this);\n        }\n        this.mMoveing = false;\n    };\n    GameScroller.prototype.checkPointerInBounds = function (gameObject, pointer, isCell) {\n        if (isCell === void 0) { isCell = false; }\n        if (!this.mRectangle) {\n            this.mRectangle = new Phaser.Geom.Rectangle(0, 0, 0, 0);\n        }\n        this.mRectangle.left = -gameObject.width / 2;\n        this.mRectangle.right = gameObject.width / 2;\n        this.mRectangle.top = -gameObject.height / 2;\n        this.mRectangle.bottom = gameObject.height / 2;\n        if (pointer) {\n            var worldMatrix = gameObject.getWorldTransformMatrix();\n            var x = pointer.x - worldMatrix.tx;\n            var y = pointer.y - worldMatrix.ty;\n            if (this.mRectangle.left <= x && this.mRectangle.right >= x && this.mRectangle.top <= y && this.mRectangle.bottom >= y) {\n                return true;\n            }\n            return false;\n        }\n        return false;\n    };\n    GameScroller.prototype.onScrollValueChange = function (value) {\n        if (this.mConfig.orientation === 1) {\n            this.mGameObject.x = value;\n        }\n        else {\n            this.mGameObject.y = value;\n        }\n    };\n    return GameScroller;\n}(_baseUI_BaseUI__WEBPACK_IMPORTED_MODULE_1__[\"BaseUI\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/scroller/GameScroller.ts?");

/***/ }),

/***/ "./lib/rexui/lib/ui/scroller/Scroller.ts":
/*!***********************************************!*\
  !*** ./lib/rexui/lib/ui/scroller/Scroller.ts ***!
  \***********************************************/
/*! exports provided: BaseScrollerEvent, BaseScroller */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BaseScrollerEvent\", function() { return BaseScrollerEvent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BaseScroller\", function() { return BaseScroller; });\n/* harmony import */ var _plugins_input_scroller_Scroller_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../plugins/input/scroller/Scroller.js */ \"./lib/rexui/lib/plugins/input/scroller/Scroller.js\");\n/* harmony import */ var _baseUI_BaseUI__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../baseUI/BaseUI */ \"./lib/rexui/lib/ui/baseUI/BaseUI.ts\");\n/* harmony import */ var _plugins_utils_size_ResizeGameObject_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../plugins/utils/size/ResizeGameObject.js */ \"./lib/rexui/lib/plugins/utils/size/ResizeGameObject.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar BaseScrollerEvent;\n(function (BaseScrollerEvent) {\n    BaseScrollerEvent[\"downinBound\"] = \"downinBound\";\n    BaseScrollerEvent[\"downoutBound\"] = \"downoutBound\";\n    BaseScrollerEvent[\"upinBound\"] = \"upinBound\";\n    BaseScrollerEvent[\"upoutBound\"] = \"upoutBound\";\n})(BaseScrollerEvent || (BaseScrollerEvent = {}));\nvar GetValue = Phaser.Utils.Objects.GetValue;\nvar BaseScroller = /** @class */ (function (_super) {\n    __extends(BaseScroller, _super);\n    function BaseScroller(scene, gameObject, config) {\n        var _this = _super.call(this, scene) || this;\n        _this.mChildPad = 0;\n        _this.mMoveing = false;\n        _this.soundMap = new Map();\n        _this.mConfig = config;\n        _this.soundGroup = config.music;\n        var bg = scene.make.graphics(undefined, false);\n        bg.fillStyle(0);\n        bg.fillRect(0, 0, config.width, config.height);\n        bg.setPosition(config.x, config.y);\n        _this.width = _this.mConfig.width;\n        _this.height = _this.mConfig.height;\n        gameObject.setMask(bg.createGeometryMask());\n        _this.mGameObject = gameObject;\n        _this.basePoint = (config.basePoint ? config.basePoint : new Phaser.Geom.Point(_this.mGameObject.parentContainer.x, _this.mGameObject.parentContainer.y));\n        var container = scene.make.container(undefined, false);\n        container.setSize(config.width, config.height);\n        // const bg1 = scene.make.graphics(undefined, false);\n        // bg1.fillStyle(0, .2);\n        // bg1.fillRect(0, 0, config.width, config.height);\n        // bg1.setPosition(-config.width / 2, -config.height / 2);\n        // container.add(bg1);\n        if (_this.mGameObject.parentContainer) {\n            container.x = config.clickX;\n            container.y = config.clickY;\n            _this.mGameObject.parentContainer.add(container);\n        }\n        _this.mScroller = new _plugins_input_scroller_Scroller_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](container, config);\n        _this.clickContainer = container;\n        _this.mDisDelection = GetValue(config, \"interactivedisDetection\", 10);\n        _this.mCellDownHandler = GetValue(config, \"celldownCallBack\", undefined);\n        _this.mCellUpHandler = GetValue(config, \"cellupCallBack\", undefined);\n        _this.setInteractive();\n        _this.addListen();\n        return _this;\n    }\n    BaseScroller.prototype.setEnable = function (enable) {\n        if (this.mScroller)\n            this.mScroller.setEnable(enable);\n    };\n    BaseScroller.prototype.setValue = function (value) {\n        if (this.mScroller)\n            this.mScroller.setValue(value);\n    };\n    BaseScroller.prototype.adjustBackDeceleration = function (deceler) {\n        if (this.mScroller)\n            this.mScroller.setBackDeceleration(deceler);\n    };\n    BaseScroller.prototype.adjustSlidingDeceleration = function (deceler) {\n        if (this.mScroller)\n            this.mScroller.setSlidingDeceleration(deceler);\n    };\n    BaseScroller.prototype.adjustScrollMode = function (mode) {\n        if (!this.mConfig.orientation || this.mConfig.orientation !== mode) {\n            if (this.mScroller)\n                this.mScroller.setOrientationMode(mode);\n        }\n        this.mConfig.orientation = mode;\n    };\n    BaseScroller.prototype.adjustDragThreshol = function (hold) {\n        if (this.mScroller)\n            this.mScroller.setDragThreshold(hold);\n    };\n    /***\n    *  scroller\n    * @param width\n    * @param height\n    * @param x\n    * @param y\n    */\n    BaseScroller.prototype.adjustMask = function (width, height, x, y) {\n        if (x === void 0) { x = this.mConfig.x; }\n        if (y === void 0) { y = this.mConfig.y; }\n        var mask = this.mGameObject.mask;\n        if (!mask) {\n            var config = this.mConfig;\n            mask = this.scene.make.graphics(undefined, false);\n            mask.fillStyle(0);\n            mask.fillRect(0, 0, width, height);\n            mask.setPosition(config.x, config.y);\n            this.width = width;\n            this.height = height;\n            this.mGameObject.setMask(mask.createGeometryMask());\n        }\n        mask.x = x;\n        mask.y = y;\n        Object(_plugins_utils_size_ResizeGameObject_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(mask, width, height);\n    };\n    BaseScroller.prototype.setBounds = function (value0, value1) {\n        this.mScroller.setBounds(value0, value1);\n    };\n    Object.defineProperty(BaseScroller.prototype, \"bounds\", {\n        get: function () {\n            return this.mConfig.bounds;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BaseScroller.prototype.resize = function (width, height, value0, value1) {\n        this.width = width;\n        this.height = height;\n        if (this.mGameObject.parentContainer) {\n            this.clickContainer.x = this.mConfig.clickX;\n            this.clickContainer.y = this.mConfig.clickY;\n            this.mGameObject.parentContainer.add(this.clickContainer);\n        }\n        if (value0 !== undefined && value1 !== undefined)\n            this.mScroller.setBounds(value0, value1);\n    };\n    // resize(width, height) {\n    //     if ((this.width === width) && (this.height === height)) {\n    //         return this;\n    //     }\n    //     super.resize(width, height);\n    //     if (this.cellsMask) {\n    //         ResizeGameObject(MaskToGameObject(this.cellsMask), width, height);\n    //     }\n    //     if (this.expandCellSize) {\n    //         this.table.setDefaultCellWidth(this.instWidth / this.table.colCount);\n    //     }\n    //     this.updateTable(true);\n    //     return this;\n    // }\n    BaseScroller.prototype.clearInteractiveObject = function () {\n        if (!this.mInteractiveList)\n            return;\n        this.mInteractiveList.length = 0;\n        this.mInteractiveList = [];\n        this.mScroller.setBounds(0, 0);\n    };\n    BaseScroller.prototype.setInteractiveObject = function (obj) {\n        if (!this.mInteractiveList)\n            this.mInteractiveList = [];\n        this.mInteractiveList.push(obj);\n    };\n    BaseScroller.prototype.removeInteractiveObject = function (obj) {\n        var index = this.mInteractiveList.indexOf(obj);\n        if (index > -1) {\n            this.mInteractiveList.splice(index, 1);\n        }\n    };\n    BaseScroller.prototype.addListen = function () {\n        if (!this.scene)\n            return;\n        this.removeListen();\n        this.scene.input.on(\"pointermove\", this.pointerMoveHandler, this);\n        this.scene.input.on(\"pointerdown\", this.pointerDownHandler, this);\n        this.scene.input.on(\"pointerup\", this.pointerUpHandler, this);\n    };\n    BaseScroller.prototype.removeListen = function () {\n        this.mMoveing = false;\n        if (!this.scene)\n            return;\n        this.scene.input.off(\"pointerdown\", this.pointerDownHandler, this);\n        this.scene.input.off(\"pointerup\", this.pointerUpHandler, this);\n        this.scene.input.off(\"pointermove\", this.pointerMoveHandler, this);\n    };\n    Object.defineProperty(BaseScroller.prototype, \"left\", {\n        get: function () {\n            return -this.mGameObject.width / 2;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BaseScroller.prototype, \"right\", {\n        get: function () {\n            return this.mGameObject.width / 2;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BaseScroller.prototype, \"top\", {\n        get: function () {\n            return -this.mGameObject.height / 2;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BaseScroller.prototype, \"bottom\", {\n        get: function () {\n            return this.mGameObject.height / 2;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BaseScroller.prototype, \"boundPad0\", {\n        get: function () {\n            return this.mScroller.boundPad0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BaseScroller.prototype, \"boundPad1\", {\n        get: function () {\n            return this.mScroller.boundPad1;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BaseScroller.prototype.destroy = function () {\n        this.mMoveing = false;\n        if (this.mGameObject)\n            this.mGameObject.clearMask(true);\n        if (this.mScroller)\n            this.mScroller.destroy();\n        if (this.clickContainer)\n            this.clickContainer.destroy();\n        _super.prototype.destroy.call(this);\n    };\n    BaseScroller.prototype.refreshBound = function (refreshSize) {\n        var _this = this;\n        // if (!this.mInteractiveList) return;\n        // \n        var totalSize = 0;\n        if (refreshSize !== undefined) {\n            totalSize = refreshSize;\n        }\n        else {\n            this.mInteractiveList.forEach(function (cell) {\n                if (cell) {\n                    totalSize += _this.mConfig.orientation ? cell.width : cell.height;\n                }\n            });\n        }\n        // // \n        // const tmpSize: number = this.mConfig.orientation ? this.mGameObject.width : this.mGameObject.height;\n        // \n        var baseSize = this.mConfig.orientation ? this.basePoint.x : this.basePoint.y;\n        // \n        var baseShowSize = this.mConfig.orientation ? this.mConfig.width : this.mConfig.height;\n        if (totalSize < baseShowSize)\n            totalSize = baseShowSize;\n        this.setBounds(baseSize, baseSize - totalSize + baseShowSize);\n    };\n    BaseScroller.prototype.pointerMoveHandler = function (pointer) {\n        if (this.soundGroup && this.soundGroup.move)\n            this.playSound(this.soundGroup.move);\n        this.mMoveing = true;\n    };\n    BaseScroller.prototype.pointerDownHandler = function (pointer) {\n        // this.scene.input.off(\"pointermove\", this.pointerMoveHandler, this);\n        if (this.soundGroup && this.soundGroup.down)\n            this.playSound(this.soundGroup.down);\n        var inBound = this.checkPointerInBounds(this.clickContainer, pointer);\n        if (inBound && this.checkPointerDelection(pointer)) {\n            if (this.mCellDownHandler && !this.mMoveing) {\n                if (!this.mInteractiveList)\n                    return;\n                for (var i = 0, len = this.mInteractiveList.length; i < len; i++) {\n                    var interactiveObj = this.mInteractiveList[i];\n                    if (this.checkPointerInBounds(interactiveObj, pointer, true)) {\n                        this.mCellDownHandler(interactiveObj);\n                        break;\n                    }\n                }\n            }\n            var eventName = inBound ? BaseScrollerEvent.downinBound : BaseScrollerEvent.downoutBound;\n            this.emit(eventName, this.clickContainer);\n        }\n    };\n    BaseScroller.prototype.pointerUpHandler = function (pointer, gameObject) {\n        if (gameObject && this.mInteractiveList && this.mInteractiveList.length > 0) {\n            if (this.mInteractiveList.indexOf(gameObject[0]) === -1 && gameObject[0] !== this.clickContainer)\n                return;\n        }\n        // this.scene.input.on(\"pointermove\", this.pointerMoveHandler, this);\n        if (this.soundGroup && this.soundGroup.up)\n            this.playSound(this.soundGroup.up);\n        var inBound = this.checkPointerInBounds(this.clickContainer, pointer);\n        if (inBound && this.checkPointerDelection(pointer)) {\n            if (this.mCellUpHandler && !this.mMoveing) {\n                if (!this.mInteractiveList)\n                    return;\n                for (var i = 0, len = this.mInteractiveList.length; i < len; i++) {\n                    var interactiveObj = this.mInteractiveList[i];\n                    if (this.checkPointerInBounds(interactiveObj, pointer, true)) {\n                        this.mCellUpHandler(interactiveObj);\n                        break;\n                    }\n                }\n            }\n            var eventName = inBound ? BaseScrollerEvent.upinBound : BaseScrollerEvent.upoutBound;\n            this.emit(eventName, this.clickContainer);\n        }\n        this.mMoveing = false;\n    };\n    BaseScroller.prototype.checkPointerInBounds = function (gameObject, pointer, isCell) {\n        if (isCell === void 0) { isCell = false; }\n        if (!this.mRectangle) {\n            this.mRectangle = new Phaser.Geom.Rectangle(0, 0, 0, 0);\n        }\n        this.mRectangle.left = -gameObject.width / 2;\n        this.mRectangle.right = gameObject.width / 2;\n        this.mRectangle.top = -gameObject.height / 2;\n        this.mRectangle.bottom = gameObject.height / 2;\n        if (pointer) {\n            var worldMatrix = gameObject.getWorldTransformMatrix();\n            var x = pointer.x - worldMatrix.tx;\n            var y = pointer.y - worldMatrix.ty;\n            if (this.mRectangle.left <= x && this.mRectangle.right >= x && this.mRectangle.top <= y && this.mRectangle.bottom >= y) {\n                return true;\n            }\n            return false;\n        }\n        return false;\n    };\n    return BaseScroller;\n}(_baseUI_BaseUI__WEBPACK_IMPORTED_MODULE_1__[\"BaseUI\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/scroller/Scroller.ts?");

/***/ }),

/***/ "./lib/rexui/lib/ui/sizer/Factory.js":
/*!*******************************************!*\
  !*** ./lib/rexui/lib/ui/sizer/Factory.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Sizer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Sizer.js */ \"./lib/rexui/lib/ui/sizer/Sizer.js\");\n/* harmony import */ var _ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ObjectFactory.js */ \"./lib/rexui/lib/ui/ObjectFactory.js\");\n/* harmony import */ var _plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../plugins/utils/object/SetValue.js */ \"./lib/rexui/lib/plugins/utils/object/SetValue.js\");\n\n\n\n\n_ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].register('sizer', function (x, y, minWidth, minHeight, orientation, config) {\n    var gameObject = new _Sizer_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.scene, x, y, minWidth, minHeight, orientation, config);\n    this.scene.add.existing(gameObject); // It won't be added to display list, neither update list\n    return gameObject;\n});\n\nObject(_plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(window, 'RexPlugins.UI.Sizer', _Sizer_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_Sizer_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/sizer/Factory.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/sizer/GetChildrenHeight.js":
/*!*****************************************************!*\
  !*** ./lib/rexui/lib/ui/sizer/GetChildrenHeight.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _plugins_utils_size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../plugins/utils/size/GetDisplaySize.js */ \"./lib/rexui/lib/plugins/utils/size/GetDisplaySize.js\");\n\n\nvar GetChildrenHeight = function (minimumMode) {\n    if (this.rexSizer.hidden) {\n        return 0;\n    }\n\n    if (minimumMode === undefined) {\n        minimumMode = true;\n    }\n\n    var result = 0;\n    var children = this.sizerChildren;\n    var child, padding, childHeight;\n    if (this.orientation === 0) { // x\n        // Get maximun height\n        for (var i = 0, cnt = children.length; i < cnt; i++) {\n            child = children[i];\n            if (child.rexSizer.hidden) {\n                continue;\n            }\n\n            childHeight = (child.isRexSizer) ?\n                Math.max(child.minHeight, child.childrenHeight) :\n                Object(_plugins_utils_size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_0__[\"GetDisplayHeight\"])(child);\n\n            padding = child.rexSizer.padding;\n            childHeight += (padding.top + padding.bottom);\n            result = Math.max(childHeight, result);\n        }\n    } else {\n        // Get summation of minimum height\n        for (var i = 0, cnt = children.length; i < cnt; i++) {\n            child = children[i];\n            if (!child.hasOwnProperty('rexSizer')) {\n                continue;\n            }\n            if (child.rexSizer.hidden) {\n                continue;\n            }\n\n            if (\n                (child.rexSizer.proportion === 0) ||\n                (minimumMode && (!child.isRexSpace) && (child.rexSizer.proportion > 0))\n            ) {\n                childHeight = (child.isRexSizer) ?\n                    Math.max(child.minHeight, child.childrenHeight) :\n                    Object(_plugins_utils_size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_0__[\"GetDisplayHeight\"])(child);\n            } else {\n                childHeight = 0;\n            }\n            padding = child.rexSizer.padding;\n            childHeight += (padding.top + padding.bottom);\n            result += childHeight;\n        }\n    }\n    return result;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GetChildrenHeight);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/sizer/GetChildrenHeight.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/sizer/GetChildrenProportion.js":
/*!*********************************************************!*\
  !*** ./lib/rexui/lib/ui/sizer/GetChildrenProportion.js ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar GetChildrenProportion = function () {\n    var result = 0;\n    var children = this.sizerChildren;\n    var child, proportion;\n    for (var i = 0, cnt = children.length; i < cnt; i++) {\n        child = children[i];\n        if (child.rexSizer.hidden) {\n            continue;\n        }\n        proportion = child.rexSizer.proportion;\n        if (proportion > 0) {\n            result += proportion;\n        }\n    }\n    return result;\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (GetChildrenProportion);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/sizer/GetChildrenProportion.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/sizer/GetChildrenSizers.js":
/*!*****************************************************!*\
  !*** ./lib/rexui/lib/ui/sizer/GetChildrenSizers.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar GetChildrenSizers = function(out) {\n    if (out === undefined) {\n        out = [];\n    }\n    var children = this.sizerChildren,\n        child;\n    for (var i = 0, cnt = children.length; i < cnt; i++) {\n        child = children[i];\n        if (child.isRexSizer) {\n            out.push(child);\n        }\n    }\n    return out;\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (GetChildrenSizers);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/sizer/GetChildrenSizers.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/sizer/GetChildrenWidth.js":
/*!****************************************************!*\
  !*** ./lib/rexui/lib/ui/sizer/GetChildrenWidth.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _plugins_utils_size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../plugins/utils/size/GetDisplaySize.js */ \"./lib/rexui/lib/plugins/utils/size/GetDisplaySize.js\");\n\n\nvar GetChildrenWidth = function (minimumMode) {\n    if (this.rexSizer.hidden) {\n        return 0;\n    }\n\n    if (minimumMode === undefined) {\n        minimumMode = true;\n    }\n\n    var result = 0;\n    var children = this.sizerChildren;\n    var child, padding, childWidth;\n    if (this.orientation === 0) { // x\n        // Get summation of minimum width\n        for (var i = 0, cnt = children.length; i < cnt; i++) {\n            child = children[i];\n            if (child.rexSizer.hidden) {\n                continue;\n            }\n\n            if (\n                (child.rexSizer.proportion === 0) ||\n                (minimumMode && (!child.isRexSpace) && (child.rexSizer.proportion > 0))\n            ) {\n                childWidth = (child.isRexSizer) ?\n                    Math.max(child.minWidth, child.childrenWidth) :\n                    Object(_plugins_utils_size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_0__[\"GetDisplayWidth\"])(child);\n            } else {\n                childWidth = 0;\n            }\n            padding = child.rexSizer.padding;\n            childWidth += (padding.left + padding.right);\n            result += childWidth;\n        }\n    } else {\n        // Get maximun width\n        for (var i = 0, cnt = children.length; i < cnt; i++) {\n            child = children[i];\n            if (!child.hasOwnProperty('rexSizer')) {\n                continue;\n            }\n            if (child.rexSizer.hidden) {\n                continue;\n            }\n\n            childWidth = (child.isRexSizer) ?\n                Math.max(child.minWidth, child.childrenWidth) :\n                Object(_plugins_utils_size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_0__[\"GetDisplayWidth\"])(child);\n\n            padding = child.rexSizer.padding;\n            childWidth += (padding.left + padding.right);\n            result = Math.max(childWidth, result);\n        }\n    }\n    return result;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GetChildrenWidth);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/sizer/GetChildrenWidth.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/sizer/GetExpandedChildHeight.js":
/*!**********************************************************!*\
  !*** ./lib/rexui/lib/ui/sizer/GetExpandedChildHeight.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar GetExpandedChildHeight = function (parent, child) {\n    var newHeight;\n    var childConfig = child.rexSizer;\n    var padding = childConfig.padding;\n    if (parent.orientation === 0) { // x\n        if (childConfig.expand) {\n            newHeight = parent.height - padding.top - padding.bottom;\n        }\n    } else { // y\n        if ((childConfig.proportion > 0) && (parent.proportionLength > 0)) {\n            newHeight = (childConfig.proportion * parent.proportionLength);\n        }\n    }\n    return newHeight;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GetExpandedChildHeight);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/sizer/GetExpandedChildHeight.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/sizer/GetExpandedChildWidth.js":
/*!*********************************************************!*\
  !*** ./lib/rexui/lib/ui/sizer/GetExpandedChildWidth.js ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar GetExpandedChildWidth = function (parent, child) {\n    var newWidth;\n    var childConfig = child.rexSizer;\n    var padding = childConfig.padding;\n    if (parent.orientation === 0) { // x\n        if ((childConfig.proportion > 0) && (parent.proportionLength > 0)) {\n            newWidth = (childConfig.proportion * parent.proportionLength);\n        }\n    } else { // y\n        if (childConfig.expand) {\n            newWidth = parent.width - padding.left - padding.right;\n        }\n    }\n    return newWidth;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GetExpandedChildWidth);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/sizer/GetExpandedChildWidth.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/sizer/Layout.js":
/*!******************************************!*\
  !*** ./lib/rexui/lib/ui/sizer/Layout.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _GetExpandedChildWidth_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GetExpandedChildWidth.js */ \"./lib/rexui/lib/ui/sizer/GetExpandedChildWidth.js\");\n/* harmony import */ var _GetExpandedChildHeight_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GetExpandedChildHeight.js */ \"./lib/rexui/lib/ui/sizer/GetExpandedChildHeight.js\");\n/* harmony import */ var _plugins_utils_size_ResizeGameObject_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../plugins/utils/size/ResizeGameObject.js */ \"./lib/rexui/lib/plugins/utils/size/ResizeGameObject.js\");\n/* harmony import */ var _plugins_utils_actions_GlobZone_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../plugins/utils/actions/GlobZone.js */ \"./lib/rexui/lib/plugins/utils/actions/GlobZone.js\");\n/* harmony import */ var _plugins_utils_align_align_in_QuickSet_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../plugins/utils/align/align/in/QuickSet.js */ \"./lib/rexui/lib/plugins/utils/align/align/in/QuickSet.js\");\n/* harmony import */ var _plugins_utils_size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../plugins/utils/size/GetDisplaySize.js */ \"./lib/rexui/lib/plugins/utils/size/GetDisplaySize.js\");\n\n\n\n\n\n\n\nvar Layout = function (parent, newWidth, newHeight) {\n    // Skip invisible sizer\n    if (this.rexSizer.hidden) {\n        return this;\n    }\n\n    this.preLayout(parent);\n\n    // Set size\n    if (newWidth === undefined) {\n        newWidth = Math.max(this.childrenWidth, this.minWidth);\n    }\n    if (newHeight === undefined) {\n        newHeight = Math.max(this.childrenHeight, this.minHeight);\n    }\n    this.resize(newWidth, newHeight);\n\n    var proportionLength;\n    if (this.childrenProportion > 0) {\n        var remainder = (this.orientation === 0) ?\n            (this.width - this.childrenWidth) :\n            (this.height - this.childrenHeight);\n\n        if (remainder > 0) {\n            remainder = (this.orientation === 0) ?\n                (this.width - this.getChildrenWidth(false)) :\n                (this.height - this.getChildrenHeight(false));\n            proportionLength = remainder / this.childrenProportion;\n        } else {\n            proportionLength = 0;\n        }\n    } else {\n        proportionLength = 0;\n    }\n    this.proportionLength = proportionLength;\n\n    // Layout children    \n    var children = this.sizerChildren;\n    var child, childConfig, padding;\n    var startX = this.left,\n        startY = this.top;\n    var itemX = startX,\n        itemY = startY;\n    var x, y, width, height; // Align zone\n    var childWidth, childHeight;\n    for (var i = 0, cnt = children.length; i < cnt; i++) {\n        child = children[i];\n        if (child.rexSizer.hidden) {\n            continue;\n        }\n\n        childConfig = child.rexSizer;\n        padding = childConfig.padding;\n\n        // Set size\n        childWidth = Object(_GetExpandedChildWidth_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, child);\n        childHeight = Object(_GetExpandedChildHeight_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this, child);\n        if (child.isRexSizer) {\n            child.layout(this, childWidth, childHeight);\n        } else {\n            Object(_plugins_utils_size_ResizeGameObject_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(child, childWidth, childHeight);\n        }\n\n        if (childWidth === undefined) {\n            childWidth = Object(_plugins_utils_size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_5__[\"GetDisplayWidth\"])(child);\n        }\n        if (childHeight === undefined) {\n            childHeight = Object(_plugins_utils_size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_5__[\"GetDisplayHeight\"])(child);\n        }\n\n        // Set position\n        if (this.orientation === 0) { // x\n            x = (itemX + padding.left);\n            if ((childConfig.proportion === 0) || (proportionLength === 0)) {\n                width = childWidth;\n            } else {\n                width = (childConfig.proportion * proportionLength);\n            }\n\n            y = (itemY + padding.top);\n            height = (this.height - padding.top - padding.bottom);\n        } else { // y\n            x = (itemX + padding.left);\n            width = (this.width - padding.left - padding.right);\n\n            y = (itemY + padding.top);\n            if ((childConfig.proportion === 0) || (proportionLength === 0)) {\n                height = childHeight;\n            } else {\n                height = (childConfig.proportion * proportionLength);\n            }\n        }\n\n        _plugins_utils_actions_GlobZone_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].setPosition(x, y).setSize(width, height);\n        Object(_plugins_utils_align_align_in_QuickSet_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(child, _plugins_utils_actions_GlobZone_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"], childConfig.align);\n        this.resetChildPositionState(child);\n\n        if (this.orientation === 0) { // x\n            itemX += (width + padding.left + padding.right);\n        } else { // y\n            itemY += (height + padding.top + padding.bottom);\n        }\n    }\n\n    // Layout background children\n    this.layoutBackgrounds();\n\n    return this.postLayout();\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Layout);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/sizer/Layout.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/sizer/Methods.js":
/*!*******************************************!*\
  !*** ./lib/rexui/lib/ui/sizer/Methods.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _GetChildrenWidth_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GetChildrenWidth.js */ \"./lib/rexui/lib/ui/sizer/GetChildrenWidth.js\");\n/* harmony import */ var _GetChildrenHeight_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GetChildrenHeight.js */ \"./lib/rexui/lib/ui/sizer/GetChildrenHeight.js\");\n/* harmony import */ var _GetChildrenProportion_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GetChildrenProportion.js */ \"./lib/rexui/lib/ui/sizer/GetChildrenProportion.js\");\n/* harmony import */ var _GetChildrenSizers_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./GetChildrenSizers.js */ \"./lib/rexui/lib/ui/sizer/GetChildrenSizers.js\");\n/* harmony import */ var _Layout_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Layout.js */ \"./lib/rexui/lib/ui/sizer/Layout.js\");\n/* harmony import */ var _layoutInit_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./_layoutInit.js */ \"./lib/rexui/lib/ui/sizer/_layoutInit.js\");\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    getChildrenWidth: _GetChildrenWidth_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    getChildrenHeight: _GetChildrenHeight_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n    getChildrenProportion: _GetChildrenProportion_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n    getChildrenSizers: _GetChildrenSizers_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n    layout: _Layout_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n    _layoutInit: _layoutInit_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\n});\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/sizer/Methods.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/sizer/Sizer.js":
/*!*****************************************!*\
  !*** ./lib/rexui/lib/ui/sizer/Sizer.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _basesizer_BaseSizer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../basesizer/BaseSizer.js */ \"./lib/rexui/lib/ui/basesizer/BaseSizer.js\");\n/* harmony import */ var _Methods_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Methods.js */ \"./lib/rexui/lib/ui/sizer/Methods.js\");\n/* harmony import */ var _utils_GetBoundsConfig_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/GetBoundsConfig.js */ \"./lib/rexui/lib/ui/utils/GetBoundsConfig.js\");\n/* harmony import */ var _utils_OrientationConst_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/OrientationConst.js */ \"./lib/rexui/lib/ui/utils/OrientationConst.js\");\n/* harmony import */ var _utils_AlignConst_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/AlignConst.js */ \"./lib/rexui/lib/ui/utils/AlignConst.js\");\n/* harmony import */ var _utils_Space_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/Space.js */ \"./lib/rexui/lib/ui/utils/Space.js\");\n\n\n\n\n\n\n\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\nconst GetValue = Phaser.Utils.Objects.GetValue;\nconst RemoveItem = Phaser.Utils.Array.Remove;\nconst ALIGN_CENTER = Phaser.Display.Align.CENTER;\n\nclass Sizer extends _basesizer_BaseSizer_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(scene, x, y, minWidth, minHeight, orientation, config) {\n        if (IsPlainObject(x)) {\n            config = x;\n            x = GetValue(config, 'x', 0);\n            y = GetValue(config, 'y', 0);\n            minWidth = GetValue(config, 'width', undefined);\n            minHeight = GetValue(config, 'height', undefined);\n        } else if (IsPlainObject(minWidth)) {\n            config = minWidth;\n            minWidth = GetValue(config, 'width', undefined);\n            minHeight = GetValue(config, 'height', undefined);\n        } else if (IsPlainObject(orientation)) {\n            config = orientation;\n        }\n\n        if (config !== undefined) {\n            orientation = GetValue(config, 'orientation', 0);\n        }\n        if (orientation === undefined) {\n            orientation = 0;\n        }\n        super(scene, x, y, minWidth, minHeight, config);\n\n        this.type = 'rexSizer';\n        this.sizerChildren = [];\n        this.setOrientation(orientation);\n    }\n\n    destroy(fromScene) {\n        //  This Game Object has already been destroyed\n        if (!this.scene) {\n            return;\n        }\n        this.sizerChildren.length = 0;\n        super.destroy(fromScene);\n    }\n\n    setOrientation(orientation) {\n        if (typeof (orientation) === 'string') {\n            orientation = _utils_OrientationConst_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"][orientation];\n        }\n        this.orientation = orientation;\n        return this;\n    }\n\n    add(gameObject, proportion, align, paddingConfig, expand, childKey) {\n        super.add(gameObject);\n\n        var proportionType = typeof (proportion);\n        if (proportion === null) {\n            return this;\n        } else if (proportionType === 'number') {\n\n        } else if (proportionType === 'string') {\n            proportion = PROPORTIONMODE[proportion];\n        } else if (IsPlainObject(proportion)) {\n            var config = proportion;\n            proportion = GetValue(config, 'proportion', 0);\n            align = GetValue(config, 'align', ALIGN_CENTER);\n            paddingConfig = GetValue(config, 'padding', 0);\n            expand = GetValue(config, 'expand', false);\n            childKey = GetValue(config, 'key', undefined);\n        }\n\n        if (typeof (align) === 'string') {\n            align = _utils_AlignConst_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"][align];\n        }\n\n        if (proportion === undefined) {\n            proportion = 0;\n        }\n        if (align === undefined) {\n            align = ALIGN_CENTER;\n        }\n        if (paddingConfig === undefined) {\n            paddingConfig = 0;\n        }\n        if (expand === undefined) {\n            expand = false;\n        }\n\n        var config = this.getSizerConfig(gameObject);\n        config.parent = this;\n        config.proportion = proportion;\n        config.align = align;\n        config.padding = Object(_utils_GetBoundsConfig_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(paddingConfig);\n        config.expand = expand;\n        this.sizerChildren.push(gameObject);\n\n        if (childKey !== undefined) {\n            this.addChildrenMap(childKey, gameObject)\n        }\n        return this;\n    }\n\n    addSpace(proportion) {\n        if (proportion === undefined) {\n            proportion = 1;\n        }\n        this.add(Object(_utils_Space_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this.scene), proportion);\n        return this;\n    }\n\n    insert(index, gameObject, proportion, align, paddingConfig, expand) {\n        this.add(gameObject, proportion, align, paddingConfig, expand);\n        this.moveTo(gameObject, index);\n        return this;\n    }\n\n    remove(gameObject) {\n        var config = this.getSizerConfig(gameObject);\n        if (config.parent !== this) {\n            return this;\n        }\n        config.parent = undefined;\n        RemoveItem(this.sizerChildren, gameObject);\n        super.remove(gameObject);\n        return this;\n    }\n\n    clear(destroyChild) {\n        for (var i = 0, cnt = this.sizerChildren.length; i < cnt; i++) {\n            this.getSizerConfig(this.sizerChildren[i]).parent = undefined;\n        }\n        this.sizerChildren.length = 0;\n        super.clear(destroyChild);\n        return this;\n    }\n\n    get childrenProportion() {\n        if (this._childrenProportion === undefined) {\n            this._childrenProportion = this.getChildrenProportion();\n        }\n        return this._childrenProportion;\n    }\n}\n\nObject.assign(\n    Sizer.prototype,\n    _Methods_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]\n);\n\nconst PROPORTIONMODE = {\n    min: 0,\n    full: -1,\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (Sizer);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/sizer/Sizer.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/sizer/_layoutInit.js":
/*!***********************************************!*\
  !*** ./lib/rexui/lib/ui/sizer/_layoutInit.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar LayoutInitChild = function () {\n    this._childrenWidth = undefined;\n    this._childrenHeight = undefined;\n    this._childrenProportion = undefined;\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (LayoutInitChild);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/sizer/_layoutInit.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/slider/Factory.js":
/*!********************************************!*\
  !*** ./lib/rexui/lib/ui/slider/Factory.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Slider_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Slider.js */ \"./lib/rexui/lib/ui/slider/Slider.js\");\n/* harmony import */ var _ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ObjectFactory.js */ \"./lib/rexui/lib/ui/ObjectFactory.js\");\n/* harmony import */ var _plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../plugins/utils/object/SetValue.js */ \"./lib/rexui/lib/plugins/utils/object/SetValue.js\");\n\n\n\n\n_ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].register('slider', function (config) {\n    var gameObject = new _Slider_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.scene, config);\n    this.scene.add.existing(gameObject); // It won't be added to display list, neither update list\n    return gameObject;\n});\n\nObject(_plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(window, 'RexPlugins.UI.Slider', _Slider_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_Slider_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/slider/Factory.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/slider/GameSlider.ts":
/*!***********************************************!*\
  !*** ./lib/rexui/lib/ui/slider/GameSlider.ts ***!
  \***********************************************/
/*! exports provided: GameSlider */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GameSlider\", function() { return GameSlider; });\n/* harmony import */ var _Slider_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Slider.js */ \"./lib/rexui/lib/ui/slider/Slider.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar GameSlider = /** @class */ (function (_super) {\n    __extends(GameSlider, _super);\n    function GameSlider(scene, config) {\n        var _this = _super.call(this, scene, config.x, config.y) || this;\n        config.x = 0;\n        config.y = 0;\n        _this.slider = new _Slider_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](scene, config);\n        _this.add(_this.slider);\n        var group = _this.slider.children;\n        _this.add(group.getChildren());\n        _this.slider.layout(_this, config.width, config.height);\n        return _this;\n    }\n    GameSlider.prototype.setEnable = function (enable) {\n        this.slider.setEnable(enable);\n    };\n    GameSlider.prototype.setGap = function (gap) {\n        this.slider.setGap(gap);\n    };\n    GameSlider.prototype.setValue = function (value, min, max) {\n        this.slider.setValue(value, min, max);\n    };\n    GameSlider.prototype.addValue = function (inc, min, max) {\n        this.slider.addValue(inc, min, max);\n    };\n    GameSlider.prototype.getValue = function (min, max) {\n        var value = this.slider.getValue(min, max);\n        return value;\n    };\n    GameSlider.prototype.layout = function (parent, newWidth, newHeight) {\n        this.slider.layout(parent, newWidth, newHeight);\n    };\n    return GameSlider;\n}(Phaser.GameObjects.Container));\n\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/slider/GameSlider.ts?");

/***/ }),

/***/ "./lib/rexui/lib/ui/slider/GetEndPoint.js":
/*!************************************************!*\
  !*** ./lib/rexui/lib/ui/slider/GetEndPoint.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _GetThumbAlignPoint_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GetThumbAlignPoint.js */ \"./lib/rexui/lib/ui/slider/GetThumbAlignPoint.js\");\n\n\nconst AlignRight = Phaser.Display.Align.RIGHT_CENTER;\nconst AlignBottom = Phaser.Display.Align.BOTTOM_CENTER;\n\nvar GetEndoint = function (out) {\n    if (out === undefined) {\n        out = tmpPoint;\n    }\n    if (this.childrenMap.thumb) {\n        var align = (this.orientation === 1) ? AlignRight : AlignBottom;\n        _GetThumbAlignPoint_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].call(this, align, out);\n    } else {\n        if (this.orientation === 0) {\n            out.x = this.centerX;\n            out.y = this.bottom - 1; // Add 1 pixel margin\n        } else {\n            out.x = this.right - 1; // Add 1 pixel margin\n            out.y = this.centerY;\n        }\n    }\n    return out;\n}\n\nvar tmpPoint = {};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GetEndoint);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/slider/GetEndPoint.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/slider/GetStartPoint.js":
/*!**************************************************!*\
  !*** ./lib/rexui/lib/ui/slider/GetStartPoint.js ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _GetThumbAlignPoint_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GetThumbAlignPoint.js */ \"./lib/rexui/lib/ui/slider/GetThumbAlignPoint.js\");\n\n\nconst AlignLeft = Phaser.Display.Align.LEFT_CENTER;\nconst AlignTop = Phaser.Display.Align.TOP_CENTER;\n\nvar GetStartPoint = function (out) {\n    if (out === undefined) {\n        out = tmpPoint;\n    }\n    if (this.childrenMap.thumb) {\n        var align = (this.orientation === 0) ? AlignTop : AlignLeft;\n        _GetThumbAlignPoint_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].call(this, align, out);\n    } else {\n        if (this.orientation === 0) {\n            out.x = this.centerX;\n            out.y = this.top + 1; // Add 1 pixel margin\n        } else {\n            out.x = this.left + 1; // Add 1 pixel margin\n            out.y = this.centerY;\n        }\n    }\n    return out;\n}\n\nvar tmpPoint = {};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GetStartPoint);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/slider/GetStartPoint.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/slider/GetThumbAlignPoint.js":
/*!*******************************************************!*\
  !*** ./lib/rexui/lib/ui/slider/GetThumbAlignPoint.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _plugins_utils_align_align_in_QuickSet_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../plugins/utils/align/align/in/QuickSet.js */ \"./lib/rexui/lib/plugins/utils/align/align/in/QuickSet.js\");\n\n\nvar GetThumbAlignPoint = function (align, out) {\n    if (out === undefined) {\n        out = tmpPoint;\n    }\n    var thumb = this.childrenMap.thumb;\n    var currentX = thumb.x;\n    var currentY = thumb.y;\n\n    Object(_plugins_utils_align_align_in_QuickSet_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(thumb, this, align, this.offsetX, this.offsetY);\n    out.x = thumb.x;\n    out.y = thumb.y;\n\n    thumb.x = currentX;\n    thumb.y = currentY;\n\n    return out;\n}\n\nvar tmpPoint = {};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GetThumbAlignPoint);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/slider/GetThumbAlignPoint.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/slider/OnDragThumb.js":
/*!************************************************!*\
  !*** ./lib/rexui/lib/ui/slider/OnDragThumb.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _PositionToPercent_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PositionToPercent.js */ \"./lib/rexui/lib/ui/slider/PositionToPercent.js\");\n\n\nvar OnDragThumb = function (pointer, dragX, dragY) {\n    if (!this.enable) {\n        return;\n    }\n    tmpPoint.x = dragX;\n    tmpPoint.y = dragY;\n    this.value = Object(_PositionToPercent_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this.getStartPoint(), this.getEndPoint(), tmpPoint);\n}\nvar tmpPoint = {};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (OnDragThumb);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/slider/OnDragThumb.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/slider/OnTouchTrack.js":
/*!*************************************************!*\
  !*** ./lib/rexui/lib/ui/slider/OnTouchTrack.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _PositionToPercent_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PositionToPercent.js */ \"./lib/rexui/lib/ui/slider/PositionToPercent.js\");\n\n\nvar OnTouchTrack = function (pointer, localX, localY) {\n    if (!this.enable) {\n        return;\n    }\n    if (!pointer.isDown) {\n        return;\n    }\n    tmpPoint.x = pointer.worldX;\n    tmpPoint.y = pointer.worldY;\n    this.value = Object(_PositionToPercent_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this.getStartPoint(), this.getEndPoint(), tmpPoint);\n}\nvar tmpPoint = {};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (OnTouchTrack);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/slider/OnTouchTrack.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/slider/PercentToPosition.js":
/*!******************************************************!*\
  !*** ./lib/rexui/lib/ui/slider/PercentToPosition.js ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nconst Linear = Phaser.Math.Linear;\n\nvar PercentToPosition = function (t, startPoint, endPoint, out) {\n    if (out === undefined) {\n        out = tmpOut;\n    }\n    out.x = Linear(startPoint.x, endPoint.x, t);\n    out.y = Linear(startPoint.y, endPoint.y, t);\n    return out;\n}\nvar tmpOut = {};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (PercentToPosition);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/slider/PercentToPosition.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/slider/PositionToPercent.js":
/*!******************************************************!*\
  !*** ./lib/rexui/lib/ui/slider/PositionToPercent.js ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nconst Percent = Phaser.Math.Percent;\n\nvar PositionToPercent = function (startPoint, endPoint, currentPoint) {\n    var min, max, value;\n    if (startPoint.y === endPoint.y) {\n        min = Math.min(startPoint.x, endPoint.x);\n        max = Math.max(startPoint.x, endPoint.x);\n        value = Percent(currentPoint.x, min, max);\n    } else if (startPoint.x === endPoint.x) {\n        min = Math.min(startPoint.y, endPoint.y);\n        max = Math.max(startPoint.y, endPoint.y);\n        value = Percent(currentPoint.y, min, max);\n    }\n    return value\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (PositionToPercent);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/slider/PositionToPercent.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/slider/Slider.js":
/*!*******************************************!*\
  !*** ./lib/rexui/lib/ui/slider/Slider.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _sizer_Sizer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../sizer/Sizer.js */ \"./lib/rexui/lib/ui/sizer/Sizer.js\");\n/* harmony import */ var _OnDragThumb_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./OnDragThumb.js */ \"./lib/rexui/lib/ui/slider/OnDragThumb.js\");\n/* harmony import */ var _OnTouchTrack_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./OnTouchTrack.js */ \"./lib/rexui/lib/ui/slider/OnTouchTrack.js\");\n/* harmony import */ var _GetStartPoint_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./GetStartPoint.js */ \"./lib/rexui/lib/ui/slider/GetStartPoint.js\");\n/* harmony import */ var _GetEndPoint_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./GetEndPoint.js */ \"./lib/rexui/lib/ui/slider/GetEndPoint.js\");\n/* harmony import */ var _UpdateThumb_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./UpdateThumb.js */ \"./lib/rexui/lib/ui/slider/UpdateThumb.js\");\n/* harmony import */ var _UpdateIndicator_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./UpdateIndicator.js */ \"./lib/rexui/lib/ui/slider/UpdateIndicator.js\");\n\n\n\n\n\n\n\n\nconst GetValue = Phaser.Utils.Objects.GetValue;\nconst Clamp = Phaser.Math.Clamp;\nconst Linear = Phaser.Math.Linear;\nconst Percent = Phaser.Math.Percent;\nconst SnapTo = Phaser.Math.Snap.To;\n\nclass Slider extends _sizer_Sizer_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(scene, config) {\n        // Create sizer\n        super(scene, config);\n        this.type = 'rexSlider';\n        this.eventEmitter = GetValue(config, 'eventEmitter', this);\n\n        // Add elements\n        var background = GetValue(config, 'background', undefined);\n        var track = GetValue(config, 'track', undefined);\n        var indicator = GetValue(config, 'indicator', undefined);\n        var thumb = GetValue(config, 'thumb', undefined);\n\n        // Space\n        var paddingLeft = GetValue(config, 'space.left', 0);\n        var paddingRight = GetValue(config, 'space.right', 0);\n        var paddingTop = GetValue(config, 'space.top', 0);\n        var paddingBottom = GetValue(config, 'space.bottom', 0);\n        this.offsetX = GetValue(config, 'offsetX', 0);\n        this.offsetY = GetValue(config, 'offsetY', 0);\n        if (background) {\n            this.addBackground(background);\n        }\n\n        if (track) {\n            var padding = {\n                left: paddingLeft,\n                right: paddingRight,\n                top: paddingTop,\n                bottom: paddingBottom\n            }\n            this.add(track, 0, undefined, padding, true);\n        }\n\n        if (indicator) {\n            this.add(indicator, null); // Put into container but not layout it\n        }\n\n        if (thumb) {\n            this.add(thumb, null); // Put into container but not layout it\n\n        }\n\n        // Input\n        var inputMode = GetValue(config, 'input', 0);\n        if (typeof (inputMode) === 'string') {\n            inputMode = INPUTMODE[inputMode];\n        }\n        switch (inputMode) {\n            case 0: // 'drag'\n                if (thumb) {\n                    thumb.setInteractive();\n                    this.scene.input.setDraggable(thumb);\n                    thumb.on('drag', _OnDragThumb_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], this);\n                }\n                break;\n            case 1: // 'click'\n                this.setInteractive()\n                    .on('pointerdown', _OnTouchTrack_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"], this)\n                    .on('pointermove', _OnTouchTrack_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"], this);\n                break;\n        }\n\n        this.addChildrenMap('background', background);\n        this.addChildrenMap('track', track);\n        this.addChildrenMap('indicator', indicator);\n        this.addChildrenMap('thumb', thumb);\n        this.calValueFunc = GetValue(config, \"calValueFunc\", undefined);\n        var callback = GetValue(config, 'valuechangeCallback', null);\n        if (callback !== null) {\n            var scope = GetValue(config, 'valuechangeCallbackScope', undefined);\n            this.eventEmitter.on('valuechange', callback, scope);\n        }\n        this.setEnable(GetValue(config, 'enable', undefined));\n        this.setGap(GetValue(config, 'gap', undefined));\n        this.setValue(GetValue(config, 'value', 0));\n    }\n\n    setEnable(enable) {\n        if (enable === undefined) {\n            enable = true;\n        }\n        this.enable = enable;\n        return this;\n    }\n\n    setGap(gap) {\n        this.gap = gap;\n        return this;\n    }\n\n    get value() {\n        return this._value;\n    }\n\n    set value(value) {\n        if (this.gap !== undefined) {\n            value = SnapTo(value, this.gap);\n        }\n        var oldValue = this._value;\n        this._value = Clamp(value, 0, 1);\n\n        if (oldValue !== this._value) {\n            // \n            this.updateThumb(this._value);\n            this.updateIndicator(this._value);\n            this.eventEmitter.emit('valuechange', this._value, oldValue, this.eventEmitter);\n        }\n    }\n\n    setValue(value, min, max) {\n        if ((value === undefined) || (value === null)) {\n            return this;\n        }\n\n        if (min !== undefined) {\n            value = Percent(value, min, max);\n        }\n        this.value = value;\n        return this;\n    }\n\n    addValue(inc, min, max) {\n        if (min !== undefined) {\n            inc = Percent(inc, min, max);\n        }\n        this.value += inc;\n        return this;\n    }\n\n    getValue(min, max) {\n        var value = this.value;\n        if (min !== undefined) {\n            value = this.calValueFunc === undefined ? Linear(min, max, value) : this.calValueFunc(min, max, value);\n        }\n        return value;\n    }\n\n    layout(parent, newWidth, newHeight) {\n        super.layout(parent, newWidth, newHeight);\n        this.updateThumb();\n        this.updateIndicator();\n        return this;\n    }\n}\n\nconst INPUTMODE = {\n    drag: 0,\n    click: 1,\n    none: -1,\n}\n\nvar methods = {\n    getStartPoint: _GetStartPoint_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n    getEndPoint: _GetEndPoint_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n    updateThumb: _UpdateThumb_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\n    updateIndicator: _UpdateIndicator_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\n}\nObject.assign(\n    Slider.prototype,\n    methods\n);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Slider);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/slider/Slider.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/slider/UpdateIndicator.js":
/*!****************************************************!*\
  !*** ./lib/rexui/lib/ui/slider/UpdateIndicator.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _plugins_utils_size_ResizeGameObject_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../plugins/utils/size/ResizeGameObject.js */ \"./lib/rexui/lib/plugins/utils/size/ResizeGameObject.js\");\n/* harmony import */ var _plugins_utils_align_align_in_QuickSet_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../plugins/utils/align/align/in/QuickSet.js */ \"./lib/rexui/lib/plugins/utils/align/align/in/QuickSet.js\");\n/* harmony import */ var _plugins_utils_size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../plugins/utils/size/GetDisplaySize.js */ \"./lib/rexui/lib/plugins/utils/size/GetDisplaySize.js\");\n\n\n\n\nconst AlignLeft = Phaser.Display.Align.LEFT_CENTER;\nconst AlignTop = Phaser.Display.Align.TOP_CENTER;\n\nvar UpdateIndicator = function (t) {\n    var indicator = this.childrenMap.indicator;\n    if (indicator === undefined) {\n        return this;\n    }\n\n    if (t === undefined) {\n        t = this.value;\n    }\n\n    var newWidth, newHeight;\n    var thumb = this.childrenMap.thumb;\n    if (thumb) {\n        if (this.orientation === 0) { // x, extend height\n            var thumbHeight = Object(_plugins_utils_size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_2__[\"GetDisplayHeight\"])(thumb);\n            var thumbBottom = (thumb.y - (thumbHeight * thumb.originY)) + thumbHeight;\n            newHeight = thumbBottom - this.top;\n        } else { // y, extend width\n            var thumbWidth = Object(_plugins_utils_size_GetDisplaySize_js__WEBPACK_IMPORTED_MODULE_2__[\"GetDisplayWidth\"])(thumb);\n            var thumbRight = (thumb.x - (thumbWidth * thumb.originX)) + thumbWidth;\n            newWidth = thumbRight - this.left;\n        }\n    } else {\n        if (this.orientation === 0) { // x, extend height\n            newHeight = this.height * t;\n        } else { // y, extend width\n            newWidth = this.width * t;\n        }\n    }\n    Object(_plugins_utils_size_ResizeGameObject_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(indicator, newWidth, newHeight);\n    var align = (this.orientation === 1) ? AlignLeft : AlignTop;\n    Object(_plugins_utils_align_align_in_QuickSet_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(indicator, this, align);\n    this.resetChildPositionState(indicator);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (UpdateIndicator);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/slider/UpdateIndicator.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/slider/UpdateThumb.js":
/*!************************************************!*\
  !*** ./lib/rexui/lib/ui/slider/UpdateThumb.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _PercentToPosition_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PercentToPosition.js */ \"./lib/rexui/lib/ui/slider/PercentToPosition.js\");\n\n\nvar UpdateThumb = function (t) {\n    var thumb = this.childrenMap.thumb;\n    if (thumb === undefined) {\n        return this;\n    }\n\n    if (t === undefined) {\n        t = this.value;\n    }\n    Object(_PercentToPosition_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(t, this.getStartPoint(), this.getEndPoint(), thumb);\n    this.resetChildPositionState(thumb);\n    return this;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (UpdateThumb);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/slider/UpdateThumb.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/swipe/Factory.js":
/*!*******************************************!*\
  !*** ./lib/rexui/lib/ui/swipe/Factory.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Swipe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Swipe.js */ \"./lib/rexui/lib/ui/swipe/Swipe.js\");\n/* harmony import */ var _ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ObjectFactory.js */ \"./lib/rexui/lib/ui/ObjectFactory.js\");\n/* harmony import */ var _plugins_utils_system_IsGameObject_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../plugins/utils/system/IsGameObject.js */ \"./lib/rexui/lib/plugins/utils/system/IsGameObject.js\");\n/* harmony import */ var _plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../plugins/utils/object/SetValue.js */ \"./lib/rexui/lib/plugins/utils/object/SetValue.js\");\n\n\n\n\n\n_ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].register('swipe', function (gameObject, config) {\n    if (!Object(_plugins_utils_system_IsGameObject_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(gameObject)) {\n        config = gameObject;\n        gameObject = this.scene;\n    }\n    return new _Swipe_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](gameObject, config);\n});\n\nObject(_plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(window, 'RexPlugins.UI.Swipe', _Swipe_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_Swipe_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/swipe/Factory.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/swipe/Swipe.js":
/*!*****************************************!*\
  !*** ./lib/rexui/lib/ui/swipe/Swipe.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _plugins_input_gestures_swipe_Swipe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../plugins/input/gestures/swipe/Swipe.js */ \"./lib/rexui/lib/plugins/input/gestures/swipe/Swipe.js\");\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_plugins_input_gestures_swipe_Swipe_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/swipe/Swipe.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/tab/NinePatchTabButton.ts":
/*!****************************************************!*\
  !*** ./lib/rexui/lib/ui/tab/NinePatchTabButton.ts ***!
  \****************************************************/
/*! exports provided: NinePatchTabButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NinePatchTabButton\", function() { return NinePatchTabButton; });\n/* harmony import */ var _ninepatch_NineSlicePatch__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ninepatch/NineSlicePatch */ \"./lib/rexui/lib/ui/ninepatch/NineSlicePatch.ts\");\n/* harmony import */ var _TabButton__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TabButton */ \"./lib/rexui/lib/ui/tab/TabButton.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar NinePatchTabButton = /** @class */ (function (_super) {\n    __extends(NinePatchTabButton, _super);\n    function NinePatchTabButton(scene, width, height, key, normalFrame, downFrame, text, configlist, dpr, scale, data) {\n        var _this = _super.call(this, scene, key, normalFrame, downFrame, text, {}, dpr, scale, { width: width, height: height, configlist: configlist }) || this;\n        _this.mBackground.setConfig(configlist[0]);\n        _this.dpr = dpr || 1;\n        _this.scale = scale || 1;\n        _this.setSize(width, height);\n        if (data) {\n            _this.btnData = data;\n        }\n        _this.changeNormal();\n        _this.enable = true;\n        return _this;\n    }\n    NinePatchTabButton.prototype.changeNormal = function () {\n        // if (this.configlist && this.configlist.length > 0) {\n        // resetPatchesConfig(this.mBackground.getConfig());\n        // this.mBackground.setConfig(this.configlist[0]);\n        //     this.setSize(this.wid, this.hei);\n        // }\n        this.setBgFrame(this.mFrame);\n    };\n    NinePatchTabButton.prototype.changeDown = function () {\n        if (this.mDownFrame) {\n            // if (this.configlist && this.configlist.length > 1) {\n            // resetPatchesConfig(this.mBackground.getConfig());\n            // this.mBackground.setConfig(this.configlist[0]);\n            //     this.setSize(this.wid, this.hei);\n            // }\n            this.setBgFrame(this.mDownFrame);\n        }\n    };\n    NinePatchTabButton.prototype.setSize = function (width, height) {\n        _super.prototype.setSize.call(this, width, height);\n        this.mBackground.setSize(width, height);\n        return this;\n    };\n    NinePatchTabButton.prototype.getBtnData = function () {\n        return this.btnData;\n    };\n    Object.defineProperty(NinePatchTabButton.prototype, \"enable\", {\n        set: function (value) {\n            if (value) {\n                this.mBackground.clearTint();\n                this.setInteractive();\n            }\n            else {\n                this.mBackground.setTintFill(0x666666);\n                this.removeInteractive();\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    NinePatchTabButton.prototype.createBackground = function () {\n        var config = this.ninePatchConfig.configlist[0];\n        var width = this.ninePatchConfig.width;\n        var height = this.ninePatchConfig.height;\n        this.mBackground = new _ninepatch_NineSlicePatch__WEBPACK_IMPORTED_MODULE_0__[\"NineSlicePatch\"](this.scene, 0, 0, width, height, this.mKey, this.mFrame, { left: config.left, top: config.top, right: config.right, bottom: config.bottom }, this.dpr, 1);\n        this.add(this.mBackground);\n    };\n    NinePatchTabButton.prototype.setBgFrame = function (frame) {\n        this.mBackground.setFrame(frame);\n        // this.setSize(this.mBackground.width, this.mBackground.height);\n    };\n    return NinePatchTabButton;\n}(_TabButton__WEBPACK_IMPORTED_MODULE_1__[\"TabButton\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/tab/NinePatchTabButton.ts?");

/***/ }),

/***/ "./lib/rexui/lib/ui/tab/TabButton.ts":
/*!*******************************************!*\
  !*** ./lib/rexui/lib/ui/tab/TabButton.ts ***!
  \*******************************************/
/*! exports provided: TabButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TabButton\", function() { return TabButton; });\n/* harmony import */ var _button_Button__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../button/Button */ \"./lib/rexui/lib/ui/button/Button.ts\");\n/* harmony import */ var _interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../interface/event/MouseEvent */ \"./lib/rexui/lib/ui/interface/event/MouseEvent.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar TabButton = /** @class */ (function (_super) {\n    __extends(TabButton, _super);\n    function TabButton(scene, key, frame, downFrame, text, music, dpr, scale, nineConfig) {\n        var _this = _super.call(this, scene, key, frame, downFrame, text, music, dpr, scale, nineConfig) || this;\n        _this.mSelected = false;\n        return _this;\n    }\n    Object.defineProperty(TabButton.prototype, \"selected\", {\n        get: function () {\n            return this.mSelected;\n        },\n        set: function (value) {\n            this.mSelected = value;\n            var buttonState = value ? _button_Button__WEBPACK_IMPORTED_MODULE_0__[\"ButtonState\"].Select : _button_Button__WEBPACK_IMPORTED_MODULE_0__[\"ButtonState\"].Normal;\n            this.buttonStateChange(buttonState);\n            this.emit(\"selectChange\", value);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    TabButton.prototype.destroy = function () {\n        this.selected = false;\n        _super.prototype.destroy.call(this);\n    };\n    TabButton.prototype.onPointerUpHandler = function (pointer) {\n        if (!this.interactiveBoo) {\n            if (this.soundGroup && this.soundGroup.disabled)\n                this.playSound(this.soundGroup.disabled);\n            return;\n        }\n        if (!this.mIsMove || (Date.now() - this.mDownTime > this.mPressTime)) {\n            if (Math.abs(pointer.downX - pointer.upX) < 30 && Math.abs(pointer.downY - pointer.upY) < 30) {\n                if (this.soundGroup && this.soundGroup.up)\n                    this.playSound(this.soundGroup.up);\n                this.emit(_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_1__[\"CoreUI\"].MouseEvent.Tap, pointer, this);\n                this.selected = true;\n            }\n        }\n        clearTimeout(this.mPressDelay);\n        this.mIsMove = false;\n        this.mDownTime = 0;\n    };\n    TabButton.prototype.onPointerDownHandler = function (pointer) {\n        var _this = this;\n        if (!this.interactiveBoo) {\n            if (this.soundGroup && this.soundGroup.disabled)\n                this.playSound(this.soundGroup.disabled);\n            return;\n        }\n        if (this.soundGroup && this.soundGroup.down)\n            this.playSound(this.soundGroup.down);\n        this.mDownTime = Date.now();\n        this.mPressTime = setTimeout(function () {\n            _this.emit(_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_1__[\"CoreUI\"].MouseEvent.Hold, _this);\n        }, this.mPressTime);\n        this.emit(_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_1__[\"CoreUI\"].MouseEvent.Down, this);\n    };\n    return TabButton;\n}(_button_Button__WEBPACK_IMPORTED_MODULE_0__[\"Button\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/tab/TabButton.ts?");

/***/ }),

/***/ "./lib/rexui/lib/ui/tagtext/Factory.js":
/*!*********************************************!*\
  !*** ./lib/rexui/lib/ui/tagtext/Factory.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _TagText_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TagText.js */ \"./lib/rexui/lib/ui/tagtext/TagText.js\");\n/* harmony import */ var _ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ObjectFactory.js */ \"./lib/rexui/lib/ui/ObjectFactory.js\");\n/* harmony import */ var _plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../plugins/utils/object/SetValue.js */ \"./lib/rexui/lib/plugins/utils/object/SetValue.js\");\n\n\n\n\n_ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].register('tagText', function (x, y, text, style) {\n    var gameObject = new _TagText_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.scene, x, y, text, style);\n    this.scene.add.existing(gameObject);\n    return gameObject;\n});\n\nObject(_plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(window, 'RexPlugins.UI.TagText', _TagText_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_TagText_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/tagtext/Factory.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/tagtext/TagText.js":
/*!*********************************************!*\
  !*** ./lib/rexui/lib/ui/tagtext/TagText.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _plugins_gameobjects_text_tagtext_TagText_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../plugins/gameobjects/text/tagtext/TagText.js */ \"./lib/rexui/lib/plugins/gameobjects/text/tagtext/TagText.js\");\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_plugins_gameobjects_text_tagtext_TagText_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/tagtext/TagText.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/tap/Factory.js":
/*!*****************************************!*\
  !*** ./lib/rexui/lib/ui/tap/Factory.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Tap_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Tap.js */ \"./lib/rexui/lib/ui/tap/Tap.js\");\n/* harmony import */ var _ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ObjectFactory.js */ \"./lib/rexui/lib/ui/ObjectFactory.js\");\n/* harmony import */ var _plugins_utils_system_IsGameObject_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../plugins/utils/system/IsGameObject.js */ \"./lib/rexui/lib/plugins/utils/system/IsGameObject.js\");\n/* harmony import */ var _plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../plugins/utils/object/SetValue.js */ \"./lib/rexui/lib/plugins/utils/object/SetValue.js\");\n\n\n\n\n\n_ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].register('tap', function (gameObject, config) {\n    if (!Object(_plugins_utils_system_IsGameObject_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(gameObject)) {\n        config = gameObject;\n        gameObject = this.scene;\n    }\n    return new _Tap_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](gameObject, config);\n});\n\nObject(_plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(window, 'RexPlugins.UI.Tap', _Tap_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_Tap_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/tap/Factory.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/tap/Tap.js":
/*!*************************************!*\
  !*** ./lib/rexui/lib/ui/tap/Tap.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _plugins_input_gestures_tap_Tap_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../plugins/input/gestures/tap/Tap.js */ \"./lib/rexui/lib/plugins/input/gestures/tap/Tap.js\");\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_plugins_input_gestures_tap_Tap_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/tap/Tap.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/textBox/TextBox.ts":
/*!*********************************************!*\
  !*** ./lib/rexui/lib/ui/textBox/TextBox.ts ***!
  \*********************************************/
/*! exports provided: TextBox */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TextBox\", function() { return TextBox; });\n/* harmony import */ var _plugins_bbcodetext__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../plugins/bbcodetext */ \"./lib/rexui/lib/plugins/bbcodetext.js\");\n/* harmony import */ var _plugins_behaviors_textedit_TextEdit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../plugins/behaviors/textedit/TextEdit */ \"./lib/rexui/lib/plugins/behaviors/textedit/TextEdit.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar TextBox = /** @class */ (function (_super) {\n    __extends(TextBox, _super);\n    function TextBox(scene, config) {\n        var _this = _super.call(this) || this;\n        var textConfig = config.textConfig;\n        var posX = textConfig.x;\n        var posY = textConfig.y;\n        var editType = config.editType;\n        var str = config.text || \"\";\n        var textChangeHandler = config.onTextChanged || undefined;\n        var closeHandler = config.onClose || undefined;\n        var editConfig = { type: editType, text: str, onTextChanged: textChangeHandler };\n        var styleConfig = {};\n        Object.assign(styleConfig, textConfig);\n        _this.mBBCodeText = new _plugins_bbcodetext__WEBPACK_IMPORTED_MODULE_0__[\"default\"](scene, posX, posY, str, styleConfig);\n        _this.mBBCodeText.setOrigin(0.5, 0.5);\n        _this.mBBCodeText.setInteractive();\n        _this.mBBCodeText.on(\"pointerdown\", function () {\n            if (!_this.mTextEdit) {\n                _this.mTextEdit = new _plugins_behaviors_textedit_TextEdit__WEBPACK_IMPORTED_MODULE_1__[\"default\"](_this.mBBCodeText);\n                _this.mTextEdit.open(editConfig, closeHandler);\n            }\n            // (<any>scene).plugins.get(\"rextexteditplugin\").edit(this.mBBCodeText, editConfig);\n        }, _this);\n        return _this;\n    }\n    Object.defineProperty(TextBox.prototype, \"isOpened\", {\n        get: function () {\n            return this.mTextEdit ? this.mTextEdit.isOpened : false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(TextBox.prototype, \"text\", {\n        get: function () {\n            return this.mTextEdit ? this.mTextEdit.text : \"\";\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(TextBox.prototype, \"view\", {\n        get: function () {\n            return this.mBBCodeText;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    TextBox.prototype.close = function () {\n        if (this.mTextEdit) {\n            this.mTextEdit.close();\n            this.mTextEdit.destroy();\n        }\n    };\n    TextBox.prototype.destroy = function () {\n        this.close();\n        if (this.mBBCodeText)\n            this.mBBCodeText.destroy();\n        _super.prototype.destroy.call(this);\n    };\n    return TextBox;\n}(Phaser.Events.EventEmitter));\n\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/textBox/TextBox.ts?");

/***/ }),

/***/ "./lib/rexui/lib/ui/textarea/AppendText.js":
/*!*************************************************!*\
  !*** ./lib/rexui/lib/ui/textarea/AppendText.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar AppendText = function (text) {\n    this.setText(this.text + text);\n    return this;\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (AppendText);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/textarea/AppendText.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/textarea/Factory.js":
/*!**********************************************!*\
  !*** ./lib/rexui/lib/ui/textarea/Factory.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _TextArea_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TextArea.js */ \"./lib/rexui/lib/ui/textarea/TextArea.js\");\n/* harmony import */ var _ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ObjectFactory.js */ \"./lib/rexui/lib/ui/ObjectFactory.js\");\n/* harmony import */ var _plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../plugins/utils/object/SetValue.js */ \"./lib/rexui/lib/plugins/utils/object/SetValue.js\");\n\n\n\n_ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].register('textArea', function (config) {\n    var gameObject = new _TextArea_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.scene, config);\n    this.scene.add.existing(gameObject); // It won't be added to display list, neither update list\n    return gameObject;\n});\n\nObject(_plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(window, 'RexPlugins.UI.TextArea', _TextArea_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_TextArea_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/textarea/Factory.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/textarea/InjectProperties.js":
/*!*******************************************************!*\
  !*** ./lib/rexui/lib/ui/textarea/InjectProperties.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar InjectProperties = function(textBlock) {\n    Object.defineProperty(textBlock, 'childOY', {\n        configurable: true,\n        get: function () {\n            return textBlock.textOY;\n        },\n        set: function (value) {\n            textBlock.textOY = value;\n        }\n    });\n    Object.defineProperty(textBlock, 'topChildOY', {\n        get: function () {\n            return textBlock.topTextOY;\n        }\n    });\n    Object.defineProperty(textBlock, 'bottomChildOY', {\n        get: function () {\n            return textBlock.bottomTextOY;\n        }\n    });\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (InjectProperties);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/textarea/InjectProperties.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/textarea/SetText.js":
/*!**********************************************!*\
  !*** ./lib/rexui/lib/ui/textarea/SetText.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar SetText = function (text) {\n    var textBlock = this.childrenMap.child;\n    textBlock.setText(text);\n\n    this.resizeController();\n    return this;\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (SetText);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/textarea/SetText.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/textarea/TextArea.js":
/*!***********************************************!*\
  !*** ./lib/rexui/lib/ui/textarea/TextArea.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_scrollable_Scrollable_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/scrollable/Scrollable.js */ \"./lib/rexui/lib/ui/utils/scrollable/Scrollable.js\");\n/* harmony import */ var _textblock_TextBlock_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../textblock/TextBlock.js */ \"./lib/rexui/lib/ui/textblock/TextBlock.js\");\n/* harmony import */ var _InjectProperties_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./InjectProperties.js */ \"./lib/rexui/lib/ui/textarea/InjectProperties.js\");\n/* harmony import */ var _SetText_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./SetText.js */ \"./lib/rexui/lib/ui/textarea/SetText.js\");\n/* harmony import */ var _AppendText_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./AppendText.js */ \"./lib/rexui/lib/ui/textarea/AppendText.js\");\n\n\n\n\n\n\nconst GetValue = Phaser.Utils.Objects.GetValue;\n\nclass TextArea extends _utils_scrollable_Scrollable_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(scene, config) {\n        if (config === undefined) {\n            config = {};\n        }\n\n        // Create text-block\n        var textObject = GetValue(config, 'text', undefined);\n        var textWidth = GetValue(config, 'textWidth', undefined);\n        var textHeight = GetValue(config, 'textHeight', undefined);\n        var textMask = GetValue(config, 'textMask', true);\n        var content = GetValue(config, 'content', '');\n        var textBlock = new _textblock_TextBlock_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](scene, {\n            width: textWidth,\n            height: textHeight,\n            text: textObject,\n            textMask: textMask,\n            content: content,\n            clamplTextOY: GetValue(config, 'clamplChildOY', false),\n        });\n        var proportion = (textWidth === undefined) ? 1 : 0;\n        var expand = (textHeight === undefined);\n        // Inject properties for scrollable interface\n        Object(_InjectProperties_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(textBlock);\n\n        // Fill config of scrollable\n        config.scrollMode = 0; // Vertical\n        config.type = 'rexTextArea';\n        config.child = {\n            gameObject: textBlock,\n            proportion: proportion,\n            expand: expand,\n        };\n        var spaceConfig = GetValue(config, 'space', undefined);\n        if (spaceConfig) {\n            spaceConfig.child = spaceConfig.text;\n        }\n        super(scene, config);\n\n        this.addChildrenMap('text', textObject);\n    }\n\n    get text() {\n        return this.childrenMap.child.text;\n    }\n\n    get linesCount() {\n        return this.childrenMap.child.linesCount;\n    }\n}\n\nvar methods = {\n    setText: _SetText_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n    appendText: _AppendText_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n}\nObject.assign(\n    TextArea.prototype,\n    methods\n);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (TextArea);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/textarea/TextArea.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/textblock/Factory.js":
/*!***********************************************!*\
  !*** ./lib/rexui/lib/ui/textblock/Factory.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _TextBlock_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TextBlock.js */ \"./lib/rexui/lib/ui/textblock/TextBlock.js\");\n/* harmony import */ var _ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ObjectFactory.js */ \"./lib/rexui/lib/ui/ObjectFactory.js\");\n/* harmony import */ var _plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../plugins/utils/object/SetValue.js */ \"./lib/rexui/lib/plugins/utils/object/SetValue.js\");\n\n\n\n\n_ObjectFactory_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].register('textBlock', function (x, y, minWidth, minHeight, textGameObject, config) {\n    var gameObject = new _TextBlock_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.scene, x, y, minWidth, minHeight, textGameObject, config);\n    this.scene.add.existing(gameObject); // It won't be added to display list, neither update list\n    return gameObject;\n});\n\nObject(_plugins_utils_object_SetValue_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(window, 'RexPlugins.UI.TextBlock', _TextBlock_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_TextBlock_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/textblock/Factory.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/textblock/GetLines.js":
/*!************************************************!*\
  !*** ./lib/rexui/lib/ui/textblock/GetLines.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar GetLines = function (startLineIdx) {\n    var endLineIdx = startLineIdx + this.textObject.style.maxLines;\n    var text;\n    if (this.textObjectType === 0) {\n        text = this.lines.slice(startLineIdx, endLineIdx).join('\\n');\n    } else {\n        var startIdx = this.lines.getLineStartIndex(startLineIdx);\n        var endIdx = this.lines.getLineEndIndex(endLineIdx - 1);\n        text = this.lines.getSliceTagText(startIdx, endIdx, true);\n    }\n    return text;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GetLines);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/textblock/GetLines.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/textblock/Layout.js":
/*!**********************************************!*\
  !*** ./lib/rexui/lib/ui/textblock/Layout.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ResizeText_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ResizeText.js */ \"./lib/rexui/lib/ui/textblock/ResizeText.js\");\n/* harmony import */ var _ResetTextObjectPosition_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ResetTextObjectPosition.js */ \"./lib/rexui/lib/ui/textblock/ResetTextObjectPosition.js\");\n/* harmony import */ var _plugins_utils_actions_GlobZone_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../plugins/utils/actions/GlobZone.js */ \"./lib/rexui/lib/plugins/utils/actions/GlobZone.js\");\n/* harmony import */ var _plugins_utils_align_align_in_QuickSet_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../plugins/utils/align/align/in/QuickSet.js */ \"./lib/rexui/lib/plugins/utils/align/align/in/QuickSet.js\");\n\n\n\n\n\nvar Layout = function (parent, newWidth, newHeight) {\n    // Skip invisible sizer\n    if (this.rexSizer.hidden) {\n        return this;\n    }\n\n    this.preLayout(parent);\n\n    // Set size\n    if (newWidth === undefined) {\n        newWidth = this.minWidth;\n    }\n    if (newHeight === undefined) {\n        newHeight = this.minHeight;\n    }\n    this.resize(newWidth, newHeight);\n\n    // Layout children\n    var child, childConfig, padding;\n    var startX = this.left,\n        startY = this.top;\n    var x, y, width, height; // Align zone\n\n    // Layout text child\n    // Skip invisible child\n    child = this.textObject;\n    if (!child.rexSizer.hidden) {\n        childConfig = child.rexSizer;\n        padding = childConfig.padding;\n        x = (startX + padding.left);\n        y = (startY + padding.top);\n        width = this.width - padding.left - padding.right;\n        height = this.height - padding.top - padding.bottom;\n        _ResizeText_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].call(this, child, width, height);\n        _plugins_utils_actions_GlobZone_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].setPosition(x, y).setSize(width, height);\n        Object(_plugins_utils_align_align_in_QuickSet_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(child, _plugins_utils_actions_GlobZone_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"], childConfig.align);\n\n        childConfig.preOffsetY = 0; // Clear preOffsetY\n        _ResetTextObjectPosition_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].call(this);\n\n        if (this.textMask) {\n            this.textMask.setPosition().resize();\n            this.resetChildPositionState(this.textMask);\n        }\n\n    }\n\n    // Layout background children\n    this.layoutBackgrounds();\n\n    return this.postLayout();\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Layout);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/textblock/Layout.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/textblock/LinesCountToTextHeight.js":
/*!**************************************************************!*\
  !*** ./lib/rexui/lib/ui/textblock/LinesCountToTextHeight.js ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar LinesCountToTextHeight = function (linesCount) {\n    // height = (maxLines * (lineHeight + lineSpacing)) - lineSpacing\n    return (linesCount * (this.textLineHeight + this.textLineSpacing)) - this.textLineSpacing;\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (LinesCountToTextHeight);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/textblock/LinesCountToTextHeight.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/textblock/Methods.js":
/*!***********************************************!*\
  !*** ./lib/rexui/lib/ui/textblock/Methods.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _SetTextObject_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./SetTextObject.js */ \"./lib/rexui/lib/ui/textblock/SetTextObject.js\");\n/* harmony import */ var _SetText_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./SetText.js */ \"./lib/rexui/lib/ui/textblock/SetText.js\");\n/* harmony import */ var _UpdateTextObject_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./UpdateTextObject.js */ \"./lib/rexui/lib/ui/textblock/UpdateTextObject.js\");\n/* harmony import */ var _Layout_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Layout.js */ \"./lib/rexui/lib/ui/textblock/Layout.js\");\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    setTextObject: _SetTextObject_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    setText: _SetText_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n    updateTextObject: _UpdateTextObject_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n    layout: _Layout_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n});\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/textblock/Methods.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/textblock/ResetTextObjectPosition.js":
/*!***************************************************************!*\
  !*** ./lib/rexui/lib/ui/textblock/ResetTextObjectPosition.js ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar ResetTextObjectPosition = function () {\n    var config = this.textObject.rexSizer;\n    this.textObject.y += (config.offsetY - config.preOffsetY);\n    config.preOffsetY = config.offsetY;\n    this.resetChildPositionState(this.textObject);\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (ResetTextObjectPosition);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/textblock/ResetTextObjectPosition.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/textblock/ResizeText.js":
/*!**************************************************!*\
  !*** ./lib/rexui/lib/ui/textblock/ResizeText.js ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _TextHeightToLinesCount_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TextHeightToLinesCount.js */ \"./lib/rexui/lib/ui/textblock/TextHeightToLinesCount.js\");\n\n\nvar ResizeText = function (textObject, width, height) {\n    height += this.textLineHeight + this.textLineSpacing; // Add 1 text line\n    if ((textObject.width === width) && (textObject.height === height)) {\n        return;\n    }\n\n    textObject.setFixedSize(width, height);\n\n    var style = textObject.style;\n    var wrapWidth = Math.max(width, 0);\n\n    var maxLines = Math.ceil(_TextHeightToLinesCount_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].call(this, height)) + 1;\n\n    if (this.textObjectType === 0) {\n        style.wordWrapWidth = wrapWidth;\n        style.maxLines = maxLines;\n    } else {\n        style.wrapWidth = wrapWidth;\n        style.maxLines = maxLines;\n    }\n\n    // Render content again\n    this.setText();\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ResizeText);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/textblock/ResizeText.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/textblock/SetText.js":
/*!***********************************************!*\
  !*** ./lib/rexui/lib/ui/textblock/SetText.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar SetText = function (text) {\n    if (text !== undefined) {\n        this.text = text;\n    }\n\n    // Wrap content in lines\n    if (this.textObjectType === 0) {\n        this.lines = this.textObject.getWrappedText(this.text); // lines in array\n    } else {\n        this.lines = this.textObject.getPenManager(this.text, this.lines); // pen manager\n    }\n\n    this.updateTextObject();\n    return this;\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (SetText);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/textblock/SetText.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/textblock/SetTextObject.js":
/*!*****************************************************!*\
  !*** ./lib/rexui/lib/ui/textblock/SetTextObject.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_GetBoundsConfig_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/GetBoundsConfig.js */ \"./lib/rexui/lib/ui/utils/GetBoundsConfig.js\");\n/* harmony import */ var _plugins_utils_text_IsTextGameObject_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../plugins/utils/text/IsTextGameObject.js */ \"./lib/rexui/lib/plugins/utils/text/IsTextGameObject.js\");\n/* harmony import */ var _plugins_utils_mask_DefaultMask_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../plugins/utils/mask/DefaultMask.js */ \"./lib/rexui/lib/plugins/utils/mask/DefaultMask.js\");\n\n\n\n\nconst ALIGN_LEFTTOP = Phaser.Display.Align.TOP_LEFT;\n\nvar SetTextObject = function (gameObject, maskEnable) {\n    if (maskEnable === undefined) {\n        maskEnable = true;\n    }\n\n    this.add(gameObject);\n\n    var config = this.getSizerConfig(gameObject);\n    config.parent = this;\n    config.align = ALIGN_LEFTTOP;\n    config.padding = Object(_utils_GetBoundsConfig_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(0);\n    config.expand = true;\n    this.textObject = gameObject;\n    this.textObjectType = (Object(_plugins_utils_text_IsTextGameObject_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(gameObject)) ? 0 : 1;\n    // Add more variables\n    config.preOffsetY = 0;\n    config.offsetY = 0;\n\n    // Create mask of text object\n    if (maskEnable) {\n        this.textMask = new _plugins_utils_mask_DefaultMask_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this);\n        this.textObject.setMask(this.textMask.createGeometryMask());\n        this.pin(this.textMask);\n    }\n    return this;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (SetTextObject);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/textblock/SetTextObject.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/textblock/TextBlock.js":
/*!*************************************************!*\
  !*** ./lib/rexui/lib/ui/textblock/TextBlock.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _basesizer_BaseSizer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../basesizer/BaseSizer.js */ \"./lib/rexui/lib/ui/basesizer/BaseSizer.js\");\n/* harmony import */ var _Methods_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Methods.js */ \"./lib/rexui/lib/ui/textblock/Methods.js\");\n/* harmony import */ var _LinesCountToTextHeight_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./LinesCountToTextHeight.js */ \"./lib/rexui/lib/ui/textblock/LinesCountToTextHeight.js\");\n/* harmony import */ var _TextHeightToLinesCount_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./TextHeightToLinesCount.js */ \"./lib/rexui/lib/ui/textblock/TextHeightToLinesCount.js\");\n\n\n\n\n\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\nconst GetValue = Phaser.Utils.Objects.GetValue;\n\nclass TextBlock extends _basesizer_BaseSizer_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(scene, x, y, minWidth, minHeight, config) {\n        if (IsPlainObject(x)) {\n            config = x;\n            x = GetValue(config, 'x', 0);\n            y = GetValue(config, 'y', 0);\n            minWidth = GetValue(config, 'width', undefined);\n            minHeight = GetValue(config, 'height', undefined);\n        } else if (IsPlainObject(minWidth)) {\n            config = minWidth;\n            minWidth = GetValue(config, 'width', undefined);\n            minHeight = GetValue(config, 'height', undefined);\n        }\n\n        super(scene, x, y, minWidth, minHeight, config);\n\n        this.type = 'rexTextBlock';\n        this.textObject = undefined;\n        this.textMask = undefined;\n        this.textObjectType = undefined;\n        this.lines = undefined; // array (default text object), or pens-manager (tag text object)\n        this.text = GetValue(config, 'content', '');\n        this._textOY = 0;\n        this.execeedTopState = false;\n        this.execeedBottomState = false;\n\n        this.setClampMode(GetValue(config, 'clamplTextOY', true));\n\n        // Add elements\n        var background = GetValue(config, 'background', undefined);\n        var textObject = GetValue(config, 'text', undefined);\n        if (textObject === undefined) {\n            textObject = createDefaultTextObject(scene);\n        }\n        var textMaskEnable = GetValue(config, 'textMask', true);\n\n        if (background) {\n            this.addBackground(background);\n        }\n\n        this.setTextObject(textObject, textMaskEnable);\n\n        this.addChildrenMap('background', background);\n        this.addChildrenMap('text', textObject);\n    }\n\n    destroy(fromScene) {\n        //  This Game Object has already been destroyed\n        if (!this.scene) {\n            return;\n        }\n        this.textObject = undefined;\n        this.textMask = undefined;\n        if (this.lines === undefined) {\n            // Do nothing\n        } else if (this.textObjectType === 0) {\n            this.lines.length = 0;\n        } else {\n            this.lines.destroy();\n        }\n        super.destroy(fromScene);\n    }\n\n    setClampMode(mode) {\n        this.clampTextOYMode = mode;\n        return this;\n    }\n\n    get textLineHeight() {\n        var style = this.textObject.style;\n        return style.metrics.fontSize + style.strokeThickness;\n    }\n\n    get textLineSpacing() {\n        return this.textObject.lineSpacing;\n    }\n\n    get linesCount() {\n        var count;\n        if (this.lines === undefined) {\n            count = 0;\n        } else if (this.textObjectType === 0) {\n            count = this.lines.length;\n        } else {\n            count = this.lines.linesCount;\n        }\n        return count;\n    }\n\n    get visibleLinesCount() {\n        return Math.floor(_TextHeightToLinesCount_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].call(this, this.textObject.height));\n    }\n\n    get topTextOY() {\n        return 0;\n    }\n\n    get bottomTextOY() {\n        return -this.textVisibleHeight;\n    }\n\n    get textHeight() {\n        return _LinesCountToTextHeight_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].call(this, this.linesCount);\n    }\n\n    get textObjectHeight() {\n        return this.textObject.height - this.textLineHeight - this.textLineSpacing; // Remove 1 text line\n    }\n\n    get textVisibleHeight() {\n        var h;\n        var textHeight = this.textHeight;\n        var textObjectHeight = this.textObjectHeight;\n        if (textHeight > textObjectHeight) {\n            h = textHeight - textObjectHeight;\n        } else {\n            h = 0;\n        }\n\n        return h;\n    }\n\n    textOYExceedTop(oy) {\n        if (oy === undefined) {\n            oy = this.textOY;\n        }\n        return (oy > this.topTextOY);\n    }\n\n    textOYExeceedBottom(oy) {\n        if (oy === undefined) {\n            oy = this.textOY;\n        }\n        return (oy < this.bottomTextOY);\n    }\n\n    get textOY() {\n        return this._textOY;\n    }\n\n    set textOY(oy) {\n        var topTextOY = this.topTextOY;\n        var bottomTextOY = this.bottomTextOY;\n        var textOYExceedTop = this.textOYExceedTop(oy);\n        var textOYExeceedBottom = this.textOYExeceedBottom(oy);\n\n        if (this.clampTextOYMode) {\n            if (this.visibleLinesCount > this.linesCount) {\n                oy = 0;\n            } else if (textOYExceedTop) {\n                oy = topTextOY\n            } else if (textOYExeceedBottom) {\n                oy = bottomTextOY;\n            }\n        }\n\n        if (this._textOY !== oy) {\n            this._textOY = oy;\n            this.updateTextObject();\n        }\n\n        if (textOYExceedTop) {\n            if (!this.execeedTopState) {\n                this.emit('execeedtop', this, oy, topTextOY);\n            }\n        }\n        this.execeedTopState = textOYExceedTop;\n\n        if (textOYExeceedBottom) {\n            if (!this.execeedBottomState) {\n                this.emit('execeedbottom', this, oy, bottomTextOY);\n            }\n        }\n        this.execeedBottomState = textOYExeceedBottom;\n    }\n\n    setTextOY(oy) {\n        this.textOY = oy;\n        return this;\n    }\n\n    set t(value) {\n        this.textOY = -this.textVisibleHeight * value;\n    }\n\n    get t() {\n        var textVisibleHeight = this.textVisibleHeight;\n        if (textVisibleHeight === 0) {\n            return 0;\n        }\n        return (this.textOY / -textVisibleHeight);\n    }\n\n    setTextOYByPercentage(percentage) {\n        this.t = percentage;\n        return this;\n    }\n}\n\nvar createDefaultTextObject = function (scene) {\n    return scene.add.text(0, 0, '');\n};\n\nObject.assign(\n    TextBlock.prototype,\n    _Methods_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]\n);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (TextBlock);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/textblock/TextBlock.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/textblock/TextHeightToLinesCount.js":
/*!**************************************************************!*\
  !*** ./lib/rexui/lib/ui/textblock/TextHeightToLinesCount.js ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar TextHeightToLinesCount = function (height) {\n    // height = (maxLines * (lineHeight + lineSpacing)) - lineSpacing\n    return (height - this.textLineSpacing) / (this.textLineHeight + this.textLineSpacing);\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (TextHeightToLinesCount);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/textblock/TextHeightToLinesCount.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/textblock/UpdateTextObject.js":
/*!********************************************************!*\
  !*** ./lib/rexui/lib/ui/textblock/UpdateTextObject.js ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _TextHeightToLinesCount_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TextHeightToLinesCount.js */ \"./lib/rexui/lib/ui/textblock/TextHeightToLinesCount.js\");\n/* harmony import */ var _LinesCountToTextHeight_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./LinesCountToTextHeight.js */ \"./lib/rexui/lib/ui/textblock/LinesCountToTextHeight.js\");\n/* harmony import */ var _GetLines_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GetLines.js */ \"./lib/rexui/lib/ui/textblock/GetLines.js\");\n/* harmony import */ var _ResetTextObjectPosition_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ResetTextObjectPosition.js */ \"./lib/rexui/lib/ui/textblock/ResetTextObjectPosition.js\");\n\n\n\n\n\nvar UpdateTextObject = function () {\n    var startLineIndex = Math.max(Math.floor(_TextHeightToLinesCount_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].call(this, -this.textOY)), 0);\n    var textOffset = _LinesCountToTextHeight_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].call(this, startLineIndex) + this.textOY;\n\n    this.textObject.setText(_GetLines_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].call(this, startLineIndex));\n    this.textObject.rexSizer.offsetY = textOffset;\n    _ResetTextObjectPosition_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].call(this);\n    return this;\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (UpdateTextObject);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/textblock/UpdateTextObject.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/tool/Tool.ts":
/*!***************************************!*\
  !*** ./lib/rexui/lib/ui/tool/Tool.ts ***!
  \***************************************/
/*! exports provided: Tool */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Tool\", function() { return Tool; });\nvar GetValue = Phaser.Utils.Objects.GetValue;\nvar Tool = /** @class */ (function () {\n    function Tool() {\n    }\n    Tool.checkPointerContains = function (gameObject, pointer) {\n        var left = -gameObject.width / 2;\n        var right = gameObject.width / 2;\n        var top = -gameObject.height / 2;\n        var bottom = gameObject.height / 2;\n        if (pointer) {\n            var worldMatrix = gameObject.getWorldTransformMatrix();\n            var x = pointer.x - worldMatrix.tx;\n            var y = pointer.y - worldMatrix.ty;\n            if (left <= x && right >= x && top <= y && bottom >= y) {\n                return true;\n            }\n            return false;\n        }\n        return false;\n    };\n    Tool.getTransfrom = function (config) {\n        return !config ? undefined : config.transform;\n    };\n    Tool.getPos = function (transform) {\n        var pos = { x: 0, y: 0 };\n        if (!transform) {\n            return pos;\n        }\n        var tmpValue;\n        var width = GetValue(transform, \"width\", 0);\n        var height = GetValue(transform, \"height\", 0);\n        if (transform.x === undefined) {\n            transform.x = 0;\n        }\n        if (transform.y === undefined) {\n            transform.y = 0;\n        }\n        if (typeof (transform.x) === \"string\") {\n            tmpValue = GetValue(transform, \"x\", \"100%\");\n            pos.x = Number(tmpValue.split(\"%\")[0]) * width;\n        }\n        else {\n            pos.x = GetValue(transform, \"x\", 0);\n        }\n        if (typeof (transform.y) === \"string\") {\n            tmpValue = GetValue(transform, \"y\", \"100%\");\n            pos.y = Number(tmpValue.split(\"%\")[0]) * height;\n        }\n        else {\n            pos.y = GetValue(transform, \"y\", 0);\n        }\n        return pos;\n    };\n    Tool.checkNinePatch = function (align) {\n        if (align.top || align.bottom || align.right || align.left) {\n            return true;\n        }\n        return false;\n    };\n    return Tool;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/tool/Tool.ts?");

/***/ }),

/***/ "./lib/rexui/lib/ui/ui-components.ts":
/*!*******************************************!*\
  !*** ./lib/rexui/lib/ui/ui-components.ts ***!
  \*******************************************/
/*! exports provided: RoundRectangle, BBCodeText, TagText, Container, Canvas, NineSlicePatch, Sizer, GridSizer, Label, Buttons, Button, Slider, GridTable, Menu, TextBox, TextBlock, TextArea, ScrollableBlock, ScrollablePanel, Tap, Press, Rotate, Flip, GetParentSizer, GetTopmostSizer, IsPointerInBounds, Show, Hide, IsShown, Edit, WaitEvent, WaitComplete */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! phaser */ \"./node_modules/phaser/dist/phaser.js-exposed\");\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(phaser__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _roundrectangle_RoundRectangle_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./roundrectangle/RoundRectangle.js */ \"./lib/rexui/lib/ui/roundrectangle/RoundRectangle.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"RoundRectangle\", function() { return _roundrectangle_RoundRectangle_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; });\n\n/* harmony import */ var _bbcodetext_BBCodeText_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./bbcodetext/BBCodeText.js */ \"./lib/rexui/lib/ui/bbcodetext/BBCodeText.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"BBCodeText\", function() { return _bbcodetext_BBCodeText_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; });\n\n/* harmony import */ var _tagtext_TagText_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./tagtext/TagText.js */ \"./lib/rexui/lib/ui/tagtext/TagText.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"TagText\", function() { return _tagtext_TagText_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]; });\n\n/* harmony import */ var _container_Container_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./container/Container.js */ \"./lib/rexui/lib/ui/container/Container.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Container\", function() { return _container_Container_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]; });\n\n/* harmony import */ var _canvas_Canvas_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./canvas/Canvas.js */ \"./lib/rexui/lib/ui/canvas/Canvas.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Canvas\", function() { return _canvas_Canvas_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]; });\n\n/* harmony import */ var _ninepatch_NineSlicePatch__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ninepatch/NineSlicePatch */ \"./lib/rexui/lib/ui/ninepatch/NineSlicePatch.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"NineSlicePatch\", function() { return _ninepatch_NineSlicePatch__WEBPACK_IMPORTED_MODULE_6__[\"NineSlicePatch\"]; });\n\n/* harmony import */ var _sizer_Sizer_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./sizer/Sizer.js */ \"./lib/rexui/lib/ui/sizer/Sizer.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Sizer\", function() { return _sizer_Sizer_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]; });\n\n/* harmony import */ var _gridsizer_GridSizer_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./gridsizer/GridSizer.js */ \"./lib/rexui/lib/ui/gridsizer/GridSizer.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GridSizer\", function() { return _gridsizer_GridSizer_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"]; });\n\n/* harmony import */ var _label_Label_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./label/Label.js */ \"./lib/rexui/lib/ui/label/Label.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Label\", function() { return _label_Label_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"]; });\n\n/* harmony import */ var _buttons_Buttons_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./buttons/Buttons.js */ \"./lib/rexui/lib/ui/buttons/Buttons.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Buttons\", function() { return _buttons_Buttons_js__WEBPACK_IMPORTED_MODULE_10__[\"default\"]; });\n\n/* harmony import */ var _button_Button__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./button/Button */ \"./lib/rexui/lib/ui/button/Button.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Button\", function() { return _button_Button__WEBPACK_IMPORTED_MODULE_11__[\"Button\"]; });\n\n/* harmony import */ var _slider_Slider_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./slider/Slider.js */ \"./lib/rexui/lib/ui/slider/Slider.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Slider\", function() { return _slider_Slider_js__WEBPACK_IMPORTED_MODULE_12__[\"default\"]; });\n\n/* harmony import */ var _gridtable_GridTable_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./gridtable/GridTable.js */ \"./lib/rexui/lib/ui/gridtable/GridTable.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GridTable\", function() { return _gridtable_GridTable_js__WEBPACK_IMPORTED_MODULE_13__[\"default\"]; });\n\n/* harmony import */ var _menu_Menu_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./menu/Menu.js */ \"./lib/rexui/lib/ui/menu/Menu.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Menu\", function() { return _menu_Menu_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"]; });\n\n/* harmony import */ var _textBox_TextBox__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./textBox/TextBox */ \"./lib/rexui/lib/ui/textBox/TextBox.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"TextBox\", function() { return _textBox_TextBox__WEBPACK_IMPORTED_MODULE_15__[\"TextBox\"]; });\n\n/* harmony import */ var _textblock_TextBlock_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./textblock/TextBlock.js */ \"./lib/rexui/lib/ui/textblock/TextBlock.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"TextBlock\", function() { return _textblock_TextBlock_js__WEBPACK_IMPORTED_MODULE_16__[\"default\"]; });\n\n/* harmony import */ var _textarea_TextArea_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./textarea/TextArea.js */ \"./lib/rexui/lib/ui/textarea/TextArea.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"TextArea\", function() { return _textarea_TextArea_js__WEBPACK_IMPORTED_MODULE_17__[\"default\"]; });\n\n/* harmony import */ var _scrollableblock_ScrollableBlock_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./scrollableblock/ScrollableBlock.js */ \"./lib/rexui/lib/ui/scrollableblock/ScrollableBlock.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ScrollableBlock\", function() { return _scrollableblock_ScrollableBlock_js__WEBPACK_IMPORTED_MODULE_18__[\"default\"]; });\n\n/* harmony import */ var _scrollablepanel_ScrollablePanel_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./scrollablepanel/ScrollablePanel.js */ \"./lib/rexui/lib/ui/scrollablepanel/ScrollablePanel.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ScrollablePanel\", function() { return _scrollablepanel_ScrollablePanel_js__WEBPACK_IMPORTED_MODULE_19__[\"default\"]; });\n\n/* harmony import */ var _tap_Tap_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./tap/Tap.js */ \"./lib/rexui/lib/ui/tap/Tap.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Tap\", function() { return _tap_Tap_js__WEBPACK_IMPORTED_MODULE_20__[\"default\"]; });\n\n/* harmony import */ var _press_Press_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./press/Press.js */ \"./lib/rexui/lib/ui/press/Press.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Press\", function() { return _press_Press_js__WEBPACK_IMPORTED_MODULE_21__[\"default\"]; });\n\n/* harmony import */ var _rotate_Rotate_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./rotate/Rotate.js */ \"./lib/rexui/lib/ui/rotate/Rotate.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Rotate\", function() { return _rotate_Rotate_js__WEBPACK_IMPORTED_MODULE_22__[\"default\"]; });\n\n/* harmony import */ var _flip_Flip_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./flip/Flip.js */ \"./lib/rexui/lib/ui/flip/Flip.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Flip\", function() { return _flip_Flip_js__WEBPACK_IMPORTED_MODULE_23__[\"default\"]; });\n\n/* harmony import */ var _utils_GetParentSizer_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./utils/GetParentSizer.js */ \"./lib/rexui/lib/ui/utils/GetParentSizer.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GetParentSizer\", function() { return _utils_GetParentSizer_js__WEBPACK_IMPORTED_MODULE_24__[\"default\"]; });\n\n/* harmony import */ var _utils_GetTopmostSizer_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./utils/GetTopmostSizer.js */ \"./lib/rexui/lib/ui/utils/GetTopmostSizer.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GetTopmostSizer\", function() { return _utils_GetTopmostSizer_js__WEBPACK_IMPORTED_MODULE_25__[\"default\"]; });\n\n/* harmony import */ var _plugins_utils_input_IsPointerInBounds_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../plugins/utils/input/IsPointerInBounds.js */ \"./lib/rexui/lib/plugins/utils/input/IsPointerInBounds.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"IsPointerInBounds\", function() { return _plugins_utils_input_IsPointerInBounds_js__WEBPACK_IMPORTED_MODULE_26__[\"default\"]; });\n\n/* harmony import */ var _utils_Hide_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./utils/Hide.js */ \"./lib/rexui/lib/ui/utils/Hide.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Show\", function() { return _utils_Hide_js__WEBPACK_IMPORTED_MODULE_27__[\"Show\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Hide\", function() { return _utils_Hide_js__WEBPACK_IMPORTED_MODULE_27__[\"Hide\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"IsShown\", function() { return _utils_Hide_js__WEBPACK_IMPORTED_MODULE_27__[\"IsShown\"]; });\n\n/* harmony import */ var _plugins_behaviors_textedit_Edit_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../plugins/behaviors/textedit/Edit.js */ \"./lib/rexui/lib/plugins/behaviors/textedit/Edit.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Edit\", function() { return _plugins_behaviors_textedit_Edit_js__WEBPACK_IMPORTED_MODULE_28__[\"default\"]; });\n\n/* harmony import */ var _utils_WaitEvent_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./utils/WaitEvent.js */ \"./lib/rexui/lib/ui/utils/WaitEvent.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"WaitEvent\", function() { return _utils_WaitEvent_js__WEBPACK_IMPORTED_MODULE_29__[\"WaitEvent\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"WaitComplete\", function() { return _utils_WaitEvent_js__WEBPACK_IMPORTED_MODULE_29__[\"WaitComplete\"]; });\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/ui-components.ts?");

/***/ }),

/***/ "./lib/rexui/lib/ui/ui-plugin.js":
/*!***************************************!*\
  !*** ./lib/rexui/lib/ui/ui-plugin.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ObjectFactory_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ObjectFactory.js */ \"./lib/rexui/lib/ui/ObjectFactory.js\");\n/* harmony import */ var _roundrectangle_Factory_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./roundrectangle/Factory.js */ \"./lib/rexui/lib/ui/roundrectangle/Factory.js\");\n/* harmony import */ var _bbcodetext_Factory_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./bbcodetext/Factory.js */ \"./lib/rexui/lib/ui/bbcodetext/Factory.js\");\n/* harmony import */ var _tagtext_Factory_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./tagtext/Factory.js */ \"./lib/rexui/lib/ui/tagtext/Factory.js\");\n/* harmony import */ var _container_Factory_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./container/Factory.js */ \"./lib/rexui/lib/ui/container/Factory.js\");\n/* harmony import */ var _canvas_Factory_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./canvas/Factory.js */ \"./lib/rexui/lib/ui/canvas/Factory.js\");\n/* harmony import */ var _circlemaskimage_Factory_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./circlemaskimage/Factory.js */ \"./lib/rexui/lib/ui/circlemaskimage/Factory.js\");\n/* harmony import */ var _ninepatch_Factory_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ninepatch/Factory.js */ \"./lib/rexui/lib/ui/ninepatch/Factory.js\");\n/* harmony import */ var _sizer_Factory_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./sizer/Factory.js */ \"./lib/rexui/lib/ui/sizer/Factory.js\");\n/* harmony import */ var _gridsizer_Factory_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./gridsizer/Factory.js */ \"./lib/rexui/lib/ui/gridsizer/Factory.js\");\n/* harmony import */ var _label_Factory_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./label/Factory.js */ \"./lib/rexui/lib/ui/label/Factory.js\");\n/* harmony import */ var _buttons_Factory_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./buttons/Factory.js */ \"./lib/rexui/lib/ui/buttons/Factory.js\");\n/* harmony import */ var _slider_Factory_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./slider/Factory.js */ \"./lib/rexui/lib/ui/slider/Factory.js\");\n/* harmony import */ var _gridtable_Factory_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./gridtable/Factory.js */ \"./lib/rexui/lib/ui/gridtable/Factory.js\");\n/* harmony import */ var _gridtable_Factory_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_gridtable_Factory_js__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _menu_Factory_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./menu/Factory.js */ \"./lib/rexui/lib/ui/menu/Factory.js\");\n/* harmony import */ var _textblock_Factory_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./textblock/Factory.js */ \"./lib/rexui/lib/ui/textblock/Factory.js\");\n/* harmony import */ var _textarea_Factory_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./textarea/Factory.js */ \"./lib/rexui/lib/ui/textarea/Factory.js\");\n/* harmony import */ var _scrollableblock_Factory_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./scrollableblock/Factory.js */ \"./lib/rexui/lib/ui/scrollableblock/Factory.js\");\n/* harmony import */ var _scrollablepanel_Factory_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./scrollablepanel/Factory.js */ \"./lib/rexui/lib/ui/scrollablepanel/Factory.js\");\n/* harmony import */ var _tap_Factory_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./tap/Factory.js */ \"./lib/rexui/lib/ui/tap/Factory.js\");\n/* harmony import */ var _press_Factory_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./press/Factory.js */ \"./lib/rexui/lib/ui/press/Factory.js\");\n/* harmony import */ var _swipe_Factory_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./swipe/Factory.js */ \"./lib/rexui/lib/ui/swipe/Factory.js\");\n/* harmony import */ var _pan_Factory_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./pan/Factory.js */ \"./lib/rexui/lib/ui/pan/Factory.js\");\n/* harmony import */ var _pinch_Factory_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./pinch/Factory.js */ \"./lib/rexui/lib/ui/pinch/Factory.js\");\n/* harmony import */ var _rotate_Factory_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./rotate/Factory.js */ \"./lib/rexui/lib/ui/rotate/Factory.js\");\n/* harmony import */ var _flip_Factory_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./flip/Factory.js */ \"./lib/rexui/lib/ui/flip/Factory.js\");\n/* harmony import */ var _utils_GetParentSizer_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./utils/GetParentSizer.js */ \"./lib/rexui/lib/ui/utils/GetParentSizer.js\");\n/* harmony import */ var _utils_GetTopmostSizer_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./utils/GetTopmostSizer.js */ \"./lib/rexui/lib/ui/utils/GetTopmostSizer.js\");\n/* harmony import */ var _plugins_utils_input_IsPointerInBounds_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../plugins/utils/input/IsPointerInBounds.js */ \"./lib/rexui/lib/plugins/utils/input/IsPointerInBounds.js\");\n/* harmony import */ var _utils_Hide_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./utils/Hide.js */ \"./lib/rexui/lib/ui/utils/Hide.js\");\n/* harmony import */ var _plugins_behaviors_textedit_Edit_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../plugins/behaviors/textedit/Edit.js */ \"./lib/rexui/lib/plugins/behaviors/textedit/Edit.js\");\n/* harmony import */ var _utils_WaitEvent_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./utils/WaitEvent.js */ \"./lib/rexui/lib/ui/utils/WaitEvent.js\");\n\n\n\n\n\n\n\n\n// import ChartFactory from './chart/Factory.js';\n\n// import YoutubePlayerFactory from './youtubeplayer/Factory.js';\n\n\n\n//import FixWidthSizerFactory from './fixwidthsizer/Factory.js';\n//import OverlapSizerFactory from './overlapsizer/Factory.js';\n\n\n\n// import DialogFactory from './dialog/Factory.js';\n//import TabsFactory from './tabs/Factory.js';\n\n\n\n// import TextBoxFactory from './textbox/Factory.js';\n// import NumberBarFactory from './numberbar/Factory.js';\n// import PagesFactory from './pages/Factory.js';\n\n\n\n\n// import ToastFactory from './toast/Factory.js';\n// import SidesFactory from './sides/Factory.js';\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass UIPlugin extends Phaser.Plugins.ScenePlugin {\n    constructor(scene, pluginManager) {\n        super(scene, pluginManager);\n\n        this.add = new _ObjectFactory_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](scene);\n    }\n}\n\nvar methods = {\n    getParentSizer: _utils_GetParentSizer_js__WEBPACK_IMPORTED_MODULE_26__[\"default\"],\n    getTopmostSizer: _utils_GetTopmostSizer_js__WEBPACK_IMPORTED_MODULE_27__[\"default\"],\n    hide: _utils_Hide_js__WEBPACK_IMPORTED_MODULE_29__[\"Hide\"],\n    show: _utils_Hide_js__WEBPACK_IMPORTED_MODULE_29__[\"Show\"],\n    isShown: _utils_Hide_js__WEBPACK_IMPORTED_MODULE_29__[\"IsShown\"],\n    edit: _plugins_behaviors_textedit_Edit_js__WEBPACK_IMPORTED_MODULE_30__[\"default\"],\n    isInTouching: _plugins_utils_input_IsPointerInBounds_js__WEBPACK_IMPORTED_MODULE_28__[\"default\"],\n    waitEvent: _utils_WaitEvent_js__WEBPACK_IMPORTED_MODULE_31__[\"WaitEvent\"],\n    waitComplete: _utils_WaitEvent_js__WEBPACK_IMPORTED_MODULE_31__[\"WaitComplete\"]\n}\n\nObject.assign(\n    UIPlugin.prototype,\n    methods\n);\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (UIPlugin);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/ui-plugin.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/utils/AddChildMask.js":
/*!************************************************!*\
  !*** ./lib/rexui/lib/ui/utils/AddChildMask.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _plugins_utils_mask_DefaultMask_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../plugins/utils/mask/DefaultMask.js */ \"./lib/rexui/lib/plugins/utils/mask/DefaultMask.js\");\n\n\nvar AddChildMask = function (maskTarget, sizeTarget, shape, padding) {\n    var maskGameObject = new _plugins_utils_mask_DefaultMask_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](sizeTarget, shape, padding); // A Graphics game object\n    if (maskTarget && !maskTarget.isRexSizer) { // Sizer game object can't apply mask\n        maskTarget.setMask(maskGameObject.createGeometryMask());\n    }\n    this.pin(maskGameObject);\n    return maskGameObject;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (AddChildMask);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/utils/AddChildMask.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/utils/AlignConst.js":
/*!**********************************************!*\
  !*** ./lib/rexui/lib/ui/utils/AlignConst.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nconst ALIGN = Phaser.Display.Align;\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    center: ALIGN.CENTER,\n    left: ALIGN.LEFT_CENTER,\n    right: ALIGN.RIGHT_CENTER,\n    top: ALIGN.TOP_CENTER,\n    bottom: ALIGN.BOTTOM_CENTER,\n\n    'left-top': ALIGN.TOP_LEFT,\n    'left-center': ALIGN.LEFT_CENTER,\n    'left-bottom': ALIGN.BOTTOM_LEFT,\n    'center-top': ALIGN.TOP_CENTER,\n    'center-center': ALIGN.CENTER,\n    'center-bottom': ALIGN.BOTTOM_CENTER,\n    'right-top': ALIGN.TOP_RIGHT,\n    'right-center': ALIGN.RIGHT_CENTER,\n    'right-bottom': ALIGN.BOTTOM_RIGHT\n});\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/utils/AlignConst.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/utils/GetBoundsConfig.js":
/*!***************************************************!*\
  !*** ./lib/rexui/lib/ui/utils/GetBoundsConfig.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nconst GetValue = Phaser.Utils.Objects.GetValue;\nvar GetBoundsConfig = function (config, out) {\n    if (out === undefined) {\n        out = {};\n    }\n    if (typeof (config) === 'number') {\n        out.left = config;\n        out.right = config;\n        out.top = config;\n        out.bottom = config;\n    } else {\n        out.left = GetValue(config, 'left', 0);\n        out.right = GetValue(config, 'right', 0);\n        out.top = GetValue(config, 'top', 0);\n        out.bottom = GetValue(config, 'bottom', 0);\n    }\n    return out;\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (GetBoundsConfig);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/utils/GetBoundsConfig.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/utils/GetParentSizer.js":
/*!**************************************************!*\
  !*** ./lib/rexui/lib/ui/utils/GetParentSizer.js ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _GetSizerConfig_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GetSizerConfig.js */ \"./lib/rexui/lib/ui/utils/GetSizerConfig.js\");\n\n/**\n * @function tooqinui.Utils.GetParentSizer\n * @param {*} gameObject \n * @return {*}\n */\nvar GetParentSizer = function (gameObject) {\n    return Object(_GetSizerConfig_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(gameObject).parent;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GetParentSizer);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/utils/GetParentSizer.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/utils/GetScrollMode.js":
/*!*************************************************!*\
  !*** ./lib/rexui/lib/ui/utils/GetScrollMode.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ScrollModeConst_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ScrollModeConst.js */ \"./lib/rexui/lib/ui/utils/ScrollModeConst.js\");\n\n\nconst GetValue = Phaser.Utils.Objects.GetValue;\n\nvar GetScrollMode = function (config, key) {\n    if (key === undefined) {\n        key = 'scrollMode';\n    }\n    var scrollMode = GetValue(config, 'scrollMode', 0); // Vertical\n    if (typeof (scrollMode) === 'string') {\n        scrollMode = _ScrollModeConst_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"][scrollMode];\n    }\n    return scrollMode;\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (GetScrollMode);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/utils/GetScrollMode.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/utils/GetSizerConfig.js":
/*!**************************************************!*\
  !*** ./lib/rexui/lib/ui/utils/GetSizerConfig.js ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar GetSizerConfig = function (gameObject) {\n    if (!gameObject.hasOwnProperty('rexSizer')) {\n        gameObject.rexSizer = {};\n    }\n    return gameObject.rexSizer;\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (GetSizerConfig);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/utils/GetSizerConfig.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/utils/GetTopmostSizer.js":
/*!***************************************************!*\
  !*** ./lib/rexui/lib/ui/utils/GetTopmostSizer.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _GetParentSizer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GetParentSizer.js */ \"./lib/rexui/lib/ui/utils/GetParentSizer.js\");\n\n/**\n * @function tooqinui.Utils.GetTopmostSizer\n * @param {*} gameObject \n * @return {*}\n */\nvar GetTopmostSizer = function (gameObject) {\n    var parent = Object(_GetParentSizer_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(gameObject);\n    while (parent) {\n        gameObject = parent;\n        parent = Object(_GetParentSizer_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(parent);\n    }\n    return gameObject;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GetTopmostSizer);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/utils/GetTopmostSizer.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/utils/Hide.js":
/*!****************************************!*\
  !*** ./lib/rexui/lib/ui/utils/Hide.js ***!
  \****************************************/
/*! exports provided: Show, Hide, IsShown */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Show\", function() { return Show; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Hide\", function() { return Hide; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IsShown\", function() { return IsShown; });\n/* harmony import */ var _GetSizerConfig_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GetSizerConfig.js */ \"./lib/rexui/lib/ui/utils/GetSizerConfig.js\");\n\n\nvar Show = function (gameObject) {\n    _hide(gameObject, false);\n};\n\nvar Hide = function (gameObject) {\n    _hide(gameObject, true);\n};\n\nvar IsShown = function(gameObject) {\n    if (!gameObject) {\n        return false;\n    }\n    var config = Object(_GetSizerConfig_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(gameObject);\n    return !config.hidden;\n}\n\nvar _hide = function (gameObject, hidden) {\n    if (!gameObject) {\n        return;\n    }\n    var config = Object(_GetSizerConfig_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(gameObject);\n    config.hidden = hidden;\n    gameObject.setVisible(!hidden);\n};\n\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/utils/Hide.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/utils/OrientationConst.js":
/*!****************************************************!*\
  !*** ./lib/rexui/lib/ui/utils/OrientationConst.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    x: 0,\n    h: 0,\n    horizontal: 0,\n    'left-to-right': 0,\n    y: 1,\n    v: 1,\n    vertical: 1,\n    'top-to-bottom': 1\n});\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/utils/OrientationConst.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/utils/ScrollModeConst.js":
/*!***************************************************!*\
  !*** ./lib/rexui/lib/ui/utils/ScrollModeConst.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    v: 0,\n    vertical: 0,\n    h: 1,\n    horizontal: 1\n});\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/utils/ScrollModeConst.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/utils/Space.js":
/*!*****************************************!*\
  !*** ./lib/rexui/lib/ui/utils/Space.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar Space = function (scene) {\n    var gameObject = scene.add.zone(0, 0, 1, 1);\n    gameObject.isRexSpace = true;\n    return gameObject;\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (Space);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/utils/Space.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/utils/WaitEvent.js":
/*!*********************************************!*\
  !*** ./lib/rexui/lib/ui/utils/WaitEvent.js ***!
  \*********************************************/
/*! exports provided: WaitEvent, WaitComplete */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _plugins_utils_promise_WaitEvent_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../plugins/utils/promise/WaitEvent.js */ \"./lib/rexui/lib/plugins/utils/promise/WaitEvent.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"WaitEvent\", function() { return _plugins_utils_promise_WaitEvent_js__WEBPACK_IMPORTED_MODULE_0__[\"WaitEvent\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"WaitComplete\", function() { return _plugins_utils_promise_WaitEvent_js__WEBPACK_IMPORTED_MODULE_0__[\"WaitComplete\"]; });\n\n\n\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/utils/WaitEvent.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/utils/scrollable/CreateScrollableSizer.js":
/*!********************************************************************!*\
  !*** ./lib/rexui/lib/ui/utils/scrollable/CreateScrollableSizer.js ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _sizer_Sizer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../sizer/Sizer.js */ \"./lib/rexui/lib/ui/sizer/Sizer.js\");\n/* harmony import */ var _GetScrollMode_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../GetScrollMode.js */ \"./lib/rexui/lib/ui/utils/GetScrollMode.js\");\n/* harmony import */ var _slider_Slider_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../slider/Slider.js */ \"./lib/rexui/lib/ui/slider/Slider.js\");\n/* harmony import */ var _plugins_scroller_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../plugins/scroller.js */ \"./lib/rexui/lib/plugins/scroller.js\");\n\n\n\n\n\nconst GetValue = Phaser.Utils.Objects.GetValue;\n\nvar CreateScrollableSizer = function (config) {\n    var scene = this.scene;\n    var scrollMode = Object(_GetScrollMode_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(config);\n    var scrollableSizer = new _sizer_Sizer_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](scene, { orientation: scrollMode });\n\n    var child = GetValue(config, 'child.gameObject', undefined);\n    var sliderConfig = GetValue(config, 'slider', undefined), slider;\n    var scrollerConfig = GetValue(config, 'scroller', true), scroller;\n\n    // Child, slider, scroller\n    if (child) {\n        var childSpace = GetValue(config, 'space.child', 0);\n        this.childPadding = {};\n        if (typeof (childSpace) !== 'number') {\n            var childPadding = childSpace;\n            if (scrollMode === 0) {\n                childSpace = GetValue(childPadding, 'right', 0);\n                this.childPadding.top = GetValue(childPadding, 'top', 0);\n                this.childPadding.bottom = GetValue(childPadding, 'bottom', 0);\n            } else {\n                childSpace = GetValue(childPadding, 'bottom', 0);\n                this.childPadding.top = GetValue(childPadding, 'left', 0);\n                this.childPadding.bottom = GetValue(childPadding, 'right', 0);\n            }\n        } else {\n            this.childPadding.top = 0;\n            this.childPadding.bottom = 0;\n        }\n\n        var proportion = GetValue(config, 'child.proportion', 1);\n        var expand = GetValue(config, 'child.expand', true);\n        var padding;\n        if (scrollMode === 0) {\n            padding = {\n                right: (sliderConfig) ? childSpace : 0,\n            };\n        } else {\n            padding = {\n                bottom: (sliderConfig) ? childSpace : 0\n            };\n        }\n        scrollableSizer.add(child, proportion, 'center', padding, expand);\n\n        if (sliderConfig) {\n            if (sliderConfig === true) {\n                sliderConfig = {};\n            }\n            sliderConfig.orientation = scrollableSizer.orientation;\n            slider = new _slider_Slider_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](scene, sliderConfig);\n            scrollableSizer.add(slider, 0, 'center', 0, true);\n        }\n\n\n        if (scrollerConfig) {\n            if (scrollerConfig === true) {\n                scrollerConfig = {};\n            }\n            scrollerConfig.orientation = scrollMode;\n            scroller = new _plugins_scroller_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"](child, scrollerConfig);\n        }\n    }\n\n    // Control\n    if (slider) {\n        slider.on('valuechange', function (newValue) {\n            this.t = newValue;\n        }, this);\n    }\n    if (scroller) {\n        scroller.on('valuechange', function (newValue) {\n            this.childOY = newValue;\n        }, this);\n    }\n\n    this.addChildrenMap('child', child);\n    this.addChildrenMap('slider', slider);\n    this.addChildrenMap('scroller', scroller);\n\n    return scrollableSizer;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (CreateScrollableSizer);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/utils/scrollable/CreateScrollableSizer.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/utils/scrollable/ResizeController.js":
/*!***************************************************************!*\
  !*** ./lib/rexui/lib/ui/utils/scrollable/ResizeController.js ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar ResizeController = function () {\n    var topChildOY = this.topChildOY;\n    var bottomChildOY = this.bottomChildOY;\n    var scroller = this.childrenMap.scroller;\n    var slider = this.childrenMap.slider;\n    if (scroller) {\n        scroller.setBounds(bottomChildOY, topChildOY);\n    }\n    if (slider) {\n        slider.setEnable(bottomChildOY !== topChildOY);\n    }\n    this.updateController();\n    return this;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ResizeController);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/utils/scrollable/ResizeController.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/utils/scrollable/Scrollable.js":
/*!*********************************************************!*\
  !*** ./lib/rexui/lib/ui/utils/scrollable/Scrollable.js ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _sizer_Sizer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../sizer/Sizer.js */ \"./lib/rexui/lib/ui/sizer/Sizer.js\");\n/* harmony import */ var _GetScrollMode_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../GetScrollMode.js */ \"./lib/rexui/lib/ui/utils/GetScrollMode.js\");\n/* harmony import */ var _CreateScrollableSizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./CreateScrollableSizer.js */ \"./lib/rexui/lib/ui/utils/scrollable/CreateScrollableSizer.js\");\n/* harmony import */ var _ResizeController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ResizeController.js */ \"./lib/rexui/lib/ui/utils/scrollable/ResizeController.js\");\n/* harmony import */ var _UpdateController_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./UpdateController.js */ \"./lib/rexui/lib/ui/utils/scrollable/UpdateController.js\");\n\n\n\n\n\n\nconst GetValue = Phaser.Utils.Objects.GetValue;\nclass Scrollable extends _sizer_Sizer_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(scene, config) {\n        if (config === undefined) {\n            config = {};\n        }\n\n        var scrollMode = Object(_GetScrollMode_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(config); // Left-to-right, or top-to-bottom\n        // Create sizer\n        config.orientation = (scrollMode === 0) ? 1 : 0;\n        super(scene, config);\n        this.type = GetValue(config, 'type', 'rexScrollable');\n\n        // Add elements\n        var background = GetValue(config, 'background', undefined);\n        var scrollableSizer = _CreateScrollableSizer_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].call(this, config);\n        var header = GetValue(config, 'header', undefined);\n        var footer = GetValue(config, 'footer', undefined);\n\n        // Space\n        var paddingLeft = GetValue(config, 'space.left', 0);\n        var paddingRight = GetValue(config, 'space.right', 0);\n        var paddingTop = GetValue(config, 'space.top', 0);\n        var paddingBottom = GetValue(config, 'space.bottom', 0);\n\n        // Background\n        if (background) {\n            this.addBackground(background);\n        }\n\n        if (header) {\n            var align = GetValue(config, 'align.header', 'center');\n            var headerSpace = GetValue(config, 'space.header', 0);\n            var padding;\n            if (scrollMode === 0) {\n                padding = {\n                    left: paddingLeft,\n                    right: paddingRight,\n                    top: paddingTop,\n                    bottom: headerSpace,\n                };\n            } else {\n                padding = {\n                    left: paddingLeft,\n                    right: headerSpace,\n                    top: paddingTop,\n                    bottom: paddingBottom,\n                };\n            }\n            var expand = GetValue(config, 'expand.header', true);\n            this.add(header, 0, align, padding, expand);\n        }\n\n        if (scrollableSizer) {\n            var padding;\n            if (scrollMode === 0) {\n                padding = {\n                    left: paddingLeft,\n                    right: paddingRight,\n                    top: (header) ? 0 : paddingTop,\n                    bottom: (footer) ? 0 : paddingBottom,\n                };\n            } else {\n                padding = {\n                    left: (header) ? 0 : paddingLeft,\n                    right: (footer) ? 0 : paddingRight,\n                    top: paddingTop,\n                    bottom: paddingBottom,\n                };\n            }\n            this.add(scrollableSizer, 1, 'center', padding, true);\n        }\n\n        if (footer) {\n            var align = GetValue(config, 'align.footer', 'center');\n            var footerSpace = GetValue(config, 'space.footer', 0);\n            var padding;\n            if (scrollMode === 0) {\n                padding = {\n                    left: paddingLeft,\n                    right: paddingRight,\n                    top: footerSpace,\n                    bottom: paddingBottom,\n                };\n            } else {\n                padding = {\n                    left: footerSpace,\n                    right: paddingRight,\n                    top: paddingTop,\n                    bottom: paddingBottom,\n                };\n            }\n            var expand = GetValue(config, 'expand.footer', true);\n            this.add(footer, 0, align, padding, expand);\n        }\n\n        this.addChildrenMap('background', background);\n        this.addChildrenMap('header', header);\n        this.addChildrenMap('footer', footer);\n\n        // Necessary properties of child object\n        // child.t (RW), child.childOY (RW), child.topChildOY (R), child.bottomChildOY (R)\n    }\n\n    layout(parent, newWidth, newHeight) {\n        super.layout(parent, newWidth, newHeight);\n        this.resizeController();\n        return this;\n    }\n\n    set t(t) {\n        // Get inner childT\n        var childPadding = this.childPadding;\n        if ((childPadding.top !== 0) || (childPadding.bottom !== 0)) {\n            var child = this.childrenMap.child\n            var innerHeight = (child.topChildOY - child.bottomChildOY);\n            var outterHeight = innerHeight + childPadding.top + childPadding.bottom;\n            var innerChildOY = (outterHeight * t) - childPadding.top;\n            t = innerChildOY / innerHeight;\n        }\n\n        this.childrenMap.child.t = t;\n        this.updateController();\n    }\n\n    get t() {\n        var t = this.childrenMap.child.t;\n\n        // Get outter childT\n        var childPadding = this.childPadding;\n        if ((childPadding.top !== 0) || (childPadding.bottom !== 0)) {\n            var child = this.childrenMap.child\n            var innerHeight = (child.topChildOY - child.bottomChildOY);\n            var outterHeight = innerHeight + childPadding.top + childPadding.bottom;\n            var outterChildOY = (innerHeight * t) + childPadding.top;\n            t = outterChildOY / outterHeight;\n        }\n        return t;\n    }\n\n    set childOY(value) {\n        this.childrenMap.child.childOY = value;\n        this.updateController();\n    }\n\n    get childOY() {\n        return this.childrenMap.child.childOY;\n    }\n\n    get topChildOY() {\n        return this.childrenMap.child.topChildOY + this.childPadding.top;\n    }\n\n    get bottomChildOY() {\n        return this.childrenMap.child.bottomChildOY - this.childPadding.bottom;\n    }\n\n    setChildOY(value) {\n        this.childOY = value;\n        return this;\n    }\n\n    setT(value) {\n        this.t = value;\n        return this;\n    }\n\n    scrollToTop() {\n        this.t = 0;\n        return this;\n    }\n\n    scrollToBottom() {\n        this.t = 1;\n        return this;\n    }\n\n    get sliderEnable() {\n        var slider = this.childrenMap.slider;\n        if (!slider) {\n            return undefined;\n        }\n\n        return slider.enable;\n    }\n\n    set sliderEnable(value) {\n        var slider = this.childrenMap.slider;\n        if (!slider) {\n            return;\n        }\n        slider.setEnable(value);\n    }\n\n    setSliderEnable(enabled) {\n        if (enabled === undefined) {\n            enabled = true;\n        }\n        this.sliderEnable = enabled;\n        return this;\n    }\n\n    get scrollerEnable() {\n        var scroller = this.childrenMap.scroller;\n        if (!scroller) {\n            return undefined;\n        }\n\n        return scroller.enable;\n    }\n\n    set scrollerEnable(value) {\n        var scroller = this.childrenMap.scroller;\n        if (!scroller) {\n            return;\n        }\n        scroller.setEnable(value);\n    }\n\n    setScrollerEnable(enabled) {\n        if (enabled === undefined) {\n            enabled = true;\n        }\n        this.scrollerEnable = enabled;\n        return this;\n    }\n}\n\nvar Methods = {\n    resizeController: _ResizeController_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n    updateController: _UpdateController_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]\n}\n\n// mixin\nObject.assign(\n    Scrollable.prototype,\n    Methods\n);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Scrollable);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/utils/scrollable/Scrollable.js?");

/***/ }),

/***/ "./lib/rexui/lib/ui/utils/scrollable/UpdateController.js":
/*!***************************************************************!*\
  !*** ./lib/rexui/lib/ui/utils/scrollable/UpdateController.js ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar UpdateController = function () {\n    var scroller = this.childrenMap.scroller;\n    var slider = this.childrenMap.slider;\n    if (scroller) {\n        scroller.setValue(this.childOY);\n    }\n    if (slider) {\n        slider.setValue(this.t);\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (UpdateController);\n\n//# sourceURL=webpack://TooqingCore/./lib/rexui/lib/ui/utils/scrollable/UpdateController.js?");

/***/ }),

/***/ "./node_modules/worker-loader/dist/cjs.js?name=js/[hash].[name].js!./src/net/heartbeatworker.ts":
/*!******************************************************************************************************!*\
  !*** ./node_modules/worker-loader/dist/cjs.js?name=js/[hash].[name].js!./src/net/heartbeatworker.ts ***!
  \******************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = function() {\n  return new Worker(__webpack_require__.p + \"js/d48e9b703eceb727fbb9.heartbeatworker.js\");\n};\n\n//# sourceURL=webpack://TooqingCore/./src/net/heartbeatworker.ts?./node_modules/worker-loader/dist/cjs.js?name=js/0aa3.%5Bname%5D.js");

/***/ }),

/***/ "./node_modules/worker-loader/dist/cjs.js?name=js/[hash].[name].js!./src/net/networker.ts":
/*!************************************************************************************************!*\
  !*** ./node_modules/worker-loader/dist/cjs.js?name=js/[hash].[name].js!./src/net/networker.ts ***!
  \************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = function() {\n  return new Worker(__webpack_require__.p + \"js/522b969277eeea6c7d65.networker.js\");\n};\n\n//# sourceURL=webpack://TooqingCore/./src/net/networker.ts?./node_modules/worker-loader/dist/cjs.js?name=js/bba7.%5Bname%5D.js");

/***/ }),

/***/ "./src/Handler/Handler.ts":
/*!********************************!*\
  !*** ./src/Handler/Handler.ts ***!
  \********************************/
/*! exports provided: Handler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Handler\", function() { return Handler; });\nvar Handler = /** @class */ (function () {\n    /**\n     *  <code>Handler</code> \n     * @param\tcaller \n     * @param\tmethod \n     * @param\targs \n     * @param\tonce \n     */\n    function Handler(caller, method, args, once) {\n        if (caller === void 0) { caller = null; }\n        if (method === void 0) { method = null; }\n        if (args === void 0) { args = null; }\n        if (once === void 0) { once = false; }\n        this.once = false;\n        this._id = 0;\n        this.setTo(caller, method, args, once);\n    }\n    /**\n     * Handleroncefalse\n     * @param\tcaller (this)\n     * @param\tmethod \n     * @param\targs \n     * @param\tonce truerecover()true\n     * @return  handler\n     */\n    Handler.create = function (caller, method, args, once) {\n        if (args === void 0) { args = null; }\n        if (once === void 0) { once = true; }\n        if (Handler._pool.length)\n            return Handler._pool.pop().setTo(caller, method, args, once);\n        return new Handler(caller, method, args, once);\n    };\n    /**\n     * \n     * @param\tcaller (this)\n     * @param\tmethod \n     * @param\targs \n     * @param\tonce truerecover()\n     * @return   handler \n     */\n    Handler.prototype.setTo = function (caller, method, args, once) {\n        this._id = Handler._gid++;\n        this.caller = caller;\n        this.method = method;\n        this.args = args;\n        this.once = once;\n        return this;\n    };\n    /**\n     * \n     */\n    Handler.prototype.run = function () {\n        if (this.method == null)\n            return null;\n        var id = this._id;\n        var result = this.method.apply(this.caller, this.args);\n        // tslint:disable-next-line: no-unused-expression\n        this._id === id && this.once && this.recover();\n        return result;\n    };\n    /**\n     * \n     * @param\tdata Array()\n     */\n    Handler.prototype.runWith = function (data) {\n        if (this.method == null)\n            return null;\n        var id = this._id;\n        if (data == null)\n            // tslint:disable-next-line: no-var-keyword\n            var result = this.method.apply(this.caller, this.args);\n        else if (!this.args && !(data instanceof Array))\n            result = this.method.call(this.caller, data);\n        // tslint:disable-next-line: comment-format\n        else if (this.args)\n            result = this.method.apply(this.caller, this.args.concat(data));\n        else\n            result = this.method.apply(this.caller, data);\n        // tslint:disable-next-line: no-unused-expression\n        this._id === id && this.once && this.recover();\n        return result;\n    };\n    /**\n     * \n     */\n    Handler.prototype.clear = function () {\n        this.caller = null;\n        this.method = null;\n        this.args = null;\n        return this;\n    };\n    /**\n     *  Handler \n     */\n    Handler.prototype.recover = function () {\n        if (this._id > 0) {\n            this._id = 0;\n            Handler._pool.push(this.clear());\n        }\n    };\n    /*[DISABLE-ADD-VARIABLE-DEFAULT-VALUE]*/\n    Handler._pool = [];\n    Handler._gid = 1;\n    return Handler;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/Handler/Handler.ts?");

/***/ }),

/***/ "./src/Handler/HandlerDispatcher.ts":
/*!******************************************!*\
  !*** ./src/Handler/HandlerDispatcher.ts ***!
  \******************************************/
/*! exports provided: HandlerDispatcher */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HandlerDispatcher\", function() { return HandlerDispatcher; });\n/* harmony import */ var _Handler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Handler */ \"./src/Handler/Handler.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar HandlerDispatcher = /** @class */ (function () {\n    function HandlerDispatcher() {\n    }\n    HandlerDispatcher.prototype.hasListener = function (type) {\n        var listener = this._events && this._events[type];\n        return !!listener;\n    };\n    HandlerDispatcher.prototype.emitter = function (type, data) {\n        if (data === void 0) { data = null; }\n        if (!this._events || !this._events[type])\n            return false;\n        var listeners = this._events[type];\n        if (listeners.run) {\n            if (listeners.once)\n                delete this._events[type];\n            data != null ? listeners.runWith(data) : listeners.run();\n        }\n        else {\n            for (var i = 0, n = listeners.length; i < n; i++) {\n                var listener = listeners[i];\n                if (listener) {\n                    (data != null) ? listener.runWith(data) : listener.run();\n                }\n                if (!listener || listener.once) {\n                    listeners.splice(i, 1);\n                    i--;\n                    n--;\n                }\n            }\n            if (listeners.length === 0 && this._events)\n                delete this._events[type];\n        }\n        return true;\n    };\n    HandlerDispatcher.prototype.on = function (type, caller, listener, args) {\n        if (args === void 0) { args = null; }\n        return this._createListener(type, caller, listener, args, false);\n    };\n    HandlerDispatcher.prototype.once = function (type, caller, listener, args) {\n        if (args === void 0) { args = null; }\n        return this._createListener(type, caller, listener, args, true);\n    };\n    HandlerDispatcher.prototype.off = function (type, caller, listener, onceOnly) {\n        if (onceOnly === void 0) { onceOnly = false; }\n        if (!this._events || !this._events[type])\n            return this;\n        var listeners = this._events[type];\n        if (listener != null) {\n            if (listeners.run) {\n                if ((!caller || listeners.caller === caller) && listeners.method === listener && (!onceOnly || listeners.once)) {\n                    delete this._events[type];\n                    listeners.recover();\n                }\n            }\n            else {\n                var count = 0;\n                var len = listeners.length;\n                for (var i = 0, n = listeners.length; i < n; i++) {\n                    var item = listeners[i];\n                    if (item && (!caller || item.caller === caller) && item.method === listener && (!onceOnly || item.once)) {\n                        count++;\n                        listeners[i] = null;\n                        item.recover();\n                    }\n                }\n                if (count === len)\n                    delete this._events[type];\n            }\n        }\n        return this;\n    };\n    HandlerDispatcher.prototype.offAll = function (type) {\n        if (type === void 0) { type = null; }\n        var events = this._events;\n        if (!events)\n            return this;\n        if (type) {\n            this._recoverHandlers(events[type]);\n            delete events[type];\n        }\n        else {\n            for (var name_1 in events) {\n                this._recoverHandlers(events[name_1]);\n            }\n            this._events = null;\n        }\n        return this;\n    };\n    HandlerDispatcher.prototype.destroy = function () {\n        this.offAll();\n    };\n    HandlerDispatcher.prototype._createListener = function (type, caller, listener, args, once, offBefore) {\n        if (offBefore === void 0) { offBefore = true; }\n        if (offBefore)\n            this.off(type, caller, listener, once);\n        var handler = EventHandler.create(caller || this, listener, args, once);\n        if (!this._events)\n            this._events = {};\n        var events = this._events;\n        if (!events[type])\n            events[type] = handler;\n        else {\n            if (!events[type].run)\n                events[type].push(handler);\n            else\n                events[type] = [events[type], handler];\n        }\n        return this;\n    };\n    HandlerDispatcher.prototype._recoverHandlers = function (arr) {\n        if (!arr)\n            return;\n        if (arr.run) {\n            arr.recover();\n        }\n        else {\n            for (var i = arr.length - 1; i > -1; i--) {\n                if (arr[i]) {\n                    arr[i].recover();\n                    arr[i] = null;\n                }\n            }\n        }\n    };\n    return HandlerDispatcher;\n}());\n\nvar EventHandler = /** @class */ (function (_super) {\n    __extends(EventHandler, _super);\n    function EventHandler(caller, method, args, once) {\n        return _super.call(this, caller, method, args, once) || this;\n    }\n    EventHandler.create = function (caller, method, args, once) {\n        if (args === void 0) { args = null; }\n        if (once === void 0) { once = true; }\n        if (EventHandler._mpool.length)\n            return EventHandler._mpool.pop().setTo(caller, method, args, once);\n        return new EventHandler(caller, method, args, once);\n    };\n    EventHandler.prototype.recover = function () {\n        if (this._id > 0) {\n            this._id = 0;\n            EventHandler._mpool.push(this.clear());\n        }\n    };\n    EventHandler._mpool = [];\n    return EventHandler;\n}(_Handler__WEBPACK_IMPORTED_MODULE_0__[\"Handler\"]));\n\n\n//# sourceURL=webpack://TooqingCore/./src/Handler/HandlerDispatcher.ts?");

/***/ }),

/***/ "./src/const/MessageType.ts":
/*!**********************************!*\
  !*** ./src/const/MessageType.ts ***!
  \**********************************/
/*! exports provided: MessageType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MessageType\", function() { return MessageType; });\n/**\n * \n * author aaron\n */\nvar MessageType = /** @class */ (function () {\n    function MessageType() {\n    }\n    MessageType.CREATE_ROLE = \"create_role\";\n    MessageType.APP_START = \"app_start\";\n    MessageType.EDITOR_CHANGE_MODE = \"editor_change_mode\";\n    MessageType.CLIENT_RESIZE = \"app_client_resize\";\n    MessageType.SCENE_INITIALIZED = \"SCENE_INITIALIZED\";\n    MessageType.SCENE_CLEARED = \"SCENE_CLEARED\";\n    MessageType.SCENE_CHANGE_TO = \"SCENE_CHANGE_TO\";\n    MessageType.SCENE_MOVE_TO = \"scene_move_to\";\n    MessageType.SCENE_MOVE_STOP = \"scene_move_stop\";\n    MessageType.CHANGE_ELEMENT_ANIMATION = \"change_element_animation\";\n    MessageType.CHANGE_CHARACTER_ANIMATION = \"change_character_animation\";\n    MessageType.CHAT_TO = \"chat_to\";\n    MessageType.SHOW_CHAT_BUBBLE = \"show_chat_bubble\";\n    MessageType.REMOVE_CHAT_BUBBLE = \"remove_chat_bubble\";\n    MessageType.PROMPT_ALERT = \"prompt_alert\";\n    MessageType.CHARACTER_TALING = \"characterTaling\";\n    MessageType.CHARACTER_SHUT_UP = \"characterShutUp\";\n    /// never start\n    MessageType.QCLOUD_AUTH = \"qcloud_auth\";\n    MessageType.ENTER_SCENE = \"enter_scene\";\n    /// never end\n    MessageType.SCENE_ADD_PLAYER = \"scene_add_player\";\n    MessageType.SCENE_REMOVE_PLAYER = \"scene_remove_player\";\n    MessageType.SCENE_UPDATE_PLAYER = \"scene_update_player\";\n    MessageType.SCENE_ADD_ELEMENT = \"scene_add_element\";\n    MessageType.SCENE_ADD_TERRAIN = \"scene_add_terrain\";\n    MessageType.SCENE_ADD_TERRAIN_END = \"scene_add_terrain_end\";\n    MessageType.SCENE_ADD_ALL_TERRAIN = \"scene_add_all_terrain\";\n    MessageType.SCENE_REMOVE_ELEMENT = \"scene_remove_element\";\n    MessageType.SCENE_REMOVE_TERRAIN = \"scene_remove_terrain\";\n    MessageType.SCENE_REMOVE_ALL_TERRAIN = \"scene_remove_all_terrain\";\n    MessageType.SCENE_MOUSE_FOLLOW = \"scene_mouse_follow\";\n    MessageType.SCENE_SELECT_ELEMENT = \"scene_select_element\";\n    MessageType.SCENE_FIXED_TO_ELEMENT = \"scene_fixed_to_element\";\n    MessageType.SCENE_UPDATE_ELEMENT = \"sceneUpdateElement\";\n    MessageType.SCENE_SYNCHRO_PACKAGE = \"sceneSynchroPackage\";\n    MessageType.SCENE_VISIBLE_GRID = \"sceneVisibleGrid\";\n    MessageType.PLAYER_SELECT_CHARACTER = \"player_select_character\";\n    MessageType.PLAYER_DATA_INITIALIZE = \"player_data_initialize\";\n    MessageType.SCENE_DATA_INITIALIZE = \"scene_data_initialize\";\n    MessageType.PACKAGE_ITEM_ADD = \"package_item_add\";\n    MessageType.PACKAGE_ITEM_REMOVE = \"package_item_remove\";\n    MessageType.PACKAGE_EXCHANGE_ITEM_POS = \"package_exchange_item_pos\";\n    MessageType.SCENE_BACKGROUND_CLICK = \"SCENE_BACKGROUND_CLICK\";\n    MessageType.CHANGE_SELF_AVATAR = \"CHANGE_SELF_AVATAR\";\n    MessageType.DRAG_TO_DROP = \"DRAG_TO_DROP\";\n    MessageType.DRAG_OVER_DROP = \"DRAG_OVER_DROP\";\n    MessageType.QUERY_PACKAGE = \"query_package\";\n    MessageType.SYNC_USER_BALANCE = \"syncUserBalance\";\n    MessageType.UPDATED_CHARACTER_PACKAGE = \"updatedCharacterPackage\";\n    MessageType.SHOW_EFFECT = \"showEffect\";\n    MessageType.EDIT_MODE_QUERY_PACKAGE = \"editModeQueryPackage\";\n    MessageType.PRESS_ELEMENT = \"PRESS_ELEMENT\";\n    // \n    MessageType.TURN_ELEMENT = \"turnElement\";\n    // \n    MessageType.RECYCLE_ELEMENT = \"recycleElement\";\n    // \n    MessageType.PUT_ELEMENT = \"putElement\";\n    MessageType.CANCEL_PUT = \"cancelPut\";\n    // \n    MessageType.EDIT_PACKAGE_EXPANED = \"editPackageExpaned\";\n    // \n    MessageType.EDIT_PACKAGE_COLLAPSE = \"editPackageCollapse\";\n    MessageType.SELECTED_DECORATE_ELEMENT = \"selectedDecorateElement\";\n    MessageType.CANCEL_DECORATE_ELEMENT = \"cancelDecorateElement\";\n    MessageType.ADD_ICON_TO_TOP = \"addIconToTop\";\n    MessageType.REMOVE_ICON_FROM_TOP = \"removeIconFromTop\";\n    MessageType.SHOW_UI = \"showUI\";\n    MessageType.SHOW_NOTICE = \"showNotice\";\n    return MessageType;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/const/MessageType.ts?");

/***/ }),

/***/ "./src/const/brush.ts":
/*!****************************!*\
  !*** ./src/const/brush.ts ***!
  \****************************/
/*! exports provided: BrushEnum, Brush */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BrushEnum\", function() { return BrushEnum; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Brush\", function() { return Brush; });\nvar BrushEnum;\n(function (BrushEnum) {\n    BrushEnum[\"MOVE\"] = \"move\";\n    BrushEnum[\"BRUSH\"] = \"brush\";\n    BrushEnum[\"SELECT\"] = \"select\";\n    BrushEnum[\"ERASER\"] = \"eraser\";\n    BrushEnum[\"FILL\"] = \"FILL\";\n})(BrushEnum || (BrushEnum = {}));\nvar Brush = /** @class */ (function () {\n    function Brush(mEditorRoom) {\n        this.mEditorRoom = mEditorRoom;\n        this.mMode = BrushEnum.SELECT;\n    }\n    Object.defineProperty(Brush.prototype, \"mode\", {\n        get: function () {\n            return this.mMode;\n        },\n        set: function (mode) {\n            this.mMode = mode;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Brush;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/const/brush.ts?");

/***/ }),

/***/ "./src/const/constants.ts":
/*!********************************!*\
  !*** ./src/const/constants.ts ***!
  \********************************/
/*! exports provided: PI_EXTENSION_REGEX, HTTP_REGEX */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PI_EXTENSION_REGEX\", function() { return PI_EXTENSION_REGEX; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HTTP_REGEX\", function() { return HTTP_REGEX; });\nvar PI_EXTENSION_REGEX = /\\.pi$/i;\nvar HTTP_REGEX = /^(http|https):/i;\n\n\n//# sourceURL=webpack://TooqingCore/./src/const/constants.ts?");

/***/ }),

/***/ "./src/const/res.const.ts":
/*!********************************!*\
  !*** ./src/const/res.const.ts ***!
  \********************************/
/*! exports provided: UI */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UI\", function() { return UI; });\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/resUtil */ \"./src/utils/resUtil.ts\");\n\nvar UI;\n(function (UI) {\n    var TuDing18 = /** @class */ (function () {\n        function TuDing18() {\n        }\n        TuDing18.getName = function () {\n            return \"ui_moneyIcon_tuding_18_png\";\n        };\n        TuDing18.getPNG = function () {\n            return _utils_resUtil__WEBPACK_IMPORTED_MODULE_0__[\"Url\"].getRes(\"ui/moneyIcon/tuding_18.png\");\n        };\n        return TuDing18;\n    }());\n    UI.TuDing18 = TuDing18;\n})(UI || (UI = {}));\n\n\n//# sourceURL=webpack://TooqingCore/./src/const/res.const.ts?");

/***/ }),

/***/ "./src/game/account.ts":
/*!*****************************!*\
  !*** ./src/game/account.ts ***!
  \*****************************/
/*! exports provided: Account */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Account\", function() { return Account; });\nvar Account = /** @class */ (function () {\n    function Account() {\n        // TODO\n        // 1. \n        // 2. \n    }\n    Account.prototype.setAccount = function (val) {\n        this.mCurAccountData = {\n            token: \"\",\n            expire: 0,\n            fingerprint: \"\",\n        };\n        Object.assign(this.mCurAccountData, val);\n    };\n    Object.defineProperty(Account.prototype, \"accountData\", {\n        get: function () {\n            return this.mCurAccountData;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Account;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/game/account.ts?");

/***/ }),

/***/ "./src/game/element.storage.ts":
/*!*************************************!*\
  !*** ./src/game/element.storage.ts ***!
  \*************************************/
/*! exports provided: ElementStorage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ElementStorage\", function() { return ElementStorage; });\n/* harmony import */ var _rooms_display_frames_model__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../rooms/display/frames.model */ \"./src/rooms/display/frames.model.ts\");\n/* harmony import */ var _utils_log__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/log */ \"./src/utils/log.ts\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _rooms_display_animation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../rooms/display/animation */ \"./src/rooms/display/animation.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/resUtil */ \"./src/utils/resUtil.ts\");\n\n\n\n\n\nvar ElementStorage = /** @class */ (function () {\n    function ElementStorage() {\n        this.mModels = new Map();\n        this.mElementRef = new Map();\n        this.terrainPalette = new Map();\n        this.terrainPaletteWithBindId = new Map();\n        this.mossPalette = new Map();\n        this.event = new Phaser.Events.EventEmitter();\n    }\n    ElementStorage.prototype.on = function (event, fn, context) {\n        this.event.on(event, fn, context);\n    };\n    ElementStorage.prototype.off = function (event, fn, context) {\n        this.event.off(event, fn, context);\n    };\n    ElementStorage.prototype.setGameConfig = function (config) {\n        _utils_log__WEBPACK_IMPORTED_MODULE_1__[\"Logger\"].getInstance().log(\"TCL: ElementStorage -> config\", config);\n        if (!config) {\n            return;\n        }\n        var objs = config.objectsList;\n        var displayModel = null;\n        for (var _i = 0, objs_1 = objs; _i < objs_1.length; _i++) {\n            var obj = objs_1[_i];\n            if (obj.type === pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].NodeType.ElementNodeType) {\n                displayModel = this.mModels.get(obj.id);\n                if (!displayModel) {\n                    var anis = [];\n                    var eleAnis = obj.animations;\n                    var objAnis = eleAnis.animationData;\n                    for (var _a = 0, objAnis_1 = objAnis; _a < objAnis_1.length; _a++) {\n                        var ani = objAnis_1[_a];\n                        anis.push(new _rooms_display_animation__WEBPACK_IMPORTED_MODULE_3__[\"Animation\"](ani.createProtocolObject()));\n                    }\n                    displayModel = new _rooms_display_frames_model__WEBPACK_IMPORTED_MODULE_0__[\"FramesModel\"]({\n                        id: obj.id,\n                        sn: obj.sn,\n                        animations: {\n                            defaultAnimationName: eleAnis.defaultAnimationName,\n                            display: eleAnis.display,\n                            animationData: anis,\n                        },\n                    });\n                    this.mModels.set(obj.id, displayModel);\n                }\n                var ele = {\n                    id: obj.id,\n                    displayModel: displayModel,\n                };\n                this.mElementRef.set(obj.id, ele);\n            }\n        }\n        this.updatePalette(config.root.palette);\n        this.updateMoss(config.root.moss);\n        this.updateAssets(config.root.assets);\n    };\n    ElementStorage.prototype.updatePalette = function (palette) {\n        for (var _i = 0, _a = Array.from(palette.peersDict.keys()); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var terrainPalette = palette.peersDict.get(key);\n            var terrainModel = this.terrainPalette.get(terrainPalette.id);\n            if (!terrainModel) {\n                var frameModel = new _rooms_display_frames_model__WEBPACK_IMPORTED_MODULE_0__[\"FramesModel\"]({\n                    id: terrainPalette.id,\n                    sn: terrainPalette.sn,\n                    animations: {\n                        defaultAnimationName: terrainPalette.animations.defaultAnimationName,\n                        display: terrainPalette.animations.display,\n                        animationData: terrainPalette.animations.animationData.map(function (ani) { return new _rooms_display_animation__WEBPACK_IMPORTED_MODULE_3__[\"Animation\"](ani.createProtocolObject()); }),\n                    },\n                });\n                this.terrainPalette.set(key, frameModel);\n                this.terrainPaletteWithBindId.set(terrainPalette.id, frameModel);\n            }\n        }\n    };\n    ElementStorage.prototype.updateMoss = function (moss) {\n        for (var _i = 0, _a = Array.from(moss.peersDict.keys()); _i < _a.length; _i++) {\n            var peerKey = _a[_i];\n            var elementMoss = moss.peersDict.get(peerKey);\n            var elementModel = this.mossPalette.get(elementMoss.id);\n            if (!elementModel) {\n                var frameModel = new _rooms_display_frames_model__WEBPACK_IMPORTED_MODULE_0__[\"FramesModel\"]({\n                    id: elementMoss.id,\n                    sn: elementMoss.sn,\n                    animations: {\n                        defaultAnimationName: elementMoss.animations.defaultAnimationName,\n                        display: elementMoss.animations.display,\n                        animationData: elementMoss.animations.animationData.map(function (ani) { return new _rooms_display_animation__WEBPACK_IMPORTED_MODULE_3__[\"Animation\"](ani.createProtocolObject()); }),\n                    },\n                });\n                this.mossPalette.set(peerKey, frameModel);\n            }\n        }\n    };\n    ElementStorage.prototype.updateAssets = function (assetsNode) {\n        var assets = assetsNode.getAssetList();\n        this._assets = [];\n        for (var _i = 0, assets_1 = assets; _i < assets_1.length; _i++) {\n            var asset = assets_1[_i];\n            var media = asset.media;\n            if (media) {\n                var fileType = media.match(/\\.([a-zA-Z0-9]+)($|\\?)/);\n                if (fileType && fileType[1]) {\n                    this._assets.push({\n                        type: fileType[1],\n                        key: asset.key,\n                        source: _utils_resUtil__WEBPACK_IMPORTED_MODULE_4__[\"Url\"].getOsdRes(media),\n                    });\n                }\n            }\n        }\n    };\n    ElementStorage.prototype.setSceneConfig = function (config) {\n        var objs = config.objectsList;\n        var displayModel = null;\n        // TODO Lite deserializeDisplay link\n        for (var _i = 0, objs_2 = objs; _i < objs_2.length; _i++) {\n            var obj = objs_2[_i];\n            if (obj.type === pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].NodeType.ElementNodeType) {\n                displayModel = this.mModels.get(obj.id);\n                if (!displayModel) {\n                    var anis = [];\n                    var eleAnis = obj.animations;\n                    var objAnis = eleAnis.animationData;\n                    for (var _a = 0, objAnis_2 = objAnis; _a < objAnis_2.length; _a++) {\n                        var ani = objAnis_2[_a];\n                        anis.push(new _rooms_display_animation__WEBPACK_IMPORTED_MODULE_3__[\"Animation\"](ani.createProtocolObject()));\n                    }\n                    displayModel = new _rooms_display_frames_model__WEBPACK_IMPORTED_MODULE_0__[\"FramesModel\"]({\n                        id: obj.id,\n                        sn: obj.sn,\n                        animations: {\n                            defaultAnimationName: eleAnis.defaultAnimationName,\n                            display: eleAnis.display,\n                            animationData: anis,\n                        },\n                    });\n                    this.mModels.set(obj.id, displayModel);\n                }\n                var ele = {\n                    id: obj.id,\n                    displayModel: displayModel,\n                };\n                this.mElementRef.set(obj.id, ele);\n            }\n        }\n        var sceneNode = config.root.children.find(function (node) { return node.type === pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].NodeType.SceneNodeType; });\n        this._terrainCollection = sceneNode.terrainCollection;\n        this._mossCollection = sceneNode.mossCollection;\n        this._scenerys = sceneNode.getScenerys();\n        // const scenerys = sceneNode.getScenerys();\n        // this._scenerys = [];\n        // for (const scenery of scenerys) {\n        //     this._scenerys.push(scenery);\n        // }\n    };\n    ElementStorage.prototype.add = function (obj) {\n        this.mModels.set(obj.id, obj);\n    };\n    ElementStorage.prototype.getDisplayModel = function (id) {\n        var ele = this.mElementRef.get(id);\n        if (ele) {\n            return ele.displayModel;\n        }\n        // Logger.getInstance().error(`can't find element ${id}`);\n        return;\n    };\n    ElementStorage.prototype.getTerrainCollection = function () {\n        return this._terrainCollection;\n    };\n    ElementStorage.prototype.getTerrainPalette = function (key) {\n        if (this.terrainPalette.get(key)) {\n            return this.terrainPalette.get(key);\n        }\n    };\n    ElementStorage.prototype.getTerrainPaletteByBindId = function (id) {\n        if (this.terrainPaletteWithBindId.get(id)) {\n            return this.terrainPaletteWithBindId.get(id);\n        }\n    };\n    ElementStorage.prototype.getMossCollection = function () {\n        return this._mossCollection;\n    };\n    ElementStorage.prototype.getMossPalette = function (id) {\n        if (this.mossPalette.get(id)) {\n            return this.mossPalette.get(id);\n        }\n    };\n    ElementStorage.prototype.getScenerys = function () {\n        return this._scenerys;\n    };\n    ElementStorage.prototype.getAssets = function () {\n        return this._assets;\n    };\n    ElementStorage.prototype.destroy = function () {\n        this.mElementRef.clear();\n        this.terrainPalette.clear();\n        this.terrainPaletteWithBindId.clear();\n        this.mossPalette.clear();\n        this.mModels.forEach(function (model, index) {\n            model.destroy();\n        });\n        this.mModels.clear();\n        this._assets = undefined;\n    };\n    return ElementStorage;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/game/element.storage.ts?");

/***/ }),

/***/ "./src/game/joystick.manager.ts":
/*!**************************************!*\
  !*** ./src/game/joystick.manager.ts ***!
  \**************************************/
/*! exports provided: JoyStickManager, JoyStick */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"JoyStickManager\", function() { return JoyStickManager; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"JoyStick\", function() { return JoyStick; });\n/* harmony import */ var _utils_log__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/log */ \"./src/utils/log.ts\");\n/* harmony import */ var _rooms_element_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../rooms/element/element */ \"./src/rooms/element/element.ts\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _rooms_decorate_room__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../rooms/decorate.room */ \"./src/rooms/decorate.room.ts\");\n\n\n\n\nvar TEMP_CONST = {\n    MOUSE_DOWN: 0,\n    MOUSE_MOVE: 1,\n    MOUSE_UP: 2,\n    TOUCH_START: 3,\n    TOUCH_MOVE: 4,\n    TOUCH_END: 5,\n    POINTER_LOCK_CHANGE: 6,\n    TOUCH_CANCEL: 7,\n    MOUSE_WHEEL: 8\n};\nvar JoyStickManager = /** @class */ (function () {\n    function JoyStickManager(worldService, keyEvents) {\n        this.worldService = worldService;\n        this.mEnabled = false;\n        // roomjoystick\n        this.mOnListener = false;\n        this.mJoyListeners = [];\n        this.mScale = worldService.uiScale;\n        this.mKeyEvents = keyEvents;\n        this.mKeyEventMap = new Map();\n        _utils_log__WEBPACK_IMPORTED_MODULE_0__[\"Logger\"].getInstance().debug(\"JoyStickManager \" + worldService.uiScale);\n    }\n    JoyStickManager.prototype.onRoomChanged = function (currentRoom, previousRoom) {\n        if (!this.mJoyStick) {\n            this.mOnListener = currentRoom instanceof _rooms_decorate_room__WEBPACK_IMPORTED_MODULE_3__[\"DecorateRoom\"] ? false : true;\n            return;\n        }\n        if (currentRoom instanceof _rooms_decorate_room__WEBPACK_IMPORTED_MODULE_3__[\"DecorateRoom\"]) {\n            this.mJoyStick.offListener();\n        }\n        else {\n            this.mJoyStick.onListener();\n        }\n    };\n    JoyStickManager.prototype.setScene = function (scene) {\n        this.mScene = scene;\n        if (!this.mScene || !this.mKeyEvents)\n            return;\n        var len = this.mKeyEvents.length;\n        var keyEvent;\n        var codes;\n        var eventName;\n        for (var i = 0; i < len; i++) {\n            keyEvent = this.mKeyEvents[i];\n            codes = keyEvent.keyCodes;\n            eventName = keyEvent.tqEvent;\n            if (!this.mKeyEventMap.get(eventName)) {\n                this.mKeyEventMap.set(eventName, keyEvent);\n            }\n        }\n        this.mKeyEvents.length = 0;\n        this.mKeyEvents = null;\n        this.mParentcon = this.mScene.add.container(0, 0); // (150, size.height - 150);\n        var scale = !this.mScale ? 1 : this.mScale;\n        this.mJoyStick = new JoyStick(this.mScene, this.worldService, this.mParentcon, this.mJoyListeners, scale);\n        if (this.mOnListener) {\n            this.mJoyStick.onListener();\n        }\n        else {\n            this.mJoyStick.offListener();\n        }\n    };\n    JoyStickManager.prototype.resize = function () {\n        if (!this.mParentcon)\n            return;\n        this.mParentcon.scaleX = this.mParentcon.scaleY = this.worldService.uiScale;\n        // const size: Size = this.worldService.getSize();\n        // const mainUIMed = this.worldService.uiManager.getMediator(MainUIMediator.NAME) as MainUIMediator;\n        // const padHei: number = !mainUIMed ? this.mParentcon.height : (mainUIMed.getView() as MainUIMobile).getBottomView().height;\n        // if (this.mParentcon) {\n        //     if (this.worldService.game.scale.orientation === Phaser.Scale.Orientation.LANDSCAPE) {\n        //         this.mParentcon.x = this.mParentcon.width * this.worldService.uiScale;\n        //         this.mParentcon.y = size.height - this.mParentcon.height * this.worldService.uiScale;\n        //     } else {\n        //         this.mParentcon.x = this.mParentcon.width * this.worldService.uiScale;\n        //         this.mParentcon.y = size.height - (padHei + this.mParentcon.height) * this.worldService.uiScale;\n        //     }\n        //     this.mParentcon.scaleX = this.mParentcon.scaleY = this.worldService.uiScale;\n        // }\n    };\n    JoyStickManager.prototype.tweenView = function (show) {\n        var toAlpha = show === true ? 1 : 0;\n        this.mParentcon.visible = show;\n        // const size: Size = this.worldService.getSize();\n        // let baseX: number;\n        // let baseY: number;\n        // const mainUIMed = this.worldService.uiManager.getMediator(MainUIMediator.NAME) as MainUIMediator;\n        // const padHei: number = !mainUIMed ? this.mParentcon.height : (mainUIMed.getView() as MainUIMobile).getBottomView().height;\n        // if (this.worldService.game.scale.orientation === Phaser.Scale.Orientation.LANDSCAPE) {\n        //     baseX = this.mParentcon.width * this.worldService.uiScale;\n        //     baseY = size.height - this.mParentcon.height * this.worldService.uiScale;\n        // } else {\n        //     baseX = this.mParentcon.width * this.worldService.uiScale;\n        //     baseY = size.height - (padHei + this.mParentcon.height) * this.worldService.uiScale;\n        // }\n        // const toX: number = show === true ? baseX : baseX - this.mParentcon.width;\n        // const toY: number = baseY;\n        // this.mScene.tweens.add({\n        //     targets: this.mParentcon,\n        //     duration: 200,\n        //     ease: \"Linear\",\n        //     props: {\n        //         x: { value: toX },\n        //         y: { value: toY },\n        //         alpha: { value: toAlpha },\n        //     },\n        // });\n    };\n    JoyStickManager.prototype.addListener = function (l) {\n        this.mJoyListeners.push(l);\n        if (this.mJoyStick) {\n            this.mJoyStick.changeListeners(this.mJoyListeners);\n        }\n    };\n    JoyStickManager.prototype.getKeyCodes = function (eventName) {\n        if (!this.mKeyEventMap.has(eventName))\n            return undefined;\n        var len = this.mKeyEventMap.get(eventName).keyCodes.length;\n        var keyCodes = [];\n        for (var i = 0; i < len; i++) {\n            var keyCode = this.mKeyEventMap.get(eventName).keyCodes[i];\n            keyCodes.push(keyCode);\n        }\n        return keyCodes;\n    };\n    JoyStickManager.prototype.removeListener = function (l) {\n        // this.mJoyStick.removeListener(l);\n        var idx = this.mJoyListeners.indexOf(l);\n        if (idx >= 0) {\n            this.mJoyListeners.splice(idx, 1);\n        }\n        if (this.mJoyStick) {\n            this.mJoyStick.changeListeners(this.mJoyListeners);\n        }\n    };\n    JoyStickManager.prototype.getKeyDowns = function () {\n        return [];\n    };\n    JoyStickManager.prototype.getKeyUps = function () {\n        return [];\n    };\n    JoyStickManager.prototype.downHandler = function () {\n    };\n    JoyStickManager.prototype.upHandler = function () {\n    };\n    Object.defineProperty(JoyStickManager.prototype, \"enable\", {\n        get: function () {\n            return this.mEnabled;\n        },\n        set: function (val) {\n            this.mEnabled = val;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return JoyStickManager;\n}());\n\nvar JoyStick = /** @class */ (function () {\n    function JoyStick(scene, world, parentCon, joyListeners, scale) {\n        this.mDown = false;\n        this.mScene = scene;\n        this.mWorld = world;\n        this.parentCon = parentCon;\n        this.mJoyListeners = joyListeners;\n        this.mScale = scale;\n        this.mKeyCodes = [];\n        this.load();\n    }\n    JoyStick.prototype.load = function () {\n        this.mScene.load.atlas(\"joystick\", \"./resources/ui/joystick/joystick.png\", \"./resources/ui/joystick/joystick.json\");\n        this.mScene.load.once(Phaser.Loader.Events.COMPLETE, this.onLoadCompleteHandler, this);\n        this.mScene.load.start();\n    };\n    JoyStick.prototype.onListener = function () {\n        this.mScene.input.on(\"pointerdown\", this.downHandler, this);\n        this.mScene.input.on(\"pointerup\", this.upHandler, this);\n    };\n    JoyStick.prototype.offListener = function () {\n        this.parentCon.visible = false;\n        this.mScene.input.off(\"pointermove\", this.pointerMove, this);\n        this.mScene.input.off(\"pointerdown\", this.downHandler, this);\n        this.mScene.input.off(\"pointerup\", this.upHandler, this);\n    };\n    JoyStick.prototype.changeListeners = function (list) {\n        this.mJoyListeners = list;\n    };\n    JoyStick.prototype.onLoadCompleteHandler = function () {\n        var size = this.mWorld.getSize();\n        this.bg = this.mScene.make.sprite(undefined, false);\n        this.bg.setTexture(\"joystick\", \"joystick_bg.png\");\n        this.bgRadius = this.bg.width + 100 >> 1;\n        this.btn = this.mScene.make.sprite(undefined, false);\n        this.btn.name = \"joystick_btn\";\n        this.btn.setTexture(\"joystick\", \"joystick_tab.png\");\n        this.btn.x = this.bg.x;\n        this.btn.y = this.bg.y;\n        this.parentCon.alpha = .5;\n        this.parentCon.addAt(this.bg, 0);\n        this.parentCon.addAt(this.btn, 1);\n        this.btn.setInteractive(new Phaser.Geom.Rectangle(0, 0, this.btn.width, this.btn.height), Phaser.Geom.Rectangle.Contains);\n        // this.mScene.input.setDraggable(this.btn);\n        // this.mScene.input.on(\"pointerdown\", this.downHandler, this);\n        // this.mScene.input.on(\"pointerup\", this.upHandler, this);\n        this.parentCon.setSize(this.bg.width, this.bg.height);\n        this.parentCon.visible = false;\n    };\n    // private dragStart(pointer) {\n    //     Logger.getInstance().log(\"dragstart\");\n    //     this.btn.on(\"drag\", this.dragUpdate, this);\n    //     this.btn.off(\"dragstart\", this.dragStart, this);\n    //     this.btn.on(\"dragend\", this.dragStop, this);\n    //     this.btn.on(\"dragcancel\", this.dragStop, this);\n    // }\n    JoyStick.prototype.downHandler = function (pointer, gameojectList) {\n        if (!this.mWorld.inputManager.enable) {\n            return;\n        }\n        if (this.mDown)\n            return;\n        if (gameojectList) {\n            if (gameojectList.length > 1) {\n                return;\n            }\n            else if (gameojectList.length === 1) {\n                if (gameojectList[0].name) {\n                    if (gameojectList[0].name !== \"joystick_btn\") {\n                        return;\n                    }\n                }\n                else {\n                    return;\n                }\n            }\n        }\n        this.mDown = true;\n        this.mScene.input.on(\"pointermove\", this.pointerMove, this);\n        // appUIscale\n        this.parentCon.x = pointer.worldX;\n        this.parentCon.y = pointer.worldY;\n        this.parentCon.visible = true;\n        // this.mScene.input.off(\"pointerdown\", this.downHandler, this);\n        // this.mScene.input.manager.updateInputPlugins(TEMP_CONST.TOUCH_END, [pointer]);\n        // this.btn.on(\"dragstart\", this.dragStart, this);\n        // this.mScene.input.manager.updateInputPlugins(TEMP_CONST.TOUCH_START, [pointer]);\n        // // phaser scenescenescenereturn\n        // // \n        // const play: PlayScene = this.mWorld.game.scene.getScene(PlayScene.name) as PlayScene;\n        // if (play) (play.input as any).update(TEMP_CONST.MOUSE_DOWN, [pointer]);\n    };\n    JoyStick.prototype.pointerMove = function (pointer) {\n        var _this = this;\n        if (!this.mWorld.inputManager.enable) {\n            return;\n        }\n        var dragX = pointer.worldX - this.parentCon.x;\n        var dragY = pointer.worldY - this.parentCon.y;\n        var d = Math.sqrt(dragX * dragX + dragY * dragY);\n        if (d > this.bgRadius) {\n            d = this.bgRadius;\n        }\n        var r = Math.atan2(dragY, dragX);\n        this.btn.x = Math.cos(r) * d;\n        this.btn.y = Math.sin(r) * d;\n        if (!this.mWorld.inputManager.enable) {\n            return;\n        }\n        var radian = Math.acos(dragX / d);\n        if (pointer.worldY > this.parentCon.y) {\n            radian = -radian;\n        }\n        this.mJoyListeners.forEach(function (l) {\n            _this.checkdragDown(l, radian);\n        });\n    };\n    // private dragUpdate(pointer, dragX, dragY) {\n    //     Logger.getInstance().log(\"draging\");\n    //     let d = Math.sqrt(dragX * dragX + dragY * dragY);\n    //     if (d > this.bgRadius) {\n    //         d = this.bgRadius;\n    //     }\n    //     const r = Math.atan2(dragY, dragX);\n    //     this.btn.x = Math.cos(r) * d + this.bg.x;\n    //     this.btn.y = Math.sin(r) * d + this.bg.y;\n    //     if (!(this.mWorld.inputManager as JoyStickManager).enable) {\n    //         return;\n    //     }\n    //     this.mJoyListeners.forEach((l: InputListener) => {\n    //         this.checkdragDown(l, r);\n    //     });\n    // }\n    JoyStick.prototype.upHandler = function (pointer) {\n        var _this = this;\n        this.btn.x = this.bg.x;\n        this.btn.y = this.bg.y;\n        this.mDown = false;\n        this.parentCon.visible = false;\n        this.mScene.input.off(\"pointermove\", this.pointerMove, this);\n        if (!this.mWorld.inputManager.enable) {\n            return;\n        }\n        this.mJoyListeners.forEach(function (l) {\n            if (_this.checkdragUp()) {\n                l.upHandler();\n            }\n        });\n    };\n    JoyStick.prototype.checkdragDown = function (l, r) {\n        var dir;\n        var keyArr = [];\n        var radian = Math.PI * 0.125;\n        if (r > -radian && r <= radian) {\n            dir = _rooms_element_element__WEBPACK_IMPORTED_MODULE_1__[\"Direction\"].east;\n            _utils_log__WEBPACK_IMPORTED_MODULE_0__[\"Logger\"].getInstance().log(\"dir:Direction.east\");\n        }\n        else if (r > radian && r <= 3 * radian) {\n            dir = _rooms_element_element__WEBPACK_IMPORTED_MODULE_1__[\"Direction\"].east_north;\n            _utils_log__WEBPACK_IMPORTED_MODULE_0__[\"Logger\"].getInstance().log(\"dir:Direction.east_north\");\n        }\n        else if (r > 3 * radian && r <= 5 * radian) {\n            dir = _rooms_element_element__WEBPACK_IMPORTED_MODULE_1__[\"Direction\"].north;\n            _utils_log__WEBPACK_IMPORTED_MODULE_0__[\"Logger\"].getInstance().log(\"dir:Direction.north\");\n        }\n        else if (r > 5 * radian && r <= 7 * radian) {\n            dir = _rooms_element_element__WEBPACK_IMPORTED_MODULE_1__[\"Direction\"].north_west;\n            _utils_log__WEBPACK_IMPORTED_MODULE_0__[\"Logger\"].getInstance().log(\"dir:Direction.nroth_west\");\n        }\n        else if ((r >= 7 * radian && r <= Math.PI) || (r >= -Math.PI && r < -7 * radian)) {\n            dir = _rooms_element_element__WEBPACK_IMPORTED_MODULE_1__[\"Direction\"].west;\n            _utils_log__WEBPACK_IMPORTED_MODULE_0__[\"Logger\"].getInstance().log(\"dir:Direction.west\");\n        }\n        else if (r < -5 * radian && r >= -7 * radian) {\n            dir = _rooms_element_element__WEBPACK_IMPORTED_MODULE_1__[\"Direction\"].west_south;\n            _utils_log__WEBPACK_IMPORTED_MODULE_0__[\"Logger\"].getInstance().log(\"dir:Direction.west_south\");\n        }\n        else if (r > -5 * radian && r <= -3 * radian) {\n            dir = _rooms_element_element__WEBPACK_IMPORTED_MODULE_1__[\"Direction\"].south;\n            _utils_log__WEBPACK_IMPORTED_MODULE_0__[\"Logger\"].getInstance().log(\"dir:Direction.south\");\n        }\n        else if (r > -3 * radian && r <= -radian) {\n            dir = _rooms_element_element__WEBPACK_IMPORTED_MODULE_1__[\"Direction\"].south_east;\n            _utils_log__WEBPACK_IMPORTED_MODULE_0__[\"Logger\"].getInstance().log(\"dir:Direction.south_east\");\n        }\n        if (dir === undefined) {\n            return;\n        }\n        keyArr = this.getKeys(dir);\n        if (this.mdownStr === keyArr.toString())\n            return false;\n        this.mdownStr = keyArr.toString();\n        l.downHandler(dir, keyArr);\n        // if (!(this.mWorld.inputManager as JoyStickManager).enable) {\n        //     return false;\n        // }\n        this.mWorld.roomManager.currentRoom.playerManager.actor.setDirection(dir);\n        return true;\n    };\n    JoyStick.prototype.getKeys = function (dir) {\n        var keyArr = this.mKeyCodes[dir];\n        if (keyArr) {\n            return keyArr;\n        }\n        switch (dir) {\n            case 0:\n                keyArr = this.mWorld.inputManager.getKeyCodes(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].TQ_EVENT.TQ_MOVE_UP);\n                break;\n            case 1:\n                keyArr = Array.prototype.concat.apply(this.mWorld.inputManager.getKeyCodes(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].TQ_EVENT.TQ_MOVE_UP).concat, this.mWorld.inputManager.getKeyCodes(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].TQ_EVENT.TQ_MOVE_LEFT));\n                break;\n            case 2:\n                keyArr = this.mWorld.inputManager.getKeyCodes(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].TQ_EVENT.TQ_MOVE_LEFT);\n                break;\n            case 3:\n                keyArr = Array.prototype.concat.apply(this.mWorld.inputManager.getKeyCodes(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].TQ_EVENT.TQ_MOVE_DOWN), this.mWorld.inputManager.getKeyCodes(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].TQ_EVENT.TQ_MOVE_LEFT));\n                break;\n            case 4:\n                keyArr = this.mWorld.inputManager.getKeyCodes(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].TQ_EVENT.TQ_MOVE_DOWN);\n                break;\n            case 5:\n                keyArr = Array.prototype.concat.apply(this.mWorld.inputManager.getKeyCodes(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].TQ_EVENT.TQ_MOVE_DOWN), this.mWorld.inputManager.getKeyCodes(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].TQ_EVENT.TQ_MOVE_RIGHT));\n                break;\n            case 6:\n                keyArr = this.mWorld.inputManager.getKeyCodes(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].TQ_EVENT.TQ_MOVE_RIGHT);\n                break;\n            case 7:\n                keyArr = Array.prototype.concat.apply(this.mWorld.inputManager.getKeyCodes(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].TQ_EVENT.TQ_MOVE_UP), this.mWorld.inputManager.getKeyCodes(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].TQ_EVENT.TQ_MOVE_RIGHT));\n                break;\n        }\n        this.mKeyCodes[dir] = keyArr;\n        return keyArr;\n    };\n    JoyStick.prototype.checkdragUp = function () {\n        this.mdownStr = \"\";\n        return true;\n    };\n    return JoyStick;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/game/joystick.manager.ts?");

/***/ }),

/***/ "./src/game/keyboard.manager.ts":
/*!**************************************!*\
  !*** ./src/game/keyboard.manager.ts ***!
  \**************************************/
/*! exports provided: KeyBoardManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"KeyBoardManager\", function() { return KeyBoardManager; });\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar KeyBoardManager = /** @class */ (function (_super) {\n    __extends(KeyBoardManager, _super);\n    function KeyBoardManager(worldService, keyEvents) {\n        var _this = _super.call(this) || this;\n        _this.worldService = worldService;\n        // key\n        _this.mInitilized = true;\n        // key\n        _this.mKeyboardListeners = [];\n        // this.mCodeList = [37, 38, 39, 40, 65, 87, 68, 83];\n        _this.mKeyList = [];\n        _this.mKeyDownList = [];\n        _this.mKeyEvents = keyEvents;\n        _this.mTmpUpKeysStr = \"\";\n        _this.mTmpDownKeyStr = \"\";\n        _this.mKeyEventMap = new Map();\n        _this.mConnect = _this.worldService.connection;\n        return _this;\n    }\n    /**\n     * worldscenescene\n     * roomworld/\n     */\n    KeyBoardManager.prototype.onRoomChanged = function (currentRoom, previousRoom) {\n        var _this = this;\n        this.mRoom = currentRoom;\n        this.mScene = currentRoom.scene;\n        if (!this.mScene)\n            return;\n        if (this.mKeyEvents) {\n            var len = this.mKeyEvents.length;\n            var keyEvent = void 0;\n            var codes = void 0;\n            var eventName = void 0;\n            for (var i = 0; i < len; i++) {\n                keyEvent = this.mKeyEvents[i];\n                codes = keyEvent.keyCodes;\n                eventName = keyEvent.tqEvent;\n                if (!this.mKeyEventMap.get(eventName)) {\n                    this.mKeyEventMap.set(eventName, keyEvent);\n                }\n            }\n            this.mKeyEvents.length = 0;\n            this.mKeyEvents = null;\n        }\n        // \n        // this.removeKeyEvents();\n        this.mKeyEventMap.forEach(function (keyCodeEvent) {\n            if (keyCodeEvent) {\n                var keyCodes = keyCodeEvent.keyCodes;\n                var codesLen = keyCodes.length;\n                var keyCode = void 0;\n                for (var i = 0; i < codesLen; i++) {\n                    keyCode = keyCodes[i];\n                    var key = _this.mScene.input.keyboard.addKey(keyCode, false);\n                    _this.addKeyEvent(key, keyCodeEvent.tqEvent);\n                }\n            }\n        });\n    };\n    KeyBoardManager.prototype.getKeyCodes = function (eventName) {\n        if (!this.mKeyEventMap.has(eventName))\n            return undefined;\n        return this.mKeyEventMap.get(eventName).keyCodes;\n    };\n    KeyBoardManager.prototype.resize = function (width, height) {\n    };\n    KeyBoardManager.prototype.addListener = function (l) {\n        this.mKeyboardListeners.push(l);\n    };\n    KeyBoardManager.prototype.removeListener = function (l) {\n        var idx = this.mKeyboardListeners.indexOf(l);\n        if (idx >= 0) {\n            this.mKeyboardListeners.splice(idx, 1);\n        }\n    };\n    Object.defineProperty(KeyBoardManager.prototype, \"enable\", {\n        get: function () {\n            return this.mScene !== undefined ? this.mScene.input.keyboard.enabled : false;\n        },\n        /**\n         * \n         */\n        set: function (value) {\n            if (!this.mScene)\n                return;\n            this.mScene.input.keyboard.enabled = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(KeyBoardManager.prototype, \"keyList\", {\n        get: function () {\n            return this.mKeyList;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    KeyBoardManager.prototype.getKeyDowns = function () {\n        // let keyCodes: number[] = [];\n        if (!this.mInitilized) {\n            return [];\n        }\n        if (!this.mKeyList) {\n            return [];\n        }\n        this.mKeyDownList = this.mKeyList.filter(function (keyDown) { return keyDown.isDown; });\n        return this.mKeyDownList.map(function (key) { return key.keyCode; });\n    };\n    KeyBoardManager.prototype.getKeyUps = function () {\n        // keyDown\n        var keyCodes = [];\n        if (!this.mInitilized) {\n            return keyCodes;\n        }\n        if (!this.mKeyDownList) {\n            return [];\n        }\n        var key;\n        for (var i = 0; i < this.mKeyDownList.length; i++) {\n            key = this.mKeyDownList[i];\n            if (key && key.isUp) {\n                this.mKeyDownList.splice(i, 1);\n                keyCodes.push(key.keyCode);\n                i--;\n            }\n        }\n        // this.mKeyDownList = this.mKeyDownList.filter((keyDown) => keyDown.isDown);\n        return keyCodes;\n    };\n    KeyBoardManager.prototype.destroy = function () {\n        this.removeKeyEvents();\n        if (this.mKeyDownList) {\n            this.mKeyDownList.length = 0;\n            this.mKeyDownList = null;\n        }\n        // if (this.mCodeList) {\n        //     this.mCodeList.length = 0;\n        //     this.mCodeList = null;\n        // }\n        this.mTmpDownKeyStr = null;\n        this.mTmpUpKeysStr = null;\n        this.mScene = null;\n        this.mConnect = null;\n        this.mInitilized = false;\n    };\n    KeyBoardManager.prototype.concatArr = function (arr1, arr2) {\n        var i;\n        var len = arr1.length > arr2.length ? arr2.length : arr1.length;\n        var parentList = arr1.length > arr2.length ? arr1 : arr2;\n        var sonList = arr1.length > arr2.length ? arr2 : arr1;\n        for (i = 0; i < len; i++) {\n            parentList.push(sonList[i]);\n        }\n        return parentList;\n    };\n    KeyBoardManager.prototype.checkMoveKeyDown = function (l) {\n        var key;\n        var keyList = this.mKeyList;\n        var len = keyList.length;\n        var keyCodeList = [];\n        var keyCode;\n        var outPut = 0;\n        var keyLeftArr = this.getKeyCodes(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].TQ_EVENT.TQ_MOVE_LEFT);\n        var keyDownArr = this.getKeyCodes(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].TQ_EVENT.TQ_MOVE_DOWN);\n        var keyRightArr = this.getKeyCodes(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].TQ_EVENT.TQ_MOVE_RIGHT);\n        var keyUpArr = this.getKeyCodes(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].TQ_EVENT.TQ_MOVE_UP);\n        for (var i = 0; i < len; i++) {\n            key = keyList[i];\n            keyCode = key.keyCode;\n            if (key && key.isDown) {\n                keyCodeList.push(key.keyCode);\n                if (keyLeftArr) {\n                    var left = keyLeftArr.indexOf(keyCode);\n                    if (left > -1) {\n                        outPut += -1;\n                        continue;\n                    }\n                }\n                if (keyRightArr) {\n                    var right = keyRightArr.indexOf(keyCode);\n                    if (right > -1) {\n                        outPut += 1;\n                        continue;\n                    }\n                }\n                if (keyDownArr) {\n                    var down = keyDownArr.indexOf(keyCode);\n                    if (down > -1) {\n                        outPut += 3;\n                        continue;\n                    }\n                }\n                if (keyUpArr) {\n                    var up = keyUpArr.indexOf(keyCode);\n                    if (up > -1) {\n                        outPut += -3;\n                        continue;\n                    }\n                }\n            }\n        }\n        if (outPut === 0) {\n            return false;\n        }\n        var curDir = l.getDirection();\n        var newDir;\n        switch (outPut) {\n            case -1:\n                newDir = curDir <= 1 ? 1 : 3;\n                break;\n            case -2:\n                newDir = 7;\n                break;\n            case -3:\n                newDir = curDir <= 3 ? 1 : 7;\n                break;\n            case -4:\n                newDir = 1;\n                break;\n            case 1:\n                newDir = curDir <= 5 ? 5 : 7;\n                break;\n            case 2:\n                newDir = 3;\n                break;\n            case 3:\n                newDir = curDir <= 3 ? 3 : 5;\n                break;\n            case 4:\n                newDir = 5;\n                break;\n        }\n        if (this.enable) {\n            l.setDirection(newDir);\n            l.downHandler(newDir, keyCodeList);\n            if (this.mRoom && this.mRoom.playerManager.actor)\n                this.mRoom.playerManager.actor.setDirection(newDir);\n        }\n        return true;\n    };\n    KeyBoardManager.prototype.checkMoveKeyAllUp = function () {\n        var key;\n        var keyList = this.mKeyList;\n        var len = keyList.length;\n        for (var i = 0; i < len; i++) {\n            key = keyList[i];\n            if (key && key.isDown) {\n                return false;\n            }\n        }\n        return true;\n    };\n    KeyBoardManager.prototype.addKeyEvent = function (key, eventName) {\n        key.on(\"down\", this.keyDownHandle, this);\n        key.on(\"up\", this.keyUpHandle, this);\n        this.mKeyList.push(key);\n    };\n    KeyBoardManager.prototype.keyDownHandle = function (e) {\n        var _this = this;\n        if (!this.enable) {\n            return;\n        }\n        var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_GATEWAY_KEYBOARD_DOWN);\n        var content = pkt.content;\n        var keyArr = this.getKeyDowns();\n        if (this.mTmpDownKeyStr === keyArr.toString())\n            return;\n        this.mTmpUpKeysStr = \"\";\n        this.mTmpDownKeyStr = keyArr.toString();\n        content.keyCodes = keyArr;\n        this.mConnect.send(pkt);\n        // then trigger listener\n        this.mKeyboardListeners.forEach(function (l) {\n            _this.checkMoveKeyDown(l);\n        });\n    };\n    KeyBoardManager.prototype.keyUpHandle = function (e) {\n        var _this = this;\n        if (!this.enable) {\n            return;\n        }\n        var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_GATEWAY_KEYBOARD_UP);\n        var content = pkt.content;\n        var keyArr = this.getKeyUps();\n        if (this.mTmpUpKeysStr === keyArr.toString() || keyArr.length < 1)\n            return;\n        this.mTmpDownKeyStr = \"\";\n        this.mTmpUpKeysStr = keyArr.toString();\n        content.keyCodes = keyArr;\n        this.mConnect.send(pkt);\n        // then trigger listener\n        this.mKeyboardListeners.forEach(function (l) {\n            if (_this.checkMoveKeyAllUp()) {\n                l.upHandler();\n                return;\n            }\n            _this.checkMoveKeyDown(l);\n        });\n    };\n    KeyBoardManager.prototype.removeKeyEvents = function () {\n        if (!this.mScene)\n            return;\n        var key;\n        var len = this.mKeyList.length;\n        for (var i = 0; i < len; i++) {\n            key = this.mKeyList[i];\n            if (!key) {\n                continue;\n            }\n            key.off(\"down\", this.keyDownHandle);\n            key.off(\"up\", this.keyUpHandle);\n            this.mScene.input.keyboard.removeKey(key.keyCode);\n        }\n        this.mKeyList.length = 0;\n        // this.mKeyList = null;\n    };\n    return KeyBoardManager;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PacketHandler\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/game/keyboard.manager.ts?");

/***/ }),

/***/ "./src/game/mouse.manager.ts":
/*!***********************************!*\
  !*** ./src/game/mouse.manager.ts ***!
  \***********************************/
/*! exports provided: MouseEvent, MouseManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MouseEvent\", function() { return MouseEvent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MouseManager\", function() { return MouseManager; });\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _const_MessageType__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../const/MessageType */ \"./src/const/MessageType.ts\");\n/* harmony import */ var _rooms_display_frames_display__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../rooms/display/frames.display */ \"./src/rooms/display/frames.display.ts\");\n/* harmony import */ var _rooms_element_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../rooms/element/element */ \"./src/rooms/element/element.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar MouseEvent;\n(function (MouseEvent) {\n    MouseEvent[MouseEvent[\"RightMouseDown\"] = 1] = \"RightMouseDown\";\n    MouseEvent[MouseEvent[\"RightMouseUp\"] = 2] = \"RightMouseUp\";\n    MouseEvent[MouseEvent[\"LeftMouseDown\"] = 3] = \"LeftMouseDown\";\n    MouseEvent[MouseEvent[\"LeftMouseUp\"] = 4] = \"LeftMouseUp\";\n    MouseEvent[MouseEvent[\"WheelDown\"] = 5] = \"WheelDown\";\n    MouseEvent[MouseEvent[\"WheelUp\"] = 6] = \"WheelUp\";\n    MouseEvent[MouseEvent[\"RightMouseHolding\"] = 7] = \"RightMouseHolding\";\n    MouseEvent[MouseEvent[\"LeftMouseHolding\"] = 8] = \"LeftMouseHolding\";\n    MouseEvent[MouseEvent[\"Tap\"] = 9] = \"Tap\";\n})(MouseEvent || (MouseEvent = {}));\nvar MouseManager = /** @class */ (function (_super) {\n    __extends(MouseManager, _super);\n    function MouseManager(worldService) {\n        var _this = _super.call(this) || this;\n        _this.worldService = worldService;\n        _this.running = false;\n        _this.mDownDelay = 2000;\n        _this.mGame = worldService.game;\n        _this.zoom = _this.worldService.scaleRatio || 1;\n        _this.mConnect = _this.worldService.connection;\n        return _this;\n    }\n    MouseManager.prototype.changeRoom = function (room) {\n        this.pause();\n        this.mScene = room.scene;\n        this.mRoom = room;\n        if (!this.mScene)\n            return;\n        try {\n            room.addMouseListen();\n        }\n        catch (e) {\n        }\n        room.scene.input.on(\"gameobjectdown\", this.groundDown, this);\n        // room.scene.input.on(\"gameobjectup\", this.groundUp, this);\n        room.scene.input.on(\"pointerdown\", this.pointerDownHandler, this);\n        room.scene.input.on(\"pointerup\", this.onPointerUpHandler, this);\n        this.resume();\n    };\n    MouseManager.prototype.resize = function (width, height) {\n    };\n    MouseManager.prototype.pause = function () {\n        this.running = false;\n    };\n    MouseManager.prototype.resume = function () {\n        this.running = true;\n    };\n    MouseManager.prototype.onUpdate = function (pointer, gameobject) {\n        if (this.running === false || pointer === undefined) {\n            return;\n        }\n        var events = [];\n        if (pointer.leftButtonDown()) {\n            events.push(MouseEvent.LeftMouseDown);\n        }\n        else if (pointer.leftButtonReleased()) {\n            events.push(MouseEvent.LeftMouseUp);\n        }\n        if (pointer.middleButtonDown()) {\n            events.push(MouseEvent.WheelDown);\n        }\n        else if (pointer.middleButtonReleased()) {\n            events.push(MouseEvent.WheelUp);\n        }\n        if (pointer.rightButtonDown()) {\n            events.push(MouseEvent.RightMouseDown);\n        }\n        else if (pointer.rightButtonReleased()) {\n            events.push(MouseEvent.RightMouseUp);\n        }\n        var id = 0;\n        var com = null;\n        if (gameobject && gameobject.parentContainer) {\n            id = gameobject.parentContainer.getData(\"id\");\n            // TODO \n            com = gameobject.parentContainer.parentContainer || gameobject.parentContainer;\n        }\n        if (pointer.isDown === false) {\n            var diffX = Math.abs(pointer.downX - pointer.upX);\n            var diffY = Math.abs(pointer.downY - pointer.upY);\n            if (diffX < 10 && diffY < 10) {\n                // events.push(MouseEvent.Tap);\n                this.worldService.emitter.emit(\"Tap\", pointer, gameobject);\n                if (pointer.isDown === false) {\n                    if (com instanceof _rooms_display_frames_display__WEBPACK_IMPORTED_MODULE_3__[\"FramesDisplay\"]) {\n                        // com.element.scaleTween();\n                        var ele = com.element;\n                        if (ele instanceof _rooms_element_element__WEBPACK_IMPORTED_MODULE_4__[\"Element\"]) {\n                            com.scaleTween();\n                        }\n                    }\n                }\n            }\n        }\n        if (events.length === 0) {\n            return;\n        }\n        var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_MOUSE_EVENT);\n        var content = pkt.content;\n        content.id = id;\n        content.mouseEvent = events;\n        content.point3f = { x: pointer.worldX / this.zoom, y: pointer.worldY / this.zoom };\n        this.mConnect.send(pkt);\n    };\n    Object.defineProperty(MouseManager.prototype, \"enable\", {\n        get: function () {\n            if (this.mScene) {\n                return this.mScene.input.mouse.enabled;\n            }\n            return false;\n        },\n        /**\n         * \n         */\n        set: function (value) {\n            if (this.mScene) {\n                this.mScene.input.mouse.enabled = value;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    MouseManager.prototype.destroy = function () {\n        this.mScene = null;\n        this.mConnect = null;\n        this.mGroundLayer = null;\n        this.running = false;\n    };\n    MouseManager.prototype.groundDown = function (pointer, gameObject) {\n        var _this = this;\n        this.mGameObject = gameObject;\n        this.mDownTime = setTimeout(function () {\n            _this.worldService.emitter.emit(_const_MessageType__WEBPACK_IMPORTED_MODULE_2__[\"MessageType\"].PRESS_ELEMENT, pointer, gameObject);\n        }, this.mDownDelay);\n    };\n    MouseManager.prototype.groundUp = function (pointer, gameObject) {\n        // this.mGameObject = null;\n        this.onUpdate(pointer, gameObject);\n    };\n    MouseManager.prototype.pointerDownHandler = function (pointer, gameobject) {\n        if (this.worldService) {\n            if (this.worldService.emitter) {\n                this.worldService.emitter.emit(_const_MessageType__WEBPACK_IMPORTED_MODULE_2__[\"MessageType\"].SCENE_BACKGROUND_CLICK, pointer);\n            }\n        }\n        this.onUpdate(pointer, this.mGameObject);\n    };\n    MouseManager.prototype.onPointerUpHandler = function (pointer) {\n        clearTimeout(this.mDownTime);\n        this.onUpdate(pointer, this.mGameObject);\n        this.mGameObject = null;\n    };\n    return MouseManager;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PacketHandler\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/game/mouse.manager.ts?");

/***/ }),

/***/ "./src/game/sound.manager.ts":
/*!***********************************!*\
  !*** ./src/game/sound.manager.ts ***!
  \***********************************/
/*! exports provided: SoundField, SoundManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SoundField\", function() { return SoundField; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SoundManager\", function() { return SoundManager; });\n/* harmony import */ var _utils_log__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/log */ \"./src/utils/log.ts\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/resUtil */ \"./src/utils/resUtil.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar SoundField;\n(function (SoundField) {\n    SoundField[SoundField[\"Background\"] = 0] = \"Background\";\n    SoundField[SoundField[\"Element\"] = 1] = \"Element\";\n    SoundField[SoundField[\"Effect\"] = 2] = \"Effect\";\n})(SoundField || (SoundField = {}));\nvar SoundManager = /** @class */ (function (_super) {\n    __extends(SoundManager, _super);\n    function SoundManager(world) {\n        var _this = _super.call(this) || this;\n        _this.world = world;\n        return _this;\n    }\n    SoundManager.prototype.addPackListener = function () {\n        var connection = this.world.connection;\n        if (connection) {\n            connection.addPacketListener(this);\n            this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_SOUND_CTL, this.onPlaySoundHandler);\n        }\n    };\n    SoundManager.prototype.removePacketListener = function () {\n        var connection = this.world.connection;\n        if (connection) {\n            connection.removePacketListener(this);\n        }\n    };\n    SoundManager.prototype.changeRoom = function (room) {\n        if (this.mSoundMap) {\n            this.mSoundMap.clear();\n        }\n        this.mSoundMap = new Map();\n        this.mScene = room.scene;\n    };\n    SoundManager.prototype.play = function (config) {\n        if (!this.mScene) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_0__[\"Logger\"].getInstance().fatal(SoundManager.name + \" scene does not exist. play \" + config.key + \" fatal\");\n            return;\n        }\n        var key = config.key;\n        if (!key) {\n            if (Array.isArray(config.urls)) {\n                key = config.urls.join(\"\");\n            }\n            else {\n                key = config.urls;\n            }\n        }\n        var field = config.field || SoundField.Background;\n        var sound = this.mSoundMap.get(field);\n        if (!sound) {\n            sound = new Sound(this.mScene);\n            this.mSoundMap.set(field, sound);\n        }\n        // sound.play(key);\n        sound.play(key, config.urls, config.soundConfig);\n    };\n    SoundManager.prototype.stop = function (field) {\n        if (!this.mScene) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_0__[\"Logger\"].getInstance().fatal(SoundManager.name + \" scene does not exist,can't stop\");\n            return;\n        }\n        var sound = this.mSoundMap.get(field);\n        if (!sound) {\n            return;\n        }\n        sound.stop();\n    };\n    SoundManager.prototype.pause = function (field) {\n        if (!this.mScene) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_0__[\"Logger\"].getInstance().fatal(SoundManager.name + \" scene does not exist,can't pause\");\n            return;\n        }\n        var sound = this.mSoundMap.get(field);\n        if (!sound) {\n            return;\n        }\n        sound.pause();\n    };\n    SoundManager.prototype.resumes = function (field) {\n        if (!this.mScene) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_0__[\"Logger\"].getInstance().fatal(SoundManager.name + \" scene does not exist,can't resume\");\n            return;\n        }\n        var sound = this.mSoundMap.get(field);\n        if (!sound) {\n            return;\n        }\n        sound.resume();\n    };\n    SoundManager.prototype.stopAll = function () {\n        if (!this.mScene) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_0__[\"Logger\"].getInstance().fatal(SoundManager.name + \" scene does not exist,can't stopAll\");\n            return;\n        }\n        this.mSoundMap.forEach(function (sound) { if (sound)\n            sound.stop(); });\n    };\n    SoundManager.prototype.pauseAll = function () {\n        if (!this.mScene) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_0__[\"Logger\"].getInstance().fatal(SoundManager.name + \" scene does not exist,can't pauseAll\");\n            return;\n        }\n        this.mSoundMap.forEach(function (sound) { if (sound)\n            sound.pause(); });\n    };\n    SoundManager.prototype.resume = function () {\n        if (!this.mScene) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_0__[\"Logger\"].getInstance().fatal(SoundManager.name + \" scene does not exist,can't resumeAll\");\n            return;\n        }\n        this.mSoundMap.forEach(function (sound) { if (sound)\n            sound.resume(); });\n    };\n    SoundManager.prototype.destroy = function () {\n        if (this.mSoundMap) {\n            this.mSoundMap.forEach(function (sound) { if (sound)\n                sound.destroy(); });\n            this.mSoundMap.clear();\n            this.mSoundMap = undefined;\n        }\n        this.removePacketListener();\n    };\n    SoundManager.prototype.onPlaySoundHandler = function (packet) {\n        var content = packet.content;\n        if (content.loop === undefined) {\n            content.loop = true;\n        }\n        // TODO\n        this.play({\n            key: content.soundKey,\n            urls: _utils_resUtil__WEBPACK_IMPORTED_MODULE_3__[\"Url\"].getOsdRes(content.soundKey),\n            field: content.scope,\n            soundConfig: { loop: content.loop }\n        });\n    };\n    return SoundManager;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_1__[\"PacketHandler\"]));\n\nvar Sound = /** @class */ (function () {\n    function Sound(scene) {\n        this.scene = scene;\n    }\n    Sound.prototype.sound = function () {\n        return this.mSound;\n    };\n    Sound.prototype.play = function (key, urls, soundConfig) {\n        if (!this.scene) {\n            return;\n        }\n        if (this.mSound && this.mSound.key === key) {\n            if (this.mSound.isPlaying)\n                return;\n            this.mSound.play();\n            return;\n        }\n        this.mKey = key;\n        if (this.scene.cache.audio.exists(key)) {\n            this.startPlay();\n        }\n        else {\n            if (!urls) {\n                return;\n            }\n            this.scene.load.once(\"filecomplete-audio-\" + key, this.onSoundCompleteHandler, this);\n            this.scene.load.audio(key, urls);\n            this.scene.load.start();\n        }\n    };\n    Sound.prototype.pause = function () {\n        if (!this.scene) {\n            return;\n        }\n        if (this.mSound) {\n            if (this.mSound.isPaused)\n                return;\n            this.mSound.pause();\n            return;\n        }\n    };\n    Sound.prototype.stop = function () {\n        if (!this.scene) {\n            return;\n        }\n        if (this.mSound) {\n            if (!this.mSound.isPlaying)\n                return;\n            this.mSound.stop();\n            return;\n        }\n    };\n    Sound.prototype.resume = function () {\n        if (!this.scene) {\n            return;\n        }\n        if (this.mSound) {\n            if (!this.mSound.isPaused)\n                return;\n            this.mSound.resume();\n            return;\n        }\n    };\n    Sound.prototype.destroy = function () {\n        if (this.mSound) {\n            this.mSound.stop();\n            this.mSound.destroy();\n            this.mSound = undefined;\n        }\n    };\n    Sound.prototype.onSoundCompleteHandler = function () {\n        this.startPlay();\n    };\n    Sound.prototype.startPlay = function () {\n        if (this.mSound) {\n            this.mSound.stop();\n            this.mSound.destroy();\n        }\n        this.mSound = this.scene.sound.add(this.mKey);\n        this.mSound.play();\n    };\n    return Sound;\n}());\n\n\n//# sourceURL=webpack://TooqingCore/./src/game/sound.manager.ts?");

/***/ }),

/***/ "./src/game/world.ts":
/*!***************************!*\
  !*** ./src/game/world.ts ***!
  \***************************/
/*! exports provided: World */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(__dirname) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"World\", function() { return World; });\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! phaser */ \"./node_modules/phaser/dist/phaser.js-exposed\");\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(phaser__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var dragonBones__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dragonBones */ \"./lib/dragonBones/dragonBones.js-exposed\");\n/* harmony import */ var dragonBones__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dragonBones__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _net_connection__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../net/connection */ \"./src/net/connection.ts\");\n/* harmony import */ var _utils_log__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/log */ \"./src/utils/log.ts\");\n/* harmony import */ var _rooms_room_manager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../rooms/room.manager */ \"./src/rooms/room.manager.ts\");\n/* harmony import */ var _keyboard_manager__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./keyboard.manager */ \"./src/game/keyboard.manager.ts\");\n/* harmony import */ var _mouse_manager__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./mouse.manager */ \"./src/game/mouse.manager.ts\");\n/* harmony import */ var _joystick_manager__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./joystick.manager */ \"./src/game/joystick.manager.ts\");\n/* harmony import */ var _element_storage__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./element.storage */ \"./src/game/element.storage.ts\");\n/* harmony import */ var _utils_http__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../utils/http */ \"./src/utils/http.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var game_capsule__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! game-capsule */ \"./node_modules/game-capsule/dist/index.js\");\n/* harmony import */ var game_capsule__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(game_capsule__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _ui_ui_manager__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../ui/ui.manager */ \"./src/ui/ui.manager.ts\");\n/* harmony import */ var _lib_rexui_lib_plugins_ninepatch_plugin_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../lib/rexui/lib/plugins/ninepatch-plugin.js */ \"./lib/rexui/lib/plugins/ninepatch-plugin.js\");\n/* harmony import */ var _lib_rexui_lib_plugins_inputtext_plugin_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../lib/rexui/lib/plugins/inputtext-plugin.js */ \"./lib/rexui/lib/plugins/inputtext-plugin.js\");\n/* harmony import */ var _lib_rexui_lib_plugins_bbcodetext_plugin_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../lib/rexui/lib/plugins/bbcodetext-plugin.js */ \"./lib/rexui/lib/plugins/bbcodetext-plugin.js\");\n/* harmony import */ var _lib_rexui_lib_plugins_button_plugin_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../lib/rexui/lib/plugins/button-plugin.js */ \"./lib/rexui/lib/plugins/button-plugin.js\");\n/* harmony import */ var _lib_rexui_lib_ui_ui_plugin_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../lib/rexui/lib/ui/ui-plugin.js */ \"./lib/rexui/lib/ui/ui-plugin.js\");\n/* harmony import */ var _scenes_login__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../scenes/login */ \"./src/scenes/login.ts\");\n/* harmony import */ var _account__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./account */ \"./src/game/account.ts\");\n/* harmony import */ var _net_http_service__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../net/http.service */ \"./src/net/http.service.ts\");\n/* harmony import */ var _scenes_gamepause__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../scenes/gamepause */ \"./src/scenes/gamepause.ts\");\n/* harmony import */ var _rooms_clock__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../rooms/clock */ \"./src/rooms/clock.ts\");\n/* harmony import */ var _role_role_manager__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../role/role.manager */ \"./src/role/role.manager.ts\");\n/* harmony import */ var _i18n__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../i18n */ \"./src/i18n.ts\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! path */ \"./node_modules/path-browserify/index.js\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_27___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_27__);\n/* harmony import */ var _utils_tool__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../utils/tool */ \"./src/utils/tool.ts\");\n/* harmony import */ var _sound_manager__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./sound.manager */ \"./src/game/sound.manager.ts\");\n/* harmony import */ var _loading_loading_manager__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../loading/loading.manager */ \"./src/loading/loading.manager.ts\");\n/* harmony import */ var _rooms_http_clock__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../rooms/http.clock */ \"./src/rooms/http.clock.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// The World act as the global Phaser.World instance;\nvar World = /** @class */ (function (_super) {\n    __extends(World, _super);\n    function World(config, callBack) {\n        var _this = _super.call(this) || this;\n        _this.DEFAULT_WIDTH = 360;\n        _this.DEFAULT_HEIGHT = 640;\n        _this.mMoveStyle = 1;\n        _this.isFullStart = false;\n        _this.mOrientation = 0;\n        _this.gameConfigUrls = new Map();\n        _this.gameConfigUrl = \"\";\n        _this._isIOS = -1;\n        // \n        _this.focusoutFunc = function () {\n            // isIOS\n            if (_this.game && _this.game.device.os.iOS) {\n                window.scrollTo(0, 0);\n            }\n        };\n        _this.mCallBack = callBack;\n        _this.mConfig = config;\n        // TODO config.\n        if (!config.game_id) {\n            throw new Error(\"Config.game_id is required.\");\n        }\n        if (!config.devicePixelRatio) {\n            config.devicePixelRatio = window.devicePixelRatio || 1;\n        }\n        if (config.width === undefined) {\n            config.width = window.innerWidth;\n        }\n        if (config.height === undefined) {\n            config.height = window.innerHeight;\n        }\n        _this.mScaleRatio = Math.ceil(config.devicePixelRatio || 1);\n        _this.mUIRatio = Math.round(config.devicePixelRatio || 1);\n        var scaleW = (config.width / _this.DEFAULT_WIDTH) * (config.devicePixelRatio / _this.mUIRatio);\n        // const scaleH = config.height / this.DEFAULT_HEIGHT;\n        _this.mUIScale = scaleW;\n        // if (!config.scale_ratio) {\n        // config.scale_ratio = Math.round(window.innerWidth / this.DEFAULT_WIDTH * window.devicePixelRatio);\n        // }\n        // this.mScaleRatio = config.scale_ratio ? config.scale_ratio : window.innerWidth / this.DEFAULT_WIDTH * window.devicePixelRatio;\n        _utils_resUtil__WEBPACK_IMPORTED_MODULE_12__[\"Url\"].OSD_PATH = _this.mConfig.osd || \"https://osd-alpha.tooqing.com/\";\n        _utils_resUtil__WEBPACK_IMPORTED_MODULE_12__[\"Url\"].RES_PATH = \"./resources/\";\n        _utils_resUtil__WEBPACK_IMPORTED_MODULE_12__[\"Url\"].RESUI_PATH = \"./resources/ui/\";\n        _this._newGame();\n        _this.mConnection = config.connection || new _net_connection__WEBPACK_IMPORTED_MODULE_4__[\"default\"](_this);\n        _this.mConnection.addPacketListener(_this);\n        _this.mClock = new _rooms_clock__WEBPACK_IMPORTED_MODULE_24__[\"Clock\"](_this.mConnection, _this);\n        _this.mHttpClock = new _rooms_http_clock__WEBPACK_IMPORTED_MODULE_31__[\"HttpClock\"](_this);\n        // add Packet listener.\n        _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_3__[\"op_client\"].OPCODE._OP_GATEWAY_RES_CLIENT_VIRTUAL_WORLD_INIT, _this.onInitVirtualWorldPlayerInit);\n        _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_3__[\"op_client\"].OPCODE._OP_GATEWAY_RES_CLIENT_ERROR, _this.onClientErrorHandler);\n        _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_3__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_SELECT_CHARACTER, _this.onSelectCharacter);\n        _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_3__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_REQ_CLIENT_GOTO_ANOTHER_GAME, _this.onGotoAnotherGame);\n        _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_3__[\"op_client\"].OPCODE._OP_GATEWAY_RES_CLIENT_PONG, _this.heartBeatCallBack);\n        _this.mGameEmitter = new Phaser.Events.EventEmitter();\n        _this.mRoomMamager = new _rooms_room_manager__WEBPACK_IMPORTED_MODULE_6__[\"RoomManager\"](_this);\n        _this.mUiManager = new _ui_ui_manager__WEBPACK_IMPORTED_MODULE_14__[\"UiManager\"](_this);\n        _this.mMouseManager = new _mouse_manager__WEBPACK_IMPORTED_MODULE_8__[\"MouseManager\"](_this);\n        _this.mElementStorage = new _element_storage__WEBPACK_IMPORTED_MODULE_10__[\"ElementStorage\"]();\n        _this.mHttpService = new _net_http_service__WEBPACK_IMPORTED_MODULE_22__[\"HttpService\"](_this);\n        _this.mRoleManager = new _role_role_manager__WEBPACK_IMPORTED_MODULE_25__[\"RoleManager\"](_this);\n        _this.mSoundManager = new _sound_manager__WEBPACK_IMPORTED_MODULE_29__[\"SoundManager\"](_this);\n        _this.mLoadingManager = new _loading_loading_manager__WEBPACK_IMPORTED_MODULE_30__[\"LoadingManager\"](_this);\n        _this.mConfig.auth_token = undefined;\n        _this.mRoleManager.register();\n        // this.mCharacterManager = new CharacterManager(this);\n        // this.mCharacterManager.register();\n        _this.mRoomMamager.addPackListener();\n        _this.mUiManager.addPackListener();\n        _this.mSoundManager.addPackListener();\n        var gateway = _this.mConfig.server_addr || Object({\"host\":\"gdev.tooqing.com\",\"port\":11100,\"secure\":true});\n        if (gateway) {\n            // connect to game server.\n            _this.mConnection.startConnect(gateway);\n        }\n        document.body.addEventListener(\"focusout\", _this.focusoutFunc); // \n        return _this;\n    }\n    Object.defineProperty(World.prototype, \"moveStyle\", {\n        get: function () {\n            return this.mMoveStyle;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    World.prototype.getConfig = function () {\n        return this.mConfig;\n    };\n    World.prototype.setGameConfig = function (config) {\n        this.elementStorage.setGameConfig(config);\n    };\n    World.prototype.updatePalette = function (palette) {\n        this.elementStorage.updatePalette(palette);\n    };\n    World.prototype.updateMoss = function (moss) {\n        this.elementStorage.updateMoss(moss);\n    };\n    World.prototype.destroy = function () {\n        this.mConnection.closeConnect();\n        document.body.removeEventListener(\"focusout\", this.focusoutFunc); // \n        this.clearGame();\n    };\n    World.prototype.onConnected = function (connection) {\n        // Logger.getInstance().info(`enterVirtualWorld`);\n        this.enterVirtualWorld();\n        // this.login();\n    };\n    World.prototype.onDisConnected = function (connection) { };\n    World.prototype.onError = function (reason) { };\n    World.prototype.onClientErrorHandler = function (packet) {\n        var content = packet.content;\n        _utils_log__WEBPACK_IMPORTED_MODULE_5__[\"Logger\"].getInstance().error(\"Remote Error[\" + content.responseStatus + \"]: \" + content.msg);\n    };\n    /**\n     * scenemanager\n     */\n    World.prototype.changeRoom = function (room) {\n        if (this.mInputManager)\n            this.mInputManager.onRoomChanged(room);\n        this.mMouseManager.changeRoom(room);\n        this.mSoundManager.changeRoom(room);\n    };\n    World.prototype.getSize = function () {\n        if (!this.mGame)\n            return;\n        return this.mGame.scale.gameSize;\n    };\n    World.prototype.scaleChange = function (scale) {\n        this.emitter.emit(World.SCALE_CHANGE);\n    };\n    World.prototype.closeGame = function () {\n        if (this.mConfig.closeGame) {\n            this.destroy();\n            this.mConfig.closeGame();\n        }\n    };\n    World.prototype.resize = function (width, height) {\n        var w = width * window.devicePixelRatio;\n        var h = height * window.devicePixelRatio;\n        // if (this.mGame) {\n        //     this.mGame.scale.resize(w, h);\n        //     const scenes = this.mGame.scene.scenes;\n        //     for (const scene of scenes) {\n        //         scene.setViewPort(0, 0, w, h);\n        //         // scene.cameras.main.setViewport(0, 0, w, h);\n        //     }\n        // }\n        // if (this.mRoomMamager) {\n        //     this.mRoomMamager.resize(w, h);\n        // }\n        // if (this.mUiManager) {\n        //     this.mUiManager.resize(w, h);\n        // }\n        // if (this.mInputManager) {\n        //     this.mInputManager.resize(w, h);\n        // }\n        _utils_log__WEBPACK_IMPORTED_MODULE_5__[\"Logger\"].getInstance().log(\"resize\" + w + \"|\" + h);\n    };\n    World.prototype.onOrientationChange = function (orientation, width, height) {\n        if (this.mConfig.platform === \"app\")\n            return;\n        this.mOrientation = orientation;\n        if (this.mConfig.screenWidth > this.mConfig.screenHeight) {\n            // \n            if ((orientation <= 135 && orientation >= 45) || (orientation <= -45 && orientation >= -135)) {\n                this.orientationResize(this.mConfig.screenWidth, this.mConfig.screenHeight, width, height);\n            }\n            else {\n                this.orientationResize(this.mConfig.screenHeight, this.mConfig.screenWidth, width, height);\n            }\n        }\n        else {\n            // \n            if ((orientation <= 135 && orientation >= 45) || (orientation <= -45 && orientation >= -135)) {\n                this.orientationResize(this.mConfig.screenHeight, this.mConfig.screenWidth, width, height);\n            }\n            else {\n                this.orientationResize(this.mConfig.screenWidth, this.mConfig.screenHeight, width, height);\n            }\n        }\n    };\n    World.prototype.startFullscreen = function () {\n        if (!this.mGame) {\n            return;\n        }\n        this.isFullStart = true;\n        this.mGame.scale.startFullscreen();\n    };\n    World.prototype.stopFullscreen = function () {\n        if (!this.mGame) {\n            return;\n        }\n        this.isFullStart = false;\n        this.mGame.scale.stopFullscreen();\n    };\n    World.prototype.onGotoAnotherGame = function (packet) {\n        var content = packet.content;\n        this._createAnotherGame(content.gameId, content.virtualWorldId);\n    };\n    World.prototype.changeScene = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var gameID, worldID;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        gameID = this.mConfig.game_id;\n                        worldID = this.mConfig.virtual_world_id;\n                        return [4 /*yield*/, this.clearGame()];\n                    case 1:\n                        _a.sent();\n                        this.mConfig.game_id = gameID;\n                        this.mConfig.virtual_world_id = worldID;\n                        this._newGame();\n                        this.loginEnterWorld();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    World.prototype.reconnect = function () {\n        var gameID = this.mConfig.game_id;\n        var worldID = this.mConfig.virtual_world_id;\n        this._createAnotherGame(gameID, worldID);\n    };\n    World.prototype.startHeartBeat = function () {\n        var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_2__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_3__[\"op_gateway\"].OPCODE._OP_CLIENT_REQ_GATEWAY_PING);\n        this.mConnection.send(pkt);\n        this.mClock.sync(-1);\n    };\n    World.prototype.playSound = function (config) {\n        this.mSoundManager.play(config);\n    };\n    Object.defineProperty(World.prototype, \"uiScale\", {\n        get: function () {\n            return this.mUIScale;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(World.prototype, \"uiRatio\", {\n        get: function () {\n            return this.mUIRatio;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(World.prototype, \"scaleRatio\", {\n        get: function () {\n            return this.mScaleRatio;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(World.prototype, \"game\", {\n        get: function () {\n            return this.mGame;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(World.prototype, \"roomManager\", {\n        get: function () {\n            return this.mRoomMamager;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(World.prototype, \"orientation\", {\n        get: function () {\n            return this.mOrientation;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(World.prototype, \"elementStorage\", {\n        get: function () {\n            return this.mElementStorage;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(World.prototype, \"uiManager\", {\n        get: function () {\n            return this.mUiManager;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(World.prototype, \"mouseManager\", {\n        get: function () {\n            return this.mMouseManager;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(World.prototype, \"inputManager\", {\n        get: function () {\n            return this.mInputManager;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(World.prototype, \"connection\", {\n        get: function () {\n            return this.mConnection;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(World.prototype, \"clock\", {\n        get: function () {\n            return this.mClock;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(World.prototype, \"httpClock\", {\n        get: function () {\n            return this.mHttpClock;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(World.prototype, \"emitter\", {\n        get: function () {\n            return this.mGameEmitter;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(World.prototype, \"httpService\", {\n        get: function () {\n            return this.mHttpService;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(World.prototype, \"account\", {\n        get: function () {\n            return this.mAccount;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    World.prototype.enableClick = function () {\n        if (this.game &&\n            this.mRoomMamager &&\n            this.mRoomMamager.currentRoom &&\n            this.mRoomMamager.currentRoom.scene &&\n            this.mRoomMamager.currentRoom.scene.input) {\n            this.mRoomMamager.currentRoom.scene.input.enabled = true;\n        }\n    };\n    World.prototype.disableClick = function () {\n        if (this.game &&\n            this.mRoomMamager &&\n            this.mRoomMamager.currentRoom &&\n            this.mRoomMamager.currentRoom.scene &&\n            this.mRoomMamager.currentRoom.scene.input) {\n            this.mRoomMamager.currentRoom.scene.input.enabled = false;\n        }\n    };\n    World.prototype.showLoading = function () {\n        return this.mLoadingManager.start();\n    };\n    World.prototype.getGameConfig = function () {\n        return this.gameConfig;\n    };\n    World.prototype.onClockReady = function () {\n        if (this.mInputManager) {\n            this.mInputManager.enable = true;\n        }\n    };\n    World.prototype.onFocus = function () {\n        if (this.connection) {\n            var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_2__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_3__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_GAME_STATUS);\n            var context = pkt.content;\n            context.gameStatus = pixelpai_proto__WEBPACK_IMPORTED_MODULE_3__[\"op_def\"].GameStatus.Focus;\n            this.connection.send(pkt);\n            // \n            this.mClock.sync(-1);\n        }\n        else {\n            _utils_log__WEBPACK_IMPORTED_MODULE_5__[\"Logger\"].getInstance().error(\"connection is undefined\");\n        }\n        this.resumeScene();\n    };\n    World.prototype.onBlur = function () {\n        if (this.connection) {\n            var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_2__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_3__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_GAME_STATUS);\n            var context = pkt.content;\n            context.gameStatus = pixelpai_proto__WEBPACK_IMPORTED_MODULE_3__[\"op_def\"].GameStatus.Blur;\n            this.connection.send(pkt);\n        }\n        else {\n            _utils_log__WEBPACK_IMPORTED_MODULE_5__[\"Logger\"].getInstance().error(\"connection is undefined\");\n        }\n        if (this.game.device.os.desktop) {\n            this.pauseScene();\n        }\n    };\n    World.prototype.initgameConfigUrls = function (urls) {\n        for (var _i = 0, urls_1 = urls; _i < urls_1.length; _i++) {\n            var url = urls_1[_i];\n            var sceneId = _utils_tool__WEBPACK_IMPORTED_MODULE_28__[\"Tool\"].baseName(url);\n            this.gameConfigUrls.set(sceneId, url);\n            if (url.split(sceneId).length === 3) {\n                this.gameConfigUrl = url;\n            }\n        }\n    };\n    World.prototype.getConfigUrl = function (sceneId) {\n        return this.gameConfigUrls.get(sceneId);\n    };\n    World.prototype.loadSceneConfig = function (sceneId) {\n        var url = this.getConfigUrl(sceneId);\n        return this.loadGameConfig(url);\n    };\n    World.prototype.createGame = function (keyEvents) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        // start the game. TODO new\n                        this._newGame();\n                        // if (!this.mGame.scene.getScene(MainUIScene.name)) {\n                        //     this.mGame.scene.add(MainUIScene.name, MainUIScene);\n                        // }\n                        // if (!this.mGame.scene.getScene(EditScene.name)) {\n                        //     this.mGame.scene.add(EditScene.name, EditScene);\n                        // }\n                        // this.mGame.scene.add(PlayScene.name, PlayScene);\n                        // this.mGame.events.on(Phaser.Core.Events.FOCUS, this.onFocus, this);\n                        this.mGame.events.on(Phaser.Core.Events.BLUR, this.onBlur, this);\n                        if (this.moveStyle === pixelpai_proto__WEBPACK_IMPORTED_MODULE_3__[\"op_def\"].MoveStyle.DIRECTION_MOVE_STYLE || this.moveStyle === 1) {\n                            if (this.mGame.device.os.desktop) {\n                                this.mInputManager = new _keyboard_manager__WEBPACK_IMPORTED_MODULE_7__[\"KeyBoardManager\"](this, keyEvents);\n                            }\n                            else {\n                                this.mInputManager = new _joystick_manager__WEBPACK_IMPORTED_MODULE_9__[\"JoyStickManager\"](this, keyEvents);\n                            }\n                        }\n                        else {\n                            if (this.mGame.device.os.desktop) {\n                                this.mInputManager = new _keyboard_manager__WEBPACK_IMPORTED_MODULE_7__[\"KeyBoardManager\"](this, keyEvents);\n                            }\n                        }\n                        if (this.mInputManager)\n                            this.mInputManager.enable = false;\n                        if (window.screen.width > window.screen.height) {\n                            if (this.mConfig.width > this.mConfig.height) {\n                                this.resize(this.mConfig.width, this.mConfig.height);\n                            }\n                            else {\n                                this.resize(this.mConfig.height, this.mConfig.width);\n                            }\n                        }\n                        else {\n                            if (this.mConfig.width < this.mConfig.height) {\n                                this.resize(this.mConfig.width, this.mConfig.height);\n                            }\n                            else {\n                                this.resize(this.mConfig.height, this.mConfig.width);\n                            }\n                        }\n                        return [4 /*yield*/, this.mLoadingManager.addAssets(this.mElementStorage.getAssets())];\n                    case 1:\n                        _a.sent();\n                        this.gameCreated();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    World.prototype.enterGame = function () {\n        this.loginEnterWorld();\n        // const loginScene: LoginScene = this.mGame.scene.getScene(LoginScene.name) as LoginScene;\n        this.mGame.scene.remove(_scenes_login__WEBPACK_IMPORTED_MODULE_20__[\"LoginScene\"].name);\n        this.uiManager.destroy();\n        this.uiManager.addPackListener();\n        // loginScene.remove();\n        this.mLoadingManager.start();\n        // this.mGame.scene.start(LoadingScene.name, { world: this });\n    };\n    World.prototype._createAnotherGame = function (gameId, worldId) {\n        return __awaiter(this, void 0, void 0, function () {\n            var gateway, loginScene;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.clearGame()];\n                    case 1:\n                        _a.sent();\n                        if (this.mConnection) {\n                            this.mConnection.closeConnect();\n                        }\n                        if (this.mClock) {\n                            this.mClock.destroy();\n                            this.mClock = null;\n                        }\n                        this.mConfig.game_id = gameId;\n                        this.mConfig.virtual_world_id = worldId;\n                        this.mConnection.addPacketListener(this);\n                        gateway = this.mConfig.server_addr || Object({\"host\":\"gdev.tooqing.com\",\"port\":11100,\"secure\":true});\n                        if (gateway) {\n                            // connect to game server.\n                            this.mConnection.startConnect(gateway);\n                        }\n                        this.mClock = new _rooms_clock__WEBPACK_IMPORTED_MODULE_24__[\"Clock\"](this.mConnection, this);\n                        // setTimeout(() => {\n                        this._newGame();\n                        loginScene = this.mGame.scene.getScene(_scenes_login__WEBPACK_IMPORTED_MODULE_20__[\"LoginScene\"].name);\n                        if (loginScene)\n                            this.mGame.scene.remove(_scenes_login__WEBPACK_IMPORTED_MODULE_20__[\"LoginScene\"].name);\n                        this.mLoadingManager.start();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    World.prototype.onFullScreenChange = function () {\n        this.resize(this.mGame.scale.gameSize.width, this.mGame.scale.gameSize.height);\n    };\n    World.prototype.onSelectCharacter = function () {\n        var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_2__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_3__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_GATEWAY_CHARACTER_CREATED);\n        this.connection.send(pkt);\n    };\n    World.prototype.clearGame = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            if (_this.mGame) {\n                _this.mGame.events.off(Phaser.Core.Events.BLUR, _this.onBlur, _this);\n                _this.mGame.scale.off(\"enterfullscreen\", _this.onFullScreenChange, _this);\n                _this.mGame.scale.off(\"leavefullscreen\", _this.onFullScreenChange, _this);\n                _this.mGame.scale.off(\"orientationchange\", _this.onOrientationChange, _this);\n                _this.mGame.plugins.removeGlobalPlugin(\"rexButton\");\n                _this.mGame.plugins.removeGlobalPlugin(\"rexNinePatchPlugin\");\n                _this.mGame.plugins.removeGlobalPlugin(\"rexInputText\");\n                _this.mGame.plugins.removeGlobalPlugin(\"rexBBCodeTextPlugin\");\n                _this.mGame.plugins.removeGlobalPlugin(\"rexMoveTo\");\n                _this.mGame.plugins.removeScenePlugin(\"DragonBones\");\n                _this.mGame.plugins.removeScenePlugin(\"rexUI\");\n                _this.mGameEmitter.destroy();\n                _this.roomManager.destroy();\n                _this.uiManager.destroy();\n                _this.mElementStorage.destroy();\n                _this.mLoadingManager.destroy();\n                _this.mGame.events.once(Phaser.Core.Events.DESTROY, function () {\n                    _this.mGame = undefined;\n                    resolve();\n                });\n                _this.mGame.destroy(true);\n            }\n            else {\n                resolve();\n            }\n        });\n    };\n    World.prototype.heartBeatCallBack = function () {\n        this.mConnection.clearHeartBeat();\n    };\n    // private initUiScale() {\n    //     const width: number = this.mConfig.width;\n    //     const height: number = this.mConfig.height;\n    //     const baseWidth: number = this.mConfig.baseWidth;\n    //     const baseHeight: number = this.mConfig.baseHeight;\n    //     if (!this.mGame.device.os.desktop) {\n    //         if (width < height) {\n    //             this.mConfig.ui_scale = (width / baseHeight) * 2;\n    //             this.mGame.scale.orientation = Phaser.Scale.Orientation.PORTRAIT;\n    //         } else if (width > height) {\n    //             this.mConfig.ui_scale = (width / baseWidth) * 2;\n    //             this.mGame.scale.orientation = Phaser.Scale.Orientation.LANDSCAPE;\n    //         }\n    //     }\n    // }\n    World.prototype.login = function () {\n        var _this = this;\n        if (!this.mGame.scene.getScene(_scenes_login__WEBPACK_IMPORTED_MODULE_20__[\"LoginScene\"].name)) {\n            this.mGame.scene.add(_scenes_login__WEBPACK_IMPORTED_MODULE_20__[\"LoginScene\"].name, _scenes_login__WEBPACK_IMPORTED_MODULE_20__[\"LoginScene\"]);\n        }\n        this.mGame.scene.start(_scenes_login__WEBPACK_IMPORTED_MODULE_20__[\"LoginScene\"].name, {\n            connect: this.mConnection,\n            world: this,\n            callBack: function () {\n                _this.enterGame();\n            },\n        });\n    };\n    World.prototype.orientationResize = function (screenWidth, screenHeight, width, height) {\n        if (this.mGame) {\n            if (width < height) {\n                // \n                // this.mConfig.ui_scale = width / this.mConfig.baseHeight;\n                this.mGame.scale.orientation = Phaser.Scale.Orientation.PORTRAIT;\n                if (!this.isFullStart) {\n                    _utils_log__WEBPACK_IMPORTED_MODULE_5__[\"Logger\"].getInstance().log(\"\" + this.mGame.scale.orientation);\n                }\n            }\n            else {\n                // \n                // this.mConfig.ui_scale = width / this.mConfig.baseWidth;\n                this.mGame.scale.orientation = Phaser.Scale.Orientation.LANDSCAPE;\n                if (!this.isFullStart) {\n                    _utils_log__WEBPACK_IMPORTED_MODULE_5__[\"Logger\"].getInstance().log(\"\" + this.mGame.scale.orientation);\n                }\n            }\n            this.mGame.scale.resize(screenWidth, screenHeight);\n            _utils_log__WEBPACK_IMPORTED_MODULE_5__[\"Logger\"].getInstance().log(\"orientation\" + this.mGame.scale.orientation);\n        }\n        if (this.mRoomMamager) {\n            this.mRoomMamager.resize(width, height);\n        }\n        if (this.mUiManager) {\n            this.mUiManager.resize(width, height);\n        }\n        if (this.mInputManager) {\n            this.mInputManager.resize(width, height);\n        }\n    };\n    World.prototype.enterVirtualWorld = function () {\n        if (!this.mGame) {\n            this.reconnect();\n            return;\n        }\n        if (this.mConfig && this.mConnection) {\n            this.mAccount = new _account__WEBPACK_IMPORTED_MODULE_21__[\"Account\"]();\n            this.mLoadingManager.start();\n            // test login and verified\n            if (!this.mConfig.auth_token) {\n                this.login();\n                return;\n            }\n            else {\n                // this.mGame.scene.start(LoadingScene.name, { world: this });\n                this.mLoadingManager.start();\n                this.mAccount.setAccount({\n                    token: this.mConfig.auth_token,\n                    expire: this.mConfig.token_expire,\n                    fingerprint: this.mConfig.token_fingerprint,\n                });\n            }\n            this.loginEnterWorld();\n        }\n    };\n    World.prototype.loginEnterWorld = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var pkt, content;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, Object(_i18n__WEBPACK_IMPORTED_MODULE_26__[\"initLocales\"])(path__WEBPACK_IMPORTED_MODULE_27__[\"relative\"](__dirname, \"../resources/locales/{{lng}}.json\"))];\n                    case 1:\n                        _a.sent();\n                        pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_2__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_3__[\"op_gateway\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_PLAYER_INIT);\n                        content = pkt.content;\n                        // Logger.getInstance().log(`VW_id: ${this.mConfig.virtual_world_id}`);\n                        content.virtualWorldUuid = \"\" + this.mConfig.virtual_world_id;\n                        if (!this.mConfig.game_id ||\n                            !this.mAccount ||\n                            !this.mAccount.accountData ||\n                            !this.mAccount.accountData.token ||\n                            !this.mAccount.accountData.expire ||\n                            !this.mAccount.accountData.fingerprint) {\n                            // Logger.getInstance().debug(\"\");\n                            if (this.mGame)\n                                this.mGame.destroy(true);\n                            return [2 /*return*/];\n                        }\n                        content.gameId = this.mConfig.game_id;\n                        // const accountObj = JSON.parse();\n                        content.userToken = this.mConfig.auth_token = this.mAccount.accountData.token; // auth_token;\n                        content.expire = this.mConfig.token_expire = this.mAccount.accountData.expire + \"\";\n                        content.fingerprint = this.mConfig.token_fingerprint = this.mAccount.accountData.fingerprint;\n                        this.mConnection.send(pkt);\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    World.prototype.onInitVirtualWorldPlayerInit = function (packet) {\n        var _this = this;\n        // if (this.mClock) this.mClock.sync(); // Manual sync remote time.\n        // TODO \n        var content = packet.content;\n        var configUrls = content.configUrls;\n        this.mMoveStyle = content.moveStyle;\n        this.clock.sync(-1);\n        this.initgameConfigUrls(configUrls);\n        if (!configUrls || configUrls.length <= 0) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_5__[\"Logger\"].getInstance().error(\"configUrls error: , \" + configUrls + \", gameId: \" + this.mConfig.game_id);\n            this.createGame(content.keyEvents);\n            return;\n        }\n        _utils_log__WEBPACK_IMPORTED_MODULE_5__[\"Logger\"].getInstance().log(\"mMoveStyle:\" + content.moveStyle);\n        var game_id = this.mConfig.game_id;\n        if (game_id.indexOf(\".\") > -1) {\n            game_id = game_id.split(\".\")[1];\n        }\n        var mainGameConfigUrl = this.gameConfigUrl;\n        this.loadGameConfig(mainGameConfigUrl)\n            .then(function (gameConfig) {\n            _this.mElementStorage.setGameConfig(gameConfig);\n            _this.createGame(content.keyEvents);\n            _utils_log__WEBPACK_IMPORTED_MODULE_5__[\"Logger\"].getInstance().debug(\"created game suc\");\n        })\n            .catch(function (err) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_5__[\"Logger\"].getInstance().log(err);\n        });\n    };\n    World.prototype._newGame = function () {\n        if (this.mGame) {\n            return this.mGame;\n        }\n        _utils_log__WEBPACK_IMPORTED_MODULE_5__[\"Logger\"].getInstance().log(\"dragonbones: \", dragonBones);\n        this.gameConfig = {\n            type: Phaser.AUTO,\n            parent: this.mConfig.parent || \"game\",\n            scene: null,\n            disableContextMenu: true,\n            transparent: false,\n            backgroundColor: 0x0,\n            resolution: 1,\n            fps: {\n                target: 30,\n            },\n            dom: {\n                createContainer: true,\n            },\n            plugins: {\n                global: [\n                    {\n                        key: \"rexButton\",\n                        plugin: _lib_rexui_lib_plugins_button_plugin_js__WEBPACK_IMPORTED_MODULE_18__[\"default\"],\n                        start: true,\n                    },\n                    {\n                        key: \"rexNinePatchPlugin\",\n                        plugin: _lib_rexui_lib_plugins_ninepatch_plugin_js__WEBPACK_IMPORTED_MODULE_15__[\"default\"],\n                        start: true,\n                    },\n                    {\n                        key: \"rexInputText\",\n                        plugin: _lib_rexui_lib_plugins_inputtext_plugin_js__WEBPACK_IMPORTED_MODULE_16__[\"default\"],\n                        start: true,\n                    },\n                    {\n                        key: \"rexBBCodeTextPlugin\",\n                        plugin: _lib_rexui_lib_plugins_bbcodetext_plugin_js__WEBPACK_IMPORTED_MODULE_17__[\"default\"],\n                        start: true,\n                    },\n                ],\n                scene: [\n                    {\n                        key: \"DragonBones\",\n                        plugin: dragonBones.phaser.plugin.DragonBonesScenePlugin,\n                        mapping: \"dragonbone\",\n                    },\n                    { key: \"rexUI\", plugin: _lib_rexui_lib_ui_ui_plugin_js__WEBPACK_IMPORTED_MODULE_19__[\"default\"], mapping: \"rexUI\" },\n                ],\n            },\n            render: {\n                pixelArt: true,\n                roundPixels: true,\n            },\n            scale: {\n                mode: Phaser.Scale.NONE,\n                width: this.mConfig.width * window.devicePixelRatio,\n                height: this.mConfig.height * window.devicePixelRatio,\n                zoom: 1 / window.devicePixelRatio,\n            },\n        };\n        Object.assign(this.gameConfig, this.mConfig);\n        this.mGame = new phaser__WEBPACK_IMPORTED_MODULE_0__[\"Game\"](this.gameConfig);\n        this.mGame.input.mouse.capture = true;\n        if (this.mGame.device.os.desktop) {\n            this.mUIScale = 1;\n        }\n        if (this.mRoomMamager)\n            this.mRoomMamager.addPackListener();\n        if (this.mUiManager)\n            this.mUiManager.addPackListener();\n        if (this.mRoleManager)\n            this.mRoleManager.register();\n        if (this.mSoundManager)\n            this.mSoundManager.addPackListener();\n        if (this.mElementStorage) {\n            this.mElementStorage.on(\"SCENE_PI_LOAD_COMPELETE\", this.loadSceneConfig);\n        }\n        // if (this.mCharacterManager) this.mCharacterManager.register();\n        return this.mGame;\n    };\n    World.prototype.gameCreated = function () {\n        if (this.connection) {\n            var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_2__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_3__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_GATEWAY_GAME_CREATED);\n            this.connection.send(pkt);\n            if (this.mCallBack) {\n                this.mCallBack();\n            }\n            if (this.mConfig.game_created) {\n                this.mConfig.game_created();\n            }\n        }\n        else {\n            // Logger.getInstance().error(\"connection is undefined\");\n        }\n        this.mGame.scale.on(\"enterfullscreen\", this.onFullScreenChange, this);\n        this.mGame.scale.on(\"leavefullscreen\", this.onFullScreenChange, this);\n        // this.mGame.scale.on(\"orientationchange\", this.onOrientationChange, this);\n    };\n    World.prototype.loadGameConfig = function (remotePath) {\n        var _this = this;\n        var configPath = _utils_resUtil__WEBPACK_IMPORTED_MODULE_12__[\"ResUtils\"].getGameConfig(remotePath);\n        return Object(_utils_http__WEBPACK_IMPORTED_MODULE_11__[\"load\"])(configPath, \"arraybuffer\").then(function (req) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_5__[\"Logger\"].getInstance().log(\"start decodeConfig\");\n            return _this.decodeConfigs(req);\n        });\n    };\n    World.prototype.decodeConfigs = function (req) {\n        return new Promise(function (resolve, reject) {\n            var arraybuffer = req.response;\n            if (arraybuffer) {\n                try {\n                    var gameConfig = new game_capsule__WEBPACK_IMPORTED_MODULE_13__[\"Lite\"]();\n                    gameConfig.deserialize(new Uint8Array(arraybuffer));\n                    _utils_log__WEBPACK_IMPORTED_MODULE_5__[\"Logger\"].getInstance().log(\"TCL: World -> gameConfig\", gameConfig);\n                    resolve(gameConfig);\n                }\n                catch (error) {\n                    reject(error);\n                }\n            }\n            else {\n                reject(\"error\");\n            }\n        });\n    };\n    World.prototype.resumeScene = function () {\n        if (this.mConfig.isEditor) {\n            return;\n        }\n        this.mRoomMamager.onFocus();\n        if (this.mGame && this.mConfig.platform === \"pc\") {\n            var pauseScene = this.mGame.scene.getScene(_scenes_gamepause__WEBPACK_IMPORTED_MODULE_23__[\"GamePauseScene\"].name);\n            if (pauseScene) {\n                pauseScene.sleep();\n                this.mGame.scene.stop(_scenes_gamepause__WEBPACK_IMPORTED_MODULE_23__[\"GamePauseScene\"].name);\n            }\n        }\n    };\n    World.prototype.pauseScene = function () {\n        if (this.mConfig.isEditor) {\n            return;\n        }\n        this.mRoomMamager.onBlur();\n        if (this.mGame && this.mConfig.platform === \"pc\") {\n            if (!this.mGame.scene.getScene(_scenes_gamepause__WEBPACK_IMPORTED_MODULE_23__[\"GamePauseScene\"].name)) {\n                this.mGame.scene.add(_scenes_gamepause__WEBPACK_IMPORTED_MODULE_23__[\"GamePauseScene\"].name, _scenes_gamepause__WEBPACK_IMPORTED_MODULE_23__[\"GamePauseScene\"]);\n            }\n            this.mGame.scene.start(_scenes_gamepause__WEBPACK_IMPORTED_MODULE_23__[\"GamePauseScene\"].name, { world: this });\n        }\n    };\n    World.SCALE_CHANGE = \"scale_change\";\n    return World;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_2__[\"PacketHandler\"]));\n\n\n/* WEBPACK VAR INJECTION */}.call(this, \"/\"))\n\n//# sourceURL=webpack://TooqingCore/./src/game/world.ts?");

/***/ }),

/***/ "./src/i18n.ts":
/*!*********************!*\
  !*** ./src/i18n.ts ***!
  \*********************/
/*! exports provided: initLocales, i18n */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initLocales\", function() { return initLocales; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"i18n\", function() { return i18n; });\n/* harmony import */ var i18next__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18next */ \"./node_modules/i18next/dist/esm/i18next.js\");\n/* harmony import */ var i18next_xhr_backend__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! i18next-xhr-backend */ \"./node_modules/i18next-xhr-backend/dist/esm/i18nextXHRBackend.js\");\n/* harmony import */ var i18next_browser_languagedetector__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! i18next-browser-languagedetector */ \"./node_modules/i18next-browser-languagedetector/dist/esm/i18nextBrowserLanguageDetector.js\");\n\n\n\nfunction initLocales(path) {\n    return i18next__WEBPACK_IMPORTED_MODULE_0__[\"default\"]\n        .use(i18next_xhr_backend__WEBPACK_IMPORTED_MODULE_1__[\"default\"])\n        .use(i18next_browser_languagedetector__WEBPACK_IMPORTED_MODULE_2__[\"default\"])\n        .init({\n        fallbackLng: \"en\",\n        backend: {\n            loadPath: path,\n            crossDomain: true\n        }\n    });\n}\nvar i18n = i18next__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n\n\n//# sourceURL=webpack://TooqingCore/./src/i18n.ts?");

/***/ }),

/***/ "./src/loading/loading.manager.ts":
/*!****************************************!*\
  !*** ./src/loading/loading.manager.ts ***!
  \****************************************/
/*! exports provided: LoadingManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LoadingManager\", function() { return LoadingManager; });\n/* harmony import */ var _scenes_loading__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../scenes/loading */ \"./src/scenes/loading.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\nvar LoadingManager = /** @class */ (function () {\n    function LoadingManager(world) {\n        this.world = world;\n        this.mResources = [];\n    }\n    LoadingManager.prototype.start = function (callBack) {\n        return __awaiter(this, void 0, void 0, function () {\n            var sceneManager, loading;\n            var _this = this;\n            return __generator(this, function (_a) {\n                sceneManager = this.game.scene;\n                if (!sceneManager) {\n                    return [2 /*return*/, Promise.reject(\"start faild. SceneManager does not exist\")];\n                }\n                loading = sceneManager.getScene(_scenes_loading__WEBPACK_IMPORTED_MODULE_0__[\"LoadingScene\"].name);\n                if (!loading) {\n                    sceneManager.add(_scenes_loading__WEBPACK_IMPORTED_MODULE_0__[\"LoadingScene\"].name, _scenes_loading__WEBPACK_IMPORTED_MODULE_0__[\"LoadingScene\"]);\n                }\n                if (loading) {\n                    loading.awake({\n                        world: this.world,\n                        callBack: function (scene) {\n                            _this.scene = scene;\n                            if (_this.mResources.length > 0) {\n                                return _this.addAssets(_this.mResources);\n                            }\n                            return Promise.resolve();\n                        }\n                    });\n                }\n                else {\n                    sceneManager.start(_scenes_loading__WEBPACK_IMPORTED_MODULE_0__[\"LoadingScene\"].name, {\n                        world: this.world,\n                        callBack: function (scene) {\n                            _this.scene = scene;\n                            if (_this.mResources.length > 0) {\n                                return _this.addAssets(_this.mResources);\n                            }\n                            return Promise.resolve();\n                        }\n                    });\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    LoadingManager.prototype.addAssets = function (assets) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _i, assets_1, asset;\n            return __generator(this, function (_a) {\n                if (!this.scene) {\n                    return [2 /*return*/];\n                }\n                if (!assets) {\n                    return [2 /*return*/];\n                }\n                for (_i = 0, assets_1 = assets; _i < assets_1.length; _i++) {\n                    asset = assets_1[_i];\n                    this.loadAsset(asset);\n                }\n                return [2 /*return*/, this.startup(this.scene)];\n            });\n        });\n    };\n    LoadingManager.prototype.startup = function (scene) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _i, _a, asset;\n            var _this = this;\n            return __generator(this, function (_b) {\n                this.scene = scene;\n                this.scene.load.once(Phaser.Loader.Events.COMPLETE, function () {\n                    _this.mLoading = false;\n                    _this.mResources = [];\n                    // this.game.scene.remove(LoadingScene.name);\n                    return Promise.resolve();\n                });\n                for (_i = 0, _a = this.mResources; _i < _a.length; _i++) {\n                    asset = _a[_i];\n                    this.loadAsset(asset);\n                }\n                this.scene.load.start();\n                this.mLoading = true;\n                return [2 /*return*/];\n            });\n        });\n    };\n    LoadingManager.prototype.destroy = function () {\n        if (this.mResources) {\n            this.mResources = [];\n        }\n        this.scene = undefined;\n    };\n    LoadingManager.prototype.loadAsset = function (asset) {\n        var type = this.getLoadType(asset.type);\n        if (this.scene.load[type]) {\n            this.scene.load[type](asset.key, asset.source);\n        }\n    };\n    Object.defineProperty(LoadingManager.prototype, \"game\", {\n        get: function () {\n            if (!this.world) {\n                return;\n            }\n            return this.world.game;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    LoadingManager.prototype.getLoadType = function (fileType) {\n        if (fileType === \"mp3\" || fileType === \"wmv\" || fileType === \"ogg\") {\n            return \"audio\";\n        }\n        return fileType;\n    };\n    return LoadingManager;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/loading/loading.manager.ts?");

/***/ }),

/***/ "./src/net/connection.ts":
/*!*******************************!*\
  !*** ./src/net/connection.ts ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var buffer___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! buffer/ */ \"./node_modules/node-libs-browser/node_modules/buffer/index.js\");\n/* harmony import */ var buffer___WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(buffer___WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_log__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/log */ \"./src/utils/log.ts\");\n/* harmony import */ var worker_loader_name_js_hash_name_js_networker__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! worker-loader?name=js/[hash].[name].js!./networker */ \"./node_modules/worker-loader/dist/cjs.js?name=js/[hash].[name].js!./src/net/networker.ts\");\n/* harmony import */ var worker_loader_name_js_hash_name_js_networker__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(worker_loader_name_js_hash_name_js_networker__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var worker_loader_name_js_hash_name_js_heartbeatworker__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! worker-loader?name=js/[hash].[name].js!./heartbeatworker */ \"./node_modules/worker-loader/dist/cjs.js?name=js/[hash].[name].js!./src/net/heartbeatworker.ts\");\n/* harmony import */ var worker_loader_name_js_hash_name_js_heartbeatworker__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(worker_loader_name_js_hash_name_js_heartbeatworker__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n// import {op_client, op_gameconfig, op_gameconfig_01, op_gateway, op_virtual_world} from \"pixelpai_proto\";\n// PBpacket.addProtocol(op_client);\n// PBpacket.addProtocol(op_gateway);\n// PBpacket.addProtocol(op_gameconfig);\n// PBpacket.addProtocol(op_virtual_world);\n// PBpacket.addProtocol(op_gameconfig_01);\n\n\n\nfor (var key in pixelpai_proto__WEBPACK_IMPORTED_MODULE_5__) {\n    net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"].addProtocol(pixelpai_proto__WEBPACK_IMPORTED_MODULE_5__[key]);\n}\n// \n// webworkersocketwebworkersocket\nvar Connection = /** @class */ (function () {\n    function Connection(listener) {\n        this.mPacketHandlers = [];\n        this.mReConnectCount = 0;\n        this.mListener = listener;\n    }\n    Connection.prototype.startConnect = function (addr, keepalive) {\n        this.mCachedServerAddress = addr;\n        try {\n            this.mHeartBeatWorker = new worker_loader_name_js_hash_name_js_heartbeatworker__WEBPACK_IMPORTED_MODULE_4___default.a();\n            this.mWorker = new worker_loader_name_js_hash_name_js_networker__WEBPACK_IMPORTED_MODULE_3___default.a();\n            this._doConnect();\n        }\n        catch (e) {\n            throw new Error(\"startConnect Error: \" + e);\n        }\n    };\n    Connection.prototype.closeConnect = function () {\n        this.mWorker.terminate();\n        this.mHeartBeatWorker.terminate();\n        this.mCachedServerAddress = undefined;\n        this.mReConnectCount = 0;\n        this.mTimeout = null;\n        this.clearPacketListeners();\n    };\n    Connection.prototype.clearHeartBeat = function () {\n        if (this.mHeartBeatWorker) {\n            this.mHeartBeatWorker.postMessage({ method: \"clearBeat\" });\n        }\n    };\n    Connection.prototype.addPacketListener = function (listener) {\n        this.mPacketHandlers.push(listener);\n    };\n    Connection.prototype.send = function (packet) {\n        if (!this.mWorker) {\n            throw new Error(\"NetWorker is undefined.\");\n        }\n        this.mWorker.postMessage({\n            \"method\": \"send\",\n            \"buffer\": packet.Serialization(),\n        });\n    };\n    Connection.prototype.clearReconnectCount = function () {\n        this.mHeartBeatWorker.postMessage(\"clearBeat\");\n    };\n    Connection.prototype.removePacketListener = function (listener) {\n        var idx = this.mPacketHandlers.indexOf(listener);\n        if (idx !== -1) {\n            this.mPacketHandlers.splice(idx, 1);\n        }\n    };\n    Connection.prototype.clearPacketListeners = function () {\n        if (!this.mPacketHandlers || this.mPacketHandlers.length < 1) {\n            return;\n        }\n        var len = this.mPacketHandlers.length;\n        for (var i = 0; i < len; i++) {\n            var listener = this.mPacketHandlers[i];\n            if (!listener)\n                continue;\n            this.removePacketListener(listener);\n            i--;\n        }\n    };\n    Connection.prototype._doConnect = function () {\n        // Logger.getInstance().info(`_doConnect `, this.mCachedServerAddress);\n        var self = this;\n        if (this.mWorker) {\n            this.mWorker.onmessage = function (event) {\n                self.onWorkerMessage(event.data);\n            };\n            if (this.mHeartBeatWorker) {\n                this.mHeartBeatWorker.onmessage = function (event) {\n                    self.onWorkerMessage(event.data);\n                };\n            }\n            this.mWorker.postMessage({\n                \"method\": \"connect\",\n                \"address\": self.mCachedServerAddress,\n            });\n        }\n    };\n    Connection.prototype.onWorkerMessage = function (data) {\n        var self = this;\n        var method = data.method;\n        switch (method) {\n            case \"onConnected\":\n                this.mReConnectCount = 0;\n                this.mListener.onConnected();\n                if (this.mHeartBeatWorker) {\n                    this.mHeartBeatWorker.postMessage({ method: \"startBeat\" });\n                }\n                break;\n            case \"onDisConnected\":\n                if (!this.mTimeout) {\n                    if (this.mReConnectCount < 10)\n                        this.mReConnectCount++;\n                    var delay = Math.pow(this.mReConnectCount, 2);\n                    _utils_log__WEBPACK_IMPORTED_MODULE_2__[\"Logger\"].getInstance().info(\"ReConnect: delay = \" + delay * 1000 + \"[c/\" + this.mReConnectCount + \"]\");\n                    this.mTimeout = setTimeout(function () {\n                        self.mTimeout = undefined;\n                        self._doConnect();\n                    }, delay * 1000);\n                }\n                break;\n            case \"onConnectError\":\n                _utils_log__WEBPACK_IMPORTED_MODULE_2__[\"Logger\"].getInstance().error(\"error\" + data.error);\n                // TODO\n                this.reConnect();\n                break;\n            case \"heartBeat\":\n                this.worldStartHeartBeat();\n                break;\n            case \"endBeat\":\n                this.endHeartBeat();\n                break;\n            case \"reConnect\":\n                this.reConnect();\n                break;\n            case \"onData\":\n                var buf = data.buffer;\n                if (buf) {\n                    this._onData(buf);\n                }\n                break;\n            default:\n                break;\n        }\n    };\n    Connection.prototype._onData = function (data) {\n        var protobufPacket = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"]();\n        protobufPacket.Deserialization(new buffer___WEBPACK_IMPORTED_MODULE_1__[\"Buffer\"](data));\n        var handlers = this.mPacketHandlers;\n        handlers.forEach(function (handler) {\n            handler.onPacketArrived(protobufPacket);\n        });\n    };\n    Connection.prototype.reConnect = function () {\n        this.mHeartBeatWorker.postMessage({ method: \"endHeartBeat\" });\n        var world = this.mPacketHandlers[0];\n        world.reconnect();\n    };\n    Connection.prototype.worldStartHeartBeat = function () {\n        var world = this.mPacketHandlers[0];\n        world.startHeartBeat();\n    };\n    Connection.prototype.endHeartBeat = function () {\n        if (this.mHeartBeatWorker) {\n            this.mHeartBeatWorker.terminate();\n        }\n    };\n    return Connection;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (Connection);\n\n\n//# sourceURL=webpack://TooqingCore/./src/net/connection.ts?");

/***/ }),

/***/ "./src/net/http.service.ts":
/*!*********************************!*\
  !*** ./src/net/http.service.ts ***!
  \*********************************/
/*! exports provided: HttpService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HttpService\", function() { return HttpService; });\nvar HttpService = /** @class */ (function () {\n    function HttpService(mWorld) {\n        this.mWorld = mWorld;\n    }\n    /**\n     * \n     * @param uids\n     */\n    HttpService.prototype.follow = function (fuid) {\n        return this.post(\"user/follow\", { fuid: fuid });\n    };\n    /**\n     * \n     * @param fuid\n     */\n    HttpService.prototype.unfollow = function (fuid) {\n        return this.post(\"user/unfollow\", { fuid: fuid });\n    };\n    /**\n     * \n     * @param uids\n     */\n    HttpService.prototype.checkFollowed = function (uids) {\n        return this.post(\"user/check_followed\", { \"uids\": uids });\n    };\n    /**\n     * \n     * @param name\n     * @param password\n     */\n    HttpService.prototype.login = function (account, password) {\n        return fetch(\"\" + \"https://api-dev.tooqing.com/\" + \"account/signin\", {\n            body: JSON.stringify({ account: account, password: password }),\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        }).then(function (response) { return response.json(); });\n    };\n    /**\n     * \n     * @param name\n     */\n    HttpService.prototype.requestPhoneCode = function (phone, areaCode) {\n        return fetch(\"\" + \"https://api-dev.tooqing.com/\" + \"account/sms_code\", {\n            body: JSON.stringify({ phone: phone, areaCode: areaCode }),\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        }).then(function (response) { return response.json(); });\n    };\n    HttpService.prototype.loginByPhoneCode = function (phone, code, areaCode) {\n        return fetch(\"\" + \"https://api-dev.tooqing.com/\" + \"account/phone_signin\", {\n            body: JSON.stringify({ phone: phone, code: code, areaCode: areaCode }),\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        }).then(function (response) { return response.json(); });\n    };\n    HttpService.prototype.quickLogin = function () {\n        return fetch(\"\" + \"https://api-dev.tooqing.com/\" + \"account/quick_signin\", {\n            method: \"POST\",\n        }).then(function (response) { return response.json(); });\n    };\n    HttpService.prototype.verified = function (realName, identifcationCode) {\n        // return fetch(`${CONFIG.api_root}${`game/real_name_authentication`}`, {\n        //     body: JSON.stringify({ realName, identifcationCode  }),\n        //     method: \"POST\",\n        // }).then((response) => response.json());\n        return this.post(\"game/real_name_authentication\", { realName: realName, identifcationCode: identifcationCode });\n    };\n    /**\n     *\n     * \n     */\n    HttpService.prototype.firend = function () {\n        return this.get(\"user/friends\");\n    };\n    /**\n     * \n     * @param uid\n     */\n    HttpService.prototype.userDetail = function (uid) {\n        return this.get(\"account/\" + uid + \"/detail\");\n    };\n    /**\n     * \n     * @param uid\n     */\n    HttpService.prototype.badgecards = function (uid) {\n        return this.get(\"userpackage/\" + uid + \"/badgecards\");\n    };\n    HttpService.prototype.playedDuration = function (Appid, gameId) {\n        return this.post(\"game/played_duration\", { gameId: gameId }, { Appid: Appid });\n    };\n    HttpService.prototype.post = function (uri, body, headers) {\n        var account = this.mWorld.account;\n        if (!account) {\n            return Promise.reject(\"account does not exist\");\n        }\n        if (!account.accountData) {\n            return Promise.reject(\"token does not exist\");\n        }\n        headers = Object.assign({\n            \"Content-Type\": \"application/json\",\n            \"X-Pixelpai-TK\": account.accountData.token\n        }, headers);\n        var data = {\n            body: JSON.stringify(body),\n            method: \"POST\",\n            headers: headers,\n        };\n        return fetch(\"\" + \"https://api-dev.tooqing.com/\" + uri, data).then(function (response) { return response.json(); });\n    };\n    HttpService.prototype.get = function (uri) {\n        var account = this.mWorld.account;\n        if (!account) {\n            return Promise.reject(\"account does not exist\");\n        }\n        if (!account.accountData) {\n            return Promise.reject(\"token does not exist\");\n        }\n        var data = {\n            method: \"GET\",\n            headers: {\n                \"X-Pixelpai-TK\": account.accountData.token\n            }\n        };\n        return fetch(\"\" + \"https://api-dev.tooqing.com/\" + uri, data).then(function (response) { return response.json(); });\n    };\n    return HttpService;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/net/http.service.ts?");

/***/ }),

/***/ "./src/role/create.role.panel.ts":
/*!***************************************!*\
  !*** ./src/role/create.role.panel.ts ***!
  \***************************************/
/*! exports provided: CreateRolePanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CreateRolePanel\", function() { return CreateRolePanel; });\n/* harmony import */ var _ui_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ui/components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _ui_components_ninepatch_button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ui/components/ninepatch.button */ \"./src/ui/components/ninepatch.button.ts\");\n/* harmony import */ var _lib_rexui_lib_plugins_gameobjects_inputtext_InputText__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lib/rexui/lib/plugins/gameobjects/inputtext/InputText */ \"./lib/rexui/lib/plugins/gameobjects/inputtext/InputText.js\");\n/* harmony import */ var _ui_components_nine_patch__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ui/components/nine.patch */ \"./src/ui/components/nine.patch.ts\");\n/* harmony import */ var _rooms_display_dragonbones_display__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../rooms/display/dragonbones.display */ \"./src/rooms/display/dragonbones.display.ts\");\n/* harmony import */ var _rooms_display_dragonbones_model__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../rooms/display/dragonbones.model */ \"./src/rooms/display/dragonbones.model.ts\");\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/font */ \"./src/utils/font.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\nvar CreateRolePanel = /** @class */ (function (_super) {\n    __extends(CreateRolePanel, _super);\n    function CreateRolePanel(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.key = \"createCharacter\";\n        _this.mCurPageNum = 0;\n        _this.setTween(false);\n        var container = _this.scene.add.container(0, 0);\n        container.add(_this);\n        scene.scale.on(\"resize\", _this.onResize, _this);\n        return _this;\n        // container.scale = 1 / this.mWorld.uiScale;\n    }\n    CreateRolePanel.prototype.show = function (param) {\n        if (param) {\n            this.avatars = param.avatars;\n        }\n        _super.prototype.show.call(this, param);\n    };\n    CreateRolePanel.prototype.preload = function () {\n        // this.scene.load.atlas(\n        //   this.key,\n        //   Url.getRes(\"ui/create_role/create_role.png\"),\n        //   Url.getRes(\"ui/create_role/create_role.json\")\n        // );\n        this.addAtlas(this.key, \"create_role/create_role.png\", \"create_role/create_role.json\");\n        _super.prototype.preload.call(this);\n    };\n    CreateRolePanel.prototype.resize = function (wid, hei) {\n        var size = this.mWorld.getSize();\n        this.setSize(this.scaleWidth, this.scaleHeight);\n        if (!this.mBackground) {\n            return;\n        }\n        // this.scale = 1 / this.mWorld.uiScale;\n        // this.mBackground.x = this.width >> 1;\n        // this.mBackground.y = 60 + (this.mBackground.height >> 1);\n        // const scale = this.scene.cameras.main.height / 1920;\n        var scale = this.scale;\n        var width = this.scene.cameras.main.width / scale;\n        var height = this.scene.cameras.main.height / scale;\n        var centerX = this.scene.cameras.main.centerX / scale;\n        // this.setScale(scale);\n        // this.mBackground.setScale(scale);\n        this.mBackground.x = centerX;\n        // this.mBackground.y = 700;\n        this.mFoot.x = centerX;\n        this.mFoot.y = height - (this.mFoot.height >> 1);\n        this.mBackgroundColor.clear();\n        this.mBackgroundColor.fillGradientStyle(0x6f75ff, 0x6f75ff, 0x04cbff, 0x04cbff);\n        this.mBackgroundColor.fillRect(0, 0, width, height);\n        this.mSubmit.x = centerX;\n        this.inputText.x = centerX;\n        this.mInputTextBg.x = centerX;\n        this.dragonbones.x = centerX;\n        this.mNextPageBtn.x = width - 150;\n        this.mRandomBtn.x = this.mInputTextBg.x + this.mInputTextBg.width / 2 - 26 * this.dpr;\n    };\n    CreateRolePanel.prototype.init = function () {\n        var size = this.mWorld.getSize();\n        var zoom = this.mWorld.uiScale;\n        this.mBackground = this.scene.make.image({\n            key: this.key,\n            frame: \"bg.png\",\n            x: size.width >> 1,\n        }).setScale(zoom);\n        this.mBackground.y = this.mBackground.height / 2 + 92 * this.dpr;\n        this.add(this.mBackground);\n        this.mFoot = this.scene.make.image({\n            key: this.key,\n            frame: \"bg_foot.png\"\n        }, false);\n        this.add(this.mFoot);\n        this.mBackgroundColor = this.scene.make.graphics(undefined, false);\n        this.mBackgroundColor.fillGradientStyle(0x6f75ff, 0x6f75ff, 0x04cbff, 0x04cbff);\n        this.mBackgroundColor.fillRect(0, 0, size.width, size.height);\n        this.addAt(this.mBackgroundColor, 0);\n        this.mInputTextBg = new _ui_components_nine_patch__WEBPACK_IMPORTED_MODULE_3__[\"NinePatch\"](this.scene, size.width >> 1, 350 * this.dpr, 255 * this.dpr, 50 * this.dpr, this.key, \"input_bg.png\", {\n            left: 27 * this.dpr,\n            top: 24 * this.dpr,\n            right: 28 * this.dpr,\n            bottom: 24 * this.dpr\n        });\n        this.add(this.mInputTextBg);\n        this.inputText = new _lib_rexui_lib_plugins_gameobjects_inputtext_InputText__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this.scene, size.width >> 1, 350 * this.dpr, 160 * this.dpr, 80, {\n            type: \"input\",\n            fontSize: 18 * this.dpr + \"px\",\n            color: \"#717171\",\n            align: \"center\",\n            placeholder: \"\"\n        }).setOrigin(0.5);\n        this.add(this.inputText);\n        var text = \" \";\n        if (this.mShowData && this.mShowData.button) {\n            text = this.mShowData.button.text;\n        }\n        var frame = this.scene.textures.getFrame(this.key, \"submit_button_normal\");\n        var w = 42;\n        var h = 43;\n        if (frame) {\n            w = frame.width;\n            h = frame.height;\n        }\n        this.mSubmit = new _ui_components_ninepatch_button__WEBPACK_IMPORTED_MODULE_1__[\"NinePatchButton\"](this.scene, size.width >> 1, 445 * this.dpr, 202 * this.dpr, 55 * this.dpr, this.key, \"submit_button\", text, {\n            left: 19 * this.dpr,\n            top: 20 * this.dpr,\n            right: w - 2 - 19 * this.dpr,\n            bottom: h - 2 - 20 * this.dpr\n        });\n        this.mSubmit.setTextStyle({\n            color: \"#976400\",\n            fontSize: 18 * this.dpr,\n            fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_6__[\"Font\"].DEFULT_FONT,\n        });\n        this.mSubmit.setFontStyle(\"bold\");\n        this.mSubmit.on(\"pointerup\", this.onSubmitHandler, this);\n        this.add(this.mSubmit);\n        this.mPrePageBtn = this.scene.make.image({\n            x: 60 * this.dpr,\n            y: 216 * this.dpr,\n            key: this.key,\n            frame: \"arrow_left.png\"\n        }).setInteractive();\n        this.mPrePageBtn.on(\"pointerup\", this.onPrePageHandler, this);\n        this.mNextPageBtn = this.scene.make.image({\n            x: size.width - 60 * this.dpr,\n            y: this.mPrePageBtn.y,\n            key: this.key,\n            frame: \"arrow.png\"\n        }).setFlipX(true).setInteractive();\n        this.mNextPageBtn.on(\"pointerup\", this.onNextPageHandler, this);\n        this.mRandomBtn = this.scene.make.image({\n            x: this.mInputTextBg.x,\n            y: this.mInputTextBg.y,\n            key: this.key,\n            frame: \"random.png\"\n        }).setInteractive();\n        this.add([this.mPrePageBtn, this.mNextPageBtn, this.mRandomBtn]);\n        this.mRandomBtn.on(\"pointerup\", this.onRandomNameHandler, this);\n        // const role = this.scene.make.image({\n        //   x: size.width >> 1,\n        //   y: 560,\n        //   key: \"role\",\n        // }, false);\n        // this.add(role);\n        this.mErrorBg = this.scene.make.image({\n            key: this.key,\n            frame: \"tips_bg.png\",\n            x: 220 * this.dpr,\n            y: 57 * this.dpr\n        }).setVisible(false);\n        this.mError = this.scene.make.text({\n            x: 127 * this.dpr,\n            y: 30 * this.dpr,\n            style: {\n                color: \"#26265d\",\n                font: \"bold 34px YaHei\",\n                wordWrap: {\n                    width: 420,\n                    useAdvancedWrap: true\n                },\n            },\n        }, false).setVisible(false);\n        this.add([this.mErrorBg, this.mError]);\n        this.dragonbones = new _rooms_display_dragonbones_display__WEBPACK_IMPORTED_MODULE_4__[\"DragonbonesDisplay\"](this.scene, undefined, undefined, true);\n        this.dragonbones.scale = this.dpr * 2;\n        this.dragonbones.x = size.width >> 1;\n        this.dragonbones.y = this.mNextPageBtn.y + 70 * this.dpr;\n        // this.dragonbones.y = 286 * this.dpr;\n        // this.dragonbones.play(\"idle\");\n        this.dragonbones.on(\"initialized\", this.loadDragonbonesComplete, this);\n        this.add(this.dragonbones);\n        this.setPageNum(0);\n        _super.prototype.init.call(this);\n        this.resize(0, 0);\n    };\n    CreateRolePanel.prototype.setAvatars = function (avatars) {\n        this.avatars = avatars;\n        // this.dragonbones.load(new DragonbonesModel({\n        //   id: 0,\n        //   avatar: avatars[0]\n        // }));\n    };\n    CreateRolePanel.prototype.showError = function (msg) {\n        if (this.mError) {\n            this.mError.text = msg;\n            this.mError.setVisible(true);\n            this.mErrorBg.setVisible(true);\n        }\n    };\n    CreateRolePanel.prototype.setNickName = function (val) {\n        if (this.inputText) {\n            this.inputText.text = val;\n        }\n    };\n    CreateRolePanel.prototype.destroy = function () {\n        if (this.scene)\n            this.scene.scale.off(\"resize\", this.onResize, this);\n        if (this.dragonbones) {\n            this.dragonbones.off(\"initialized\", this.loadDragonbonesComplete, this);\n        }\n        _super.prototype.destroy.call(this);\n    };\n    CreateRolePanel.prototype.onRandomNameHandler = function () {\n        this.emit(\"randomName\");\n        this.inputText.setBlur();\n    };\n    CreateRolePanel.prototype.onSubmitHandler = function () {\n        this.emit(\"submit\", this.inputText.text, this.avatars[this.mCurPageNum]);\n        this.inputText.setBlur();\n        if (this.mError) {\n            this.mError.setVisible(false);\n            this.mErrorBg.setVisible(false);\n        }\n    };\n    CreateRolePanel.prototype.onPrePageHandler = function () {\n        this.setPageNum(this.mCurPageNum - 1);\n        this.inputText.setBlur();\n    };\n    CreateRolePanel.prototype.onNextPageHandler = function () {\n        this.setPageNum(this.mCurPageNum + 1);\n        this.inputText.setBlur();\n    };\n    CreateRolePanel.prototype.setPageNum = function (val) {\n        this.mCurPageNum = val;\n        if (this.mCurPageNum < 0) {\n            this.mCurPageNum = this.avatars.length - 1;\n        }\n        else if (this.mCurPageNum >= this.avatars.length) {\n            this.mCurPageNum = 0;\n        }\n        this.dragonbones.load(new _rooms_display_dragonbones_model__WEBPACK_IMPORTED_MODULE_5__[\"DragonbonesModel\"]({\n            id: 0,\n            avatar: this.avatars[this.mCurPageNum]\n        }));\n    };\n    CreateRolePanel.prototype.onResize = function (gameSize) {\n        this.resize(gameSize.width, gameSize.height);\n    };\n    CreateRolePanel.prototype.loadDragonbonesComplete = function () {\n        this.dragonbones.play({ name: \"idle\", flip: false });\n    };\n    return CreateRolePanel;\n}(_ui_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/role/create.role.panel.ts?");

/***/ }),

/***/ "./src/role/create.role.ts":
/*!*********************************!*\
  !*** ./src/role/create.role.ts ***!
  \*********************************/
/*! exports provided: CreateRole */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CreateRole\", function() { return CreateRole; });\n/* harmony import */ var _scenes_create_character__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../scenes/create.character */ \"./src/scenes/create.character.ts\");\n/* harmony import */ var _create_role_panel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./create.role.panel */ \"./src/role/create.role.panel.ts\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_3__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar CreateRole = /** @class */ (function (_super) {\n    __extends(CreateRole, _super);\n    function CreateRole($roleManager) {\n        var _this = _super.call(this) || this;\n        _this.roleManager = $roleManager;\n        _this.world = _this.roleManager.world;\n        return _this;\n    }\n    CreateRole.prototype.enter = function (content) {\n        this.mAvatars = content.avatars;\n        this.mParam = content;\n        if (!this.world.game.scene.getScene(_scenes_create_character__WEBPACK_IMPORTED_MODULE_0__[\"CreateRoleScene\"].name))\n            this.world.game.scene.add(_scenes_create_character__WEBPACK_IMPORTED_MODULE_0__[\"CreateRoleScene\"].name, _scenes_create_character__WEBPACK_IMPORTED_MODULE_0__[\"CreateRoleScene\"]);\n        this.world.game.scene.start(_scenes_create_character__WEBPACK_IMPORTED_MODULE_0__[\"CreateRoleScene\"].name, {\n            world: this.world,\n            role: this\n        });\n    };\n    CreateRole.prototype.start = function (scene) {\n        this.createPanel = new _create_role_panel__WEBPACK_IMPORTED_MODULE_1__[\"CreateRolePanel\"](scene, this.world);\n        this.createPanel.show(this.mParam);\n        this.createPanel.on(\"randomName\", this.onRandomNameHandler, this);\n        this.createPanel.on(\"submit\", this.onSubmitHandler, this);\n        if (this.world.connection) {\n            this.world.connection.addPacketListener(this);\n            this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_3__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_CREATE_ROLE_ERROR_MESSAGE, this.onCreateErrorHandler);\n            this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_3__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_CREATE_ROLE_GENERATE_NEW_NAME, this.onGenerateNameHandler);\n        }\n    };\n    CreateRole.prototype.destroy = function () {\n        if (this.world.connection) {\n            this.world.connection.removePacketListener(this);\n        }\n        this.world.game.scene.remove(_scenes_create_character__WEBPACK_IMPORTED_MODULE_0__[\"CreateRoleScene\"].name);\n        // if (this.createPanel) this.createPanel.destroy();\n    };\n    CreateRole.prototype.onRandomNameHandler = function () {\n        var connection = this.world.connection;\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_2__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_3__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_CREATE_ROLE_GENERATE_NEW_NAME);\n        connection.send(packet);\n    };\n    CreateRole.prototype.onSubmitHandler = function (name, avatar) {\n        var connection = this.world.connection;\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_2__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_3__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_CREATE_ROLE);\n        var content = packet.content;\n        content.name = name;\n        content.avatar = avatar;\n        connection.send(packet);\n    };\n    CreateRole.prototype.onCreateErrorHandler = function (packet) {\n        if (!this.createPanel) {\n            return;\n        }\n        var content = packet.content;\n        this.createPanel.showError(content.errorMsg);\n    };\n    CreateRole.prototype.onGenerateNameHandler = function (packet) {\n        if (!this.createPanel) {\n            return;\n        }\n        var content = packet.content;\n        this.createPanel.setNickName(content.name);\n    };\n    return CreateRole;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_2__[\"PacketHandler\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/role/create.role.ts?");

/***/ }),

/***/ "./src/role/role.manager.ts":
/*!**********************************!*\
  !*** ./src/role/role.manager.ts ***!
  \**********************************/
/*! exports provided: RoleManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RoleManager\", function() { return RoleManager; });\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _create_role__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./create.role */ \"./src/role/create.role.ts\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n/**\n * \n */\nvar RoleManager = /** @class */ (function (_super) {\n    __extends(RoleManager, _super);\n    function RoleManager($world) {\n        var _this = _super.call(this) || this;\n        _this.world = $world;\n        return _this;\n    }\n    RoleManager.prototype.register = function () {\n        if (this.world) {\n            var connection = this.world.connection;\n            if (connection) {\n                connection.addPacketListener(this);\n                this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_REQ_CLIENT_SHOW_CREATE_ROLE_UI, this.onOpenCreateCharacter);\n                this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_REQ_CLIENT_CLOSE_CREATE_ROLE_UI, this.onCloseCreateCharacterHandler);\n            }\n        }\n    };\n    RoleManager.prototype.unregister = function () {\n        if (this.world) {\n            var connection = this.world.connection;\n            if (connection) {\n                connection.removePacketListener(this);\n            }\n        }\n    };\n    RoleManager.prototype.onOpenCreateCharacter = function (packet) {\n        this.mCreateCharacter = new _create_role__WEBPACK_IMPORTED_MODULE_1__[\"CreateRole\"](this);\n        this.mCreateCharacter.enter(packet.content);\n    };\n    RoleManager.prototype.onCloseCreateCharacterHandler = function () {\n        if (this.mCreateCharacter) {\n            this.mCreateCharacter.destroy();\n            this.mCreateCharacter = undefined;\n        }\n    };\n    return RoleManager;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PacketHandler\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/role/role.manager.ts?");

/***/ }),

/***/ "./src/rooms/Animation/bubble.animation.ts":
/*!*************************************************!*\
  !*** ./src/rooms/Animation/bubble.animation.ts ***!
  \*************************************************/
/*! exports provided: BubbleAnimation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BubbleAnimation\", function() { return BubbleAnimation; });\n/* harmony import */ var _ianimationbase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ianimationbase */ \"./src/rooms/Animation/ianimationbase.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar BubbleAnimation = /** @class */ (function (_super) {\n    __extends(BubbleAnimation, _super);\n    function BubbleAnimation(scene) {\n        var _this = _super.call(this, scene) || this;\n        _this.loaded = false;\n        _this.isPlaying = false;\n        _this.loop = false;\n        return _this;\n    }\n    BubbleAnimation.prototype.load = function (resName, resUrl, data) {\n        this.resName = resName ? resName : resUrl;\n        this.resUrl = resUrl;\n        this.animUrlData = new _ianimationbase__WEBPACK_IMPORTED_MODULE_0__[\"AnimationUrlData\"]();\n        if (resName)\n            this.animUrlData.setData(this.resName, this.resUrl);\n        else\n            this.animUrlData.setDisplayData(resUrl, data);\n        this.scene.load.image(this.resName, this.animUrlData.pngUrl);\n        this.scene.load.image(this.animUrlData.jsonUrl, this.animUrlData.jsonUrl);\n        this.scene.load.once(Phaser.Loader.Events.COMPLETE, this.onLoadComplete, this);\n        this.scene.load.start();\n    };\n    BubbleAnimation.prototype.play = function (aniName) {\n        this.isPlaying = true;\n        if (!this.frameAnim)\n            return;\n        this.setScale(0.2, 0.2);\n        this.y = 50;\n        this.scene.tweens.add({\n            targets: this,\n            y: { value: -100, duration: 300, ease: \"Bounce.easeOut\" },\n            scaleX: { value: 1, duration: 300, ease: \"Bounce.easeOut\" },\n            scaleY: { value: 1, duration: 300, ease: \"Bounce.easeOut\" },\n        });\n    };\n    BubbleAnimation.prototype.destroy = function () {\n        if (this.frameAnim)\n            this.frameAnim.destroy();\n        if (this.bubblebg)\n            this.bubblebg.destroy();\n        if (this.animUrlData)\n            this.animUrlData.dispose();\n        this.frameAnim = null;\n        this.animUrlData = null;\n        this.bubblebg = null;\n    };\n    BubbleAnimation.prototype.onLoadComplete = function (loader, totalComplete, totalFailed) {\n        this.loaded = true;\n        this.bubblebg = this.scene.add.image(0, 0, this.resName);\n        this.frameAnim = this.scene.add.image(0, 0, this.animUrlData.jsonUrl);\n        this.add([this.bubblebg, this.frameAnim]);\n        if (this.isPlaying)\n            this.play();\n    };\n    return BubbleAnimation;\n}(Phaser.GameObjects.Container));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/Animation/bubble.animation.ts?");

/***/ }),

/***/ "./src/rooms/Animation/ianimationbase.ts":
/*!***********************************************!*\
  !*** ./src/rooms/Animation/ianimationbase.ts ***!
  \***********************************************/
/*! exports provided: AnimationUrlData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AnimationUrlData\", function() { return AnimationUrlData; });\nvar AnimationUrlData = /** @class */ (function () {\n    function AnimationUrlData() {\n    }\n    AnimationUrlData.prototype.setData = function (resName, resUrl, isbone, extension) {\n        if (isbone === void 0) { isbone = false; }\n        if (extension === void 0) { extension = \".json\"; }\n        this.resName = resName;\n        this.resUrl = resUrl;\n        this.pngUrl = resUrl + \"/\" + resName + (!isbone ? \".png\" : \"_tex.png\");\n        this.jsonUrl = resUrl + \"/\" + resName + (!isbone ? \".json\" : \"_tex.json\");\n        if (isbone)\n            this.boneUrl = resUrl + \"/\" + resName + \"_ske\" + extension;\n        this.responseType = extension === \".dbbin\" ? \"arraybuffer\" : null;\n        this.boneXhrSettings = this.responseType ? { responseType: \"arraybuffer\" } : null;\n    };\n    AnimationUrlData.prototype.setDisplayData = function (pngUrl, jsonUrl, extension) {\n        if (extension === void 0) { extension = \".json\"; }\n        this.pngUrl = pngUrl;\n        this.jsonUrl = jsonUrl;\n        this.responseType = extension === \".dbbin\" ? \"arraybuffer\" : null;\n        this.boneXhrSettings = this.responseType ? { responseType: \"arraybuffer\" } : null;\n    };\n    AnimationUrlData.prototype.dispose = function () {\n        this.textureXhrSettings = null;\n        this.atlasXhrSettings = null;\n        this.boneXhrSettings = null;\n    };\n    return AnimationUrlData;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/Animation/ianimationbase.ts?");

/***/ }),

/***/ "./src/rooms/action/AI.ts":
/*!********************************!*\
  !*** ./src/rooms/action/AI.ts ***!
  \********************************/
/*! exports provided: AI */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AI\", function() { return AI; });\n/* harmony import */ var _AIAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AIAction */ \"./src/rooms/action/AIAction.ts\");\n/* harmony import */ var _ActionGroup__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ActionGroup */ \"./src/rooms/action/ActionGroup.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar AI = /** @class */ (function (_super) {\n    __extends(AI, _super);\n    function AI(owner) {\n        var _this = _super.call(this) || this;\n        _this.owner = owner;\n        _this.group = new _ActionGroup__WEBPACK_IMPORTED_MODULE_1__[\"ActionGroup\"]();\n        return _this;\n    }\n    AI.prototype.execute = function () {\n        this.group.nextAction();\n    };\n    AI.prototype.nextAction = function () {\n        this.group.nextAction();\n    };\n    AI.prototype.addAction = function (action, isbreak) {\n        if (isbreak === void 0) { isbreak = false; }\n        action.group = this.group;\n        action.owner = this.owner;\n        if (isbreak && this.group.current && this.group.current.isBreak) {\n            this.group.stopCurrentAction();\n        }\n        this.group.addAction(action);\n        if (!this.group.isExecuting())\n            this.group.nextAction();\n    };\n    AI.prototype.breakAction = function () {\n        this.group.breakAction();\n    };\n    AI.prototype.destroy = function () {\n        this.group.destroy();\n        this.owner = null;\n    };\n    return AI;\n}(_AIAction__WEBPACK_IMPORTED_MODULE_0__[\"AIAction\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/action/AI.ts?");

/***/ }),

/***/ "./src/rooms/action/AIAction.ts":
/*!**************************************!*\
  !*** ./src/rooms/action/AIAction.ts ***!
  \**************************************/
/*! exports provided: AIAction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AIAction\", function() { return AIAction; });\nvar AIAction = /** @class */ (function () {\n    function AIAction() {\n        this.isBreak = true;\n        this.isEnd = false;\n    }\n    AIAction.prototype.nextAction = function () {\n        this.isEnd = true;\n        if (this.group) {\n            this.group.nextAction();\n        }\n    };\n    AIAction.prototype.destroy = function () {\n        this.owner = null;\n        this.group = null;\n    };\n    return AIAction;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/action/AIAction.ts?");

/***/ }),

/***/ "./src/rooms/action/ActionGroup.ts":
/*!*****************************************!*\
  !*** ./src/rooms/action/ActionGroup.ts ***!
  \*****************************************/
/*! exports provided: ActionGroup */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ActionGroup\", function() { return ActionGroup; });\nvar ActionGroup = /** @class */ (function () {\n    function ActionGroup() {\n    }\n    ActionGroup.prototype.addAction = function (action) {\n        if (!this.list)\n            this.list = [];\n        this.list.push(action);\n    };\n    ActionGroup.prototype.nextAction = function () {\n        if (this.current) {\n            this.current.destroy();\n            this.current = null;\n        }\n        if (this.list && this.list.length > 0) {\n            this.current = this.list.splice(0, 1)[0];\n            this.current.isEnd = false;\n            this.current.execute();\n        }\n    };\n    ActionGroup.prototype.setComplHandler = function (handler) {\n        this.compHandler = handler;\n    };\n    ActionGroup.prototype.clear = function () {\n        if (this.list) {\n            for (var _i = 0, _a = this.list; _i < _a.length; _i++) {\n                var action = _a[_i];\n                action.destroy();\n            }\n            this.list.length = 0;\n        }\n        if (this.current) {\n            this.current.destroy();\n            this.current = null;\n        }\n    };\n    ActionGroup.prototype.stopCurrentAction = function () {\n        if (this.current) {\n            this.current.destroy();\n            this.current = null;\n        }\n    };\n    ActionGroup.prototype.isExecuting = function () {\n        if (this.current && !this.current.isEnd)\n            return true;\n        return false;\n    };\n    ActionGroup.prototype.hasLast = function () {\n        if (!this.list || this.list.length === 0)\n            return false;\n        else\n            return true;\n    };\n    ActionGroup.prototype.breakAction = function () {\n        for (var _i = 0, _a = this.list; _i < _a.length; _i++) {\n            var action = _a[_i];\n            action.destroy();\n        }\n        this.list.length = 0;\n        if (this.current && this.current.isBreak) {\n            this.current.destroy();\n            this.current = null;\n        }\n    };\n    ActionGroup.prototype.destroy = function () {\n        this.clear();\n        this.list = null;\n        if (this.sleepAction) {\n            this.sleepAction.destroy();\n            this.sleepAction = null;\n        }\n        if (this.compHandler) {\n            this.compHandler.clear();\n            this.compHandler = null;\n        }\n    };\n    return ActionGroup;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/action/ActionGroup.ts?");

/***/ }),

/***/ "./src/rooms/bubble/bubble.container.ts":
/*!**********************************************!*\
  !*** ./src/rooms/bubble/bubble.container.ts ***!
  \**********************************************/
/*! exports provided: BubbleContainer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BubbleContainer\", function() { return BubbleContainer; });\n/* harmony import */ var _bubble__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bubble */ \"./src/rooms/bubble/bubble.ts\");\n/* harmony import */ var _ui_components_dynamic_image__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ui/components/dynamic.image */ \"./src/ui/components/dynamic.image.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar BubbleContainer = /** @class */ (function (_super) {\n    __extends(BubbleContainer, _super);\n    function BubbleContainer(scene, scale) {\n        var _this = _super.call(this, scene) || this;\n        _this.mBubbles = [];\n        _this.mScale = scale;\n        _this.mArrow = new _ui_components_dynamic_image__WEBPACK_IMPORTED_MODULE_1__[\"DynamicImage\"](_this.scene, 0, 0);\n        _this.mArrow.scale = scale;\n        _this.mArrow.load(_utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Url\"].getRes(\"ui/chat/bubble_arrow.png\"));\n        _this.add(_this.mArrow);\n        return _this;\n    }\n    BubbleContainer.prototype.addBubble = function (text, bubbleSetting) {\n        var bubble = this.createBubble(bubbleSetting);\n        var len = this.mBubbles.length;\n        var bul = null;\n        var h = 0;\n        bubble.show(text, bubbleSetting);\n        for (var i = len - 1; i >= 0; i--) {\n            bul = this.mBubbles[i];\n            h += bul.minHeight + 5 * this.mScale;\n            bul.tweenTo(-h);\n        }\n        this.add(bubble);\n        this.mArrow.y = 4 * this.mScale;\n    };\n    BubbleContainer.prototype.updatePos = function (x, y) {\n        this.x = x * this.mScale;\n        this.y = y * this.mScale;\n    };\n    BubbleContainer.prototype.destroy = function (fromScene) {\n        if (!this.mBubbles)\n            return;\n        var len = this.mBubbles.length;\n        var bul = null;\n        for (var i = len - 1; i >= 0; i--) {\n            bul = this.mBubbles[i];\n            if (!bul)\n                continue;\n            bul.destroy();\n        }\n        this.mBubbles = null;\n        this.removeFormParent();\n        _super.prototype.destroy.call(this, fromScene);\n    };\n    BubbleContainer.prototype.removeFormParent = function () {\n        if (this.parentContainer) {\n            this.parentContainer.remove(this);\n        }\n    };\n    BubbleContainer.prototype.createBubble = function (bubbleSetting) {\n        if (!bubbleSetting)\n            return;\n        var bubble = new _bubble__WEBPACK_IMPORTED_MODULE_0__[\"Bubble\"](this.scene, this.mScale);\n        this.mBubbles.push(bubble);\n        var duration = bubbleSetting.duration ? bubbleSetting.duration : 5000;\n        bubble.durationRemove(duration, this.onRemoveBubble, this);\n        return bubble;\n    };\n    BubbleContainer.prototype.onRemoveBubble = function (bubble) {\n        if (!bubble) {\n            return;\n        }\n        this.mBubbles = this.mBubbles.filter(function (val) { return bubble !== val; });\n        this.remove(bubble);\n        bubble.destroy();\n        if (this.mBubbles.length === 0) {\n            this.removeFormParent();\n        }\n    };\n    return BubbleContainer;\n}(Phaser.GameObjects.Container));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/bubble/bubble.container.ts?");

/***/ }),

/***/ "./src/rooms/bubble/bubble.ts":
/*!************************************!*\
  !*** ./src/rooms/bubble/bubble.ts ***!
  \************************************/
/*! exports provided: Bubble */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Bubble\", function() { return Bubble; });\n/* harmony import */ var _ui_components_dynamic_ninepatch__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../ui/components/dynamic.ninepatch */ \"./src/ui/components/dynamic.ninepatch.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar Bubble = /** @class */ (function (_super) {\n    __extends(Bubble, _super);\n    function Bubble(scene, scale) {\n        var _this = _super.call(this, scene) || this;\n        _this.mMinWidth = 0;\n        _this.mMinHeight = 0;\n        _this.mScale = scale;\n        _this.x = -40 * scale;\n        return _this;\n    }\n    Bubble.prototype.show = function (text, bubble) {\n        this.mChatContent = this.scene.make.text({\n            text: text,\n            style: {\n                x: 0,\n                y: 4 * this.mScale,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_2__[\"Font\"].DEFULT_FONT,\n                fontSize: 14 * this.mScale,\n                color: \"#000000\",\n                origin: { x: 0, y: 0 },\n                wordWrap: { width: 300, useAdvancedWrap: true }\n            }\n        }, false);\n        this.add(this.mChatContent);\n        this.mMinHeight = this.mChatContent.height + 26;\n        this.mMinHeight = this.mMinHeight < 54 ? 54 : this.mMinHeight;\n        this.mMinWidth = this.mChatContent.width + 40;\n        this.mMinWidth = this.mMinWidth < 69 ? 69 : this.mMinWidth;\n        this.mBubbleBg = new _ui_components_dynamic_ninepatch__WEBPACK_IMPORTED_MODULE_0__[\"DynamicNinepatch\"](this.scene, this);\n        var res = _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getOsdRes(bubble.bubbleResource || \"platformitem/thumbnail/bubble_01.png\");\n        this.mBubbleBg.load(res, {\n            width: this.mMinWidth,\n            height: this.mMinHeight,\n            key: res,\n            columns: [34, 2, 32],\n            rows: [42, 2, 9]\n        }, this.onComplete, this);\n    };\n    Bubble.prototype.tweenTo = function (toY) {\n        this.mToY = toY;\n        this.scene.tweens.add({\n            targets: this,\n            y: toY,\n            alpha: 1,\n            duration: 200\n        });\n    };\n    Bubble.prototype.durationRemove = function (duration, callback, callbackContext) {\n        var _this = this;\n        this.mTweenCompleteCallback = callback;\n        this.mTweenCallContext = callbackContext;\n        this.mRemoveDelay = setTimeout(function () {\n            _this.removeTween();\n        }, duration);\n    };\n    Bubble.prototype.removeTween = function () {\n        var _this = this;\n        var endY = this.mToY - 30;\n        var tween = this.scene.tweens.add({\n            targets: this,\n            y: endY,\n            alpha: 0,\n            duration: 200,\n            onComplete: function () {\n                if (_this.mTweenCompleteCallback) {\n                    _this.mTweenCompleteCallback.call(_this.mTweenCallContext, _this);\n                }\n            }\n        });\n    };\n    Bubble.prototype.destroy = function () {\n        if (this.mChatContent) {\n            this.mChatContent.destroy(true);\n        }\n        this.mChatContent = null;\n        this.mMinWidth = 0;\n        this.mMinHeight = 0;\n        this.mToY = 0;\n        this.mTweenCompleteCallback = null;\n        this.mTweenCallContext = null;\n        if (this.mRemoveDelay) {\n            clearTimeout(this.mRemoveDelay);\n        }\n        _super.prototype.destroy.call(this, true);\n    };\n    Bubble.prototype.onComplete = function (img) {\n        if (img) {\n            img.setOrigin(0, 0);\n            this.addAt(img, 0);\n            var bound = this.getBounds();\n            this.mChatContent.x = this.mMinWidth - this.mChatContent.width >> 1;\n            this.mChatContent.y = (this.mMinHeight - this.mChatContent.height >> 1) + 6;\n        }\n    };\n    Object.defineProperty(Bubble.prototype, \"minWidth\", {\n        get: function () {\n            return this.mMinWidth;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Bubble.prototype, \"minHeight\", {\n        get: function () {\n            return this.mMinHeight;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Bubble;\n}(Phaser.GameObjects.Container));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/bubble/bubble.ts?");

/***/ }),

/***/ "./src/rooms/cameras/block.object.ts":
/*!*******************************************!*\
  !*** ./src/rooms/cameras/block.object.ts ***!
  \*******************************************/
/*! exports provided: BlockObject */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BlockObject\", function() { return BlockObject; });\n/* harmony import */ var _element_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../element/element */ \"./src/rooms/element/element.ts\");\n/* harmony import */ var _utils_pos__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/pos */ \"./src/utils/pos.ts\");\n\n\nvar BlockObject = /** @class */ (function () {\n    function BlockObject(mRoomService) {\n        this.mRoomService = mRoomService;\n        this.isUsed = false;\n        this.mRenderable = false;\n        this.mBlockable = true;\n        this.mInputEnable = _element_element__WEBPACK_IMPORTED_MODULE_0__[\"InputEnable\"].Diasble;\n        this.isUsed = true;\n    }\n    BlockObject.prototype.setRenderable = function (isRenderable, delay) {\n        var _this = this;\n        if (delay === void 0) { delay = 0; }\n        if (this.mRenderable !== isRenderable) {\n            this.mRenderable = isRenderable;\n            if (isRenderable) {\n                this.addDisplay();\n                if (delay > 0) {\n                    this.fadeIn();\n                }\n                return;\n            }\n            else {\n                if (delay > 0) {\n                    this.fadeOut(function () {\n                        _this.removeDisplay();\n                    });\n                }\n                else {\n                    this.removeDisplay();\n                }\n            }\n        }\n    };\n    BlockObject.prototype.getPosition = function () {\n        var pos;\n        if (this.mDisplay) {\n            pos = new _utils_pos__WEBPACK_IMPORTED_MODULE_1__[\"Pos\"](this.mDisplay.x, this.mDisplay.y, this.mDisplay.z);\n        }\n        else {\n            pos = new _utils_pos__WEBPACK_IMPORTED_MODULE_1__[\"Pos\"]();\n        }\n        return pos;\n    };\n    BlockObject.prototype.getPosition45 = function () {\n        var pos = this.getPosition();\n        if (!pos)\n            return new _utils_pos__WEBPACK_IMPORTED_MODULE_1__[\"Pos\"]();\n        return this.mRoomService.transformTo45(pos);\n    };\n    BlockObject.prototype.getRenderable = function () {\n        return this.mRenderable;\n    };\n    BlockObject.prototype.fadeIn = function (callback) {\n        if (!this.mDisplay)\n            return;\n        this.mDisplay.fadeIn(callback);\n    };\n    BlockObject.prototype.fadeOut = function (callback) {\n        if (!this.mDisplay)\n            return;\n        this.mDisplay.fadeOut(callback);\n    };\n    BlockObject.prototype.fadeAlpha = function (alpha) {\n        if (!this.mDisplay)\n            return;\n        // this.mDisplay.alpha = alpha;\n    };\n    BlockObject.prototype.setInputEnable = function (val) {\n        // if (this.mInputEnable !== val) {\n        this.mInputEnable = val;\n        if (this.mDisplay) {\n            switch (val) {\n                case _element_element__WEBPACK_IMPORTED_MODULE_0__[\"InputEnable\"].Interactive:\n                    if (this.mModel && this.mModel.hasInteractive) {\n                        this.mDisplay.setInteractive();\n                    }\n                    break;\n                case _element_element__WEBPACK_IMPORTED_MODULE_0__[\"InputEnable\"].Enable:\n                    this.mDisplay.setInteractive();\n                    break;\n                default:\n                    this.mDisplay.disableInteractive();\n                    break;\n            }\n        }\n        // }\n    };\n    BlockObject.prototype.setBlockable = function (val) {\n        if (this.mBlockable !== val) {\n            this.mBlockable = val;\n            if (this.mDisplay && this.mRoomService) {\n                if (val) {\n                    this.mRoomService.addBlockObject(this);\n                }\n                else {\n                    this.mRoomService.removeBlockObject(this);\n                }\n            }\n        }\n        return this;\n    };\n    BlockObject.prototype.destroy = function () {\n        if (this.mDisplay) {\n            this.mDisplay.destroy();\n            this.mDisplay = null;\n        }\n    };\n    BlockObject.prototype.clear = function () {\n        this.isUsed = false;\n    };\n    BlockObject.prototype.addDisplay = function () { };\n    BlockObject.prototype.removeDisplay = function () {\n        if (!this.mDisplay) {\n            return;\n        }\n        this.mDisplay.removeFromParent();\n    };\n    BlockObject.prototype.addToBlock = function () {\n        if (this.mBlockable) {\n            this.mRoomService.addBlockObject(this);\n        }\n        else {\n            this.addDisplay();\n        }\n    };\n    BlockObject.prototype.removeFromBlock = function (remove) {\n        if (this.mBlockable) {\n            this.mRoomService.removeBlockObject(this);\n            if (remove) {\n                this.setRenderable(false);\n            }\n        }\n    };\n    BlockObject.prototype.updateBlock = function () {\n        if (this.mBlockable) {\n            this.mRoomService.updateBlockObject(this);\n        }\n    };\n    Object.defineProperty(BlockObject.prototype, \"id\", {\n        get: function () {\n            return -1;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return BlockObject;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/cameras/block.object.ts?");

/***/ }),

/***/ "./src/rooms/cameras/cameras.manager.ts":
/*!**********************************************!*\
  !*** ./src/rooms/cameras/cameras.manager.ts ***!
  \**********************************************/
/*! exports provided: CamerasManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CamerasManager\", function() { return CamerasManager; });\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_log__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/log */ \"./src/utils/log.ts\");\n/* harmony import */ var _utils_rectangle45__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/rectangle45 */ \"./src/utils/rectangle45.ts\");\n/* harmony import */ var _utils_pos__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/pos */ \"./src/utils/pos.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar CamerasManager = /** @class */ (function (_super) {\n    __extends(CamerasManager, _super);\n    function CamerasManager(mRoomService) {\n        var _this = _super.call(this) || this;\n        _this.mRoomService = mRoomService;\n        _this.MINI_VIEW_SIZE = 30;\n        _this.VIEW_PORT_SIZE = 30;\n        _this.viewPort = new Phaser.Geom.Rectangle();\n        _this.miniViewPort = new Phaser.Geom.Rectangle();\n        _this.zoom = 1;\n        if (_this.mRoomService && _this.mRoomService.world) {\n            _this.zoom = _this.mRoomService.world.scaleRatio;\n        }\n        _this.mCameras = [];\n        return _this;\n        // this.zoom = this.mRoomService.world.scaleRatio;\n    }\n    CamerasManager.prototype.getViewPort = function () {\n        if (!this.mMain)\n            return;\n        var worldView = this.mMain.worldView;\n        // const out = new Phaser.Geom.Rectangle(worldView.x, worldView.y, worldView.width, worldView.height);\n        // out.x -= out.width >> 1;\n        // out.y -= out.height >> 1;\n        // out.width *= 2;\n        // out.height *= 2;\n        // out.x -= 200;\n        // out.y -= 200;\n        // out.width += 400;\n        // out.height += 400;\n        // this.viewPort.setPosition(worldView.x - worldView.width / 2, worldView.y - worldView.height / 2);\n        this.viewPort.x = worldView.x / this.zoom + (worldView.width / this.zoom - this.viewPort.width >> 1);\n        this.viewPort.y = worldView.y / this.zoom + (worldView.height / this.zoom - this.viewPort.height >> 1);\n        return this.viewPort;\n    };\n    CamerasManager.prototype.getMiniViewPort = function () {\n        if (!this.mMain)\n            return;\n        var worldView = this.mMain.worldView;\n        this.miniViewPort.x = worldView.x / this.zoom + (worldView.width / this.zoom - this.miniViewPort.width >> 1);\n        this.miniViewPort.y = worldView.y / this.zoom + (worldView.height / this.zoom - this.miniViewPort.height >> 1);\n        var pos = this.mRoomService.transformTo45(new _utils_pos__WEBPACK_IMPORTED_MODULE_4__[\"Pos\"](this.miniViewPort.x + (this.miniViewPort.width >> 1), this.miniViewPort.y));\n        return new _utils_rectangle45__WEBPACK_IMPORTED_MODULE_3__[\"Rectangle45\"](pos.x, pos.y, this.MINI_VIEW_SIZE, this.MINI_VIEW_SIZE);\n    };\n    Object.defineProperty(CamerasManager.prototype, \"camera\", {\n        get: function () {\n            return this.mMain;\n        },\n        set: function (camera) {\n            this.mMain = camera;\n            this.addCamera(camera);\n            this.setViewPortSize();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CamerasManager.prototype.resize = function (width, height) {\n        this.resetCameraSize(width, height);\n    };\n    CamerasManager.prototype.setScroll = function (x, y) {\n        if (!this.mMain) {\n            return;\n        }\n        for (var _i = 0, _a = this.mCameras; _i < _a.length; _i++) {\n            var camera = _a[_i];\n            camera.setScroll(x, y);\n        }\n        // this.mMain.setScroll(x, y);\n    };\n    CamerasManager.prototype.offsetScroll = function (x, y) {\n        if (!this.mMain) {\n            return;\n        }\n        for (var _i = 0, _a = this.mCameras; _i < _a.length; _i++) {\n            var camera = _a[_i];\n            camera.scrollX += x / this.camera.zoom;\n            camera.scrollY += y / this.camera.zoom;\n        }\n        this.moving = true;\n        // this.mCamera.setScroll(x, y);\n    };\n    CamerasManager.prototype.startFollow = function (target) {\n        this.mTarget = target;\n        if (this.mMain && target) {\n            for (var _i = 0, _a = this.mCameras; _i < _a.length; _i++) {\n                var camera = _a[_i];\n                camera.startFollow(target);\n            }\n            // this.mMain.startFollow(target);\n        }\n    };\n    CamerasManager.prototype.stopFollow = function () {\n        this.mTarget = null;\n        if (this.mMain) {\n            for (var _i = 0, _a = this.mCameras; _i < _a.length; _i++) {\n                var camera = _a[_i];\n                camera.stopFollow();\n            }\n            // this.mMain.stopFollow();\n        }\n    };\n    CamerasManager.prototype.addCamera = function (camera) {\n        var index = this.mCameras.indexOf(camera);\n        if (index === -1) {\n            this.mCameras.push(camera);\n        }\n        if (this.mTarget) {\n            camera.startFollow(this.mTarget);\n        }\n    };\n    CamerasManager.prototype.removeCamera = function (camera) {\n        var index = this.mCameras.indexOf(camera);\n        if (index > -1) {\n            this.mCameras.splice(index, 1);\n        }\n    };\n    CamerasManager.prototype.setBounds = function (x, y, width, height, centerOn) {\n        if (!this.mMain) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_2__[\"Logger\"].getInstance().error(\"camera does not exist\");\n            return;\n        }\n        for (var _i = 0, _a = this.mCameras; _i < _a.length; _i++) {\n            var camera = _a[_i];\n            camera.setBounds(x, y, width, height, centerOn);\n        }\n        // this.mMain.setBounds(x, y, width, height, centerOn);\n    };\n    CamerasManager.prototype.setPosition = function (x, y) {\n        if (!this.mMain) {\n            return;\n        }\n        for (var _i = 0, _a = this.mCameras; _i < _a.length; _i++) {\n            var camera = _a[_i];\n            camera.setPosition(x, y);\n        }\n        // this.mMain.setPosition(x, y);\n    };\n    CamerasManager.prototype.syncToEditor = function () {\n        if (!this.mMain) {\n            return;\n        }\n        var cameraView = this.mMain.worldView;\n        var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_editor\"].OPCODE._OP_CLIENT_REQ_EDITOR_RESET_CAMERA);\n        var content = pkt.content;\n        content.x = cameraView.x;\n        content.y = cameraView.y;\n        content.width = cameraView.width;\n        content.height = cameraView.height;\n        this.connection.send(pkt);\n    };\n    CamerasManager.prototype.centerCameas = function () {\n    };\n    CamerasManager.prototype.syncCamera = function () {\n        if (!this.mMain) {\n            return;\n        }\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_RESET_CAMERA_SIZE);\n        var size = packet.content;\n        size.width = this.mMain.width / this.mMain.zoom;\n        size.height = this.mMain.height / this.mMain.zoom;\n        this.connection.send(packet);\n    };\n    CamerasManager.prototype.syncCameraScroll = function () {\n        if (!this.mMain) {\n            return;\n        }\n        var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_SET_CAMERA_POSITION);\n        var content = pkt.content;\n        var pos = pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].PBPoint3f.create();\n        pos.x = this.mMain.scrollX / Math.ceil(window.devicePixelRatio);\n        pos.y = this.mMain.scrollY / Math.ceil(window.devicePixelRatio);\n        content.pos = pos;\n        this.connection.send(pkt);\n    };\n    CamerasManager.prototype.scrollTargetPoint = function (x, y) {\n        if (!this.mMain) {\n            return;\n        }\n        this.setScroll(x * this.mRoomService.world.scaleRatio - this.mMain.width / 2, y * this.mRoomService.world.scaleRatio - this.mMain.height / 2);\n    };\n    CamerasManager.prototype.destroy = function () {\n        this.mMain = undefined;\n        this.mCameras = [];\n    };\n    CamerasManager.prototype.resetCameraSize = function (width, height) {\n        if (!this.connection) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_2__[\"Logger\"].getInstance().error(\"connection is undefined\");\n            return;\n        }\n        this.syncCamera();\n    };\n    CamerasManager.prototype.setViewPortSize = function () {\n        if (!this.mMain) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_2__[\"Logger\"].getInstance().error(\"camera does not exist\");\n            return;\n        }\n        var size = this.mRoomService.roomSize;\n        if (!size) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_2__[\"Logger\"].getInstance().error(\"room size does not exist\");\n            return;\n        }\n        var viewW = (this.VIEW_PORT_SIZE + this.VIEW_PORT_SIZE) * (size.tileWidth / 2);\n        var viewH = (this.VIEW_PORT_SIZE + this.VIEW_PORT_SIZE) * (size.tileHeight / 2);\n        this.viewPort.setSize(viewW, viewH);\n        var miniViewW = (this.MINI_VIEW_SIZE + this.MINI_VIEW_SIZE) * (size.tileWidth / 2);\n        var miniviewH = (this.MINI_VIEW_SIZE + this.MINI_VIEW_SIZE) * (size.tileHeight / 2);\n        this.miniViewPort.setSize(miniViewW, miniviewH);\n    };\n    Object.defineProperty(CamerasManager.prototype, \"connection\", {\n        get: function () {\n            if (!this.mRoomService) {\n                _utils_log__WEBPACK_IMPORTED_MODULE_2__[\"Logger\"].getInstance().error(\"room service is undefined\");\n                return;\n            }\n            return this.mRoomService.connection;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CamerasManager.prototype, \"moving\", {\n        get: function () {\n            return this.mMoving;\n        },\n        set: function (val) {\n            this.mMoving = val;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CamerasManager.prototype, \"targetFollow\", {\n        get: function () {\n            return this.mTarget;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return CamerasManager;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PacketHandler\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/cameras/cameras.manager.ts?");

/***/ }),

/***/ "./src/rooms/cameras/editor.cameras.manager.ts":
/*!*****************************************************!*\
  !*** ./src/rooms/cameras/editor.cameras.manager.ts ***!
  \*****************************************************/
/*! exports provided: EditorCamerasManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EditorCamerasManager\", function() { return EditorCamerasManager; });\n/* harmony import */ var _cameras_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./cameras.manager */ \"./src/rooms/cameras/cameras.manager.ts\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar EditorCamerasManager = /** @class */ (function (_super) {\n    __extends(EditorCamerasManager, _super);\n    function EditorCamerasManager() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EditorCamerasManager.prototype.centerCameas = function () {\n        if (!this.mMain || !this.mRoomService) {\n            return;\n        }\n        var roomSize = this.mRoomService.roomSize;\n        this.mMain.setScroll((roomSize.sceneWidth - this.mMain.width) >> 1, (roomSize.sceneHeight - this.mMain.height) >> 1);\n        var cameraView = this.mMain.worldView;\n        var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_1__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_editor\"].OPCODE._OP_CLIENT_REQ_EDITOR_RESET_CAMERA);\n        var content = pkt.content;\n        content.x = this.mMain.scrollX;\n        content.y = this.mMain.scrollY;\n        content.width = this.mMain.width;\n        content.height = this.mMain.height;\n        this.connection.send(pkt);\n    };\n    EditorCamerasManager.prototype.offsetScroll = function (x, y) {\n        if (!this.mMain) {\n            return;\n        }\n        for (var _i = 0, _a = this.mCameras; _i < _a.length; _i++) {\n            var camera = _a[_i];\n            camera.scrollX += x / this.zoom;\n            camera.scrollY += y / this.zoom;\n        }\n        // this.mMain.scrollX += x / this.zoom;\n        // this.mMain.scrollY += y / this.zoom;\n        // this.mCamera.setScroll(x, y);\n        // const pkt = new PBpacket(op_editor.OPCODE._OP_CLIENT_REQ_EDITOR_RESET_CAMERA);\n        // const content: op_editor.IOP_CLIENT_REQ_EDITOR_RESET_CAMERA = pkt.content;\n        // content.x = this.mMain.scrollX / this.zoom;\n        // content.y = this.mMain.scrollY / this.zoom;\n        // content.width = 0;\n        // content.height = 0;\n        // this.connection.send(pkt);\n    };\n    EditorCamerasManager.prototype.syncCameraScroll = function () {\n        var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_1__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_editor\"].OPCODE._OP_CLIENT_REQ_EDITOR_RESET_CAMERA);\n        var content = pkt.content;\n        content.x = this.mMain.scrollX / this.zoom;\n        content.y = this.mMain.scrollY / this.zoom;\n        content.width = 0;\n        content.height = 0;\n        this.connection.send(pkt);\n    };\n    return EditorCamerasManager;\n}(_cameras_manager__WEBPACK_IMPORTED_MODULE_0__[\"CamerasManager\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/cameras/editor.cameras.manager.ts?");

/***/ }),

/***/ "./src/rooms/cameras/play.camera.ts":
/*!******************************************!*\
  !*** ./src/rooms/cameras/play.camera.ts ***!
  \******************************************/
/*! exports provided: PlayCamera */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PlayCamera\", function() { return PlayCamera; });\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar PlayCamera = /** @class */ (function (_super) {\n    __extends(PlayCamera, _super);\n    function PlayCamera(x, y, width, height, pixelRatio, moveRatio) {\n        var _this = _super.call(this, x, y, width, height) || this;\n        _this.pixelRatio = pixelRatio;\n        _this.moveRatio = moveRatio || 1;\n        return _this;\n    }\n    PlayCamera.prototype.startFollow = function (target, roundPixels, lerpX, lerpY, offsetX, offsetY) {\n        if (roundPixels === undefined) {\n            roundPixels = false;\n        }\n        if (lerpX === undefined) {\n            lerpX = 1;\n        }\n        if (lerpY === undefined) {\n            lerpY = lerpX;\n        }\n        if (offsetX === undefined) {\n            offsetX = 0;\n        }\n        if (offsetY === undefined) {\n            offsetY = offsetX;\n        }\n        this._follow = target;\n        this.roundPixels = roundPixels;\n        // lerpX = Clamp(lerpX, 0, 1);\n        // lerpY = Clamp(lerpY, 0, 1);\n        this.lerp.set(lerpX, lerpY);\n        this.followOffset.set(offsetX, offsetY);\n        var originX = this.width / 2;\n        var originY = this.height / 2;\n        var fx = target.x * this.pixelRatio * this.moveRatio - offsetX;\n        var fy = target.y * this.pixelRatio * this.moveRatio - offsetY;\n        this.midPoint.set(fx, fy);\n        this.scrollX = fx - originX;\n        this.scrollY = fy - originY;\n        if (this.useBounds) {\n            this.scrollX = this.clampX(this.scrollX);\n            this.scrollY = this.clampY(this.scrollY);\n        }\n        return this;\n    };\n    PlayCamera.prototype.preRender = function (resolution) {\n        var width = this.width;\n        var height = this.height;\n        var halfWidth = width * 0.5;\n        var halfHeight = height * 0.5;\n        var zoom = this.zoom * resolution;\n        var matrix = this.matrix;\n        var originX = width * this.originX;\n        var originY = height * this.originY;\n        var follow = this._follow;\n        var deadzone = this.deadzone;\n        var sx = this.scrollX;\n        var sy = this.scrollY;\n        if (deadzone) {\n            // CenterOn(deadzone, this.midPoint.x, this.midPoint.y);\n        }\n        if (follow && !this.panEffect.isRunning) {\n            var fx = (follow.x * this.pixelRatio * this.moveRatio - this.followOffset.x);\n            var fy = (follow.y * this.pixelRatio * this.moveRatio - this.followOffset.y);\n            if (deadzone) {\n                if (fx < deadzone.x) {\n                    sx = this.linear(sx, sx - (deadzone.x - fx), this.lerp.x);\n                }\n                else if (fx > deadzone.right) {\n                    sx = this.linear(sx, sx + (fx - deadzone.right), this.lerp.x);\n                }\n                if (fy < deadzone.y) {\n                    sy = this.linear(sy, sy - (deadzone.y - fy), this.lerp.y);\n                }\n                else if (fy > deadzone.bottom) {\n                    sy = this.linear(sy, sy + (fy - deadzone.bottom), this.lerp.y);\n                }\n            }\n            else {\n                sx = this.linear(sx, fx - originX, this.lerp.x);\n                sy = this.linear(sy, fy - originY, this.lerp.y);\n            }\n        }\n        if (this.useBounds) {\n            sx = this.clampX(sx);\n            sy = this.clampY(sy);\n        }\n        if (this.roundPixels) {\n            originX = Math.round(originX);\n            originY = Math.round(originY);\n        }\n        //  Values are in pixels and not impacted by zooming the Camera\n        this.scrollX = sx;\n        this.scrollY = sy;\n        var midX = sx + halfWidth;\n        var midY = sy + halfHeight;\n        //  The center of the camera, in world space, so taking zoom into account\n        //  Basically the pixel value of what it's looking at in the middle of the cam\n        this.midPoint.set(midX, midY);\n        var displayWidth = width / zoom;\n        var displayHeight = height / zoom;\n        this.worldView.setTo(midX - (displayWidth / 2), midY - (displayHeight / 2), displayWidth, displayHeight);\n        matrix.applyITRS(this.x + originX, this.y + originY, this.rotation, zoom, zoom);\n        matrix.translate(-originX, -originY);\n        this.shakeEffect.preRender();\n    };\n    PlayCamera.prototype.linear = function (p0, p1, t) {\n        return (p1 - p0) * t + p0;\n    };\n    return PlayCamera;\n}(Phaser.Cameras.Scene2D.Camera));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/cameras/play.camera.ts?");

/***/ }),

/***/ "./src/rooms/cameras/viewblock.manager.ts":
/*!************************************************!*\
  !*** ./src/rooms/cameras/viewblock.manager.ts ***!
  \************************************************/
/*! exports provided: ViewblockManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ViewblockManager\", function() { return ViewblockManager; });\n/* harmony import */ var _viewblock__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./viewblock */ \"./src/rooms/cameras/viewblock.ts\");\n\nvar ViewblockManager = /** @class */ (function () {\n    function ViewblockManager(cameras) {\n        this.mBlocks = [];\n        this.mDelay = 0;\n        this.mCameras = cameras;\n    }\n    ViewblockManager.prototype.add = function (e) {\n        if (!this.mCameras)\n            return false;\n        var miniView = this.mCameras.getMiniViewPort();\n        for (var _i = 0, _a = this.mBlocks; _i < _a.length; _i++) {\n            var block = _a[_i];\n            var rect = block.rectangle;\n            var ePos = e.getPosition();\n            if (!ePos)\n                return;\n            if (rect.contains(ePos.x, ePos.y)) {\n                block.add(e, miniView);\n                return;\n            }\n        }\n    };\n    ViewblockManager.prototype.remove = function (e) {\n        if (!e)\n            return;\n        for (var _i = 0, _a = this.mBlocks; _i < _a.length; _i++) {\n            var block = _a[_i];\n            if (block.remove(e)) {\n                return;\n            }\n        }\n    };\n    ViewblockManager.prototype.check = function (e) {\n        if (!e)\n            return;\n        for (var _i = 0, _a = this.mBlocks; _i < _a.length; _i++) {\n            var block = _a[_i];\n            if (block.inCamera) {\n                var rect = block.rectangle;\n                var pos = e.getPosition();\n                if (rect.contains(pos.x, pos.y)) {\n                    if (!block.getElement(e.id)) {\n                        this.remove(e);\n                        block.add(e);\n                    }\n                    return;\n                }\n            }\n        }\n    };\n    ViewblockManager.prototype.int = function (size) {\n        if (!size) {\n            return;\n        }\n        this.mBlocks = [];\n        var colSize = 10;\n        var viewW = (colSize + colSize) * (size.tileWidth / 2);\n        var viewH = (colSize + colSize) * (size.tileHeight / 2);\n        var blockW = size.sceneWidth / viewW;\n        var blockH = size.sceneHeight / viewH;\n        var index = 0;\n        for (var i = 0; i < blockW; i++) {\n            for (var j = 0; j < blockH; j++) {\n                var block = new _viewblock__WEBPACK_IMPORTED_MODULE_0__[\"Viewblock\"](new Phaser.Geom.Rectangle(i * viewW, j * viewH, viewW, viewH), index++);\n                this.mBlocks.push(block);\n                // this.layerManager.addToAtmosphere(block.drawBoard(this.scene));\n            }\n        }\n    };\n    ViewblockManager.prototype.update = function (time, delta) {\n        if (!this.mCameras)\n            return;\n        // if (time - this.mDelay < 3000) {\n        //     return;\n        // }\n        this.mDelay = time;\n        var bound = this.mCameras.getViewPort();\n        var miniViewPort = this.mCameras.getMiniViewPort();\n        for (var _i = 0, _a = this.mBlocks; _i < _a.length; _i++) {\n            var block = _a[_i];\n            block.check(bound, miniViewPort);\n        }\n    };\n    ViewblockManager.prototype.destroy = function () {\n        this.mDelay = 0;\n    };\n    return ViewblockManager;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/cameras/viewblock.manager.ts?");

/***/ }),

/***/ "./src/rooms/cameras/viewblock.ts":
/*!****************************************!*\
  !*** ./src/rooms/cameras/viewblock.ts ***!
  \****************************************/
/*! exports provided: Viewblock */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Viewblock\", function() { return Viewblock; });\n/**\n * \n */\nvar Viewblock = /** @class */ (function () {\n    function Viewblock(mRect, index) {\n        this.mRect = mRect;\n        // private mElements: IElement[] = [];\n        this.mElements = new Map();\n        this.mIndex = index;\n    }\n    Viewblock.prototype.add = function (element, miniViewPort) {\n        // this.mElements.push(element);\n        this.mElements.set(element.id, element);\n        if (!miniViewPort) {\n            return;\n        }\n        var pos = element.getPosition45();\n        element.setRenderable(miniViewPort.contains(pos.x, pos.y) && this.mInCamera);\n    };\n    Viewblock.prototype.remove = function (ele) {\n        // const index = this.mElements.indexOf(ele);\n        // if (index !== -1) {\n        //     this.mElements.splice(index, 1);\n        //     return true;\n        // }\n        return this.mElements.delete(ele.id);\n    };\n    // tick running... powered by manager.\n    Viewblock.prototype.check = function (bound, miniViewPort) {\n        if (!bound)\n            return;\n        var newStat = Phaser.Geom.Intersects.RectangleToRectangle(bound, this.rectangle);\n        // if (this.mInCamera !== newStat) {\n        //     for (const e of this.mElements) {\n        //         \n        //         e.setRenderable(newStat);\n        //     }\n        // }\n        if (!miniViewPort)\n            return;\n        if (this.mInCamera) {\n            // for (const ele of this.mElements) {\n            //     const pos = ele.getPosition45();\n            //     ele.setRenderable(miniViewPort.contains(pos.x, pos.y), 1000);\n            // }\n            this.mElements.forEach(function (ele) {\n                var pos = ele.getPosition45();\n                ele.setRenderable(miniViewPort.contains(pos.x, pos.y), 0);\n            });\n        }\n        this.mInCamera = newStat;\n    };\n    Viewblock.prototype.getElement = function (id) {\n        return this.mElements.get(id);\n    };\n    Object.defineProperty(Viewblock.prototype, \"rectangle\", {\n        get: function () {\n            return this.mRect || undefined;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Viewblock.prototype, \"inCamera\", {\n        get: function () {\n            return this.mInCamera;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Viewblock;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/cameras/viewblock.ts?");

/***/ }),

/***/ "./src/rooms/clock.ts":
/*!****************************!*\
  !*** ./src/rooms/clock.ts ***!
  \****************************/
/*! exports provided: Clock */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Clock\", function() { return Clock; });\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_algorithm__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/algorithm */ \"./src/utils/algorithm.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar LATENCY_SAMPLES = 7; // Latency Array length\nvar MIN_READY_SAMPLES = 2;\nvar CHECK_INTERVAL = 8000; // (ms)\nvar MAX_DELAY = 500; // (ms)\nvar Clock = /** @class */ (function (_super) {\n    __extends(Clock, _super);\n    function Clock(conn, listener) {\n        var _this = _super.call(this) || this;\n        // clock\n        _this.mClockSync = false;\n        _this.mAutoSync = false;\n        _this.mTimestamp = 0; // The timestamp in JavaScript is expressed in milliseconds.\n        _this.mLatency = [];\n        _this.mConn = conn;\n        _this.mConn.addPacketListener(_this);\n        _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_SYNC_TIME, _this.proof);\n        _this.mListener = listener;\n        _this._check();\n        return _this;\n    }\n    Object.defineProperty(Clock.prototype, \"sysUnixTime\", {\n        get: function () {\n            return new Date().getTime();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Clock.prototype, \"unixTime\", {\n        get: function () {\n            return this.mTimestamp;\n        },\n        set: function (t) {\n            this.mTimestamp = t;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Clock.prototype.sync = function (times) {\n        if (times === void 0) { times = 1; }\n        if (!this.mConn)\n            return;\n        if (times < 0) {\n            times = 1;\n        }\n        for (var i = 0; i < times; ++i) {\n            var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_SYNC_TIME);\n            var ct = pkt.content;\n            ct.clientStartTs = this.sysUnixTime;\n            this.mConn.send(pkt);\n        }\n    };\n    Clock.prototype.update = function (time, delta) {\n        if (!this.mTimestamp)\n            this.mTimestamp = time;\n        else\n            this.mTimestamp += delta;\n    };\n    Clock.prototype.clearTime = function () {\n        this.mClockSync = false;\n        if (this.mIntervalId) {\n            clearInterval(this.mIntervalId);\n        }\n        this.mTimestamp = 0;\n        this._check();\n    };\n    Clock.prototype.destroy = function () {\n        if (this.mConn) {\n            this.mConn.removePacketListener(this);\n            this.mConn = undefined;\n        }\n        if (this.mIntervalId) {\n            clearInterval(this.mIntervalId);\n        }\n        this.mLatency = undefined;\n    };\n    Object.defineProperty(Clock.prototype, \"clockSync\", {\n        get: function () {\n            return this.mClockSync;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Clock.prototype._check = function () {\n        var self = this;\n        this.mIntervalId = setInterval(function () {\n            self.sync();\n        }, CHECK_INTERVAL);\n    };\n    Clock.prototype.proof = function (packet) {\n        var ct = packet.content;\n        var local_receive = this.sysUnixTime, local_send = ct.clientStartTs, remote_receive = ct.serverReceiveTs, remote_send = ct.serverSendTs, server_run = remote_send - remote_receive, total_delay = (local_receive - local_send) - server_run, latency = Math.round(total_delay / 2);\n        var timeSychronDelta = 0;\n        if (latency < 0)\n            return;\n        this.mLatency.push(latency);\n        if (this.mLatency.length > LATENCY_SAMPLES) {\n            this.mLatency.shift();\n        }\n        var median_latency = _utils_algorithm__WEBPACK_IMPORTED_MODULE_2__[\"Algorithm\"].median(this.mLatency);\n        timeSychronDelta = median_latency + server_run;\n        var remote_time = remote_send - timeSychronDelta; // the real remote-time.\n        var mistake = Math.abs(remote_time - this.mTimestamp);\n        // update timesychron\n        if (mistake > MAX_DELAY) {\n            this.mTimestamp = remote_time;\n            this.mAutoSync = true;\n            // Logger.getInstance().debug(\"clock\");\n            // if (this.mAutoSync) {\n            this.sync(-1);\n            return;\n            //  }\n        }\n        this.mAutoSync = false;\n        if (this.mListener && this.mLatency.length >= MIN_READY_SAMPLES && !this.mAutoSync) {\n            this.mClockSync = true;\n            // Logger.getInstance().debug(\"clock\");\n            this.mListener.onClockReady();\n        }\n        // Logger.getInstance().debug(`total_delay: ${total_delay} / latency: ${latency} | timeSychronDelta: ${timeSychronDelta} / remote_time: ${remote_time} / mistake: ${mistake}`);\n    };\n    Object.defineProperty(Clock.prototype, \"medianLatency\", {\n        get: function () {\n            return _utils_algorithm__WEBPACK_IMPORTED_MODULE_2__[\"Algorithm\"].median(this.mLatency);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Clock;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PacketHandler\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/clock.ts?");

/***/ }),

/***/ "./src/rooms/decorate.room.ts":
/*!************************************!*\
  !*** ./src/rooms/decorate.room.ts ***!
  \************************************/
/*! exports provided: DecorateRoom */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DecorateRoom\", function() { return DecorateRoom; });\n/* harmony import */ var _cameras_viewblock_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./cameras/viewblock.manager */ \"./src/rooms/cameras/viewblock.manager.ts\");\n/* harmony import */ var _cameras_cameras_manager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./cameras/cameras.manager */ \"./src/rooms/cameras/cameras.manager.ts\");\n/* harmony import */ var _layer_layer_manager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./layer/layer.manager */ \"./src/rooms/layer/layer.manager.ts\");\n/* harmony import */ var _utils_position45__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/position45 */ \"./src/utils/position45.ts\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _utils_pos__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/pos */ \"./src/utils/pos.ts\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _scenes_loading__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../scenes/loading */ \"./src/scenes/loading.ts\");\n/* harmony import */ var _scenes_play__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../scenes/play */ \"./src/scenes/play.ts\");\n/* harmony import */ var _utils_log__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/log */ \"./src/utils/log.ts\");\n/* harmony import */ var _display_display_object__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./display/display.object */ \"./src/rooms/display/display.object.ts\");\n/* harmony import */ var _display_terrain_display__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./display/terrain.display */ \"./src/rooms/display/terrain.display.ts\");\n/* harmony import */ var _element_decorate_element_manager__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./element/decorate.element.manager */ \"./src/rooms/element/decorate.element.manager.ts\");\n/* harmony import */ var _const_MessageType__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../const/MessageType */ \"./src/const/MessageType.ts\");\n/* harmony import */ var _element_sprite__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./element/sprite */ \"./src/rooms/element/sprite.ts\");\n/* harmony import */ var _terrain_decorate_terrain_manager__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./terrain/decorate.terrain.manager */ \"./src/rooms/terrain/decorate.terrain.manager.ts\");\n/* harmony import */ var _decorate_spawn_point__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./decorate/spawn.point */ \"./src/rooms/decorate/spawn.point.ts\");\n/* harmony import */ var _decorate_selector_element__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./decorate/selector.element */ \"./src/rooms/decorate/selector.element.ts\");\n/* harmony import */ var _sky_box_sky_box_manager__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./sky.box/sky.box.manager */ \"./src/rooms/sky.box/sky.box.manager.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar DecorateRoom = /** @class */ (function (_super) {\n    __extends(DecorateRoom, _super);\n    function DecorateRoom(manager) {\n        var _this = _super.call(this) || this;\n        // TODO clock sync\n        _this.clockSyncComplete = true;\n        _this.world = manager.world;\n        _this.mScaleRatio = _this.world.scaleRatio;\n        if (_this.connection) {\n            _this.connection.addPacketListener(_this);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_EDIT_MODE_SELECTED_SPRITE, _this.onSelectSpriteHandler);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_EDIT_MODE_GET_SPAWN_POINT, _this.onShowSpawnPointHandler);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_EDIT_MODE_ADD_SPRITE_BY_TYPE, _this.onAddSpriteHandler);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_EDIT_MODE_ADD_SINGLE_SPRITE_BY_TYPE, _this.onAddSingleSpriteHandler);\n        }\n        return _this;\n    }\n    DecorateRoom.prototype.enter = function (room) {\n        var _this = this;\n        // this.mID = room.id;\n        this.mID = room.id;\n        var rows = room.rows, cols = room.cols, tileWidth = room.tileWidth, tileHeight = room.tileHeight;\n        this.mSize = {\n            cols: room.cols,\n            rows: room.rows,\n            tileHeight: room.tileHeight,\n            tileWidth: room.tileWidth,\n            sceneWidth: (room.rows + room.cols) * (room.tileWidth / 2),\n            sceneHeight: (room.rows + room.cols) * (room.tileHeight / 2)\n        };\n        rows *= 2;\n        cols *= 2;\n        tileWidth /= 2;\n        tileHeight /= 2;\n        this.mMiniSize = {\n            cols: cols,\n            rows: rows,\n            tileHeight: tileHeight,\n            tileWidth: tileWidth,\n            sceneWidth: (rows + cols) * (tileWidth / 2),\n            sceneHeight: (rows + cols) * (tileHeight / 2),\n        };\n        this.mMap = new Array(rows);\n        for (var i = 0; i < rows; i++) {\n            this.mMap[i] = new Array(cols).fill(0);\n        }\n        this.mCameraService = new _cameras_cameras_manager__WEBPACK_IMPORTED_MODULE_1__[\"CamerasManager\"](this);\n        // if (!this.world.game.scene.getScene(LoadingScene.name))\n        //     this.world.game.scene.add(LoadingScene.name, LoadingScene, false);\n        // this.world.game.scene.start(LoadingScene.name, {\n        //     world: this.world,\n        //     room: this\n        // });\n        this.world.showLoading().then(function () {\n            _this.completeLoad();\n        });\n    };\n    DecorateRoom.prototype.addBlockObject = function (object) {\n        if (this.mBlocks) {\n            this.mBlocks.add(object);\n        }\n    };\n    DecorateRoom.prototype.addMouseListen = function () {\n    };\n    DecorateRoom.prototype.addToGround = function (element) {\n        this.mLayerManager.addToGround(element);\n    };\n    DecorateRoom.prototype.addToSceneUI = function (element) {\n        this.mLayerManager.addToSceneToUI(element);\n    };\n    DecorateRoom.prototype.addToSurface = function (element) {\n        this.mLayerManager.addToSurface(element);\n    };\n    DecorateRoom.prototype.addToUI = function (element) {\n    };\n    DecorateRoom.prototype.completeLoad = function () {\n        this.world.game.scene.add(_scenes_play__WEBPACK_IMPORTED_MODULE_8__[\"PlayScene\"].name, _scenes_play__WEBPACK_IMPORTED_MODULE_8__[\"PlayScene\"], true, {\n            room: this\n        });\n    };\n    DecorateRoom.prototype.destroy = function () {\n        if (this.mTerrainManager)\n            this.mTerrainManager.destroy();\n        if (this.mElementManager)\n            this.mElementManager.destroy();\n        if (this.mLayerManager)\n            this.mLayerManager.destroy();\n        if (this.mBlocks)\n            this.mBlocks.destroy();\n        if (this.mSkyboxManager)\n            this.mSkyboxManager.destroy();\n        this.removePointerMoveHandler();\n        this.world.game.scene.remove(_scenes_play__WEBPACK_IMPORTED_MODULE_8__[\"PlayScene\"].name);\n        this.world.emitter.off(_const_MessageType__WEBPACK_IMPORTED_MODULE_13__[\"MessageType\"].TURN_ELEMENT, this.onTurnElementHandler, this);\n        this.world.emitter.off(_const_MessageType__WEBPACK_IMPORTED_MODULE_13__[\"MessageType\"].RECYCLE_ELEMENT, this.onRecycleHandler, this);\n        this.world.emitter.off(_const_MessageType__WEBPACK_IMPORTED_MODULE_13__[\"MessageType\"].PUT_ELEMENT, this.onPutElement, this);\n        this.world.emitter.off(_const_MessageType__WEBPACK_IMPORTED_MODULE_13__[\"MessageType\"].CANCEL_PUT, this.onCancelPutHandler, this);\n        if (!this.mScene)\n            return;\n        this.mScene.input.off(\"pointerup\", this.onPointerUpHandler, this);\n        this.mScene.input.off(\"pointerdown\", this.onPointerDownHandler, this);\n        this.mScene.input.off(\"gameobjectdown\", this.onGameobjectUpHandler, this);\n    };\n    DecorateRoom.prototype.now = function () {\n        return 0;\n    };\n    DecorateRoom.prototype.pause = function () {\n        if (this.mScene) {\n            this.mScene.scene.pause();\n        }\n    };\n    DecorateRoom.prototype.removeBlockObject = function (object) {\n        if (this.mBlocks) {\n            this.mBlocks.remove(object);\n        }\n    };\n    DecorateRoom.prototype.requestActorMove = function (d, key) {\n    };\n    DecorateRoom.prototype.resume = function (name) {\n        if (this.mScene) {\n            this.mScene.scene.resume(name);\n        }\n    };\n    DecorateRoom.prototype.startLoad = function () {\n    };\n    DecorateRoom.prototype.startPlay = function () {\n        if (this.mLayerManager) {\n            this.mLayerManager.destroy();\n        }\n        this.mScene = this.world.game.scene.getScene(_scenes_play__WEBPACK_IMPORTED_MODULE_8__[\"PlayScene\"].name);\n        this.mLayerManager = new _layer_layer_manager__WEBPACK_IMPORTED_MODULE_2__[\"LayerManager\"](this);\n        // this.mLayerManager.drawGrid(this);\n        this.mTerrainManager = new _terrain_decorate_terrain_manager__WEBPACK_IMPORTED_MODULE_15__[\"DecorateTerrainManager\"](this);\n        this.mElementManager = new _element_decorate_element_manager__WEBPACK_IMPORTED_MODULE_12__[\"DecorateElementManager\"](this);\n        this.mBlocks = new _cameras_viewblock_manager__WEBPACK_IMPORTED_MODULE_0__[\"ViewblockManager\"](this.mCameraService);\n        this.mSkyboxManager = new _sky_box_sky_box_manager__WEBPACK_IMPORTED_MODULE_18__[\"SkyBoxManager\"](this);\n        this.mBlocks.int(this.mSize);\n        this.mScene.input.on(\"pointerup\", this.onPointerUpHandler, this);\n        this.mScene.input.on(\"pointerdown\", this.onPointerDownHandler, this);\n        this.mScene.input.on(\"gameobjectdown\", this.onGameobjectUpHandler, this);\n        // const mainCameras = this.mScene.cameras.main;\n        var camera = this.scene.cameras.main;\n        this.mCameraService.camera = camera;\n        var zoom = Math.ceil(window.devicePixelRatio);\n        this.mCameraService.setBounds(-camera.width >> 1, -camera.height >> 1, this.mSize.sceneWidth * zoom + camera.width, this.mSize.sceneHeight * zoom + camera.height);\n        if (this.cameraPos) {\n            this.mCameraService.scrollTargetPoint(this.cameraPos.x, this.cameraPos.y);\n            this.mCameraService.syncCameraScroll();\n        }\n        this.world.changeRoom(this);\n        var loadingScene = this.world.game.scene.getScene(_scenes_loading__WEBPACK_IMPORTED_MODULE_7__[\"LoadingScene\"].name);\n        if (loadingScene)\n            loadingScene.sleep();\n        this.connection.send(new net_socket_packet__WEBPACK_IMPORTED_MODULE_6__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_SCENE_CREATED));\n        // this.mCameraService.centerCameas();\n        if (this.world.uiManager) {\n            this.world.uiManager.showDecorateUI();\n        }\n        this.world.emitter.on(_const_MessageType__WEBPACK_IMPORTED_MODULE_13__[\"MessageType\"].TURN_ELEMENT, this.onTurnElementHandler, this);\n        this.world.emitter.on(_const_MessageType__WEBPACK_IMPORTED_MODULE_13__[\"MessageType\"].RECYCLE_ELEMENT, this.onRecycleHandler, this);\n        this.world.emitter.on(_const_MessageType__WEBPACK_IMPORTED_MODULE_13__[\"MessageType\"].PUT_ELEMENT, this.onPutElement, this);\n        this.world.emitter.on(_const_MessageType__WEBPACK_IMPORTED_MODULE_13__[\"MessageType\"].CANCEL_PUT, this.onCancelPutHandler, this);\n        this.initSkyBox();\n    };\n    DecorateRoom.prototype.transformTo45 = function (p) {\n        if (!this.mSize) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_9__[\"Logger\"].getInstance().error(\"position object is undefined\");\n            return;\n        }\n        return _utils_position45__WEBPACK_IMPORTED_MODULE_3__[\"Position45\"].transformTo45(p, this.mSize);\n    };\n    DecorateRoom.prototype.transformTo90 = function (p) {\n        if (!this.mSize) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_9__[\"Logger\"].getInstance().error(\"position object is undefined\");\n            return;\n        }\n        return _utils_position45__WEBPACK_IMPORTED_MODULE_3__[\"Position45\"].transformTo90(p, this.mSize);\n    };\n    DecorateRoom.prototype.transformToMini90 = function (p) {\n        if (!this.mMiniSize) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_9__[\"Logger\"].getInstance().error(\"position object is undefined\");\n            return;\n        }\n        return _utils_position45__WEBPACK_IMPORTED_MODULE_3__[\"Position45\"].transformTo90(p, this.mMiniSize);\n    };\n    DecorateRoom.prototype.transformToMini45 = function (p) {\n        if (!this.mMiniSize) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_9__[\"Logger\"].getInstance().error(\"position object is undefined\");\n            return;\n        }\n        return _utils_position45__WEBPACK_IMPORTED_MODULE_3__[\"Position45\"].transformTo45(p, this.mMiniSize);\n    };\n    DecorateRoom.prototype.update = function (time, delta) {\n        if (this.mLayerManager) {\n            this.mLayerManager.update(time, delta);\n        }\n        if (this.mSelectorElement) {\n            this.mSelectorElement.update(time, delta);\n        }\n        if (this.mBlocks) {\n            this.mBlocks.update(time, delta);\n        }\n    };\n    DecorateRoom.prototype.updateBlockObject = function () {\n    };\n    DecorateRoom.prototype.resize = function (width, height) {\n        this.layerManager.resize(width, height);\n        this.mCameraService.resize(width, height);\n    };\n    DecorateRoom.prototype.transitionGrid = function (x, y) {\n        var source = new _utils_pos__WEBPACK_IMPORTED_MODULE_5__[\"Pos\"](x, y);\n        var pos = this.transformToMini45(source);\n        return this.checkBound(pos);\n    };\n    DecorateRoom.prototype.addElements = function (sprites, nodeType) {\n        if (nodeType === pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_def\"].NodeType.ElementNodeType) {\n            this.mElementManager.add(sprites);\n        }\n        else if (nodeType === pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_def\"].NodeType.TerrainNodeType) {\n            this.mTerrainManager.add(sprites);\n        }\n    };\n    DecorateRoom.prototype.setEnterPos = function (x, y) {\n        this.cameraPos = new _utils_pos__WEBPACK_IMPORTED_MODULE_5__[\"Pos\"](x, y);\n    };\n    /**\n     * \n     * @param pos 45\n     * @param source \n     */\n    DecorateRoom.prototype.checkBound = function (pos, source) {\n        var bound = new _utils_pos__WEBPACK_IMPORTED_MODULE_5__[\"Pos\"](pos.x, pos.y);\n        var size = this.mMiniSize;\n        if (pos.x < 0) {\n            bound.x = 0;\n        }\n        else if (pos.x > size.cols) {\n            bound.x = size.cols;\n        }\n        if (pos.y < 0) {\n            bound.y = 0;\n        }\n        else if (pos.y > size.rows) {\n            bound.y = size.rows;\n        }\n        if (bound.equal(pos) && source) {\n            return source;\n        }\n        return this.transformToMini90(bound);\n    };\n    DecorateRoom.prototype.canPut = function (pos, collisionArea, origin) {\n        if (!collisionArea || !origin) {\n            return;\n        }\n        var pos45 = this.transformToMini45(pos);\n        if (pos45.x < 0 || pos45.y < 0 || pos45.y > this.miniSize.rows || pos45.x > this.miniSize.cols) {\n            return false;\n        }\n        var eles = [this.mElementManager, this.mTerrainManager];\n        for (var _i = 0, eles_1 = eles; _i < eles_1.length; _i++) {\n            var manager = eles_1[_i];\n            if (manager.canPut(pos45, collisionArea, origin) === false) {\n                return false;\n            }\n        }\n        return true;\n        // let row = 0;\n        // let col = 0;\n        // const map = this.terrainManager.map;\n        // for (let i = 0; i < collisionArea.length; i++) {\n        //     row = i + pos45.y - origin.y;\n        //     if (row >= map.length) {\n        //         return false;\n        //     }\n        //     for (let j = 0; j < collisionArea[i].length; j++) {\n        //         col = j + pos45.x - origin.x;\n        //         if (col >= map[i].length || map[row][col] === 1) {\n        //             return false;\n        //         }\n        //     }\n        // }\n        // return true;\n    };\n    DecorateRoom.prototype.setMap = function (cols, rows, type) {\n        if (rows < 0 || cols < 0 || this.mMap.length < rows || this.mMap[0].length < cols) {\n            return;\n        }\n        this.mMap[cols][rows] = type;\n    };\n    DecorateRoom.prototype.getElement = function (id) {\n        var ele = null;\n        if (this.mElementManager) {\n            ele = this.elementManager.get(id);\n        }\n        if (!ele && this.mTerrainManager) {\n            ele = this.mTerrainManager.get(id);\n        }\n        return ele;\n    };\n    DecorateRoom.prototype.initSkyBox = function () {\n        var scenerys = this.world.elementStorage.getScenerys();\n        if (scenerys) {\n            for (var _i = 0, scenerys_1 = scenerys; _i < scenerys_1.length; _i++) {\n                var scenery = scenerys_1[_i];\n                this.addSkyBox(scenery);\n            }\n        }\n    };\n    DecorateRoom.prototype.addSkyBox = function (scenery) {\n        this.mSkyboxManager.add(scenery);\n    };\n    DecorateRoom.prototype.addPointerMoveHandler = function () {\n        if (!this.mScene)\n            return;\n        this.mScene.input.on(\"pointermove\", this.onPointerMoveHandler, this);\n        this.mScene.input.on(\"gameout\", this.onGameOutHandler, this);\n    };\n    DecorateRoom.prototype.removePointerMoveHandler = function () {\n        if (!this.mScene)\n            return;\n        this.mScene.input.off(\"pointermove\", this.onPointerMoveHandler, this);\n        this.mScene.input.off(\"gameout\", this.onGameOutHandler, this);\n    };\n    DecorateRoom.prototype.onPointerUpHandler = function (pointer) {\n        this.removePointerMoveHandler();\n        if (this.mSelectorElement) {\n            this.mSelectorElement.selecting = false;\n        }\n    };\n    DecorateRoom.prototype.onPointerDownHandler = function () {\n        this.addPointerMoveHandler();\n    };\n    DecorateRoom.prototype.onGameobjectUpHandler = function (pointer, gameobject) {\n        // this.addPointerMoveHandler();\n        // TODO\n        var com = gameobject.parentContainer.parentContainer || gameobject.parentContainer;\n        if (!com) {\n            return;\n        }\n        if (!(com instanceof _display_display_object__WEBPACK_IMPORTED_MODULE_10__[\"DisplayObject\"])) {\n            return;\n        }\n        if (com instanceof _display_terrain_display__WEBPACK_IMPORTED_MODULE_11__[\"TerrainDisplay\"]) {\n            return;\n        }\n        this.selectedElement(com.element);\n    };\n    DecorateRoom.prototype.onPointerMoveHandler = function (pointer) {\n        if (!this.mSelectorElement || (this.mSelectorElement && this.mSelectorElement.selecting === false)) {\n            this.moveCamera(pointer);\n            return;\n        }\n        if (pointer.downX === pointer.x && pointer.downY === pointer.y) {\n            return;\n        }\n        // if (pointer.downX !== pointer.upX && pointer.downY !== pointer.upY) {\n        this.moveElement(pointer);\n    };\n    DecorateRoom.prototype.onGameOutHandler = function () {\n        this.removePointerMoveHandler();\n    };\n    DecorateRoom.prototype.moveCamera = function (pointer) {\n        this.cameraService.offsetScroll(pointer.prevPosition.x - pointer.position.x, pointer.prevPosition.y - pointer.position.y);\n    };\n    DecorateRoom.prototype.moveElement = function (pointer) {\n        var pos = this.transitionGrid(pointer.worldX / this.mScaleRatio, pointer.worldY / this.mScaleRatio);\n        if (this.mSelectorElement) {\n            this.mSelectorElement.setDisplayPos(pos);\n        }\n        // this.mSelectedElement.setDisplayPos(pos.x, pos.y);\n    };\n    DecorateRoom.prototype.removeElement = function (id, nodeType) {\n        if (nodeType === pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_def\"].NodeType.ElementNodeType || nodeType === pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_def\"].NodeType.SpawnPointType) {\n            this.elementManager.remove(id);\n        }\n        else if (nodeType === pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_def\"].NodeType.TerrainNodeType) {\n            this.elementManager.remove(id);\n        }\n    };\n    DecorateRoom.prototype.addElement = function (sprite, addMap) {\n        var nodeType = sprite.nodeType;\n        if (nodeType === pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_def\"].NodeType.ElementNodeType || nodeType === pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_def\"].NodeType.SpawnPointType) {\n            this.mElementManager.add([sprite], addMap);\n        }\n        else if (nodeType === pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_def\"].NodeType.TerrainNodeType) {\n            this.mTerrainManager.add([sprite]);\n        }\n    };\n    DecorateRoom.prototype.selectedElement = function (element, isClone) {\n        if (isClone === void 0) { isClone = true; }\n        if (!element) {\n            return;\n        }\n        if (!this.mSelectorElement) {\n            this.mSelectorElement = new _decorate_selector_element__WEBPACK_IMPORTED_MODULE_17__[\"SelectorElement\"](element);\n            if (isClone) {\n                this.mSelectorElement.clone();\n                this.elementManager.removeMap(element.model);\n            }\n            this.mSelectorElement.update();\n        }\n        else {\n            if (this.mSelectorElement.element === element) {\n                this.mSelectorElement.selecting = true;\n            }\n            else {\n                this.onPutElement(null);\n                // this.cancelSelector();\n                this.selectedElement(element, isClone);\n            }\n        }\n    };\n    DecorateRoom.prototype.cancelSelector = function () {\n        if (this.mSelectorElement) {\n            var sprite = null;\n            if (this.mSelectorElement.root) {\n                sprite = this.mSelectorElement.element.model;\n            }\n            this.mSelectorElement.destroy();\n            this.mSelectorElement = undefined;\n            if (sprite) {\n                this.mElementManager.addMap(sprite);\n            }\n        }\n    };\n    DecorateRoom.prototype.onTurnElementHandler = function (display) {\n        if (!this.mSelectorElement) {\n            return;\n        }\n        this.mSelectorElement.turnElement();\n    };\n    DecorateRoom.prototype.onRecycleHandler = function (display) {\n        if (!this.mSelectorElement) {\n            return;\n        }\n        var element = this.mSelectorElement.element;\n        var sprite = element.model;\n        if (!sprite) {\n            return;\n        }\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_6__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_EDIT_MODE_RECYCLE_SPRITE);\n        var content = packet.content;\n        content.sprites = [sprite.toSprite()];\n        content.nodeType = sprite.nodeType;\n        this.world.connection.send(packet);\n        this.mSelectorElement.destroy();\n        this.mSelectorElement = undefined;\n    };\n    DecorateRoom.prototype.onPutElement = function (display) {\n        this.removePointerMoveHandler();\n        if (!this.mSelectorElement) {\n            return;\n        }\n        var element = this.mSelectorElement.element;\n        if (!element) {\n            return;\n        }\n        var sprite = element.model;\n        if (!sprite) {\n            return;\n        }\n        if (this.canPut(sprite.pos, sprite.currentCollisionArea, sprite.currentCollisionPoint)) {\n            if (this.mSelectorElement.root) {\n                this.sendUpdateSprite(sprite);\n            }\n            else {\n                if (sprite.nodeType === pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_def\"].NodeType.SpawnPointType) {\n                    this.sendSpawnPoint(sprite.pos);\n                    this.removeElement(sprite.id, sprite.nodeType);\n                }\n                else {\n                    this.sendAddSprite(sprite);\n                }\n            }\n            this.cancelSelector();\n        }\n        else {\n            this.onCancelPutHandler(element);\n        }\n    };\n    DecorateRoom.prototype.onCancelPutHandler = function (element) {\n        this.removePointerMoveHandler();\n        if (!this.mSelectorElement) {\n            return;\n        }\n        if (!element) {\n            element = this.mElementManager.get(this.mSelectorElement.element.id);\n        }\n        if (!element) {\n            return;\n        }\n        var root = this.mSelectorElement.root;\n        if (root) {\n            this.mSelectorElement.recover();\n        }\n        else {\n            this.removeElement(element.id, element.model.nodeType);\n        }\n        this.cancelSelector();\n    };\n    DecorateRoom.prototype.sendAddSprite = function (sprite) {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_6__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_EDIT_MODE_ADD_SPRITE);\n        var content = packet.content;\n        content.sprites = [sprite.toSprite()];\n        content.nodeType = sprite.nodeType;\n        this.connection.send(packet);\n    };\n    DecorateRoom.prototype.sendUpdateSprite = function (sprite) {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_6__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_EDIT_MODE_UPDATE_SPRITE);\n        var content = packet.content;\n        content.sprites = [sprite.toSprite()];\n        content.nodeType = sprite.nodeType;\n        this.connection.send(packet);\n    };\n    DecorateRoom.prototype.sendSpawnPoint = function (pos) {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_6__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_EDIT_MODE_SET_SPAWN_POINT);\n        var content = packet.content;\n        var pos3f = pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_def\"].PBPoint3f.create();\n        pos3f.x = pos.x;\n        pos3f.y = pos.y;\n        content.spawnPoint = pos3f;\n        this.connection.send(packet);\n    };\n    DecorateRoom.prototype.sendPosition = function (sprite) {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_6__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_EDIT_MODE_CHANGE_SPRITE_POSITION);\n        var content = packet.content;\n        content.sprites = [sprite.toSprite()];\n        content.nodeType = sprite.nodeType;\n        this.connection.send(packet);\n    };\n    DecorateRoom.prototype.onSelectSpriteHandler = function (packet) {\n        var content = packet.content;\n        var camera = this.cameraService.camera;\n        var sprite = new _element_sprite__WEBPACK_IMPORTED_MODULE_14__[\"Sprite\"](content.sprite, content.nodeType);\n        sprite.setPosition((camera.scrollX + camera.width / 2) / this.world.scaleRatio, (camera.scrollY + camera.height / 2) / this.world.scaleRatio);\n        this.addElement(sprite, false);\n        var element = this.mElementManager.get(content.sprite.id);\n        if (element)\n            this.selectedElement(element, false);\n    };\n    DecorateRoom.prototype.onShowSpawnPointHandler = function (packet) {\n        var content = packet.content;\n        var spawnPoint = new _decorate_spawn_point__WEBPACK_IMPORTED_MODULE_16__[\"SpawnPoint\"]();\n        var pos = content.spawnPoint;\n        spawnPoint.setPosition(pos.x, pos.y);\n        this.addElement(spawnPoint, false);\n        this.selectedElement(this.mElementManager.get(spawnPoint.id), false);\n        // this.mSelectedElement.setSprite(spawnPoint);\n        this.mCameraService.scrollTargetPoint(pos.x, pos.y);\n    };\n    DecorateRoom.prototype.onAddSpriteHandler = function (packet) {\n        var content = packet.content;\n        // if (this.mSelectedElement.root && content.id === this.mSelectedElement.root.id) {\n        //     this.addElement(this.mSelectedElement.sprite);\n        // }\n        // this.mSelectedElement.remove();\n        this.cancelSelector();\n    };\n    DecorateRoom.prototype.onAddSingleSpriteHandler = function (packet) {\n        var content = packet.content;\n        var addedSprites = content.addedSprites;\n        if (addedSprites) {\n            var sprites = [];\n            for (var _i = 0, addedSprites_1 = addedSprites; _i < addedSprites_1.length; _i++) {\n                var sprite = addedSprites_1[_i];\n                sprites.push(new _element_sprite__WEBPACK_IMPORTED_MODULE_14__[\"Sprite\"](sprite, content.nodeType));\n            }\n            if (sprites.length > 0) {\n                this.mElementManager.add(sprites);\n                var ele = this.mElementManager.get(sprites[sprites.length - 1].id);\n                if (ele) {\n                    this.cancelSelector();\n                    this.selectedElement(ele);\n                    if (this.mSelectorElement)\n                        this.mSelectorElement.selecting = false;\n                }\n            }\n        }\n    };\n    Object.defineProperty(DecorateRoom.prototype, \"id\", {\n        get: function () {\n            return this.mID;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DecorateRoom.prototype, \"roomSize\", {\n        get: function () {\n            return this.mSize;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DecorateRoom.prototype, \"terrainManager\", {\n        get: function () {\n            return this.mTerrainManager;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DecorateRoom.prototype, \"elementManager\", {\n        get: function () {\n            return this.mElementManager;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DecorateRoom.prototype, \"layerManager\", {\n        get: function () {\n            return this.mLayerManager;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DecorateRoom.prototype, \"cameraService\", {\n        get: function () {\n            return this.mCameraService;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DecorateRoom.prototype, \"scene\", {\n        get: function () {\n            return this.mScene;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DecorateRoom.prototype, \"connection\", {\n        get: function () {\n            return this.world.connection;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DecorateRoom.prototype, \"miniSize\", {\n        get: function () {\n            return this.mMiniSize;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DecorateRoom.prototype, \"selectedSprite\", {\n        get: function () {\n            if (!this.mSelectorElement) {\n                return;\n            }\n            return this.mSelectorElement.element;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DecorateRoom.prototype, \"enableEdit\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DecorateRoom.prototype, \"sceneType\", {\n        get: function () {\n            return pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_def\"].SceneTypeEnum.EDIT_SCENE_TYPE;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DecorateRoom.prototype, \"effectManager\", {\n        get: function () {\n            return undefined;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return DecorateRoom;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_6__[\"PacketHandler\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/decorate.room.ts?");

/***/ }),

/***/ "./src/rooms/decorate/selector.element.ts":
/*!************************************************!*\
  !*** ./src/rooms/decorate/selector.element.ts ***!
  \************************************************/
/*! exports provided: SelectorElement */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SelectorElement\", function() { return SelectorElement; });\n/* harmony import */ var _ui_decorate_decorate_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../ui/decorate/decorate.manager */ \"./src/ui/decorate/decorate.manager.ts\");\n/* harmony import */ var _utils_pos__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/pos */ \"./src/utils/pos.ts\");\n/* harmony import */ var _const_MessageType__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../const/MessageType */ \"./src/const/MessageType.ts\");\n\n\n\nvar SelectorElement = /** @class */ (function () {\n    function SelectorElement(mElement) {\n        var _this = this;\n        this.mElement = mElement;\n        this.mScene = this.mElement.scene;\n        this.mRoomService = this.mElement.roomService;\n        this.mDecorateManager = new _ui_decorate_decorate_manager__WEBPACK_IMPORTED_MODULE_0__[\"DecorateManager\"](this.mScene, this.mRoomService);\n        this.mDecorateManager.setElement(mElement);\n        var display = mElement.getDisplay();\n        if (!display.collisionArea) {\n            display.once(\"initialized\", function () {\n                display.play(_this.mElement.model.currentAnimation);\n                display.showRefernceArea();\n            });\n        }\n        else {\n            display.showRefernceArea();\n        }\n        this.mSelecting = true;\n        this.mDecorateManager.on(\"moveElement\", this.onMoveElementHandler, this);\n        this.mRoomService.world.emitter.emit(_const_MessageType__WEBPACK_IMPORTED_MODULE_2__[\"MessageType\"].EDIT_PACKAGE_COLLAPSE);\n        this.mRoomService.world.emitter.emit(_const_MessageType__WEBPACK_IMPORTED_MODULE_2__[\"MessageType\"].SELECTED_DECORATE_ELEMENT);\n    }\n    SelectorElement.prototype.turnElement = function () {\n        if (!this.mElement) {\n            return;\n        }\n        this.mElement.turn();\n        this.checkCanPut();\n    };\n    SelectorElement.prototype.setDisplayPos = function (pos) {\n        if (!this.mElement) {\n            return;\n        }\n        this.mElement.setPosition(pos);\n        this.checkCanPut();\n    };\n    SelectorElement.prototype.update = function (time, delta) {\n        if (this.mElement) {\n            var pos = this.mElement.getPosition();\n            this.mDecorateManager.updatePos(pos.x, pos.y);\n            this.checkCanPut();\n        }\n    };\n    SelectorElement.prototype.clone = function () {\n        if (!this.mElement) {\n            return;\n        }\n        var sprite = this.mElement.model;\n        var pos = sprite.pos;\n        this.mSourceData = {\n            x: pos.x,\n            y: pos.y,\n            z: pos.z,\n            direction: sprite.direction\n        };\n    };\n    SelectorElement.prototype.recover = function () {\n        if (!this.mElement) {\n            return;\n        }\n        if (this.mSourceData) {\n            this.mElement.setAlpha(1);\n            this.mElement.setPosition(new _utils_pos__WEBPACK_IMPORTED_MODULE_1__[\"Pos\"](this.mSourceData.x, this.mSourceData.y));\n            this.mElement.setDirection(this.mSourceData.direction);\n        }\n    };\n    SelectorElement.prototype.destroy = function () {\n        if (this.mDecorateManager) {\n            this.mDecorateManager.destroy();\n        }\n        if (this.mElement) {\n            var display = this.mElement.getDisplay();\n            if (display) {\n                display.hideRefernceArea();\n            }\n        }\n        this.mSourceData = undefined;\n        this.mRoomService.world.emitter.emit(_const_MessageType__WEBPACK_IMPORTED_MODULE_2__[\"MessageType\"].EDIT_PACKAGE_EXPANED);\n        this.mRoomService.world.emitter.emit(_const_MessageType__WEBPACK_IMPORTED_MODULE_2__[\"MessageType\"].CANCEL_DECORATE_ELEMENT);\n    };\n    SelectorElement.prototype.checkCanPut = function () {\n        if (!this.mRoomService || !this.mElement) {\n            return;\n        }\n        var sprite = this.mElement.model;\n        var canPut = this.mRoomService.canPut(this.mElement.getPosition(), sprite.currentCollisionArea, sprite.currentCollisionPoint);\n        if (canPut) {\n            this.element.setAlpha(1);\n        }\n        else {\n            this.element.setAlpha(0.6);\n        }\n        if (this.mDecorateManager) {\n            this.mDecorateManager.canPut(canPut);\n        }\n    };\n    SelectorElement.prototype.onMoveElementHandler = function (pos) {\n        if (!pos) {\n            return;\n        }\n        this.setDisplayPos(pos);\n    };\n    Object.defineProperty(SelectorElement.prototype, \"selecting\", {\n        get: function () {\n            return this.mSelecting;\n        },\n        set: function (val) {\n            this.mSelecting = val;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(SelectorElement.prototype, \"element\", {\n        get: function () {\n            return this.mElement;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(SelectorElement.prototype, \"root\", {\n        get: function () {\n            return this.mSourceData;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return SelectorElement;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/decorate/selector.element.ts?");

/***/ }),

/***/ "./src/rooms/decorate/spawn.point.ts":
/*!*******************************************!*\
  !*** ./src/rooms/decorate/spawn.point.ts ***!
  \*******************************************/
/*! exports provided: SpawnPoint */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SpawnPoint\", function() { return SpawnPoint; });\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils_pos__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/pos */ \"./src/utils/pos.ts\");\n/* harmony import */ var _display_frames_model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../display/frames.model */ \"./src/rooms/display/frames.model.ts\");\n/* harmony import */ var _display_animation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../display/animation */ \"./src/rooms/display/animation.ts\");\n\n\n\n\nvar SpawnPoint = /** @class */ (function () {\n    function SpawnPoint() {\n        this.id = 100;\n        this.nodeType = pixelpai_proto__WEBPACK_IMPORTED_MODULE_0__[\"op_def\"].NodeType.SpawnPointType;\n        this.pos = new _utils_pos__WEBPACK_IMPORTED_MODULE_1__[\"Pos\"]();\n        this.displayInfo = new _display_frames_model__WEBPACK_IMPORTED_MODULE_2__[\"FramesModel\"]({\n            id: 0,\n            animations: {\n                defaultAnimationName: \"idle\",\n                display: this.display,\n                animationData: [new _display_animation__WEBPACK_IMPORTED_MODULE_3__[\"Animation\"](this.animation)]\n            }\n        });\n        this.currentAnimation = {\n            name: \"idle\",\n            flip: false\n        };\n        this.direction = 3;\n        this.nickname = \"\";\n        this.alpha = 1;\n    }\n    SpawnPoint.prototype.newID = function () {\n        throw new Error(\"Method not implemented.\");\n    };\n    SpawnPoint.prototype.setPosition = function (x, y) {\n        this.pos.x = x;\n        this.pos.y = y;\n    };\n    SpawnPoint.prototype.turn = function () {\n        throw new Error(\"Method not implemented.\");\n    };\n    SpawnPoint.prototype.toSprite = function () {\n        throw new Error(\"Method not implemented.\");\n    };\n    SpawnPoint.prototype.updateAvatar = function (avatar) {\n        throw new Error(\"Method not implemented.\");\n    };\n    SpawnPoint.prototype.updateDisplay = function (display, animations, defAnimation) {\n        throw new Error(\"Method not implemented.\");\n    };\n    SpawnPoint.prototype.setAnimationName = function () {\n        throw new Error(\"Method not implemented.\");\n    };\n    SpawnPoint.prototype.setAnimationQueue = function () {\n        throw new Error(\"Method not implemented.\");\n    };\n    Object.defineProperty(SpawnPoint.prototype, \"display\", {\n        get: function () {\n            var display = pixelpai_proto__WEBPACK_IMPORTED_MODULE_0__[\"op_gameconfig\"].Display.create();\n            display.texturePath =\n                \"pixelpai/SpawnPointNode/5cc42f6417553727db1d2bba/1/5cc42f6417553727db1d2bba.png\";\n            display.dataPath =\n                \"pixelpai/SpawnPointNode/5cc42f6417553727db1d2bba/1/5cc42f6417553727db1d2bba.json\";\n            return display;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(SpawnPoint.prototype, \"animation\", {\n        get: function () {\n            var animation = pixelpai_proto__WEBPACK_IMPORTED_MODULE_0__[\"op_gameconfig_01\"].AnimationData.create();\n            // animation.id = 10000;\n            // animation.name = \"idle\";\n            animation.frameRate = 5;\n            animation.collisionArea = \"1,1&1,1\";\n            animation.loop = true;\n            animation.baseLoc = \"-30,-30\";\n            animation.originPoint = [0, 0];\n            animation.frameName = [\"switch_0027_3_01.png\"];\n            return animation;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(SpawnPoint.prototype, \"currentCollisionArea\", {\n        get: function () {\n            return [[1, 1], [1, 1]];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(SpawnPoint.prototype, \"currentWalkableArea\", {\n        get: function () {\n            return [[0]];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(SpawnPoint.prototype, \"currentCollisionPoint\", {\n        get: function () {\n            return new Phaser.Geom.Point(0, 0);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(SpawnPoint.prototype, \"hasInteractive\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return SpawnPoint;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/decorate/spawn.point.ts?");

/***/ }),

/***/ "./src/rooms/display-object.pool.ts":
/*!******************************************!*\
  !*** ./src/rooms/display-object.pool.ts ***!
  \******************************************/
/*! exports provided: DisplayObjectPool */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DisplayObjectPool\", function() { return DisplayObjectPool; });\n/* harmony import */ var _terrain_terrain__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./terrain/terrain */ \"./src/rooms/terrain/terrain.ts\");\n/* harmony import */ var _element_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./element/element */ \"./src/rooms/element/element.ts\");\n\n\nvar DisplayObjectPool = /** @class */ (function () {\n    function DisplayObjectPool() {\n        this.terrains = new Map();\n        this.mosses = new Map();\n        this.elements = new Map();\n        this.POOLOBJECTCONFIG = {\n            terrains: _terrain_terrain__WEBPACK_IMPORTED_MODULE_0__[\"Terrain\"],\n            mosses: _element_element__WEBPACK_IMPORTED_MODULE_1__[\"Element\"],\n            elements: _element_element__WEBPACK_IMPORTED_MODULE_1__[\"Element\"],\n        };\n    }\n    DisplayObjectPool.prototype.getPool = function (poolName) {\n        return this[poolName];\n    };\n    DisplayObjectPool.prototype.push = function (poolName, id, sprite, manager) {\n        var pool = this[poolName];\n        var obj = new this.POOLOBJECTCONFIG[poolName](sprite, manager);\n        obj.setBlockable(false);\n        obj.setRenderable(true);\n        if (obj instanceof _element_element__WEBPACK_IMPORTED_MODULE_1__[\"Element\"]) {\n            obj.setInputEnable(_element_element__WEBPACK_IMPORTED_MODULE_1__[\"InputEnable\"].Enable);\n        }\n        pool.set(id, obj);\n    };\n    DisplayObjectPool.prototype.remove = function (poolName, id) {\n        var obj = this[poolName].get(id);\n        if (obj) {\n            obj.isUsed = false;\n            obj.destroy();\n        }\n        this[poolName].delete(id);\n    };\n    DisplayObjectPool.prototype.update = function (poolName, id, newSprite) {\n        var pool = this[poolName];\n        var obj = pool.get(id);\n        if (obj) {\n            obj.isUsed = true;\n            obj.setModel(newSprite);\n        }\n    };\n    DisplayObjectPool.prototype.destroy = function () {\n        for (var _i = 0, _a = Object.keys(this.POOLOBJECTCONFIG); _i < _a.length; _i++) {\n            var key = _a[_i];\n            this[key].clear();\n        }\n    };\n    return DisplayObjectPool;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/display-object.pool.ts?");

/***/ }),

/***/ "./src/rooms/display/animation.ts":
/*!****************************************!*\
  !*** ./src/rooms/display/animation.ts ***!
  \****************************************/
/*! exports provided: Animation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Animation\", function() { return Animation; });\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_0__);\n\nvar Animation = /** @class */ (function () {\n    function Animation(ani) {\n        var tmpBaseLoc = ani.baseLoc.split(\",\");\n        this.mNode = ani.node;\n        this.mID = ani.node.id;\n        this.mName = ani.node.name;\n        this.mFrameName = ani.frameName;\n        if (!ani.frameName || this.mFrameName.length < 1) {\n            // Logger.getInstance().fatal(`Animation: ${ani.id} frames is invalid`);\n        }\n        this.mLoop = ani.loop;\n        if (!ani.loop) {\n            // Logger.getInstance().fatal(`Animation: ${ani.id} loop is invalid`);\n        }\n        if (!ani.frameRate) {\n            // Logger.getInstance().fatal(`Animation: ${ani.id} frameRate is invalid`);\n        }\n        if (ani.originPoint) {\n            // Logger.getInstance().fatal(`Animation: ${ani.id} originPoint is invalid`);\n        }\n        if (!ani.baseLoc) {\n            // Logger.getInstance().fatal(`Animation: ${ani.id} baseLoc is invalid`);\n        }\n        this.mFrameRate = ani.frameRate;\n        this.mBaseLoc = new Phaser.Geom.Point(parseInt(tmpBaseLoc[0], 10), parseInt(tmpBaseLoc[1], 10));\n        var origin = ani.originPoint;\n        this.mOriginPoint = new Phaser.Geom.Point(origin[0], origin[1]);\n        if (typeof ani.collisionArea === \"string\") {\n            this.mCollisionArea = this.stringToArray(ani.collisionArea, \",\", \"&\") || [[0]];\n        }\n        else {\n            this.mCollisionArea = ani.collisionArea || [[0]];\n        }\n        if (typeof ani.walkableArea === \"string\") {\n            this.mWalkableArea = this.stringToArray(ani.walkableArea, \",\", \"&\") || [[0]];\n        }\n        else {\n            this.mWalkableArea = ani.walkableArea || [[0]];\n        }\n        // this.mInteractiveArea = [{x: 0, y: 0}];\n        this.mInteractiveArea = ani.interactiveArea;\n        this.mLayer = ani.layer;\n        this.mMountLayer = ani.mountLayer;\n    }\n    Animation.prototype.createProtocolObject = function () {\n        var ani = pixelpai_proto__WEBPACK_IMPORTED_MODULE_0__[\"op_gameconfig_01\"].AnimationData.create();\n        ani.node = this.mNode;\n        ani.baseLoc = this.baseLoc.x + \",\" + this.baseLoc.y;\n        ani.node.name = this.name;\n        ani.loop = this.loop;\n        ani.frameRate = this.frameRate;\n        ani.frameName = this.frameName;\n        ani.originPoint = [this.originPoint.x, this.originPoint.y];\n        ani.walkOriginPoint = [this.originPoint.x, this.originPoint.y];\n        ani.walkableArea = this.arrayToString(this.mWalkableArea, \",\", \"&\");\n        ani.collisionArea = this.arrayToString(this.mCollisionArea, \",\", \"&\");\n        ani.interactiveArea = this.mInteractiveArea;\n        ani.layer = this.mLayer;\n        ani.mountLayer = this.mMountLayer;\n        return ani;\n    };\n    Animation.prototype.stringToArray = function (string, fristJoin, lastJoin) {\n        if (!string) {\n            return;\n        }\n        var tmp = string.split(lastJoin);\n        var result = [];\n        for (var _i = 0, tmp_1 = tmp; _i < tmp_1.length; _i++) {\n            var ary = tmp_1[_i];\n            var tmpAry = ary.split(fristJoin);\n            result.push(tmpAry.map(function (value) { return parseInt(value, 10); }));\n        }\n        return result;\n    };\n    Animation.prototype.arrayToString = function (array, fristJoin, lastJoin) {\n        if (!array)\n            return \"\";\n        var tmp = [];\n        for (var _i = 0, array_1 = array; _i < array_1.length; _i++) {\n            var ary = array_1[_i];\n            tmp.push(ary.join(fristJoin));\n        }\n        return tmp.join(lastJoin);\n    };\n    Object.defineProperty(Animation.prototype, \"baseLoc\", {\n        get: function () {\n            return this.mBaseLoc;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Animation.prototype, \"id\", {\n        get: function () {\n            return this.mID;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Animation.prototype, \"frameName\", {\n        get: function () {\n            return this.mFrameName;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Animation.prototype, \"frameRate\", {\n        get: function () {\n            return this.mFrameRate;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Animation.prototype, \"loop\", {\n        get: function () {\n            return this.mLoop;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Animation.prototype, \"name\", {\n        get: function () {\n            return this.mName;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Animation.prototype, \"collisionArea\", {\n        get: function () {\n            return this.mCollisionArea;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Animation.prototype, \"walkableArea\", {\n        get: function () {\n            return this.mWalkableArea;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Animation.prototype, \"originPoint\", {\n        get: function () {\n            return this.mOriginPoint;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Animation.prototype, \"interactiveArea\", {\n        get: function () {\n            return this.mInteractiveArea;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Animation.prototype, \"layer\", {\n        get: function () {\n            if (this.mLayer.length > 0) {\n                return this.mLayer;\n            }\n            return [{\n                    frameName: this.mFrameName,\n                    offsetLoc: this.mBaseLoc\n                }];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Animation.prototype, \"mountLayer\", {\n        get: function () {\n            return this.mMountLayer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Animation;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/display/animation.ts?");

/***/ }),

/***/ "./src/rooms/display/display.object.ts":
/*!*********************************************!*\
  !*** ./src/rooms/display/display.object.ts ***!
  \*********************************************/
/*! exports provided: DisplayField, DisplayObject */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DisplayField\", function() { return DisplayField; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DisplayObject\", function() { return DisplayObject; });\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\n/* harmony import */ var _ui_components_dynamic_sprite__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ui/components/dynamic.sprite */ \"./src/ui/components/dynamic.sprite.ts\");\n/* harmony import */ var _ui_components_dynamic_image__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../ui/components/dynamic.image */ \"./src/ui/components/dynamic.image.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _editor_reference_area__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../editor/reference.area */ \"./src/rooms/editor/reference.area.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar DisplayField;\n(function (DisplayField) {\n    DisplayField[DisplayField[\"BACKEND\"] = 0] = \"BACKEND\";\n    DisplayField[DisplayField[\"STAGE\"] = 1] = \"STAGE\";\n    DisplayField[DisplayField[\"FRONTEND\"] = 2] = \"FRONTEND\";\n    DisplayField[DisplayField[\"FLAG\"] = 3] = \"FLAG\";\n    DisplayField[DisplayField[\"Effect\"] = 4] = \"Effect\";\n})(DisplayField || (DisplayField = {}));\nvar DisplayObject = /** @class */ (function (_super) {\n    __extends(DisplayObject, _super);\n    function DisplayObject(scene, roomService, element, antial) {\n        if (antial === void 0) { antial = false; }\n        var _this = _super.call(this, scene) || this;\n        /**\n         * tween\n         */\n        _this.mAlpha = 1;\n        _this.mDirection = 3;\n        _this.mAntial = false;\n        _this.mElement = element;\n        _this.mRoomService = roomService;\n        _this.mAntial = antial;\n        return _this;\n    }\n    DisplayObject.prototype.changeAlpha = function (val) {\n        if (this.mAlpha === val) {\n            return;\n        }\n        this.alpha = val;\n        this.mAlpha = val;\n    };\n    DisplayObject.prototype.removeFromParent = function () {\n        if (this.parentContainer) {\n            this.parentContainer.remove(this);\n        }\n    };\n    DisplayObject.prototype.fadeIn = function (callback) {\n    };\n    DisplayObject.prototype.fadeOut = function (callback) {\n    };\n    DisplayObject.prototype.load = function (data, field) {\n    };\n    DisplayObject.prototype.play = function (animationName, field) {\n    };\n    DisplayObject.prototype.mount = function (ele, targetIndex) { };\n    DisplayObject.prototype.unmount = function (ele) { };\n    DisplayObject.prototype.removeEffect = function (field) {\n    };\n    DisplayObject.prototype.removeDisplay = function (field) {\n    };\n    DisplayObject.prototype.destroy = function (fromScene) {\n        if (this.mFlagContainer) {\n            if (this.mNickname) {\n                this.mNickname.destroy();\n                this.mNickname = undefined;\n            }\n            if (this.mBackEffect) {\n                this.mBackEffect.destroy();\n                this.mBackEffect = undefined;\n            }\n            if (this.mFrontEffect) {\n                this.mFrontEffect.destroy();\n                this.mFrontEffect = undefined;\n            }\n            this.clearBadges();\n            this.mFlagContainer.destroy();\n            this.mFlagContainer = undefined;\n        }\n        if (this.mReferenceArea) {\n            this.mReferenceArea.destroy();\n            this.mReferenceArea = undefined;\n        }\n        if (this.mChildMap) {\n            this.mChildMap.clear();\n            this.mChildMap = null;\n        }\n        // this.removeAll(true);\n        _super.prototype.destroy.call(this, fromScene);\n    };\n    DisplayObject.prototype.showNickname = function (val) {\n        if (!this.mNickname) {\n            this.mNickname = this.scene.make.text({ style: { font: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].YAHEI_14_BOLD } }, false).setOrigin(0.5, 0.5);\n            this.mNickname.setStroke(\"#0\", 2);\n            if (this.mAntial) {\n                this.mNickname.setShadow(2, 2, \"#0\", 4, true, true);\n            }\n            this.flagContainer.add(this.mNickname);\n            this.addChildMap(\"nickname\", this.mNickname);\n        }\n        this.mNickname.setText(val);\n        this.layouFlag();\n    };\n    DisplayObject.prototype.setDisplayBadges = function (cards) {\n        if (!this.mBadges)\n            this.mBadges = [];\n        else\n            this.clearBadges();\n        for (var _i = 0, cards_1 = cards; _i < cards_1.length; _i++) {\n            var card = cards_1[_i];\n            var badge = new _ui_components_dynamic_image__WEBPACK_IMPORTED_MODULE_2__[\"DynamicImage\"](this.scene, 0, 0);\n            badge.load(_utils_resUtil__WEBPACK_IMPORTED_MODULE_3__[\"Url\"].getOsdRes(card.thumbnail), this, this.layouFlag);\n            this.flagContainer.add(badge);\n            this.mBadges.push(badge);\n        }\n    };\n    DisplayObject.prototype.showRefernceArea = function () {\n        if (!this.mReferenceArea) {\n            this.mReferenceArea = new _editor_reference_area__WEBPACK_IMPORTED_MODULE_4__[\"ReferenceArea\"](this.scene, this.mRoomService);\n            this.addChildMap(\"reference\", this.mReferenceArea);\n        }\n        if (!this.mCollisionArea || this.mCollisionArea.length <= 0)\n            return;\n        this.mReferenceArea.draw(this.mCollisionArea, this.mOriginPoint);\n        this.addAt(this.mReferenceArea, 0);\n    };\n    DisplayObject.prototype.hideRefernceArea = function () {\n        if (this.mReferenceArea) {\n            this.mReferenceArea.destroy();\n            this.mReferenceArea = undefined;\n        }\n    };\n    DisplayObject.prototype.scaleTween = function () { };\n    DisplayObject.prototype.showEffect = function () {\n        this.addEffect(this.mBackEffect, _utils_resUtil__WEBPACK_IMPORTED_MODULE_3__[\"Url\"].getRes(\"ui/vip/vip_effect_back.png\"), _utils_resUtil__WEBPACK_IMPORTED_MODULE_3__[\"Url\"].getRes(\"ui/vip/vip_effect_back.json\"), true, 15, false, true);\n        this.addEffect(this.mFrontEffect, _utils_resUtil__WEBPACK_IMPORTED_MODULE_3__[\"Url\"].getRes(\"ui/vip/vip_effect_front.png\"), _utils_resUtil__WEBPACK_IMPORTED_MODULE_3__[\"Url\"].getRes(\"ui/vip/vip_effect_front.json\"), true, 15, false, true);\n    };\n    DisplayObject.prototype.getElement = function (key) {\n        if (!this.mChildMap) {\n            return;\n        }\n        return this.mChildMap.get(key);\n    };\n    DisplayObject.prototype.addEffect = function (target, textureURL, atlasURL, isBack, framerate, loop, killComplete) {\n        if (!target) {\n            target = new _ui_components_dynamic_sprite__WEBPACK_IMPORTED_MODULE_1__[\"DynamicSprite\"](this.scene, 0, 0);\n        }\n        target.load(textureURL, atlasURL);\n        target.y = -20;\n        if (isBack) {\n            this.addAt(target, DisplayField.BACKEND);\n        }\n        else {\n            this.addAt(target, DisplayField.FRONTEND);\n        }\n        // target.play(textureURL + atlasURL);\n        target.once(Phaser.Animations.Events.SPRITE_ANIMATION_COMPLETE, function () {\n            target.destroy();\n        });\n    };\n    DisplayObject.prototype.layouFlag = function (offset) {\n        if (offset === void 0) { offset = 4; }\n        if (!this.mFlagContainer)\n            return;\n        this.mFlagContainer.y = -96;\n        this.bringToTop(this.mNickname);\n        var children = this.mFlagContainer.list;\n        var _x = 0;\n        for (var _i = 0, children_1 = children; _i < children_1.length; _i++) {\n            var child = children_1[_i];\n            child[\"x\"] = _x;\n            if (child[\"width\"])\n                _x = child[\"width\"];\n        }\n    };\n    DisplayObject.prototype.clearBadges = function () {\n        if (!this.mBadges)\n            return;\n        for (var _i = 0, _a = this.mBadges; _i < _a.length; _i++) {\n            var badge = _a[_i];\n            badge.destroy();\n        }\n        this.mBadges.length = 0;\n    };\n    Object.defineProperty(DisplayObject.prototype, \"flagContainer\", {\n        get: function () {\n            if (this.mFlagContainer)\n                return this.mFlagContainer;\n            this.mFlagContainer = this.scene.make.container(undefined, false);\n            this.addAt(this.mFlagContainer, DisplayField.FLAG);\n            return this.mFlagContainer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    DisplayObject.prototype.addChildMap = function (key, display) {\n        if (!this.mChildMap) {\n            this.mChildMap = new Map();\n        }\n        this.mChildMap.set(key, display);\n    };\n    DisplayObject.prototype.removeChildMap = function (key) {\n        if (!this.mChildMap) {\n            return;\n        }\n        this.mChildMap.delete(key);\n    };\n    Object.defineProperty(DisplayObject.prototype, \"baseLoc\", {\n        get: function () {\n            return this.mBaseLoc || new Phaser.Geom.Point();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DisplayObject.prototype, \"sortX\", {\n        get: function () {\n            return this.x;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DisplayObject.prototype, \"sortY\", {\n        get: function () {\n            return this.y;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DisplayObject.prototype, \"sortZ\", {\n        get: function () {\n            return this.z || 0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DisplayObject.prototype, \"element\", {\n        get: function () {\n            return this.mElement;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DisplayObject.prototype, \"collisionArea\", {\n        get: function () {\n            return this.mCollisionArea;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DisplayObject.prototype, \"originPoint\", {\n        get: function () {\n            return this.mOriginPoint;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return DisplayObject;\n}(Phaser.GameObjects.Container));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/display/display.object.ts?");

/***/ }),

/***/ "./src/rooms/display/dragonbones.display.ts":
/*!**************************************************!*\
  !*** ./src/rooms/display/dragonbones.display.ts ***!
  \**************************************************/
/*! exports provided: AvatarSlotType, AvatarPartType, DragonbonesDisplay */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AvatarSlotType\", function() { return AvatarSlotType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AvatarPartType\", function() { return AvatarPartType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DragonbonesDisplay\", function() { return DragonbonesDisplay; });\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _display_object__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./display.object */ \"./src/rooms/display/display.object.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_interface_sound_ISoundConfig__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/interface/sound/ISoundConfig */ \"./lib/rexui/lib/ui/interface/sound/ISoundConfig.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar AvatarSlotType;\n(function (AvatarSlotType) {\n    AvatarSlotType[\"BodyCostDres\"] = \"body_cost_$_dres\";\n    AvatarSlotType[\"BodyCost\"] = \"body_cost_$\";\n    AvatarSlotType[\"BodyTail\"] = \"body_tail_$\";\n    AvatarSlotType[\"BodyWing\"] = \"body_wing_$\";\n    AvatarSlotType[\"BodyBase\"] = \"body_base_$\";\n    AvatarSlotType[\"BodySpec\"] = \"body_spec_$\";\n    AvatarSlotType[\"FlegSpec\"] = \"fleg_spec_$\";\n    AvatarSlotType[\"FlegBase\"] = \"fleg_base_$\";\n    AvatarSlotType[\"FlegCost\"] = \"fleg_cost_$\";\n    AvatarSlotType[\"BarmSpec\"] = \"barm_spec_$\";\n    AvatarSlotType[\"BarmBase\"] = \"barm_base_$\";\n    AvatarSlotType[\"BarmCost\"] = \"barm_cost_$\";\n    AvatarSlotType[\"WeapBarm\"] = \"weap_barm_$\";\n    AvatarSlotType[\"ShldBarm\"] = \"shld_barm_$\";\n    AvatarSlotType[\"BlegSpec\"] = \"bleg_spec_$\";\n    AvatarSlotType[\"BlegBase\"] = \"bleg_base_$\";\n    AvatarSlotType[\"BlegCost\"] = \"bleg_cost_$\";\n    AvatarSlotType[\"FarmSpec\"] = \"farm_spec_$\";\n    AvatarSlotType[\"FarmBase\"] = \"farm_base_$\";\n    AvatarSlotType[\"FarmCost\"] = \"farm_cost_$\";\n    AvatarSlotType[\"ShldFarm\"] = \"shld_farm_$\";\n    AvatarSlotType[\"WeapFarm\"] = \"weap_farm_$\";\n    AvatarSlotType[\"HeadSpec\"] = \"head_spec_$\";\n    AvatarSlotType[\"HeadMask\"] = \"head_mask_$\";\n    AvatarSlotType[\"HeadEyes\"] = \"head_eyes_$\";\n    AvatarSlotType[\"HeadBase\"] = \"head_base_$\";\n    AvatarSlotType[\"HeadHairBack\"] = \"head_hair_$_back\";\n    AvatarSlotType[\"HeadMous\"] = \"head_mous_$\";\n    AvatarSlotType[\"HeadHair\"] = \"head_hair_$\";\n    AvatarSlotType[\"HeadHats\"] = \"head_hats_$\";\n})(AvatarSlotType || (AvatarSlotType = {}));\nvar AvatarPartType;\n(function (AvatarPartType) {\n    AvatarPartType[\"BarmBase\"] = \"barm_base_#_$\";\n    AvatarPartType[\"BarmCost\"] = \"barm_cost_#_$\";\n    AvatarPartType[\"BarmSpec\"] = \"barm_spec_#_$\";\n    AvatarPartType[\"BlegBase\"] = \"bleg_base_#_$\";\n    AvatarPartType[\"BlegCost\"] = \"bleg_cost_#_$\";\n    AvatarPartType[\"BlegSpec\"] = \"bleg_spec_#_$\";\n    AvatarPartType[\"BodyBase\"] = \"body_base_#_$\";\n    AvatarPartType[\"BodyCost\"] = \"body_cost_#_$\";\n    AvatarPartType[\"BodyCostDres\"] = \"body_cost_#_$_dres\";\n    AvatarPartType[\"BodySpec\"] = \"body_spec_#_$\";\n    AvatarPartType[\"BodyTail\"] = \"body_tail_#_$\";\n    AvatarPartType[\"BodyWing\"] = \"body_wing_#_$\";\n    AvatarPartType[\"FarmBase\"] = \"farm_base_#_$\";\n    AvatarPartType[\"FarmCost\"] = \"farm_cost_#_$\";\n    AvatarPartType[\"FarmSpec\"] = \"farm_spec_#_$\";\n    AvatarPartType[\"FlegBase\"] = \"fleg_base_#_$\";\n    AvatarPartType[\"FlegCost\"] = \"fleg_cost_#_$\";\n    AvatarPartType[\"FlegSpec\"] = \"fleg_spec_#_$\";\n    AvatarPartType[\"HeadBase\"] = \"head_base_#_$\";\n    AvatarPartType[\"HeadEyes\"] = \"head_eyes_#_$\";\n    AvatarPartType[\"HeadHair\"] = \"head_hair_#_$\";\n    AvatarPartType[\"HeadHairBack\"] = \"head_hair_#_$_back\";\n    AvatarPartType[\"HeadHats\"] = \"head_hats_#_$\";\n    AvatarPartType[\"HeadMask\"] = \"head_mask_#_$\";\n    AvatarPartType[\"HeadMous\"] = \"head_mous_#_$\";\n    AvatarPartType[\"HeadSpec\"] = \"head_spec_#_$\";\n    AvatarPartType[\"ShldFarm\"] = \"shld_farm_#_$\";\n    AvatarPartType[\"WeapFarm\"] = \"weap_farm_#_$\";\n    AvatarPartType[\"ShldBarm\"] = \"shld_barm_#_$\";\n    AvatarPartType[\"WeapBarm\"] = \"weap_barm_#_$\";\n})(AvatarPartType || (AvatarPartType = {}));\n/**\n * \n */\nvar DragonbonesDisplay = /** @class */ (function (_super) {\n    __extends(DragonbonesDisplay, _super);\n    function DragonbonesDisplay(scene, roomService, element, antial) {\n        if (antial === void 0) { antial = false; }\n        var _this = _super.call(this, scene, roomService, element, antial) || this;\n        _this.mAnimationName = \"Armature\";\n        _this.mDragonbonesName = \"\";\n        _this.replaceArr = [];\n        _this.mHasLoadMap = new Map();\n        _this.mLoadMap = new Map();\n        _this.mErrorLoadMap = new Map();\n        return _this;\n    }\n    Object.defineProperty(DragonbonesDisplay.prototype, \"spriteWidth\", {\n        get: function () {\n            if (this.mArmatureDisplay) {\n                return this.mArmatureDisplay.width;\n            }\n            return 0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DragonbonesDisplay.prototype, \"spriteHeight\", {\n        get: function () {\n            if (this.mArmatureDisplay) {\n                return this.mArmatureDisplay.height;\n            }\n            return 0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DragonbonesDisplay.prototype, \"GameObject\", {\n        get: function () {\n            return this;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    DragonbonesDisplay.prototype.changeAlpha = function (val) {\n        // this.alpha = val;\n    };\n    DragonbonesDisplay.prototype.load = function (display, field) {\n        field = !field ? _display_object__WEBPACK_IMPORTED_MODULE_1__[\"DisplayField\"].STAGE : field;\n        if (field === _display_object__WEBPACK_IMPORTED_MODULE_1__[\"DisplayField\"].STAGE) {\n            this.mDisplayInfo = display;\n            this.mCollisionArea = [[1, 1], [1, 1]];\n            this.mOriginPoint = new Phaser.Geom.Point(1, 1);\n            if (!this.mDisplayInfo)\n                return;\n            this.dragonBonesName = \"bones_human01\"; // this.mDisplayInfo.avatar.id;\n        }\n        else {\n        }\n    };\n    DragonbonesDisplay.prototype.getDisplay = function () {\n        return this.mArmatureDisplay;\n    };\n    DragonbonesDisplay.prototype.play = function (val) {\n        this.mActionName = val;\n        if (this.mArmatureDisplay) {\n            if (this.mArmatureDisplay.hasDBEventListener(dragonBones.EventObject.LOOP_COMPLETE)) {\n                this.mArmatureDisplay.removeDBEventListener(dragonBones.EventObject.LOOP_COMPLETE, this.onArmatureLoopComplete, this);\n            }\n            if (val.playingQueue && val.playingQueue.complete) {\n                this.mArmatureDisplay.addDBEventListener(dragonBones.EventObject.LOOP_COMPLETE, this.onArmatureLoopComplete, this);\n            }\n            this.mArmatureDisplay.animation.play(val.name);\n            this.mArmatureDisplay.scaleX = val.flip ? -1 : 1;\n        }\n    };\n    DragonbonesDisplay.prototype.fadeIn = function (callback) {\n        this.clearFadeTween();\n        this.alpha = 0;\n        this.mFadeTween = this.scene.tweens.add({\n            targets: this,\n            alpha: 1,\n            duration: 1200,\n            onComplete: function () {\n                if (callback)\n                    callback();\n            }\n        });\n    };\n    DragonbonesDisplay.prototype.fadeOut = function (callback) {\n        this.clearFadeTween();\n        this.mFadeTween = this.scene.tweens.add({\n            targets: this,\n            alpha: 0,\n            duration: 1200,\n            onComplete: function () {\n                if (callback)\n                    callback();\n            }\n        });\n    };\n    DragonbonesDisplay.prototype.destroy = function () {\n        this.mDisplayInfo = null;\n        if (this.mArmatureDisplay) {\n            this.mArmatureDisplay.dispose(true);\n            this.mArmatureDisplay = null;\n        }\n        if (this.mClickCon) {\n            this.mClickCon.destroy(true);\n            this.mClickCon = null;\n        }\n        if (this.mFadeTween) {\n            this.clearFadeTween();\n            this.mFadeTween = null;\n        }\n        _super.prototype.destroy.call(this);\n    };\n    DragonbonesDisplay.prototype.buildDragbones = function () {\n        if (this.scene.cache.custom.dragonbone.get(this.mDragonbonesName)) {\n            this.onLoadCompleteHandler();\n        }\n        else {\n            var res = \"./resources/dragonbones\";\n            var pngUrl = res + \"/\" + this.mDragonbonesName + \"_tex.png\";\n            var jsonUrl = res + \"/\" + this.mDragonbonesName + \"_tex.json\";\n            var dbbinUrl = res + \"/\" + this.mDragonbonesName + \"_ske.dbbin\";\n            this.loadDragonBones(res, pngUrl, jsonUrl, dbbinUrl);\n        }\n    };\n    DragonbonesDisplay.prototype.onLoadCompleteHandler = function (loader, totalComplete, totalFailed) {\n        if (!this.scene)\n            return;\n        if (this.mArmatureDisplay) {\n            this.mArmatureDisplay.dbClear();\n        }\n        this.mArmatureDisplay = this.scene.add.armature(this.mAnimationName, this.dragonBonesName);\n        this.mArmatureDisplay.addDBEventListener(dragonBones.EventObject.SOUND_EVENT, this.onSoundEventHandler, this);\n        this.mArmatureDisplay.visible = false;\n        this.add(this.mArmatureDisplay);\n        // ==========\n        this.clearArmatureSlot();\n        // ==========display\n        this.getReplaceArr();\n        this.showReplaceArmatrue();\n        // this.play(\"idle\");\n        this.mArmatureDisplay.x = this.baseLoc.x;\n        this.mArmatureDisplay.y = this.baseLoc.y;\n        var rect = new Phaser.Geom.Rectangle(0, 0, 50, 70);\n        if (!this.mClickCon) {\n            this.mClickCon = this.scene.make.container(undefined, false);\n            this.mClickCon.setInteractive(rect, Phaser.Geom.Rectangle.Contains);\n            this.mClickCon.x = -rect.width >> 1;\n            this.mClickCon.y = -rect.height;\n        }\n        this.setData(\"id\", this.mDisplayInfo.id);\n        this.add(this.mClickCon);\n        this.emit(\"initialized\");\n    };\n    DragonbonesDisplay.prototype.loadDragonBones = function (resUrl, pngUrl, jsonUrl, dbbinUrl) {\n        this.scene.load.dragonbone(this.mDragonbonesName, pngUrl, jsonUrl, dbbinUrl, null, null, { responseType: \"arraybuffer\" });\n        this.scene.load.once(Phaser.Loader.Events.COMPLETE, this.onLoadCompleteHandler, this);\n        this.scene.load.start();\n    };\n    DragonbonesDisplay.prototype.clearArmatureSlot = function () {\n        var slotList = this.mArmatureDisplay.armature.getSlots();\n        slotList.forEach(function (slot) {\n            if (slot)\n                slot.display.visible = false;\n        });\n    };\n    DragonbonesDisplay.prototype.clearReplaceArmature = function () {\n        this.mArmatureDisplay.armature.animation.stop();\n        if (!this.replaceArr || this.replaceArr.length === 0) {\n            return;\n        }\n        var len = this.replaceArr.length;\n        for (var i = 0; i < len; i++) {\n            var part = this.replaceArr[i].slot.replace(\"$\", this.replaceArr[i].dir.toString());\n            var slot = this.mArmatureDisplay.armature.getSlot(part);\n            slot.replaceDisplay(null);\n        }\n    };\n    DragonbonesDisplay.prototype.showReplaceArmatrue = function () {\n        for (var _i = 0, _a = this.replaceArr; _i < _a.length; _i++) {\n            var obj = _a[_i];\n            this.replacePartDisplay(obj.slot, obj.part, obj.dir, obj.skin);\n        }\n        if (this.mLoadMap && this.mLoadMap.size > 0) {\n            this.startLoad();\n        }\n        else {\n            this.refreshAvatar();\n        }\n    };\n    DragonbonesDisplay.prototype.getReplaceArr = function () {\n        this.replaceArr.length = 0;\n        var avater = this.mDisplayInfo.avatar;\n        if (avater.bodyBaseId) {\n            this.replaceArr.push({\n                slot: AvatarSlotType.BodyBase,\n                part: AvatarPartType.BodyBase,\n                dir: 3,\n                skin: avater.bodyBaseId,\n            });\n            this.replaceArr.push({\n                slot: AvatarSlotType.BodyBase,\n                part: AvatarPartType.BodyBase,\n                dir: 1,\n                skin: avater.bodyBaseId,\n            });\n        }\n        if (avater.bodySpecId) {\n            this.replaceArr.push({\n                slot: AvatarSlotType.BodySpec,\n                part: AvatarPartType.BodySpec,\n                dir: 3,\n                skin: avater.bodySpecId,\n            });\n            this.replaceArr.push({\n                slot: AvatarSlotType.BodySpec,\n                part: AvatarPartType.BodySpec,\n                dir: 1,\n                skin: avater.bodySpecId,\n            });\n        }\n        if (avater.bodyWingId) {\n            this.replaceArr.push({\n                slot: AvatarSlotType.BodyWing,\n                part: AvatarPartType.BodyWing,\n                dir: 3,\n                skin: avater.bodyWingId,\n            });\n            this.replaceArr.push({\n                slot: AvatarSlotType.BodyWing,\n                part: AvatarPartType.BodyWing,\n                dir: 1,\n                skin: avater.bodyWingId,\n            });\n        }\n        if (avater.bodyTailId) {\n            this.replaceArr.push({\n                slot: AvatarSlotType.BodyTail,\n                part: AvatarPartType.BodyTail,\n                dir: 3,\n                skin: avater.bodyTailId,\n            });\n            this.replaceArr.push({\n                slot: AvatarSlotType.BodyTail,\n                part: AvatarPartType.BodyTail,\n                dir: 1,\n                skin: avater.bodyTailId,\n            });\n        }\n        if (avater.bodyCostId) {\n            this.replaceArr.push({\n                slot: AvatarSlotType.BodyCost,\n                part: AvatarPartType.BodyCost,\n                dir: 3,\n                skin: avater.bodyCostId,\n            });\n            this.replaceArr.push({\n                slot: AvatarSlotType.BodyCost,\n                part: AvatarPartType.BodyCost,\n                dir: 1,\n                skin: avater.bodyCostId,\n            });\n            this.replaceArr.push({\n                slot: AvatarSlotType.BodyCostDres,\n                part: AvatarPartType.BodyCostDres,\n                dir: 3,\n                skin: avater.bodyCostId,\n            });\n            this.replaceArr.push({\n                slot: AvatarSlotType.BodyCostDres,\n                part: AvatarPartType.BodyCostDres,\n                dir: 1,\n                skin: avater.bodyCostId,\n            });\n        }\n        if (avater.farmBaseId) {\n            this.replaceArr.push({\n                slot: AvatarSlotType.FarmBase,\n                part: AvatarPartType.FarmBase,\n                dir: 3,\n                skin: avater.farmBaseId,\n            });\n            this.replaceArr.push({\n                slot: AvatarSlotType.FarmBase,\n                part: AvatarPartType.FarmBase,\n                dir: 1,\n                skin: avater.farmBaseId,\n            });\n        }\n        if (avater.farmSpecId) {\n            this.replaceArr.push({\n                slot: AvatarSlotType.FarmSpec,\n                part: AvatarPartType.FarmSpec,\n                dir: 3,\n                skin: avater.farmSpecId,\n            });\n            this.replaceArr.push({\n                slot: AvatarSlotType.FarmSpec,\n                part: AvatarPartType.FarmSpec,\n                dir: 1,\n                skin: avater.farmSpecId,\n            });\n        }\n        if (avater.farmCostId) {\n            this.replaceArr.push({\n                slot: AvatarSlotType.FarmCost,\n                part: AvatarPartType.FarmCost,\n                dir: 3,\n                skin: avater.farmCostId,\n            });\n            this.replaceArr.push({\n                slot: AvatarSlotType.FarmCost,\n                part: AvatarPartType.FarmCost,\n                dir: 1,\n                skin: avater.farmCostId,\n            });\n        }\n        if (avater.barmBaseId) {\n            this.replaceArr.push({\n                slot: AvatarSlotType.BarmBase,\n                part: AvatarPartType.BarmBase,\n                dir: 3,\n                skin: avater.barmBaseId,\n            });\n            this.replaceArr.push({\n                slot: AvatarSlotType.BarmBase,\n                part: AvatarPartType.BarmBase,\n                dir: 1,\n                skin: avater.barmBaseId,\n            });\n        }\n        if (avater.barmSpecId) {\n            this.replaceArr.push({\n                slot: AvatarSlotType.BarmSpec,\n                part: AvatarPartType.BarmSpec,\n                dir: 3,\n                skin: avater.barmSpecId,\n            });\n            this.replaceArr.push({\n                slot: AvatarSlotType.BarmSpec,\n                part: AvatarPartType.BarmSpec,\n                dir: 1,\n                skin: avater.barmSpecId,\n            });\n        }\n        if (avater.barmCostId) {\n            this.replaceArr.push({\n                slot: AvatarSlotType.BarmCost,\n                part: AvatarPartType.BarmCost,\n                dir: 3,\n                skin: avater.barmCostId,\n            });\n            this.replaceArr.push({\n                slot: AvatarSlotType.BarmCost,\n                part: AvatarPartType.BarmCost,\n                dir: 1,\n                skin: avater.barmCostId,\n            });\n        }\n        if (avater.blegBaseId) {\n            this.replaceArr.push({\n                slot: AvatarSlotType.BlegBase,\n                part: AvatarPartType.BlegBase,\n                dir: 3,\n                skin: avater.blegBaseId,\n            });\n            this.replaceArr.push({\n                slot: AvatarSlotType.BlegBase,\n                part: AvatarPartType.BlegBase,\n                dir: 1,\n                skin: avater.blegBaseId,\n            });\n        }\n        if (avater.blegSpecId) {\n            this.replaceArr.push({\n                slot: AvatarSlotType.BlegSpec,\n                part: AvatarPartType.BlegSpec,\n                dir: 3,\n                skin: avater.blegSpecId,\n            });\n            this.replaceArr.push({\n                slot: AvatarSlotType.BlegSpec,\n                part: AvatarPartType.BlegSpec,\n                dir: 1,\n                skin: avater.blegSpecId,\n            });\n        }\n        if (avater.blegCostId) {\n            this.replaceArr.push({\n                slot: AvatarSlotType.BlegCost,\n                part: AvatarPartType.BlegCost,\n                dir: 3,\n                skin: avater.blegCostId,\n            });\n            this.replaceArr.push({\n                slot: AvatarSlotType.BlegCost,\n                part: AvatarPartType.BlegCost,\n                dir: 1,\n                skin: avater.blegCostId,\n            });\n        }\n        if (avater.flegBaseId) {\n            this.replaceArr.push({\n                slot: AvatarSlotType.FlegBase,\n                part: AvatarPartType.FlegBase,\n                dir: 3,\n                skin: avater.flegBaseId,\n            });\n            this.replaceArr.push({\n                slot: AvatarSlotType.FlegBase,\n                part: AvatarPartType.FlegBase,\n                dir: 1,\n                skin: avater.flegBaseId,\n            });\n        }\n        if (avater.flegSpecId) {\n            this.replaceArr.push({\n                slot: AvatarSlotType.FlegSpec,\n                part: AvatarPartType.FlegSpec,\n                dir: 3,\n                skin: avater.flegSpecId,\n            });\n            this.replaceArr.push({\n                slot: AvatarSlotType.FlegSpec,\n                part: AvatarPartType.FlegSpec,\n                dir: 1,\n                skin: avater.flegSpecId,\n            });\n        }\n        if (avater.flegCostId) {\n            this.replaceArr.push({\n                slot: AvatarSlotType.FlegCost,\n                part: AvatarPartType.FlegCost,\n                dir: 3,\n                skin: avater.flegCostId,\n            });\n            this.replaceArr.push({\n                slot: AvatarSlotType.FlegCost,\n                part: AvatarPartType.FlegCost,\n                dir: 1,\n                skin: avater.flegCostId,\n            });\n        }\n        if (avater.headBaseId) {\n            this.replaceArr.push({\n                slot: AvatarSlotType.HeadBase,\n                part: AvatarPartType.HeadBase,\n                dir: 3,\n                skin: avater.headBaseId,\n            });\n            this.replaceArr.push({\n                slot: AvatarSlotType.HeadBase,\n                part: AvatarPartType.HeadBase,\n                dir: 1,\n                skin: avater.headBaseId,\n            });\n        }\n        if (avater.barmWeapId) {\n            this.replaceArr.push({\n                slot: AvatarSlotType.WeapBarm,\n                part: AvatarPartType.WeapBarm,\n                dir: 3,\n                skin: avater.barmWeapId,\n            });\n            this.replaceArr.push({\n                slot: AvatarSlotType.WeapBarm,\n                part: AvatarPartType.WeapBarm,\n                dir: 1,\n                skin: avater.barmWeapId,\n            });\n        }\n        if (avater.headHairId) {\n            this.replaceArr.push({\n                slot: AvatarSlotType.HeadHair,\n                part: AvatarPartType.HeadHair,\n                dir: 3,\n                skin: avater.headHairId,\n            });\n            this.replaceArr.push({\n                slot: AvatarSlotType.HeadHair,\n                part: AvatarPartType.HeadHair,\n                dir: 1,\n                skin: avater.headHairId,\n            });\n            this.replaceArr.push({\n                slot: AvatarSlotType.HeadHairBack,\n                part: AvatarPartType.HeadHairBack,\n                dir: 3,\n                skin: avater.headHairId,\n            });\n            this.replaceArr.push({\n                slot: AvatarSlotType.HeadHairBack,\n                part: AvatarPartType.HeadHairBack,\n                dir: 1,\n                skin: avater.headHairId,\n            });\n        }\n        if (avater.headHatsId) {\n            this.replaceArr.push({\n                slot: AvatarSlotType.HeadHats,\n                part: AvatarPartType.HeadHats,\n                dir: 3,\n                skin: avater.headHatsId,\n            });\n            this.replaceArr.push({\n                slot: AvatarSlotType.HeadHats,\n                part: AvatarPartType.HeadHats,\n                dir: 1,\n                skin: avater.headHatsId,\n            });\n        }\n        if (avater.headSpecId) {\n            this.replaceArr.push({\n                slot: AvatarSlotType.HeadSpec,\n                part: AvatarPartType.HeadSpec,\n                dir: 3,\n                skin: avater.headSpecId,\n            });\n            this.replaceArr.push({\n                slot: AvatarSlotType.HeadSpec,\n                part: AvatarPartType.HeadSpec,\n                dir: 1,\n                skin: avater.headSpecId,\n            });\n        }\n        if (avater.headEyesId) {\n            this.replaceArr.push({\n                slot: AvatarSlotType.HeadEyes,\n                part: AvatarPartType.HeadEyes,\n                dir: 3,\n                skin: avater.headEyesId,\n            });\n        }\n        if (avater.headMousId) {\n            this.replaceArr.push({\n                slot: AvatarSlotType.HeadMous,\n                part: AvatarPartType.HeadMous,\n                dir: 3,\n                skin: avater.headMousId,\n            });\n        }\n        if (avater.headMaskId) {\n            this.replaceArr.push({\n                slot: AvatarSlotType.HeadMask,\n                part: AvatarPartType.HeadMask,\n                dir: 3,\n                skin: avater.headMaskId,\n            });\n        }\n        if (avater.farmShldId) {\n            this.replaceArr.push({\n                slot: AvatarSlotType.ShldFarm,\n                part: AvatarPartType.ShldFarm,\n                dir: 3,\n                skin: avater.farmShldId,\n            });\n            this.replaceArr.push({\n                slot: AvatarSlotType.ShldFarm,\n                part: AvatarPartType.ShldFarm,\n                dir: 1,\n                skin: avater.farmShldId,\n            });\n            this.replaceArr.push({\n                slot: AvatarSlotType.ShldBarm,\n                part: AvatarPartType.ShldBarm,\n                dir: 3,\n                skin: avater.farmShldId,\n            });\n            this.replaceArr.push({\n                slot: AvatarSlotType.ShldBarm,\n                part: AvatarPartType.ShldBarm,\n                dir: 1,\n                skin: avater.farmShldId,\n            });\n        }\n        if (avater.farmWeapId) {\n            this.replaceArr.push({\n                slot: AvatarSlotType.WeapFarm,\n                part: AvatarPartType.WeapFarm,\n                dir: 3,\n                skin: avater.farmWeapId,\n            });\n            this.replaceArr.push({\n                slot: AvatarSlotType.WeapFarm,\n                part: AvatarPartType.WeapFarm,\n                dir: 1,\n                skin: avater.farmWeapId,\n            });\n            this.replaceArr.push({\n                slot: AvatarSlotType.WeapBarm,\n                part: AvatarPartType.WeapBarm,\n                dir: 3,\n                skin: avater.farmWeapId,\n            });\n            this.replaceArr.push({\n                slot: AvatarSlotType.WeapBarm,\n                part: AvatarPartType.WeapBarm,\n                dir: 1,\n                skin: avater.farmWeapId,\n            });\n        }\n    };\n    DragonbonesDisplay.prototype.replacePartDisplay = function (soltName, soltPart, soltDir, skin) {\n        var part = soltName.replace(\"$\", soltDir.toString());\n        var slot = this.mArmatureDisplay.armature.getSlot(part);\n        var key = soltPart.replace(\"#\", skin.toString()).replace(\"$\", soltDir.toString());\n        var dragonBonesTexture = this.scene.game.textures.get(this.mDragonbonesName);\n        if (this.scene.cache.custom.dragonbone.get(this.dragonBonesName)) {\n            var partName = _utils_resUtil__WEBPACK_IMPORTED_MODULE_0__[\"ResUtils\"].getPartName(key);\n            var frameName = \"test resources/\" + key;\n            if (this.mErrorLoadMap.get(partName))\n                return;\n            if (!this.scene.textures.exists(partName)) {\n                if (!dragonBonesTexture.frames[frameName]) {\n                    // ==============\n                    this.mLoadMap.set(slot.name, [slot.name, key]);\n                }\n                else {\n                    this.mHasLoadMap.set(key, this.scene.textures.get(partName));\n                }\n            }\n            else {\n                //     // ============== / \n                // this.mHasLoadMap.set(slot.name,this.scene.textures.exists(partName));\n                // let img: dragonBones.phaser.display.SlotImage;\n                // if (dragonBonesTexture.frames[frameName]) {// && this.scene.game.textures.exists(this.mDisplayInfo.id + \"\")) {\n                //     if (!this.scene.textures.exists(partName)) {\n                //         this.mLoadMap.set(slot.name, [slot.name, key]);\n                //         return;\n                //     }\n                //     img = new dragonBones.phaser.display.SlotImage(this.scene, slot.display.x, slot.display.y, partName);\n                // } else {\n                //     img = new dragonBones.phaser.display.SlotImage(this.scene, slot.display.x, slot.display.y, partName);\n                // }\n                // if (this.mAntial) {\n                //     // \n                //     img.texture.setFilter(Phaser.Textures.FilterMode.NEAREST);\n                // }\n                // slot.replaceDisplay(img);\n            }\n        }\n    };\n    DragonbonesDisplay.prototype.startLoad = function () {\n        var _this = this;\n        var configList = [];\n        // ============checkload\n        this.scene.load.once(Phaser.Loader.Events.COMPLETE, function (data, totalComplete, totalFailed) {\n            if (!configList || !_this.scene)\n                return;\n            _this.refreshAvatar();\n            _this.mLoadMap.clear();\n        }, this);\n        this.scene.load.once(Phaser.Loader.Events.FILE_LOAD_ERROR, function (e) {\n            // ==============404map\n            _this.mLoadMap.delete(e.key);\n            _this.mErrorLoadMap.set(e.key, e);\n        }, this);\n        this.mLoadMap.forEach(function (data) {\n            var nextLoad = data;\n            var partUrl = _utils_resUtil__WEBPACK_IMPORTED_MODULE_0__[\"ResUtils\"].getPartUrl(nextLoad[1]);\n            var partName = _utils_resUtil__WEBPACK_IMPORTED_MODULE_0__[\"ResUtils\"].getPartName(nextLoad[1]);\n            configList.push({ key: partName, url: partUrl });\n        });\n        this.scene.load.image(configList);\n        this.scene.load.start();\n    };\n    DragonbonesDisplay.prototype.refreshAvatar = function () {\n        var _this = this;\n        var dragonBonesTexture = this.scene.game.textures.get(this.mDragonbonesName);\n        var frames = dragonBonesTexture.getFrameNames();\n        // ==============\n        // if (this.mLoadMap.size > 0) {\n        // }\n        var renderTextureKey = \"bones_\" + this.mDisplayInfo.id; // \"bones_\" + this.mDisplayInfo.id;// \"bones_human01\";\n        var renderTexture = this.scene.textures.get(renderTextureKey);\n        if (!this.mDragonBonesRenderTexture)\n            this.mDragonBonesRenderTexture = this.scene.make.renderTexture({ x: 0, y: 0, width: dragonBonesTexture.source[0].width, height: dragonBonesTexture.source[0].height }, false);\n        this.mDragonBonesRenderTexture.clear();\n        // this.scene.add.existing(this.mDragonBonesRenderTexture);\n        for (var i = 0, len = frames.length; i < len; i++) {\n            // =============frameskey \"test resources/xxxxx\"\n            var name_1 = frames[i];\n            // =============partkey \n            var key = name_1.split(\"/\")[1].split(\"_\");\n            // =============front || back\n            var slotKey = key[4] ? key[0] + \"_\" + key[1] + \"_\" + key[3] + \"_\" + key[4] : key[0] + \"_\" + key[1] + \"_\" + key[3];\n            var slot = this.mArmatureDisplay.armature.getSlot(slotKey);\n            var dat = dragonBonesTexture.get(name_1);\n            var loadArr = this.mLoadMap.get(slotKey);\n            // \n            if (!loadArr) {\n                for (var _i = 0, _a = this.replaceArr; _i < _a.length; _i++) {\n                    var obj = _a[_i];\n                    var tmpKey = obj.part.replace(\"#\", obj.skin.toString()).replace(\"$\", obj.dir.toString());\n                    var partName = _utils_resUtil__WEBPACK_IMPORTED_MODULE_0__[\"ResUtils\"].getPartName(tmpKey);\n                    var frameName = \"test resources/\" + tmpKey;\n                    var part = obj.slot.replace(\"$\", obj.dir.toString());\n                    if (part === slotKey) {\n                        var texture = this.scene.textures.get(partName);\n                        // if (this.mAntial) {\n                        //     // \n                        //     texture.setFilter(Phaser.Textures.FilterMode.NEAREST);\n                        // }\n                        if (dragonBonesTexture.frames[frameName]) {\n                            this.mDragonBonesRenderTexture.drawFrame(this.mDragonbonesName, name_1, dat.cutX, dat.cutY);\n                            break;\n                        }\n                        else {\n                            this.mDragonBonesRenderTexture.drawFrame(partName, texture.firstFrame, dat.cutX, dat.cutY);\n                            break;\n                        }\n                    }\n                }\n                // this.mDragonBonesRenderTexture.drawFrame(this.mDragonbonesName, name, dat.cutX, dat.cutY);\n            }\n            else {\n                var drawTextureKey = loadArr[1] + \"_png\";\n                var drawTexture = this.scene.game.textures.get(drawTextureKey);\n                // if (this.mAntial) {\n                //     // \n                //     drawTexture.setFilter(Phaser.Textures.FilterMode.NEAREST);\n                // }\n                this.mDragonBonesRenderTexture.drawFrame(drawTextureKey, drawTexture.firstFrame, dat.cutX, dat.cutY);\n            }\n        }\n        this.mDragonBonesRenderTexture.snapshotArea(0, 0, dragonBonesTexture.source[0].width, dragonBonesTexture.source[0].height, function (snapshot) {\n            if (snapshot instanceof HTMLImageElement) {\n                if (_this.scene.game.textures.exists(renderTextureKey))\n                    _this.scene.game.textures.removeKey(renderTextureKey);\n                var changeTexture = _this.scene.game.textures.create(renderTextureKey, snapshot, dragonBonesTexture.source[0].width, dragonBonesTexture.source[0].height);\n                // if (this.mAntial) {\n                //     changeTexture.setFilter(Phaser.Textures.FilterMode.NEAREST);\n                // }\n                _this.mArmatureDisplay.armature.replacedTexture = changeTexture;\n            }\n        });\n        // }\n        this.mArmatureDisplay.visible = true;\n    };\n    DragonbonesDisplay.prototype.clearFadeTween = function () {\n        if (this.mFadeTween) {\n            this.mFadeTween.stop();\n            this.mFadeTween.remove();\n        }\n    };\n    DragonbonesDisplay.prototype.onArmatureLoopComplete = function (event) {\n        if (!this.mArmatureDisplay || !this.mActionName) {\n            return;\n        }\n        var queue = this.mActionName.playingQueue;\n        if (queue.playedTimes === undefined) {\n            queue.playedTimes = 1;\n        }\n        else {\n            queue.playedTimes++;\n        }\n        if (queue.playedTimes >= queue.playTimes) {\n            this.mArmatureDisplay.removeDBEventListener(dragonBones.EventObject.LOOP_COMPLETE, this.onArmatureLoopComplete, this);\n            // this.emit(\"animationComplete\");\n            if (queue.complete) {\n                queue.complete.call(this);\n                delete queue.complete;\n            }\n        }\n    };\n    DragonbonesDisplay.prototype.onSoundEventHandler = function (event) {\n        // Logger.getInstance().log(\"sound event: \", event.name);\n        if (event.name) {\n            this.mRoomService.world.playSound({\n                field: _lib_rexui_lib_ui_interface_sound_ISoundConfig__WEBPACK_IMPORTED_MODULE_2__[\"SoundField\"].Element,\n                key: event.name,\n            });\n        }\n    };\n    Object.defineProperty(DragonbonesDisplay.prototype, \"dragonBonesName\", {\n        get: function () {\n            return this.mDragonbonesName;\n        },\n        set: function (val) {\n            // if (this.mDragonbonesName !== val) {\n            // TODO \n            this.mDragonbonesName = val;\n            this.buildDragbones();\n            // }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return DragonbonesDisplay;\n}(_display_object__WEBPACK_IMPORTED_MODULE_1__[\"DisplayObject\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/display/dragonbones.display.ts?");

/***/ }),

/***/ "./src/rooms/display/dragonbones.model.ts":
/*!************************************************!*\
  !*** ./src/rooms/display/dragonbones.model.ts ***!
  \************************************************/
/*! exports provided: DragonbonesModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DragonbonesModel\", function() { return DragonbonesModel; });\n/* harmony import */ var _element_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../element/element */ \"./src/rooms/element/element.ts\");\n\nvar DragonbonesModel = /** @class */ (function () {\n    function DragonbonesModel(data) {\n        this.discriminator = \"DragonbonesModel\";\n        // this.id = id;\n        // this.avatar = avatar;\n        if (data) {\n            this.id = data.id;\n            this.avatar = data.avatar;\n        }\n    }\n    DragonbonesModel.prototype.setInfo = function (val) {\n        for (var key in val) {\n            if (val.hasOwnProperty(key)) {\n                this[key] = val[key];\n            }\n        }\n    };\n    DragonbonesModel.prototype.destroy = function () {\n    };\n    DragonbonesModel.prototype.getCollisionArea = function (aniName) {\n        return [[1, 1], [1, 1]];\n    };\n    DragonbonesModel.prototype.getWalkableArea = function () {\n        return [[1, 1], [1, 1]];\n    };\n    DragonbonesModel.prototype.getOriginPoint = function (aniName) {\n        return new Phaser.Geom.Point(1, 1);\n    };\n    DragonbonesModel.prototype.getInteractiveArea = function () {\n        return undefined;\n    };\n    DragonbonesModel.prototype.existAnimation = function (aniName) {\n        return true;\n    };\n    DragonbonesModel.prototype.findAnimation = function (baseName, dir) {\n        var flip = false;\n        switch (dir) {\n            case _element_element__WEBPACK_IMPORTED_MODULE_0__[\"Direction\"].south_east:\n                flip = true;\n                dir = _element_element__WEBPACK_IMPORTED_MODULE_0__[\"Direction\"].west_south;\n                break;\n            case _element_element__WEBPACK_IMPORTED_MODULE_0__[\"Direction\"].east_north:\n                flip = true;\n                dir = _element_element__WEBPACK_IMPORTED_MODULE_0__[\"Direction\"].north_west;\n                break;\n        }\n        var addName = \"\";\n        if ((dir >= _element_element__WEBPACK_IMPORTED_MODULE_0__[\"Direction\"].north && dir < _element_element__WEBPACK_IMPORTED_MODULE_0__[\"Direction\"].west) || dir > _element_element__WEBPACK_IMPORTED_MODULE_0__[\"Direction\"].east && dir <= _element_element__WEBPACK_IMPORTED_MODULE_0__[\"Direction\"].east_north)\n            addName = \"_back\";\n        return { name: \"\" + baseName + addName, flip: flip };\n    };\n    return DragonbonesModel;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/display/dragonbones.model.ts?");

/***/ }),

/***/ "./src/rooms/display/frames.display.ts":
/*!*********************************************!*\
  !*** ./src/rooms/display/frames.display.ts ***!
  \*********************************************/
/*! exports provided: FramesDisplay */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FramesDisplay\", function() { return FramesDisplay; });\n/* harmony import */ var _utils_log__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/log */ \"./src/utils/log.ts\");\n/* harmony import */ var _display_object__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./display.object */ \"./src/rooms/display/display.object.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n// export enum DisplayField {\n//     BACKEND = 1,\n//     STAGE,\n//     FRONTEND,\n//     Effect\n// }\n/**\n * \n */\nvar FramesDisplay = /** @class */ (function (_super) {\n    __extends(FramesDisplay, _super);\n    function FramesDisplay() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.mDisplayDatas = new Map();\n        _this.mSprites = new Map();\n        _this.mDisplays = [];\n        return _this;\n    }\n    FramesDisplay.prototype.load = function (displayInfo, field) {\n        var _this = this;\n        field = !field ? _display_object__WEBPACK_IMPORTED_MODULE_1__[\"DisplayField\"].STAGE : field;\n        var data = displayInfo;\n        if (!data || !data.gene)\n            return;\n        var currentDisplay = this.mDisplayDatas.get(field);\n        if (currentDisplay && currentDisplay.gene === displayInfo.gene) {\n            return;\n        }\n        this.mDisplayDatas.set(field, data);\n        this.setData(\"id\", data.id);\n        if (this.scene.textures.exists(data.gene)) {\n            this.onLoadCompleted(field);\n        }\n        else {\n            var display = data.display;\n            if (!display) {\n                _utils_log__WEBPACK_IMPORTED_MODULE_0__[\"Logger\"].getInstance().error(\"display is undefined\");\n            }\n            if (display.texturePath === \"\" && display.dataPath === \"\") {\n                _utils_log__WEBPACK_IMPORTED_MODULE_0__[\"Logger\"].getInstance().error(\"\", data);\n            }\n            else {\n                this.scene.load.atlas(data.gene, _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Url\"].OSD_PATH + display.texturePath, _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Url\"].OSD_PATH + display.dataPath);\n                // this.scene.load.once(Phaser.Loader.Events.FILE_LOAD_ERROR, (imageFile: ImageFile) => {\n                //     Logger.error(`Loading Error: key = ${imageFile} >> ${imageFile.url}`);\n                // }, this);\n                var cb_1 = function (key) {\n                    _this.onAddTextureHandler(key, field, cb_1);\n                };\n                this.scene.textures.on(Phaser.Textures.Events.ADD, cb_1, this);\n                this.scene.load.start();\n            }\n        }\n    };\n    FramesDisplay.prototype.play = function (animation, field) {\n        if (!animation)\n            return;\n        field = !field ? _display_object__WEBPACK_IMPORTED_MODULE_1__[\"DisplayField\"].STAGE : field;\n        var data = this.mDisplayDatas.get(field);\n        if (this.scene.textures.exists(data.gene) === false) {\n            return;\n        }\n        this.mCurAnimation = data.getAnimations(animation.name);\n        if (!this.mCurAnimation)\n            return;\n        this.clear();\n        var layer = this.mCurAnimation.layer;\n        var container = this.mSprites.get(_display_object__WEBPACK_IMPORTED_MODULE_1__[\"DisplayField\"].STAGE);\n        if (!container) {\n            container = this.scene.make.container(undefined, false);\n            container.setData(\"id\", data.id);\n            this.addAt(container, _display_object__WEBPACK_IMPORTED_MODULE_1__[\"DisplayField\"].STAGE);\n            this.mSprites.set(_display_object__WEBPACK_IMPORTED_MODULE_1__[\"DisplayField\"].STAGE, container);\n        }\n        for (var i = 0; i < layer.length; i++) {\n            var display = void 0;\n            var _a = layer[i], frameName = _a.frameName, offsetLoc = _a.offsetLoc;\n            if (frameName.length > 1) {\n                var key = data.gene + \"_\" + animation.name + \"_\" + i;\n                this.makeAnimation(data.gene, key, layer[i].frameName, layer[i].frameVisible, this.mCurAnimation);\n                display = this.scene.make.sprite(undefined, false).play(key);\n                if (!this.mMainSprite) {\n                    this.mMainSprite = display;\n                }\n            }\n            else {\n                display = this.scene.make.image(undefined, false).setTexture(data.gene, frameName[0]);\n            }\n            this.mDisplays.push(display);\n            display.scaleX = animation.flip ? -1 : 1;\n            var x = offsetLoc.x;\n            var y = offsetLoc.y;\n            if (animation.flip) {\n                x = (0 - (display.width + x));\n            }\n            display.x = x + display.width * 0.5;\n            display.y = y + display.height * 0.5;\n            container.add(display);\n        }\n        // if (this.mActionName && this.mActionName.animationName !== animation.animationName) {\n        this.initBaseLoc(_display_object__WEBPACK_IMPORTED_MODULE_1__[\"DisplayField\"].STAGE, animation);\n        // }\n        this.emit(\"updateAnimation\");\n        if (this.mMainSprite) {\n            this.mMainSprite.on(Phaser.Animations.Events.ANIMATION_REPEAT, this.onAnimationRepeatHander, this);\n        }\n        if (this.mMountContainer && this.mCurAnimation.mountLayer) {\n            var stageContainer = this.mSprites.get(_display_object__WEBPACK_IMPORTED_MODULE_1__[\"DisplayField\"].STAGE);\n            if (stageContainer)\n                stageContainer.addAt(this.mMountContainer, this.mCurAnimation.mountLayer.index);\n        }\n        this.mActionName = animation;\n    };\n    FramesDisplay.prototype.playEffect = function () {\n        var data = this.mDisplayDatas.get(_display_object__WEBPACK_IMPORTED_MODULE_1__[\"DisplayField\"].Effect);\n        if (!data) {\n            return;\n        }\n        // TODO\n        var anis = data.getAnimations(\"idle\");\n        if (!anis) {\n            return;\n        }\n        var layer = anis.layer;\n        var effects = [];\n        for (var i = 0; i < layer.length; i++) {\n            var display = void 0;\n            var _a = layer[i], frameName = _a.frameName, offsetLoc = _a.offsetLoc;\n            if (frameName.length > 1) {\n                var key = data.gene + \"_idle_\" + i;\n                this.makeAnimation(data.gene, key, layer[i].frameName, layer[i].frameVisible, anis);\n                display = this.scene.make.sprite(undefined, false).play(key);\n            }\n            else {\n                display = this.scene.make.image(undefined, false).setTexture(data.gene, frameName[0]);\n            }\n            display.x = offsetLoc.x + display.width * 0.5;\n            display.y = offsetLoc.y + display.height * 0.5;\n            effects.push(display);\n        }\n        if (effects.length > 1) {\n            this.addAt(effects[1], _display_object__WEBPACK_IMPORTED_MODULE_1__[\"DisplayField\"].BACKEND);\n            this.mSprites.set(_display_object__WEBPACK_IMPORTED_MODULE_1__[\"DisplayField\"].BACKEND, effects[1]);\n        }\n        this.addAt(effects[0], _display_object__WEBPACK_IMPORTED_MODULE_1__[\"DisplayField\"].FRONTEND);\n        this.mSprites.set(_display_object__WEBPACK_IMPORTED_MODULE_1__[\"DisplayField\"].FRONTEND, effects[0]);\n    };\n    FramesDisplay.prototype.mount = function (display, targetIndex) {\n        if (!display)\n            return;\n        if (this.mDisplays.length <= 0) {\n            return;\n        }\n        if (!this.mCurAnimation) {\n            return;\n        }\n        var _a = this.mCurAnimation.mountLayer, index = _a.index, mountPoint = _a.mountPoint;\n        if (targetIndex === undefined)\n            targetIndex = 0;\n        var x = mountPoint[targetIndex].x;\n        if (this.mActionName.flip) {\n            x = 0 - x;\n        }\n        display.x = x;\n        display.y = mountPoint[targetIndex].y;\n        if (!this.mMountContainer) {\n            this.mMountContainer = this.scene.make.container(undefined, false);\n        }\n        if (!this.mMountContainer.parentContainer) {\n            var container = this.mSprites.get(_display_object__WEBPACK_IMPORTED_MODULE_1__[\"DisplayField\"].STAGE);\n            if (container)\n                container.addAt(this.mMountContainer, index);\n        }\n        this.mMountContainer.addAt(display, targetIndex);\n        this.mMountList[targetIndex] = display;\n        if (this.mMainSprite) {\n            // \n            this.mMainSprite.off(\"animationupdate\", this.onAnimationUpdateHandler, this);\n            this.mMainSprite.on(\"animationupdate\", this.onAnimationUpdateHandler, this);\n        }\n    };\n    FramesDisplay.prototype.unmount = function (display) {\n        if (!this.mMountContainer) {\n            return;\n        }\n        this.mMountContainer.remove(display);\n        var index = this.mMountList.indexOf(display);\n        display.visible = true;\n        if (index > -1) {\n            this.mMountList.splice(index, 1);\n        }\n        var list = this.mMountContainer.list;\n        if (list.length <= 0 && this.mDisplays.length > 0) {\n            this.mDisplays[0].off(\"animationupdate\", this.onAnimationUpdateHandler, this);\n        }\n    };\n    FramesDisplay.prototype.fadeIn = function (callback) {\n        if (this.mAlpha === 0) {\n            return;\n        }\n        this.alpha = 0;\n        this.clearFadeTween();\n        this.mFadeTween = this.scene.tweens.add({\n            targets: this,\n            alpha: this.mAlpha,\n            duration: 1200,\n            onComplete: function () {\n                if (callback)\n                    callback();\n            },\n        });\n    };\n    FramesDisplay.prototype.fadeOut = function (callback) {\n        this.clearFadeTween();\n        this.mFadeTween = this.scene.tweens.add({\n            targets: this,\n            alpha: 0,\n            duration: 1200,\n            onComplete: function () {\n                if (callback)\n                    callback();\n            },\n        });\n    };\n    FramesDisplay.prototype.scaleTween = function () {\n        var _this = this;\n        if (this.mMountContainer && this.mMountContainer.list.length > 0) {\n            return;\n        }\n        if (this.mScaleTween) {\n            return;\n        }\n        var tmp = this.scale;\n        this.mScaleTween = this.scene.tweens.add({\n            targets: this,\n            duration: 100,\n            scale: tmp * 1.25,\n            yoyo: true,\n            repeat: 0,\n            onComplete: function () {\n                _this.scale = 1;\n                if (_this.mScaleTween) {\n                    // this.mScaleTween.destroy();\n                    _this.mScaleTween = undefined;\n                }\n            },\n        });\n    };\n    FramesDisplay.prototype.setInteractive = function (shape, callback, dropZone) {\n        // super.setInteractive(shape, callback, dropZone);\n        this.mDisplays.forEach(function (display) {\n            display.setInteractive({ pixelPerfect: true });\n        });\n        return this;\n    };\n    FramesDisplay.prototype.disableInteractive = function () {\n        // super.disableInteractive();\n        this.mDisplays.forEach(function (sprite) {\n            sprite.disableInteractive();\n        });\n        return this;\n    };\n    FramesDisplay.prototype.removeEffect = function () {\n        var data = this.mDisplayDatas.get(_display_object__WEBPACK_IMPORTED_MODULE_1__[\"DisplayField\"].Effect);\n        if (data) {\n            this.mDisplayDatas.delete(_display_object__WEBPACK_IMPORTED_MODULE_1__[\"DisplayField\"].Effect);\n            this.removeDisplay(_display_object__WEBPACK_IMPORTED_MODULE_1__[\"DisplayField\"].BACKEND);\n            this.removeDisplay(_display_object__WEBPACK_IMPORTED_MODULE_1__[\"DisplayField\"].FRONTEND);\n        }\n    };\n    FramesDisplay.prototype.removeDisplay = function (field) {\n        var display = this.mSprites.get(field);\n        if (display) {\n            this.mDisplayDatas.delete(field);\n            display.destroy();\n        }\n    };\n    FramesDisplay.prototype.destroy = function () {\n        this.mSprites.forEach(function (sprite) { return sprite.destroy(); });\n        this.mSprites.clear();\n        this.clear();\n        if (this.mFadeTween) {\n            this.clearFadeTween();\n            this.mFadeTween = undefined;\n        }\n        if (this.mScaleTween) {\n            this.mScaleTween.stop();\n            this.mScaleTween = undefined;\n        }\n        this.mDisplayDatas.clear();\n        _super.prototype.destroy.call(this);\n    };\n    FramesDisplay.prototype.createDisplay = function (key, ani) {\n        // const ani = data.getAnimations(animationName);\n        var layer = ani.layer;\n        var display;\n        for (var i = 0; i < layer.length; i++) {\n            if (layer[i].frameName.length > 1) {\n                display = this.scene.make.sprite(undefined, false);\n                var aniName = key + \"_\" + ani.name + \"_\" + i;\n                this.makeAnimation(key, key, layer[i].frameName, layer[i].frameVisible, this.mCurAnimation);\n                display = this.scene.make.sprite(undefined, false);\n            }\n            else {\n                display = this.scene.make.image(undefined, false);\n            }\n            this.mDisplays.push(display);\n        }\n    };\n    FramesDisplay.prototype.clearFadeTween = function () {\n        if (this.mFadeTween) {\n            this.mFadeTween.stop();\n            this.mFadeTween.remove();\n        }\n    };\n    FramesDisplay.prototype.clear = function () {\n        for (var _i = 0, _a = this.mDisplays; _i < _a.length; _i++) {\n            var display = _a[_i];\n            display.destroy();\n        }\n        if (this.mMountContainer && this.mMountContainer.parentContainer) {\n            this.mMountContainer.parentContainer.remove(this.mMountContainer);\n        }\n        this.mMountList = [];\n        this.mDisplays = [];\n        this.mMainSprite = null;\n    };\n    FramesDisplay.prototype.onAddTextureHandler = function (key, field, cb) {\n        if (field === undefined) {\n            field = _display_object__WEBPACK_IMPORTED_MODULE_1__[\"DisplayField\"].STAGE;\n        }\n        var data = this.mDisplayDatas.get(field);\n        if (data && data.gene === key) {\n            this.scene.textures.off(Phaser.Textures.Events.ADD, cb, this);\n            this.onLoadCompleted(field);\n        }\n    };\n    FramesDisplay.prototype.onLoadCompleted = function (field) {\n        var data = this.mDisplayDatas.get(field);\n        if (!data) {\n            return;\n        }\n        if (this.scene.textures.exists(data.gene)) {\n            if (field === _display_object__WEBPACK_IMPORTED_MODULE_1__[\"DisplayField\"].STAGE) {\n                this.emit(\"initialized\", this);\n            }\n            else {\n                this.playEffect();\n            }\n        }\n    };\n    FramesDisplay.prototype.makeAnimation = function (gen, key, frameName, frameVisible, animation) {\n        var loop = animation.loop;\n        if (frameVisible && frameName.length !== frameVisible.length) {\n            return;\n        }\n        if (this.scene.anims.exists(key)) {\n            return;\n        }\n        var frames = [];\n        // frameName.forEach((frame) => {\n        //     frames.push({ key: gen, frame, visible: frame });\n        // });\n        for (var i = 0; i < frameName.length; i++) {\n            var frame = frameName[i];\n            var visible = frameVisible ? frameVisible[i] : true;\n            frames.push({ key: gen, frame: frame, visible: visible });\n        }\n        var repeat = loop ? -1 : 0;\n        var config = {\n            key: key,\n            frames: frames,\n            frameRate: animation.frameRate,\n            repeat: repeat,\n        };\n        this.scene.anims.create(config);\n    };\n    FramesDisplay.prototype.initBaseLoc = function (field, playAnimation) {\n        var data = this.mDisplayDatas.get(field);\n        // const sprite: Phaser.GameObjects.Sprite | Phaser.GameObjects.Image = this.mSprites.get(field);\n        if (this.mDisplays.length < 1 || !data || !data.animations)\n            return;\n        // const animations = data.getAnimations(aniName);\n        // if (!animations) return;\n        var name = playAnimation.name, flip = playAnimation.flip;\n        this.mCollisionArea = data.getCollisionArea(name, flip);\n        this.mOriginPoint = data.getOriginPoint(name, flip);\n        if (this.mReferenceArea) {\n            this.showRefernceArea();\n        }\n    };\n    FramesDisplay.prototype.onAnimationRepeatHander = function () {\n        var queue = this.mActionName.playingQueue;\n        if (queue.playedTimes === undefined) {\n            queue.playedTimes = 1;\n        }\n        else {\n            queue.playedTimes++;\n        }\n        if (queue.playedTimes >= queue.playTimes) {\n            if (this.mMainSprite) {\n                this.mMainSprite.off(Phaser.Animations.Events.ANIMATION_REPEAT, this.onAnimationRepeatHander, this);\n            }\n            // this.emit(\"animationComplete\");\n            if (queue.complete) {\n                queue.complete.call(this);\n                delete queue.complete;\n            }\n        }\n    };\n    FramesDisplay.prototype.onAnimationUpdateHandler = function (ani, frame) {\n        if (!this.mMountContainer || !this.mCurAnimation)\n            return;\n        var frameVisible = this.mCurAnimation.mountLayer.frameVisible;\n        if (!frameVisible) {\n            return;\n        }\n        var index = frame.index - 1;\n        if (index > frameVisible.length) {\n            return;\n        }\n        for (var i = 0; i < this.mMountList.length; i++) {\n            this.mMountList[i].visible = this.getMaskValue(frameVisible[index], i);\n        }\n    };\n    FramesDisplay.prototype.getMaskValue = function (mask, idx) {\n        return ((mask >> idx) % 2) === 1;\n    };\n    Object.defineProperty(FramesDisplay.prototype, \"spriteWidth\", {\n        get: function () {\n            var width = 0;\n            if (this.mDisplays) {\n                for (var _i = 0, _a = this.mDisplays; _i < _a.length; _i++) {\n                    var display = _a[_i];\n                    if (display.width > width)\n                        width = display.width;\n                }\n            }\n            return width;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FramesDisplay.prototype, \"spriteHeight\", {\n        get: function () {\n            var height = 0;\n            if (this.mDisplays) {\n                for (var _i = 0, _a = this.mDisplays; _i < _a.length; _i++) {\n                    var display = _a[_i];\n                    if (display.height > height)\n                        height = display.height;\n                }\n            }\n            return height;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return FramesDisplay;\n}(_display_object__WEBPACK_IMPORTED_MODULE_1__[\"DisplayObject\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/display/frames.display.ts?");

/***/ }),

/***/ "./src/rooms/display/frames.model.ts":
/*!*******************************************!*\
  !*** ./src/rooms/display/frames.model.ts ***!
  \*******************************************/
/*! exports provided: FramesModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FramesModel\", function() { return FramesModel; });\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils_log__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/log */ \"./src/utils/log.ts\");\n/* harmony import */ var simple_sha1__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! simple-sha1 */ \"./node_modules/simple-sha1/browser.js\");\n/* harmony import */ var simple_sha1__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(simple_sha1__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _utils_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/helpers */ \"./src/utils/helpers.ts\");\n/* harmony import */ var _element_sprite__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../element/sprite */ \"./src/rooms/element/sprite.ts\");\n/* harmony import */ var _element_element__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../element/element */ \"./src/rooms/element/element.ts\");\n\n\n\n\n\n\nvar FramesModel = /** @class */ (function () {\n    function FramesModel(data) {\n        this.discriminator = \"FramesModel\";\n        // TODO IElement\n        this.id = data.id || 0;\n        this.type = data.sn || \"\";\n        var anis = data.animations;\n        if (anis) {\n            this.animationName = anis.defaultAnimationName;\n            this.setDisplay(anis.display);\n            this.setAnimationData(anis.animationData);\n        }\n    }\n    FramesModel.prototype.setInfo = function (val) {\n        for (var key in val) {\n            if (val.hasOwnProperty(key)) {\n                this[key] = val[key];\n            }\n        }\n    };\n    FramesModel.prototype.getAnimationData = function () {\n        return this.animations;\n    };\n    FramesModel.prototype.existAnimation = function (aniName) {\n        if (!this.animations)\n            return false;\n        return this.animations.has(aniName);\n    };\n    FramesModel.prototype.getAnimations = function (name) {\n        if (!this.animations)\n            return;\n        return this.animations.get(name);\n    };\n    FramesModel.prototype.destroy = function () {\n        if (this.animations)\n            this.animations.clear();\n    };\n    Object.defineProperty(FramesModel.prototype, \"gene\", {\n        get: function () {\n            return this.mGen;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    FramesModel.prototype.createProtocolObject = function () {\n        var anis = [];\n        this.animations.forEach(function (ani) {\n            anis.push(ani.createProtocolObject());\n        }, this);\n        return anis;\n    };\n    FramesModel.prototype.getCollisionArea = function (aniName, flip) {\n        if (flip === void 0) { flip = false; }\n        var ani = this.getAnimations(aniName);\n        if (ani) {\n            if (flip) {\n                return _utils_helpers__WEBPACK_IMPORTED_MODULE_3__[\"default\"].flipArray(ani.collisionArea);\n            }\n            return ani.collisionArea;\n        }\n    };\n    FramesModel.prototype.getWalkableArea = function (aniName, flip) {\n        if (flip === void 0) { flip = false; }\n        var ani = this.getAnimations(aniName);\n        if (flip) {\n            return _utils_helpers__WEBPACK_IMPORTED_MODULE_3__[\"default\"].flipArray(ani.walkableArea);\n        }\n        return ani.walkableArea;\n    };\n    FramesModel.prototype.getInteractiveArea = function (aniName) {\n        var ani = this.getAnimations(aniName);\n        return ani ? ani.interactiveArea : undefined;\n    };\n    FramesModel.prototype.getOriginPoint = function (aniName, flip) {\n        if (flip === void 0) { flip = false; }\n        var ani = this.getAnimations(aniName);\n        if (ani) {\n            var originPoint = ani.originPoint;\n            if (flip) {\n                return new Phaser.Geom.Point(originPoint.y, originPoint.x);\n            }\n            return originPoint;\n        }\n    };\n    FramesModel.prototype.getDirable = function () { };\n    FramesModel.prototype.createSprite = function (properties) {\n        var nodeType = properties.nodeType, x = properties.x, y = properties.y, z = properties.z, id = properties.id, dir = properties.dir, isMoss = properties.isMoss;\n        var spr = pixelpai_proto__WEBPACK_IMPORTED_MODULE_0__[\"op_client\"].Sprite.create();\n        if (id) {\n            spr.id = id;\n        }\n        else {\n            spr.id = _utils_helpers__WEBPACK_IMPORTED_MODULE_3__[\"default\"].genId();\n        }\n        spr.display = this.display;\n        spr.currentAnimationName = this.animationName;\n        var point3f = pixelpai_proto__WEBPACK_IMPORTED_MODULE_0__[\"op_def\"].PBPoint3f.create();\n        point3f.x = x;\n        point3f.y = y;\n        if (z) {\n            point3f.z = z;\n        }\n        spr.point3f = point3f;\n        spr.animations = this.createProtocolObject();\n        if (dir) {\n            spr.direction = dir;\n        }\n        if (isMoss !== undefined) {\n            spr.isMoss = isMoss;\n        }\n        return new _element_sprite__WEBPACK_IMPORTED_MODULE_4__[\"Sprite\"](spr, nodeType);\n    };\n    FramesModel.prototype.findAnimation = function (baseName, dir) {\n        var animationName = this.checkDirectionAnimation(baseName, dir);\n        var flip = false;\n        if (animationName) {\n            return { name: animationName, flip: flip };\n        }\n        switch (dir) {\n            case _element_element__WEBPACK_IMPORTED_MODULE_5__[\"Direction\"].west_south:\n            case _element_element__WEBPACK_IMPORTED_MODULE_5__[\"Direction\"].east_north:\n                animationName = this.getDefaultAnimation(baseName);\n                break;\n            case _element_element__WEBPACK_IMPORTED_MODULE_5__[\"Direction\"].south_east:\n                animationName = this.getDefaultAnimation(baseName);\n                flip = true;\n                break;\n            case _element_element__WEBPACK_IMPORTED_MODULE_5__[\"Direction\"].north_west:\n                animationName = this.checkDirectionAnimation(baseName, _element_element__WEBPACK_IMPORTED_MODULE_5__[\"Direction\"].east_north);\n                if (animationName === null) {\n                    animationName = this.getDefaultAnimation(baseName);\n                }\n                flip = true;\n                break;\n        }\n        return { name: animationName, flip: flip };\n    };\n    FramesModel.prototype.setDisplay = function (display) {\n        if (!display) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_1__[\"Logger\"].getInstance().error(this.type + \" display does not exist\");\n            return;\n        }\n        this.display = {\n            dataPath: display.dataPath,\n            texturePath: display.texturePath,\n        };\n        this.mGen = simple_sha1__WEBPACK_IMPORTED_MODULE_2__[\"sync\"](display.dataPath + display.texturePath);\n    };\n    FramesModel.prototype.setAnimationData = function (aniDatas) {\n        if (!aniDatas) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_1__[\"Logger\"].getInstance().error(this.id + \" animationData does not exist\");\n            return;\n        }\n        this.animations = new Map();\n        // let ani: IAnimationData;\n        for (var _i = 0, aniDatas_1 = aniDatas; _i < aniDatas_1.length; _i++) {\n            var aniData = aniDatas_1[_i];\n            // const baseLoc = aniData.baseLoc;\n            // ani = {\n            //     name: aniData.name,\n            //     frameName: aniData.frameName,\n            //     frameRate: aniData.frameRate,\n            //     loop: aniData.loop,\n            //     baseLoc: new Phaser.Geom.Point(baseLoc.x, baseLoc.y),\n            //     // walkableArea: aniData.walkableArea || [],\n            //     collisionArea: aniData.collisionArea || [],\n            //     originPoint: aniData.originPoint\n            // };\n            this.animations.set(aniData.name, aniData);\n            // this.animations.set(aniData.name + \"_7\", aniData);\n            // this.animations.set(aniData.name + \"_1\", aniData);\n            // this.animations.set(aniData.name + \"_5\", aniData);\n        }\n    };\n    FramesModel.prototype.checkDirectionAnimation = function (baseAniName, dir) {\n        var aniName = baseAniName + \"_\" + dir;\n        if (this.existAnimation(aniName)) {\n            return aniName;\n        }\n        return null;\n    };\n    FramesModel.prototype.getDefaultAnimation = function (baseName) {\n        var animationName = this.checkDirectionAnimation(baseName, _element_element__WEBPACK_IMPORTED_MODULE_5__[\"Direction\"].west_south);\n        if (animationName === null) {\n            if (this.existAnimation(baseName)) {\n                animationName = baseName;\n            }\n            else {\n                _utils_log__WEBPACK_IMPORTED_MODULE_1__[\"Logger\"].getInstance().warn(FramesModel.name + \": can't find animation \" + baseName);\n                animationName = \"idle\";\n            }\n        }\n        return animationName;\n    };\n    return FramesModel;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/display/frames.model.ts?");

/***/ }),

/***/ "./src/rooms/display/terrain.display.ts":
/*!**********************************************!*\
  !*** ./src/rooms/display/terrain.display.ts ***!
  \**********************************************/
/*! exports provided: TerrainDisplay */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TerrainDisplay\", function() { return TerrainDisplay; });\n/* harmony import */ var _frames_display__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./frames.display */ \"./src/rooms/display/frames.display.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar TerrainDisplay = /** @class */ (function (_super) {\n    __extends(TerrainDisplay, _super);\n    function TerrainDisplay() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // public fadeIn(callback?: () => void) {\n    //     // this.y += 50;\n    //     this.alpha = 0;\n    //     if (this.mFadeTween) {\n    //         this.mFadeTween.stop();\n    //         this.mFadeTween.remove();\n    //     }\n    //     this.mFadeTween = this.scene.tweens.add({\n    //         targets: this,\n    //         alpha: 1,\n    //         // y: this.y + 50,\n    //         duration: 1200,\n    //         onComplete: () => {\n    //             if (callback) callback();\n    //         }\n    //     });\n    // }\n    //\n    // public fadeOut(callback?: () => void) {\n    //     if (this.mFadeTween) {\n    //         this.mFadeTween.stop();\n    //         this.mFadeTween.remove();\n    //     }\n    //     this.mFadeTween = this.scene.tweens.add({\n    //         targets: this,\n    //         alpha: 0,\n    //         // y: this.y + 50,\n    //         duration: 1200,\n    //         onComplete: () => {\n    //             if (callback) callback();\n    //         }\n    //     });\n    // }\n    TerrainDisplay.prototype.showRefernceArea = function () {\n    };\n    return TerrainDisplay;\n}(_frames_display__WEBPACK_IMPORTED_MODULE_0__[\"FramesDisplay\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/display/terrain.display.ts?");

/***/ }),

/***/ "./src/rooms/display/wall.display.ts":
/*!*******************************************!*\
  !*** ./src/rooms/display/wall.display.ts ***!
  \*******************************************/
/*! exports provided: WallDisplay */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"WallDisplay\", function() { return WallDisplay; });\n/* harmony import */ var _wall_wall__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../wall/wall */ \"./src/rooms/wall/wall.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar WallDisplay = /** @class */ (function (_super) {\n    __extends(WallDisplay, _super);\n    function WallDisplay(scene, roomService) {\n        var _this = _super.call(this, scene, 0, 0, undefined) || this;\n        _this.roomService = roomService;\n        return _this;\n    }\n    WallDisplay.prototype.loadDisplay = function (texture, data) {\n        // const key = texture + data;\n        var key = \"wall\";\n        if (this.scene.textures.exists(key)) {\n            this.onLoadCompleteHandler();\n        }\n        else {\n            this.scene.load.once(Phaser.Loader.Events.COMPLETE, this.onLoadCompleteHandler, this);\n            this.scene.load.atlas(key, texture, data);\n            this.scene.load.start();\n        }\n    };\n    WallDisplay.prototype.setDir = function (dir) {\n        if (!this.mImage) {\n            return;\n        }\n        this.mImage.setTexture(\"wall\", \"wall_\" + dir + \".png\");\n        if (dir === _wall_wall__WEBPACK_IMPORTED_MODULE_0__[\"Direction\"].LEFT) {\n            this.mImage.x = -this.mImage.width / 2;\n        }\n        else if (dir === _wall_wall__WEBPACK_IMPORTED_MODULE_0__[\"Direction\"].RIGHT) {\n            this.mImage.x = this.mImage.width / 2;\n        }\n        this.mImage.y = -this.mImage.height / 2 + 30;\n    };\n    WallDisplay.prototype.load = function (data) {\n    };\n    WallDisplay.prototype.changeAlpha = function (val) {\n    };\n    WallDisplay.prototype.play = function (animationName) { };\n    WallDisplay.prototype.removeFromParent = function () {\n        if (this.parentContainer) {\n            this.parentContainer.remove(this);\n        }\n    };\n    WallDisplay.prototype.fadeIn = function (callback) { };\n    WallDisplay.prototype.fadeOut = function (callback) { };\n    WallDisplay.prototype.showNickname = function (val) { };\n    WallDisplay.prototype.setDisplayBadges = function (cards) { };\n    WallDisplay.prototype.showRefernceArea = function () { };\n    WallDisplay.prototype.hideRefernceArea = function () { };\n    WallDisplay.prototype.showEffect = function () { };\n    WallDisplay.prototype.onLoadCompleteHandler = function () {\n        this.mImage = this.scene.make.image({\n            key: \"wall\",\n            frame: \"wall_up.png\"\n        }, false);\n        this.add(this.mImage);\n        this.mImage.y = -this.mImage.height / 2 + 10;\n        this.emit(\"initialized\", this);\n    };\n    Object.defineProperty(WallDisplay.prototype, \"sortX\", {\n        get: function () {\n            return 0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(WallDisplay.prototype, \"sortY\", {\n        get: function () {\n            return 0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(WallDisplay.prototype, \"sortZ\", {\n        get: function () {\n            return 0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(WallDisplay.prototype, \"baseLoc\", {\n        get: function () {\n            return;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(WallDisplay.prototype, \"element\", {\n        get: function () {\n            return;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return WallDisplay;\n}(Phaser.GameObjects.Container));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/display/wall.display.ts?");

/***/ }),

/***/ "./src/rooms/editor.room.ts":
/*!**********************************!*\
  !*** ./src/rooms/editor.room.ts ***!
  \**********************************/
/*! exports provided: EditorRoom */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EditorRoom\", function() { return EditorRoom; });\n/* harmony import */ var _utils_position45__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/position45 */ \"./src/utils/position45.ts\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _utils_log__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/log */ \"./src/utils/log.ts\");\n/* harmony import */ var _const_brush__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../const/brush */ \"./src/const/brush.ts\");\n/* harmony import */ var _room__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./room */ \"./src/rooms/room.ts\");\n/* harmony import */ var _layer_layer_manager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./layer/layer.manager */ \"./src/rooms/layer/layer.manager.ts\");\n/* harmony import */ var _scenes_edit__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../scenes/edit */ \"./src/scenes/edit.ts\");\n/* harmony import */ var _editor_mouse_follow__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./editor/mouse.follow */ \"./src/rooms/editor/mouse.follow.ts\");\n/* harmony import */ var _display_terrain_display__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./display/terrain.display */ \"./src/rooms/display/terrain.display.ts\");\n/* harmony import */ var _editor_selected_element__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./editor/selected.element */ \"./src/rooms/editor/selected.element.ts\");\n/* harmony import */ var _display_display_object__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./display/display.object */ \"./src/rooms/display/display.object.ts\");\n/* harmony import */ var _utils_pos__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../utils/pos */ \"./src/utils/pos.ts\");\n/* harmony import */ var _element_editor_element_manager__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./element/editor.element.manager */ \"./src/rooms/element/editor.element.manager.ts\");\n/* harmony import */ var _terrain_editor_terrain_manager__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./terrain/editor.terrain.manager */ \"./src/rooms/terrain/editor.terrain.manager.ts\");\n/* harmony import */ var _cameras_editor_cameras_manager__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./cameras/editor.cameras.manager */ \"./src/rooms/cameras/editor.cameras.manager.ts\");\n/* harmony import */ var _element_editor_moss_manager__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./element/editor.moss.manager */ \"./src/rooms/element/editor.moss.manager.ts\");\n/* harmony import */ var _display_object_pool__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./display-object.pool */ \"./src/rooms/display-object.pool.ts\");\n/* harmony import */ var _sky_box_editor_sky_box_manager__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./sky.box/editor.sky.box.manager */ \"./src/rooms/sky.box/editor.sky.box.manager.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar EditorRoom = /** @class */ (function (_super) {\n    __extends(EditorRoom, _super);\n    function EditorRoom(manager) {\n        var _this = _super.call(this, manager) || this;\n        _this.mBrush = new _const_brush__WEBPACK_IMPORTED_MODULE_4__[\"Brush\"](_this);\n        _this.mPointerDelta = null;\n        if (_this.connection) {\n            _this.connection.addPacketListener(_this);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_client\"].OPCODE._OP_EDITOR_REQ_CLIENT_SET_EDITOR_MODE, _this.onSetEditorModeHandler);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_client\"].OPCODE._OP_EDITOR_REQ_CLIENT_ALIGN_GRID, _this.onAlignGridHandler);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_client\"].OPCODE._OP_EDITOR_REQ_CLIENT_VISIBLE_GRID, _this.onVisibleGridHandler);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_client\"].OPCODE._OP_EDITOR_REQ_CLIENT_MOUSE_FOLLOW, _this.onMouseFollowHandler);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_client\"].OPCODE._OP_EDITOR_REQ_CLIENT_MOUSE_SELECTED_SPRITE, _this.onMouseFollowHandler);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_client\"].OPCODE._OP_EDITOR_REQ_CLIENT_FETCH_SPRITE, _this.onFetchSpriteHandler);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_client\"].OPCODE._OP_EDITOR_REQ_CLIENT_FETCH_SCENERY, _this.onFetchSceneryHandler);\n        }\n        return _this;\n    }\n    EditorRoom.prototype.enter = function (data) {\n        if (!data) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_3__[\"Logger\"].getInstance().error(\"wrong room\");\n            return;\n        }\n        this.mID = data.id;\n        var rows = data.rows, cols = data.cols, tileWidth = data.tileWidth, tileHeight = data.tileHeight;\n        this.mSize = {\n            cols: cols,\n            rows: rows,\n            tileHeight: tileHeight,\n            tileWidth: tileWidth,\n            sceneWidth: (rows + cols) * (tileWidth / 2),\n            sceneHeight: (rows + cols) * (tileHeight / 2),\n        };\n        rows *= 2;\n        cols *= 2;\n        tileWidth /= 2;\n        tileHeight /= 2;\n        this.mNimiSize = {\n            cols: cols,\n            rows: rows,\n            tileHeight: tileHeight,\n            tileWidth: tileWidth,\n            sceneWidth: (rows + cols) * (tileWidth / 2),\n            sceneHeight: (rows + cols) * (tileHeight / 2),\n        };\n        this.editorTerrainManager = new _terrain_editor_terrain_manager__WEBPACK_IMPORTED_MODULE_14__[\"EditorTerrainManager\"](this);\n        this.editorElementManager = new _element_editor_element_manager__WEBPACK_IMPORTED_MODULE_13__[\"EditorElementManager\"](this);\n        this.editorMossManager = new _element_editor_moss_manager__WEBPACK_IMPORTED_MODULE_16__[\"EditorMossManager\"](this);\n        this.editorSkyboxManager = new _sky_box_editor_sky_box_manager__WEBPACK_IMPORTED_MODULE_18__[\"EditorSkyBoxManager\"](this);\n        this.mCameraService = new _cameras_editor_cameras_manager__WEBPACK_IMPORTED_MODULE_15__[\"EditorCamerasManager\"](this);\n        this.displayObjectPool = new _display_object_pool__WEBPACK_IMPORTED_MODULE_17__[\"DisplayObjectPool\"]();\n        // this.mWorld.game.scene.start(EditScene.name, { room: this });\n        this.mWorld.game.scene.add(_scenes_edit__WEBPACK_IMPORTED_MODULE_7__[\"EditScene\"].name, _scenes_edit__WEBPACK_IMPORTED_MODULE_7__[\"EditScene\"], true, { room: this });\n    };\n    EditorRoom.prototype.startPlay = function () {\n        this.mScene = this.mWorld.game.scene.getScene(_scenes_edit__WEBPACK_IMPORTED_MODULE_7__[\"EditScene\"].name);\n        this.mLayManager = new _layer_layer_manager__WEBPACK_IMPORTED_MODULE_6__[\"LayerManager\"](this);\n        this.mLayManager.drawGrid(this);\n        var camera = this.scene.cameras.main;\n        this.mCameraService.camera = camera;\n        var zoom = this.world.scaleRatio;\n        // mainCameras.setBounds(-200, -200, this.mSize.sceneWidth + 400, this.mSize.sceneHeight + 400);\n        this.mCameraService.setBounds(-camera.width >> 1, -camera.height >> 1, this.mSize.sceneWidth * zoom + camera.width, this.mSize.sceneHeight * zoom + camera.height);\n        this.connection.send(new net_socket_packet__WEBPACK_IMPORTED_MODULE_1__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_SCENE_CREATED));\n        this.mCameraService.centerCameas();\n        this.mScene.input.on(\"pointerdown\", this.onPointerDownHandler, this);\n        this.mScene.input.on(\"pointerup\", this.onPointerUpHandler, this);\n        this.mScene.input.on(\"gameobjectdown\", this.onGameobjectDownHandler, this);\n        this.mScene.input.on(\"gameout\", this.onGameOutHandler, this);\n        this.mScene.input.keyboard.on(\"keydown\", this.onKeyDownHandler, this);\n        // this.addSkyBox();\n    };\n    EditorRoom.prototype.destroy = function () {\n        if (this.mWorld && this.mWorld.connection) {\n            this.mWorld.connection.removePacketListener(this);\n        }\n        if (this.editorTerrainManager) {\n            this.editorTerrainManager.destroy();\n        }\n        if (this.editorMossManager) {\n            this.editorMossManager.destroy();\n        }\n        if (this.editorElementManager) {\n            this.editorElementManager.destroy();\n        }\n        if (this.displayObjectPool) {\n            this.displayObjectPool.destroy();\n        }\n        if (this.editorSkyboxManager) {\n            this.editorSkyboxManager.destroy();\n        }\n        _super.prototype.destroy.call(this);\n    };\n    EditorRoom.prototype.update = function (time, delta) {\n        if (this.layerManager)\n            this.layerManager.update(time, delta);\n        if (this.mSelectedElementEffect) {\n            this.mSelectedElementEffect.update();\n        }\n        if (this.editorTerrainManager) {\n            this.editorTerrainManager.update();\n        }\n        if (this.editorMossManager) {\n            this.editorMossManager.update();\n        }\n        if (this.editorElementManager) {\n            this.editorElementManager.update();\n        }\n    };\n    EditorRoom.prototype.transformToMini90 = function (p) {\n        if (!this.mNimiSize) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_3__[\"Logger\"].getInstance().error(\"position object is undefined\");\n            return;\n        }\n        return _utils_position45__WEBPACK_IMPORTED_MODULE_0__[\"Position45\"].transformTo90(p, this.mNimiSize);\n    };\n    EditorRoom.prototype.transformToMini45 = function (p) {\n        if (!this.mNimiSize) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_3__[\"Logger\"].getInstance().error(\"position object is undefined\");\n            return;\n        }\n        return _utils_position45__WEBPACK_IMPORTED_MODULE_0__[\"Position45\"].transformTo45(p, this.mNimiSize);\n    };\n    EditorRoom.prototype.removeSelected = function () {\n        if (this.mSelectedElementEffect) {\n            this.mSelectedElementEffect.remove();\n            this.mPointerDelta = null;\n        }\n    };\n    EditorRoom.prototype.addPointerMoveHandler = function () {\n        this.mScene.input.on(\"pointermove\", this.onPointerMoveHandler, this);\n    };\n    EditorRoom.prototype.removePointerMoveHandler = function () {\n        this.mScene.input.off(\"pointermove\", this.onPointerMoveHandler, this);\n    };\n    EditorRoom.prototype.addPointerDownHandler = function () {\n        this.mScene.input.on(\"pointerdown\", this.onPointerDownHandler, this);\n    };\n    EditorRoom.prototype.removePointerDownHandler = function () {\n        this.mScene.input.off(\"pointerdown\", this.onPointerDownHandler, this);\n    };\n    EditorRoom.prototype.addPointerUpHandler = function () {\n        this.mScene.input.on(\"pointerup\", this.onPointerUpHandler, this);\n    };\n    EditorRoom.prototype.removePointerUpHandler = function () {\n        this.mScene.input.off(\"pointerup\", this.onPointerUpHandler, this);\n    };\n    EditorRoom.prototype.addGameObjectDownHandler = function () {\n        this.mScene.input.on(\"gameobjectdown\", this.onGameobjectDownHandler, this);\n    };\n    EditorRoom.prototype.removeGameObjectDownHandler = function () {\n        this.mScene.input.off(\"gameobjectdown\", this.onGameobjectDownHandler, this);\n    };\n    EditorRoom.prototype.addKeydownHandler = function () {\n        this.mScene.input.keyboard.on(\"keydown\", this.onKeyDownHandler, this);\n    };\n    EditorRoom.prototype.removeKeydownHandler = function () {\n        this.mScene.input.keyboard.off(\"keydown\", this.onKeyDownHandler, this);\n    };\n    EditorRoom.prototype.onPointerDownHandler = function () {\n        var nodeType = this.mouseFollow.nodeType;\n        if (this.mouseFollow.key) {\n            if (nodeType === pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].NodeType.TerrainNodeType) {\n                if (!this.world.elementStorage.getTerrainPalette(this.mouseFollow.key)) {\n                    this.reqEditorSyncPaletteOrMoss(this.mouseFollow.key, this.mouseFollow.nodeType);\n                }\n            }\n            else if (nodeType === pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].NodeType.ElementNodeType) {\n                if (!this.world.elementStorage.getMossPalette(this.mouseFollow.key)) {\n                    this.reqEditorSyncPaletteOrMoss(this.mouseFollow.key, this.mouseFollow.nodeType);\n                }\n            }\n        }\n        this.addPointerMoveHandler();\n    };\n    EditorRoom.prototype.onPointerUpHandler = function (pointer) {\n        this.removePointerMoveHandler();\n        switch (this.brush.mode) {\n            case _const_brush__WEBPACK_IMPORTED_MODULE_4__[\"BrushEnum\"].BRUSH:\n                this.createElements();\n                break;\n            case _const_brush__WEBPACK_IMPORTED_MODULE_4__[\"BrushEnum\"].SELECT:\n                if (this.mSelectedElementEffect && this.mSelectedElementEffect.selecting) {\n                    if (pointer.downX !== pointer.upX && pointer.downY !== pointer.upY) {\n                        if (this.mSelectedElementEffect.sprite.isMoss) {\n                            this.editorMossManager.updateMosses([this.mSelectedElementEffect]);\n                        }\n                        else {\n                            var sprite = this.mSelectedElementEffect\n                                .display.element.model.toSprite();\n                            this.editorElementManager.updateElements([sprite]);\n                        }\n                    }\n                    this.mSelectedElementEffect.selecting = false;\n                    this.mPointerDelta = null;\n                }\n                break;\n            case _const_brush__WEBPACK_IMPORTED_MODULE_4__[\"BrushEnum\"].ERASER:\n                this.eraserTerrains();\n                break;\n            case _const_brush__WEBPACK_IMPORTED_MODULE_4__[\"BrushEnum\"].MOVE:\n                this.mCameraService.syncCameraScroll();\n                break;\n        }\n    };\n    EditorRoom.prototype.onPointerMoveHandler = function (pointer) {\n        if (!this.mScene.cameras) {\n            return;\n        }\n        switch (this.mBrush.mode) {\n            case _const_brush__WEBPACK_IMPORTED_MODULE_4__[\"BrushEnum\"].BRUSH:\n                if (this.mMouseFollow.nodeType === pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].NodeType.TerrainNodeType) {\n                    this.createElements();\n                }\n                break;\n            case _const_brush__WEBPACK_IMPORTED_MODULE_4__[\"BrushEnum\"].MOVE:\n                this.moveCameras(pointer);\n                break;\n            case _const_brush__WEBPACK_IMPORTED_MODULE_4__[\"BrushEnum\"].SELECT:\n                if (this.editorSkyboxManager) {\n                    this.editorSkyboxManager.move(pointer);\n                }\n                this.moveElement(pointer);\n                break;\n            case _const_brush__WEBPACK_IMPORTED_MODULE_4__[\"BrushEnum\"].ERASER:\n                this.eraserTerrains();\n                break;\n        }\n    };\n    EditorRoom.prototype.moveCameras = function (pointer) {\n        this.cameraService.offsetScroll(pointer.prevPosition.x - pointer.position.x, pointer.prevPosition.y - pointer.position.y);\n    };\n    EditorRoom.prototype.reqEditorSyncPaletteOrMoss = function (key, nodeType) {\n        var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_1__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_editor\"].OPCODE._OP_CLIENT_REQ_EDITOR_SYNC_PALETTE_MOSS);\n        var content = pkt.content;\n        content.key = key;\n        content.type = nodeType;\n        this.connection.send(pkt);\n    };\n    EditorRoom.prototype.createElements = function () {\n        if (!this.mMouseFollow.sprite) {\n            return;\n        }\n        if (this.mMouseFollow.nodeType === pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].NodeType.TerrainNodeType) {\n            var terrainCoorData = this.mMouseFollow.createTerrainsOrMossesData();\n            if (this.editorTerrainManager) {\n                this.editorTerrainManager.addTerrains(terrainCoorData);\n            }\n        }\n        else if (this.mMouseFollow.nodeType === pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].NodeType.ElementNodeType) {\n            var sprites = this.mMouseFollow.createSprites();\n            if (!sprites) {\n                return;\n            }\n            if (!this.editorElementManager) {\n                return;\n            }\n            if (this.mMouseFollow.isMoss) {\n                var mossesCoorData = this.mMouseFollow.createTerrainsOrMossesData();\n                this.editorMossManager.addMosses(mossesCoorData);\n            }\n            else {\n                this.editorElementManager.addElements(sprites);\n            }\n        }\n        else if (this.mMouseFollow.nodeType === pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].NodeType.SpawnPointType) {\n            var sprites = this.mMouseFollow.createSprites();\n            this.editorElementManager.addElements(sprites);\n        }\n    };\n    EditorRoom.prototype.eraserTerrains = function () {\n        var positions = this.mMouseFollow.getEaserPosition();\n        this.editorTerrainManager.removeTerrains(positions);\n    };\n    EditorRoom.prototype.onSetEditorModeHandler = function (packet) {\n        var mode = packet.content;\n        this.mBrush.mode = mode.mode;\n        if (this.mMouseFollow)\n            this.mMouseFollow.destroy();\n        if (this.mBrush.mode !== _const_brush__WEBPACK_IMPORTED_MODULE_4__[\"BrushEnum\"].SELECT) {\n            if (this.mSelectedElementEffect) {\n                this.mSelectedElementEffect.destroy();\n                this.mSelectedElementEffect = null;\n                this.mPointerDelta = null;\n            }\n        }\n        if (this.mBrush.mode === _const_brush__WEBPACK_IMPORTED_MODULE_4__[\"BrushEnum\"].SELECT) {\n            this.removeGameObjectDownHandler();\n            this.addGameObjectDownHandler();\n        }\n        else {\n            this.removeGameObjectDownHandler();\n        }\n        if (this.mBrush.mode === _const_brush__WEBPACK_IMPORTED_MODULE_4__[\"BrushEnum\"].ERASER) {\n            if (!this.mMouseFollow) {\n                this.mMouseFollow = new _editor_mouse_follow__WEBPACK_IMPORTED_MODULE_8__[\"MouseFollow\"](this.mScene, this);\n            }\n            this.mMouseFollow.showEraserArea();\n        }\n        if (this.editorSkyboxManager) {\n            this.editorSkyboxManager.removeSelect();\n        }\n        this.layerManager.setSurfaceInteractive(this.mBrush.mode !== _const_brush__WEBPACK_IMPORTED_MODULE_4__[\"BrushEnum\"].ERASER);\n    };\n    EditorRoom.prototype.onAlignGridHandler = function (packet) {\n        var content = packet.content;\n        this.mouseFollow.alignGrid = content.align;\n    };\n    EditorRoom.prototype.onVisibleGridHandler = function (packet) {\n        var content = packet.content;\n        this.layerManager.setGridVisible(content.visible);\n    };\n    EditorRoom.prototype.onMouseFollowHandler = function (packet) {\n        var content = packet.content;\n        if (this.mScene) {\n            this.mouseFollow.setDisplay(content);\n        }\n    };\n    EditorRoom.prototype.onFetchSpriteHandler = function (packet) {\n        var _a;\n        var content = packet.content;\n        var ids = content.ids, nodeType = content.nodeType;\n        var map = (_a = {},\n            _a[pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].NodeType.SpawnPointType] = \"elements\",\n            _a[pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].NodeType.ElementNodeType] = \"elements\",\n            _a[pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].NodeType.MossCollectionType] = \"mosses\",\n            _a);\n        for (var _i = 0, ids_1 = ids; _i < ids_1.length; _i++) {\n            var id = ids_1[_i];\n            var poolName = map[nodeType];\n            var pool = this.displayObjectPool.getPool(poolName);\n            var displayObj = pool.get(id.toString());\n            if (displayObj) {\n                this.selectedElement(displayObj.getDisplay());\n            }\n        }\n    };\n    EditorRoom.prototype.sendFetch = function (ids, nodetype, isMoss) {\n        if (!this.mSelectedElementEffect || !this.mSelectedElementEffect.display) {\n            return;\n        }\n        var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_1__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_editor\"].OPCODE._OP_CLIENT_REQ_EDITOR_FETCH_SPRITE);\n        var content = pkt.content;\n        content.ids = ids;\n        content.isMoss = isMoss;\n        content.nodeType = nodetype;\n        this.connection.send(pkt);\n        _utils_log__WEBPACK_IMPORTED_MODULE_3__[\"Logger\"].getInstance().log(\"fetch sprite\", content);\n    };\n    EditorRoom.prototype.onFetchSceneryHandler = function (packet) {\n        if (this.mSelectedElementEffect) {\n            this.mSelectedElementEffect.destroy();\n            this.mSelectedElementEffect = null;\n            this.mPointerDelta = null;\n        }\n        if (!this.editorSkyboxManager) {\n            return;\n        }\n        var content = packet.content;\n        this.editorSkyboxManager.fetch(content.id);\n    };\n    EditorRoom.prototype.onGameobjectDownHandler = function (pointer, gameobject) {\n        var com = gameobject.parentContainer.parentContainer || gameobject.parentContainer;\n        if (!com) {\n            return;\n        }\n        var selected = this.selectedElement(com);\n        if (selected) {\n            this.sendFetch([selected.element.id], pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].NodeType.ElementNodeType, selected.element.model.isMoss);\n        }\n    };\n    EditorRoom.prototype.selectedElement = function (com) {\n        if (!(com instanceof _display_display_object__WEBPACK_IMPORTED_MODULE_11__[\"DisplayObject\"])) {\n            return;\n        }\n        if (com instanceof _display_terrain_display__WEBPACK_IMPORTED_MODULE_9__[\"TerrainDisplay\"]) {\n            return;\n        }\n        if (!this.mSelectedElementEffect) {\n            this.mSelectedElementEffect = new _editor_selected_element__WEBPACK_IMPORTED_MODULE_10__[\"SelectedElement\"](this.mScene, this.layerManager);\n        }\n        this.mSelectedElementEffect.setElement(com);\n        if (this.editorSkyboxManager) {\n            this.editorSkyboxManager.removeSelect();\n        }\n        return com;\n    };\n    EditorRoom.prototype.onKeyDownHandler = function (event) {\n        if (this.editorSkyboxManager) {\n            this.editorSkyboxManager.keyboardMove(event.keyCode);\n        }\n        if (!this.mSelectedElementEffect) {\n            return;\n        }\n        switch (event.keyCode) {\n            case 37:\n            case 38:\n            case 39:\n            case 40:\n            case 65:\n            case 87:\n            case 83:\n            case 68:\n                this.keyboardMoveElement(event.keyCode);\n                break;\n            // case 8:\n            // case 46:\n            //     this.removeDisplay(this.mSelectedElementEffect);\n            //     break;\n        }\n    };\n    EditorRoom.prototype.keyboardMoveElement = function (keyCode) {\n        var display = this.mSelectedElementEffect.display;\n        if (!display) {\n            return;\n        }\n        var pos = new _utils_pos__WEBPACK_IMPORTED_MODULE_12__[\"Pos\"](display.x, display.y, display.z);\n        switch (keyCode) {\n            case 37:\n                pos.x--;\n                break;\n            case 38:\n                pos.y--;\n                break;\n            case 39:\n                pos.x++;\n                break;\n            case 40:\n                pos.y++;\n                break;\n        }\n        display.setPosition(pos.x, pos.y, pos.z);\n        // TOOD depth\n        this.layerManager.depthSurfaceDirty = true;\n    };\n    EditorRoom.prototype.moveElement = function (pointer) {\n        if (!this.mSelectedElementEffect) {\n            return;\n        }\n        if (!this.mSelectedElementEffect.selecting) {\n            return;\n        }\n        if (!this.mouseFollow) {\n            return;\n        }\n        if (!this.mSelectedElementEffect.display) {\n            return;\n        }\n        if (!this.mPointerDelta) {\n            var matrix = new Phaser.GameObjects.Components.TransformMatrix();\n            var parentMatrix = new Phaser.GameObjects.Components.TransformMatrix();\n            this.mSelectedElementEffect.display.getWorldTransformMatrix(matrix, parentMatrix);\n            this.mPointerDelta = new _utils_pos__WEBPACK_IMPORTED_MODULE_12__[\"Pos\"](matrix.tx - pointer.worldX, matrix.ty - pointer.worldY);\n        }\n        var elementWorldPos = new _utils_pos__WEBPACK_IMPORTED_MODULE_12__[\"Pos\"](this.mPointerDelta.x + pointer.worldX, this.mPointerDelta.y + pointer.worldY);\n        var gridPos = this.mMouseFollow.transitionGrid(elementWorldPos.x / this.mScaleRatio, elementWorldPos.y / this.mScaleRatio);\n        if (gridPos) {\n            if (gridPos.x !== this.mSelectedElementEffect.display.x || gridPos.y !== this.mSelectedElementEffect.display.y) {\n                this.mSelectedElementEffect.setDisplayPos(gridPos.x, gridPos.y);\n                this.mLayManager.depthSurfaceDirty = true;\n            }\n        }\n    };\n    Object.defineProperty(EditorRoom.prototype, \"brush\", {\n        get: function () {\n            return this.mBrush;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EditorRoom.prototype, \"miniSize\", {\n        get: function () {\n            return this.mNimiSize;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EditorRoom.prototype, \"mouseFollow\", {\n        get: function () {\n            if (!this.mMouseFollow) {\n                this.mMouseFollow = new _editor_mouse_follow__WEBPACK_IMPORTED_MODULE_8__[\"MouseFollow\"](this.mScene, this);\n            }\n            return this.mMouseFollow;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    EditorRoom.prototype.removeDisplay = function (element) {\n        if (element.sprite.isMoss) {\n            this.editorMossManager.deleteMosses([element.sprite.id]);\n        }\n        else {\n            this.editorElementManager.deleteElements([element.sprite.id]);\n        }\n        this.removeSelected();\n    };\n    return EditorRoom;\n}(_room__WEBPACK_IMPORTED_MODULE_5__[\"Room\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/editor.room.ts?");

/***/ }),

/***/ "./src/rooms/editor/mouse.follow.ts":
/*!******************************************!*\
  !*** ./src/rooms/editor/mouse.follow.ts ***!
  \******************************************/
/*! exports provided: MouseFollow */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MouseFollow\", function() { return MouseFollow; });\n/* harmony import */ var _display_frames_display__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../display/frames.display */ \"./src/rooms/display/frames.display.ts\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _element_sprite__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../element/sprite */ \"./src/rooms/element/sprite.ts\");\n/* harmony import */ var _utils_pos__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/pos */ \"./src/utils/pos.ts\");\n/* harmony import */ var _utils_position45__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/position45 */ \"./src/utils/position45.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar NodeType = pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].NodeType;\n\n\n\nvar MouseFollow = /** @class */ (function () {\n    function MouseFollow(mScene, mRoomService) {\n        this.mScene = mScene;\n        this.mRoomService = mRoomService;\n        this.mScaleRatio = 1;\n        /**\n         * \n         */\n        this.mSize = 1;\n        this.mLayerManager = this.mRoomService.layerManager;\n        this.mScaleRatio = this.mRoomService.world.scaleRatio;\n    }\n    MouseFollow.prototype.setDisplay = function (content) {\n        if (!this.mScene)\n            return;\n        if (this.mDisplay) {\n            this.mDisplay.destroy();\n            this.mDisplay = null;\n        }\n        this.mNodeType = content.nodeType;\n        this.isMoss = content.isMoss;\n        this.key = content.key;\n        this.mSprite = new _element_sprite__WEBPACK_IMPORTED_MODULE_2__[\"Sprite\"](content.sprite, content.nodeType);\n        this.mDisplay = new MouseDisplayContainer(this.mScene, this.mRoomService);\n        var size = this.mNodeType === NodeType.TerrainNodeType ? this.mSize : 1;\n        this.mDisplay.setDisplay(this.mSprite, size);\n        this.mDisplay.scale = this.mScaleRatio;\n        this.mLayerManager.addToSceneToUI(this.mDisplay);\n        if (this.mNodeType === NodeType.TerrainNodeType) {\n            this.mElementManager = this.mRoomService.terrainManager;\n        }\n        else if (this.mNodeType === NodeType.ElementNodeType || this.mNodeType === NodeType.SpawnPointType) {\n            this.mElementManager = this.mRoomService.elementManager;\n        }\n        this.mScene.input.on(\"pointermove\", this.onPointerMoveHandler, this);\n        this.mScene.input.on(\"wheel\", this.onWheelHandler, this);\n    };\n    MouseFollow.prototype.showEraserArea = function () {\n        if (!this.mScene)\n            return;\n        if (this.mDisplay) {\n            this.mDisplay.destroy();\n        }\n        this.mDisplay = new EraserArea(this.mScene, this.mRoomService);\n        this.mDisplay.setDisplay(null, this.mSize);\n        this.mNodeType = NodeType.TerrainNodeType;\n        this.mLayerManager.addToSceneToUI(this.mDisplay);\n        this.mScene.input.on(\"pointermove\", this.onPointerMoveHandler, this);\n        this.mScene.input.on(\"wheel\", this.onWheelHandler, this);\n    };\n    MouseFollow.prototype.createTerrainsOrMossesData = function () {\n        var _this = this;\n        var locs = this.mDisplay.displays.map(function (display) { return _this.getPosition(display.x, display.y); });\n        return { locs: locs, key: this.key };\n    };\n    MouseFollow.prototype.createSprites = function () {\n        if (!this.mSprite) {\n            return;\n        }\n        var result = [];\n        var sprite = null;\n        var displays = this.mDisplay.displays;\n        for (var _i = 0, displays_1 = displays; _i < displays_1.length; _i++) {\n            var display = displays_1[_i];\n            // deep clone\n            sprite = Object.assign(Object.create(Object.getPrototypeOf(this.mSprite)), this.mSprite);\n            sprite.newID();\n            sprite.pos = this.getPosition(display.x, display.y);\n            sprite.bindID = this.mSprite.id;\n            sprite.sn = this.mSprite.sn;\n            // sprite.nodeType = this.mSprite.node\n            result.push(sprite);\n        }\n        return result;\n    };\n    MouseFollow.prototype.getEaserPosition = function () {\n        var result = [];\n        if (!this.display) {\n            return;\n        }\n        var pos = null;\n        for (var i = 0; i < this.mSize; i++) {\n            for (var j = 0; j < this.mSize; j++) {\n                pos = this.display.transformTo90(i, j);\n                result.push(this.getPosition(pos.x, pos.y));\n                // result.push(this.mRoomService.transformTo45(new Pos(i, j)));\n            }\n        }\n        // result.push(this.getPosition());\n        return result;\n    };\n    MouseFollow.prototype.transitionGrid = function (x, y) {\n        var source = new _utils_pos__WEBPACK_IMPORTED_MODULE_3__[\"Pos\"](x, y);\n        var pos = this.mNodeType === pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].NodeType.TerrainNodeType\n            ? this.mRoomService.transformTo45(source)\n            : this.mRoomService.transformToMini45(source);\n        if (this.mAlignGrid === false) {\n            return this.checkBound(pos, source);\n        }\n        return this.checkBound(pos);\n    };\n    /**\n     * \n     * @param pos 45\n     * @param source \n     */\n    MouseFollow.prototype.checkBound = function (pos, source) {\n        var bound = new _utils_pos__WEBPACK_IMPORTED_MODULE_3__[\"Pos\"](pos.x, pos.y);\n        var size = this.mNodeType === pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].NodeType.TerrainNodeType\n            ? this.mRoomService.roomSize\n            : this.mRoomService.miniSize;\n        if (pos.x < 0) {\n            bound.x = 0;\n        }\n        else if (pos.x > size.cols) {\n            bound.x = size.cols;\n        }\n        if (pos.y < 0) {\n            bound.y = 0;\n        }\n        else if (pos.y > size.rows) {\n            bound.y = size.rows;\n        }\n        if (bound.equal(pos) && source) {\n            return source;\n        }\n        if (this.mNodeType === pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].NodeType.TerrainNodeType) {\n            return this.mRoomService.transformTo90(bound);\n        }\n        return this.mRoomService.transformToMini90(bound);\n    };\n    MouseFollow.prototype.destroy = function () {\n        if (this.mScene) {\n            this.mScene.input.off(\"pointermove\", this.onPointerMoveHandler, this);\n            this.mScene.input.off(\"wheel\", this.onWheelHandler, this);\n        }\n        if (this.mDisplay) {\n            this.mDisplay.destroy();\n            this.mDisplay = null;\n        }\n        this.mNodeType = NodeType.UnknownNodeType;\n    };\n    MouseFollow.prototype.onPointerMoveHandler = function (pointer) {\n        this.updatePos(pointer.worldX / this.mScaleRatio, pointer.worldY / this.mScaleRatio);\n    };\n    MouseFollow.prototype.getPosition = function (rows, cols) {\n        if (rows === void 0) { rows = 0; }\n        if (cols === void 0) { cols = 0; }\n        if (this.mNodeType === pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].NodeType.TerrainNodeType) {\n            var pos45 = this.mRoomService.transformTo45(new _utils_pos__WEBPACK_IMPORTED_MODULE_3__[\"Pos\"](this.mDisplay.x / this.mScaleRatio + rows, this.mDisplay.y / this.mScaleRatio + cols));\n            return pos45;\n        }\n        // TODO \n        var pos = new _utils_pos__WEBPACK_IMPORTED_MODULE_3__[\"Pos\"](this.mDisplay.x / this.mScaleRatio + rows, this.mDisplay.y / this.mScaleRatio + cols, this.mDisplay.z);\n        return pos;\n    };\n    MouseFollow.prototype.onWheelHandler = function (pointer) {\n        if (this.mNodeType !== NodeType.TerrainNodeType) {\n            return;\n        }\n        if (pointer.deltaY < 0) {\n            this.size--;\n        }\n        else {\n            this.size++;\n        }\n        this.updatePos(pointer.worldX / this.mScaleRatio, pointer.worldY / this.mScaleRatio);\n    };\n    MouseFollow.prototype.updatePos = function (worldX, worldY) {\n        if (!this.mDisplay) {\n            return;\n        }\n        var pos = this.transitionGrid(worldX, worldY);\n        if (!pos) {\n            return;\n        }\n        this.mDisplay.setLocation(pos.x * this.mScaleRatio, pos.y * this.mScaleRatio);\n    };\n    Object.defineProperty(MouseFollow.prototype, \"alignGrid\", {\n        set: function (val) {\n            this.mAlignGrid = val;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MouseFollow.prototype, \"display\", {\n        get: function () {\n            return this.mDisplay;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MouseFollow.prototype, \"sprite\", {\n        get: function () {\n            return this.mSprite;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MouseFollow.prototype, \"nodeType\", {\n        get: function () {\n            return this.mNodeType;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MouseFollow.prototype, \"elementManager\", {\n        get: function () {\n            return this.mElementManager;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MouseFollow.prototype, \"size\", {\n        get: function () {\n            return this.mSize;\n        },\n        set: function (val) {\n            if (val < 1) {\n                val = 1;\n            }\n            if (val > 20) {\n                val = 20;\n            }\n            this.mSize = val;\n            this.mDisplay.setDisplay(this.mSprite, this.mSize);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MouseFollow.prototype, \"isMoss\", {\n        get: function () {\n            return this._isMoss;\n        },\n        set: function (val) {\n            this._isMoss = val;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MouseFollow.prototype, \"key\", {\n        get: function () {\n            return this._key;\n        },\n        set: function (val) {\n            this._key = val;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return MouseFollow;\n}());\n\nvar MouseDisplayContainer = /** @class */ (function (_super) {\n    __extends(MouseDisplayContainer, _super);\n    function MouseDisplayContainer(scene, mRoomService) {\n        var _this = _super.call(this, scene) || this;\n        _this.mRoomService = mRoomService;\n        _this.mScaleRatio = 1;\n        _this.mScaleRatio = _this.mRoomService.world.scaleRatio;\n        _this.mOffset = new Phaser.Geom.Point();\n        return _this;\n    }\n    MouseDisplayContainer.prototype.setDisplay = function (sprite, size) {\n        this.clear();\n        this.mDisplay = [];\n        this.mSprite = sprite;\n        if (!sprite) {\n            return;\n        }\n        var frame = sprite.displayInfo;\n        this.mNodeType = sprite.nodeType;\n        var frameDisplay;\n        var _a = this.mRoomService.roomSize, tileWidth = _a.tileWidth, tileHeight = _a.tileHeight;\n        this.mTileSize = {\n            tileWidth: tileWidth,\n            tileHeight: tileHeight,\n            rows: size,\n            cols: size,\n            sceneWidth: (size + size) * (tileWidth / 2),\n            sceneHeight: (size + size) * (tileHeight / 2),\n        };\n        this.mOffset.x = -((this.mTileSize.sceneWidth / 2) * this.mScaleRatio);\n        this.mOffset.y = -((this.mTileSize.sceneHeight / this.mScaleRatio - (size % 2 === 0 ? 0 : tileHeight)) / 2);\n        for (var i = 0; i < size; i++) {\n            for (var j = 0; j < size; j++) {\n                frameDisplay = new _display_frames_display__WEBPACK_IMPORTED_MODULE_0__[\"FramesDisplay\"](this.scene, this.mRoomService);\n                frameDisplay.setAlpha(0.8);\n                frameDisplay.once(\"initialized\", this.onInitializedHandler, this);\n                frameDisplay.load(frame);\n                var pos = _utils_position45__WEBPACK_IMPORTED_MODULE_4__[\"Position45\"].transformTo90(new _utils_pos__WEBPACK_IMPORTED_MODULE_3__[\"Pos\"](i, j), this.mTileSize);\n                frameDisplay.x = pos.x;\n                frameDisplay.y = pos.y;\n                this.add(frameDisplay);\n                this.mDisplay.push(frameDisplay);\n            }\n        }\n    };\n    MouseDisplayContainer.prototype.transformTo90 = function (row, col) {\n        return _utils_position45__WEBPACK_IMPORTED_MODULE_4__[\"Position45\"].transformTo90(new _utils_pos__WEBPACK_IMPORTED_MODULE_3__[\"Pos\"](row, col), this.mTileSize);\n    };\n    MouseDisplayContainer.prototype.transformTo45 = function (x, y) {\n        return _utils_position45__WEBPACK_IMPORTED_MODULE_4__[\"Position45\"].transformTo45(new _utils_pos__WEBPACK_IMPORTED_MODULE_3__[\"Pos\"](x, y), this.mTileSize);\n    };\n    MouseDisplayContainer.prototype.setLocation = function (x, y) {\n        this.x = x + this.mOffset.x;\n        this.y = y + this.mOffset.y;\n        return this;\n    };\n    MouseDisplayContainer.prototype.clear = function () {\n        this.removeAll(true);\n        this.mDisplay = undefined;\n    };\n    MouseDisplayContainer.prototype.destroy = function (fromScene) {\n        this.clear();\n        _super.prototype.destroy.call(this, fromScene);\n    };\n    Object.defineProperty(MouseDisplayContainer.prototype, \"displays\", {\n        get: function () {\n            return this.mDisplay;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MouseDisplayContainer.prototype, \"tileWidth\", {\n        get: function () {\n            var tmp = this.mTileSize.tileHeight;\n            if (this.mTileSize.rows % 2 === 0) {\n                tmp = 0;\n            }\n            return this.mTileSize.sceneWidth - tmp;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MouseDisplayContainer.prototype, \"tileHeight\", {\n        get: function () {\n            return this.mTileSize.sceneHeight;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    MouseDisplayContainer.prototype.onInitializedHandler = function (obj) {\n        if (obj) {\n            if (this.mSprite) {\n                obj.play(this.mSprite.currentAnimation);\n            }\n            if (this.mNodeType !== pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].NodeType.TerrainNodeType) {\n                obj.showRefernceArea();\n            }\n        }\n    };\n    return MouseDisplayContainer;\n}(Phaser.GameObjects.Container));\nvar EraserArea = /** @class */ (function (_super) {\n    __extends(EraserArea, _super);\n    function EraserArea(scene, roomService) {\n        return _super.call(this, scene, roomService) || this;\n    }\n    EraserArea.prototype.setDisplay = function (frame, size) {\n        if (this.area) {\n            this.area.clear();\n        }\n        var _a = this.mRoomService.roomSize, tileWidth = _a.tileWidth, tileHeight = _a.tileHeight;\n        this.mTileSize = {\n            tileWidth: tileWidth,\n            tileHeight: tileHeight,\n            rows: size,\n            cols: size,\n            sceneWidth: (size + size) * (tileWidth / 2),\n            sceneHeight: (size + size) * (tileHeight / 2),\n        };\n        this.mOffset.x = -(this.mTileSize.sceneWidth / 2);\n        this.mOffset.y = -((this.mTileSize.sceneHeight - (size % 2 === 0 ? 0 : tileHeight)) / 2);\n        var p1;\n        var p2;\n        var p3;\n        var p4;\n        this.area = this.scene.make.graphics(undefined, false);\n        for (var y = 0; y < size; y++) {\n            for (var x = 0; x < size; x++) {\n                this.area.lineStyle(2, 0);\n                p1 = _utils_position45__WEBPACK_IMPORTED_MODULE_4__[\"Position45\"].transformTo90(new _utils_pos__WEBPACK_IMPORTED_MODULE_3__[\"Pos\"](x, y), this.mTileSize);\n                p2 = _utils_position45__WEBPACK_IMPORTED_MODULE_4__[\"Position45\"].transformTo90(new _utils_pos__WEBPACK_IMPORTED_MODULE_3__[\"Pos\"](x + 1, y), this.mTileSize);\n                p3 = _utils_position45__WEBPACK_IMPORTED_MODULE_4__[\"Position45\"].transformTo90(new _utils_pos__WEBPACK_IMPORTED_MODULE_3__[\"Pos\"](x + 1, y + 1), this.mTileSize);\n                p4 = _utils_position45__WEBPACK_IMPORTED_MODULE_4__[\"Position45\"].transformTo90(new _utils_pos__WEBPACK_IMPORTED_MODULE_3__[\"Pos\"](x, y + 1), this.mTileSize);\n                this.area.beginPath();\n                this.area.fillStyle(0, 0.5);\n                this.area.strokePoints([p1.toPoint(), p2.toPoint(), p3.toPoint(), p4.toPoint()], true, true);\n                this.area.fillPath();\n            }\n        }\n        this.add(this.area);\n    };\n    return EraserArea;\n}(MouseDisplayContainer));\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/editor/mouse.follow.ts?");

/***/ }),

/***/ "./src/rooms/editor/reference.area.ts":
/*!********************************************!*\
  !*** ./src/rooms/editor/reference.area.ts ***!
  \********************************************/
/*! exports provided: ReferenceArea */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ReferenceArea\", function() { return ReferenceArea; });\n/* harmony import */ var _utils_pos__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/pos */ \"./src/utils/pos.ts\");\n/* harmony import */ var _utils_position45__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/position45 */ \"./src/utils/position45.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar ReferenceArea = /** @class */ (function (_super) {\n    __extends(ReferenceArea, _super);\n    function ReferenceArea(scene, mRoomService) {\n        var _this = _super.call(this, scene) || this;\n        _this.mRoomService = mRoomService;\n        return _this;\n    }\n    ReferenceArea.prototype.draw = function (area, origin) {\n        this.clear();\n        if (area.length === 0 || area[0].length === 0) {\n            return;\n        }\n        var p1;\n        var p2;\n        var p3;\n        var p4;\n        var rows = area.length;\n        var cols = area[0].length;\n        var roomSize = this.mRoomService.roomSize;\n        var tileWidth = roomSize.tileWidth / 2;\n        var tileHeight = roomSize.tileHeight / 2;\n        this.mOrigin = origin;\n        this.mSize = {\n            rows: rows,\n            cols: cols,\n            tileWidth: tileWidth,\n            tileHeight: tileHeight,\n            sceneWidth: (rows + cols) * (tileWidth / 2),\n            sceneHeight: (rows + cols) * (tileHeight / 2)\n        };\n        this.beginPath();\n        for (var y = 0; y < rows; y++) {\n            for (var x = 0; x < cols; x++) {\n                this.lineStyle(2, 0);\n                p1 = _utils_position45__WEBPACK_IMPORTED_MODULE_1__[\"Position45\"].transformTo90(new _utils_pos__WEBPACK_IMPORTED_MODULE_0__[\"Pos\"](x, y), this.mSize);\n                p2 = _utils_position45__WEBPACK_IMPORTED_MODULE_1__[\"Position45\"].transformTo90(new _utils_pos__WEBPACK_IMPORTED_MODULE_0__[\"Pos\"](x + 1, y), this.mSize);\n                p3 = _utils_position45__WEBPACK_IMPORTED_MODULE_1__[\"Position45\"].transformTo90(new _utils_pos__WEBPACK_IMPORTED_MODULE_0__[\"Pos\"](x + 1, y + 1), this.mSize);\n                p4 = _utils_position45__WEBPACK_IMPORTED_MODULE_1__[\"Position45\"].transformTo90(new _utils_pos__WEBPACK_IMPORTED_MODULE_0__[\"Pos\"](x, y + 1), this.mSize);\n                this.beginPath();\n                this.fillStyle(area[y][x] === 1 ? 0x00FF00 : 0xFF0000);\n                this.strokePoints([p1.toPoint(), p2.toPoint(), p3.toPoint(), p4.toPoint()], true, true);\n                this.fillPath();\n            }\n        }\n        this.setPosition(0, 0);\n    };\n    ReferenceArea.prototype.setPosition = function (x, y, z, w) {\n        if (!this.mSize)\n            return;\n        var _x = x - this.mSize.rows * (this.mSize.tileWidth >> 1) - (this.mOrigin.x - this.mOrigin.y) * (this.mSize.tileWidth >> 1);\n        var _y = y - (this.mOrigin.x + this.mOrigin.y + 0.5) * (this.mSize.tileHeight >> 1);\n        return _super.prototype.setPosition.call(this, _x, _y, z, w);\n    };\n    Object.defineProperty(ReferenceArea.prototype, \"size\", {\n        get: function () {\n            return this.mSize;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return ReferenceArea;\n}(Phaser.GameObjects.Graphics));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/editor/reference.area.ts?");

/***/ }),

/***/ "./src/rooms/editor/selected.element.ts":
/*!**********************************************!*\
  !*** ./src/rooms/editor/selected.element.ts ***!
  \**********************************************/
/*! exports provided: SelectedElement */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SelectedElement\", function() { return SelectedElement; });\n/* harmony import */ var _ui_components_dynamic_image__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../ui/components/dynamic.image */ \"./src/ui/components/dynamic.image.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n\n\nvar SelectedElement = /** @class */ (function () {\n    function SelectedElement(mScene, mLayerManager) {\n        this.mScene = mScene;\n        this.mLayerManager = mLayerManager;\n        this.mDisplayHeight = 0;\n        this.mEffecte = new _ui_components_dynamic_image__WEBPACK_IMPORTED_MODULE_0__[\"DynamicImage\"](this.mScene, 0, 0);\n        this.mEffecte.load(_utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getRes(\"ui/editor/selectFlag.png\"));\n    }\n    SelectedElement.prototype.setElement = function (display) {\n        if (this.mDisplay) {\n            this.mDisplay.hideRefernceArea();\n            this.mDisplay.showNickname(\"\");\n            this.mSprite = undefined;\n        }\n        this.mDisplay = display;\n        display.showRefernceArea();\n        this.mDisplayHeight = this.mDisplay.spriteHeight;\n        var ele = display.element;\n        if (ele) {\n            ele.showNickname();\n            this.mSprite = ele.model;\n        }\n        this.mLayerManager.addToSceneToUI(this.mEffecte);\n        this.mSelecting = true;\n        this.update();\n    };\n    SelectedElement.prototype.remove = function () {\n        this.mSelecting = false;\n        if (!this.mEffecte) {\n            return;\n        }\n        if (this.mEffecte.parentContainer) {\n            this.mEffecte.parentContainer.remove(this.mEffecte);\n        }\n        if (!this.mDisplay) {\n            return;\n        }\n        if (this.mDisplay.parentContainer) {\n            this.mDisplay.hideRefernceArea();\n            this.mDisplay.showNickname(\"\");\n        }\n        this.mDisplay = null;\n        this.mSprite = undefined;\n    };\n    SelectedElement.prototype.update = function () {\n        if (!this.mDisplay) {\n            return;\n        }\n        var baseLoc = this.mDisplay.baseLoc;\n        this.mEffecte.x = this.mDisplay.x + baseLoc.x;\n        this.mEffecte.y = this.mDisplay.y + baseLoc.y - (this.mDisplayHeight >> 1);\n    };\n    SelectedElement.prototype.setDisplayPos = function (x, y) {\n        if (!this.mDisplay) {\n            return;\n        }\n        this.mDisplay.x = x;\n        this.mDisplay.y = y;\n        if (this.mSprite) {\n            var pos = this.mSprite.pos;\n            if (pos) {\n                pos.x = x;\n                pos.y = y;\n            }\n        }\n    };\n    SelectedElement.prototype.destroy = function () {\n        if (!this.mEffecte) {\n            return;\n        }\n        this.remove();\n        this.mEffecte.destroy();\n        this.mEffecte = null;\n    };\n    Object.defineProperty(SelectedElement.prototype, \"display\", {\n        get: function () {\n            return this.mDisplay;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(SelectedElement.prototype, \"selecting\", {\n        /**\n         * , \n         */\n        get: function () {\n            return this.mSelecting;\n        },\n        set: function (val) {\n            this.mSelecting = val;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(SelectedElement.prototype, \"sprite\", {\n        get: function () {\n            return this.mSprite;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return SelectedElement;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/editor/selected.element.ts?");

/***/ }),

/***/ "./src/rooms/effect/effect.manager.ts":
/*!********************************************!*\
  !*** ./src/rooms/effect/effect.manager.ts ***!
  \********************************************/
/*! exports provided: EffectManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EffectManager\", function() { return EffectManager; });\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _effect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./effect */ \"./src/rooms/effect/effect.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar EffectManager = /** @class */ (function (_super) {\n    __extends(EffectManager, _super);\n    function EffectManager(room) {\n        var _this = _super.call(this) || this;\n        _this.room = room;\n        _this.mEffects = new Map();\n        _this.connection.addPacketListener(_this);\n        _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_REQ_CLIENT_SYNC_SPRITE, _this.onSyncSprite);\n        return _this;\n    }\n    EffectManager.prototype.add = function (id) {\n        var effect = new _effect__WEBPACK_IMPORTED_MODULE_2__[\"Effect\"](id);\n        this.mEffects.set(id, effect);\n        this.updateDisplay(effect);\n        return effect;\n    };\n    EffectManager.prototype.remove = function (id) {\n        this.mEffects.delete(id);\n    };\n    EffectManager.prototype.get = function (id) {\n        var effect = this.mEffects.get(id);\n        if (!effect) {\n            effect = this.add(id);\n        }\n        return effect;\n    };\n    EffectManager.prototype.destroy = function () {\n        this.mEffects.forEach(function (effect) {\n            effect.destroy();\n        });\n        this.mEffects.clear();\n        this.connection.removePacketListener(this);\n    };\n    EffectManager.prototype.updateDisplay = function (effect) {\n        var id = effect.id;\n        var display = this.room.world.elementStorage.getDisplayModel(id);\n        if (display) {\n            effect.displayInfo = display;\n        }\n        else {\n            this.fetchDisplay([id]);\n        }\n    };\n    EffectManager.prototype.fetchDisplay = function (ids) {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_REQ_VIRTUAL_WORLD_QUERY_SPRITE_RESOURCE);\n        var content = packet.content;\n        content.ids = ids;\n        this.connection.send(packet);\n    };\n    EffectManager.prototype.onSyncSprite = function (packet) {\n        var content = packet.content;\n        if (content.nodeType !== pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].NodeType.ElementNodeType) {\n            return;\n        }\n        var sprites = content.sprites;\n        var effect = null;\n        for (var _i = 0, sprites_1 = sprites; _i < sprites_1.length; _i++) {\n            var sprite = sprites_1[_i];\n            effect = this.mEffects.get(sprite.id);\n            if (effect) {\n                effect.syncSprite(sprite);\n            }\n        }\n    };\n    Object.defineProperty(EffectManager.prototype, \"connection\", {\n        get: function () {\n            return this.room.connection;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return EffectManager;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PacketHandler\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/effect/effect.manager.ts?");

/***/ }),

/***/ "./src/rooms/effect/effect.ts":
/*!************************************!*\
  !*** ./src/rooms/effect/effect.ts ***!
  \************************************/
/*! exports provided: Effect */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Effect\", function() { return Effect; });\n/* harmony import */ var _display_frames_model__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../display/frames.model */ \"./src/rooms/display/frames.model.ts\");\n/* harmony import */ var _display_animation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../display/animation */ \"./src/rooms/display/animation.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar Effect = /** @class */ (function (_super) {\n    __extends(Effect, _super);\n    function Effect(id) {\n        var _this = _super.call(this) || this;\n        _this.mID = id;\n        return _this;\n    }\n    Effect.prototype.syncSprite = function (sprite) {\n        if (this.mDisplayInfo) {\n            this.mDisplayInfo.destroy();\n        }\n        var display = sprite.display, animations = sprite.animations;\n        if (display && animations) {\n            var anis = [];\n            for (var _i = 0, animations_1 = animations; _i < animations_1.length; _i++) {\n                var ani = animations_1[_i];\n                anis.push(new _display_animation__WEBPACK_IMPORTED_MODULE_1__[\"Animation\"](ani));\n            }\n            this.displayInfo = new _display_frames_model__WEBPACK_IMPORTED_MODULE_0__[\"FramesModel\"]({\n                animations: {\n                    defaultAnimationName: sprite.currentAnimationName,\n                    display: display,\n                    animationData: anis,\n                },\n            });\n        }\n    };\n    Effect.prototype.destroy = function () {\n    };\n    Object.defineProperty(Effect.prototype, \"id\", {\n        get: function () {\n            return this.mID;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Effect.prototype, \"displayInfo\", {\n        get: function () {\n            return this.mDisplayInfo;\n        },\n        set: function (display) {\n            this.mDisplayInfo = display;\n            this.emit(\"updateDisplayInfo\", display);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Effect;\n}(Phaser.Events.EventEmitter));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/effect/effect.ts?");

/***/ }),

/***/ "./src/rooms/element/decorate.element.manager.ts":
/*!*******************************************************!*\
  !*** ./src/rooms/element/decorate.element.manager.ts ***!
  \*******************************************************/
/*! exports provided: DecorateElementManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DecorateElementManager\", function() { return DecorateElementManager; });\n/* harmony import */ var _element_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./element.manager */ \"./src/rooms/element/element.manager.ts\");\n/* harmony import */ var _sprite__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sprite */ \"./src/rooms/element/sprite.ts\");\n/* harmony import */ var _element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./element */ \"./src/rooms/element/element.ts\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_3__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar NodeType = pixelpai_proto__WEBPACK_IMPORTED_MODULE_3__[\"op_def\"].NodeType;\nvar DecorateElementManager = /** @class */ (function (_super) {\n    __extends(DecorateElementManager, _super);\n    function DecorateElementManager(room) {\n        return _super.call(this, room) || this;\n    }\n    DecorateElementManager.prototype.addMap = function (sprite) {\n        var displayInfo = sprite.displayInfo;\n        if (!displayInfo) {\n            return;\n        }\n        if (this.mRoom.selectedSprite && this.mRoom.selectedSprite.id === sprite.id) {\n            return;\n        }\n        var curAni = sprite.currentAnimation;\n        var aniName = curAni.name;\n        var flip = curAni.flip;\n        var collisionArea = displayInfo.getCollisionArea(aniName, flip);\n        var walkArea = displayInfo.getWalkableArea(aniName, flip);\n        var origin = displayInfo.getOriginPoint(aniName, flip);\n        var rows = collisionArea.length;\n        var cols = collisionArea[0].length;\n        var pos = this.mRoom.transformToMini45(sprite.pos);\n        if (!walkArea) {\n            walkArea = new Array(rows);\n            for (var i = 0; i < rows; i++) {\n                walkArea[i] = new Array(cols).fill(0);\n            }\n        }\n        var row = 0;\n        var col = 0;\n        for (var i = 0; i < rows; i++) {\n            row = pos.y + i - origin.y;\n            for (var j = 0; j < cols; j++) {\n                if (collisionArea[i][j] === 1 && (i >= walkArea.length || j >= walkArea[i].length || walkArea[i][j] === 0)) {\n                    col = pos.x + j - origin.x;\n                    if (row >= 0 && row < this.mMap.length && col >= 0 && col < this.mMap[row].length) {\n                        this.mMap[row][col] = 1;\n                    }\n                }\n            }\n        }\n    };\n    DecorateElementManager.prototype.removeMap = function (sprite) {\n        var displayInfo = sprite.displayInfo;\n        if (!displayInfo) {\n            return;\n        }\n        var curAni = sprite.currentAnimation;\n        var aniName = curAni.name;\n        var flip = curAni.flip;\n        var collisionArea = displayInfo.getCollisionArea(aniName, flip);\n        var origin = displayInfo.getOriginPoint(aniName, flip);\n        var rows = collisionArea.length;\n        var cols = collisionArea[0].length;\n        var pos = this.mRoom.transformToMini45(sprite.pos);\n        var row = 0;\n        var col = 0;\n        for (var i = 0; i < rows; i++) {\n            row = pos.y + i - origin.y;\n            for (var j = 0; j < cols; j++) {\n                col = pos.x + j - origin.x;\n                if (collisionArea[i][j] === 1) {\n                    if (row >= 0 && row < this.mMap.length && col >= 0 && col < this.mMap[row].length) {\n                        this.mMap[row][col] = 0;\n                    }\n                }\n            }\n        }\n    };\n    DecorateElementManager.prototype.canPut = function (pos45, collisionArea, origin) {\n        var row = 0;\n        var col = 0;\n        var map = this.map;\n        for (var i = 0; i < collisionArea.length; i++) {\n            row = i + pos45.y - origin.y;\n            if (row < 0 || row >= map.length) {\n                return false;\n            }\n            for (var j = 0; j < collisionArea[i].length; j++) {\n                col = j + pos45.x - origin.x;\n                if (col >= map[i].length || map[row][col] === 1) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n    DecorateElementManager.prototype._add = function (sprite, addMap) {\n        if (addMap === undefined)\n            addMap = true;\n        var ele = this.mElements.get(sprite.id);\n        if (ele) {\n            ele.model = sprite;\n        }\n        else {\n            ele = new _element__WEBPACK_IMPORTED_MODULE_2__[\"Element\"](sprite, this);\n            if (this.getFrozenType(sprite) === \"FROZEN\")\n                ele.setInputEnable(_element__WEBPACK_IMPORTED_MODULE_2__[\"InputEnable\"].Diasble);\n            else\n                ele.setInputEnable(_element__WEBPACK_IMPORTED_MODULE_2__[\"InputEnable\"].Enable);\n        }\n        // if (!ele) ele = new Element(sprite, this);\n        if (addMap)\n            this.addMap(sprite);\n        this.mElements.set(ele.id || 0, ele);\n        return ele;\n    };\n    DecorateElementManager.prototype.onSync = function (packet) {\n        var content = packet.content;\n        if (content.nodeType !== NodeType.ElementNodeType) {\n            return;\n        }\n        var element = null;\n        var sprites = content.sprites;\n        for (var _i = 0, sprites_1 = sprites; _i < sprites_1.length; _i++) {\n            var sprite = sprites_1[_i];\n            element = this.get(sprite.id);\n            if (element) {\n                var sp = new _sprite__WEBPACK_IMPORTED_MODULE_1__[\"Sprite\"](sprite, content.nodeType);\n                element.model = sp;\n                this.addMap(sp);\n            }\n        }\n    };\n    Object.defineProperty(DecorateElementManager.prototype, \"map\", {\n        get: function () {\n            return this.mMap;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    DecorateElementManager.prototype.getFrozenType = function (sprite) {\n        var frozenType;\n        var arr = sprite.attrs;\n        if (arr) {\n            arr.forEach(function (value) {\n                if (value.key === \"frozenType\") {\n                    frozenType = value.value;\n                }\n            });\n        }\n        return frozenType;\n    };\n    return DecorateElementManager;\n}(_element_manager__WEBPACK_IMPORTED_MODULE_0__[\"ElementManager\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/element/decorate.element.manager.ts?");

/***/ }),

/***/ "./src/rooms/element/editor.element.manager.ts":
/*!*****************************************************!*\
  !*** ./src/rooms/element/editor.element.manager.ts ***!
  \*****************************************************/
/*! exports provided: EditorElementManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EditorElementManager\", function() { return EditorElementManager; });\n/* harmony import */ var _element_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./element.manager */ \"./src/rooms/element/element.manager.ts\");\n/* harmony import */ var _sprite__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sprite */ \"./src/rooms/element/sprite.ts\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _utils_log__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/log */ \"./src/utils/log.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar NodeType = pixelpai_proto__WEBPACK_IMPORTED_MODULE_3__[\"op_def\"].NodeType;\nvar EditorElementManager = /** @class */ (function (_super) {\n    __extends(EditorElementManager, _super);\n    function EditorElementManager(mRoom) {\n        var _this = _super.call(this, mRoom) || this;\n        _this.mRoom = mRoom;\n        _this.taskQueue = new Map();\n        if (_this.connection) {\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_3__[\"op_client\"].OPCODE._OP_EDITOR_REQ_CLIENT_CREATE_SPRITE, _this.handleCreateElements);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_3__[\"op_client\"].OPCODE._OP_EDITOR_REQ_CLIENT_DELETE_SPRITE, _this.handleDeleteElements);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_3__[\"op_client\"].OPCODE._OP_EDITOR_REQ_CLIENT_SYNC_SPRITE, _this.handleSyncElements);\n        }\n        return _this;\n    }\n    EditorElementManager.prototype.update = function () {\n        this.batchActionSprites();\n    };\n    EditorElementManager.prototype.addElements = function (sprites) {\n        for (var _i = 0, sprites_1 = sprites; _i < sprites_1.length; _i++) {\n            var sprite = sprites_1[_i];\n            this.taskQueue.set(sprite.id, {\n                action: \"ADD\",\n                sprite: sprite,\n            });\n        }\n        this.callEditorCreateElementData(sprites);\n    };\n    EditorElementManager.prototype.callEditorCreateElementData = function (sprites) {\n        var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_2__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_3__[\"op_editor\"].OPCODE._OP_CLIENT_REQ_EDITOR_CREATE_SPRITE);\n        var content = pkt.content;\n        content.nodeType = sprites[0].nodeType;\n        content.sprites = sprites.map(function (sprite) { return sprite.toSprite(); });\n        this.connection.send(pkt);\n        _utils_log__WEBPACK_IMPORTED_MODULE_4__[\"Logger\"].getInstance().log(\"add sprites: \", content);\n    };\n    EditorElementManager.prototype.updateElements = function (sprites) {\n        this.callEditorUpdateElementData(sprites);\n    };\n    EditorElementManager.prototype.callEditorUpdateElementData = function (sprites) {\n        var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_2__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_3__[\"op_editor\"].OPCODE._OP_CLIENT_REQ_EDITOR_SYNC_SPRITE);\n        var content = pkt.content;\n        content.sprites = sprites;\n        this.connection.send(pkt);\n    };\n    // removeEditor(id: number) {\n    //     const ele = this.tryRemove(id);\n    //     if (ele) {\n    //         const pkt = new PBpacket(op_editor.OPCODE._OP_CLIENT_REQ_EDITOR_DELETE_SPRITE);\n    //         const content: op_editor.IOP_CLIENT_REQ_EDITOR_DELETE_SPRITE = pkt.content;\n    //         content.ids = [id];\n    //         this.connection.send(pkt);\n    //     }\n    //     return ele;\n    // }\n    EditorElementManager.prototype.deleteElements = function (ids) {\n        for (var _i = 0, ids_1 = ids; _i < ids_1.length; _i++) {\n            var id = ids_1[_i];\n            this.taskQueue.set(id, {\n                action: \"DELETE\",\n                sprite: { id: id },\n            });\n        }\n        this.callEditorDeleteElementData(ids);\n    };\n    EditorElementManager.prototype.callEditorDeleteElementData = function (ids) {\n        var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_2__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_3__[\"op_editor\"].OPCODE._OP_CLIENT_REQ_EDITOR_DELETE_SPRITE);\n        var content = pkt.content;\n        content.ids = ids;\n        content.nodeType = pixelpai_proto__WEBPACK_IMPORTED_MODULE_3__[\"op_def\"].NodeType.ElementNodeType;\n        this.connection.send(pkt);\n    };\n    EditorElementManager.prototype.handleCreateElements = function (packet) {\n        if (!this.mRoom.layerManager) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_4__[\"Logger\"].getInstance().error(\"layer manager does not exist\");\n            return;\n        }\n        var content = packet.content;\n        var sprites = content.sprites, nodeType = content.nodeType;\n        for (var _i = 0, sprites_2 = sprites; _i < sprites_2.length; _i++) {\n            var sprite = sprites_2[_i];\n            this.taskQueue.set(sprite.id, {\n                action: \"ADD\",\n                sprite: new _sprite__WEBPACK_IMPORTED_MODULE_1__[\"Sprite\"](sprite),\n            });\n        }\n        // if (!sprites) return;\n        // if (nodeType !== NodeType.ElementNodeType && nodeType !== NodeType.SpawnPointType) {\n        //     return;\n        // }\n        // let point: op_def.IPBPoint3f;\n        // const displays = [];\n        // let ele: Element = null;\n        // for (const sprite of sprites) {\n        //     point = sprite.point3f;\n        //     if (point) {\n        //         ele = this._add(new Sprite(sprite, nodeType));\n        //         if (ele.getDisplay()) displays.push(ele.getDisplay());\n        //     }\n        // }\n        // this.mRoom.addToSurface(displays);\n    };\n    EditorElementManager.prototype.handleDeleteElements = function (packet) {\n        var content = packet.content;\n        var ids = content.ids, nodeType = content.nodeType;\n        if (nodeType !== NodeType.ElementNodeType && nodeType !== NodeType.SpawnPointType) {\n            return;\n        }\n        // for (const id of ids) {\n        //     this.tryRemove(id);\n        // }\n        // this.roomService.removeSelected();\n        for (var _i = 0, ids_2 = ids; _i < ids_2.length; _i++) {\n            var id = ids_2[_i];\n            this.taskQueue.set(id, {\n                action: \"DELETE\",\n                sprite: { id: id },\n            });\n        }\n        this.roomService.removeSelected();\n    };\n    EditorElementManager.prototype.handleSyncElements = function (packet) {\n        var content = packet.content;\n        var sprites = content.sprites;\n        if (content.nodeType !== pixelpai_proto__WEBPACK_IMPORTED_MODULE_3__[\"op_def\"].NodeType.ElementNodeType) {\n            return;\n        }\n        for (var _i = 0, sprites_3 = sprites; _i < sprites_3.length; _i++) {\n            var sprite = sprites_3[_i];\n            // this.trySync(sprite);\n            this.taskQueue.set(sprite.id, {\n                action: \"UPDATE\",\n                sprite: new _sprite__WEBPACK_IMPORTED_MODULE_1__[\"Sprite\"](sprite),\n            });\n        }\n    };\n    // protected _add(sprite: ISprite): Element {\n    //     let ele = this.mElements.get(sprite.id);\n    //     if (!ele) ele = new Element(sprite, this);\n    //     ele.setBlockable(false);\n    //     ele.setRenderable(true);\n    //     ele.setInputEnable(InputEnable.Enable);\n    //     this.mElements.set(ele.id, ele);\n    //     return ele;\n    // }\n    // protected tryRemove(id) {\n    //     const element = this.mElements.get(id);\n    //     if (element) {\n    //         this.mElements.delete(id);\n    //         element.destroy();\n    //         if (this.roomService) {\n    //             this.roomService.blocks.remove(element);\n    //         }\n    //         return element;\n    //     }\n    // }\n    // protected trySync(sprite: op_client.ISprite) {\n    //     const element = this.mElements.get(sprite.id);\n    //     if (!element) {\n    //         Logger.getInstance().log(\"can't find element\", sprite);\n    //         return;\n    //     }\n    //     const point = sprite.point3f;\n    //     if (point) {\n    //         element.setPosition(new Pos(point.x, point.y, point.z));\n    //     }\n    //     if (sprite.direction) {\n    //         element.setDirection(sprite.direction);\n    //     }\n    // }\n    EditorElementManager.prototype.batchActionSprites = function () {\n        if (!Array.from(this.taskQueue.keys()).length) {\n            return;\n        }\n        var batchTasksKeys = Array.from(this.taskQueue.keys()).splice(0, 200);\n        for (var _i = 0, batchTasksKeys_1 = batchTasksKeys; _i < batchTasksKeys_1.length; _i++) {\n            var key = batchTasksKeys_1[_i];\n            var _a = this.taskQueue.get(key), action = _a.action, sprite = _a.sprite;\n            this.taskQueue.delete(key);\n            if (action === \"ADD\") {\n                this.mRoom.displayObjectPool.push(\"elements\", sprite.id.toString(), sprite, this);\n            }\n            else if (action === \"DELETE\") {\n                this.mRoom.displayObjectPool.remove(\"elements\", sprite.id.toString());\n            }\n            else if (action === \"UPDATE\") {\n                this.mRoom.displayObjectPool.update(\"elements\", sprite.id.toString(), sprite);\n            }\n        }\n    };\n    Object.defineProperty(EditorElementManager.prototype, \"roomService\", {\n        get: function () {\n            return this.mRoom;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return EditorElementManager;\n}(_element_manager__WEBPACK_IMPORTED_MODULE_0__[\"ElementManager\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/element/editor.element.manager.ts?");

/***/ }),

/***/ "./src/rooms/element/editor.moss.manager.ts":
/*!**************************************************!*\
  !*** ./src/rooms/element/editor.moss.manager.ts ***!
  \**************************************************/
/*! exports provided: EditorMossManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EditorMossManager\", function() { return EditorMossManager; });\n/* harmony import */ var _element_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./element.manager */ \"./src/rooms/element/element.manager.ts\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _utils_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/helpers */ \"./src/utils/helpers.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n\n\n\n\nvar EditorMossManager = /** @class */ (function (_super) {\n    __extends(EditorMossManager, _super);\n    function EditorMossManager(mRoom) {\n        var _this = _super.call(this, mRoom) || this;\n        _this.mRoom = mRoom;\n        _this.taskQueue = new Map();\n        _this.editorMosses = new Map();\n        if (_this.connection) {\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_client\"].OPCODE._OP_EDITOR_REQ_CLIENT_ADD_MOSSES, _this.handleAddMosses);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_client\"].OPCODE._OP_EDITOR_REQ_CLIENT_DELETE_MOSSES, _this.handleDeleteMosses);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_client\"].OPCODE._OP_EDITOR_REQ_CLIENT_SYNC_MOSSES, _this.handleUpdateMosses);\n        }\n        return _this;\n    }\n    EditorMossManager.prototype.update = function () {\n        this.batchActionSprites();\n    };\n    EditorMossManager.prototype.addMosses = function (coorData) {\n        var placeLocs = [];\n        var locs = coorData.locs, key = coorData.key;\n        for (var _i = 0, locs_1 = locs; _i < locs_1.length; _i++) {\n            var loc = locs_1[_i];\n            var id = _utils_helpers__WEBPACK_IMPORTED_MODULE_3__[\"default\"].genId();\n            var placeLoc = {\n                x: loc.x,\n                y: loc.y,\n                z: loc.z,\n                key: key,\n                id: id,\n            };\n            this.taskQueue.set(id, {\n                action: \"ADD\",\n                loc: placeLoc,\n            });\n            placeLocs.push(placeLoc);\n        }\n        this.reqEditorCreateMossData(placeLocs);\n    };\n    EditorMossManager.prototype.reqEditorCreateMossData = function (locs) {\n        var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_1__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_editor\"].OPCODE._OP_CLIENT_REQ_EDITOR_CREATE_MOSSES);\n        var content = pkt.content;\n        content.locs = locs;\n        this.connection.send(pkt);\n    };\n    EditorMossManager.prototype.updateMosses = function (elements) {\n        var updateLocs = [];\n        for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n            var element = elements_1[_i];\n            var sprite = element.display.element.model.toSprite();\n            var originLoc = this.editorMosses.get(sprite.id);\n            var loc = {\n                x: sprite.point3f.x,\n                y: sprite.point3f.y,\n                z: sprite.point3f.z,\n                id: sprite.id,\n                dir: sprite.direction,\n                key: originLoc.key,\n            };\n            this.taskQueue.set(sprite.id, {\n                action: \"UPDATE\",\n                loc: loc,\n            });\n            updateLocs.push(loc);\n        }\n        this.reqEditorUpdateMossData(updateLocs);\n    };\n    EditorMossManager.prototype.reqEditorUpdateMossData = function (locs) {\n        var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_1__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_editor\"].OPCODE._OP_CLIENT_REQ_EDITOR_SYNC_MOSSES);\n        var content = pkt.content;\n        content.locs = locs;\n        this.connection.send(pkt);\n    };\n    EditorMossManager.prototype.deleteMosses = function (ids) {\n        var deleteLocs = [];\n        for (var _i = 0, ids_1 = ids; _i < ids_1.length; _i++) {\n            var id = ids_1[_i];\n            var loc = this.editorMosses.get(id);\n            deleteLocs.push(loc);\n            this.taskQueue.set(id, {\n                action: \"DELETE\",\n                loc: loc,\n            });\n        }\n        this.reqEditorDeleteMossData(deleteLocs);\n    };\n    EditorMossManager.prototype.reqEditorDeleteMossData = function (locs) {\n        var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_1__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_editor\"].OPCODE._OP_CLIENT_REQ_EDITOR_DELETE_MOSSES);\n        var content = pkt.content;\n        content.locs = locs;\n        this.connection.send(pkt);\n    };\n    EditorMossManager.prototype.handleAddMosses = function (packet) {\n        var content = packet.content;\n        var locs = content.locs;\n        for (var _i = 0, locs_2 = locs; _i < locs_2.length; _i++) {\n            var loc = locs_2[_i];\n            this.taskQueue.set(loc.id, {\n                action: \"ADD\",\n                loc: loc,\n            });\n        }\n    };\n    EditorMossManager.prototype.handleDeleteMosses = function (packet) {\n        var content = packet.content;\n        var ids = content.ids;\n        for (var _i = 0, ids_2 = ids; _i < ids_2.length; _i++) {\n            var id = ids_2[_i];\n            this.taskQueue.set(id, {\n                action: \"DELETE\",\n                loc: this.editorMosses.get(id),\n            });\n        }\n        this.roomService.removeSelected();\n    };\n    EditorMossManager.prototype.handleUpdateMosses = function (packet) {\n        var content = packet.content;\n        var locs = content.locs;\n        for (var _i = 0, locs_3 = locs; _i < locs_3.length; _i++) {\n            var loc = locs_3[_i];\n            this.taskQueue.set(loc.id, {\n                action: \"UPDATE\",\n                loc: loc,\n            });\n        }\n    };\n    EditorMossManager.prototype.batchActionSprites = function () {\n        if (!Array.from(this.taskQueue.keys()).length) {\n            return;\n        }\n        var batchTasksKeys = Array.from(this.taskQueue.keys()).splice(0, 200);\n        for (var _i = 0, batchTasksKeys_1 = batchTasksKeys; _i < batchTasksKeys_1.length; _i++) {\n            var key = batchTasksKeys_1[_i];\n            var _a = this.taskQueue.get(key), action = _a.action, loc = _a.loc;\n            this.taskQueue.delete(key);\n            if (action === \"ADD\") {\n                var moss = this.mRoom.world.elementStorage.getMossPalette(loc.key);\n                if (!moss)\n                    continue;\n                var sprite = moss.createSprite(__assign(__assign({}, loc), { nodeType: pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].NodeType.ElementNodeType, isMoss: true }));\n                this.editorMosses.set(loc.id, loc);\n                this.mRoom.displayObjectPool.push(\"mosses\", loc.id.toString(), sprite, this);\n            }\n            else if (action === \"DELETE\") {\n                if (loc) {\n                    this.editorMosses.delete(loc.id);\n                    this.mRoom.displayObjectPool.remove(\"mosses\", loc.id.toString());\n                }\n            }\n            else if (action === \"UPDATE\") {\n                var moss = this.mRoom.world.elementStorage.getMossPalette(loc.key);\n                if (!moss)\n                    continue;\n                var sprite = moss.createSprite(__assign(__assign({}, loc), { nodeType: pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].NodeType.ElementNodeType, isMoss: true }));\n                this.editorMosses.set(loc.id, loc);\n                this.mRoom.displayObjectPool.update(\"mosses\", loc.id.toString(), sprite);\n            }\n        }\n    };\n    Object.defineProperty(EditorMossManager.prototype, \"roomService\", {\n        get: function () {\n            return this.mRoom;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return EditorMossManager;\n}(_element_manager__WEBPACK_IMPORTED_MODULE_0__[\"ElementManager\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/element/editor.moss.manager.ts?");

/***/ }),

/***/ "./src/rooms/element/element.manager.ts":
/*!**********************************************!*\
  !*** ./src/rooms/element/element.manager.ts ***!
  \**********************************************/
/*! exports provided: ElementManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ElementManager\", function() { return ElementManager; });\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./element */ \"./src/rooms/element/element.ts\");\n/* harmony import */ var _utils_log__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/log */ \"./src/utils/log.ts\");\n/* harmony import */ var _utils_pos__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/pos */ \"./src/utils/pos.ts\");\n/* harmony import */ var _sprite__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./sprite */ \"./src/rooms/element/sprite.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\nvar NodeType = pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].NodeType;\nvar ElementManager = /** @class */ (function (_super) {\n    __extends(ElementManager, _super);\n    function ElementManager(mRoom) {\n        var _this = _super.call(this) || this;\n        _this.mRoom = mRoom;\n        _this.hasAddComplete = false;\n        _this.mElements = new Map();\n        if (_this.connection) {\n            _this.connection.addPacketListener(_this);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_REQ_CLIENT_ADD_SPRITE, _this.onAdd);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_REQ_CLIENT_ADD_SPRITE_END, _this.addComplete);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_REQ_CLIENT_DELETE_SPRITE, _this.onRemove);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_REQ_CLIENT_MOVE_SPRITE, _this.onMove);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_REQ_CLIENT_ADJUST_POSITION, _this.onAdjust);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_REQ_CLIENT_SYNC_SPRITE, _this.onSync);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_ONLY_BUBBLE, _this.onShowBubble);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_ONLY_BUBBLE_CLEAN, _this.onClearBubbleHandler);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_REQ_CLIENT_CHANGE_SPRITE_ANIMATION, _this.onChangeAnimation);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_REQ_CLIENT_SET_SPRITE_POSITION, _this.onSetPosition);\n        }\n        if (_this.mRoom && _this.mRoom.world) {\n            _this.mGameConfig = _this.mRoom.world.elementStorage;\n        }\n        var size = _this.mRoom.miniSize;\n        _this.mMap = new Array(size.rows);\n        for (var i = 0; i < _this.mMap.length; i++) {\n            _this.mMap[i] = new Array(size.cols).fill(-1);\n        }\n        return _this;\n    }\n    ElementManager.prototype.init = function () {\n        // this.destroy();\n    };\n    ElementManager.prototype.get = function (id) {\n        var element = this.mElements.get(id);\n        if (!element) {\n            return;\n        }\n        return element;\n    };\n    ElementManager.prototype.remove = function (id) {\n        var element = this.mElements.get(id);\n        if (element) {\n            this.mElements.delete(id);\n            element.destroy();\n            this.removeMap(element.model);\n        }\n        return element;\n    };\n    ElementManager.prototype.getElements = function () {\n        return Array.from(this.mElements.values());\n    };\n    ElementManager.prototype.add = function (sprites, addMap) {\n        for (var _i = 0, sprites_1 = sprites; _i < sprites_1.length; _i++) {\n            var sprite = sprites_1[_i];\n            this._add(sprite, addMap);\n        }\n    };\n    ElementManager.prototype.setState = function (state) {\n        if (!state) {\n            return;\n        }\n        var owner = state.owner;\n        if (!owner || owner.type !== pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].NodeType.ElementNodeType) {\n            return;\n        }\n        var element = this.get(owner.id);\n        if (!element) {\n            return;\n        }\n        element.setState(state.state);\n    };\n    ElementManager.prototype.destroy = function () {\n        var _this = this;\n        if (this.connection) {\n            this.connection.removePacketListener(this);\n        }\n        if (!this.mElements)\n            return;\n        this.mElements.forEach(function (element) { return _this.remove(element.id); });\n        this.mElements.clear();\n    };\n    ElementManager.prototype.update = function (time, delta) { };\n    ElementManager.prototype.addMap = function (sprite) { };\n    ElementManager.prototype.removeMap = function (sprite) { };\n    Object.defineProperty(ElementManager.prototype, \"camera\", {\n        get: function () {\n            return this.mRoom.cameraService.camera;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ElementManager.prototype, \"connection\", {\n        get: function () {\n            if (this.mRoom) {\n                return this.mRoom.connection;\n            }\n            _utils_log__WEBPACK_IMPORTED_MODULE_3__[\"Logger\"].getInstance().log(\"roomManager is undefined\");\n            return;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ElementManager.prototype.onAdjust = function (packet) {\n        var content = packet.content;\n        var sprites = content.spritePositions;\n        var type = content.nodeType;\n        if (type !== NodeType.ElementNodeType) {\n            return;\n        }\n        var ele;\n        var point;\n        for (var _i = 0, sprites_2 = sprites; _i < sprites_2.length; _i++) {\n            var sprite = sprites_2[_i];\n            ele = this.mElements.get(sprite.id);\n            if (!ele) {\n                continue;\n            }\n            point = sprite.point3f;\n            ele.setPosition(new _utils_pos__WEBPACK_IMPORTED_MODULE_4__[\"Pos\"](point.x || 0, point.y || 0, point.z || 0));\n        }\n    };\n    ElementManager.prototype.onAdd = function (packet) {\n        if (!this.mRoom.layerManager) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_3__[\"Logger\"].getInstance().error(\"layer manager does not exist\");\n            return;\n        }\n        if (!this.mGameConfig) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_3__[\"Logger\"].getInstance().error(\"gameConfig does not exist\");\n            return;\n        }\n        var content = packet.content;\n        var objs = content.sprites;\n        if (!objs)\n            return;\n        var type = content.nodeType;\n        if (type !== NodeType.ElementNodeType) {\n            return;\n        }\n        var point;\n        var sprite = null;\n        var ids = [];\n        for (var _i = 0, objs_1 = objs; _i < objs_1.length; _i++) {\n            var obj = objs_1[_i];\n            point = obj.point3f;\n            if (point) {\n                sprite = new _sprite__WEBPACK_IMPORTED_MODULE_5__[\"Sprite\"](obj, content.nodeType);\n                if (!sprite.displayInfo) {\n                    if (!this.checkDisplay(sprite)) {\n                        ids.push(sprite.id);\n                    }\n                }\n                this._add(sprite);\n            }\n        }\n        this.fetchDisplay(ids);\n    };\n    ElementManager.prototype._add = function (sprite, addMap) {\n        if (addMap === undefined)\n            addMap = true;\n        var ele = this.mElements.get(sprite.id);\n        if (ele) {\n            ele.model = sprite;\n        }\n        else {\n            ele = new _element__WEBPACK_IMPORTED_MODULE_2__[\"Element\"](sprite, this);\n            ele.setInputEnable(_element__WEBPACK_IMPORTED_MODULE_2__[\"InputEnable\"].Interactive);\n        }\n        // if (!ele) ele = new Element(sprite, this);\n        if (addMap)\n            this.addMap(sprite);\n        this.mElements.set(ele.id || 0, ele);\n        return ele;\n    };\n    ElementManager.prototype.addComplete = function (packet) {\n        this.hasAddComplete = true;\n    };\n    ElementManager.prototype.checkDisplay = function (sprite) {\n        if (!sprite.displayInfo) {\n            var displayInfo = this.roomService.world.elementStorage.getDisplayModel(sprite.bindID || sprite.id);\n            if (displayInfo) {\n                sprite.displayInfo = displayInfo;\n                return displayInfo;\n            }\n        }\n    };\n    ElementManager.prototype.fetchDisplay = function (ids) {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_REQ_VIRTUAL_WORLD_QUERY_SPRITE_RESOURCE);\n        var content = packet.content;\n        content.ids = ids;\n        this.connection.send(packet);\n    };\n    Object.defineProperty(ElementManager.prototype, \"roomService\", {\n        get: function () {\n            return this.mRoom;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ElementManager.prototype, \"scene\", {\n        get: function () {\n            if (this.mRoom) {\n                return this.mRoom.scene;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ElementManager.prototype, \"map\", {\n        get: function () {\n            return this.mMap;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ElementManager.prototype.onSetPosition = function (packet) {\n        var content = packet.content;\n        var type = content.nodeType;\n        var id = content.id;\n        if (type !== NodeType.ElementNodeType) {\n            return;\n        }\n        var ele = this.get(id);\n        ele.setPosition(new _utils_pos__WEBPACK_IMPORTED_MODULE_4__[\"Pos\"](content.position.x, content.position.y, content.position.z));\n    };\n    ElementManager.prototype.onRemove = function (packet) {\n        var content = packet.content;\n        var type = content.nodeType;\n        var ids = content.ids;\n        if (type !== NodeType.ElementNodeType) {\n            return;\n        }\n        for (var _i = 0, ids_1 = ids; _i < ids_1.length; _i++) {\n            var id = ids_1[_i];\n            this.remove(id);\n        }\n    };\n    ElementManager.prototype.onSync = function (packet) {\n        var content = packet.content;\n        if (content.nodeType !== NodeType.ElementNodeType) {\n            return;\n        }\n        var element = null;\n        var sprites = content.sprites;\n        var command = content.command;\n        for (var _i = 0, sprites_3 = sprites; _i < sprites_3.length; _i++) {\n            var sprite = sprites_3[_i];\n            element = this.get(sprite.id);\n            if (element) {\n                if (command === pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].OpCommand.OP_COMMAND_UPDATE) {\n                    element.model = new _sprite__WEBPACK_IMPORTED_MODULE_5__[\"Sprite\"](sprite);\n                }\n                else if (command === pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].OpCommand.OP_COMMAND_PATCH) {\n                    element.updateModel(sprite);\n                }\n            }\n        }\n    };\n    ElementManager.prototype.onMove = function (packet) {\n        var content = packet.content;\n        if (content.moveData) {\n            var moveDataList = content.moveData;\n            var len = moveDataList.length;\n            var type = content.nodeType || null;\n            var moveData = void 0;\n            var elementID = void 0;\n            var element = void 0;\n            for (var i = 0; i < len; i++) {\n                moveData = moveDataList[i];\n                elementID = moveData.moveObjectId;\n                element = this.get(elementID);\n                // Console.log(player.x + \",\" + player.y + \":\" + moveData.destinationPoint3f.x + \",\" + moveData.destinationPoint3f.y + \":\" + moveData.timeSpan);\n                if (!element) {\n                    continue;\n                }\n                element.move(moveData);\n            }\n        }\n    };\n    ElementManager.prototype.onShowBubble = function (packet) {\n        var content = packet.content;\n        var element = this.get(content.receiverid);\n        if (element) {\n            element.showBubble(content.context, content.chatsetting);\n        }\n    };\n    ElementManager.prototype.onClearBubbleHandler = function (packet) {\n        var content = packet.content;\n        var element = this.get(content.receiverid);\n        if (element) {\n            element.clearBubble();\n        }\n    };\n    ElementManager.prototype.onChangeAnimation = function (packet) {\n        var content = packet.content;\n        if (content.nodeType !== NodeType.ElementNodeType) {\n            return;\n        }\n        var ele = null;\n        var ids = content.ids;\n        for (var _i = 0, ids_2 = ids; _i < ids_2.length; _i++) {\n            var id = ids_2[_i];\n            ele = this.get(id);\n            if (ele) {\n                ele.setQueue(content.changeAnimation);\n            }\n        }\n    };\n    return ElementManager;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PacketHandler\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/element/element.manager.ts?");

/***/ }),

/***/ "./src/rooms/element/element.ts":
/*!**************************************!*\
  !*** ./src/rooms/element/element.ts ***!
  \**************************************/
/*! exports provided: PlayerState, Direction, InputEnable, Element */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PlayerState\", function() { return PlayerState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Direction\", function() { return Direction; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"InputEnable\", function() { return InputEnable; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Element\", function() { return Element; });\n/* harmony import */ var _display_dragonbones_display__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../display/dragonbones.display */ \"./src/rooms/display/dragonbones.display.ts\");\n/* harmony import */ var _display_frames_display__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../display/frames.display */ \"./src/rooms/display/frames.display.ts\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _utils_log__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/log */ \"./src/utils/log.ts\");\n/* harmony import */ var _utils_pos__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/pos */ \"./src/utils/pos.ts\");\n/* harmony import */ var _cameras_block_object__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../cameras/block.object */ \"./src/rooms/cameras/block.object.ts\");\n/* harmony import */ var _bubble_bubble_container__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../bubble/bubble.container */ \"./src/rooms/bubble/bubble.container.ts\");\n/* harmony import */ var _shop_shop_entity__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./shop/shop.entity */ \"./src/rooms/element/shop/shop.entity.ts\");\n/* harmony import */ var _display_display_object__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../display/display.object */ \"./src/rooms/display/display.object.ts\");\n/* harmony import */ var _action_AI__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../action/AI */ \"./src/rooms/action/AI.ts\");\n/* harmony import */ var buffer___WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! buffer/ */ \"./node_modules/node-libs-browser/node_modules/buffer/index.js\");\n/* harmony import */ var buffer___WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(buffer___WEBPACK_IMPORTED_MODULE_10__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\n\n\n\nvar PlayerState;\n(function (PlayerState) {\n    PlayerState[\"IDLE\"] = \"idle\";\n    PlayerState[\"WALK\"] = \"walk\";\n    PlayerState[\"RUN\"] = \"run\";\n    PlayerState[\"ATTACK\"] = \"attack\";\n    PlayerState[\"JUMP\"] = \"jump\";\n    PlayerState[\"INJURED\"] = \"injured\";\n    PlayerState[\"FAILED\"] = \"failed\";\n    PlayerState[\"DANCE01\"] = \"dance01\";\n    PlayerState[\"DANCE02\"] = \"dance02\";\n    PlayerState[\"FISHING\"] = \"fishing\";\n    PlayerState[\"GREET01\"] = \"greet01\";\n    PlayerState[\"SIT\"] = \"sit\";\n    PlayerState[\"LIE\"] = \"lit\";\n    PlayerState[\"EMOTION01\"] = \"emotion01\";\n})(PlayerState || (PlayerState = {}));\nvar Direction;\n(function (Direction) {\n    Direction[Direction[\"north\"] = 0] = \"north\";\n    Direction[Direction[\"north_west\"] = 1] = \"north_west\";\n    Direction[Direction[\"west\"] = 2] = \"west\";\n    Direction[Direction[\"west_south\"] = 3] = \"west_south\";\n    Direction[Direction[\"south\"] = 4] = \"south\";\n    Direction[Direction[\"south_east\"] = 5] = \"south_east\";\n    Direction[Direction[\"east\"] = 6] = \"east\";\n    Direction[Direction[\"east_north\"] = 7] = \"east_north\";\n})(Direction || (Direction = {}));\nvar InputEnable;\n(function (InputEnable) {\n    InputEnable[InputEnable[\"Diasble\"] = 0] = \"Diasble\";\n    InputEnable[InputEnable[\"Enable\"] = 1] = \"Enable\";\n    InputEnable[InputEnable[\"Interactive\"] = 2] = \"Interactive\";\n})(InputEnable || (InputEnable = {}));\nvar Element = /** @class */ (function (_super) {\n    __extends(Element, _super);\n    function Element(sprite, mElementManager) {\n        var _this = _super.call(this, mElementManager.roomService) || this;\n        _this.mElementManager = mElementManager;\n        _this.mAnimationName = \"\";\n        _this.mMoveData = {};\n        _this.mCurState = PlayerState.IDLE;\n        _this.mOffsetY = undefined;\n        _this.mMoving = false;\n        _this.mId = sprite.id;\n        _this.model = sprite;\n        _this.mAi = new _action_AI__WEBPACK_IMPORTED_MODULE_9__[\"AI\"](_this);\n        return _this;\n    }\n    Object.defineProperty(Element.prototype, \"dir\", {\n        get: function () {\n            return this.mDisplayInfo.avatarDir !== undefined ? this.mDisplayInfo.avatarDir : 3;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Element.prototype, \"roomService\", {\n        get: function () {\n            if (!this.mElementManager) {\n                // Logger.getInstance().error(\"element manager is undefined\");\n                return;\n            }\n            return this.mElementManager.roomService;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Element.prototype, \"id\", {\n        get: function () {\n            return this.mId; // this.mDisplayInfo.id || 0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Element.prototype, \"model\", {\n        get: function () {\n            return this.mModel;\n        },\n        set: function (val) {\n            this.setModel(val);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Element.prototype, \"scene\", {\n        get: function () {\n            if (this.mElementManager) {\n                return this.mElementManager.scene;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Element.prototype, \"ai\", {\n        get: function () {\n            return this.mAi;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Element.prototype, \"eleMgr\", {\n        get: function () {\n            if (this.mElementManager) {\n                return this.mElementManager;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Element.prototype.load = function (displayInfo) {\n        this.mDisplayInfo = displayInfo;\n        this.loadDisplayInfo();\n    };\n    Element.prototype.setModel = function (model) {\n        this.mModel = model;\n        if (!model) {\n            return;\n        }\n        // this.mDisplayInfo = this.mModel.displayInfo;\n        this.mQueueAnimations = undefined;\n        this.load(this.mModel.displayInfo);\n        if (!this.mDisplay) {\n            return;\n        }\n        if (this.mModel.pos) {\n            this.setPosition(this.mModel.pos);\n        }\n        this.mDisplay.changeAlpha(this.mModel.alpha);\n        if (this.mDisplay.getElement(\"nickname\"))\n            this.showNickname();\n        this.setDirection(this.mModel.direction);\n        // this.setRenderable(true);\n        var frameModel = this.mDisplayInfo;\n        if (this.mInputEnable === InputEnable.Interactive) {\n            this.setInputEnable(this.mInputEnable);\n        }\n        if (frameModel && frameModel.shops) {\n            this.mShopEntity = new _shop_shop_entity__WEBPACK_IMPORTED_MODULE_7__[\"ShopEntity\"](this.mElementManager.roomService.world);\n            this.mShopEntity.register();\n        }\n        if (model.mountSprites && model.mountSprites.length > 0) {\n            this.updateMounth(model.mountSprites);\n        }\n    };\n    Element.prototype.updateModel = function (model) {\n        if (this.mModel.id !== model.id) {\n            return;\n        }\n        if (model.hasOwnProperty(\"avatar\")) {\n            this.mModel.updateAvatar(model.avatar);\n            this.load(this.mModel.displayInfo);\n        }\n        if (model.display && model.animations) {\n            this.mModel.updateDisplay(model.display, model.animations);\n            this.load(this.mModel.displayInfo);\n        }\n        if (model.hasOwnProperty(\"currentAnimationName\")) {\n            this.play(model.currentAnimationName);\n            this.setInputEnable(this.mInputEnable);\n            this.mModel.setAnimationQueue(undefined);\n        }\n        if (model.hasOwnProperty(\"direction\")) {\n            this.setDirection(model.direction);\n        }\n        if (model.hasOwnProperty(\"mountSprites\")) {\n            var mounts = model.mountSprites;\n            this.mergeMounth(mounts);\n            this.updateMounth(mounts);\n        }\n        if (model.hasOwnProperty(\"point3f\")) {\n            var pos = model.point3f;\n            this.setPosition(new _utils_pos__WEBPACK_IMPORTED_MODULE_4__[\"Pos\"](pos.x, pos.y, pos.z));\n        }\n    };\n    Element.prototype.scaleTween = function () {\n        if (!this.mDisplay) {\n            return;\n        }\n        this.mDisplay.scaleTween();\n    };\n    Element.prototype.play = function (animationName) {\n        if (!this.mModel) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_3__[\"Logger\"].getInstance().error(Element.name + \": sprite is empty\");\n            return;\n        }\n        if (this.mModel.currentAnimationName !== animationName) {\n            // this.mAnimationName = animationName;\n            this.mModel.currentAnimationName = animationName;\n            if (this.mDisplay) {\n                this.mDisplay.play(this.model.currentAnimation);\n            }\n        }\n    };\n    Element.prototype.setQueue = function (animations) {\n        var _this = this;\n        if (!this.mModel) {\n            return;\n        }\n        var queue = [];\n        for (var _i = 0, animations_1 = animations; _i < animations_1.length; _i++) {\n            var animation = animations_1[_i];\n            var aq = {\n                name: animation.animationName,\n                playTimes: animation.times,\n            };\n            if (animation.times > 0) {\n                aq.complete = function () {\n                    var anis = _this.model.animationQueue;\n                    anis.shift();\n                    var aniName = anis.length > 0 ? anis[0].name : PlayerState.IDLE;\n                    _this.play(aniName);\n                };\n            }\n            queue.push(aq);\n        }\n        this.mModel.setAnimationQueue(queue);\n        if (queue.length > 0) {\n            this.play(animations[0].animationName);\n        }\n    };\n    Element.prototype.setDirection = function (val) {\n        if (this.mDisplayInfo) {\n            this.mDisplayInfo.avatarDir = val;\n        }\n        if (this.mDisplay && this.model) {\n            this.model.direction = val;\n            this.mDisplay.play(this.model.currentAnimation);\n        }\n    };\n    Element.prototype.getDirection = function () {\n        return this.mDisplayInfo && this.mDisplayInfo.avatarDir ? this.mDisplayInfo.avatarDir : 3;\n    };\n    Element.prototype.changeState = function (val) {\n        if (this.mCurState === val)\n            return;\n        this.mCurState = val;\n        if (!this.mDisplay) {\n            return;\n        }\n        // if (!val) val = PlayerState.IDLE;\n        if (!val) {\n            val = PlayerState.IDLE;\n        }\n        this.play(this.mCurState);\n        // this.mModel.currentAnimationName = this.mCurState;\n        // this.mDisplay.play(this.mModel.currentAnimation);\n    };\n    Element.prototype.getState = function () {\n        return this.mCurState;\n    };\n    Element.prototype.getRenderable = function () {\n        return this.mRenderable;\n    };\n    Element.prototype.getDisplay = function () {\n        return this.mDisplay;\n    };\n    Element.prototype.move = function (moveData) {\n        if (!this.mElementManager) {\n            return; // Logger.getInstance().error(`Element::move - Empty element-manager.`);\n        }\n        if (!this.mDisplay) {\n            return; // Logger.getInstance().error(\"display is undefined\");\n        }\n        this.mMoveData.arrivalTime = moveData.timestemp;\n        // this.mMoveData.destPos = new Pos(\n        //     Math.floor(moveData.destinationPoint3f.x),\n        //     Math.floor(moveData.destinationPoint3f.y)\n        // );\n        this.mMoveData.posPath = [\n            {\n                x: moveData.destinationPoint3f.x,\n                y: moveData.destinationPoint3f.y,\n            },\n        ];\n        this._doMove();\n    };\n    Element.prototype.movePosition = function (pos, angel) {\n        if (!this.mElementManager) {\n            return;\n        }\n        if (!this.mDisplay) {\n            return;\n        }\n        this.startMove();\n        if (!pos.depth)\n            pos.depth = this.getDepth();\n        this.setPosition(pos);\n        var direction = this.calculateDirectionByAngle(angel);\n        if (direction !== -1 && direction !== this.model.direction) {\n            this.setDirection(direction);\n        }\n    };\n    Element.prototype.movePath = function (movePath) {\n        var _this = this;\n        if (!this.mElementManager) {\n            return;\n        }\n        if (!this.mDisplay) {\n            return;\n        }\n        var tmpPath = movePath.path;\n        if (!tmpPath) {\n            return;\n        }\n        this.mMoveData.arrivalTime = movePath.timestemp;\n        var lastPos = new _utils_pos__WEBPACK_IMPORTED_MODULE_4__[\"Pos\"](this.mDisplay.x, this.mDisplay.y - this.offsetY);\n        var paths = [];\n        var angle = null;\n        var point = null;\n        var now = this.mElementManager.roomService.now();\n        var duration = 0;\n        var index = 0;\n        for (var _i = 0, _a = movePath.path; _i < _a.length; _i++) {\n            var path = _a[_i];\n            point = path.point3f;\n            if (!(point.y === lastPos.y && point.x === lastPos.x)) {\n                angle = Math.atan2(point.y - lastPos.y, point.x - lastPos.x) * (180 / Math.PI);\n            }\n            now += duration;\n            duration = path.timestemp - now;\n            paths.push({\n                x: point.x,\n                y: point.y,\n                duration: duration,\n                onStartParams: angle,\n                onStart: function (tween, target, params) {\n                    _this.onCheckDirection(params);\n                },\n            });\n            lastPos = new _utils_pos__WEBPACK_IMPORTED_MODULE_4__[\"Pos\"](point.x, point.y);\n            index++;\n        }\n        this.mMoveData.posPath = paths;\n        this._doMove();\n    };\n    Element.prototype.startMove = function () {\n        this.changeState(PlayerState.WALK);\n    };\n    Element.prototype.stopMove = function () {\n        this.mMoving = false;\n        if (!this.mDisplay) {\n            // Logger.getInstance().error(`can't stopMove, display does not exist`);\n            return;\n        }\n        if (this.mMoveData && this.mMoveData.posPath) {\n            this.mModel.setPosition(this.mDisplay.x, this.mDisplay.y);\n            // delete this.mMoveData.destPos;\n            delete this.mMoveData.posPath;\n            if (this.mMoveData.arrivalTime)\n                this.mMoveData.arrivalTime = 0;\n            if (this.mMoveData.tweenLineAnim) {\n                this.mMoveData.tweenLineAnim.stop();\n                this.mMoveData.tweenLineAnim.destroy();\n            }\n        }\n        this.changeState(PlayerState.IDLE);\n    };\n    Element.prototype.getPosition = function () {\n        var pos;\n        if (!this.mDisplay) {\n            return new _utils_pos__WEBPACK_IMPORTED_MODULE_4__[\"Pos\"](0, 0);\n        }\n        if (this.mRootMount) {\n            pos = this.mRootMount.getPosition();\n            pos.x += this.mDisplay.x;\n            pos.y += this.mDisplay.y;\n            pos.z += this.mDisplay.z;\n        }\n        else {\n            pos = new _utils_pos__WEBPACK_IMPORTED_MODULE_4__[\"Pos\"](this.mDisplay.x, this.mDisplay.y, this.mDisplay.z);\n        }\n        return pos;\n    };\n    Element.prototype.setPosition = function (p) {\n        if (this.mMoving) {\n            this.stopMove();\n        }\n        if (this.mDisplay && p) {\n            this.mModel.setPosition(p.x, p.y);\n            if (this.mRootMount) {\n                return;\n            }\n            this.mDisplay.setPosition(p.x, p.y, p.z);\n            var depth = p.depth ? p.depth : 0;\n            this.setDepth(depth);\n        }\n        this.updateBlock();\n    };\n    Element.prototype.getRootPosition = function () {\n        return new _utils_pos__WEBPACK_IMPORTED_MODULE_4__[\"Pos\"](this.mDisplay.x, this.mDisplay.y, 0);\n    };\n    Element.prototype.showBubble = function (text, setting) {\n        var scene = this.mElementManager.scene;\n        if (!scene) {\n            return;\n        }\n        if (!this.mBubble) {\n            this.mBubble = new _bubble_bubble_container__WEBPACK_IMPORTED_MODULE_6__[\"BubbleContainer\"](scene, this.roomService.world.scaleRatio);\n        }\n        this.mBubble.addBubble(text, setting);\n        this.updateBubble();\n        this.roomService.addToSceneUI(this.mBubble);\n    };\n    Element.prototype.clearBubble = function () {\n        if (!this.mBubble) {\n            return;\n        }\n        this.mBubble.destroy();\n        this.mBubble = null;\n    };\n    Element.prototype.showNickname = function () {\n        if (this.mDisplay && this.model) {\n            this.mDisplay.showNickname(this.model.nickname);\n        }\n    };\n    Element.prototype.showEffected = function (displayInfo, field) {\n        if (displayInfo && this.mDisplay) {\n            var key = displayInfo.gene;\n            // this.mDisplay.once(key, this.onDisplayReady, this);\n            this.mDisplay.load(displayInfo, _display_display_object__WEBPACK_IMPORTED_MODULE_8__[\"DisplayField\"].Effect);\n        }\n    };\n    Element.prototype.turn = function () {\n        if (!this.mModel) {\n            return;\n        }\n        this.mModel.turn();\n        if (this.mDisplay)\n            this.mDisplay.play(this.mModel.currentAnimation);\n    };\n    Element.prototype.setAlpha = function (val) {\n        if (!this.mDisplay) {\n            return;\n        }\n        this.mDisplay.setAlpha(val);\n    };\n    Element.prototype.mount = function (root) {\n        this.mRootMount = root;\n        this.removeFromBlock(true);\n        if (this.mMoving) {\n            this.stopMove();\n        }\n        return this;\n    };\n    Element.prototype.unmount = function () {\n        if (this.mRootMount && this.mDisplay) {\n            // \n            this.removeDisplay();\n            var pos = this.mRootMount.getPosition();\n            pos.x += this.mDisplay.x;\n            pos.y += this.mDisplay.y;\n            this.mRootMount = null;\n            this.setPosition(pos);\n            this.addToBlock();\n        }\n        return this;\n    };\n    Element.prototype.addMount = function (ele, index) {\n        if (!this.mMounts)\n            this.mMounts = [];\n        ele.mount(this);\n        if (this.mDisplay) {\n            this.mDisplay.mount(ele.getDisplay(), index);\n        }\n        if (this.mMounts.indexOf(ele) === -1) {\n            this.mMounts.push(ele);\n        }\n        return this;\n    };\n    Element.prototype.removeMount = function (ele) {\n        ele.unmount();\n        if (!this.mMounts)\n            return this;\n        if (this.mDisplay) {\n            this.mDisplay.unmount(ele.getDisplay());\n        }\n        var index = this.mMounts.indexOf(ele);\n        if (index > -1) {\n            this.mMounts.splice(index, 1);\n        }\n        return this;\n    };\n    Element.prototype.setState = function (states) {\n        for (var _i = 0, states_1 = states; _i < states_1.length; _i++) {\n            var state = states_1[_i];\n            switch (state.execCode) {\n                case pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].ExecCode.EXEC_CODE_ADD:\n                case pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].ExecCode.EXEC_CODE_UPDATE:\n                    this.updateStateHandler(state);\n                    break;\n                case pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].ExecCode.EXEC_CODE_DELETE:\n                    this.removeStateHandler(state);\n                    break;\n            }\n        }\n    };\n    Element.prototype.getDepth = function () {\n        var depth = 0;\n        if (this.model && this.model.pos) {\n            depth = this.model.pos.depth ? this.model.pos.depth : 0;\n        }\n        return depth;\n    };\n    Element.prototype.destroy = function () {\n        if (this.mMoveData && this.mMoveData.tweenAnim) {\n            this.mMoveData.tweenAnim.stop();\n            this.mMoveData.tweenAnim.remove();\n            this.mMoveData.tweenAnim = null;\n            this.mMoveData = null;\n        }\n        if (this.mDisplay) {\n            if (this.mBlockable) {\n                this.roomService.removeBlockObject(this);\n            }\n            this.mDisplay.destroy();\n            this.mDisplay = null;\n        }\n        if (this.mBubble) {\n            this.mBubble.destroy();\n            this.mBubble = undefined;\n        }\n        if (this.mShopEntity) {\n            this.mShopEntity.destroy();\n            this.mShopEntity = null;\n        }\n        if (this.mAi) {\n            this.mAi.destroy();\n            this.mAi = null;\n        }\n        // if (this.concomitants) {\n        //     for (const ele of this.concomitants) {\n        //         ele.destroy();\n        //     }\n        //     this.concomitants.length = 0;\n        //     this.concomitants = null;\n        // }\n        _super.prototype.destroy.call(this);\n    };\n    Element.prototype._doMove = function () {\n        var _this = this;\n        if (!this.mMoveData.posPath) {\n            return;\n        }\n        // const tw: Tweens.Tween = this.mMoveData.tweenAnim;\n        // if (tw) {\n        //     tw.stop();\n        //     tw.remove();\n        // }\n        // const time: number = this.mMoveData.arrivalTime - this.roomService.now();\n        // this.mMoveData.tweenAnim = this.mElementManager.scene.tweens.add({\n        //     targets: this.mDisplay,\n        //     duration: time,\n        //     ease: \"Linear\",\n        //     props: {\n        //         x: { value: this.mMoveData.destPos.x },\n        //         y: { value: this.mMoveData.destPos.y }\n        //     },\n        //     onStart: () => {\n        //         this.onMoveStart();\n        //     },\n        //     onComplete: (tween, targets, element) => {\n        //         this.onMoveComplete();\n        //     },\n        //     onUpdate: (tween, targets, element) => {\n        //         this.onMoving();\n        //     },\n        //     onCompleteParams: [this]\n        // });\n        var line = this.mMoveData.tweenLineAnim;\n        if (line) {\n            line.stop();\n            line.destroy();\n        }\n        var posPath = this.mMoveData.posPath;\n        // for (const path of posPath) {\n        //     path.onStart = () => {\n        //         this.onMoveStart();\n        //     }\n        // }\n        // const time: number = (this.mMoveData.arrivalTime - this.roomService.now());\n        this.mMoveData.tweenLineAnim = this.mElementManager.scene.tweens.timeline({\n            targets: this.mDisplay,\n            ease: \"Linear\",\n            tweens: posPath,\n            onStart: function () {\n                _this.onMoveStart();\n            },\n            onComplete: function () {\n                _this.onMoveComplete();\n            },\n            onUpdate: function () {\n                _this.onMoving();\n            },\n            onCompleteParams: [this],\n        });\n    };\n    Element.prototype.createDisplay = function () {\n        if (!this.mDisplayInfo) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_3__[\"Logger\"].getInstance().error(\"displayinfo does not exist, Create \" + this.model.nickname + \" failed\");\n            return;\n        }\n        if (this.mDisplay) {\n            return this.mDisplay;\n        }\n        var scene = this.mElementManager.scene;\n        if (scene) {\n            if (this.mDisplayInfo.discriminator === \"DragonbonesModel\") {\n                this.mDisplay = new _display_dragonbones_display__WEBPACK_IMPORTED_MODULE_0__[\"DragonbonesDisplay\"](scene, this.mElementManager.roomService, this);\n            }\n            else {\n                this.mDisplay = new _display_frames_display__WEBPACK_IMPORTED_MODULE_1__[\"FramesDisplay\"](scene, this.mElementManager.roomService, this);\n            }\n            var pos = this.mModel.pos;\n            if (pos)\n                this.mDisplay.setPosition(pos.x, pos.y, pos.z);\n            this.addToBlock();\n        }\n        return this.mDisplay;\n    };\n    Element.prototype.loadDisplayInfo = function () {\n        if (!this.mDisplayInfo) {\n            return;\n        }\n        if (!this.mDisplay) {\n            this.createDisplay();\n        }\n        this.mDisplay.once(\"initialized\", this.onDisplayReady, this);\n        this.mDisplay.on(\"updateAnimation\", this.onUpdateAnimationHandler, this);\n        this.mDisplay.load(this.mDisplayInfo);\n    };\n    Element.prototype.addDisplay = function () {\n        this.createDisplay();\n        var room = this.roomService;\n        if (!room || !this.mDisplay) {\n            // Logger.getInstance().error(\"roomService is undefined\");\n            return;\n        }\n        room.addToSurface(this.mDisplay);\n        var depth = 0;\n        if (this.model && this.model.pos) {\n            depth = this.model.pos.depth ? this.model.pos.depth : 0;\n        }\n        this.setDepth(depth);\n    };\n    Element.prototype.setDepth = function (depth) {\n        if (this.mDisplay) {\n            // this.mDisplay.setDepth(depth);\n            if (!this.roomService) {\n                throw new Error(\"roomService is undefined\");\n            }\n            var layerManager = this.roomService.layerManager;\n            if (!layerManager) {\n                throw new Error(\"layerManager is undefined\");\n            }\n            layerManager.depthSurfaceDirty = true;\n        }\n    };\n    Element.prototype.onDisplayReady = function (field) {\n        if (this.mDisplay) {\n            this.mDisplay.play(this.model.currentAnimation);\n            // if (!field || field === DisplayField.STAGE) {\n            if (this.mModel.mountSprites && this.mModel.mountSprites.length > 0) {\n                this.updateMounth(this.mModel.mountSprites);\n            }\n            var depth = 0;\n            if (this.model && this.model.pos) {\n                depth = this.model.pos.depth ? this.model.pos.depth : 0;\n            }\n            this.setDepth(depth);\n        }\n        // this.mDisplay.showRefernceArea();\n        // }\n    };\n    Element.prototype.onUpdateAnimationHandler = function () {\n        if (this.mDisplay) {\n            this.setInputEnable(this.mInputEnable);\n        }\n    };\n    Element.prototype.updateBubble = function () {\n        if (!this.mBubble) {\n            return;\n        }\n        var position = this.getPosition();\n        if (!position) {\n            return;\n        }\n        this.mBubble.updatePos(position.x, position.y - 80);\n    };\n    Element.prototype.onMoveStart = function () {\n        this.mMoving = true;\n    };\n    Element.prototype.onMoveComplete = function () {\n        // if (this.mMoveData.tweenLineAnim) this.mMoveData.tweenLineAnim.stop();\n        this.stopMove();\n    };\n    Element.prototype.onMoving = function () {\n        var now = this.roomService.now();\n        if (now - (this.mMoveData.tweenLastUpdate || 0) >= 50) {\n            // let depth = 0;\n            // if (this.model && this.model.pos) {\n            //     depth = this.model.pos.depth ? this.model.pos.depth : 0;\n            // }\n            this.setDepth(0);\n            this.mMoveData.tweenLastUpdate = now;\n            this.updateBubble();\n            // if (this.mDisplay) this.mDisplay.emit(\"posChange\", this.scene);\n            if (this.mBlockable) {\n                this.roomService.updateBlockObject(this);\n                // this.roomService.addBlockObject()\n            }\n        }\n    };\n    Object.defineProperty(Element.prototype, \"offsetY\", {\n        get: function () {\n            if (this.mOffsetY === undefined) {\n                if (!this.mElementManager ||\n                    !this.mElementManager.roomService ||\n                    !this.mElementManager.roomService.roomSize) {\n                    return 0;\n                }\n                // this.mOffsetY = 0;\n                this.mOffsetY = this.mElementManager.roomService.roomSize.tileHeight >> 2;\n            }\n            return 0; // this.mOffsetY;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Element.prototype.onCheckDirection = function (params) {\n        if (typeof params !== \"number\") {\n            return;\n        }\n        var direction = this.calculateDirectionByAngle(params);\n        if (direction !== -1) {\n            this.setDirection(direction);\n        }\n    };\n    Element.prototype.calculateDirectionByAngle = function (angle) {\n        var direction = -1;\n        if (angle > 90) {\n            direction = 3;\n        }\n        else if (angle >= 0) {\n            direction = 5;\n        }\n        else if (angle >= -90) {\n            direction = 7;\n        }\n        else {\n            direction = 1;\n        }\n        return direction;\n    };\n    Element.prototype.mergeMounth = function (mounts) {\n        var oldMounts = this.mModel.mountSprites || [];\n        var room = this.mRoomService;\n        for (var _i = 0, oldMounts_1 = oldMounts; _i < oldMounts_1.length; _i++) {\n            var id = oldMounts_1[_i];\n            if (mounts.indexOf(id) === -1) {\n                var ele = room.getElement(id);\n                if (ele) {\n                    this.removeMount(ele);\n                }\n            }\n        }\n    };\n    Element.prototype.updateMounth = function (mounts) {\n        var room = this.mRoomService;\n        if (mounts.length > 0) {\n            for (var i = 0; i < mounts.length; i++) {\n                var ele = room.getElement(mounts[i]);\n                if (ele) {\n                    this.addMount(ele, i);\n                }\n            }\n            // const playerManager = this.mElementManager.roomService;\n        }\n        this.mModel.mountSprites = mounts;\n    };\n    Element.prototype.updateStateHandler = function (state) {\n        switch (state.name) {\n            case \"effect\":\n                var buf = buffer___WEBPACK_IMPORTED_MODULE_10__[\"Buffer\"].from(state.packet);\n                var id = buf.readDoubleBE(0);\n                var effect = this.roomService.effectManager.get(id);\n                if (effect.displayInfo) {\n                    this.showEffected(effect.displayInfo);\n                }\n                else {\n                    effect.once(\"updateDisplayInfo\", this.showEffected, this);\n                }\n                break;\n        }\n    };\n    Element.prototype.removeStateHandler = function (state) {\n        switch (state.name) {\n            case \"effect\":\n                // remove\n                if (this.mDisplay) {\n                    this.mDisplay.removeEffect(_display_display_object__WEBPACK_IMPORTED_MODULE_8__[\"DisplayField\"].Effect);\n                }\n                break;\n        }\n    };\n    return Element;\n}(_cameras_block_object__WEBPACK_IMPORTED_MODULE_5__[\"BlockObject\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/element/element.ts?");

/***/ }),

/***/ "./src/rooms/element/frame.manager.ts":
/*!********************************************!*\
  !*** ./src/rooms/element/frame.manager.ts ***!
  \********************************************/
/*! exports provided: FrameManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FrameManager\", function() { return FrameManager; });\n/* harmony import */ var _Handler_Handler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Handler/Handler */ \"./src/Handler/Handler.ts\");\n\nvar FrameManager = /** @class */ (function () {\n    function FrameManager() {\n        this.handlers = [];\n    }\n    FrameManager.prototype.add = function (caller, method, args) {\n        this.remove(caller, method);\n        var handler = new _Handler_Handler__WEBPACK_IMPORTED_MODULE_0__[\"Handler\"](caller, method, args);\n        this.handlers.push(handler);\n    };\n    FrameManager.prototype.remove = function (caller, method) {\n        var removeid = -1;\n        for (var i = 0; i < this.handlers.length; i++) {\n            var item = this.handlers[i];\n            if (item.caller === caller && item.method === method) {\n                removeid = i;\n                break;\n            }\n        }\n        if (removeid !== -1) {\n            var hander = this.handlers.splice(removeid, 1)[0];\n            hander.clear();\n        }\n    };\n    FrameManager.prototype.update = function (time, delta) {\n        for (var _i = 0, _a = this.handlers; _i < _a.length; _i++) {\n            var item = _a[_i];\n            item.runWith([time, delta]);\n        }\n    };\n    FrameManager.prototype.destroy = function () {\n        for (var _i = 0, _a = this.handlers; _i < _a.length; _i++) {\n            var item = _a[_i];\n            item.clear();\n        }\n        this.handlers.length = 0;\n    };\n    FrameManager.prototype.hasRegistered = function (caller, method) {\n        var removeid = -1;\n        for (var i = 0; i < this.handlers.length; i++) {\n            var item = this.handlers[i];\n            if (item.caller === caller && item.method === method) {\n                removeid = i;\n                break;\n            }\n        }\n        return (removeid !== -1);\n    };\n    return FrameManager;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/element/frame.manager.ts?");

/***/ }),

/***/ "./src/rooms/element/shop/shop.entity.ts":
/*!***********************************************!*\
  !*** ./src/rooms/element/shop/shop.entity.ts ***!
  \***********************************************/
/*! exports provided: ShopEntity */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ShopEntity\", function() { return ShopEntity; });\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _shop_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./shop.model */ \"./src/rooms/element/shop/shop.model.ts\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _const_MessageType__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../const/MessageType */ \"./src/const/MessageType.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar ShopEntity = /** @class */ (function (_super) {\n    __extends(ShopEntity, _super);\n    function ShopEntity(mWorld) {\n        var _this = _super.call(this) || this;\n        _this.mWorld = mWorld;\n        _this.mInitialize = false;\n        _this.mConnect = _this.mWorld.connection;\n        _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_QUERY_PACKAGE, _this.handlerQueryPackage);\n        _this.mShopModel = new _shop_model__WEBPACK_IMPORTED_MODULE_1__[\"ShopModel\"]();\n        return _this;\n    }\n    ShopEntity.prototype.initialize = function () {\n        return this.mInitialize;\n    };\n    ShopEntity.prototype.register = function () {\n        this.mConnect.addPacketListener(this);\n    };\n    ShopEntity.prototype.unRegister = function () {\n        this.mConnect.removePacketListener(this);\n    };\n    ShopEntity.prototype.destroy = function () {\n        this.unRegister();\n        this.mShopModel = null;\n        this.mInitialize = false;\n        this.mConnect = null;\n    };\n    ShopEntity.prototype.handlerQueryPackage = function (packet) {\n        var notice = packet.content;\n        this.mWorld.emitter.emit(_const_MessageType__WEBPACK_IMPORTED_MODULE_3__[\"MessageType\"].QUERY_PACKAGE, notice);\n    };\n    ShopEntity.NAME = \"ShopModel\";\n    return ShopEntity;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PacketHandler\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/element/shop/shop.entity.ts?");

/***/ }),

/***/ "./src/rooms/element/shop/shop.model.ts":
/*!**********************************************!*\
  !*** ./src/rooms/element/shop/shop.model.ts ***!
  \**********************************************/
/*! exports provided: ShopModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ShopModel\", function() { return ShopModel; });\nvar ShopModel = /** @class */ (function () {\n    function ShopModel() {\n    }\n    return ShopModel;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/element/shop/shop.model.ts?");

/***/ }),

/***/ "./src/rooms/element/sprite.ts":
/*!*************************************!*\
  !*** ./src/rooms/element/sprite.ts ***!
  \*************************************/
/*! exports provided: Sprite */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Sprite\", function() { return Sprite; });\n/* harmony import */ var _utils_pos__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/pos */ \"./src/utils/pos.ts\");\n/* harmony import */ var _display_dragonbones_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../display/dragonbones.model */ \"./src/rooms/display/dragonbones.model.ts\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _display_frames_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../display/frames.model */ \"./src/rooms/display/frames.model.ts\");\n/* harmony import */ var _display_animation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../display/animation */ \"./src/rooms/display/animation.ts\");\n/* harmony import */ var _utils_helpers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/helpers */ \"./src/utils/helpers.ts\");\n/* harmony import */ var _utils_log__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/log */ \"./src/utils/log.ts\");\n/* harmony import */ var _element__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./element */ \"./src/rooms/element/element.ts\");\n\n\n\n\n\n\n\n\nvar Sprite = /** @class */ (function () {\n    function Sprite(obj, nodeType) {\n        this.mID = obj.id;\n        if (obj.point3f) {\n            var point = obj.point3f;\n            this.mPos = new _utils_pos__WEBPACK_IMPORTED_MODULE_0__[\"Pos\"](point.x, point.y, point.z);\n        }\n        this.mAttrs = obj.attrs;\n        if (obj.avatar) {\n            this.updateAvatar(obj.avatar);\n            // if (attrs && attrs.length > 0) {\n            //     for (const att of attrs) {\n            //         if (att.key === \"minecart\") {\n            //             this.mAvatar.stalkerId = att.value;\n            //         }\n            //     }\n            // }\n        }\n        if (obj.display) {\n            this.updateDisplay(obj.display, obj.animations, obj.currentAnimationName);\n        }\n        if (obj.sn) {\n            this.mSn = obj.sn;\n        }\n        this.tryRegisterAnimation(obj.animationRegistrationMap);\n        this.mCurrentAnimationName = obj.currentAnimationName || \"idle\";\n        this.direction = obj.direction || 3;\n        this.mNickname = obj.nickname;\n        this.mBindID = obj.bindId;\n        this.mAlpha = obj.opacity === undefined ? 1 : obj.opacity / 100;\n        this.mDisplayBadgeCards = obj.displayBadgeCards;\n        this.mNodeType = nodeType;\n        if (obj.version) {\n            this.mVersion = obj.version;\n        }\n        if (obj.isMoss !== undefined) {\n            this.isMoss = obj.isMoss;\n        }\n        this.mMountSprites = obj.mountSprites;\n    }\n    Sprite.prototype.toSprite = function () {\n        var sprite = pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_client\"].Sprite.create();\n        sprite.id = this.id;\n        sprite.nickname = this.mNickname;\n        if (this.mDisplayInfo instanceof _display_frames_model__WEBPACK_IMPORTED_MODULE_3__[\"FramesModel\"]) {\n            sprite.display = this.mDisplayInfo.display;\n            sprite.currentAnimationName = this.currentAnimationName;\n            var point3f = pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].PBPoint3f.create();\n            point3f.x = this.pos.x;\n            point3f.y = this.pos.y;\n            point3f.z = this.pos.z;\n            sprite.point3f = point3f;\n            sprite.animations = this.displayInfo.createProtocolObject();\n        }\n        sprite.direction = this.direction;\n        sprite.bindId = this.bindID;\n        sprite.sn = this.sn;\n        sprite.version = this.mVersion;\n        return sprite;\n    };\n    Sprite.prototype.newID = function () {\n        this.mID = _utils_helpers__WEBPACK_IMPORTED_MODULE_5__[\"default\"].genId();\n    };\n    Sprite.prototype.setPosition = function (x, y) {\n        if (!this.mPos) {\n            this.mPos = new _utils_pos__WEBPACK_IMPORTED_MODULE_0__[\"Pos\"]();\n        }\n        this.mPos.x = x;\n        this.mPos.y = y;\n    };\n    Sprite.prototype.turn = function () {\n        if (!this.mDisplayInfo) {\n            return;\n        }\n        var dirable = this.dirable(this.mCurrentAnimationName);\n        var index = dirable.indexOf(this.mDirection);\n        if (index > -1) {\n            this.direction = dirable[(index + 1) % dirable.length];\n        }\n        else {\n            _utils_log__WEBPACK_IMPORTED_MODULE_6__[\"Logger\"].getInstance().error(Sprite.name + \": error dir \" + this.mDirection);\n        }\n        return this;\n    };\n    Sprite.prototype.updateAvatar = function (avatar) {\n        if (this.mDisplayInfo) {\n            this.mDisplayInfo.destroy();\n        }\n        this.mAvatar = { id: avatar.id };\n        this.mAvatar = Object.assign(this.mAvatar, avatar);\n        this.mDisplayInfo = new _display_dragonbones_model__WEBPACK_IMPORTED_MODULE_1__[\"DragonbonesModel\"](this);\n    };\n    Sprite.prototype.updateDisplay = function (display, animations, defAnimation) {\n        if (!display || !animations) {\n            return;\n        }\n        if (this.mDisplayInfo) {\n            this.mDisplayInfo.destroy();\n        }\n        if (display) {\n            var anis = [];\n            var objAnis = animations;\n            for (var _i = 0, objAnis_1 = objAnis; _i < objAnis_1.length; _i++) {\n                var ani = objAnis_1[_i];\n                anis.push(new _display_animation__WEBPACK_IMPORTED_MODULE_4__[\"Animation\"](ani));\n            }\n            defAnimation = defAnimation || this.mCurrentAnimationName || \"\";\n            this.mDisplayInfo = new _display_frames_model__WEBPACK_IMPORTED_MODULE_3__[\"FramesModel\"]({\n                animations: {\n                    defaultAnimationName: defAnimation,\n                    display: display,\n                    animationData: anis,\n                },\n                id: this.id\n            });\n            if (defAnimation) {\n                this.currentAnimationName = defAnimation;\n            }\n        }\n    };\n    Sprite.prototype.setAnimationQueue = function (queue) {\n        this.mAnimationQueue = queue;\n    };\n    Sprite.prototype.setMountSprites = function (ids) {\n        this.mMountSprites = ids;\n    };\n    Sprite.prototype.updateAttr = function (attrs) {\n        this.mAttrs = attrs;\n    };\n    Sprite.prototype.setAnimationName = function (name) {\n        if (this.mDisplayInfo) {\n            this.mDisplayInfo.animationName = name;\n        }\n        this.mCurrentAnimationName = name;\n        var ani = this.setAnimationData(name, this.direction);\n        return ani;\n    };\n    Object.defineProperty(Sprite.prototype, \"id\", {\n        get: function () {\n            return this.mID;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Sprite.prototype, \"pos\", {\n        get: function () {\n            return this.mPos;\n        },\n        set: function (pos) {\n            this.mPos = pos;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Sprite.prototype, \"avatar\", {\n        get: function () {\n            return this.mAvatar;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Sprite.prototype, \"currentAnimationName\", {\n        get: function () {\n            return this.mCurrentAnimationName;\n        },\n        set: function (animationName) {\n            if (this.mDisplayInfo) {\n                this.mDisplayInfo.animationName = animationName;\n            }\n            this.mCurrentAnimationName = animationName;\n            this.setAnimationData(animationName, this.direction);\n            // this.mCurrentAnimation = this.findAnimation(animationName, this.mDirection);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Sprite.prototype, \"direction\", {\n        get: function () {\n            return this.mDirection;\n        },\n        set: function (val) {\n            this.mDirection = val || 3;\n            if (!this.mDisplayInfo) {\n                return;\n            }\n            this.setAnimationData(this.mCurrentAnimationName, this.mDirection);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Sprite.prototype, \"nickname\", {\n        get: function () {\n            return this.mNickname;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Sprite.prototype, \"bindID\", {\n        get: function () {\n            return this.mBindID;\n        },\n        set: function (id) {\n            this.mBindID = id;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Sprite.prototype, \"sn\", {\n        get: function () {\n            return this.mSn;\n        },\n        set: function (value) {\n            this.mSn = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Sprite.prototype, \"alpha\", {\n        get: function () {\n            return this.mAlpha;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Sprite.prototype, \"package\", {\n        get: function () {\n            return this.mPackage;\n        },\n        set: function (value) {\n            this.mPackage = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Sprite.prototype, \"sceneId\", {\n        get: function () {\n            return this.mSceneId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Sprite.prototype, \"uuid\", {\n        get: function () {\n            return this.mUuid;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Sprite.prototype, \"displayBadgeCards\", {\n        get: function () {\n            return this.mDisplayBadgeCards;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Sprite.prototype, \"platformId\", {\n        get: function () {\n            return this.mPlatformId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Sprite.prototype, \"displayInfo\", {\n        get: function () {\n            return this.mDisplayInfo;\n        },\n        set: function (displayInfo) {\n            this.mDisplayInfo = displayInfo;\n            if (this.currentAnimationName) {\n                this.mDisplayInfo.animationName = this.currentAnimationName;\n                this.setAnimationData(this.currentAnimationName, this.direction);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Sprite.prototype, \"isMoss\", {\n        get: function () {\n            return this.mIsMoss;\n        },\n        set: function (val) {\n            this.mIsMoss = val;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Sprite.prototype, \"animationQueue\", {\n        get: function () {\n            return this.mAnimationQueue;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Sprite.prototype, \"nodeType\", {\n        get: function () {\n            return this.mNodeType;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Sprite.prototype, \"currentAnimation\", {\n        get: function () {\n            return this.mCurrentAnimation;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Sprite.prototype, \"currentCollisionArea\", {\n        get: function () {\n            if (!this.mCurrentCollisionArea) {\n                this.mCurrentCollisionArea = this.getCollisionArea();\n            }\n            return this.mCurrentCollisionArea;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Sprite.prototype, \"currentWalkableArea\", {\n        get: function () {\n            if (!this.mCurrentWalkableArea) {\n                this.mCurrentWalkableArea = this.getWalkableArea();\n            }\n            return this.mCurrentWalkableArea;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Sprite.prototype, \"currentCollisionPoint\", {\n        get: function () {\n            if (!this.mCurrentCollisionPoint) {\n                this.mCurrentCollisionPoint = this.getOriginPoint();\n            }\n            return this.mCurrentCollisionPoint;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Sprite.prototype, \"hasInteractive\", {\n        get: function () {\n            if (!this.mDisplayInfo || !this.mCurrentAnimation) {\n                return false;\n            }\n            var animationName = this.mCurrentAnimation.name;\n            var area = this.mDisplayInfo.getInteractiveArea(animationName);\n            if (area && area.length > 0) {\n                return true;\n            }\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Sprite.prototype, \"mountSprites\", {\n        get: function () {\n            return this.mMountSprites;\n        },\n        set: function (ids) {\n            this.mMountSprites = ids;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Sprite.prototype, \"animationMap\", {\n        get: function () {\n            if (!this.mRegisterAnimation) {\n                this.mRegisterAnimation = new Map();\n            }\n            return this.mRegisterAnimation;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Sprite.prototype, \"originCollisionPoint\", {\n        get: function () {\n            return this._originCollisionPoint;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Sprite.prototype, \"originWalkPoint\", {\n        get: function () {\n            return this._originWalkPoint;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Sprite.prototype, \"attrs\", {\n        get: function () {\n            return this.mAttrs;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Sprite.prototype.setOriginCollisionPoint = function (value) {\n        if (this._originCollisionPoint === undefined) {\n            this._originCollisionPoint = new Phaser.Geom.Point();\n        }\n        if (value && value.length > 1) {\n            this._originCollisionPoint.x = value[0];\n            this._originCollisionPoint.y = value[1];\n        }\n    };\n    Sprite.prototype.setOriginWalkPoint = function (value) {\n        if (this._originWalkPoint === undefined) {\n            this._originWalkPoint = new Phaser.Geom.Point();\n        }\n        if (value && value.length > 1) {\n            this._originWalkPoint.x = value[0];\n            this._originWalkPoint.y = value[1];\n        }\n    };\n    Sprite.prototype.getInteracviveArea = function () {\n        if (!this.mDisplayInfo || !this.mCurrentAnimation) {\n            return;\n        }\n        var animationName = this.mCurrentAnimation.name;\n        return this.mDisplayInfo.getInteractiveArea(animationName);\n    };\n    Sprite.prototype.setAnimationData = function (animationName, direction) {\n        if (!this.displayInfo) {\n            return;\n        }\n        var baseAniName = animationName.split(\"_\")[0];\n        if (this.mRegisterAnimation) {\n            if (this.mRegisterAnimation.has(baseAniName)) {\n                baseAniName = this.mRegisterAnimation.get(baseAniName);\n            }\n        }\n        this.mCurrentAnimation = this.displayInfo.findAnimation(baseAniName, direction);\n        if (this.mAnimationQueue && this.mAnimationQueue.length > 0)\n            this.mCurrentAnimation.playingQueue = this.mAnimationQueue[0];\n        if (this.mCurrentCollisionArea) {\n            this.setArea();\n        }\n        return this.mCurrentAnimation;\n        // Logger.getInstance().log(\"play animation name: \", this.mCurrentAnimation.animationName, this.mCurrentAnimation.flip, this.mDirection);\n        // if (animationName !== this.mCurrentAnimation.animationName) {\n        //     Logger.getInstance().error(`${Sprite.name}: play animationName: ${this.mCurrentAnimation.animationName}, recieve: ${this.mCurrentAnimationName}, direction: ${direction}`);\n        // }\n    };\n    Sprite.prototype.checkDirectionAnimation = function (baseAniName, dir) {\n        var aniName = baseAniName + \"_\" + dir;\n        if (this.mDisplayInfo.existAnimation(aniName)) {\n            return aniName;\n        }\n        return null;\n    };\n    Sprite.prototype.setArea = function () {\n        this.mCurrentCollisionArea = this.getCollisionArea();\n        this.mCurrentWalkableArea = this.getWalkableArea();\n        this.mCurrentCollisionPoint = this.getOriginPoint();\n    };\n    Sprite.prototype.getCollisionArea = function () {\n        if (!this.mDisplayInfo || !this.mCurrentAnimation) {\n            return;\n        }\n        var _a = this.mCurrentAnimation, animationName = _a.name, flip = _a.flip;\n        return this.mDisplayInfo.getCollisionArea(animationName, flip);\n    };\n    Sprite.prototype.getWalkableArea = function () {\n        if (!this.mDisplayInfo || !this.mCurrentAnimation) {\n            return;\n        }\n        var _a = this.mCurrentAnimation, animationName = _a.name, flip = _a.flip;\n        return this.mDisplayInfo.getWalkableArea(animationName, flip);\n    };\n    Sprite.prototype.getOriginPoint = function () {\n        if (!this.mDisplayInfo || !this.mCurrentAnimation) {\n            return;\n        }\n        var _a = this.mCurrentAnimation, animationName = _a.name, flip = _a.flip;\n        return this.mDisplayInfo.getOriginPoint(animationName, flip);\n    };\n    Sprite.prototype.dirable = function (aniName) {\n        var baseAniName = aniName.split(\"_\")[0];\n        var dirs = [3, 5];\n        if (this.checkDirectionAnimation(baseAniName, _element__WEBPACK_IMPORTED_MODULE_7__[\"Direction\"].east_north)) {\n            dirs.push(7, 1);\n            // dirs = [1, 3, 5, 7];\n        }\n        return dirs;\n    };\n    Sprite.prototype.tryRegisterAnimation = function (anis) {\n        if (!anis || anis.length < 1) {\n            return;\n        }\n        this.mRegisterAnimation = new Map();\n        for (var _i = 0, anis_1 = anis; _i < anis_1.length; _i++) {\n            var ani = anis_1[_i];\n            this.mRegisterAnimation.set(ani.key, ani.value);\n        }\n    };\n    return Sprite;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/element/sprite.ts?");

/***/ }),

/***/ "./src/rooms/fall.effect/fall.effect.container.ts":
/*!********************************************************!*\
  !*** ./src/rooms/fall.effect/fall.effect.container.ts ***!
  \********************************************************/
/*! exports provided: FallEffectContainer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FallEffectContainer\", function() { return FallEffectContainer; });\n/* harmony import */ var _fall_effect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./fall.effect */ \"./src/rooms/fall.effect/fall.effect.ts\");\n\nvar FallEffectContainer = /** @class */ (function () {\n    function FallEffectContainer(scene, room) {\n        this.scene = scene;\n        this.room = room;\n        this.mFalls = [];\n    }\n    FallEffectContainer.prototype.addFall = function (pos, enable) {\n        if (!pos) {\n            return;\n        }\n        var fall = new _fall_effect__WEBPACK_IMPORTED_MODULE_0__[\"FallEffect\"](this.scene, this.room.world.scaleRatio);\n        fall.once(\"remove\", this.onRemoveHandler, this);\n        fall.setPosition(pos.x, pos.y);\n        this.room.addToSceneUI(fall);\n    };\n    FallEffectContainer.prototype.onRemoveHandler = function (fall) {\n        if (!fall) {\n            return;\n        }\n    };\n    return FallEffectContainer;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/fall.effect/fall.effect.container.ts?");

/***/ }),

/***/ "./src/rooms/fall.effect/fall.effect.ts":
/*!**********************************************!*\
  !*** ./src/rooms/fall.effect/fall.effect.ts ***!
  \**********************************************/
/*! exports provided: FallEffect */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FallEffect\", function() { return FallEffect; });\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar FallEffect = /** @class */ (function (_super) {\n    __extends(FallEffect, _super);\n    function FallEffect(scene, scaleRatio) {\n        var _this = _super.call(this, scene) || this;\n        _this.scale = scaleRatio;\n        return _this;\n    }\n    FallEffect.prototype.show = function (status) {\n        this.mStatus = status;\n        this.load();\n    };\n    FallEffect.prototype.load = function () {\n        if (this.scene.textures.exists(\"fall_effect\")) {\n            this.onCompleteHandler();\n        }\n        else {\n            this.scene.load.once(Phaser.Loader.Events.COMPLETE, this.onCompleteHandler, this);\n            this.scene.load.atlas(\"fall_effect\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_0__[\"Url\"].getRes(\"ui/fall_effect/falleffect.png\"), _utils_resUtil__WEBPACK_IMPORTED_MODULE_0__[\"Url\"].getRes(\"ui/fall_effect/falleffect.json\"));\n            this.scene.load.start();\n        }\n    };\n    FallEffect.prototype.showEnable = function () {\n        // const config = {\n        //     key: \"fill_effect_enable\",\n        //     frames: this.scene.anims.generateFrameNames(\"fall_effect\", { prefix: \"enable\", end: 6, zeroPad: 2 }),\n        //     frameRate: 8,\n        //     repeat: 0\n        // };\n        // this.mDisplay.setPosition(25, -25);\n        // this.scene.anims.create(config);\n        // this.mDisplay.play(\"fill_effect_enable\");\n        this.mDisplay = new EnableDisplay(this.scene, \"fall_effect\");\n        this.add(this.mDisplay);\n    };\n    FallEffect.prototype.showDisable = function () {\n        // this.mDisplay = this.scene.make.sprite({\n        //     key: \"fall_effect\",\n        //     frame: \"forbid\"\n        // }, false).setScale(0.5);\n        this.mDisplay = new DisableDisplay(this.scene, \"fall_effect\");\n        this.add(this.mDisplay);\n    };\n    FallEffect.prototype.onCompleteHandler = function () {\n        // this.mDisplay = this.scene.make.sprite({\n        //     key: \"fall_effect\",\n        // }, false);\n        // this.add(this.mDisplay);\n        var _this = this;\n        if (this.mStatus === pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].PathReachableStatus.PATH_REACHABLE_AREA || this.mStatus === pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].PathReachableStatus.PATH_REACHABLE_WITH_INTERACTION_SPRITE) {\n            this.showEnable();\n        }\n        else {\n            this.showDisable();\n        }\n        // if (this.mType === FallType.Enable) {\n        //     this.createEnable();\n        // } else {\n        //     this.createDisable();\n        // }\n        this.scene.tweens.add({\n            targets: this,\n            duration: 1000,\n            ease: \"Expo\",\n            delay: 1000,\n            props: { alpha: 0 },\n            onComplete: function () {\n                _this.destroy();\n                _this.emit(\"remove\", _this);\n            }\n        });\n    };\n    return FallEffect;\n}(Phaser.GameObjects.Container));\n\nvar EnableDisplay = /** @class */ (function (_super) {\n    __extends(EnableDisplay, _super);\n    function EnableDisplay(scene, key) {\n        var _this = _super.call(this, scene) || this;\n        _this.mImage = scene.make.sprite({\n            key: key,\n            x: 9,\n            y: -20\n        }, false).setScale(0.5);\n        _this.add(_this.mImage);\n        // const tween = this.scene.tweens.add({\n        //     targets: this.mImage,\n        //     duration: 1000,\n        //     delay: 600,\n        //     props: {\n        //         alpha: 0.6\n        //     },\n        //     onComplete: () => {\n        //         tween.destroy();\n        //         this.mImage.destroy();\n        //         this.mImage = undefined;\n        //     }\n        // })\n        // this.mEllipse = scene.make.graphics(undefined, false);\n        // this.mEllipse.fillStyle(0, 0.6);\n        // this.mEllipse.fillEllipse(0, 0, 30, 15)\n        _this.mEllipse = scene.make.sprite(undefined, false);\n        _this.addAt(_this.mEllipse, 0);\n        var config = {\n            key: \"fill_effect_enable\",\n            frames: _this.scene.anims.generateFrameNames(\"fall_effect\", { prefix: \"enable\", end: 6, zeroPad: 2 }),\n            frameRate: 16,\n            repeat: 0\n        };\n        _this.scene.anims.create(config);\n        _this.mImage.play(\"fill_effect_enable\");\n        var ellipseConfig = {\n            key: \"fill_effect_ellipse\",\n            frames: _this.scene.anims.generateFrameNames(\"fall_effect\", { prefix: \"ellipse\", end: 7, zeroPad: 2 }),\n            frameRate: 10,\n            repeat: 0\n        };\n        _this.scene.anims.create(ellipseConfig);\n        _this.mEllipse.play(\"fill_effect_ellipse\");\n        return _this;\n    }\n    return EnableDisplay;\n}(Phaser.GameObjects.Container));\nvar DisableDisplay = /** @class */ (function (_super) {\n    __extends(DisableDisplay, _super);\n    function DisableDisplay(scene, key) {\n        var _this = _super.call(this, scene) || this;\n        _this.mImage = scene.make.image({\n            key: key,\n            y: -6,\n            frame: \"disable\",\n        }, false).setScale(0.5);\n        _this.add(_this.mImage);\n        _this.mEllipse = scene.make.image({\n            key: key,\n            frame: \"forbid\"\n        }, false).setScale(0.5);\n        _this.add([_this.mImage, _this.mEllipse]);\n        return _this;\n    }\n    return DisableDisplay;\n}(Phaser.GameObjects.Container));\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/fall.effect/fall.effect.ts?");

/***/ }),

/***/ "./src/rooms/group/FollowGroup.ts":
/*!****************************************!*\
  !*** ./src/rooms/group/FollowGroup.ts ***!
  \****************************************/
/*! exports provided: FollowGroup */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FollowGroup\", function() { return FollowGroup; });\n/* harmony import */ var _Handler_HandlerDispatcher__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Handler/HandlerDispatcher */ \"./src/Handler/HandlerDispatcher.ts\");\n/* harmony import */ var _GroupManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GroupManager */ \"./src/rooms/group/GroupManager.ts\");\n\n\nvar FollowGroup = /** @class */ (function () {\n    function FollowGroup() {\n        this.groupType = _GroupManager__WEBPACK_IMPORTED_MODULE_1__[\"GroupType\"].Follow;\n        this.eventDisp = new _Handler_HandlerDispatcher__WEBPACK_IMPORTED_MODULE_0__[\"HandlerDispatcher\"]();\n        this.childs = [];\n    }\n    FollowGroup.prototype.addChild = function (child) {\n        this.removeChild(child);\n        this.childs.push(child);\n    };\n    FollowGroup.prototype.removeChild = function (child) {\n        var index = this.childs.indexOf(child);\n        if (index !== -1) {\n            this.childs.splice(index, 1);\n        }\n    };\n    FollowGroup.prototype.replaceOwner = function (owner) {\n        this.owner = owner;\n        this.eventDisp.emitter(_GroupManager__WEBPACK_IMPORTED_MODULE_1__[\"GroupEventType\"].REPLACE_TYPE, owner);\n    };\n    FollowGroup.prototype.emitter = function (type, data) {\n        if (!type)\n            type = _GroupManager__WEBPACK_IMPORTED_MODULE_1__[\"GroupEventType\"].DEFAULT_TYPE;\n        this.eventDisp.emitter(type, data);\n    };\n    FollowGroup.prototype.on = function (type, caller, method, args) {\n        this.eventDisp.on(type, caller, method, args);\n    };\n    FollowGroup.prototype.off = function (type, caller, method) {\n        this.eventDisp.off(type, caller, method);\n    };\n    FollowGroup.prototype.destroy = function () {\n        this.eventDisp.destroy();\n        this.childs.length = 0;\n        this.owner = null;\n        this.data = null;\n    };\n    return FollowGroup;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/group/FollowGroup.ts?");

/***/ }),

/***/ "./src/rooms/group/GroupManager.ts":
/*!*****************************************!*\
  !*** ./src/rooms/group/GroupManager.ts ***!
  \*****************************************/
/*! exports provided: GroupManager, GroupType, GroupEventType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GroupManager\", function() { return GroupManager; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GroupType\", function() { return GroupType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GroupEventType\", function() { return GroupEventType; });\n/* harmony import */ var _FollowGroup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FollowGroup */ \"./src/rooms/group/FollowGroup.ts\");\n\nvar GroupManager = /** @class */ (function () {\n    function GroupManager(room) {\n        this.room = room;\n        this.map = new Map();\n    }\n    GroupManager.prototype.createGroup = function (owner, groupType) {\n        if (!this.hasGroup(owner, groupType)) {\n            var groups = this.map.get(owner);\n            var group = void 0;\n            if (!groups) {\n                groups = [];\n                this.map.set(owner, groups);\n            }\n            if (groupType === GroupType.Follow) {\n                var item = new _FollowGroup__WEBPACK_IMPORTED_MODULE_0__[\"FollowGroup\"]();\n                item.owner = owner;\n                groups.push(item);\n                group = item;\n            }\n            return group;\n        }\n    };\n    GroupManager.prototype.getGroup = function (owner, groupType) {\n        var group;\n        if (this.map.has(owner)) {\n            var groups = this.map.get(owner);\n            for (var _i = 0, groups_1 = groups; _i < groups_1.length; _i++) {\n                var item = groups_1[_i];\n                if (item.groupType === groupType) {\n                    group = item;\n                    return group;\n                }\n            }\n        }\n        return group;\n    };\n    GroupManager.prototype.hasGroup = function (owner, groupType) {\n        var group = this.getGroup(owner, groupType);\n        if (group)\n            return true;\n        return false;\n    };\n    GroupManager.prototype.destroy = function () {\n        this.map.forEach(function (value, key) {\n            for (var _i = 0, value_1 = value; _i < value_1.length; _i++) {\n                var item = value_1[_i];\n                item.destroy();\n            }\n            value.length = 0;\n        });\n        this.map.clear();\n    };\n    return GroupManager;\n}());\n\nvar GroupType;\n(function (GroupType) {\n    GroupType[GroupType[\"Follow\"] = 1] = \"Follow\";\n})(GroupType || (GroupType = {}));\nvar GroupEventType;\n(function (GroupEventType) {\n    GroupEventType[\"DEFAULT_TYPE\"] = \"DEFAULT_TYPE\";\n    GroupEventType[\"REPLACE_TYPE\"] = \"REPLACE_TYPE\";\n})(GroupEventType || (GroupEventType = {}));\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/group/GroupManager.ts?");

/***/ }),

/***/ "./src/rooms/http.clock.ts":
/*!*********************************!*\
  !*** ./src/rooms/http.clock.ts ***!
  \*********************************/
/*! exports provided: HttpClock */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HttpClock\", function() { return HttpClock; });\n/* harmony import */ var _ui_components_alert_view__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ui/components/alert.view */ \"./src/ui/components/alert.view.ts\");\n\n/**\n * 5min\n */\nvar HttpClock = /** @class */ (function () {\n    function HttpClock(world) {\n        this.world = world;\n        // private readonly interval = 300000;\n        this.interval = 60000;\n        this.mTimestamp = 0;\n        this.httpService = world.httpService;\n    }\n    HttpClock.prototype.update = function (time, delta) {\n        if (this.mEnable === false) {\n            return;\n        }\n        if (this.mTimestamp > this.interval) {\n            this.sync();\n            this.mTimestamp = 0;\n        }\n        this.mTimestamp += delta;\n    };\n    HttpClock.prototype.allowLogin = function (callback) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            _this.fetch().then(function (response) {\n                var code = response.code, data = response.data;\n                if (code === 0) {\n                    if (!_this.allowedPeriod(data, callback)) {\n                        resolve(false);\n                    }\n                    if (!_this.checkTimeAllowed(data, callback)) {\n                        resolve(false);\n                    }\n                    resolve(true);\n                }\n            });\n        });\n    };\n    HttpClock.prototype.fetch = function () {\n        return this.world.httpService.playedDuration(\"831dabefd919aa6259c25f9322fa57b88050d526\", this.world.getConfig().game_id);\n    };\n    HttpClock.prototype.sync = function () {\n        var _this = this;\n        this.fetch().then(function (response) {\n            var code = response.code, data = response.data;\n            if (code === 0) {\n                if (!_this.checkTimeAllowed(data) || !_this.allowedPeriod(data)) {\n                    _this.world.connection.closeConnect();\n                }\n            }\n        });\n    };\n    HttpClock.prototype.allowedPeriod = function (data, callback) {\n        if (data.in_allowed_period) {\n            return true;\n        }\n        this.showAlert(\"[color=#ff0000][size=\" + 16 * this.world.uiRatio + \"]\\u60A8\\u7684\\u8D26\\u53F7\\u5C5E\\u4E8E\\u672A\\u6210\\u5E74[/size][/color]\\n\\u6BCF\\u65E522:00~\\u6B21\\u65E58:00\\u662F\\u4F11\\u606F\\u65F6\\u95F4\\uFF0C\\u6839\\u636E\\u76F8\\u5173\\u89C4\\u5B9A\\uFF0C\\u8BE5\\u65F6\\u95F4\\u4E0D\\u53EF\\u767B\\u5F55\\u6E38\\u620F\\uFF0C\\u8BF7\\u6CE8\\u610F\\u4F11\\u606F\\u54E6\\uFF01\", callback);\n        return false;\n    };\n    HttpClock.prototype.checkTimeAllowed = function (data, callback) {\n        if (data.time_played >= data.max_time_allowed) {\n            this.showAlert(\"[color=#ff0000][size=\" + 16 * this.world.uiRatio + \"]\\u60A8\\u7684\\u8D26\\u53F7\\u5C5E\\u4E8E\\u672A\\u6210\\u5E74[/size][/color]\\n\\u4ECA\\u65E5\\u7D2F\\u8BA1\\u65F6\\u957F\\u5DF2\\u8D85\\u8FC7\" + (data.time_played / 3600).toFixed(1) + \"\\u5C0F\\u65F6\\uFF01\", callback);\n            return false;\n        }\n        return true;\n    };\n    HttpClock.prototype.showAlert = function (text, callback) {\n        var uiLayer = this.world.uiManager.getUILayerManager();\n        new _ui_components_alert_view__WEBPACK_IMPORTED_MODULE_0__[\"AlertView\"](uiLayer.scene, this.world).show({\n            text: text,\n            callback: callback,\n            btns: _ui_components_alert_view__WEBPACK_IMPORTED_MODULE_0__[\"Buttons\"].Ok,\n            title: \"\"\n        });\n    };\n    Object.defineProperty(HttpClock.prototype, \"enable\", {\n        set: function (val) {\n            this.mEnable = val;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return HttpClock;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/http.clock.ts?");

/***/ }),

/***/ "./src/rooms/layer/grid.layer.ts":
/*!***************************************!*\
  !*** ./src/rooms/layer/grid.layer.ts ***!
  \***************************************/
/*! exports provided: GridLayer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GridLayer\", function() { return GridLayer; });\n/* harmony import */ var _utils_pos__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/pos */ \"./src/utils/pos.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar GridLayer = /** @class */ (function (_super) {\n    __extends(GridLayer, _super);\n    function GridLayer(scene) {\n        return _super.call(this, scene) || this;\n    }\n    GridLayer.prototype.draw = function (room) {\n        this.clear();\n        if (!room || !room.roomSize)\n            return;\n        this.lineStyle(1, 0xFFFFFF);\n        var rows = room.roomSize.rows;\n        var cols = room.roomSize.cols;\n        for (var i = 0; i <= rows; i++) {\n            this.drawLine(room.transformTo90(new _utils_pos__WEBPACK_IMPORTED_MODULE_0__[\"Pos\"](0, i)), room.transformTo90(new _utils_pos__WEBPACK_IMPORTED_MODULE_0__[\"Pos\"](cols, i)));\n        }\n        for (var i = 0; i <= cols; i++) {\n            this.drawLine(room.transformTo90(new _utils_pos__WEBPACK_IMPORTED_MODULE_0__[\"Pos\"](i, 0)), room.transformTo90(new _utils_pos__WEBPACK_IMPORTED_MODULE_0__[\"Pos\"](i, rows)));\n        }\n    };\n    GridLayer.prototype.drawLine = function (startPos, endPos) {\n        // this.moveTo(startPos.x, startPos.y);\n        // this.lineTo(endPos.x, endPos.y);\n        this.lineBetween(startPos.x, startPos.y, endPos.x, endPos.y);\n    };\n    return GridLayer;\n}(Phaser.GameObjects.Graphics));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/layer/grid.layer.ts?");

/***/ }),

/***/ "./src/rooms/layer/layer.manager.ts":
/*!******************************************!*\
  !*** ./src/rooms/layer/layer.manager.ts ***!
  \******************************************/
/*! exports provided: LayerManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LayerManager\", function() { return LayerManager; });\n/* harmony import */ var _grid_layer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./grid.layer */ \"./src/rooms/layer/grid.layer.ts\");\n\nvar LayerManager = /** @class */ (function () {\n    function LayerManager(room) {\n        this.room = room;\n        this.mSurfaceInteractived = true;\n        this.mDelta = 0;\n        var zoom = 1;\n        if (!room) {\n            return;\n        }\n        if (room.world) {\n            zoom = room.world.scaleRatio;\n        }\n        this.mScene = room.scene;\n        // ==========\n        this.mGroundClickLayer = this.mScene.add.container(0, 0);\n        // this.totalLayerList.push(this.mGroundClickLayer);\n        this.mUGroundLayer2 = this.mScene.add.container(0, 0);\n        // ==========\n        this.mGroundLayer = this.mScene.add.container(0, 0).setScale(zoom);\n        this.mTileLayer = new _grid_layer__WEBPACK_IMPORTED_MODULE_0__[\"GridLayer\"](this.mScene).setScale(zoom);\n        this.mScene.sys.displayList.add(this.mTileLayer);\n        this.mMiddleLayer = this.mScene.add.container(0, 0).setScale(zoom);\n        this.mSurfaceLayer = this.mScene.add.container(0, 0).setScale(zoom);\n        this.mAtmosphere = this.mScene.add.container(0, 0);\n        // ==========UI\n        this.mSceneUILayer = this.mScene.add.container(0, 0);\n        this.mUILayer = this.mScene.add.container(0, 0).setScrollFactor(0);\n        // this.mUILayer.setInteractive(new Geom.Rectangle(0, 0, window.innerWidth, window.innerHeight), Phaser.Geom.Rectangle.Contains);\n    }\n    LayerManager.prototype.addToGround = function (ele, index) {\n        if (index !== undefined) {\n            this.mGroundLayer.addAt(ele, index);\n        }\n        else {\n            if (Array.isArray(ele)) {\n                this.mGroundLayer.add(ele);\n            }\n            else {\n                this.mGroundLayer.add([ele]);\n            }\n        }\n        // this.mGroundLayer.add(Array.from(tmp, (display: ElementDisplay) => display.GameObject));\n        // Logger.log(\"terrain num: \", this.mGroundLayer.list.length);\n    };\n    LayerManager.prototype.addToSurface = function (ele) {\n        if (Array.isArray(ele)) {\n            this.mSurfaceLayer.add(ele);\n        }\n        else {\n            this.mSurfaceLayer.add([ele]);\n        }\n        // Logger.log(\"surface num: \", this.mSurfaceLayer.list.length);\n        // this.mSurfaceLayer.add(Array.from(tmp, (display: ElementDisplay) => display.GameObject));\n    };\n    LayerManager.prototype.addToSceneToUI = function (child) {\n        this.mSceneUILayer.add(child);\n    };\n    LayerManager.prototype.addToUI = function (child) {\n        this.mUILayer.add(child);\n    };\n    LayerManager.prototype.addToAtmosphere = function (child) {\n        this.mAtmosphere.add(child);\n    };\n    LayerManager.prototype.addToMiddle = function (child) {\n        this.mMiddleLayer.add(child);\n    };\n    LayerManager.prototype.resize = function (width, height) {\n        // todo\n    };\n    LayerManager.prototype.addMouseListen = function () {\n        // this.mGroundClickLayer.setInteractive(new Geom.Rectangle(0, 0, window.innerWidth, window.innerHeight), Phaser.Geom.Rectangle.Contains);\n    };\n    LayerManager.prototype.sortSurface = function () {\n        this.mSurfaceLayer.sort(\"depth\");\n    };\n    LayerManager.prototype.changeScene = function () {\n        this._clearLayer();\n    };\n    LayerManager.prototype.drawGrid = function (room) {\n        if (this.mTileLayer) {\n            this.mTileLayer.draw(room);\n        }\n    };\n    LayerManager.prototype.setGridVisible = function (visible) {\n        if (this.mTileLayer) {\n            this.mTileLayer.setVisible(visible);\n        }\n    };\n    LayerManager.prototype.update = function (time, delta) {\n        // if (time - this.mDelta < 3000) {\n        //     return;\n        // }\n        this.mDelta = time;\n        if (this.mDepthGround) {\n            this.mGroundLayer.sort(\"depth\");\n            this.mDepthGround = false;\n        }\n        if (this.mDepthSurface) {\n            this.mDepthSurface = false;\n            // this.mSurfaceLayer.sort(\"depth\");\n            this.mSurfaceLayer.sort(\"depth\", function (displayA, displayB) {\n                // Logger.debug(displayA, displayB);\n                // const sortA = displayA.sortRectangle;\n                // const sortB = displayB.sortRectangle;\n                // Logger.log(\"sort x: \", displayA, displayA.sortX, displayA.sortY);\n                // Logger.log(\"sortB: \", displayB, displayB.sortX, displayB.sortY);\n                var depthA = displayA.depth ? displayA.depth : 0;\n                var depthB = displayB.depth ? displayB.depth : 0;\n                if (depthA > depthB) {\n                    return 1;\n                }\n                // ---------------\n                var angle = Math.atan2(displayA.sortY - displayB.sortY, displayA.sortX - displayB.sortX);\n                if (angle * (180 * Math.PI) >= 70) {\n                    return 1;\n                }\n                // if (displayA.sortY > displayB.sortY) {\n                //     return 1;\n                // }\n                // if (displayB.y + sortB.top.y > displayA.y + sortA.left.y) {\n                //     return 1;\n                // }\n                return -1;\n            });\n        }\n    };\n    LayerManager.prototype.setSurfaceInteractive = function (val) {\n        if (this.mSurfaceInteractived === val) {\n            return;\n        }\n        this.mSurfaceInteractived = val;\n        var list = this.mSurfaceLayer.list;\n        if (val) {\n            // this.mSurfaceLayer.setInteractive();\n            list.forEach(function (obj) {\n                obj.setInteractive();\n            });\n        }\n        else {\n            list.forEach(function (obj) {\n                obj.disableInteractive();\n            });\n            // this.mSurfaceLayer.disableInteractive();\n        }\n    };\n    LayerManager.prototype.destroy = function () {\n        this.mDelta = 0;\n        this._clearLayer();\n    };\n    LayerManager.prototype._clearLayer = function () {\n        this.clearLayer(this.mGroundClickLayer);\n        this.clearLayer(this.mGroundLayer);\n        this.clearLayer(this.mSurfaceLayer);\n        this.clearLayer(this.mUGroundLayer2);\n        this.clearLayer(this.mUILayer);\n        this.clearLayer(this.mAtmosphere);\n        this.mTileLayer.destroy(true);\n    };\n    LayerManager.prototype.clearLayer = function (container, destroy) {\n        if (destroy === void 0) { destroy = false; }\n        var list = container.list;\n        if (list) {\n            var len = list.length;\n            var child = void 0;\n            for (var i = 0; i < len; i++) {\n                child = list[i];\n                if (child) {\n                    child.destroy(destroy);\n                    child = null;\n                }\n            }\n        }\n        container.destroy(destroy);\n    };\n    Object.defineProperty(LayerManager.prototype, \"depthSurfaceDirty\", {\n        set: function (val) {\n            this.mDepthSurface = val;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(LayerManager.prototype, \"depthGroundDirty\", {\n        set: function (val) {\n            this.mDepthGround = val;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(LayerManager.prototype, \"layer\", {\n        get: function () {\n            return this.mGroundLayer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return LayerManager;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/layer/layer.manager.ts?");

/***/ }),

/***/ "./src/rooms/player/Actor.ts":
/*!***********************************!*\
  !*** ./src/rooms/player/Actor.ts ***!
  \***********************************/
/*! exports provided: Actor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Actor\", function() { return Actor; });\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _player__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./player */ \"./src/rooms/player/player.ts\");\n/* harmony import */ var _bag_bag__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./bag/bag */ \"./src/rooms/player/bag/bag.ts\");\n/* harmony import */ var _interactive_interactive__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./interactive/interactive */ \"./src/rooms/player/interactive/interactive.ts\");\n/* harmony import */ var _friend_friend__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./friend/friend */ \"./src/rooms/player/friend/friend.ts\");\n/* harmony import */ var _element_element__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../element/element */ \"./src/rooms/element/element.ts\");\n/* harmony import */ var _ui_ControlF_ControlFMediator__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../ui/ControlF/ControlFMediator */ \"./src/ui/ControlF/ControlFMediator.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\nvar Actor = /** @class */ (function (_super) {\n    __extends(Actor, _super);\n    function Actor(sprite, mElementManager) {\n        var _this = _super.call(this, sprite, mElementManager) || this;\n        _this.mElementManager = mElementManager;\n        _this.mBlockable = false;\n        // this.mRenderable = true; // Actor is always renderable!!!\n        // this.addDisplay();\n        _this.mRoom = _this.mElementManager.roomService;\n        if (_this.mRoom.world.inputManager)\n            _this.mRoom.world.inputManager.addListener(_this);\n        // if (this.mElementManager) {\n        //     const roomService = this.mElementManager.roomService;\n        //     if (roomService && roomService.cameraService) {\n        //         roomService.cameraService.startFollow(this.getDisplay());\n        //         roomService.cameraService.syncCameraScroll();\n        //     }\n        // }\n        if (_this.mElementManager) {\n            var roomService = _this.mElementManager.roomService;\n            if (roomService && roomService.cameraService) {\n                var pos = sprite.pos;\n                var size = _this.mElementManager.scene.scale;\n                roomService.cameraService.setScroll(pos.x * roomService.world.scaleRatio - size.width / 2, pos.y * roomService.world.scaleRatio - size.height / 2);\n                roomService.cameraService.syncCameraScroll();\n            }\n        }\n        _this.mFriend = new _friend_friend__WEBPACK_IMPORTED_MODULE_5__[\"Friend\"](_this.mRoom.world);\n        _this.mRoom.playerManager.set(_this.id, _this);\n        _this.mInteractive = new _interactive_interactive__WEBPACK_IMPORTED_MODULE_4__[\"Interactive\"](mElementManager.roomService.world);\n        _this.mInteractive.register();\n        return _this;\n    }\n    Actor.prototype.getBag = function () {\n        return this.mBag;\n    };\n    Actor.prototype.getFriend = function () {\n        return this.mFriend;\n    };\n    Actor.prototype.getInteractive = function () {\n        return this.mInteractive;\n    };\n    // override super's method.\n    Actor.prototype.setRenderable = function (isRenderable) {\n        // do nothing!\n        // Actor is always renderable!!!\n    };\n    Actor.prototype.destroy = function () {\n        if (this.mBag) {\n            this.mBag.destroy();\n            this.mBag = null;\n        }\n        if (this.mRoom.world.inputManager)\n            this.mRoom.world.inputManager.removeListener(this);\n        _super.prototype.destroy.call(this);\n    };\n    Actor.prototype.downHandler = function (d, keyList) {\n        if (!this.mDisplay) {\n            return;\n        }\n        this.mRoom.playerManager.requestActorMove(d, keyList); // startActorMove();\n    };\n    Actor.prototype.upHandler = function () {\n        // this.mRoom.playerManager.stopActorMove();\n        if (!this.mDisplay) {\n            return;\n        }\n        this.stopMove();\n    };\n    Actor.prototype.startMove = function () {\n        _super.prototype.startMove.call(this);\n        var med = this.mRoom.world.uiManager.getMediator(_ui_ControlF_ControlFMediator__WEBPACK_IMPORTED_MODULE_7__[\"ControlFMediator\"].NAME);\n        if (med)\n            med.hide();\n    };\n    Actor.prototype.stopMove = function () {\n        _super.prototype.stopMove.call(this);\n        if (this.mRoom && this.mRoom.world.moveStyle === pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].MoveStyle.DIRECTION_MOVE_STYLE) {\n            var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_STOP_SPRITE);\n            var ct = pkt.content;\n            ct.nodeType = this.nodeType;\n            var pos = this.getPosition();\n            ct.spritePositions = {\n                id: this.id,\n                point3f: {\n                    x: pos.x,\n                    y: pos.y,\n                    z: pos.z,\n                },\n                direction: this.dir\n            };\n            // Logger.getInstance().debug(\"nowPox:\" + pos.x + \",\" + pos.y);\n            this.mElementManager.connection.send(pkt);\n        }\n    };\n    Actor.prototype.move = function (moveData) {\n        // TODO walk, run\n        if (this.mRoom.world.moveStyle === pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].MoveStyle.DIRECTION_MOVE_STYLE) {\n            if (this.mCurState !== _element_element__WEBPACK_IMPORTED_MODULE_6__[\"PlayerState\"].WALK) {\n                return;\n            }\n        }\n        else {\n            this.startMove();\n        }\n        _super.prototype.move.call(this, moveData);\n    };\n    Actor.prototype.movePath = function (movePath) {\n        if (this.mRoom.world.moveStyle === pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].MoveStyle.DIRECTION_MOVE_STYLE) {\n            if (this.mCurState !== _element_element__WEBPACK_IMPORTED_MODULE_6__[\"PlayerState\"].WALK) {\n                return;\n            }\n        }\n        // movePath.path = [{ x: 885.000000, y: 637.50000}, { x: 915.000000, y: 637.50000}, { x: 945.000000, y: 637.50000}, { x: 975.000000, y: 637.50000}, { x: 1005.00000, y: 637.50000}, { x: 1035.00000, y: 637.50000}, { x: 1065.00000, y: 637.50000}, { x: 1080.00000, y: 645.00000}, { x: 1095.00000, y: 652.50000}, { x: 1110.00000, y: 660.00000}, { x: 1125.00000, y: 667.50000}, { x: 1140.00000, y: 675.00000}, { x: 1155.00000, y: 682.50000}, { x: 1170.00000, y: 690.00000}];\n        // movePath.path = [{x: 1140.00000, y: 495.000000}, {x: 1125.00000, y: 502.500000}, {x: 1110.00000, y: 510.000000}, {x: 1095.00000, y: 517.500000}, {x: 1080.00000, y: 525.000000}, {x: 1065.00000, y: 532.500000}, {x: 1050.00000, y: 540.000000}, {x: 1035.00000, y: 547.500000}];\n        // movePath.timestemp = 3965;\n        var path = movePath.path;\n        var now = this.mElementManager.roomService.now();\n        var duration = 0;\n        var pathAry = path.map(function (value) {\n            now += duration;\n            duration = value.timestemp - now;\n            return {\n                x: value.point3f.x, y: value.point3f.y,\n                duration: duration,\n                timestemp: value.timestemp\n            };\n        });\n        // this.drawPath(movePath.path);\n        _super.prototype.movePath.call(this, movePath);\n    };\n    Actor.prototype.onMoveComplete = function () {\n        this.preMoveComplete();\n        if (this.mCurState !== _element_element__WEBPACK_IMPORTED_MODULE_6__[\"PlayerState\"].WALK) {\n            this.mMoveData.tweenAnim.stop();\n            return;\n        }\n        if (this.mRoom.world.moveStyle !== pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].MoveStyle.DIRECTION_MOVE_STYLE) {\n            this.changeState(_element_element__WEBPACK_IMPORTED_MODULE_6__[\"PlayerState\"].IDLE);\n            this.stopMove();\n        }\n        this._doMove();\n    };\n    Actor.prototype.onMoving = function () {\n        if (this.mCurState !== _element_element__WEBPACK_IMPORTED_MODULE_6__[\"PlayerState\"].WALK) {\n            this.mMoveData.tweenLineAnim.stop();\n            return;\n        }\n        _super.prototype.onMoving.call(this);\n    };\n    Actor.prototype.addToBlock = function () {\n        this.addDisplay();\n    };\n    Actor.prototype.drawPath = function (pos) {\n        // if (!pos && pos.length > 0) {\n        //     return;\n        // }\n        // if (!this.mMovePath) {\n        //     this.mMovePath = this.mElementManager.scene.make.graphics(undefined, false);\n        // }\n        // this.mMovePath.clear();\n        // this.mMovePath.lineStyle(2, 0xFFFF00);\n        // this.mMovePath.moveTo(pos[0].point3f.x, pos[0].point3f.y);\n        // let point3f = null;\n        // for (const point of pos) {\n        //     point3f = point.point3f;\n        //     if (point3f) this.mMovePath.lineTo(point3f.x, point3f.y);\n        // }\n        // this.mMovePath.strokePath();\n        // this.mRoom.addToSurface(<any> this.mMovePath);\n    };\n    Object.defineProperty(Actor.prototype, \"model\", {\n        get: function () {\n            return this.mModel;\n        },\n        set: function (val) {\n            this.mModel = val;\n            if (!val) {\n                return;\n            }\n            if (val.package) {\n                this.mPackage = val.package;\n                this.mBag = new _bag_bag__WEBPACK_IMPORTED_MODULE_3__[\"Bag\"](this.mElementManager.roomService.world);\n                this.mBag.register();\n            }\n            this.load(this.mModel.displayInfo);\n            if (this.mModel.pos)\n                this.setPosition(this.mModel.pos);\n            this.mDisplay.changeAlpha(this.mModel.alpha);\n            if (this.mModel.nickname)\n                this.mDisplay.showNickname(this.mModel.nickname);\n            this.setDirection(this.mModel.direction);\n            // if (this.mElementManager) {\n            //     const roomService = this.mElementManager.roomService;\n            //     if (roomService && roomService.cameraService) {\n            //         roomService.cameraService.startFollow(this.mDisplay);\n            //     }\n            // }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Actor.prototype, \"package\", {\n        get: function () {\n            return this.mPackage;\n        },\n        set: function (value) {\n            this.mPackage = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Actor.prototype, \"moveTime\", {\n        set: function (val) {\n            this.mMoveTime = val;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Actor.prototype, \"moveData\", {\n        get: function () {\n            return this.mMoveData;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Actor;\n}(_player__WEBPACK_IMPORTED_MODULE_2__[\"Player\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/player/Actor.ts?");

/***/ }),

/***/ "./src/rooms/player/bag/bag.ts":
/*!*************************************!*\
  !*** ./src/rooms/player/bag/bag.ts ***!
  \*************************************/
/*! exports provided: Bag */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Bag\", function() { return Bag; });\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _const_MessageType__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../const/MessageType */ \"./src/const/MessageType.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar Bag = /** @class */ (function (_super) {\n    __extends(Bag, _super);\n    function Bag(mWorld) {\n        var _this = _super.call(this) || this;\n        _this.mWorld = mWorld;\n        _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_ADD_ITEM, _this.handleAddItem);\n        _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_REMOVE_ITEM, _this.handleRemoveItem);\n        _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_EXCHANGE_ITEM_POS, _this.handleExchangeItem);\n        _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_QUERY_PACKAGE, _this.handleQueryPackage);\n        return _this;\n    }\n    Bag.prototype.initialize = function () {\n        return this.mInitialize;\n    };\n    Bag.prototype.register = function () {\n        this.mWorld.connection.addPacketListener(this);\n    };\n    Bag.prototype.unRegister = function () {\n        this.mWorld.connection.removePacketListener(this);\n    };\n    Bag.prototype.destroy = function () {\n        this.mInitialize = false;\n        this.mWorld.connection.removePacketListener(this);\n    };\n    Bag.prototype.requestVirtualWorldQueryPackage = function (bagId, page, perPage) {\n        var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_QUERY_PACKAGE);\n        var content = pkt.content;\n        content.id = bagId;\n        content.page = page;\n        content.perPage = perPage;\n        this.mWorld.connection.send(pkt);\n    };\n    Bag.prototype.handleQueryPackage = function (packet) {\n        var notice = packet.content;\n        this.mInitialize = true;\n        this.mWorld.emitter.emit(_const_MessageType__WEBPACK_IMPORTED_MODULE_2__[\"MessageType\"].QUERY_PACKAGE, notice);\n    };\n    Bag.prototype.handleAddItem = function (packet) {\n        var content = packet.content;\n        if (content.nodetype === pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].NodeType.ElementNodeType) {\n            // this.mWorld.roomManager.currentRoom.map.addPackItems(content.id, content.item);\n        }\n        else if (content.nodetype === pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].NodeType.CharacterNodeType) {\n            this.mWorld.roomManager.currentRoom.playerManager.addPackItems(content.id, content.item);\n        }\n        this.mWorld.emitter.emit(_const_MessageType__WEBPACK_IMPORTED_MODULE_2__[\"MessageType\"].PACKAGE_ITEM_ADD, content);\n    };\n    Bag.prototype.handleRemoveItem = function (packet) {\n        var content = packet.content;\n        var len = content.itemId.length;\n        for (var i = 0; i < len; i++) {\n            this.mWorld.roomManager.currentRoom.playerManager.removePackItems(content.id, content.itemId[i]);\n        }\n        this.mWorld.emitter.emit(_const_MessageType__WEBPACK_IMPORTED_MODULE_2__[\"MessageType\"].UPDATED_CHARACTER_PACKAGE);\n        this.mWorld.emitter.emit(_const_MessageType__WEBPACK_IMPORTED_MODULE_2__[\"MessageType\"].PACKAGE_ITEM_REMOVE, content);\n    };\n    Bag.prototype.handleExchangeItem = function (packet) {\n        var content = packet.content;\n        this.mWorld.emitter.emit(_const_MessageType__WEBPACK_IMPORTED_MODULE_2__[\"MessageType\"].PACKAGE_EXCHANGE_ITEM_POS, content);\n    };\n    return Bag;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PacketHandler\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/player/bag/bag.ts?");

/***/ }),

/***/ "./src/rooms/player/friend/friend.ts":
/*!*******************************************!*\
  !*** ./src/rooms/player/friend/friend.ts ***!
  \*******************************************/
/*! exports provided: Friend */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Friend\", function() { return Friend; });\nvar Friend = /** @class */ (function () {\n    function Friend(world) {\n        this.world = world;\n        this.mFriendList = [];\n    }\n    Friend.prototype.requestFriend = function (callBack) {\n        var func = callBack;\n        this.world.httpService.firend().then(function (response) {\n            if (response.code === 200) {\n                if (func)\n                    func(response.data);\n            }\n        });\n    };\n    Friend.prototype.friendList = function () {\n        return this.mFriendList || [];\n    };\n    return Friend;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/player/friend/friend.ts?");

/***/ }),

/***/ "./src/rooms/player/interactive/interactive.ts":
/*!*****************************************************!*\
  !*** ./src/rooms/player/interactive/interactive.ts ***!
  \*****************************************************/
/*! exports provided: Interactive */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Interactive\", function() { return Interactive; });\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar Interactive = /** @class */ (function (_super) {\n    __extends(Interactive, _super);\n    function Interactive(mWorld) {\n        var _this = _super.call(this) || this;\n        _this.mWorld = mWorld;\n        return _this;\n    }\n    Interactive.prototype.initialize = function () {\n        return this.mInitialize;\n    };\n    Interactive.prototype.register = function () {\n        this.mWorld.connection.addPacketListener(this);\n    };\n    Interactive.prototype.unRegister = function () {\n        this.mWorld.connection.removePacketListener(this);\n    };\n    Interactive.prototype.destroy = function () {\n        this.mInitialize = false;\n        this.mWorld.connection.removePacketListener(this);\n    };\n    Interactive.prototype.requestTargetUI = function (uiId, id) {\n        var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_TARGET_UI);\n        var content = pkt.content;\n        content.uiId = uiId;\n        content.componentId = id;\n        this.mWorld.connection.send(pkt);\n    };\n    return Interactive;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PacketHandler\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/player/interactive/interactive.ts?");

/***/ }),

/***/ "./src/rooms/player/player.manager.ts":
/*!********************************************!*\
  !*** ./src/rooms/player/player.manager.ts ***!
  \********************************************/
/*! exports provided: PlayerManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PlayerManager\", function() { return PlayerManager; });\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_log__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/log */ \"./src/utils/log.ts\");\n/* harmony import */ var _utils_pos__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/pos */ \"./src/utils/pos.ts\");\n/* harmony import */ var _element_sprite__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../element/sprite */ \"./src/rooms/element/sprite.ts\");\n/* harmony import */ var _const_MessageType__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../const/MessageType */ \"./src/const/MessageType.ts\");\n/* harmony import */ var _player__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./player */ \"./src/rooms/player/player.ts\");\n/* harmony import */ var _Actor__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Actor */ \"./src/rooms/player/Actor.ts\");\n/* harmony import */ var _player_model__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./player.model */ \"./src/rooms/player/player.model.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\nvar NodeType = pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].NodeType;\n\nvar PlayerManager = /** @class */ (function (_super) {\n    __extends(PlayerManager, _super);\n    function PlayerManager(mRoom) {\n        var _this = _super.call(this) || this;\n        _this.mRoom = mRoom;\n        _this.hasAddComplete = false;\n        _this.mPlayerMap = new Map();\n        if (_this.connection) {\n            _this.connection.addPacketListener(_this);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_REQ_CLIENT_ADD_SPRITE, _this.onAdd);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_REQ_CLIENT_ADD_SPRITE_END, _this.addComplete);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_REQ_CLIENT_DELETE_SPRITE, _this.onRemove);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_REQ_CLIENT_ADJUST_POSITION, _this.onAdjust);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_REQ_CLIENT_MOVE_SPRITE, _this.onMove);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_SHOW_EFFECT, _this.onShowEffect);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_ONLY_BUBBLE, _this.onOnlyBubbleHandler);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_CHAT, _this.onShowBubble);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_ONLY_BUBBLE_CLEAN, _this.onClearBubbleHandler);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_REQ_CLIENT_SYNC_SPRITE, _this.onSync);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_REQ_CLIENT_CHANGE_SPRITE_ANIMATION, _this.onChangeAnimation);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_REQ_CLIENT_SET_SPRITE_POSITION, _this.onSetPosition);\n            // this.addHandlerFun(op_client.OPCODE._OP_VIRTUAL_WORLD_REQ_CLIENT_SET_CAMERA_FOLLOW, this.onCameraFollow);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_REQ_CLIENT_MOVE_SPRITE_BY_PATH, _this.onMovePath);\n        }\n        return _this;\n    }\n    // public createActor(playModel: PlayerModel) {\n    //     this.mActor = new Actor(playModel, this);\n    //     if (sprite.attrs) {\n    //         for (const attr of sprite.attrs) {\n    //             this._addSimulate(sprite.id, attr);\n    //         }\n    //     }\n    // }\n    PlayerManager.prototype.createActor = function (actor) {\n        var playModel = new _player_model__WEBPACK_IMPORTED_MODULE_8__[\"PlayerModel\"](actor);\n        this.mActor = new _Actor__WEBPACK_IMPORTED_MODULE_7__[\"Actor\"](playModel, this);\n    };\n    Object.defineProperty(PlayerManager.prototype, \"actor\", {\n        get: function () {\n            return this.mActor;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    PlayerManager.prototype.destroy = function () {\n        var _this = this;\n        if (this.connection) {\n            this.connection.removePacketListener(this);\n        }\n        if (!this.mPlayerMap)\n            return;\n        this.mPlayerMap.forEach(function (player) { return _this.removeFromMap(player.id); });\n        this.mPlayerMap.clear();\n    };\n    PlayerManager.prototype.removeFromMap = function (id) {\n        var player = this.mPlayerMap.get(id);\n        if (player) {\n            // MineCarSimulateData.destroyMineCar(this.roomService.elementManager, player.model);\n            this.mPlayerMap.delete(id);\n            player.destroy();\n        }\n    };\n    PlayerManager.prototype.requestActorMove = function (dir, keyArr) {\n        this.startActorMove();\n        if (!this.roomService.world.game.device.os.desktop) {\n            // \n            var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_GATEWAY_KEYBOARD_DOWN);\n            var content = pkt.content;\n            content.keyCodes = keyArr;\n            this.connection.send(pkt);\n        }\n    };\n    PlayerManager.prototype.startActorMove = function () {\n        if (!this.mActor) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_2__[\"Logger\"].getInstance().error(\"MainHero miss\");\n            return;\n        }\n        this.mActor.startMove();\n    };\n    PlayerManager.prototype.stopActorMove = function () {\n        if (!this.mActor) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_2__[\"Logger\"].getInstance().error(\"MainHero miss\");\n            return;\n        }\n        this.mActor.stopMove();\n    };\n    PlayerManager.prototype.get = function (id) {\n        if (!this.mPlayerMap) {\n            return;\n        }\n        var player = this.mPlayerMap.get(id);\n        if (!player) {\n            var actor = this.mActor;\n            if (actor && actor.id === id) {\n                player = actor;\n            }\n        }\n        return player;\n    };\n    PlayerManager.prototype.add = function (sprite) {\n    };\n    PlayerManager.prototype.remove = function (id) {\n        var element = this.mPlayerMap.get(id);\n        if (element) {\n            this.mPlayerMap.delete(id);\n            element.destroy();\n        }\n        if (this.mActor) {\n            this.mActor.destroy();\n            this.mActor = null;\n        }\n        return element;\n    };\n    PlayerManager.prototype.getElements = function () {\n        return Array.from(this.mPlayerMap.values());\n    };\n    PlayerManager.prototype.set = function (id, player) {\n        if (!this.mPlayerMap) {\n            this.mPlayerMap = new Map();\n        }\n        this.mPlayerMap.set(id, player);\n    };\n    Object.defineProperty(PlayerManager.prototype, \"camera\", {\n        get: function () {\n            return this.mRoom.cameraService.camera;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    // public addPlayer(obj: op_client.IActor): void {\n    //     const playerInfo: PlayerInfo = new PlayerInfo();\n    //     playerInfo.setInfo(obj);\n    //     if (obj.walkOriginPoint) {\n    //         playerInfo.setOriginWalkPoint(obj.walkOriginPoint);\n    //     }\n    //     if (obj.originPoint) {\n    //         playerInfo.setOriginCollisionPoint(obj.originPoint);\n    //     }\n    //     this.mPlayerInfoList.push(playerInfo);\n    //     this.mModelDispatch.emit(MessageType.SCENE_ADD_PLAYER, playerInfo);\n    // }\n    PlayerManager.prototype.addPackItems = function (elementId, items) {\n        var character = this.mPlayerMap.get(elementId);\n        if (character && character.id === this.mActor.id) {\n            if (!character.package) {\n                character.package = pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_gameconfig\"].Package.create();\n            }\n            character.package.items = character.package.items.concat(items);\n            this.mRoom.world.emitter.emit(_const_MessageType__WEBPACK_IMPORTED_MODULE_5__[\"MessageType\"].UPDATED_CHARACTER_PACKAGE);\n        }\n    };\n    PlayerManager.prototype.removePackItems = function (elementId, itemId) {\n        var character = this.mPlayerMap.get(elementId);\n        if (character && this.mActor.id) {\n            var itemList = character.package.items;\n            var len = itemList.length;\n            for (var i = 0; i < len; i++) {\n                if (itemId === itemList[i].id) {\n                    itemList.splice(i, 1);\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    PlayerManager.prototype.onSync = function (packet) {\n        var content = packet.content;\n        if (content.nodeType !== pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].NodeType.CharacterNodeType) {\n            return;\n        }\n        var player = null;\n        var sprites = content.sprites;\n        var command = content.command;\n        for (var _i = 0, sprites_1 = sprites; _i < sprites_1.length; _i++) {\n            var sprite = sprites_1[_i];\n            player = this.get(sprite.id);\n            if (player) {\n                //  MineCarSimulateData.addSimulate(this.roomService, sprite, player.model);\n                if (command === pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].OpCommand.OP_COMMAND_UPDATE) {\n                    player.model = new _element_sprite__WEBPACK_IMPORTED_MODULE_4__[\"Sprite\"](sprite);\n                }\n                else if (command === pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].OpCommand.OP_COMMAND_PATCH) {\n                    player.updateModel(sprite);\n                }\n            }\n        }\n    };\n    PlayerManager.prototype.onAdjust = function (packet) {\n        var content = packet.content;\n        var positions = content.spritePositions;\n        var type = content.nodeType;\n        if (type !== pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].NodeType.CharacterNodeType) {\n            return;\n        }\n        if (this.mActor) {\n            var player = void 0;\n            var point = void 0;\n            for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\n                var position = positions_1[_i];\n                player = this.mPlayerMap.get(position.id);\n                // if (!player) {\n                //     if (position.id === this.mActor.id) {\n                //         player = this.mActor;\n                //     } else {\n                //         continue;\n                //     }\n                // }\n                if (player) {\n                    point = position.point3f;\n                    player.setPosition(new _utils_pos__WEBPACK_IMPORTED_MODULE_3__[\"Pos\"](point.x || 0, point.y || 0, point.z || 0));\n                }\n                // Logger.getInstance().debug(`adjust,x:${point.x},y:${point.y}`);\n            }\n        }\n    };\n    PlayerManager.prototype.onAdd = function (packet) {\n        if (!this.mPlayerMap) {\n            this.mPlayerMap = new Map();\n        }\n        var content = packet.content;\n        var sprites = content.sprites;\n        var type = content.nodeType;\n        if (type !== pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].NodeType.CharacterNodeType) {\n            return;\n        }\n        for (var _i = 0, sprites_2 = sprites; _i < sprites_2.length; _i++) {\n            var sprite = sprites_2[_i];\n            this._add(new _element_sprite__WEBPACK_IMPORTED_MODULE_4__[\"Sprite\"](sprite));\n            // MineCarSimulateData.addSimulate(this.roomService, sprite);\n        }\n    };\n    PlayerManager.prototype._add = function (sprite) {\n        if (!this.mPlayerMap)\n            this.mPlayerMap = new Map();\n        if (!this.mPlayerMap.has(sprite.id)) {\n            var player = new _player__WEBPACK_IMPORTED_MODULE_6__[\"Player\"](sprite, this);\n            this.mPlayerMap.set(player.id || 0, player);\n        }\n    };\n    PlayerManager.prototype.addComplete = function (packet) {\n        this.hasAddComplete = true;\n    };\n    PlayerManager.prototype.onRemove = function (packet) {\n        var content = packet.content;\n        var type = content.nodeType;\n        var ids = content.ids;\n        if (type !== pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].NodeType.CharacterNodeType) {\n            return;\n        }\n        for (var _i = 0, ids_1 = ids; _i < ids_1.length; _i++) {\n            var id = ids_1[_i];\n            this.removeFromMap(id);\n        }\n    };\n    PlayerManager.prototype.onMove = function (packet) {\n        var content = packet.content;\n        if (content.moveData) {\n            var moveDataList = content.moveData;\n            var len = moveDataList.length;\n            var type = content.nodeType || null;\n            var moveData = void 0;\n            var playID = void 0;\n            var player = void 0;\n            for (var i = 0; i < len; i++) {\n                moveData = moveDataList[i];\n                playID = moveData.moveObjectId;\n                player = this.get(playID);\n                if (player) {\n                    player.move(moveData);\n                }\n            }\n        }\n    };\n    PlayerManager.prototype.onSetPosition = function (packet) {\n        var content = packet.content;\n        var type = content.nodeType;\n        var id = content.id;\n        if (type !== NodeType.CharacterNodeType) {\n            return;\n        }\n        var role = this.get(id);\n        if (role) {\n            role.setPosition(new _utils_pos__WEBPACK_IMPORTED_MODULE_3__[\"Pos\"](content.position.x, content.position.y, content.position.z));\n        }\n    };\n    PlayerManager.prototype.onShowBubble = function (packet) {\n        var content = packet.content;\n        var player = this.get(content.chatSenderid);\n        if (player) {\n            player.showBubble(content.chatContext, content.chatSetting);\n        }\n    };\n    PlayerManager.prototype.onOnlyBubbleHandler = function (packet) {\n        var content = packet.content;\n        var player = this.get(content.receiverid);\n        if (player) {\n            player.showBubble(content.context, content.chatsetting);\n        }\n    };\n    PlayerManager.prototype.onClearBubbleHandler = function (packet) {\n        var content = packet.content;\n        var player = this.get(content.receiverid);\n        if (player) {\n            player.clearBubble();\n        }\n    };\n    PlayerManager.prototype.onShowEffect = function (packet) {\n        var content = packet.content;\n        var ids = content.id;\n        var player;\n        for (var _i = 0, ids_2 = ids; _i < ids_2.length; _i++) {\n            var id = ids_2[_i];\n            player = this.get(id);\n            if (player) {\n                player.showEffected(null);\n            }\n        }\n    };\n    PlayerManager.prototype.onChangeAnimation = function (packet) {\n        var content = packet.content;\n        if (content.nodeType !== NodeType.CharacterNodeType) {\n            return;\n        }\n        var player = null;\n        var ids = content.ids;\n        for (var _i = 0, ids_3 = ids; _i < ids_3.length; _i++) {\n            var id = ids_3[_i];\n            player = this.get(id);\n            if (player) {\n                player.setQueue(content.changeAnimation);\n            }\n        }\n    };\n    PlayerManager.prototype.onCameraFollow = function (packet) {\n        var content = packet.content;\n        var player = this.get(content.id);\n        var camera = this.roomService.cameraService;\n        if (!camera) {\n            return;\n        }\n        if (player) {\n            camera.startFollow(player.getDisplay());\n        }\n        else {\n            camera.stopFollow();\n        }\n    };\n    PlayerManager.prototype.onMovePath = function (packet) {\n        var content = packet.content;\n        if (content.nodeType !== NodeType.CharacterNodeType) {\n            return;\n        }\n        var play = this.get(content.id);\n        if (play) {\n            play.movePath(content);\n        }\n    };\n    Object.defineProperty(PlayerManager.prototype, \"roomService\", {\n        get: function () {\n            return this.mRoom;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(PlayerManager.prototype, \"scene\", {\n        get: function () {\n            if (this.mRoom) {\n                return this.mRoom.scene;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(PlayerManager.prototype, \"connection\", {\n        get: function () {\n            if (this.mRoom) {\n                return this.mRoom.connection;\n            }\n            _utils_log__WEBPACK_IMPORTED_MODULE_2__[\"Logger\"].getInstance().error(\"room is undefined\");\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(PlayerManager.prototype, \"map\", {\n        get: function () {\n            return [];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return PlayerManager;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PacketHandler\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/player/player.manager.ts?");

/***/ }),

/***/ "./src/rooms/player/player.model.ts":
/*!******************************************!*\
  !*** ./src/rooms/player/player.model.ts ***!
  \******************************************/
/*! exports provided: PlayerModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PlayerModel\", function() { return PlayerModel; });\n/* harmony import */ var _element_sprite__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../element/sprite */ \"./src/rooms/element/sprite.ts\");\n/* harmony import */ var _utils_pos__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/pos */ \"./src/utils/pos.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar PlayerModel = /** @class */ (function (_super) {\n    __extends(PlayerModel, _super);\n    function PlayerModel(data) {\n        var _this = _super.call(this, data) || this;\n        _this.mPos = new _utils_pos__WEBPACK_IMPORTED_MODULE_1__[\"Pos\"](data.x, data.y, data.z);\n        _this.mAlpha = 1;\n        _this.mPackage = data.package;\n        _this.mSceneId = data.sceneId;\n        _this.mUuid = data.uuid;\n        _this.mPlatformId = data.platformId;\n        return _this;\n    }\n    return PlayerModel;\n}(_element_sprite__WEBPACK_IMPORTED_MODULE_0__[\"Sprite\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/player/player.model.ts?");

/***/ }),

/***/ "./src/rooms/player/player.ts":
/*!************************************!*\
  !*** ./src/rooms/player/player.ts ***!
  \************************************/
/*! exports provided: Player */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Player\", function() { return Player; });\n/* harmony import */ var _element_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../element/element */ \"./src/rooms/element/element.ts\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_pos__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/pos */ \"./src/utils/pos.ts\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_3__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar Player = /** @class */ (function (_super) {\n    __extends(Player, _super);\n    function Player(sprite, mElementManager) {\n        var _this = _super.call(this, sprite, mElementManager) || this;\n        _this.mElementManager = mElementManager;\n        _this.nodeType = pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].NodeType.CharacterNodeType;\n        _this.mOffsetY = undefined;\n        if (_this.mDisplay) {\n            if (sprite.displayBadgeCards && sprite.displayBadgeCards.length > 0)\n                _this.mDisplay.setDisplayBadges(sprite.displayBadgeCards);\n        }\n        return _this;\n    }\n    Player.prototype.setModel = function (val) {\n        _super.prototype.setModel.call(this, val);\n        this.showNickname();\n    };\n    Player.prototype.move = function (moveData) {\n        if (this.getDirection() !== moveData.direction) {\n            if (this.roomService.world.moveStyle === pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].MoveStyle.DIRECTION_MOVE_STYLE) {\n                if (this.mId !== this.roomService.playerManager.actor.id) {\n                    this.setDirection(moveData.direction);\n                }\n            }\n            else {\n                this.setDirection(moveData.direction);\n            }\n        }\n        moveData.destinationPoint3f.y += this.offsetY;\n        _super.prototype.move.call(this, moveData);\n    };\n    Player.prototype.movePath = function (movePath) {\n        var _this = this;\n        if (!this.mDisplay) {\n            return;\n        }\n        var tmpPath = movePath.path;\n        if (!tmpPath) {\n            return;\n        }\n        var lastPos = new _utils_pos__WEBPACK_IMPORTED_MODULE_2__[\"Pos\"](this.mDisplay.x, this.mDisplay.y - this.offsetY);\n        var paths = [];\n        this.mMoveData.arrivalTime = movePath.timestemp;\n        var angle = null;\n        var point = null;\n        var now = this.mElementManager.roomService.now();\n        var duration = 0;\n        var index = 0;\n        for (var _i = 0, tmpPath_1 = tmpPath; _i < tmpPath_1.length; _i++) {\n            var path = tmpPath_1[_i];\n            point = path.point3f;\n            if (!(point.y === lastPos.y && point.x === lastPos.x)) {\n                angle = Math.atan2(point.y - lastPos.y, point.x - lastPos.x) * (180 / Math.PI);\n            }\n            now += duration;\n            duration = path.timestemp - now;\n            paths.push({\n                x: point.x,\n                y: point.y + this.offsetY,\n                duration: duration,\n                onStartParams: angle,\n                onStart: function (tween, target, params) {\n                    _this.onCheckDirection(params);\n                },\n                onCompleteParams: { duration: duration, index: index },\n                onComplete: function (tween, targets, params) {\n                    _this.onMovePathPointComplete(params);\n                }\n            });\n            lastPos = new _utils_pos__WEBPACK_IMPORTED_MODULE_2__[\"Pos\"](point.x, point.y);\n            index++;\n        }\n        this.mMoveData.posPath = paths;\n        this.mMoveData.onCompleteParams = point;\n        this.mMoveData.onComplete = this.mMovePathPointFinished;\n        this._doMove();\n    };\n    Player.prototype.setDirection = function (dir) {\n        if (dir !== this.mDisplayInfo.avatarDir) {\n            this.mDisplayInfo.avatarDir = dir;\n            this.mModel.direction = dir;\n            // if (this.mDisplay) this.mDisplay.play({ animationName: this.mCurState, flip: false });\n            if (this.mDisplay) {\n                this.mDisplay.play(this.mModel.currentAnimation);\n            }\n        }\n    };\n    Player.prototype.changeState = function (val) {\n        if (!this.mDisplay) {\n            return;\n        }\n        if (this.mCurState === val)\n            return;\n        // if (!val) val = PlayerState.IDLE;\n        if (!val) {\n            val = _element_element__WEBPACK_IMPORTED_MODULE_0__[\"PlayerState\"].IDLE;\n        }\n        if (this.mCheckStateHandle(val)) {\n            this.mCurState = val;\n            this.mModel.currentAnimationName = this.mCurState;\n            this.mDisplay.play(this.mModel.currentAnimation);\n        }\n    };\n    Player.prototype.setPosition = function (pos) {\n        pos.y += this.offsetY;\n        _super.prototype.setPosition.call(this, pos);\n    };\n    Player.prototype.getPosition = function () {\n        var pos = _super.prototype.getPosition.call(this);\n        pos.y -= this.offsetY;\n        return pos;\n    };\n    Player.prototype.onCheckDirection = function (params) {\n        if (typeof params !== \"number\") {\n            return;\n        }\n        // \n        if (params > 90) {\n            this.setDirection(3);\n        }\n        else if (params >= 0) {\n            this.setDirection(5);\n        }\n        else if (params >= -90) {\n            this.setDirection(7);\n        }\n        else {\n            this.setDirection(1);\n        }\n    };\n    Player.prototype.onMoveStart = function () {\n        this.changeState(_element_element__WEBPACK_IMPORTED_MODULE_0__[\"PlayerState\"].WALK);\n        if (this.mMoveData) {\n            this.mMoveData.step = 0;\n        }\n        _super.prototype.onMoveStart.call(this);\n    };\n    Player.prototype.onMoveComplete = function () {\n        this.preMoveComplete();\n        _super.prototype.onMoveComplete.call(this);\n        this.changeState(_element_element__WEBPACK_IMPORTED_MODULE_0__[\"PlayerState\"].IDLE);\n    };\n    Player.prototype.preMoveComplete = function () {\n        if (this.mMoveData && this.mMoveData.posPath) {\n            var complete = this.mMoveData.onComplete;\n            if (complete) {\n                complete.call(this, this.mMoveData.onCompleteParams);\n                delete this.mMoveData.onComplete;\n                delete this.mMoveData.onCompleteParams;\n            }\n        }\n    };\n    Player.prototype.onMovePathPointComplete = function (params) {\n        if (!this.mMoveData) {\n            return;\n        }\n        this.mMoveData.step += 1;\n        // if (!this.mMoveData.posPath) {\n        //     return;\n        // }\n        // const posPath = this.mMoveData.posPath;\n        // posPath.shift();\n    };\n    Player.prototype.mMovePathPointFinished = function (path) {\n        if (!path || !this.mRoomService) {\n            return;\n        }\n        var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_3__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_MOVE_PATH_POINT_FINISHED);\n        var content = pkt.content;\n        var currentPoint = pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].PBPoint3f.create();\n        var pos = this.getPosition();\n        currentPoint.x = pos.x;\n        currentPoint.y = pos.y;\n        currentPoint.z = pos.z;\n        var targetPoint = pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].PBPoint3f.create();\n        targetPoint.x = path.x;\n        targetPoint.y = path.y;\n        content.currentPoint = currentPoint;\n        content.lastTargetPoint = targetPoint;\n        content.timestemp = this.mRoomService.world.clock.unixTime;\n        this.mRoomService.connection.send(pkt);\n    };\n    Object.defineProperty(Player.prototype, \"offsetY\", {\n        get: function () {\n            if (this.mOffsetY === undefined) {\n                if (!this.mElementManager || !this.mElementManager.roomService || !this.mElementManager.roomService.roomSize) {\n                    return 0;\n                }\n                // this.mOffsetY = 0;\n                this.mOffsetY = this.mElementManager.roomService.roomSize.tileHeight >> 2;\n            }\n            return this.mOffsetY;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Player.prototype.mCheckStateHandle = function (val) {\n        // if (this.mCurState === val) return false;\n        return true;\n    };\n    return Player;\n}(_element_element__WEBPACK_IMPORTED_MODULE_0__[\"Element\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/player/player.ts?");

/***/ }),

/***/ "./src/rooms/room.manager.ts":
/*!***********************************!*\
  !*** ./src/rooms/room.manager.ts ***!
  \***********************************/
/*! exports provided: RoomManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RoomManager\", function() { return RoomManager; });\n/* harmony import */ var _room__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./room */ \"./src/rooms/room.ts\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _utils_log__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/log */ \"./src/utils/log.ts\");\n/* harmony import */ var _editor_room__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./editor.room */ \"./src/rooms/editor.room.ts\");\n/* harmony import */ var _decorate_room__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./decorate.room */ \"./src/rooms/decorate.room.ts\");\n/* harmony import */ var _scenes_loading__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../scenes/loading */ \"./src/scenes/loading.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n\n\n\n\nvar RoomManager = /** @class */ (function (_super) {\n    __extends(RoomManager, _super);\n    function RoomManager(world) {\n        var _this = _super.call(this) || this;\n        _this.mRooms = [];\n        _this.mWorld = world;\n        _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_ENTER_SCENE, _this.onEnterSceneHandler);\n        _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_EDITOR_REQ_CLIENT_CHANGE_TO_EDITOR_MODE, _this.onEnterEditor);\n        return _this;\n        // this.addHandlerFun(op_client.OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_EDIT_MODE_READY, this.onEnterDecorate);\n    }\n    RoomManager.prototype.addPackListener = function () {\n        if (this.connection) {\n            this.connection.addPacketListener(this);\n        }\n    };\n    RoomManager.prototype.removePackListener = function () {\n        if (this.connection) {\n            this.connection.removePacketListener(this);\n        }\n    };\n    RoomManager.prototype.getRoom = function (id) {\n        // const idx = this.mRooms.findIndex((room: Room, index: number) => id === room.id);\n        // if (idx >= 0) {\n        //     return this.mRooms[idx];\n        // }\n        return this.mRooms.find(function (room) {\n            return room.id === id;\n        });\n    };\n    RoomManager.prototype.onFocus = function () {\n        this.mRooms.forEach(function (room) {\n            if (room && room.scene)\n                room.resume(room.scene.scene.key);\n        });\n    };\n    RoomManager.prototype.onBlur = function () {\n        this.mRooms.forEach(function (room) {\n            if (room && room.scene)\n                room.pause();\n        });\n    };\n    RoomManager.prototype.pasuseRoom = function (id) {\n        var idx = this.mRooms.findIndex(function (room, index) { return id === room.id; });\n        if (idx >= 0) {\n            var room = this.mRooms[idx];\n            room.pause();\n        }\n    };\n    RoomManager.prototype.resumeRoom = function (id) {\n        var idx = this.mRooms.findIndex(function (room, index) { return id === room.id; });\n        if (idx >= 0) {\n            var room = this.mRooms[idx];\n            if (room && room.scene)\n                room.resume(room.scene.scene.key);\n        }\n    };\n    RoomManager.prototype.stop = function () {\n        this.mRooms.forEach(function (room) {\n            if (room && room.scene)\n                room.destroy();\n        });\n    };\n    RoomManager.prototype.resize = function (width, height) {\n        this.mRooms.forEach(function (room) {\n            if (room)\n                room.resize(width, height);\n        });\n    };\n    RoomManager.prototype.destroy = function () {\n        this.removePackListener();\n        this.mCurRoom = null;\n        for (var _i = 0, _a = this.mRooms; _i < _a.length; _i++) {\n            var room = _a[_i];\n            room.destroy();\n            room = null;\n        }\n        this.mRooms.length = 0;\n    };\n    RoomManager.prototype.hasRoom = function (id) {\n        var idx = this.mRooms.findIndex(function (room, index) { return id === room.id; });\n        return idx >= 0;\n    };\n    RoomManager.prototype.onEnterScene = function (scene) {\n        return __awaiter(this, void 0, void 0, function () {\n            var vw;\n            var _this = this;\n            return __generator(this, function (_a) {\n                vw = scene;\n                if (this.hasRoom(vw.scene.id)) {\n                    this.onEnterRoom(scene);\n                }\n                else {\n                    // load this scene config in gameConfig\n                    this.world.loadSceneConfig(vw.scene.id.toString()).then(function (config) { return __awaiter(_this, void 0, void 0, function () {\n                        return __generator(this, function (_a) {\n                            this.world.elementStorage.setSceneConfig(config);\n                            this.onEnterRoom(scene);\n                            return [2 /*return*/];\n                        });\n                    }); });\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    RoomManager.prototype.onEnterRoom = function (scene) {\n        return __awaiter(this, void 0, void 0, function () {\n            var room;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this.mCurRoom) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this.leaveScene(this.mCurRoom)];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2:\n                        room = new _room__WEBPACK_IMPORTED_MODULE_0__[\"Room\"](this);\n                        this.mRooms.push(room);\n                        room.addActor(scene.actor);\n                        room.enter(scene.scene);\n                        this.mCurRoom = room;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    RoomManager.prototype.onEnterDecorate = function (scene) {\n        return __awaiter(this, void 0, void 0, function () {\n            var room, actor;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this.mCurRoom) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this.leaveScene(this.mCurRoom)];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2:\n                        room = new _decorate_room__WEBPACK_IMPORTED_MODULE_5__[\"DecorateRoom\"](this);\n                        room.enter(scene.scene);\n                        actor = scene.actor;\n                        if (actor)\n                            room.setEnterPos(actor.x, actor.y);\n                        this.mRooms.push(room);\n                        this.mCurRoom = room;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    RoomManager.prototype.onEnterEditor = function (packet) {\n        var content = packet.content;\n        var room = new _editor_room__WEBPACK_IMPORTED_MODULE_4__[\"EditorRoom\"](this);\n        room.enter(content.scene);\n        this.mCurRoom = room;\n        this.mRooms.push(room);\n    };\n    RoomManager.prototype.leaveScene = function (room) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                if (!room)\n                    return [2 /*return*/];\n                return [2 /*return*/, new Promise(function (resolve, reject) {\n                        var loading = _this.mWorld.game.scene.getScene(_scenes_loading__WEBPACK_IMPORTED_MODULE_6__[\"LoadingScene\"].name);\n                        if (loading) {\n                            loading.show().then(function () {\n                                _this.mRooms = _this.mRooms.filter(function (r) { return r.id !== room.id; });\n                                room.destroy();\n                                resolve();\n                            });\n                        }\n                    })];\n            });\n        });\n    };\n    RoomManager.prototype.onEnterSceneHandler = function (packet) {\n        var content = packet.content;\n        var scene = content.scene;\n        switch (scene.sceneType) {\n            case pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].SceneTypeEnum.NORMAL_SCENE_TYPE:\n                this.onEnterScene(content);\n                break;\n            case pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].SceneTypeEnum.EDIT_SCENE_TYPE:\n                this.onEnterDecorate(content);\n                break;\n        }\n    };\n    Object.defineProperty(RoomManager.prototype, \"world\", {\n        get: function () {\n            return this.mWorld;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RoomManager.prototype, \"currentRoom\", {\n        get: function () {\n            return this.mCurRoom;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RoomManager.prototype, \"connection\", {\n        get: function () {\n            if (this.mWorld) {\n                return this.mWorld.connection;\n            }\n            _utils_log__WEBPACK_IMPORTED_MODULE_3__[\"Logger\"].getInstance().error(\"world manager is undefined\");\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return RoomManager;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_2__[\"PacketHandler\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/room.manager.ts?");

/***/ }),

/***/ "./src/rooms/room.ts":
/*!***************************!*\
  !*** ./src/rooms/room.ts ***!
  \***************************/
/*! exports provided: Room */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Room\", function() { return Room; });\n/* harmony import */ var _element_element_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./element/element.manager */ \"./src/rooms/element/element.manager.ts\");\n/* harmony import */ var _player_player_manager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./player/player.manager */ \"./src/rooms/player/player.manager.ts\");\n/* harmony import */ var _layer_layer_manager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./layer/layer.manager */ \"./src/rooms/layer/layer.manager.ts\");\n/* harmony import */ var _terrain_terrain_manager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./terrain/terrain.manager */ \"./src/rooms/terrain/terrain.manager.ts\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _utils_position45__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/position45 */ \"./src/utils/position45.ts\");\n/* harmony import */ var _cameras_cameras_manager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./cameras/cameras.manager */ \"./src/rooms/cameras/cameras.manager.ts\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _scenes_play__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../scenes/play */ \"./src/scenes/play.ts\");\n/* harmony import */ var _cameras_viewblock_manager__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./cameras/viewblock.manager */ \"./src/rooms/cameras/viewblock.manager.ts\");\n/* harmony import */ var _utils_pos__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../utils/pos */ \"./src/utils/pos.ts\");\n/* harmony import */ var _scenes_loading__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../scenes/loading */ \"./src/scenes/loading.ts\");\n/* harmony import */ var _element_element__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./element/element */ \"./src/rooms/element/element.ts\");\n/* harmony import */ var _const_MessageType__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../const/MessageType */ \"./src/const/MessageType.ts\");\n/* harmony import */ var _display_display_object__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./display/display.object */ \"./src/rooms/display/display.object.ts\");\n/* harmony import */ var _editor_reference_area__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./editor/reference.area */ \"./src/rooms/editor/reference.area.ts\");\n/* harmony import */ var _fall_effect_fall_effect_container__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./fall.effect/fall.effect.container */ \"./src/rooms/fall.effect/fall.effect.container.ts\");\n/* harmony import */ var _fall_effect_fall_effect__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./fall.effect/fall.effect */ \"./src/rooms/fall.effect/fall.effect.ts\");\n/* harmony import */ var _utils_log__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../utils/log */ \"./src/utils/log.ts\");\n/* harmony import */ var _wall_wall_manager__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./wall/wall.manager */ \"./src/rooms/wall/wall.manager.ts\");\n/* harmony import */ var _sky_box_sky_box_manager__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./sky.box/sky.box.manager */ \"./src/rooms/sky.box/sky.box.manager.ts\");\n/* harmony import */ var _group_GroupManager__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./group/GroupManager */ \"./src/rooms/group/GroupManager.ts\");\n/* harmony import */ var _element_frame_manager__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./element/frame.manager */ \"./src/rooms/element/frame.manager.ts\");\n/* harmony import */ var _state_state_group__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./state/state.group */ \"./src/rooms/state/state.group.ts\");\n/* harmony import */ var _effect_effect_manager__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./effect/effect.manager */ \"./src/rooms/effect/effect.manager.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// Phaser\n// [RoomManager]\nvar Room = /** @class */ (function (_super) {\n    __extends(Room, _super);\n    function Room(manager) {\n        var _this = _super.call(this) || this;\n        _this.manager = manager;\n        _this.mEnableEdit = false;\n        _this.mWorld = _this.manager.world;\n        _this.moveStyle = _this.mWorld.moveStyle;\n        _this.mScaleRatio = _this.mWorld.scaleRatio;\n        if (_this.mWorld) {\n            if (_this.connection) {\n                _this.connection.addPacketListener(_this);\n                _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_REQ_CLIENT_ENABLE_EDIT_MODE, _this.onEnableEditModeHandler);\n                _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_REQ_CLIENT_UNWALKABLE_BIT_MAP, _this.onShowMapTitle);\n                _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_REQ_CLIENT_MOVE_SPRITE_BY_PATH, _this.onMovePathHandler);\n                _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_REQ_CLIENT_SET_CAMERA_FOLLOW, _this.onCameraFollowHandler);\n                _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_REQ_CLIENT_SYNC_STATE, _this.onSyncStateHandler);\n            }\n        }\n        return _this;\n    }\n    Room.prototype.enter = function (data) {\n        var _this = this;\n        var size = this.mWorld.getSize();\n        if (!data) {\n            // Logger.getInstance().error(\"wrong room\");\n            return;\n        }\n        this.mID = data.id;\n        this.mSize = {\n            cols: data.cols,\n            rows: data.rows,\n            tileHeight: data.tileHeight,\n            tileWidth: data.tileWidth,\n            sceneWidth: (data.rows + data.cols) * (data.tileWidth / 2),\n            sceneHeight: (data.rows + data.cols) * (data.tileHeight / 2),\n        };\n        this.mMiniSize = {\n            cols: data.cols * 2,\n            rows: data.rows * 2,\n            tileWidth: data.tileWidth / 2,\n            tileHeight: data.tileHeight / 2,\n        };\n        // if (this.mMap) this.mMap.destroy();\n        // this.mMap = new Map(this.mWorld);\n        // this.mMap.setMapInfo(data);\n        this.world.showLoading().then(function () {\n            _this.completeLoad();\n        });\n    };\n    Room.prototype.onFullPacketReceived = function (sprite_t) {\n        if (sprite_t !== pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_def\"].NodeType.TerrainNodeType) {\n            return;\n        }\n    };\n    Room.prototype.onClockReady = function () {\n        // TODO: Unload loading-scene\n    };\n    Room.prototype.startLoad = function () { };\n    Room.prototype.completeLoad = function () {\n        if (this.mWorld.game.scene.getScene(_scenes_play__WEBPACK_IMPORTED_MODULE_8__[\"PlayScene\"].name)) {\n            var loadingScene = this.mWorld.game.scene.getScene(_scenes_loading__WEBPACK_IMPORTED_MODULE_11__[\"LoadingScene\"].name);\n            if (loadingScene)\n                loadingScene.sleep();\n            return;\n        }\n        this.mWorld.game.scene.add(_scenes_play__WEBPACK_IMPORTED_MODULE_8__[\"PlayScene\"].name, _scenes_play__WEBPACK_IMPORTED_MODULE_8__[\"PlayScene\"], true, {\n            room: this,\n        });\n    };\n    Room.prototype.startPlay = function () {\n        var _this = this;\n        if (this.mLayManager) {\n            this.layerManager.destroy();\n        }\n        this.mCameraService = new _cameras_cameras_manager__WEBPACK_IMPORTED_MODULE_6__[\"CamerasManager\"](this);\n        this.mScene = this.world.game.scene.getScene(_scenes_play__WEBPACK_IMPORTED_MODULE_8__[\"PlayScene\"].name);\n        this.mTerrainManager = new _terrain_terrain_manager__WEBPACK_IMPORTED_MODULE_3__[\"TerrainManager\"](this, this);\n        this.mElementManager = new _element_element_manager__WEBPACK_IMPORTED_MODULE_0__[\"ElementManager\"](this);\n        this.mPlayerManager = new _player_player_manager__WEBPACK_IMPORTED_MODULE_1__[\"PlayerManager\"](this);\n        this.mWallManager = new _wall_wall_manager__WEBPACK_IMPORTED_MODULE_19__[\"WallManager\"](this);\n        this.mBlocks = new _cameras_viewblock_manager__WEBPACK_IMPORTED_MODULE_9__[\"ViewblockManager\"](this.mCameraService);\n        this.mLayManager = new _layer_layer_manager__WEBPACK_IMPORTED_MODULE_2__[\"LayerManager\"](this);\n        this.mGroupManager = new _group_GroupManager__WEBPACK_IMPORTED_MODULE_21__[\"GroupManager\"](this);\n        this.mFrameManager = new _element_frame_manager__WEBPACK_IMPORTED_MODULE_22__[\"FrameManager\"]();\n        this.mSkyboxManager = new _sky_box_sky_box_manager__WEBPACK_IMPORTED_MODULE_20__[\"SkyBoxManager\"](this);\n        this.mEffectManager = new _effect_effect_manager__WEBPACK_IMPORTED_MODULE_24__[\"EffectManager\"](this);\n        if (this.scene) {\n            var camera_1 = this.scene.cameras.main;\n            setTimeout(function () {\n                camera_1.flash(6000, 1, 1, 1, true, undefined, _this.scene);\n            }, 6000);\n            this.mCameraService.camera = camera_1;\n            var padding = 199 * this.mScaleRatio;\n            this.mCameraService.setBounds(-padding, -padding, this.mSize.sceneWidth * this.mScaleRatio + padding * 2, this.mSize.sceneHeight * this.mScaleRatio + padding * 2);\n            // init block\n            this.mBlocks.int(this.mSize);\n            if (this.mWorld.moveStyle !== pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_def\"].MoveStyle.DIRECTION_MOVE_STYLE) {\n                this.mFallEffectContainer = new _fall_effect_fall_effect_container__WEBPACK_IMPORTED_MODULE_16__[\"FallEffectContainer\"](this.mScene, this);\n            }\n        }\n        // this.mPlayerManager.createActor(new PlayerModel(this.mActorData));\n        this.mPlayerManager.createActor(this.mActorData);\n        var loadingScene = this.mWorld.game.scene.getScene(_scenes_loading__WEBPACK_IMPORTED_MODULE_11__[\"LoadingScene\"].name);\n        this.world.emitter.on(_const_MessageType__WEBPACK_IMPORTED_MODULE_13__[\"MessageType\"].PRESS_ELEMENT, this.onPressElementHandler, this);\n        if (loadingScene)\n            loadingScene.sleep();\n        this.world.changeRoom(this);\n        if (this.world.uiManager)\n            this.world.uiManager.showMainUI();\n        if (this.connection) {\n            this.cameraService.syncCamera();\n            this.connection.send(new net_socket_packet__WEBPACK_IMPORTED_MODULE_7__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_SCENE_CREATED));\n        }\n        this.scene.input.on(\"pointerdown\", this.onPointerDownHandler, this);\n        this.scene.input.on(\"pointerup\", this.onPointerUpHandler, this);\n        this.world.emitter.on(\"Tap\", this.onTapHandler, this);\n        // const list = [\"forestBgm1.mp3\", \"mineBgm1.mp3\", \"fisheryBgm1.mp3\", \"generalBgm1.mp3\"];\n        // this.world.playSound({\n        //     urls: \"https://osd.tooqing.com/b4368e3b7aea51d106044127f9cae95e\",\n        //     field: SoundField.Element,\n        //     soundConfig: { loop: true },\n        // });\n        this.initSkyBox();\n    };\n    Room.prototype.pause = function () {\n        if (this.mScene)\n            this.mScene.scene.pause();\n        if (this.mWorld && this.mWorld.inputManager)\n            this.mWorld.inputManager.enable = false;\n    };\n    Room.prototype.resume = function (name) {\n        if (this.mScene)\n            this.mScene.scene.resume(name);\n        if (this.mWorld && this.mWorld.inputManager)\n            this.mWorld.inputManager.enable = true;\n        // this.mClock.sync(-1);\n    };\n    Room.prototype.addActor = function (data) {\n        this.mActorData = data;\n    };\n    Room.prototype.addBlockObject = function (object) {\n        if (this.blocks) {\n            this.blocks.add(object);\n        }\n    };\n    Room.prototype.removeBlockObject = function (object) {\n        if (this.blocks) {\n            this.blocks.remove(object);\n        }\n    };\n    Room.prototype.updateBlockObject = function (object) {\n        if (this.blocks) {\n            this.blocks.check(object);\n        }\n    };\n    Room.prototype.addToGround = function (element, index) {\n        this.layerManager.addToGround(element, index);\n    };\n    Room.prototype.addToSurface = function (element) {\n        this.layerManager.addToSurface(element);\n    };\n    Room.prototype.addToSceneUI = function (element) {\n        this.layerManager.addToSceneToUI(element);\n    };\n    Room.prototype.addToUI = function (element) {\n        this.layerManager.addToUI(element);\n    };\n    Room.prototype.resize = function (width, height) {\n        if (this.layerManager)\n            this.layerManager.resize(width, height);\n        if (this.mCameraService)\n            this.mCameraService.resize(width, height);\n    };\n    Room.prototype.transformTo90 = function (p) {\n        if (!this.mSize) {\n            // Logger.getInstance().error(\"position object is undefined\");\n            return;\n        }\n        return _utils_position45__WEBPACK_IMPORTED_MODULE_5__[\"Position45\"].transformTo90(p, this.mSize);\n    };\n    Room.prototype.transformTo45 = function (p) {\n        if (!this.mSize) {\n            // Logger.getInstance().error(\"position object is undefined\");\n            return;\n        }\n        return _utils_position45__WEBPACK_IMPORTED_MODULE_5__[\"Position45\"].transformTo45(p, this.mSize);\n    };\n    Room.prototype.transformToMini90 = function (p) {\n        if (!this.mMiniSize) {\n            return;\n        }\n        return _utils_position45__WEBPACK_IMPORTED_MODULE_5__[\"Position45\"].transformTo90(p, this.miniSize);\n    };\n    Room.prototype.transformToMini45 = function (p) {\n        if (!this.mMiniSize) {\n            return;\n        }\n        return _utils_position45__WEBPACK_IMPORTED_MODULE_5__[\"Position45\"].transformTo45(p, this.mMiniSize);\n    };\n    Room.prototype.addMouseListen = function () {\n        this.layerManager.addMouseListen();\n    };\n    Room.prototype.getElement = function (id) {\n        var ele = null;\n        if (this.mPlayerManager) {\n            ele = this.mPlayerManager.get(id);\n        }\n        if (!ele && this.mElementManager) {\n            ele = this.elementManager.get(id);\n        }\n        return ele;\n    };\n    Room.prototype.moveable = function (pos) {\n        var pos45 = this.transformToMini45(pos);\n        var map = this.mElementManager.map;\n        if (pos45.x < 0 || pos45.x > map.length || pos45.y < 0 || pos45.y > map[0].length) {\n            return false;\n        }\n        if (map[pos45.y][pos45.x] === 0) {\n            return false;\n        }\n        return true;\n    };\n    Room.prototype.update = function (time, delta) {\n        this.updateClock(time, delta);\n        this.mBlocks.update(time, delta);\n        if (this.layerManager)\n            this.layerManager.update(time, delta);\n        if (this.elementManager)\n            this.elementManager.update(time, delta);\n        if (this.mFrameManager)\n            this.frameManager.update(time, delta);\n        if (this.mWorld.httpClock)\n            this.mWorld.httpClock.update(time, delta);\n    };\n    Room.prototype.updateClock = function (time, delta) {\n        // delta\n        if (this.mWorld.clock)\n            this.mWorld.clock.update(time, delta);\n    };\n    Room.prototype.now = function () {\n        return this.mWorld.clock.unixTime;\n    };\n    Room.prototype.getMaxScene = function () {\n        if (!this.mSize) {\n            return;\n        }\n        var w = this.mSize.sceneWidth;\n        var h = this.mSize.sceneHeight;\n        var blocks = this.mSkyboxManager.scenery;\n        for (var _i = 0, blocks_1 = blocks; _i < blocks_1.length; _i++) {\n            var block = blocks_1[_i];\n            if (block.scenery) {\n                if (block.scenery.width > w) {\n                    w = block.scenery.width;\n                }\n                if (block.scenery.height > h) {\n                    h = block.scenery.height;\n                }\n            }\n        }\n        return { width: w, height: h };\n    };\n    Room.prototype.setState = function (states) {\n        if (!this.mStateMap)\n            this.mStateMap = new Map();\n        var state;\n        for (var _i = 0, states_1 = states; _i < states_1.length; _i++) {\n            var sta = states_1[_i];\n            switch (sta.execCode) {\n                case pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_def\"].ExecCode.EXEC_CODE_ADD:\n                case pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_def\"].ExecCode.EXEC_CODE_UPDATE:\n                    state = new _state_state_group__WEBPACK_IMPORTED_MODULE_23__[\"State\"](sta);\n                    this.mStateMap.set(sta.name, new _state_state_group__WEBPACK_IMPORTED_MODULE_23__[\"State\"](sta));\n                    this.handlerState(state);\n                    break;\n                case pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_def\"].ExecCode.EXEC_CODE_DELETE:\n                    this.mStateMap.delete(sta.name);\n                    break;\n            }\n        }\n    };\n    Room.prototype.clear = function () {\n        if (this.mLayManager)\n            this.mLayManager.destroy();\n        if (this.mTerrainManager)\n            this.mTerrainManager.destroy();\n        if (this.mElementManager)\n            this.mElementManager.destroy();\n        if (this.mPlayerManager)\n            this.mPlayerManager.destroy();\n        if (this.mBlocks)\n            this.mBlocks.destroy();\n        if (this.mSkyboxManager)\n            this.mSkyboxManager.destroy();\n        if (this.mWallManager)\n            this.mWallManager.destroy();\n        if (this.mActorData) {\n            this.mActorData = null;\n        }\n        if (this.mStateMap)\n            this.mStateMap = null;\n        if (this.mCameraService)\n            this.mCameraService.destroy();\n        if (this.mEffectManager)\n            this.mEffectManager.destroy();\n    };\n    Room.prototype.destroy = function () {\n        this.clear();\n        this.world.emitter.off(\"Tap\", this.onTapHandler, this);\n        if (this.connection)\n            this.connection.removePacketListener(this);\n        this.mWorld.game.scene.remove(_scenes_play__WEBPACK_IMPORTED_MODULE_8__[\"PlayScene\"].name);\n        this.world.emitter.off(_const_MessageType__WEBPACK_IMPORTED_MODULE_13__[\"MessageType\"].PRESS_ELEMENT, this.onPressElementHandler, this);\n        // if (this.mScene) {\n        //   this.mScene = null;\n        // }\n    };\n    Room.prototype.initSkyBox = function () {\n        var scenerys = this.world.elementStorage.getScenerys();\n        if (scenerys) {\n            for (var _i = 0, scenerys_1 = scenerys; _i < scenerys_1.length; _i++) {\n                var scenery = scenerys_1[_i];\n                this.addSkyBox(scenery);\n            }\n        }\n    };\n    Room.prototype.addSkyBox = function (scenery) {\n        this.mSkyboxManager.add(scenery);\n    };\n    Room.prototype.onPointerDownHandler = function (pointer) {\n        this.addPointerMoveHandler();\n    };\n    Room.prototype.onPointerUpHandler = function (pointer) {\n        this.removePointerMoveHandler();\n    };\n    Room.prototype.addPointerMoveHandler = function () {\n        this.mScene.input.on(\"pointermove\", this.onPointerMoveHandler, this);\n        this.mScene.input.on(\"gameout\", this.onGameOutHandler, this);\n    };\n    Room.prototype.removePointerMoveHandler = function () {\n        this.mScene.input.off(\"pointermove\", this.onPointerMoveHandler, this);\n        this.mScene.input.off(\"gameout\", this.onGameOutHandler, this);\n        if (this.cameraService.moving) {\n            this.cameraService.syncCameraScroll();\n            this.cameraService.moving = false;\n        }\n    };\n    Room.prototype.onPointerMoveHandler = function (pointer) {\n        if (!this.mCameraService.targetFollow) {\n            this.cameraService.offsetScroll(pointer.prevPosition.x - pointer.position.x, pointer.prevPosition.y - pointer.position.y);\n        }\n    };\n    Room.prototype.onGameOutHandler = function () {\n        this.removePointerMoveHandler();\n    };\n    Room.prototype.handlerState = function (state) {\n        switch (state.name) {\n            case \"skyBoxAnimation\":\n                this.mSkyboxManager.setState(state);\n                break;\n        }\n    };\n    Object.defineProperty(Room.prototype, \"scene\", {\n        get: function () {\n            return this.mScene || undefined;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Room.prototype, \"terrainManager\", {\n        get: function () {\n            return this.mTerrainManager || undefined;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Room.prototype, \"elementManager\", {\n        get: function () {\n            return this.mElementManager || undefined;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Room.prototype, \"playerManager\", {\n        get: function () {\n            return this.mPlayerManager || undefined;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Room.prototype, \"layerManager\", {\n        get: function () {\n            return this.mLayManager || undefined;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Room.prototype, \"groupManager\", {\n        get: function () {\n            return this.mGroupManager || undefined;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Room.prototype, \"frameManager\", {\n        get: function () {\n            return this.mFrameManager || undefined;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Room.prototype, \"cameraService\", {\n        get: function () {\n            return this.mCameraService || undefined;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Room.prototype, \"effectManager\", {\n        get: function () {\n            return this.mEffectManager;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Room.prototype, \"id\", {\n        get: function () {\n            return this.mID;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Room.prototype, \"roomSize\", {\n        get: function () {\n            return this.mSize || undefined;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Room.prototype, \"miniSize\", {\n        get: function () {\n            return this.mMiniSize;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Room.prototype, \"blocks\", {\n        get: function () {\n            return this.mBlocks;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Room.prototype, \"world\", {\n        get: function () {\n            return this.mWorld;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Room.prototype, \"enableEdit\", {\n        get: function () {\n            return this.mEnableEdit;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Room.prototype, \"connection\", {\n        get: function () {\n            if (this.manager) {\n                return this.manager.connection;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Room.prototype, \"sceneType\", {\n        get: function () {\n            return pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_def\"].SceneTypeEnum.NORMAL_SCENE_TYPE;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Room.prototype.onPressElementHandler = function (pointer, gameObject) {\n        if (!gameObject || !gameObject.parentContainer) {\n            return;\n        }\n        var com = gameObject.parentContainer;\n        if (!(com instanceof _display_display_object__WEBPACK_IMPORTED_MODULE_14__[\"DisplayObject\"])) {\n            return;\n        }\n        var ele = com.element;\n        if (!(ele instanceof _element_element__WEBPACK_IMPORTED_MODULE_12__[\"Element\"])) {\n            return;\n        }\n        if (this.mEnableEdit) {\n            var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_7__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_EDIT_MODE_ENTER);\n            this.connection.send(packet);\n        }\n    };\n    Room.prototype.onEnableEditModeHandler = function (packet) {\n        this.mEnableEdit = true;\n    };\n    Room.prototype.onShowMapTitle = function (packet) {\n        if (!this.scene) {\n            return;\n        }\n        var content = packet.content;\n        var area = new _editor_reference_area__WEBPACK_IMPORTED_MODULE_15__[\"ReferenceArea\"](this.scene, this);\n        var num = [];\n        var intArray = content.intArray;\n        for (var i = 0; i < intArray.length; i++) {\n            num[i] = [];\n            for (var j = 0; j < intArray[i].value.length; j++) {\n                num[i][j] = intArray[i].value[j];\n            }\n            // num[i] = intArray[i];\n        }\n        area.draw(num, new Phaser.Geom.Point(0, 0));\n        area.setAlpha(0.1);\n        if (area.size) {\n            area.setPosition(area.size.sceneWidth / 2, 0);\n            this.mLayManager.addToMiddle(area);\n        }\n    };\n    Room.prototype.addFillEffect = function (pos, status) {\n        if (!this.scene) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_18__[\"Logger\"].getInstance().log(\"Room scene  does not exist\");\n            return;\n        }\n        var fall = new _fall_effect_fall_effect__WEBPACK_IMPORTED_MODULE_17__[\"FallEffect\"](this.scene, this.mScaleRatio);\n        fall.show(status);\n        fall.setPosition(pos.x * this.mScaleRatio, pos.y * this.mScaleRatio);\n        this.addToSceneUI(fall);\n    };\n    Room.prototype.onMovePathHandler = function (packet) {\n        var content = packet.content;\n        var status = content.pathStatus;\n        if (!status) {\n            return;\n        }\n        var pos = content.targetPos;\n        this.addFillEffect({ x: pos.x, y: pos.y }, status);\n    };\n    Room.prototype.onCameraFollowHandler = function (packet) {\n        var content = packet.content;\n        var target = this.getElement(content.id);\n        if (target) {\n            if (this.mCameraService)\n                this.mCameraService.startFollow(target.getDisplay());\n        }\n        else {\n            if (this.mCameraService)\n                this.mCameraService.stopFollow();\n        }\n    };\n    Room.prototype.onSyncStateHandler = function (packet) {\n        var content = packet.content;\n        var group = content.stateGroup;\n        for (var _i = 0, group_1 = group; _i < group_1.length; _i++) {\n            var states = group_1[_i];\n            switch (states.owner.type) {\n                case pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_def\"].NodeType.SceneNodeType:\n                    this.setState(states.state);\n                    break;\n                case pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_def\"].NodeType.ElementNodeType:\n                    this.elementManager.setState(states);\n                    break;\n            }\n        }\n    };\n    Room.prototype.move = function (x, y, gameObject) {\n        if (this.moveStyle !== pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_def\"].MoveStyle.PATH_MOVE_STYLE) {\n            return;\n        }\n        if (!this.mPlayerManager) {\n            return;\n        }\n        var actor = this.mPlayerManager.actor;\n        if (!actor) {\n            return;\n        }\n        var pos45 = actor.getPosition45();\n        var click45 = this.transformTo45(new _utils_pos__WEBPACK_IMPORTED_MODULE_10__[\"Pos\"](x, y));\n        if (Math.abs(pos45.x - click45.x) > 20 || Math.abs(pos45.y - click45.y) > 20) {\n            this.addFillEffect({ x: x, y: y }, pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_def\"].PathReachableStatus.PATH_UNREACHABLE_AREA);\n            return;\n        }\n        var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_7__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_MOVE_TO_TARGET_BY_PATH);\n        var content = pkt.content;\n        // const pkt: PBpacket = new PBpacket(op_virtual_world.OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_MOUSE_EVENT);\n        // const content: op_virtual_world.IOP_CLIENT_REQ_VIRTUAL_WORLD_MOUSE_EVENT = pkt.content;\n        if (gameObject) {\n            var displsy = gameObject.parentContainer.parentContainer || gameObject.parentContainer;\n            if (displsy && displsy instanceof _display_display_object__WEBPACK_IMPORTED_MODULE_14__[\"DisplayObject\"]) {\n                var ele = displsy.element;\n                if (ele && ele.model) {\n                    content.id = ele.model.id;\n                    content.nodeType = ele.model.nodeType;\n                }\n            }\n        }\n        // content.mouseEvent = [9];\n        content.point3f = { x: x, y: y };\n        this.connection.send(pkt);\n        this.tryMove();\n    };\n    Room.prototype.tryMove = function () {\n        var player = this.mPlayerManager.actor;\n        if (!player) {\n            return;\n        }\n        var moveData = player.moveData;\n        var pos = moveData.posPath;\n        if (!pos || pos.length < 0) {\n            return;\n        }\n        var step = moveData.step;\n        if (step >= pos.length) {\n            return;\n        }\n        var playerPosition = player.getPosition();\n        var position = pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_def\"].PBPoint3f.create();\n        position.x = playerPosition.x;\n        position.y = playerPosition.y;\n        var nextPosition = pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_def\"].PBPoint3f.create();\n        nextPosition.x = pos[step].x;\n        nextPosition.y = pos[step].y;\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_7__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_CHECK_MOVE_PATH_NEXT_POINT);\n        var conten = packet.content;\n        conten.timestemp = this.now();\n        conten.position = position;\n        conten.nextPoint = nextPosition;\n        this.connection.send(packet);\n    };\n    // Move through the location returned by the server\n    Room.prototype.onTapHandler = function (pointer, gameObject) {\n        this.move(pointer.worldX / this.mScaleRatio, pointer.worldY / this.mScaleRatio, gameObject);\n    };\n    Room.prototype.enterRoom = function () {\n        this.mWorld.game.scene.run(_scenes_play__WEBPACK_IMPORTED_MODULE_8__[\"PlayScene\"].name, {\n            room: this,\n        });\n    };\n    return Room;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_7__[\"PacketHandler\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/room.ts?");

/***/ }),

/***/ "./src/rooms/sky.box/block.manager.ts":
/*!********************************************!*\
  !*** ./src/rooms/sky.box/block.manager.ts ***!
  \********************************************/
/*! exports provided: BlockManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BlockManager\", function() { return BlockManager; });\n/* harmony import */ var _ui_components_dynamic_image__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../ui/components/dynamic.image */ \"./src/ui/components/dynamic.image.ts\");\n/* harmony import */ var _utils_log__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/log */ \"./src/utils/log.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _scenes_sky_box__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../scenes/sky.box */ \"./src/scenes/sky.box.ts\");\n/* harmony import */ var _scenery__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./scenery */ \"./src/rooms/sky.box/scenery.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar BlockManager = /** @class */ (function () {\n    function BlockManager(scenery, room) {\n        this.mRows = 1;\n        this.mCols = 1;\n        this.mSceneName = \"\";\n        this.mGrids = [];\n        this.mScenery = scenery;\n        this.mUris = scenery.uris;\n        this.mRoom = room;\n        this.mWorld = room.world;\n        this.mCameras = room.cameraService;\n        this.mMainCamera = this.mCameras.camera;\n        this.mScaleRatio = this.mWorld.scaleRatio;\n        this.setSize(scenery.width, scenery.height);\n        var playScene = room.scene;\n        if (!playScene) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_1__[\"Logger\"].getInstance().fatal(BlockManager.name + \" scene does not exist\");\n            return;\n        }\n        this.mSceneName = _scenes_sky_box__WEBPACK_IMPORTED_MODULE_3__[\"SkyBoxScene\"].name + (\"_\" + scenery.id);\n        var scene = this.mWorld.game.scene.add(this.mSceneName, _scenes_sky_box__WEBPACK_IMPORTED_MODULE_3__[\"SkyBoxScene\"], false);\n        playScene.scene.launch(this.mSceneName, this);\n        this.updateDepth();\n    }\n    BlockManager.prototype.startPlay = function (scene) {\n        var _this = this;\n        this.scene = scene;\n        this.initBlock();\n        if (this.mStateMap) {\n            this.mStateMap.forEach(function (state) { return _this.handlerState(state); });\n        }\n    };\n    BlockManager.prototype.check = function (time, delta) {\n        var worldView = this.mMainCamera.worldView;\n        var viewPort = new Phaser.Geom.Rectangle(worldView.x - worldView.width / 2, worldView.y - worldView.height / 2, worldView.width * 2, worldView.height * 2);\n        for (var _i = 0, _a = this.mGrids; _i < _a.length; _i++) {\n            var block = _a[_i];\n            block.checkCamera(Phaser.Geom.Intersects.RectangleToRectangle(viewPort, block.rectangle));\n        }\n    };\n    BlockManager.prototype.update = function (scenery) {\n        this.mScenery = scenery;\n        this.mUris = scenery.uris;\n        this.setSize(scenery.width, scenery.height);\n        this.initBlock();\n        this.updateDepth();\n    };\n    BlockManager.prototype.setSize = function (imageW, imageH, gridW, gridH) {\n        if (gridW === undefined)\n            gridW = imageW;\n        if (gridH === undefined)\n            gridH = imageH;\n        this.mRows = Math.ceil(imageW / gridW);\n        this.mCols = Math.ceil(imageH / gridH);\n        this.mGridWidth = gridW;\n        this.mGridHeight = gridH;\n    };\n    BlockManager.prototype.updatePosition = function () {\n        var camera = this.scene.cameras.main;\n        var offset = this.mScenery.offset;\n        var loc = this.fixPosition({ x: offset.x, y: offset.y });\n        camera.setPosition(loc.x, loc.y);\n    };\n    BlockManager.prototype.destroy = function () {\n        if (this.mWorld && this.mWorld.game) {\n            this.mWorld.game.scene.remove(this.mSceneName);\n        }\n        this.mGrids.length = 0;\n    };\n    BlockManager.prototype.setState = function (state) {\n        this.handlerState(state);\n    };\n    BlockManager.prototype.playSkyBoxAnimation = function (packet) {\n        var id = packet.id, targets = packet.targets, duration = packet.duration, reset = packet.reset, resetDuration = packet.resetDuration;\n        if (id === undefined || targets === undefined || duration === undefined) {\n            return;\n        }\n        if (!this.scene) {\n            return;\n        }\n        if (id !== this.mScenery.id) {\n            return;\n        }\n        var camera = this.scene.cameras.main;\n        this.move(camera, this.fixPosition(targets), duration, this.fixPosition(reset), resetDuration);\n    };\n    BlockManager.prototype.handlerState = function (state) {\n        var packet = state.packet;\n        for (var _i = 0, packet_1 = packet; _i < packet_1.length; _i++) {\n            var prop = packet_1[_i];\n            if (this.mScenery.id === prop.id) {\n                this.playSkyBoxAnimation(prop);\n            }\n        }\n    };\n    BlockManager.prototype.updateDepth = function () {\n        if (!this.mRoom) {\n            return;\n        }\n        var playScene = this.mRoom.scene;\n        if (!this.mScenery || !playScene) {\n            return;\n        }\n        var scene = this.mWorld.game.scene.getScene(this.mSceneName);\n        if (!scene) {\n            return;\n        }\n        if (this.mScenery.depth < 0) {\n            scene.scene.sendToBack(this.mSceneName);\n        }\n        else {\n            scene.scene.moveAbove(playScene.sys.settings.key, this.mSceneName);\n        }\n    };\n    BlockManager.prototype.initBlock = function () {\n        this.clear();\n        this.mContainer = this.scene.add.container(0, 0);\n        this.mContainer.setScale(this.mWorld.scaleRatio);\n        var len = this.mUris.length;\n        // TODO\n        if (this.mScenery.fit === _scenery__WEBPACK_IMPORTED_MODULE_4__[\"Fit\"].Repeat) {\n            var room = this.mRoom;\n            var _a = room.getMaxScene(), width = _a.width, height = _a.height;\n            var rows = Math.floor(width / this.mScenery.width);\n            var cols = Math.floor(height / this.mScenery.height);\n            for (var i = 0; i < rows; i++) {\n                for (var j = 0; j < cols; j++) {\n                    var block = new Block(this.scene, this.mUris[0][0]);\n                    block.setRectangle(i * this.mRows * this.mGridWidth, j * this.mRows * this.mGridHeight, this.mGridWidth, this.mGridHeight, this.mScaleRatio);\n                    this.mGrids.push(block);\n                }\n            }\n        }\n        else {\n            for (var i = 0; i < len; i++) {\n                var l = this.mUris[i].length;\n                for (var j = 0; j < l; j++) {\n                    var block = new Block(this.scene, this.mUris[i][j]);\n                    block.setRectangle(i * this.mRows * this.mGridWidth, j * this.mRows * this.mGridHeight, this.mGridWidth, this.mGridHeight, this.mScaleRatio);\n                    this.mGrids.push(block);\n                }\n            }\n        }\n        this.mContainer.add(this.mGrids);\n        this.initCamera();\n    };\n    BlockManager.prototype.move = function (targets, props, duration, resetProps, resetDuration) {\n        var _this = this;\n        var tween = this.scene.tweens.add({\n            targets: targets,\n            props: props,\n            duration: duration,\n            loop: -1,\n        });\n        if (resetProps) {\n            tween.once(\"loop\", function () {\n                if (resetProps) {\n                    targets.x = resetProps.x;\n                    targets.y = resetProps.y;\n                }\n                // else {\n                //   const { x, y } = this.mScenery.offset;\n                //   offset = this.fixPosition({ x, y });\n                //   targets.x = offset.x;\n                //   targets.y = offset.y;\n                // }\n                tween.stop();\n                _this.move(targets, props, resetDuration);\n                // tween.duration = resetDuration;\n            });\n        }\n    };\n    BlockManager.prototype.initCamera = function () {\n        var camera = this.scene.cameras.main;\n        if (this.mCameras) {\n            var main = this.mCameras.camera;\n            var bound = main.getBounds();\n            camera.setBounds(bound.x, bound.y, bound.width, bound.height);\n            this.updatePosition();\n            camera.setScroll(main.scrollX, main.scrollY);\n            this.mCameras.addCamera(camera);\n        }\n    };\n    BlockManager.prototype.clear = function () {\n        for (var _i = 0, _a = this.mGrids; _i < _a.length; _i++) {\n            var grid = _a[_i];\n            grid.destroy();\n        }\n        this.mGrids.length = 0;\n        if (this.mContainer) {\n            this.mContainer.destroy(true);\n        }\n    };\n    Object.defineProperty(BlockManager.prototype, \"world\", {\n        get: function () {\n            return this.mWorld;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BlockManager.prototype, \"scenery\", {\n        get: function () {\n            return this.mScenery;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BlockManager.prototype.fixPosition = function (props) {\n        if (!props)\n            return;\n        var offset = this.offset;\n        if (props.x !== undefined) {\n            props.x = (offset.x + props.x) * this.mWorld.scaleRatio;\n        }\n        if (props.y !== undefined) {\n            props.y = (offset.y + props.y) * this.mWorld.scaleRatio;\n        }\n        return props;\n    };\n    Object.defineProperty(BlockManager.prototype, \"offset\", {\n        get: function () {\n            var os = { x: 0, y: 0 };\n            var x = 0;\n            var y = 0;\n            if (this.mScenery) {\n                if (this.mScenery.fit === _scenery__WEBPACK_IMPORTED_MODULE_4__[\"Fit\"].Center) {\n                    var size = this.mRoom.roomSize;\n                    var _a = this.mScenery, width = _a.width, height = _a.height;\n                    x = size.sceneWidth - width >> 1;\n                    y = size.sceneHeight - height >> 1;\n                }\n            }\n            return { x: x, y: y };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return BlockManager;\n}());\n\nvar Block = /** @class */ (function (_super) {\n    __extends(Block, _super);\n    function Block(scene, key) {\n        var _this = _super.call(this, scene, 0, 0) || this;\n        _this.mLoaded = false;\n        _this.mInCamera = false;\n        _this.mKey = key;\n        _this.setOrigin(0);\n        return _this;\n        // this.mRectangle = new Phaser.Geom.Rectangle(this.x, this.y, 1, 1);\n    }\n    Block.prototype.checkCamera = function (val) {\n        if (this.mInCamera !== val) {\n            this.mInCamera = val;\n            if (this.mLoaded) {\n                // TODO\n                // this.setActive(val);\n            }\n            else {\n                this.load(_utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Url\"].getOsdRes(this.mKey));\n            }\n        }\n    };\n    Block.prototype.setRectangle = function (x, y, width, height, scale) {\n        if (scale === void 0) { scale = 1; }\n        this.x = x;\n        this.y = y;\n        this.mRectangle = new Phaser.Geom.Rectangle(x * scale, y * scale, width * scale, height * scale);\n    };\n    Object.defineProperty(Block.prototype, \"rectangle\", {\n        get: function () {\n            return this.mRectangle;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Block.prototype.onLoadComplete = function (file) {\n        _super.prototype.onLoadComplete.call(this, file);\n        if (this.texture) {\n            this.mLoaded = true;\n            this.texture.setFilter(Phaser.Textures.FilterMode.NEAREST);\n            this.mRectangle.setSize(this.width, this.height);\n        }\n    };\n    return Block;\n}(_ui_components_dynamic_image__WEBPACK_IMPORTED_MODULE_0__[\"DynamicImage\"]));\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/sky.box/block.manager.ts?");

/***/ }),

/***/ "./src/rooms/sky.box/editor.block.manager.ts":
/*!***************************************************!*\
  !*** ./src/rooms/sky.box/editor.block.manager.ts ***!
  \***************************************************/
/*! exports provided: EditorBlockManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EditorBlockManager\", function() { return EditorBlockManager; });\n/* harmony import */ var _block_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./block.manager */ \"./src/rooms/sky.box/block.manager.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar EditorBlockManager = /** @class */ (function (_super) {\n    __extends(EditorBlockManager, _super);\n    function EditorBlockManager(scenery, room) {\n        return _super.call(this, scenery, room) || this;\n    }\n    EditorBlockManager.prototype.move = function () {\n    };\n    return EditorBlockManager;\n}(_block_manager__WEBPACK_IMPORTED_MODULE_0__[\"BlockManager\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/sky.box/editor.block.manager.ts?");

/***/ }),

/***/ "./src/rooms/sky.box/editor.sky.box.manager.ts":
/*!*****************************************************!*\
  !*** ./src/rooms/sky.box/editor.sky.box.manager.ts ***!
  \*****************************************************/
/*! exports provided: EditorSkyBoxManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EditorSkyBoxManager\", function() { return EditorSkyBoxManager; });\n/* harmony import */ var _sky_box_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sky.box.manager */ \"./src/rooms/sky.box/sky.box.manager.ts\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _scenery__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./scenery */ \"./src/rooms/sky.box/scenery.ts\");\n/* harmony import */ var _editor_block_manager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./editor.block.manager */ \"./src/rooms/sky.box/editor.block.manager.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\nvar EditorSkyBoxManager = /** @class */ (function (_super) {\n    __extends(EditorSkyBoxManager, _super);\n    function EditorSkyBoxManager(room) {\n        var _this = _super.call(this, room) || this;\n        var connection = room.connection;\n        if (connection) {\n            connection.addPacketListener(_this);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_EDITOR_REQ_CLIENT_ADD_SCENERY, _this.onAddSceneryHandler);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_EDITOR_REQ_CLIENT_UPDATE_SCENERY, _this.onUpdateSceneryHandler);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_EDITOR_REQ_CLIENT_DELETE_SCENERY, _this.onDeleteSceneryHandler);\n        }\n        return _this;\n    }\n    EditorSkyBoxManager.prototype.add = function (scenery) {\n        this.mScenetys.set(scenery.id, new _editor_block_manager__WEBPACK_IMPORTED_MODULE_4__[\"EditorBlockManager\"](scenery, this.mRoom));\n    };\n    EditorSkyBoxManager.prototype.fetch = function (id) {\n        if (!this.mScenetys) {\n            return;\n        }\n        this.mSelected = this.mScenetys.get(id);\n    };\n    EditorSkyBoxManager.prototype.move = function (pointer) {\n        if (!this.selected) {\n            return;\n        }\n        var scenery = this.mSelected.scenery;\n        if (!scenery) {\n            return;\n        }\n        var offset = scenery.offset;\n        offset.x += (pointer.x - pointer.prevPosition.x) / this.mRoom.world.scaleRatio;\n        offset.y += (pointer.y - pointer.prevPosition.y) / this.mRoom.world.scaleRatio;\n        this.mSelected.updatePosition();\n        this.onSyncSceneryOffset();\n    };\n    EditorSkyBoxManager.prototype.keyboardMove = function (keyCode) {\n        if (!this.mSelected) {\n            return;\n        }\n        var scenery = this.mSelected.scenery;\n        if (!scenery) {\n            return;\n        }\n        var offset = scenery.offset;\n        switch (keyCode) {\n            case 37:\n            case 65:\n                offset.x--;\n                break;\n            case 38:\n            case 87:\n                offset.y--;\n                break;\n            case 39:\n            case 68:\n                offset.x++;\n                break;\n            case 40:\n            case 83:\n                offset.y++;\n                break;\n        }\n        this.mSelected.updatePosition();\n        this.onSyncSceneryOffset();\n    };\n    EditorSkyBoxManager.prototype.removeSelect = function () {\n        if (this.mSelected) {\n            this.mSelected = undefined;\n        }\n    };\n    EditorSkyBoxManager.prototype.onAddSceneryHandler = function (packet) {\n        var content = packet.content;\n        this.add(new _scenery__WEBPACK_IMPORTED_MODULE_3__[\"Scenery\"](content));\n    };\n    EditorSkyBoxManager.prototype.onUpdateSceneryHandler = function (packet) {\n        var content = packet.content;\n        this.update(new _scenery__WEBPACK_IMPORTED_MODULE_3__[\"Scenery\"](content));\n    };\n    EditorSkyBoxManager.prototype.onDeleteSceneryHandler = function (packet) {\n        var content = packet.content;\n        var ids = content.ids;\n        for (var _i = 0, ids_1 = ids; _i < ids_1.length; _i++) {\n            var id = ids_1[_i];\n            this.remove(id);\n        }\n    };\n    EditorSkyBoxManager.prototype.onSyncSceneryOffset = function () {\n        var scenery = this.mSelected.scenery;\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_2__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_editor\"].OPCODE._OP_CLIENT_REQ_EDITOR_UPDATE_SCENERY);\n        var content = packet.content;\n        content.id = scenery.id;\n        var offset = pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].PBPoint2f.create();\n        Object.assign(offset, scenery.offset);\n        content.offset = offset;\n        this.mRoom.connection.send(packet);\n    };\n    Object.defineProperty(EditorSkyBoxManager.prototype, \"selected\", {\n        get: function () {\n            return this.mSelected;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return EditorSkyBoxManager;\n}(_sky_box_manager__WEBPACK_IMPORTED_MODULE_0__[\"SkyBoxManager\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/sky.box/editor.sky.box.manager.ts?");

/***/ }),

/***/ "./src/rooms/sky.box/scenery.ts":
/*!**************************************!*\
  !*** ./src/rooms/sky.box/scenery.ts ***!
  \**************************************/
/*! exports provided: Scenery, Fit */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Scenery\", function() { return Scenery; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Fit\", function() { return Fit; });\n/* harmony import */ var _utils_log__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/log */ \"./src/utils/log.ts\");\n\nvar Scenery = /** @class */ (function () {\n    function Scenery(scenery) {\n        this.mID = scenery.id;\n        this.mDepth = scenery.depth;\n        this.mUris = [];\n        var uris = null;\n        if (Array.isArray(scenery.uris)) {\n            uris = scenery.uris;\n        }\n        else {\n            uris = scenery.uris.value;\n        }\n        if (uris.length < 1) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_0__[\"Logger\"].getInstance().error(Scenery.name + \": scenery uris is empty\");\n        }\n        for (var i = 0; i < uris.length; i++) {\n            var val = uris[i].value || uris;\n            this.mUris[i] = new Array(val.length);\n            for (var j = 0; j < val.length; j++) {\n                this.mUris[i][j] = val[j];\n            }\n        }\n        this.mSpeed = scenery.speed || 1;\n        if (!scenery.width) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_0__[\"Logger\"].getInstance().error(Scenery.name + \": scenery width is \" + scenery.width);\n        }\n        if (!scenery.height) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_0__[\"Logger\"].getInstance().error(Scenery.name + \": scenery height is \" + scenery.height);\n        }\n        this.mWidth = scenery.width;\n        this.mHeight = scenery.height;\n        this.mFit = scenery.fit;\n        this.mOffset = scenery.offset || { x: 0, y: 0 };\n    }\n    Object.defineProperty(Scenery.prototype, \"width\", {\n        get: function () {\n            return this.mWidth;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Scenery.prototype, \"height\", {\n        get: function () {\n            return this.mHeight;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Scenery.prototype, \"id\", {\n        get: function () {\n            return this.mID;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Scenery.prototype, \"depth\", {\n        get: function () {\n            return this.mDepth;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Scenery.prototype, \"offset\", {\n        get: function () {\n            return this.mOffset;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Scenery.prototype, \"speed\", {\n        get: function () {\n            return this.mSpeed;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Scenery.prototype, \"uris\", {\n        get: function () {\n            return this.mUris;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Scenery.prototype, \"fit\", {\n        get: function () {\n            return this.mFit;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Scenery;\n}());\n\nvar Fit;\n(function (Fit) {\n    Fit[Fit[\"Center\"] = 1] = \"Center\";\n    Fit[Fit[\"Fill\"] = 2] = \"Fill\";\n    Fit[Fit[\"Stretch\"] = 3] = \"Stretch\";\n    Fit[Fit[\"Repeat\"] = 4] = \"Repeat\";\n})(Fit || (Fit = {}));\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/sky.box/scenery.ts?");

/***/ }),

/***/ "./src/rooms/sky.box/sky.box.manager.ts":
/*!**********************************************!*\
  !*** ./src/rooms/sky.box/sky.box.manager.ts ***!
  \**********************************************/
/*! exports provided: SkyBoxManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SkyBoxManager\", function() { return SkyBoxManager; });\n/* harmony import */ var _block_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./block.manager */ \"./src/rooms/sky.box/block.manager.ts\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_1__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar SkyBoxManager = /** @class */ (function (_super) {\n    __extends(SkyBoxManager, _super);\n    function SkyBoxManager(room) {\n        var _this = _super.call(this) || this;\n        _this.mRoom = room;\n        _this.mScenetys = new Map();\n        return _this;\n    }\n    SkyBoxManager.prototype.add = function (scenery) {\n        // if (scenery.id === 1896802976) {\n        //   return;\n        // }\n        var blockManager = new _block_manager__WEBPACK_IMPORTED_MODULE_0__[\"BlockManager\"](scenery, this.mRoom);\n        this.mScenetys.set(scenery.id, blockManager);\n        // if (this.mStateMap) {\n        //   blockManager.setState(this.mStateMap);\n        // }\n    };\n    SkyBoxManager.prototype.update = function (scenery) {\n        var block = this.mScenetys.get(scenery.id);\n        if (block) {\n            block.update(scenery);\n        }\n    };\n    SkyBoxManager.prototype.remove = function (id) {\n        var block = this.mScenetys.get(id);\n        if (block) {\n            block.destroy();\n        }\n    };\n    SkyBoxManager.prototype.setState = function (states) {\n        if (!this.mStateMap) {\n            this.mStateMap = new Map();\n        }\n        this.mStateMap.set(states.name, states);\n        this.mScenetys.forEach(function (block) {\n            block.setState(states);\n        });\n    };\n    SkyBoxManager.prototype.destroy = function () {\n        if (this.mRoom) {\n            var connection = this.mRoom.connection;\n            if (connection) {\n                connection.removePacketListener(this);\n            }\n        }\n        this.mScenetys.forEach(function (scenery) { return scenery.destroy(); });\n        this.mScenetys.clear();\n    };\n    Object.defineProperty(SkyBoxManager.prototype, \"scenery\", {\n        get: function () {\n            return Array.from(this.mScenetys.values());\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return SkyBoxManager;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_1__[\"PacketHandler\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/sky.box/sky.box.manager.ts?");

/***/ }),

/***/ "./src/rooms/state/parse.ts":
/*!**********************************!*\
  !*** ./src/rooms/state/parse.ts ***!
  \**********************************/
/*! exports provided: StateParse */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"StateParse\", function() { return StateParse; });\n/* harmony import */ var buffer___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! buffer/ */ \"./node_modules/node-libs-browser/node_modules/buffer/index.js\");\n/* harmony import */ var buffer___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(buffer___WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils_log__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/log */ \"./src/utils/log.ts\");\n\n\nvar StateParse = /** @class */ (function () {\n    function StateParse() {\n    }\n    StateParse.decode = function (name, packet) {\n        if (this[name]) {\n            return StateParse[name](packet);\n        }\n        return StateParse.json(packet);\n    };\n    StateParse.json = function (packet) {\n        var buf = buffer___WEBPACK_IMPORTED_MODULE_0__[\"Buffer\"].from(packet);\n        var len = buf.readUInt32BE(0);\n        try {\n            var content = buf.slice(4);\n            if (len === content.length) {\n                return JSON.parse(content.toString());\n            }\n            _utils_log__WEBPACK_IMPORTED_MODULE_1__[\"Logger\"].getInstance().error(\"parse packet error. packet length: \" + len + \" received length: \" + content.length);\n        }\n        catch (error) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_1__[\"Logger\"].getInstance().error(error);\n        }\n    };\n    return StateParse;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/state/parse.ts?");

/***/ }),

/***/ "./src/rooms/state/state.group.ts":
/*!****************************************!*\
  !*** ./src/rooms/state/state.group.ts ***!
  \****************************************/
/*! exports provided: StateGroup, State */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"StateGroup\", function() { return StateGroup; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"State\", function() { return State; });\n/* harmony import */ var _parse__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parse */ \"./src/rooms/state/parse.ts\");\n\nvar StateGroup = /** @class */ (function () {\n    function StateGroup() {\n        this.states = [];\n    }\n    StateGroup.prototype.update = function (group) {\n        this.mName = group.owner.name;\n    };\n    return StateGroup;\n}());\n\nvar State = /** @class */ (function () {\n    function State(state) {\n        this.mType = state.type;\n        this.mName = state.name;\n        if (state.packet) {\n            // TODO packet\n            this.mPacket = _parse__WEBPACK_IMPORTED_MODULE_0__[\"StateParse\"].decode(state.name, state.packet);\n        }\n    }\n    Object.defineProperty(State.prototype, \"name\", {\n        get: function () {\n            return this.mName;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(State.prototype, \"type\", {\n        get: function () {\n            return this.mType;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(State.prototype, \"packet\", {\n        get: function () {\n            return this.mPacket;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return State;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/state/state.group.ts?");

/***/ }),

/***/ "./src/rooms/terrain/decorate.terrain.manager.ts":
/*!*******************************************************!*\
  !*** ./src/rooms/terrain/decorate.terrain.manager.ts ***!
  \*******************************************************/
/*! exports provided: DecorateTerrainManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DecorateTerrainManager\", function() { return DecorateTerrainManager; });\n/* harmony import */ var _terrain_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./terrain.manager */ \"./src/rooms/terrain/terrain.manager.ts\");\n/* harmony import */ var _element_sprite__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../element/sprite */ \"./src/rooms/element/sprite.ts\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar DecorateTerrainManager = /** @class */ (function (_super) {\n    __extends(DecorateTerrainManager, _super);\n    function DecorateTerrainManager(roomService) {\n        var _this = _super.call(this, roomService) || this;\n        var miniSize = roomService.miniSize;\n        _this.mMap = new Array(miniSize.rows);\n        for (var i = 0; i < miniSize.rows; i++) {\n            _this.mMap[i] = new Array(miniSize.cols).fill(0);\n        }\n        return _this;\n    }\n    DecorateTerrainManager.prototype.remove = function (id) {\n        var terrain = _super.prototype.remove.call(this, id);\n        if (terrain) {\n            this.removeMap(terrain.model);\n        }\n        return terrain;\n    };\n    DecorateTerrainManager.prototype.canPut = function (pos45, collisionArea, origin) {\n        var row = 0;\n        var col = 0;\n        var map = this.map;\n        for (var i = 0; i < collisionArea.length; i++) {\n            row = i + pos45.y - origin.y;\n            if (row >= map.length) {\n                return false;\n            }\n            for (var j = 0; j < collisionArea[i].length; j++) {\n                col = j + pos45.x - origin.x;\n                if (col >= map[i].length || map[row][col] === 0) {\n                    return false;\n                }\n            }\n        }\n    };\n    DecorateTerrainManager.prototype._add = function (sprite) {\n        var terrain = _super.prototype._add.call(this, sprite);\n        var displayInfo = sprite.displayInfo;\n        if (displayInfo) {\n            this.addMap(sprite);\n        }\n        return terrain;\n    };\n    DecorateTerrainManager.prototype.onSyncSprite = function (packet) {\n        var content = packet.content;\n        if (content.nodeType !== pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].NodeType.TerrainNodeType) {\n            return;\n        }\n        var terrain = null;\n        var sprites = content.sprites;\n        for (var _i = 0, sprites_1 = sprites; _i < sprites_1.length; _i++) {\n            var sprite = sprites_1[_i];\n            terrain = this.get(sprite.id);\n            if (terrain) {\n                var sp = new _element_sprite__WEBPACK_IMPORTED_MODULE_1__[\"Sprite\"](sprite, content.nodeType);\n                terrain.model = sp;\n                if (sp.displayInfo) {\n                    this.addMap(sp);\n                }\n                // terrain.setRenderable(true);\n            }\n        }\n    };\n    DecorateTerrainManager.prototype.addMap = function (sprite) {\n        this.setMap(sprite, 1);\n    };\n    DecorateTerrainManager.prototype.removeMap = function (sprite) {\n        this.setMap(sprite, 0);\n    };\n    DecorateTerrainManager.prototype.setMap = function (sprite, type) {\n        var displayInfo = sprite.displayInfo;\n        if (!displayInfo) {\n            return;\n        }\n        var curAni = sprite.currentAnimation;\n        var aniName = curAni.name;\n        var flip = curAni.flip;\n        var collisionArea = displayInfo.getCollisionArea(aniName, flip);\n        var walkArea = displayInfo.getWalkableArea(aniName, flip);\n        var origin = displayInfo.getOriginPoint(aniName, flip);\n        var rows = collisionArea.length;\n        var cols = collisionArea[0].length;\n        var hasCollisionArea = true;\n        if (rows === 1 && cols === 1) {\n            rows = 2;\n            cols = 2;\n            hasCollisionArea = false;\n        }\n        var pos = sprite.pos;\n        // terrain pos60*30\n        pos.x *= 2;\n        pos.y *= 2;\n        var _x = 0;\n        var _y = 0;\n        for (var i = 0; i < rows; i++) {\n            _x = pos.y + i - origin.x;\n            for (var j = 0; j < cols; j++) {\n                if ((!hasCollisionArea) || collisionArea[i][j] === 1 && walkArea[i][j] === 1) {\n                    _y = pos.x + j - origin.y;\n                    if (_x >= this.mMap.length || _y >= this.mMap[_x].length) {\n                        continue;\n                    }\n                    this.mMap[_x][_y] = type;\n                }\n            }\n        }\n    };\n    return DecorateTerrainManager;\n}(_terrain_manager__WEBPACK_IMPORTED_MODULE_0__[\"TerrainManager\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/terrain/decorate.terrain.manager.ts?");

/***/ }),

/***/ "./src/rooms/terrain/editor.terrain.manager.ts":
/*!*****************************************************!*\
  !*** ./src/rooms/terrain/editor.terrain.manager.ts ***!
  \*****************************************************/
/*! exports provided: EditorTerrainManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EditorTerrainManager\", function() { return EditorTerrainManager; });\n/* harmony import */ var _terrain_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./terrain.manager */ \"./src/rooms/terrain/terrain.manager.ts\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _utils_log__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/log */ \"./src/utils/log.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n\n\n\n\nvar EditorTerrainManager = /** @class */ (function (_super) {\n    __extends(EditorTerrainManager, _super);\n    function EditorTerrainManager(mRoom, listener) {\n        var _this = _super.call(this, mRoom, listener) || this;\n        _this.mRoom = mRoom;\n        _this.taskQueue = new Map();\n        _this.mEditorTerrains = new Map();\n        if (_this.connection) {\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_client\"].OPCODE._OP_EDITOR_REQ_CLIENT_ADD_SPRITES_WITH_LOCS, _this.handleAddTerrains);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_client\"].OPCODE._OP_EDITOR_REQ_CLIENT_DELETE_SPRITES_WITH_LOCS, _this.handleDeleteTerrains);\n        }\n        return _this;\n    }\n    EditorTerrainManager.prototype.addTerrains = function (terrainCoorData) {\n        var _this = this;\n        var locs = terrainCoorData.locs, key = terrainCoorData.key;\n        var drawLocs = locs.filter(function (loc) { return _this.canPut(loc, key); });\n        for (var _i = 0, drawLocs_1 = drawLocs; _i < drawLocs_1.length; _i++) {\n            var loc = drawLocs_1[_i];\n            var locId = this.genLocId(loc.x, loc.y);\n            var oldKey = this.mEditorTerrains.get(locId);\n            if (oldKey && oldKey !== key) {\n                this.taskQueue.set(locId, {\n                    action: \"UPDATE\",\n                    loc: __assign(__assign({}, loc), { key: key }),\n                });\n            }\n            else {\n                this.taskQueue.set(locId, {\n                    action: \"ADD\",\n                    loc: __assign(__assign({}, loc), { key: key }),\n                });\n            }\n        }\n        this.reqEditorAddTerrainsData(drawLocs, key);\n    };\n    EditorTerrainManager.prototype.reqEditorAddTerrainsData = function (locs, key) {\n        var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_1__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_editor\"].OPCODE._OP_CLIENT_REQ_EDITOR_ADD_TERRAINS);\n        var content = pkt.content;\n        content.locs = locs;\n        content.key = key;\n        this.connection.send(pkt);\n    };\n    EditorTerrainManager.prototype.removeTerrains = function (locations) {\n        for (var _i = 0, locations_1 = locations; _i < locations_1.length; _i++) {\n            var pos = locations_1[_i];\n            var locId = this.genLocId(pos.x, pos.y);\n            this.taskQueue.set(locId, {\n                action: \"DELETE\",\n                loc: {\n                    x: pos.x,\n                    y: pos.y,\n                },\n            });\n        }\n        this.reqEditorDeleteTerrainsData(locations);\n    };\n    EditorTerrainManager.prototype.reqEditorDeleteTerrainsData = function (loc) {\n        var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_1__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_editor\"].OPCODE._OP_CLIENT_REQ_EDITOR_DELETE_TERRAINS);\n        var content = pkt.content;\n        content.locs = loc.map(function (item) { return ({ x: item.x, y: item.y, z: item.z }); });\n        this.connection.send(pkt);\n    };\n    EditorTerrainManager.prototype.update = function () {\n        this.batchActionSprites();\n    };\n    EditorTerrainManager.prototype.handleAddTerrains = function (packet) {\n        if (!this.mRoom.layerManager) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_3__[\"Logger\"].getInstance().error(\"layer manager does not exist\");\n            return;\n        }\n        var content = packet.content;\n        var locs = content.locs;\n        var nodeType = content.nodeType;\n        if (nodeType !== pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].NodeType.TerrainNodeType) {\n            return;\n        }\n        for (var _i = 0, locs_1 = locs; _i < locs_1.length; _i++) {\n            var loc = locs_1[_i];\n            var locId = this.genLocId(loc.x, loc.y);\n            var oldKey = this.mEditorTerrains.get(locId);\n            if (oldKey && oldKey === loc.key)\n                continue;\n            this.taskQueue.set(locId, {\n                action: \"ADD\",\n                loc: loc,\n            });\n        }\n    };\n    EditorTerrainManager.prototype.handleDeleteTerrains = function (packet) {\n        if (!this.mRoom.layerManager) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_3__[\"Logger\"].getInstance().error(\"layer manager does not exist\");\n            return;\n        }\n        var content = packet.content;\n        var locs = content.locs;\n        var nodeType = content.nodeType;\n        if (nodeType !== pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].NodeType.TerrainNodeType) {\n            return;\n        }\n        for (var _i = 0, locs_2 = locs; _i < locs_2.length; _i++) {\n            var loc = locs_2[_i];\n            var locId = this.genLocId(loc.x, loc.y);\n            this.taskQueue.set(locId, {\n                action: \"DELETE\",\n                loc: loc,\n            });\n        }\n    };\n    EditorTerrainManager.prototype.canPut = function (pos, key) {\n        var locId = this.genLocId(pos.x, pos.y);\n        var roomSize = this.roomService.roomSize;\n        if (!roomSize)\n            return false;\n        if (pos.x < 0 || pos.y < 0 || pos.x >= roomSize.cols || pos.y >= roomSize.rows) {\n            return false;\n        }\n        if (this.mEditorTerrains.get(locId) === key) {\n            return false;\n        }\n        return true;\n    };\n    EditorTerrainManager.prototype.batchActionSprites = function () {\n        if (!Array.from(this.taskQueue.keys()).length) {\n            return;\n        }\n        var batchTasksKeys = Array.from(this.taskQueue.keys()).splice(0, 200);\n        for (var _i = 0, batchTasksKeys_1 = batchTasksKeys; _i < batchTasksKeys_1.length; _i++) {\n            var key = batchTasksKeys_1[_i];\n            var _a = this.taskQueue.get(key), action = _a.action, loc = _a.loc;\n            var locId = this.genLocId(loc.x, loc.y);\n            this.taskQueue.delete(key);\n            if (action === \"ADD\") {\n                var palette = this.mRoom.world.elementStorage.getTerrainPalette(loc.key);\n                if (!palette)\n                    continue;\n                var sprite = palette.createSprite({\n                    nodeType: pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].NodeType.TerrainNodeType,\n                    x: loc.x,\n                    y: loc.y,\n                });\n                this.mEditorTerrains.set(locId, loc.key);\n                this.mRoom.displayObjectPool.push(\"terrains\", locId, sprite, this);\n            }\n            else if (action === \"DELETE\") {\n                this.mEditorTerrains.delete(locId);\n                this.mRoom.displayObjectPool.remove(\"terrains\", locId);\n            }\n            else if (action === \"UPDATE\") {\n                var palette = this.mRoom.world.elementStorage.getTerrainPalette(loc.key);\n                if (!palette)\n                    continue;\n                var sprite = palette.createSprite({\n                    nodeType: pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].NodeType.TerrainNodeType,\n                    x: loc.x,\n                    y: loc.y,\n                });\n                this.mEditorTerrains.set(locId, loc.key);\n                this.mRoom.displayObjectPool.update(\"terrains\", locId, sprite);\n            }\n        }\n    };\n    EditorTerrainManager.prototype.genLocId = function (x, y) {\n        return x + \"_\" + y;\n    };\n    return EditorTerrainManager;\n}(_terrain_manager__WEBPACK_IMPORTED_MODULE_0__[\"TerrainManager\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/terrain/editor.terrain.manager.ts?");

/***/ }),

/***/ "./src/rooms/terrain/terrain.manager.ts":
/*!**********************************************!*\
  !*** ./src/rooms/terrain/terrain.manager.ts ***!
  \**********************************************/
/*! exports provided: TerrainManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TerrainManager\", function() { return TerrainManager; });\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _terrain__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./terrain */ \"./src/rooms/terrain/terrain.ts\");\n/* harmony import */ var _element_sprite__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../element/sprite */ \"./src/rooms/element/sprite.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar NodeType = pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].NodeType;\nvar TerrainManager = /** @class */ (function (_super) {\n    __extends(TerrainManager, _super);\n    function TerrainManager(mRoom, listener) {\n        var _this = _super.call(this) || this;\n        _this.mRoom = mRoom;\n        _this.hasAddComplete = false;\n        _this.mTerrains = new Map();\n        // add by 7 ----\n        _this.mPacketFrameCount = 0;\n        _this.mListener = listener;\n        if (_this.connection) {\n            _this.connection.addPacketListener(_this);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_REQ_CLIENT_ADD_SPRITE, _this.onAdd);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_REQ_CLIENT_ADD_SPRITE_END, _this.addComplete);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_REQ_CLIENT_DELETE_SPRITE, _this.onRemove);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_REQ_CLIENT_SYNC_SPRITE, _this.onSyncSprite);\n            _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_REQ_CLIENT_CHANGE_SPRITE_ANIMATION, _this.onChangeAnimation);\n        }\n        if (_this.mRoom && _this.mRoom.world) {\n            _this.mGameConfig = _this.mRoom.world.elementStorage;\n        }\n        var miniSize = _this.roomService.miniSize;\n        _this.mMap = new Array(miniSize.cols);\n        for (var i = 0; i < miniSize.rows; i++) {\n            _this.mMap[i] = new Array(miniSize.rows).fill(0);\n        }\n        return _this;\n    }\n    TerrainManager.prototype.init = function () {\n        // this.destroy();\n    };\n    TerrainManager.prototype.destroy = function () {\n        var _this = this;\n        if (this.connection) {\n            this.connection.removePacketListener(this);\n        }\n        if (!this.mTerrains)\n            return;\n        this.mTerrains.forEach(function (terrain) { return _this.remove(terrain.id); });\n        this.mTerrains.clear();\n    };\n    TerrainManager.prototype.get = function (id) {\n        var terrain = this.mTerrains.get(id);\n        if (!terrain) {\n            return;\n        }\n        return terrain;\n    };\n    TerrainManager.prototype.add = function (sprites) {\n        for (var _i = 0, sprites_1 = sprites; _i < sprites_1.length; _i++) {\n            var sprite = sprites_1[_i];\n            this._add(sprite);\n        }\n    };\n    TerrainManager.prototype.remove = function (id) {\n        if (!this.mTerrains)\n            return;\n        var terrain = this.mTerrains.get(id);\n        if (terrain) {\n            this.mTerrains.delete(id);\n            terrain.destroy();\n        }\n        return terrain;\n    };\n    TerrainManager.prototype.getElements = function () {\n        return Array.from(this.mTerrains.values());\n    };\n    TerrainManager.prototype.onAdd = function (packet) {\n        this.mPacketFrameCount++;\n        if (!this.mGameConfig) {\n            return;\n        }\n        var content = packet.content;\n        var sprites = content.sprites;\n        var type = content.nodeType;\n        var pf = content.packet;\n        if (type !== pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].NodeType.TerrainNodeType) {\n            return;\n        }\n        var point;\n        var ids = [];\n        // sprites \n        for (var _i = 0, sprites_2 = sprites; _i < sprites_2.length; _i++) {\n            var sprite = sprites_2[_i];\n            point = sprite.point3f;\n            if (point) {\n                var s = new _element_sprite__WEBPACK_IMPORTED_MODULE_3__[\"Sprite\"](sprite, type);\n                if (!s.displayInfo) {\n                    this.checkTerrainDisplay(s);\n                }\n                if (!s.displayInfo) {\n                    ids.push(s.id);\n                }\n                this._add(s);\n            }\n        }\n        this.fetchDisplay(ids);\n        if (this.mListener && this.mPacketFrameCount === pf.totalFrame) {\n            this.mListener.onFullPacketReceived(type);\n        }\n    };\n    TerrainManager.prototype._add = function (sprite) {\n        var terrain = this.mTerrains.get(sprite.id);\n        if (!terrain) {\n            terrain = new _terrain__WEBPACK_IMPORTED_MODULE_2__[\"Terrain\"](sprite, this);\n        }\n        else {\n            terrain.model = sprite;\n        }\n        // this.addMap(sprite);\n        this.mTerrains.set(terrain.id || 0, terrain);\n        return terrain;\n    };\n    TerrainManager.prototype.addComplete = function (packet) {\n        this.hasAddComplete = true;\n    };\n    TerrainManager.prototype.onRemove = function (packet) {\n        var content = packet.content;\n        var type = content.nodeType;\n        var ids = content.ids;\n        if (type !== pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].NodeType.TerrainNodeType) {\n            return;\n        }\n        for (var _i = 0, ids_1 = ids; _i < ids_1.length; _i++) {\n            var id = ids_1[_i];\n            this.remove(id);\n        }\n        // Logger.getInstance().log(\"remove terrain length: \", ids.length);\n    };\n    TerrainManager.prototype.onSyncSprite = function (packet) {\n        var content = packet.content;\n        if (content.nodeType !== pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].NodeType.TerrainNodeType) {\n            return;\n        }\n        var terrain = null;\n        var sprites = content.sprites;\n        for (var _i = 0, sprites_3 = sprites; _i < sprites_3.length; _i++) {\n            var sprite = sprites_3[_i];\n            terrain = this.get(sprite.id);\n            if (terrain) {\n                var sp = new _element_sprite__WEBPACK_IMPORTED_MODULE_3__[\"Sprite\"](sprite, content.nodeType);\n                terrain.model = sp;\n                // this.addMap(sp);\n                // terrain.setRenderable(true);\n            }\n        }\n    };\n    TerrainManager.prototype.checkDisplay = function (sprite) {\n        if (!sprite.displayInfo) {\n            var displayInfo = this.roomService.world.elementStorage.getDisplayModel(sprite.bindID || sprite.id);\n            if (displayInfo) {\n                sprite.displayInfo = displayInfo;\n                return displayInfo;\n            }\n        }\n    };\n    TerrainManager.prototype.checkTerrainDisplay = function (sprite) {\n        if (!sprite.displayInfo) {\n            var palette = this.roomService.world.elementStorage.getTerrainPaletteByBindId(sprite.bindID);\n            if (palette) {\n                sprite.displayInfo = palette;\n            }\n        }\n    };\n    TerrainManager.prototype.fetchDisplay = function (ids) {\n        if (ids.length === 0) {\n            return;\n        }\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_REQ_VIRTUAL_WORLD_QUERY_SPRITE_RESOURCE);\n        var content = packet.content;\n        content.ids = ids;\n        this.connection.send(packet);\n    };\n    TerrainManager.prototype.removeMap = function (sprite) {\n        this.setMap(sprite, 1);\n    };\n    TerrainManager.prototype.addMap = function (sprite) {\n        this.setMap(sprite, 0);\n    };\n    TerrainManager.prototype.setMap = function (sprite, type) {\n        var displayInfo = sprite.displayInfo;\n        if (!displayInfo) {\n            return;\n        }\n        var curAni = sprite.currentAnimation;\n        var aniName = curAni.name;\n        var flip = false;\n        var collisionArea = displayInfo.getCollisionArea(aniName, flip);\n        var walkArea = displayInfo.getWalkableArea(aniName, flip);\n        var origin = displayInfo.getOriginPoint(aniName, flip);\n        var rows = collisionArea.length;\n        var cols = collisionArea[0].length;\n        var hasCollisionArea = true;\n        if (rows === 1 && cols === 1) {\n            rows = 2;\n            cols = 2;\n            hasCollisionArea = false;\n        }\n        var pos = sprite.pos;\n        for (var i = 0; i < rows; i++) {\n            for (var j = 0; j < cols; j++) {\n                // if ((!hasCollisionArea) || collisionArea[i][j] === 1 && walkArea[i][j] === 1) {\n                // this.mMap[pos.x + i - origin.x][pos.y + j - origin.y] = type;\n                // }\n            }\n        }\n    };\n    TerrainManager.prototype.onChangeAnimation = function (packet) {\n        var content = packet.content;\n        if (content.nodeType !== NodeType.TerrainNodeType) {\n            return;\n        }\n        var anis = content.changeAnimation;\n        var ids = content.ids;\n        var terrain = null;\n        for (var _i = 0, ids_2 = ids; _i < ids_2.length; _i++) {\n            var id = ids_2[_i];\n            terrain = this.get(id);\n            if (terrain) {\n                // terrain.play(ani.animationName);\n            }\n        }\n    };\n    Object.defineProperty(TerrainManager.prototype, \"connection\", {\n        get: function () {\n            if (this.mRoom) {\n                return this.mRoom.connection;\n            }\n            // Logger.getInstance().error(\"room manager is undefined\");\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(TerrainManager.prototype, \"roomService\", {\n        get: function () {\n            return this.mRoom;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(TerrainManager.prototype, \"scene\", {\n        get: function () {\n            if (this.mRoom) {\n                return this.mRoom.scene;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(TerrainManager.prototype, \"camera\", {\n        get: function () {\n            return this.camera;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(TerrainManager.prototype, \"map\", {\n        get: function () {\n            return this.mMap;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return TerrainManager;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PacketHandler\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/terrain/terrain.manager.ts?");

/***/ }),

/***/ "./src/rooms/terrain/terrain.ts":
/*!**************************************!*\
  !*** ./src/rooms/terrain/terrain.ts ***!
  \**************************************/
/*! exports provided: Terrain */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Terrain\", function() { return Terrain; });\n/* harmony import */ var _utils_log__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/log */ \"./src/utils/log.ts\");\n/* harmony import */ var _display_terrain_display__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../display/terrain.display */ \"./src/rooms/display/terrain.display.ts\");\n/* harmony import */ var _cameras_block_object__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../cameras/block.object */ \"./src/rooms/cameras/block.object.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar Terrain = /** @class */ (function (_super) {\n    __extends(Terrain, _super);\n    function Terrain(sprite, mElementManager) {\n        var _this = _super.call(this, mElementManager.roomService) || this;\n        _this.mElementManager = mElementManager;\n        _this.mId = sprite.id;\n        _this.model = sprite;\n        return _this;\n    }\n    Terrain.prototype.setModel = function (val) {\n        this.mModel = val;\n        if (!val) {\n            return;\n        }\n        this.load(this.mModel.displayInfo);\n        // this.mDisplayInfo = <IFramesModel> this.mModel.displayInfo;\n        // this.createDisplay();\n        if (!this.mDisplay) {\n            return;\n        }\n        this.setPosition45(this.mModel.pos);\n        // this.addDisplay();\n    };\n    Terrain.prototype.updateModel = function (val) {\n    };\n    Terrain.prototype.load = function (displayInfo) {\n        this.mDisplayInfo = displayInfo;\n        if (!this.mDisplayInfo) {\n            return;\n        }\n        if (!this.mDisplay) {\n            this.createDisplay();\n        }\n        this.mDisplayInfo = displayInfo;\n        this.mDisplay.once(\"initialized\", this.onInitializedHandler, this);\n        this.mDisplay.load(this.mDisplayInfo);\n    };\n    Terrain.prototype.play = function (animationName) {\n        if (!this.mModel) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_0__[\"Logger\"].getInstance().error(Terrain.name + \": sprite is empty\");\n            return;\n        }\n        if (this.mModel.currentAnimationName !== animationName) {\n            // this.mAnimationName = animationName;\n            this.mModel.currentAnimationName = animationName;\n            if (this.mDisplay) {\n                this.mDisplay.play(this.model.currentAnimation);\n            }\n        }\n    };\n    Terrain.prototype.setDirection = function (val) {\n        if (this.mDisplayInfo && this.mDisplayInfo.avatarDir)\n            this.mDisplayInfo.avatarDir = val;\n    };\n    Terrain.prototype.getDirection = function () {\n        return this.mDisplayInfo && this.mDisplayInfo.avatarDir ? this.mDisplayInfo.avatarDir : 3;\n    };\n    Terrain.prototype.setPosition = function (p) {\n        if (this.mDisplay) {\n            this.mDisplay.setPosition(p.x, p.y, p.z);\n        }\n        this.setDepth();\n    };\n    Terrain.prototype.getDisplay = function () {\n        return this.mDisplay;\n    };\n    Terrain.prototype.showNickname = function () { };\n    Terrain.prototype.showEffected = function () { };\n    Terrain.prototype.turn = function () { };\n    Terrain.prototype.setAlpha = function (val) { };\n    Terrain.prototype.scaleTween = function () { };\n    Terrain.prototype.setQueue = function () { };\n    Terrain.prototype.mount = function () {\n        return this;\n    };\n    Terrain.prototype.unmount = function () {\n        return this;\n    };\n    Terrain.prototype.addMount = function () {\n        return this;\n    };\n    Terrain.prototype.removeMount = function () {\n        return this;\n    };\n    Terrain.prototype.destroy = function () {\n        if (this.mBlockable && this.mDisplay) {\n            this.roomService.removeBlockObject(this);\n        }\n        _super.prototype.destroy.call(this);\n    };\n    Terrain.prototype.createDisplay = function () {\n        if (!this.mDisplayInfo) {\n            // Logger.getInstance().error(\"displayinfo does not exist, Create display failed\");\n            return;\n        }\n        if (this.mDisplay) {\n            return this.mDisplay;\n        }\n        var scene = this.mElementManager.scene;\n        if (scene) {\n            this.mDisplay = new _display_terrain_display__WEBPACK_IMPORTED_MODULE_1__[\"TerrainDisplay\"](scene, this.mElementManager.roomService, this);\n            this.setPosition45(this.model.pos);\n            this.addToBlock();\n            // this.mDisplay.load(this.mDisplayInfo);\n        }\n        return this.mDisplay;\n    };\n    Terrain.prototype.addDisplay = function () {\n        this.createDisplay();\n        if (!this.mDisplay) {\n            // Logger.getInstance().error(\"display does not exist\");\n            return;\n        }\n        if (!this.mElementManager) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_0__[\"Logger\"].getInstance().error(\"element manager does not exist\");\n            return;\n        }\n        var room = this.mElementManager.roomService;\n        if (!room) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_0__[\"Logger\"].getInstance().error(\"roomService does not exist\");\n            return;\n        }\n        room.addToGround(this.mDisplay);\n        this.setDepth();\n    };\n    Terrain.prototype.setDepth = function () {\n        if (this.mDisplay) {\n            this.mDisplay.setDepth(this.mDisplay.y);\n            if (!this.roomService) {\n                throw new Error(\"roomService is undefined\");\n            }\n            var layerManager = this.roomService.layerManager;\n            if (!layerManager) {\n                throw new Error(\"layerManager is undefined\");\n            }\n            layerManager.depthGroundDirty = true;\n        }\n    };\n    Terrain.prototype.onInitializedHandler = function () {\n        if (this.mDisplay) {\n            // this.mDisplay.setInteractive();\n            this.mDisplay.play(this.model.currentAnimation);\n        }\n    };\n    Terrain.prototype.setPosition45 = function (pos) {\n        if (!this.roomService) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_0__[\"Logger\"].getInstance().error(\"roomService does not exist\");\n            return;\n        }\n        var point = this.roomService.transformTo90(pos);\n        this.setPosition(point);\n    };\n    Object.defineProperty(Terrain.prototype, \"id\", {\n        get: function () {\n            return this.mId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Terrain.prototype, \"dir\", {\n        get: function () {\n            return this.mDisplayInfo.avatarDir !== undefined ? this.mDisplayInfo.avatarDir : 3;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Terrain.prototype, \"roomService\", {\n        get: function () {\n            if (!this.mElementManager) {\n                _utils_log__WEBPACK_IMPORTED_MODULE_0__[\"Logger\"].getInstance().error(\"element manager is undefined\");\n                return;\n            }\n            return this.mElementManager.roomService;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Terrain.prototype, \"model\", {\n        get: function () {\n            return this.mModel;\n        },\n        set: function (val) {\n            this.setModel(val);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Terrain.prototype, \"currentAnimationName\", {\n        get: function () {\n            if (this.mModel) {\n                return this.mModel.currentAnimationName;\n            }\n            return \"\";\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Terrain.prototype, \"scene\", {\n        get: function () {\n            if (this.mElementManager) {\n                return this.mElementManager.scene;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Terrain;\n}(_cameras_block_object__WEBPACK_IMPORTED_MODULE_2__[\"BlockObject\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/terrain/terrain.ts?");

/***/ }),

/***/ "./src/rooms/wall/wall.manager.ts":
/*!****************************************!*\
  !*** ./src/rooms/wall/wall.manager.ts ***!
  \****************************************/
/*! exports provided: WallManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"WallManager\", function() { return WallManager; });\n/* harmony import */ var _wall__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./wall */ \"./src/rooms/wall/wall.ts\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_pos__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/pos */ \"./src/utils/pos.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar WallManager = /** @class */ (function (_super) {\n    __extends(WallManager, _super);\n    function WallManager(mRoom) {\n        var _this = _super.call(this) || this;\n        _this.mRoom = mRoom;\n        _this.mWalls = new Map();\n        return _this;\n        // if (this.mRoom.connection) {\n        //     this.mRoom.connection.addPacketListener(this);\n        //     this.addHandlerFun(op_client.OPCODE._OP_VIRTUAL_WORLD_REQ_CLIENT_ADD_SPRITE_END, this.onDawWallHandler);\n        // }\n    }\n    WallManager.prototype.destroy = function () {\n        if (this.mRoom.connection) {\n            this.mRoom.connection.removePacketListener(this);\n        }\n        this.mWalls.forEach(function (wall) { return wall.destroy(); });\n        this.mWalls.clear();\n    };\n    WallManager.prototype._add = function (x, y, dir) {\n        var pos = this.mRoom.transformTo90(new _utils_pos__WEBPACK_IMPORTED_MODULE_2__[\"Pos\"](x, y));\n        var wall = new _wall__WEBPACK_IMPORTED_MODULE_0__[\"Wall\"](this.mRoom, x * 1000000 + y * 1000, pos, dir);\n        // wall.setPosition(pos);\n    };\n    WallManager.prototype.onDawWallHandler = function (packet) {\n        var terrains = this.mRoom.world.elementStorage.getTerrainCollection();\n        if (!terrains) {\n            return;\n        }\n        var tmp = this.mRoom.world.getConfig().game_id.split(\".\");\n        if (tmp.length < 2) {\n            return;\n        }\n        if (tmp[1] !== \"5e410ba50681ad5557b4d6e9\") {\n            return;\n        }\n        var map = terrains.data;\n        for (var i = 0; i < map.length; i++) {\n            for (var j = 0; j < map[0].length; j++) {\n                if (map[i][j] === 0) {\n                    continue;\n                }\n                if (this.isUp(i, j, map)) {\n                    this._add(i, j, _wall__WEBPACK_IMPORTED_MODULE_0__[\"Direction\"].UP);\n                }\n                else if (this.isLeft(i, j, map)) {\n                    this._add(i, j, _wall__WEBPACK_IMPORTED_MODULE_0__[\"Direction\"].RIGHT);\n                }\n                else if (this.isRight(i, j, map)) {\n                    // if (lastW < j) {\n                    //   i++;\n                    //   break;\n                    // }\n                    this._add(i, j, _wall__WEBPACK_IMPORTED_MODULE_0__[\"Direction\"].LEFT);\n                }\n                else if (this.isDown(i, j, map)) {\n                    this._add(i, j, _wall__WEBPACK_IMPORTED_MODULE_0__[\"Direction\"].DOWN);\n                }\n                // lastW = j;\n                // break;\n            }\n        }\n    };\n    WallManager.prototype.isUp = function (rows, cols, map) {\n        if (rows === 0) {\n            if (cols === 0) {\n                return true;\n            }\n            else if (map[rows][cols - 1] === 0) {\n                return true;\n            }\n            return false;\n        }\n        else if (cols === 0) {\n            if (rows === 0) {\n                return true;\n            }\n            else if (map[rows - 1][cols] === 0) {\n                return true;\n            }\n            return false;\n        }\n        if (map[rows - 1][cols] === 0 && map[rows][cols - 1] === 0) {\n            return true;\n        }\n        return false;\n    };\n    WallManager.prototype.isLeft = function (rows, cols, map) {\n        if (cols === 0) {\n            if (rows > 0) {\n                return true;\n            }\n        }\n        else if (rows > 0) {\n            if (cols > 0 && map[rows][cols - 1] === 0) {\n                return true;\n            }\n        }\n    };\n    WallManager.prototype.isRight = function (rows, cols, map) {\n        if (rows === 0) {\n            if (cols > 0) {\n                return true;\n            }\n        }\n        else if (cols > 0) {\n            if (rows > 0 && map[rows - 1][cols] === 0) {\n                return true;\n            }\n        }\n    };\n    WallManager.prototype.isDown = function (rows, cols, map) {\n        if (rows > 0 && cols > 0) {\n            if (map[rows - 1][cols - 1] === 0 && map[rows - 1][cols] !== 0 && map[rows][cols - 1] !== 0) {\n                return true;\n            }\n        }\n    };\n    return WallManager;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_1__[\"PacketHandler\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/wall/wall.manager.ts?");

/***/ }),

/***/ "./src/rooms/wall/wall.ts":
/*!********************************!*\
  !*** ./src/rooms/wall/wall.ts ***!
  \********************************/
/*! exports provided: Direction, Wall */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Direction\", function() { return Direction; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Wall\", function() { return Wall; });\n/* harmony import */ var _cameras_block_object__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../cameras/block.object */ \"./src/rooms/cameras/block.object.ts\");\n/* harmony import */ var _display_wall_display__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../display/wall.display */ \"./src/rooms/display/wall.display.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar Direction;\n(function (Direction) {\n    Direction[\"UP\"] = \"up\";\n    Direction[\"LEFT\"] = \"left\";\n    Direction[\"RIGHT\"] = \"right\";\n    Direction[\"DOWN\"] = \"down\";\n})(Direction || (Direction = {}));\nvar Wall = /** @class */ (function (_super) {\n    __extends(Wall, _super);\n    function Wall(room, id, pos, dir) {\n        var _this = _super.call(this, room) || this;\n        _this.room = room;\n        // this.mBlockable = false;\n        _this.mID = id;\n        _this.mDirection = dir;\n        _this.mPosition = pos;\n        _this.createDisplay();\n        return _this;\n    }\n    Wall.prototype.setPosition = function (pos) {\n        this.mPosition = pos;\n        if (this.mDisplay) {\n            this.mDisplay.x = pos.x;\n            this.mDisplay.y = pos.y;\n        }\n    };\n    Wall.prototype.createDisplay = function () {\n        // if (!this.mDisplayInfo) {\n        //     // Logger.getInstance().error(\"displayinfo does not exist, Create display failed\");\n        //     return;\n        // }\n        if (this.mDisplay) {\n            return this.mDisplay;\n        }\n        var scene = this.room.scene;\n        if (scene) {\n            this.mDisplay = new _display_wall_display__WEBPACK_IMPORTED_MODULE_1__[\"WallDisplay\"](scene, this.room);\n            // this.setPosition(this.mPosition.x, this.mPosition.y);\n            this.setPosition(this.mPosition);\n            this.mDisplay.once(\"initialized\", this.onInitializedHandler, this);\n            this.mDisplay.loadDisplay(_utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Url\"].getRes(\"wall/wall.png\"), _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Url\"].getRes(\"wall/wall.json\"));\n            this.addToBlock();\n            // this.mDisplay.load(this.mDisplayInfo);\n        }\n        return this.mDisplay;\n    };\n    Wall.prototype.onInitializedHandler = function () {\n        this.mDisplay.setDir(this.mDirection);\n    };\n    Wall.prototype.addDisplay = function () {\n        this.createDisplay();\n        if (!this.mDisplay) {\n            // Logger.getInstance().error(\"display does not exist\");\n            return;\n        }\n        this.mRoomService.addToGround(this.mDisplay, 0);\n        this.setDepth();\n    };\n    Wall.prototype.setDepth = function () {\n        if (this.mDisplay) {\n            this.mDisplay.setDepth(this.mDisplay.y);\n            if (!this.mRoomService) {\n                throw new Error(\"roomService is undefined\");\n            }\n            var layerManager = this.mRoomService.layerManager;\n            if (!layerManager) {\n                throw new Error(\"layerManager is undefined\");\n            }\n            layerManager.depthGroundDirty = true;\n        }\n    };\n    Object.defineProperty(Wall.prototype, \"id\", {\n        get: function () {\n            return this.mID;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Wall;\n}(_cameras_block_object__WEBPACK_IMPORTED_MODULE_0__[\"BlockObject\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/rooms/wall/wall.ts?");

/***/ }),

/***/ "./src/scenes/basic.scene.ts":
/*!***********************************!*\
  !*** ./src/scenes/basic.scene.ts ***!
  \***********************************/
/*! exports provided: BasicScene */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BasicScene\", function() { return BasicScene; });\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar BasicScene = /** @class */ (function (_super) {\n    __extends(BasicScene, _super);\n    function BasicScene(config) {\n        return _super.call(this, config) || this;\n    }\n    BasicScene.prototype.setViewPort = function (x, y, width, height) {\n        this.cameras.main.setViewport(x, y, width, height);\n    };\n    return BasicScene;\n}(Phaser.Scene));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/scenes/basic.scene.ts?");

/***/ }),

/***/ "./src/scenes/create.character.ts":
/*!****************************************!*\
  !*** ./src/scenes/create.character.ts ***!
  \****************************************/
/*! exports provided: CreateRoleScene */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CreateRoleScene\", function() { return CreateRoleScene; });\n/* harmony import */ var _loading__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./loading */ \"./src/scenes/loading.ts\");\n/* harmony import */ var _basic_scene__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./basic.scene */ \"./src/scenes/basic.scene.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar CreateRoleScene = /** @class */ (function (_super) {\n    __extends(CreateRoleScene, _super);\n    function CreateRoleScene() {\n        return _super.call(this, { key: CreateRoleScene.name }) || this;\n    }\n    CreateRoleScene.prototype.init = function (data) {\n        if (data.role) {\n            this.role = data.role;\n        }\n    };\n    CreateRoleScene.prototype.create = function () {\n        if (this.role) {\n            this.game.scene.stop(_loading__WEBPACK_IMPORTED_MODULE_0__[\"LoadingScene\"].name);\n            this.role.start(this);\n        }\n    };\n    return CreateRoleScene;\n}(_basic_scene__WEBPACK_IMPORTED_MODULE_1__[\"BasicScene\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/scenes/create.character.ts?");

/***/ }),

/***/ "./src/scenes/edit.ts":
/*!****************************!*\
  !*** ./src/scenes/edit.ts ***!
  \****************************/
/*! exports provided: EditScene */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EditScene\", function() { return EditScene; });\n/* harmony import */ var _play__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./play */ \"./src/scenes/play.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n//  Phaser.Scene\nvar EditScene = /** @class */ (function (_super) {\n    __extends(EditScene, _super);\n    function EditScene() {\n        return _super.call(this, { key: EditScene.name }) || this;\n    }\n    EditScene.prototype.create = function () {\n        this.mRoom.startPlay();\n    };\n    return EditScene;\n}(_play__WEBPACK_IMPORTED_MODULE_0__[\"PlayScene\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/scenes/edit.ts?");

/***/ }),

/***/ "./src/scenes/gamepause.ts":
/*!*********************************!*\
  !*** ./src/scenes/gamepause.ts ***!
  \*********************************/
/*! exports provided: GamePauseScene */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GamePauseScene\", function() { return GamePauseScene; });\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _utils_size__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/size */ \"./src/utils/size.ts\");\n/* harmony import */ var _basic_scene__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./basic.scene */ \"./src/scenes/basic.scene.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar GamePauseScene = /** @class */ (function (_super) {\n    __extends(GamePauseScene, _super);\n    function GamePauseScene() {\n        return _super.call(this, { key: GamePauseScene.name }) || this;\n    }\n    GamePauseScene.prototype.preload = function () {\n        this.load.image(\"gamepause.png\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_0__[\"Url\"].getRes(\"gamepause.png\"));\n    };\n    GamePauseScene.prototype.init = function (data) {\n        this.mWorld = data.world;\n    };\n    GamePauseScene.prototype.create = function () {\n        var width = this.scale.gameSize.width;\n        var height = this.scale.gameSize.height;\n        this.bg = this.add.graphics();\n        this.bg.fillStyle(0, .8);\n        this.bg.fillRect(0, 0, width, height);\n        this.pauseImg = this.add.image(width >> 1, height >> 1, \"gamepause.png\");\n        this.tipTF = this.add.text(width - 240 >> 1, height - 50, \"\", { font: \"30px Tahoma\" });\n        this.scale.on(\"resize\", this.checkSize, this);\n        this.checkSize(new _utils_size__WEBPACK_IMPORTED_MODULE_1__[\"Size\"](width, height));\n        this.input.on(\"pointerdown\", this.downHandler, this);\n    };\n    GamePauseScene.prototype.awake = function () {\n        this.scale.on(\"resize\", this.checkSize, this);\n        this.input.on(\"pointerdown\", this.downHandler, this);\n        this.scene.wake();\n    };\n    GamePauseScene.prototype.sleep = function () {\n        this.scale.off(\"resize\", this.checkSize, this);\n        this.input.off(\"pointerdown\", this.downHandler, this);\n        this.scene.sleep();\n    };\n    GamePauseScene.prototype.getKey = function () {\n        return this.sys.config.key;\n    };\n    GamePauseScene.prototype.downHandler = function () {\n        this.mWorld.onFocus();\n    };\n    GamePauseScene.prototype.checkSize = function (size) {\n        var width = size.width;\n        var height = size.height;\n        this.bg.clear();\n        this.bg.fillStyle(0, .8);\n        this.bg.fillRect(0, 0, width, height);\n        this.pauseImg.scaleX = this.pauseImg.scaleY = this.mWorld.uiScale * .7;\n        this.pauseImg.x = width >> 1;\n        this.pauseImg.y = height >> 1;\n        this.tipTF.scaleX = this.tipTF.scaleY = this.mWorld.uiScale;\n        this.tipTF.x = width - 280 * this.mWorld.uiScale >> 1;\n        this.tipTF.y = height - 50 * this.mWorld.uiScale;\n    };\n    return GamePauseScene;\n}(_basic_scene__WEBPACK_IMPORTED_MODULE_2__[\"BasicScene\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/scenes/gamepause.ts?");

/***/ }),

/***/ "./src/scenes/loading.ts":
/*!*******************************!*\
  !*** ./src/scenes/loading.ts ***!
  \*******************************/
/*! exports provided: LoadingScene */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LoadingScene\", function() { return LoadingScene; });\n/* harmony import */ var _utils_size__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/size */ \"./src/utils/size.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _utils_log__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/log */ \"./src/utils/log.ts\");\n/* harmony import */ var _basic_scene__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./basic.scene */ \"./src/scenes/basic.scene.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n\nvar LoadingScene = /** @class */ (function (_super) {\n    __extends(LoadingScene, _super);\n    function LoadingScene() {\n        var _this = _super.call(this, { key: LoadingScene.name }) || this;\n        _this.mRequestCom = false;\n        return _this;\n    }\n    LoadingScene.prototype.preload = function () {\n        // atlaswebglcanvasspritesheetcanvas\n        // this.load.image(\"loading_bg\", Url.getRes(\"\"))\n        var dpr = 2;\n        if (this.mWorld) {\n            dpr = this.mWorld.uiRatio || 2;\n        }\n        this.load.atlas(\"curtain\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getUIRes(dpr, \"loading/curtain.png\"), _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getUIRes(dpr, \"loading/curtain.json\"));\n        this.load.atlas(\"loading\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getUIRes(dpr, \"loading/loading.png\"), _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getUIRes(dpr, \"loading/loading.json\"));\n        this.load.atlas(\"grass\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getUIRes(dpr, \"loading/grass.png\"), _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getUIRes(dpr, \"loading/grass.json\"));\n        this.load.script(\"webfont\", \"./resources/scripts/webfont/1.6.26/webfont.js\");\n        // this.load.spritesheet(\"rabbit00.png\", \"./resources/rabbit00.png\", { frameWidth: 150, frameHeight: 150 });\n    };\n    LoadingScene.prototype.init = function (data) {\n        this.createFont();\n        this.mWorld = data.world;\n        this.mRoom = data.room;\n        this.mRequestCom = false;\n        this.mCallback = data.callBack;\n    };\n    LoadingScene.prototype.create = function () {\n        try {\n            WebFont.load({\n                custom: {\n                    // families: [\"Source Han Sans\", \"tt0173m_\", \"tt0503m_\"]\n                    families: [\"Source Han Sans\", \"tt0173m_\", \"tt0503m_\"]\n                },\n            });\n        }\n        catch (error) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_2__[\"Logger\"].getInstance().warn(\"webfont failed to load\");\n        }\n        var width = this.scale.gameSize.width;\n        var height = this.scale.gameSize.height;\n        var rect = this.add.graphics();\n        rect.fillStyle(0);\n        rect.fillRect(0, 0, width, height);\n        // jsonframesanims\n        this.anims.create({\n            key: \"grass_anis\",\n            frames: this.anims.generateFrameNames(\"grass\", { prefix: \"grass_\", start: 1, end: 3, zeroPad: 1, suffix: \".png\" }),\n            frameRate: 5,\n            yoyo: true,\n            repeat: -1\n        });\n        this.anims.create({\n            key: \"loading_anis\",\n            frames: this.anims.generateFrameNames(\"loading\", { prefix: \"loading_\", start: 1, end: 3, zeroPad: 1, suffix: \".png\" }),\n            frameRate: 5,\n            repeat: -1\n        });\n        this.grass = this.add.sprite(0, height, \"grass\").setOrigin(0.5, 1).setScale(this.mWorld.uiScale);\n        // this.lo.setScale(this.mWorld.uiScale);\n        this.scale.on(\"resize\", this.checkSize, this);\n        this.grass.play(\"grass_anis\");\n        this.bg = this.add.sprite(width * 0.5, 0, \"loading\").setScale(this.mWorld.uiScale);\n        this.bg.play(\"loading_anis\");\n        this.curtain = new Curtain(this, this.mWorld);\n        // this.curtain.open().then(() => {\n        // this.bg.x = 0;\n        // this.add.tween({\n        //   targets: this.bg,\n        //   props: { x: width, rotation: -720 },\n        //   duration: 2000,\n        //   loop: -1\n        // });\n        // });\n        this.checkSize(new _utils_size__WEBPACK_IMPORTED_MODULE_0__[\"Size\"](width, height));\n        if (this.mCallback) {\n            this.mCallback.call(this, this);\n            this.mCallback = undefined;\n        }\n    };\n    LoadingScene.prototype.show = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                this.awake();\n                if (!this.curtain) {\n                    return [2 /*return*/, Promise.resolve()];\n                }\n                if (this.bg)\n                    this.bg.visible = false;\n                if (this.grass)\n                    this.grass.visible = false;\n                return [2 /*return*/, this.curtain.open()];\n            });\n        });\n    };\n    LoadingScene.prototype.close = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                if (!this.curtain) {\n                    return [2 /*return*/];\n                }\n                if (this.bg)\n                    this.bg.visible = false;\n                if (this.grass)\n                    this.grass.visible = false;\n                return [2 /*return*/, this.curtain.close()];\n            });\n        });\n    };\n    LoadingScene.prototype.awake = function (data) {\n        this.scale.on(\"resize\", this.checkSize, this);\n        this.scene.wake();\n    };\n    LoadingScene.prototype.sleep = function () {\n        var _this = this;\n        if (this.curtain) {\n            if (this.bg)\n                this.bg.visible = false;\n            if (this.grass)\n                this.grass.visible = false;\n            this.curtain.close().then(function () {\n                _this.scale.off(\"resize\", _this.checkSize, _this);\n                _this.scene.sleep();\n            });\n        }\n        else {\n            this.scale.off(\"resize\", this.checkSize, this);\n            this.scene.sleep();\n        }\n    };\n    LoadingScene.prototype.getKey = function () {\n        return this.sys.config.key;\n    };\n    LoadingScene.prototype.checkSize = function (size) {\n        var width = size.width, height = size.height;\n        if (this.grass) {\n            this.grass.x = width * 0.5;\n            this.grass.y = height;\n        }\n        if (this.bg) {\n            // this.bg.x = 0; // + this.bg.width * this.bg.originX;\n            this.bg.y = (height - 4 * this.mWorld.uiRatio) - this.bg.displayHeight * this.bg.originY;\n        }\n    };\n    LoadingScene.prototype.createFont = function () {\n        var element = document.createElement(\"style\");\n        document.head.appendChild(element);\n        var sheet = element.sheet;\n        var styles = \"@font-face { font-family: 'Source Han Sans'; src: url('./resources/fonts/otf/SourceHanSansTC-Regular.otf') format('opentype');font-display:swap; }\\n\";\n        var styles2 = \"@font-face { font-family: 'tt0173m_'; src: url('./resources/fonts/en/tt0173m_.ttf') format('truetype');font-display:swap }\\n\";\n        var styles3 = \"@font-face { font-family: 'tt0503m_'; src: url('./resources/fonts/en/tt0503m_.ttf') format('truetype'); font-display:swap}\";\n        sheet.insertRule(styles, 0);\n        sheet.insertRule(styles2, 0);\n        sheet.insertRule(styles3, 0);\n    };\n    return LoadingScene;\n}(_basic_scene__WEBPACK_IMPORTED_MODULE_3__[\"BasicScene\"]));\n\nvar Curtain = /** @class */ (function () {\n    function Curtain(scene, world) {\n        this.scene = scene;\n        this.key = \"curtain\";\n        this.upDisplay = this.scene.add.image(0, 0, this.key, \"up.png\").setOrigin(0).setVisible(false).setScale(world.uiScale);\n        this.downDisplay = this.scene.add.image(0, 0, this.key, \"down.png\").setOrigin(0, 1).setVisible(false).setScale(world.uiScale);\n    }\n    Curtain.prototype.open = function () {\n        var _this = this;\n        this.upDisplay.visible = true;\n        this.downDisplay.visible = true;\n        return new Promise(function (resolve, reject) {\n            if (!_this.scene.cameras.main)\n                resolve();\n            var height = _this.scene.cameras.main.height;\n            _this.upDisplay.y = -_this.upDisplay.displayHeight;\n            _this.downDisplay.y = height + _this.downDisplay.displayHeight;\n            _this.upTween = _this.scene.add.tween({\n                targets: _this.upDisplay,\n                props: { y: 0 },\n                duration: 1000\n            });\n            _this.downTween = _this.scene.add.tween({\n                targets: _this.downDisplay,\n                props: { y: height },\n                duration: 1000,\n                onComplete: function () {\n                    _this.upDisplay.visible = false;\n                    _this.downDisplay.visible = false;\n                    _this.clearTween();\n                    resolve();\n                }\n            });\n        });\n    };\n    Curtain.prototype.close = function () {\n        var _this = this;\n        this.downDisplay.visible = true;\n        this.upDisplay.visible = true;\n        return new Promise(function (resolve, reject) {\n            if (!_this.scene.cameras.main)\n                resolve();\n            var height = _this.scene.cameras.main.height;\n            _this.upDisplay.y = 0;\n            _this.downDisplay.y = height;\n            _this.upTween = _this.scene.add.tween({\n                targets: _this.upDisplay,\n                props: { y: -_this.upDisplay.displayHeight },\n                duration: 1000\n            });\n            _this.downTween = _this.scene.add.tween({\n                targets: _this.downDisplay,\n                props: { y: height + _this.downDisplay.displayHeight },\n                duration: 1000,\n                onComplete: function () {\n                    _this.downDisplay.visible = false;\n                    _this.upDisplay.visible = false;\n                    _this.clearTween();\n                    resolve();\n                }\n            });\n        });\n    };\n    Curtain.prototype.destroy = function () {\n        this.destroy();\n    };\n    Curtain.prototype.clearTween = function () {\n        if (this.upTween) {\n            this.upTween.stop();\n            this.upTween = null;\n        }\n        if (this.downTween) {\n            this.downTween.stop();\n            this.downTween = null;\n        }\n    };\n    return Curtain;\n}());\n\n\n//# sourceURL=webpack://TooqingCore/./src/scenes/loading.ts?");

/***/ }),

/***/ "./src/scenes/login.ts":
/*!*****************************!*\
  !*** ./src/scenes/login.ts ***!
  \*****************************/
/*! exports provided: LoginScene */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LoginScene\", function() { return LoginScene; });\n/* harmony import */ var _basic_scene__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./basic.scene */ \"./src/scenes/basic.scene.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n//  Phaser.Scene\nvar LoginScene = /** @class */ (function (_super) {\n    __extends(LoginScene, _super);\n    function LoginScene() {\n        return _super.call(this, { key: LoginScene.name }) || this;\n    }\n    LoginScene.prototype.preload = function () {\n        // this.load.atlas(\"login\", \"./resources/ui/login/login.png\", \"./resources/ui/login/login.json\");\n    };\n    LoginScene.prototype.create = function () {\n        if (this.world) {\n            var uimanager = this.world.uiManager;\n            uimanager.setScene(this);\n            uimanager.showMed(\"Login\");\n        }\n    };\n    LoginScene.prototype.init = function (data) {\n        if (data) {\n            this.world = data.world;\n        }\n    };\n    return LoginScene;\n}(_basic_scene__WEBPACK_IMPORTED_MODULE_0__[\"BasicScene\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/scenes/login.ts?");

/***/ }),

/***/ "./src/scenes/main.ui.ts":
/*!*******************************!*\
  !*** ./src/scenes/main.ui.ts ***!
  \*******************************/
/*! exports provided: MainUIScene */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MainUIScene\", function() { return MainUIScene; });\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/font */ \"./src/utils/font.ts\");\n/* harmony import */ var _basic_scene__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./basic.scene */ \"./src/scenes/basic.scene.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar MainUIScene = /** @class */ (function (_super) {\n    __extends(MainUIScene, _super);\n    function MainUIScene() {\n        var _this = _super.call(this, { key: MainUIScene.name }) || this;\n        _this.timeOutID = 0;\n        _this.timeOutCancelMap = {};\n        _this.timeOutCallerList = [];\n        _this.timeOutTimeMap = {};\n        return _this;\n    }\n    MainUIScene.prototype.preload = function () {\n    };\n    MainUIScene.prototype.init = function (data) {\n        this.mRoom = data.room;\n    };\n    MainUIScene.prototype.create = function () {\n        this.fps = this.add.text(10, 10, \"\", { style: { color: \"#64DD17\", } });\n        this.fps.setStroke(\"0x0\", 1);\n        this.fps.setFontFamily(_utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT);\n        this.fps.setFontSize(20 * window.devicePixelRatio);\n        this.sizeTF = this.add.text(10, 50, \"\", { style: { color: \"#64DD17\" }, wordWrap: { width: 800, useAdvancedWrap: true } });\n        this.sizeTF.setFontSize(20 * window.devicePixelRatio);\n        this.sizeTF.setFontFamily(_utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT);\n        this.sizeTF.setStroke(\"#0\", 3);\n        var world = this.mRoom.world;\n        if (world.game.device.os.desktop) {\n        }\n        else {\n            if (world.inputManager) {\n                world.inputManager.setScene(this);\n            }\n        }\n        world.uiManager.setScene(this);\n        // this.checkSize(this.mRoom.world.getSize());\n        // this.mRoom.world.game.scale.on(\"orientationchange\", this.checkOriention, this);\n        // this.scale.on(\"resize\", this.checkSize, this);\n    };\n    MainUIScene.prototype.setTimeout = function (caller, time) {\n        var begin = Date.now();\n        this.timeOutCallerList[++this.timeOutID] = caller;\n        this.timeOutTimeMap[this.timeOutID] = { now: begin, delay: time };\n        return this.timeOutID;\n    };\n    MainUIScene.prototype.clearTimeout = function (id) {\n        this.timeOutCancelMap[id] = true;\n    };\n    MainUIScene.prototype.update = function (time, delta) {\n        this.fps.setText(this.game.loop.actualFps.toFixed());\n        // const orientation: string = this.mRoom.world.getSize().width > this.mRoom.world.getSize().height ? \"LANDSCAPE\" : \"PORTRAIT\";\n        // this.sizeTF.text = \"width:\" + this.mRoom.world.getSize().width +\n        //   \"\\n\" + \"height:\" + this.mRoom.world.getSize().height + `\\npixelRatio: ${window.devicePixelRatio} \\nscene Scale: ${this.mRoom.world.scaleRatio} \\nuiscale${Math.round(this.mRoom.world.scaleRatio)}`;\n    };\n    MainUIScene.prototype.getKey = function () {\n        return this.sys.config.key;\n    };\n    // private checkOriention(orientation) {\n    //   this.sizeTF.text = \"width:\" + this.mRoom.world.getSize().width + \"\\n\" + \"height:\" + this.mRoom.world.getSize().height + \"\\n\" + \"orientation:\" + orientation + \"\\n\" + \"orientationChange:\" + orientation;\n    // }\n    MainUIScene.prototype.checkSize = function (size) {\n        var width = size.width;\n        var height = size.height;\n        var world = this.mRoom.world;\n        var gameSize = world.getSize();\n        this.sizeTF.text = \"CSS size: \" + world.getConfig().width + \" \" + world.getConfig().height + \"\\n    Game size: \" + gameSize.width.toFixed(2) + \" \" + gameSize.height.toFixed(2) + \"\\n    deviceRatio: \" + window.devicePixelRatio + \"\\n    scene ratio: \" + world.scaleRatio + \"\\n    ui ratio: \" + world.uiRatio + \"\\n    ui scale: \" + world.uiScale.toFixed(5) + \"\\n    \";\n        //  this.sizeTF.text = \"width:\" + size.width + \";height:\" + size.height;\n    };\n    return MainUIScene;\n}(_basic_scene__WEBPACK_IMPORTED_MODULE_1__[\"BasicScene\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/scenes/main.ui.ts?");

/***/ }),

/***/ "./src/scenes/play.ts":
/*!****************************!*\
  !*** ./src/scenes/play.ts ***!
  \****************************/
/*! exports provided: PlayScene */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PlayScene\", function() { return PlayScene; });\n/* harmony import */ var _main_ui__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./main.ui */ \"./src/scenes/main.ui.ts\");\n/* harmony import */ var _basic_scene__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./basic.scene */ \"./src/scenes/basic.scene.ts\");\n/* harmony import */ var _rooms_cameras_play_camera__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../rooms/cameras/play.camera */ \"./src/rooms/cameras/play.camera.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n//  Phaser.Scene\nvar PlayScene = /** @class */ (function (_super) {\n    __extends(PlayScene, _super);\n    function PlayScene(config) {\n        return _super.call(this, config || { key: PlayScene.name }) || this;\n    }\n    PlayScene.prototype.preload = function () { };\n    PlayScene.prototype.init = function (data) {\n        if (data) {\n            this.mRoom = data.room;\n        }\n    };\n    PlayScene.prototype.create = function () {\n        var oldCamera = this.cameras.main;\n        this.cameras.addExisting(new _rooms_cameras_play_camera__WEBPACK_IMPORTED_MODULE_2__[\"PlayCamera\"](0, 0, this.sys.scale.width, this.sys.scale.height, this.mRoom.world.scaleRatio), true);\n        this.cameras.remove(oldCamera);\n        if (!this.game.scene.getScene(_main_ui__WEBPACK_IMPORTED_MODULE_0__[\"MainUIScene\"].name)) {\n            this.game.scene.add(_main_ui__WEBPACK_IMPORTED_MODULE_0__[\"MainUIScene\"].name, _main_ui__WEBPACK_IMPORTED_MODULE_0__[\"MainUIScene\"], false);\n        }\n        var scene = this.game.scene.getScene(_main_ui__WEBPACK_IMPORTED_MODULE_0__[\"MainUIScene\"].name);\n        if (!scene.scene.isActive()) {\n            this.scene.launch(_main_ui__WEBPACK_IMPORTED_MODULE_0__[\"MainUIScene\"].name, {\n                room: this.mRoom,\n            });\n        }\n        this.scene.sendToBack();\n        this.scale.on(\"orientationchange\", this.checkOriention, this);\n        this.scale.on(\"resize\", this.checkSize, this);\n        if (this.mRoom)\n            this.mRoom.startPlay();\n    };\n    PlayScene.prototype.update = function (time, delta) {\n        if (this.mRoom) {\n            this.mRoom.update(time, delta);\n        }\n    };\n    PlayScene.prototype.setViewPort = function (x, y, width, height) {\n        _super.prototype.setViewPort.call(this, x, y, width, height);\n        this.cameras.main.zoom = Math.ceil(window.devicePixelRatio);\n    };\n    PlayScene.prototype.getKey = function () {\n        return this.sys.config.key;\n    };\n    PlayScene.prototype.checkOriention = function (orientation) {\n        if (orientation === Phaser.Scale.PORTRAIT) {\n        }\n        else if (orientation === Phaser.Scale.LANDSCAPE) {\n        }\n    };\n    PlayScene.prototype.checkSize = function (size) {\n        var width = size.width;\n        var height = size.height;\n    };\n    return PlayScene;\n}(_basic_scene__WEBPACK_IMPORTED_MODULE_1__[\"BasicScene\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/scenes/play.ts?");

/***/ }),

/***/ "./src/scenes/sky.box.ts":
/*!*******************************!*\
  !*** ./src/scenes/sky.box.ts ***!
  \*******************************/
/*! exports provided: SkyBoxScene */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SkyBoxScene\", function() { return SkyBoxScene; });\n/* harmony import */ var _basic_scene__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./basic.scene */ \"./src/scenes/basic.scene.ts\");\n/* harmony import */ var _rooms_cameras_play_camera__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../rooms/cameras/play.camera */ \"./src/rooms/cameras/play.camera.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar SkyBoxScene = /** @class */ (function (_super) {\n    __extends(SkyBoxScene, _super);\n    function SkyBoxScene() {\n        return _super.call(this, {}) || this;\n    }\n    SkyBoxScene.prototype.init = function (data) {\n        if (data) {\n            this.skyBoxManager = data;\n        }\n    };\n    SkyBoxScene.prototype.create = function () {\n        var oldCamera = this.cameras.main;\n        this.cameras.addExisting(new _rooms_cameras_play_camera__WEBPACK_IMPORTED_MODULE_1__[\"PlayCamera\"](0, 0, this.sys.scale.width, this.sys.scale.height, this.skyBoxManager.world.scaleRatio), true);\n        this.cameras.remove(oldCamera);\n        // this.scene.sendToBack();\n        this.skyBoxManager.startPlay(this);\n    };\n    SkyBoxScene.prototype.update = function (time, delta) {\n        this.skyBoxManager.check(time, delta);\n    };\n    return SkyBoxScene;\n}(_basic_scene__WEBPACK_IMPORTED_MODULE_0__[\"BasicScene\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/scenes/sky.box.ts?");

/***/ }),

/***/ "./src/ui sync recursive ^\\.\\/.*$":
/*!******************************!*\
  !*** ./src/ui sync ^\.\/.*$ ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var map = {\n\t\"./Activity/ActivityMediator\": \"./src/ui/Activity/ActivityMediator.ts\",\n\t\"./Activity/ActivityMediator.ts\": \"./src/ui/Activity/ActivityMediator.ts\",\n\t\"./Activity/ActivityPanel\": \"./src/ui/Activity/ActivityPanel.ts\",\n\t\"./Activity/ActivityPanel.ts\": \"./src/ui/Activity/ActivityPanel.ts\",\n\t\"./Bubble/InteractionBubbleCell\": \"./src/ui/Bubble/InteractionBubbleCell.ts\",\n\t\"./Bubble/InteractionBubbleCell.ts\": \"./src/ui/Bubble/InteractionBubbleCell.ts\",\n\t\"./Bubble/InteractionBubbleContainer\": \"./src/ui/Bubble/InteractionBubbleContainer.ts\",\n\t\"./Bubble/InteractionBubbleContainer.ts\": \"./src/ui/Bubble/InteractionBubbleContainer.ts\",\n\t\"./Bubble/InteractiveBubble\": \"./src/ui/Bubble/InteractiveBubble.ts\",\n\t\"./Bubble/InteractiveBubble.ts\": \"./src/ui/Bubble/InteractiveBubble.ts\",\n\t\"./Bubble/InteractiveBubbleMediator\": \"./src/ui/Bubble/InteractiveBubbleMediator.ts\",\n\t\"./Bubble/InteractiveBubbleMediator.ts\": \"./src/ui/Bubble/InteractiveBubbleMediator.ts\",\n\t\"./Bubble/InteractiveBubblePanel\": \"./src/ui/Bubble/InteractiveBubblePanel.ts\",\n\t\"./Bubble/InteractiveBubblePanel.ts\": \"./src/ui/Bubble/InteractiveBubblePanel.ts\",\n\t\"./CharacterInfo/CharacterAttributePanel\": \"./src/ui/CharacterInfo/CharacterAttributePanel.ts\",\n\t\"./CharacterInfo/CharacterAttributePanel.ts\": \"./src/ui/CharacterInfo/CharacterAttributePanel.ts\",\n\t\"./CharacterInfo/CharacterEditorPanel\": \"./src/ui/CharacterInfo/CharacterEditorPanel.ts\",\n\t\"./CharacterInfo/CharacterEditorPanel.ts\": \"./src/ui/CharacterInfo/CharacterEditorPanel.ts\",\n\t\"./CharacterInfo/CharacterInfo\": \"./src/ui/CharacterInfo/CharacterInfo.ts\",\n\t\"./CharacterInfo/CharacterInfo.ts\": \"./src/ui/CharacterInfo/CharacterInfo.ts\",\n\t\"./CharacterInfo/CharacterInfoMediator\": \"./src/ui/CharacterInfo/CharacterInfoMediator.ts\",\n\t\"./CharacterInfo/CharacterInfoMediator.ts\": \"./src/ui/CharacterInfo/CharacterInfoMediator.ts\",\n\t\"./CharacterInfo/CharacterInfoPanel\": \"./src/ui/CharacterInfo/CharacterInfoPanel.ts\",\n\t\"./CharacterInfo/CharacterInfoPanel.ts\": \"./src/ui/CharacterInfo/CharacterInfoPanel.ts\",\n\t\"./CharacterInfo/GraphicsProgressBar\": \"./src/ui/CharacterInfo/GraphicsProgressBar.ts\",\n\t\"./CharacterInfo/GraphicsProgressBar.ts\": \"./src/ui/CharacterInfo/GraphicsProgressBar.ts\",\n\t\"./CharacterInfo/GridLayoutGroup\": \"./src/ui/CharacterInfo/GridLayoutGroup.ts\",\n\t\"./CharacterInfo/GridLayoutGroup.ts\": \"./src/ui/CharacterInfo/GridLayoutGroup.ts\",\n\t\"./ComponentRank/ComponentRankMediator\": \"./src/ui/ComponentRank/ComponentRankMediator.ts\",\n\t\"./ComponentRank/ComponentRankMediator.ts\": \"./src/ui/ComponentRank/ComponentRankMediator.ts\",\n\t\"./ComponentRank/ComponentRankPanel\": \"./src/ui/ComponentRank/ComponentRankPanel.ts\",\n\t\"./ComponentRank/ComponentRankPanel.ts\": \"./src/ui/ComponentRank/ComponentRankPanel.ts\",\n\t\"./Compose/Compose\": \"./src/ui/Compose/Compose.ts\",\n\t\"./Compose/Compose.ts\": \"./src/ui/Compose/Compose.ts\",\n\t\"./Compose/ComposeMediator\": \"./src/ui/Compose/ComposeMediator.ts\",\n\t\"./Compose/ComposeMediator.ts\": \"./src/ui/Compose/ComposeMediator.ts\",\n\t\"./Compose/ComposePanel\": \"./src/ui/Compose/ComposePanel.ts\",\n\t\"./Compose/ComposePanel.ts\": \"./src/ui/Compose/ComposePanel.ts\",\n\t\"./ControlF/ControlFMediator\": \"./src/ui/ControlF/ControlFMediator.ts\",\n\t\"./ControlF/ControlFMediator.ts\": \"./src/ui/ControlF/ControlFMediator.ts\",\n\t\"./ControlF/ControlFPanel\": \"./src/ui/ControlF/ControlFPanel.ts\",\n\t\"./ControlF/ControlFPanel.ts\": \"./src/ui/ControlF/ControlFPanel.ts\",\n\t\"./CutIn/CutInMediator\": \"./src/ui/CutIn/CutInMediator.ts\",\n\t\"./CutIn/CutInMediator.ts\": \"./src/ui/CutIn/CutInMediator.ts\",\n\t\"./CutIn/CutInPanel\": \"./src/ui/CutIn/CutInPanel.ts\",\n\t\"./CutIn/CutInPanel.ts\": \"./src/ui/CutIn/CutInPanel.ts\",\n\t\"./CutInMenu/CutInMenu\": \"./src/ui/CutInMenu/CutInMenu.ts\",\n\t\"./CutInMenu/CutInMenu.ts\": \"./src/ui/CutInMenu/CutInMenu.ts\",\n\t\"./CutInMenu/CutInMenuMediator\": \"./src/ui/CutInMenu/CutInMenuMediator.ts\",\n\t\"./CutInMenu/CutInMenuMediator.ts\": \"./src/ui/CutInMenu/CutInMenuMediator.ts\",\n\t\"./CutInMenu/CutInMenuPanel\": \"./src/ui/CutInMenu/CutInMenuPanel.ts\",\n\t\"./CutInMenu/CutInMenuPanel.ts\": \"./src/ui/CutInMenu/CutInMenuPanel.ts\",\n\t\"./DebugLogger/DebugLoggerMediator\": \"./src/ui/DebugLogger/DebugLoggerMediator.ts\",\n\t\"./DebugLogger/DebugLoggerMediator.ts\": \"./src/ui/DebugLogger/DebugLoggerMediator.ts\",\n\t\"./DebugLogger/DebugLoggerPanel\": \"./src/ui/DebugLogger/DebugLoggerPanel.ts\",\n\t\"./DebugLogger/DebugLoggerPanel.ts\": \"./src/ui/DebugLogger/DebugLoggerPanel.ts\",\n\t\"./DecorateControl/DecorateControlMediator\": \"./src/ui/DecorateControl/DecorateControlMediator.ts\",\n\t\"./DecorateControl/DecorateControlMediator.ts\": \"./src/ui/DecorateControl/DecorateControlMediator.ts\",\n\t\"./DecorateControl/DecorateControlPanel\": \"./src/ui/DecorateControl/DecorateControlPanel.ts\",\n\t\"./DecorateControl/DecorateControlPanel.ts\": \"./src/ui/DecorateControl/DecorateControlPanel.ts\",\n\t\"./Dialog/Dialog\": \"./src/ui/Dialog/Dialog.ts\",\n\t\"./Dialog/Dialog.ts\": \"./src/ui/Dialog/Dialog.ts\",\n\t\"./Dialog/DialogMediator\": \"./src/ui/Dialog/DialogMediator.ts\",\n\t\"./Dialog/DialogMediator.ts\": \"./src/ui/Dialog/DialogMediator.ts\",\n\t\"./Dialog/DialogPanel\": \"./src/ui/Dialog/DialogPanel.ts\",\n\t\"./Dialog/DialogPanel.ts\": \"./src/ui/Dialog/DialogPanel.ts\",\n\t\"./ElementStorage/DragManager\": \"./src/ui/ElementStorage/DragManager.ts\",\n\t\"./ElementStorage/DragManager.ts\": \"./src/ui/ElementStorage/DragManager.ts\",\n\t\"./ElementStorage/ElementStorageMediator\": \"./src/ui/ElementStorage/ElementStorageMediator.ts\",\n\t\"./ElementStorage/ElementStorageMediator.ts\": \"./src/ui/ElementStorage/ElementStorageMediator.ts\",\n\t\"./ElementStorage/ElementStoragePanel\": \"./src/ui/ElementStorage/ElementStoragePanel.ts\",\n\t\"./ElementStorage/ElementStoragePanel.ts\": \"./src/ui/ElementStorage/ElementStoragePanel.ts\",\n\t\"./ElementStorage/ElementStorate\": \"./src/ui/ElementStorage/ElementStorate.ts\",\n\t\"./ElementStorage/ElementStorate.ts\": \"./src/ui/ElementStorage/ElementStorate.ts\",\n\t\"./ElementStorage/item/Item\": \"./src/ui/ElementStorage/item/Item.ts\",\n\t\"./ElementStorage/item/Item.ts\": \"./src/ui/ElementStorage/item/Item.ts\",\n\t\"./EquipUpgrade/EquipUpgrade\": \"./src/ui/EquipUpgrade/EquipUpgrade.ts\",\n\t\"./EquipUpgrade/EquipUpgrade.ts\": \"./src/ui/EquipUpgrade/EquipUpgrade.ts\",\n\t\"./EquipUpgrade/EquipUpgradeItem\": \"./src/ui/EquipUpgrade/EquipUpgradeItem.ts\",\n\t\"./EquipUpgrade/EquipUpgradeItem.ts\": \"./src/ui/EquipUpgrade/EquipUpgradeItem.ts\",\n\t\"./EquipUpgrade/EquipUpgradeMediator\": \"./src/ui/EquipUpgrade/EquipUpgradeMediator.ts\",\n\t\"./EquipUpgrade/EquipUpgradeMediator.ts\": \"./src/ui/EquipUpgrade/EquipUpgradeMediator.ts\",\n\t\"./EquipUpgrade/EquipUpgradePanel\": \"./src/ui/EquipUpgrade/EquipUpgradePanel.ts\",\n\t\"./EquipUpgrade/EquipUpgradePanel.ts\": \"./src/ui/EquipUpgrade/EquipUpgradePanel.ts\",\n\t\"./FurniBag/FurniBag\": \"./src/ui/FurniBag/FurniBag.ts\",\n\t\"./FurniBag/FurniBag.ts\": \"./src/ui/FurniBag/FurniBag.ts\",\n\t\"./FurniBag/FurniBagMediator\": \"./src/ui/FurniBag/FurniBagMediator.ts\",\n\t\"./FurniBag/FurniBagMediator.ts\": \"./src/ui/FurniBag/FurniBagMediator.ts\",\n\t\"./FurniBag/FurniBagPanel\": \"./src/ui/FurniBag/FurniBagPanel.ts\",\n\t\"./FurniBag/FurniBagPanel.ts\": \"./src/ui/FurniBag/FurniBagPanel.ts\",\n\t\"./InfoPanel/InfoPanel\": \"./src/ui/InfoPanel/InfoPanel.ts\",\n\t\"./InfoPanel/InfoPanel.ts\": \"./src/ui/InfoPanel/InfoPanel.ts\",\n\t\"./InfoPanel/InfoPanelMediator\": \"./src/ui/InfoPanel/InfoPanelMediator.ts\",\n\t\"./InfoPanel/InfoPanelMediator.ts\": \"./src/ui/InfoPanel/InfoPanelMediator.ts\",\n\t\"./InteractivePanel/InteractivePanel\": \"./src/ui/InteractivePanel/InteractivePanel.ts\",\n\t\"./InteractivePanel/InteractivePanel.ts\": \"./src/ui/InteractivePanel/InteractivePanel.ts\",\n\t\"./InteractivePanel/InteractivePanelMediator\": \"./src/ui/InteractivePanel/InteractivePanelMediator.ts\",\n\t\"./InteractivePanel/InteractivePanelMediator.ts\": \"./src/ui/InteractivePanel/InteractivePanelMediator.ts\",\n\t\"./ItemDetail/ItemDetail\": \"./src/ui/ItemDetail/ItemDetail.ts\",\n\t\"./ItemDetail/ItemDetail.ts\": \"./src/ui/ItemDetail/ItemDetail.ts\",\n\t\"./ItemDetail/ItemDetailMediator\": \"./src/ui/ItemDetail/ItemDetailMediator.ts\",\n\t\"./ItemDetail/ItemDetailMediator.ts\": \"./src/ui/ItemDetail/ItemDetailMediator.ts\",\n\t\"./ItemPopCard/ItemPopCardMediator\": \"./src/ui/ItemPopCard/ItemPopCardMediator.ts\",\n\t\"./ItemPopCard/ItemPopCardMediator.ts\": \"./src/ui/ItemPopCard/ItemPopCardMediator.ts\",\n\t\"./ItemPopCard/ItemPopCardPanel\": \"./src/ui/ItemPopCard/ItemPopCardPanel.ts\",\n\t\"./ItemPopCard/ItemPopCardPanel.ts\": \"./src/ui/ItemPopCard/ItemPopCardPanel.ts\",\n\t\"./Login/LoginMediator\": \"./src/ui/Login/LoginMediator.ts\",\n\t\"./Login/LoginMediator.ts\": \"./src/ui/Login/LoginMediator.ts\",\n\t\"./Login/LoginPanel\": \"./src/ui/Login/LoginPanel.ts\",\n\t\"./Login/LoginPanel.ts\": \"./src/ui/Login/LoginPanel.ts\",\n\t\"./Login/VerifiedPanel\": \"./src/ui/Login/VerifiedPanel.ts\",\n\t\"./Login/VerifiedPanel.ts\": \"./src/ui/Login/VerifiedPanel.ts\",\n\t\"./Market/DetailDisplay\": \"./src/ui/Market/DetailDisplay.ts\",\n\t\"./Market/DetailDisplay.ts\": \"./src/ui/Market/DetailDisplay.ts\",\n\t\"./Market/ElementDetail\": \"./src/ui/Market/ElementDetail.ts\",\n\t\"./Market/ElementDetail.ts\": \"./src/ui/Market/ElementDetail.ts\",\n\t\"./Market/Market\": \"./src/ui/Market/Market.ts\",\n\t\"./Market/Market.ts\": \"./src/ui/Market/Market.ts\",\n\t\"./Market/MarketMediator\": \"./src/ui/Market/MarketMediator.ts\",\n\t\"./Market/MarketMediator.ts\": \"./src/ui/Market/MarketMediator.ts\",\n\t\"./Market/MarketPanel\": \"./src/ui/Market/MarketPanel.ts\",\n\t\"./Market/MarketPanel.ts\": \"./src/ui/Market/MarketPanel.ts\",\n\t\"./Market/NumberCounter\": \"./src/ui/Market/NumberCounter.ts\",\n\t\"./Market/NumberCounter.ts\": \"./src/ui/Market/NumberCounter.ts\",\n\t\"./Market/TextButton\": \"./src/ui/Market/TextButton.ts\",\n\t\"./Market/TextButton.ts\": \"./src/ui/Market/TextButton.ts\",\n\t\"./Market/item\": \"./src/ui/Market/item.ts\",\n\t\"./Market/item.ts\": \"./src/ui/Market/item.ts\",\n\t\"./MessageBox/MessageBoxMediator\": \"./src/ui/MessageBox/MessageBoxMediator.ts\",\n\t\"./MessageBox/MessageBoxMediator.ts\": \"./src/ui/MessageBox/MessageBoxMediator.ts\",\n\t\"./MessageBox/MessageBoxView\": \"./src/ui/MessageBox/MessageBoxView.ts\",\n\t\"./MessageBox/MessageBoxView.ts\": \"./src/ui/MessageBox/MessageBoxView.ts\",\n\t\"./MineCar/MineCar\": \"./src/ui/MineCar/MineCar.ts\",\n\t\"./MineCar/MineCar.ts\": \"./src/ui/MineCar/MineCar.ts\",\n\t\"./MineCar/MineCarMediator\": \"./src/ui/MineCar/MineCarMediator.ts\",\n\t\"./MineCar/MineCarMediator.ts\": \"./src/ui/MineCar/MineCarMediator.ts\",\n\t\"./MineCar/MineCarPanel\": \"./src/ui/MineCar/MineCarPanel.ts\",\n\t\"./MineCar/MineCarPanel.ts\": \"./src/ui/MineCar/MineCarPanel.ts\",\n\t\"./MineSettle/MineSettle\": \"./src/ui/MineSettle/MineSettle.ts\",\n\t\"./MineSettle/MineSettle.ts\": \"./src/ui/MineSettle/MineSettle.ts\",\n\t\"./MineSettle/MineSettleMediator\": \"./src/ui/MineSettle/MineSettleMediator.ts\",\n\t\"./MineSettle/MineSettleMediator.ts\": \"./src/ui/MineSettle/MineSettleMediator.ts\",\n\t\"./MineSettle/MineSettlePanel\": \"./src/ui/MineSettle/MineSettlePanel.ts\",\n\t\"./MineSettle/MineSettlePanel.ts\": \"./src/ui/MineSettle/MineSettlePanel.ts\",\n\t\"./Notice/Notice\": \"./src/ui/Notice/Notice.ts\",\n\t\"./Notice/Notice.ts\": \"./src/ui/Notice/Notice.ts\",\n\t\"./Notice/NoticeMediator\": \"./src/ui/Notice/NoticeMediator.ts\",\n\t\"./Notice/NoticeMediator.ts\": \"./src/ui/Notice/NoticeMediator.ts\",\n\t\"./Notice/NoticePanel\": \"./src/ui/Notice/NoticePanel.ts\",\n\t\"./Notice/NoticePanel.ts\": \"./src/ui/Notice/NoticePanel.ts\",\n\t\"./PicBusinessStreet/PicBusinessContentPanel\": \"./src/ui/PicBusinessStreet/PicBusinessContentPanel.ts\",\n\t\"./PicBusinessStreet/PicBusinessContentPanel.ts\": \"./src/ui/PicBusinessStreet/PicBusinessContentPanel.ts\",\n\t\"./PicBusinessStreet/PicBusinessHistoryPanel\": \"./src/ui/PicBusinessStreet/PicBusinessHistoryPanel.ts\",\n\t\"./PicBusinessStreet/PicBusinessHistoryPanel.ts\": \"./src/ui/PicBusinessStreet/PicBusinessHistoryPanel.ts\",\n\t\"./PicBusinessStreet/PicBusinessMyStreetPanel\": \"./src/ui/PicBusinessStreet/PicBusinessMyStreetPanel.ts\",\n\t\"./PicBusinessStreet/PicBusinessMyStreetPanel.ts\": \"./src/ui/PicBusinessStreet/PicBusinessMyStreetPanel.ts\",\n\t\"./PicBusinessStreet/PicBusinessRankRewardPanel\": \"./src/ui/PicBusinessStreet/PicBusinessRankRewardPanel.ts\",\n\t\"./PicBusinessStreet/PicBusinessRankRewardPanel.ts\": \"./src/ui/PicBusinessStreet/PicBusinessRankRewardPanel.ts\",\n\t\"./PicBusinessStreet/PicBusinessRankingDetailPanel\": \"./src/ui/PicBusinessStreet/PicBusinessRankingDetailPanel.ts\",\n\t\"./PicBusinessStreet/PicBusinessRankingDetailPanel.ts\": \"./src/ui/PicBusinessStreet/PicBusinessRankingDetailPanel.ts\",\n\t\"./PicBusinessStreet/PicBusinessRankingPanel\": \"./src/ui/PicBusinessStreet/PicBusinessRankingPanel.ts\",\n\t\"./PicBusinessStreet/PicBusinessRankingPanel.ts\": \"./src/ui/PicBusinessStreet/PicBusinessRankingPanel.ts\",\n\t\"./PicBusinessStreet/PicBusinessStoreCreatePanel\": \"./src/ui/PicBusinessStreet/PicBusinessStoreCreatePanel.ts\",\n\t\"./PicBusinessStreet/PicBusinessStoreCreatePanel.ts\": \"./src/ui/PicBusinessStreet/PicBusinessStoreCreatePanel.ts\",\n\t\"./PicBusinessStreet/PicBusinessStreet\": \"./src/ui/PicBusinessStreet/PicBusinessStreet.ts\",\n\t\"./PicBusinessStreet/PicBusinessStreet.ts\": \"./src/ui/PicBusinessStreet/PicBusinessStreet.ts\",\n\t\"./PicBusinessStreet/PicBusinessStreetListPanel\": \"./src/ui/PicBusinessStreet/PicBusinessStreetListPanel.ts\",\n\t\"./PicBusinessStreet/PicBusinessStreetListPanel.ts\": \"./src/ui/PicBusinessStreet/PicBusinessStreetListPanel.ts\",\n\t\"./PicBusinessStreet/PicBusinessStreetMediator\": \"./src/ui/PicBusinessStreet/PicBusinessStreetMediator.ts\",\n\t\"./PicBusinessStreet/PicBusinessStreetMediator.ts\": \"./src/ui/PicBusinessStreet/PicBusinessStreetMediator.ts\",\n\t\"./PicBusinessStreet/PicBusinessStreetPanel\": \"./src/ui/PicBusinessStreet/PicBusinessStreetPanel.ts\",\n\t\"./PicBusinessStreet/PicBusinessStreetPanel.ts\": \"./src/ui/PicBusinessStreet/PicBusinessStreetPanel.ts\",\n\t\"./PicBusinessStreet/SecondaryMenuPanel\": \"./src/ui/PicBusinessStreet/SecondaryMenuPanel.ts\",\n\t\"./PicBusinessStreet/SecondaryMenuPanel.ts\": \"./src/ui/PicBusinessStreet/SecondaryMenuPanel.ts\",\n\t\"./PicFriend/PicFriend\": \"./src/ui/PicFriend/PicFriend.ts\",\n\t\"./PicFriend/PicFriend.ts\": \"./src/ui/PicFriend/PicFriend.ts\",\n\t\"./PicFriend/PicFriendMediator\": \"./src/ui/PicFriend/PicFriendMediator.ts\",\n\t\"./PicFriend/PicFriendMediator.ts\": \"./src/ui/PicFriend/PicFriendMediator.ts\",\n\t\"./PicFriend/PicFriendPanel\": \"./src/ui/PicFriend/PicFriendPanel.ts\",\n\t\"./PicFriend/PicFriendPanel.ts\": \"./src/ui/PicFriend/PicFriendPanel.ts\",\n\t\"./PicFurniFun/PicFurniFun\": \"./src/ui/PicFurniFun/PicFurniFun.ts\",\n\t\"./PicFurniFun/PicFurniFun.ts\": \"./src/ui/PicFurniFun/PicFurniFun.ts\",\n\t\"./PicFurniFun/PicFurniFunMediator\": \"./src/ui/PicFurniFun/PicFurniFunMediator.ts\",\n\t\"./PicFurniFun/PicFurniFunMediator.ts\": \"./src/ui/PicFurniFun/PicFurniFunMediator.ts\",\n\t\"./PicFurniFun/PicFurniFunPanel\": \"./src/ui/PicFurniFun/PicFurniFunPanel.ts\",\n\t\"./PicFurniFun/PicFurniFunPanel.ts\": \"./src/ui/PicFurniFun/PicFurniFunPanel.ts\",\n\t\"./PicHandheld/PicHandheld\": \"./src/ui/PicHandheld/PicHandheld.ts\",\n\t\"./PicHandheld/PicHandheld.ts\": \"./src/ui/PicHandheld/PicHandheld.ts\",\n\t\"./PicHandheld/PicHandheldMediator\": \"./src/ui/PicHandheld/PicHandheldMediator.ts\",\n\t\"./PicHandheld/PicHandheldMediator.ts\": \"./src/ui/PicHandheld/PicHandheldMediator.ts\",\n\t\"./PicHandheld/PicHandheldPanel\": \"./src/ui/PicHandheld/PicHandheldPanel.ts\",\n\t\"./PicHandheld/PicHandheldPanel.ts\": \"./src/ui/PicHandheld/PicHandheldPanel.ts\",\n\t\"./PicHouse/PicHouse\": \"./src/ui/PicHouse/PicHouse.ts\",\n\t\"./PicHouse/PicHouse.ts\": \"./src/ui/PicHouse/PicHouse.ts\",\n\t\"./PicHouse/PicHouseInfoPanel\": \"./src/ui/PicHouse/PicHouseInfoPanel.ts\",\n\t\"./PicHouse/PicHouseInfoPanel.ts\": \"./src/ui/PicHouse/PicHouseInfoPanel.ts\",\n\t\"./PicHouse/PicHouseMediator\": \"./src/ui/PicHouse/PicHouseMediator.ts\",\n\t\"./PicHouse/PicHouseMediator.ts\": \"./src/ui/PicHouse/PicHouseMediator.ts\",\n\t\"./PicHouse/PicHousePanel\": \"./src/ui/PicHouse/PicHousePanel.ts\",\n\t\"./PicHouse/PicHousePanel.ts\": \"./src/ui/PicHouse/PicHousePanel.ts\",\n\t\"./PicHouse/PicHouseSettingPanel\": \"./src/ui/PicHouse/PicHouseSettingPanel.ts\",\n\t\"./PicHouse/PicHouseSettingPanel.ts\": \"./src/ui/PicHouse/PicHouseSettingPanel.ts\",\n\t\"./PicPropFun/PicPropFunConfig\": \"./src/ui/PicPropFun/PicPropFunConfig.ts\",\n\t\"./PicPropFun/PicPropFunConfig.ts\": \"./src/ui/PicPropFun/PicPropFunConfig.ts\",\n\t\"./PicPropFun/PicPropFunMediator\": \"./src/ui/PicPropFun/PicPropFunMediator.ts\",\n\t\"./PicPropFun/PicPropFunMediator.ts\": \"./src/ui/PicPropFun/PicPropFunMediator.ts\",\n\t\"./PicPropFun/PicPropFunPanel\": \"./src/ui/PicPropFun/PicPropFunPanel.ts\",\n\t\"./PicPropFun/PicPropFunPanel.ts\": \"./src/ui/PicPropFun/PicPropFunPanel.ts\",\n\t\"./PicRoomUpgrade/PicRoomUpgrade\": \"./src/ui/PicRoomUpgrade/PicRoomUpgrade.ts\",\n\t\"./PicRoomUpgrade/PicRoomUpgrade.ts\": \"./src/ui/PicRoomUpgrade/PicRoomUpgrade.ts\",\n\t\"./PicRoomUpgrade/PicRoomUpgradeMediator\": \"./src/ui/PicRoomUpgrade/PicRoomUpgradeMediator.ts\",\n\t\"./PicRoomUpgrade/PicRoomUpgradeMediator.ts\": \"./src/ui/PicRoomUpgrade/PicRoomUpgradeMediator.ts\",\n\t\"./PicRoomUpgrade/PicRoomUpgradePanel\": \"./src/ui/PicRoomUpgrade/PicRoomUpgradePanel.ts\",\n\t\"./PicRoomUpgrade/PicRoomUpgradePanel.ts\": \"./src/ui/PicRoomUpgrade/PicRoomUpgradePanel.ts\",\n\t\"./PicaChat/PicaChat\": \"./src/ui/PicaChat/PicaChat.ts\",\n\t\"./PicaChat/PicaChat.ts\": \"./src/ui/PicaChat/PicaChat.ts\",\n\t\"./PicaChat/PicaChatMediator\": \"./src/ui/PicaChat/PicaChatMediator.ts\",\n\t\"./PicaChat/PicaChatMediator.ts\": \"./src/ui/PicaChat/PicaChatMediator.ts\",\n\t\"./PicaChat/PicaChatPanel\": \"./src/ui/PicaChat/PicaChatPanel.ts\",\n\t\"./PicaChat/PicaChatPanel.ts\": \"./src/ui/PicaChat/PicaChatPanel.ts\",\n\t\"./PicaMainUI/PicaMainUI\": \"./src/ui/PicaMainUI/PicaMainUI.ts\",\n\t\"./PicaMainUI/PicaMainUI.ts\": \"./src/ui/PicaMainUI/PicaMainUI.ts\",\n\t\"./PicaMainUI/PicaMainUIMediator\": \"./src/ui/PicaMainUI/PicaMainUIMediator.ts\",\n\t\"./PicaMainUI/PicaMainUIMediator.ts\": \"./src/ui/PicaMainUI/PicaMainUIMediator.ts\",\n\t\"./PicaMainUI/PicaMainUIPanel\": \"./src/ui/PicaMainUI/PicaMainUIPanel.ts\",\n\t\"./PicaMainUI/PicaMainUIPanel.ts\": \"./src/ui/PicaMainUI/PicaMainUIPanel.ts\",\n\t\"./PicaMessageBox/PicaMessageBoxMediator\": \"./src/ui/PicaMessageBox/PicaMessageBoxMediator.ts\",\n\t\"./PicaMessageBox/PicaMessageBoxMediator.ts\": \"./src/ui/PicaMessageBox/PicaMessageBoxMediator.ts\",\n\t\"./PicaMessageBox/PicaMessageBoxPanel\": \"./src/ui/PicaMessageBox/PicaMessageBoxPanel.ts\",\n\t\"./PicaMessageBox/PicaMessageBoxPanel.ts\": \"./src/ui/PicaMessageBox/PicaMessageBoxPanel.ts\",\n\t\"./PicaNavigate/PicaNavigate\": \"./src/ui/PicaNavigate/PicaNavigate.ts\",\n\t\"./PicaNavigate/PicaNavigate.ts\": \"./src/ui/PicaNavigate/PicaNavigate.ts\",\n\t\"./PicaNavigate/PicaNavigateMediator\": \"./src/ui/PicaNavigate/PicaNavigateMediator.ts\",\n\t\"./PicaNavigate/PicaNavigateMediator.ts\": \"./src/ui/PicaNavigate/PicaNavigateMediator.ts\",\n\t\"./PicaNavigate/PicaNavigatePanel\": \"./src/ui/PicaNavigate/PicaNavigatePanel.ts\",\n\t\"./PicaNavigate/PicaNavigatePanel.ts\": \"./src/ui/PicaNavigate/PicaNavigatePanel.ts\",\n\t\"./PicaNotice/PicaNoticeMediator\": \"./src/ui/PicaNotice/PicaNoticeMediator.ts\",\n\t\"./PicaNotice/PicaNoticeMediator.ts\": \"./src/ui/PicaNotice/PicaNoticeMediator.ts\",\n\t\"./PicaNotice/PicaNoticePanel\": \"./src/ui/PicaNotice/PicaNoticePanel.ts\",\n\t\"./PicaNotice/PicaNoticePanel.ts\": \"./src/ui/PicaNotice/PicaNoticePanel.ts\",\n\t\"./PicaRoomList/PicaRoomListMediator\": \"./src/ui/PicaRoomList/PicaRoomListMediator.ts\",\n\t\"./PicaRoomList/PicaRoomListMediator.ts\": \"./src/ui/PicaRoomList/PicaRoomListMediator.ts\",\n\t\"./PicaRoomList/PicaRoomListPanel\": \"./src/ui/PicaRoomList/PicaRoomListPanel.ts\",\n\t\"./PicaRoomList/PicaRoomListPanel.ts\": \"./src/ui/PicaRoomList/PicaRoomListPanel.ts\",\n\t\"./PicaRoomList/RoomList\": \"./src/ui/PicaRoomList/RoomList.ts\",\n\t\"./PicaRoomList/RoomList.ts\": \"./src/ui/PicaRoomList/RoomList.ts\",\n\t\"./Rank/BasicRankPanel\": \"./src/ui/Rank/BasicRankPanel.ts\",\n\t\"./Rank/BasicRankPanel.ts\": \"./src/ui/Rank/BasicRankPanel.ts\",\n\t\"./Rank/RankMediator\": \"./src/ui/Rank/RankMediator.ts\",\n\t\"./Rank/RankMediator.ts\": \"./src/ui/Rank/RankMediator.ts\",\n\t\"./Rank/RankPanel\": \"./src/ui/Rank/RankPanel.ts\",\n\t\"./Rank/RankPanel.ts\": \"./src/ui/Rank/RankPanel.ts\",\n\t\"./ReAwardTips/ReAwardTip\": \"./src/ui/ReAwardTips/ReAwardTip.ts\",\n\t\"./ReAwardTips/ReAwardTip.ts\": \"./src/ui/ReAwardTips/ReAwardTip.ts\",\n\t\"./ReAwardTips/ReAwardTipsMediator\": \"./src/ui/ReAwardTips/ReAwardTipsMediator.ts\",\n\t\"./ReAwardTips/ReAwardTipsMediator.ts\": \"./src/ui/ReAwardTips/ReAwardTipsMediator.ts\",\n\t\"./ReAwardTips/ReAwardTipsPanel\": \"./src/ui/ReAwardTips/ReAwardTipsPanel.ts\",\n\t\"./ReAwardTips/ReAwardTipsPanel.ts\": \"./src/ui/ReAwardTips/ReAwardTipsPanel.ts\",\n\t\"./Shop/ShopMediator\": \"./src/ui/Shop/ShopMediator.ts\",\n\t\"./Shop/ShopMediator.ts\": \"./src/ui/Shop/ShopMediator.ts\",\n\t\"./Shop/ShopPanel\": \"./src/ui/Shop/ShopPanel.ts\",\n\t\"./Shop/ShopPanel.ts\": \"./src/ui/Shop/ShopPanel.ts\",\n\t\"./Shop/shop.itemSlot\": \"./src/ui/Shop/shop.itemSlot.ts\",\n\t\"./Shop/shop.itemSlot.ts\": \"./src/ui/Shop/shop.itemSlot.ts\",\n\t\"./Task/Task\": \"./src/ui/Task/Task.ts\",\n\t\"./Task/Task.ts\": \"./src/ui/Task/Task.ts\",\n\t\"./Task/TaskMediator\": \"./src/ui/Task/TaskMediator.ts\",\n\t\"./Task/TaskMediator.ts\": \"./src/ui/Task/TaskMediator.ts\",\n\t\"./Task/TaskPanel\": \"./src/ui/Task/TaskPanel.ts\",\n\t\"./Task/TaskPanel.ts\": \"./src/ui/Task/TaskPanel.ts\",\n\t\"./UserInfo/UserInfoMediator\": \"./src/ui/UserInfo/UserInfoMediator.ts\",\n\t\"./UserInfo/UserInfoMediator.ts\": \"./src/ui/UserInfo/UserInfoMediator.ts\",\n\t\"./UserInfo/UserInfoPanel\": \"./src/ui/UserInfo/UserInfoPanel.ts\",\n\t\"./UserInfo/UserInfoPanel.ts\": \"./src/ui/UserInfo/UserInfoPanel.ts\",\n\t\"./UserMenu/MenuItem\": \"./src/ui/UserMenu/MenuItem.ts\",\n\t\"./UserMenu/MenuItem.ts\": \"./src/ui/UserMenu/MenuItem.ts\",\n\t\"./UserMenu/UserMenuMediator\": \"./src/ui/UserMenu/UserMenuMediator.ts\",\n\t\"./UserMenu/UserMenuMediator.ts\": \"./src/ui/UserMenu/UserMenuMediator.ts\",\n\t\"./UserMenu/UserMenuPanel\": \"./src/ui/UserMenu/UserMenuPanel.ts\",\n\t\"./UserMenu/UserMenuPanel.ts\": \"./src/ui/UserMenu/UserMenuPanel.ts\",\n\t\"./alert/PopUpTextUI\": \"./src/ui/alert/PopUpTextUI.ts\",\n\t\"./alert/PopUpTextUI.ts\": \"./src/ui/alert/PopUpTextUI.ts\",\n\t\"./bag/IListItemRender\": \"./src/ui/bag/IListItemRender.ts\",\n\t\"./bag/IListItemRender.ts\": \"./src/ui/bag/IListItemRender.ts\",\n\t\"./bag/bagView/bagMediator\": \"./src/ui/bag/bagView/bagMediator.ts\",\n\t\"./bag/bagView/bagMediator.ts\": \"./src/ui/bag/bagView/bagMediator.ts\",\n\t\"./bag/bagView/bagPanel\": \"./src/ui/bag/bagView/bagPanel.ts\",\n\t\"./bag/bagView/bagPanel.ts\": \"./src/ui/bag/bagView/bagPanel.ts\",\n\t\"./bag/basebag\": \"./src/ui/bag/basebag.ts\",\n\t\"./bag/basebag.ts\": \"./src/ui/bag/basebag.ts\",\n\t\"./bag/baseitem\": \"./src/ui/bag/baseitem.ts\",\n\t\"./bag/baseitem.ts\": \"./src/ui/bag/baseitem.ts\",\n\t\"./bag/dragDropIcon\": \"./src/ui/bag/dragDropIcon.ts\",\n\t\"./bag/dragDropIcon.ts\": \"./src/ui/bag/dragDropIcon.ts\",\n\t\"./bag/idragable\": \"./src/ui/bag/idragable.ts\",\n\t\"./bag/idragable.ts\": \"./src/ui/bag/idragable.ts\",\n\t\"./bag/idropable\": \"./src/ui/bag/idropable.ts\",\n\t\"./bag/idropable.ts\": \"./src/ui/bag/idropable.ts\",\n\t\"./bag/item.slot\": \"./src/ui/bag/item.slot.ts\",\n\t\"./bag/item.slot.ts\": \"./src/ui/bag/item.slot.ts\",\n\t\"./bag/storage/storageMediator\": \"./src/ui/bag/storage/storageMediator.ts\",\n\t\"./bag/storage/storageMediator.ts\": \"./src/ui/bag/storage/storageMediator.ts\",\n\t\"./bag/storage/storagePanel\": \"./src/ui/bag/storage/storagePanel.ts\",\n\t\"./bag/storage/storagePanel.ts\": \"./src/ui/bag/storage/storagePanel.ts\",\n\t\"./baseView/bagGroup/bag.group\": \"./src/ui/baseView/bagGroup/bag.group.ts\",\n\t\"./baseView/bagGroup/bag.group.mediator\": \"./src/ui/baseView/bagGroup/bag.group.mediator.ts\",\n\t\"./baseView/bagGroup/bag.group.mediator.ts\": \"./src/ui/baseView/bagGroup/bag.group.mediator.ts\",\n\t\"./baseView/bagGroup/bag.group.ts\": \"./src/ui/baseView/bagGroup/bag.group.ts\",\n\t\"./baseView/baseFace.mediator\": \"./src/ui/baseView/baseFace.mediator.ts\",\n\t\"./baseView/baseFace.mediator.ts\": \"./src/ui/baseView/baseFace.mediator.ts\",\n\t\"./baseView/bottomGroup/bottom.btn.group\": \"./src/ui/baseView/bottomGroup/bottom.btn.group.ts\",\n\t\"./baseView/bottomGroup/bottom.btn.group.ts\": \"./src/ui/baseView/bottomGroup/bottom.btn.group.ts\",\n\t\"./baseView/bottomGroup/bottom.mediator\": \"./src/ui/baseView/bottomGroup/bottom.mediator.ts\",\n\t\"./baseView/bottomGroup/bottom.mediator.ts\": \"./src/ui/baseView/bottomGroup/bottom.mediator.ts\",\n\t\"./baseView/icon.btn\": \"./src/ui/baseView/icon.btn.ts\",\n\t\"./baseView/icon.btn.ts\": \"./src/ui/baseView/icon.btn.ts\",\n\t\"./baseView/icon.select.btn\": \"./src/ui/baseView/icon.select.btn.ts\",\n\t\"./baseView/icon.select.btn.ts\": \"./src/ui/baseView/icon.select.btn.ts\",\n\t\"./baseView/leftGroup/left.btn.group\": \"./src/ui/baseView/leftGroup/left.btn.group.ts\",\n\t\"./baseView/leftGroup/left.btn.group.ts\": \"./src/ui/baseView/leftGroup/left.btn.group.ts\",\n\t\"./baseView/leftGroup/left.mediator\": \"./src/ui/baseView/leftGroup/left.mediator.ts\",\n\t\"./baseView/leftGroup/left.mediator.ts\": \"./src/ui/baseView/leftGroup/left.mediator.ts\",\n\t\"./baseView/rightGroup/right.btn.group\": \"./src/ui/baseView/rightGroup/right.btn.group.ts\",\n\t\"./baseView/rightGroup/right.btn.group.ts\": \"./src/ui/baseView/rightGroup/right.btn.group.ts\",\n\t\"./baseView/rightGroup/right.mediator\": \"./src/ui/baseView/rightGroup/right.mediator.ts\",\n\t\"./baseView/rightGroup/right.mediator.ts\": \"./src/ui/baseView/rightGroup/right.mediator.ts\",\n\t\"./baseView/top.menu/top.menu.container\": \"./src/ui/baseView/top.menu/top.menu.container.ts\",\n\t\"./baseView/top.menu/top.menu.container.ts\": \"./src/ui/baseView/top.menu/top.menu.container.ts\",\n\t\"./baseView/top.menu/top.menu.mediator\": \"./src/ui/baseView/top.menu/top.menu.mediator.ts\",\n\t\"./baseView/top.menu/top.menu.mediator.ts\": \"./src/ui/baseView/top.menu/top.menu.mediator.ts\",\n\t\"./baseView/topGroup/top.btn.group\": \"./src/ui/baseView/topGroup/top.btn.group.ts\",\n\t\"./baseView/topGroup/top.btn.group.ts\": \"./src/ui/baseView/topGroup/top.btn.group.ts\",\n\t\"./baseView/topGroup/top.mediator\": \"./src/ui/baseView/topGroup/top.mediator.ts\",\n\t\"./baseView/topGroup/top.mediator.ts\": \"./src/ui/baseView/topGroup/top.mediator.ts\",\n\t\"./chat/Chat\": \"./src/ui/chat/Chat.ts\",\n\t\"./chat/Chat.ts\": \"./src/ui/chat/Chat.ts\",\n\t\"./chat/base.chat.panel\": \"./src/ui/chat/base.chat.panel.ts\",\n\t\"./chat/base.chat.panel.ts\": \"./src/ui/chat/base.chat.panel.ts\",\n\t\"./chat/chat.mediator\": \"./src/ui/chat/chat.mediator.ts\",\n\t\"./chat/chat.mediator.ts\": \"./src/ui/chat/chat.mediator.ts\",\n\t\"./chat/chatPanel.pc\": \"./src/ui/chat/chatPanel.pc.ts\",\n\t\"./chat/chatPanel.pc.ts\": \"./src/ui/chat/chatPanel.pc.ts\",\n\t\"./chat/message\": \"./src/ui/chat/message.ts\",\n\t\"./chat/message.ts\": \"./src/ui/chat/message.ts\",\n\t\"./chat/mobile/chatPanel.mobile\": \"./src/ui/chat/mobile/chatPanel.mobile.ts\",\n\t\"./chat/mobile/chatPanel.mobile.ts\": \"./src/ui/chat/mobile/chatPanel.mobile.ts\",\n\t\"./components/BasePanel\": \"./src/ui/components/BasePanel.ts\",\n\t\"./components/BasePanel.ts\": \"./src/ui/components/BasePanel.ts\",\n\t\"./components/alert.view\": \"./src/ui/components/alert.view.ts\",\n\t\"./components/alert.view.ts\": \"./src/ui/components/alert.view.ts\",\n\t\"./components/check.button\": \"./src/ui/components/check.button.ts\",\n\t\"./components/check.button.ts\": \"./src/ui/components/check.button.ts\",\n\t\"./components/checkbox.group\": \"./src/ui/components/checkbox.group.ts\",\n\t\"./components/checkbox.group.ts\": \"./src/ui/components/checkbox.group.ts\",\n\t\"./components/dynamic.image\": \"./src/ui/components/dynamic.image.ts\",\n\t\"./components/dynamic.image.ts\": \"./src/ui/components/dynamic.image.ts\",\n\t\"./components/dynamic.ninepatch\": \"./src/ui/components/dynamic.ninepatch.ts\",\n\t\"./components/dynamic.ninepatch.ts\": \"./src/ui/components/dynamic.ninepatch.ts\",\n\t\"./components/dynamic.sprite\": \"./src/ui/components/dynamic.sprite.ts\",\n\t\"./components/dynamic.sprite.ts\": \"./src/ui/components/dynamic.sprite.ts\",\n\t\"./components/input.panel\": \"./src/ui/components/input.panel.ts\",\n\t\"./components/input.panel.ts\": \"./src/ui/components/input.panel.ts\",\n\t\"./components/inputPanel\": \"./src/ui/components/inputPanel.ts\",\n\t\"./components/inputPanel.ts\": \"./src/ui/components/inputPanel.ts\",\n\t\"./components/inputTextFactory\": \"./src/ui/components/inputTextFactory.ts\",\n\t\"./components/inputTextFactory.ts\": \"./src/ui/components/inputTextFactory.ts\",\n\t\"./components/label.input\": \"./src/ui/components/label.input.ts\",\n\t\"./components/label.input.ts\": \"./src/ui/components/label.input.ts\",\n\t\"./components/message.box\": \"./src/ui/components/message.box.ts\",\n\t\"./components/message.box.ts\": \"./src/ui/components/message.box.ts\",\n\t\"./components/nine.patch\": \"./src/ui/components/nine.patch.ts\",\n\t\"./components/nine.patch.ts\": \"./src/ui/components/nine.patch.ts\",\n\t\"./components/ninepatch.button\": \"./src/ui/components/ninepatch.button.ts\",\n\t\"./components/ninepatch.button.ts\": \"./src/ui/components/ninepatch.button.ts\",\n\t\"./components/patches.config\": \"./src/ui/components/patches.config.ts\",\n\t\"./components/patches.config.ts\": \"./src/ui/components/patches.config.ts\",\n\t\"./components/radio\": \"./src/ui/components/radio.ts\",\n\t\"./components/radio.ts\": \"./src/ui/components/radio.ts\",\n\t\"./components/tab.button\": \"./src/ui/components/tab.button.ts\",\n\t\"./components/tab.button.ts\": \"./src/ui/components/tab.button.ts\",\n\t\"./decorate/decorate.manager\": \"./src/ui/decorate/decorate.manager.ts\",\n\t\"./decorate/decorate.manager.ts\": \"./src/ui/decorate/decorate.manager.ts\",\n\t\"./decorate/decorate.panel\": \"./src/ui/decorate/decorate.panel.ts\",\n\t\"./decorate/decorate.panel.ts\": \"./src/ui/decorate/decorate.panel.ts\",\n\t\"./friend/friend.mediator\": \"./src/ui/friend/friend.mediator.ts\",\n\t\"./friend/friend.mediator.ts\": \"./src/ui/friend/friend.mediator.ts\",\n\t\"./friend/friend.panel\": \"./src/ui/friend/friend.panel.ts\",\n\t\"./friend/friend.panel.ts\": \"./src/ui/friend/friend.panel.ts\",\n\t\"./layer.manager\": \"./src/ui/layer.manager.ts\",\n\t\"./layer.manager.ts\": \"./src/ui/layer.manager.ts\",\n\t\"./loadview\": \"./src/ui/loadview.ts\",\n\t\"./loadview.ts\": \"./src/ui/loadview.ts\",\n\t\"./tips/TextToolTip\": \"./src/ui/tips/TextToolTip.ts\",\n\t\"./tips/TextToolTip.ts\": \"./src/ui/tips/TextToolTip.ts\",\n\t\"./tips/itoolTip\": \"./src/ui/tips/itoolTip.ts\",\n\t\"./tips/itoolTip.ts\": \"./src/ui/tips/itoolTip.ts\",\n\t\"./tips/toolTip\": \"./src/ui/tips/toolTip.ts\",\n\t\"./tips/toolTip.ts\": \"./src/ui/tips/toolTip.ts\",\n\t\"./ui.atals.name\": \"./src/ui/ui.atals.name.ts\",\n\t\"./ui.atals.name.ts\": \"./src/ui/ui.atals.name.ts\",\n\t\"./ui.manager\": \"./src/ui/ui.manager.ts\",\n\t\"./ui.manager.ts\": \"./src/ui/ui.manager.ts\",\n\t\"./ui.mediatorType\": \"./src/ui/ui.mediatorType.ts\",\n\t\"./ui.mediatorType.ts\": \"./src/ui/ui.mediatorType.ts\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./src/ui sync recursive ^\\\\.\\\\/.*$\";\n\n//# sourceURL=webpack://TooqingCore/./src/ui_sync_^\\.\\/.*$?");

/***/ }),

/***/ "./src/ui/Activity/ActivityMediator.ts":
/*!*********************************************!*\
  !*** ./src/ui/Activity/ActivityMediator.ts ***!
  \*********************************************/
/*! exports provided: ActivityMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ActivityMediator\", function() { return ActivityMediator; });\n/* harmony import */ var _ActivityPanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ActivityPanel */ \"./src/ui/Activity/ActivityPanel.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/interface/baseUI/UIType */ \"./lib/rexui/lib/ui/interface/baseUI/UIType.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar ActivityMediator = /** @class */ (function (_super) {\n    __extends(ActivityMediator, _super);\n    function ActivityMediator(layerManager, scene, worldService) {\n        var _this = _super.call(this) || this;\n        _this.layerManager = layerManager;\n        _this.scene = scene;\n        _this.mUIType = _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_1__[\"UIType\"].Scene;\n        _this.world = worldService;\n        return _this;\n    }\n    ActivityMediator.prototype.show = function () {\n        if (this.mView && this.mView.isShow() || this.mShow) {\n            return;\n        }\n        if (!this.mView) {\n            this.mView = new _ActivityPanel__WEBPACK_IMPORTED_MODULE_0__[\"ActivityPanel\"](this.scene, this.world);\n            this.mView.on(\"showPanel\", this.onShowPanelHandler, this);\n        }\n        this.mView.show();\n        this.layerManager.addToUILayer(this.mView);\n    };\n    ActivityMediator.prototype.isSceneUI = function () {\n        return true;\n    };\n    ActivityMediator.prototype.onShowPanelHandler = function (panel, data) {\n        if (!panel || !this.world) {\n            return;\n        }\n        var uiManager = this.world.uiManager;\n        if (data)\n            uiManager.showMed(panel, data);\n        else\n            uiManager.showMed(panel);\n    };\n    ActivityMediator.NAME = \"ActivityMediator\";\n    return ActivityMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_2__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/Activity/ActivityMediator.ts?");

/***/ }),

/***/ "./src/ui/Activity/ActivityPanel.ts":
/*!******************************************!*\
  !*** ./src/ui/Activity/ActivityPanel.ts ***!
  \******************************************/
/*! exports provided: ActivityPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ActivityPanel\", function() { return ActivityPanel; });\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _Handler_Handler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Handler/Handler */ \"./src/Handler/Handler.ts\");\n/* harmony import */ var _utils_log__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/log */ \"./src/utils/log.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar ActivityPanel = /** @class */ (function (_super) {\n    __extends(ActivityPanel, _super);\n    function ActivityPanel(scene, worldService) {\n        var _this = _super.call(this, scene, worldService) || this;\n        _this.key = \"activity\";\n        return _this;\n    }\n    ActivityPanel.prototype.resize = function (w, h) {\n        var width = this.scaleWidth;\n        var height = this.scaleHeight;\n        this.content.x = width - 20 * this.dpr;\n        this.content.y = 90 * this.dpr;\n        this.setSize(w, h);\n    };\n    ActivityPanel.prototype.show = function (param) {\n        if (this.mInitialized) {\n            this.setInteractive();\n        }\n        _super.prototype.show.call(this, param);\n        this.checkUpdateActive();\n    };\n    ActivityPanel.prototype.updateUIState = function (active) {\n        if (!this.mInitialized) {\n            return;\n        }\n        if (active.name === \"activity.taskbtn\") {\n            var btn = this.content.list[3];\n            btn.visible = active.visible;\n            if (!active.disabled) {\n                btn.setInteractive();\n            }\n            else\n                btn.removeInteractive();\n        }\n    };\n    ActivityPanel.prototype.preload = function () {\n        this.addAtlas(this.key, \"activity/activity.png\", \"activity/activity.json\");\n        _super.prototype.preload.call(this);\n    };\n    ActivityPanel.prototype.init = function () {\n        this.content = this.scene.make.container(undefined, false);\n        this.add(this.content);\n        for (var i = 0; i < 4; i++) {\n            var img = this.scene.make.image({\n                key: this.key,\n                frame: \"icon_\" + (i + 1)\n            }, false);\n            this.content.add(img);\n        }\n        var subList = this.content.list;\n        var offsetY = 15 * this.dpr;\n        var tmpWid = 0;\n        var height = 0;\n        var handler = new _Handler_Handler__WEBPACK_IMPORTED_MODULE_1__[\"Handler\"](this, this.onClickHandler);\n        var _loop_1 = function (i) {\n            var button = subList[i];\n            button.y = button.height * button.originY + height;\n            height += button.height + offsetY;\n            tmpWid = button.width;\n            button.on(\"pointerup\", function () {\n                handler.runWith(i + 1);\n            }, this_1);\n            button.setInteractive();\n        };\n        var this_1 = this;\n        for (var i = 0; i < subList.length; i++) {\n            _loop_1(i);\n        }\n        this.resize(tmpWid, height);\n        _super.prototype.init.call(this);\n    };\n    ActivityPanel.prototype.onClickHandler = function (name) {\n        _utils_log__WEBPACK_IMPORTED_MODULE_2__[\"Logger\"].getInstance().log(name);\n        if (name === 4) {\n            this.emit(\"showPanel\", \"Task\");\n        }\n    };\n    ActivityPanel.prototype.checkUpdateActive = function () {\n        var arr = this.mWorld.uiManager.getActiveUIData(\"Activity\");\n        if (arr) {\n            for (var _i = 0, arr_1 = arr; _i < arr_1.length; _i++) {\n                var data = arr_1[_i];\n                this.updateUIState(data);\n            }\n        }\n    };\n    return ActivityPanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/Activity/ActivityPanel.ts?");

/***/ }),

/***/ "./src/ui/Bubble/InteractionBubbleCell.ts":
/*!************************************************!*\
  !*** ./src/ui/Bubble/InteractionBubbleCell.ts ***!
  \************************************************/
/*! exports provided: InteractionBubbleCell */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"InteractionBubbleCell\", function() { return InteractionBubbleCell; });\n/* harmony import */ var _rooms_Animation_bubble_animation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../rooms/Animation/bubble.animation */ \"./src/rooms/Animation/bubble.animation.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar InteractionBubbleCell = /** @class */ (function (_super) {\n    __extends(InteractionBubbleCell, _super);\n    function InteractionBubbleCell(scene, dpr) {\n        var _this = _super.call(this, scene) || this;\n        _this.mWdith = 78;\n        _this.mHeight = 78;\n        _this.width = _this.mWdith * dpr;\n        _this.height = _this.mHeight * dpr;\n        return _this;\n    }\n    InteractionBubbleCell.prototype.setContentData = function (content, handler) {\n        this.content = content;\n        if (this.handler)\n            this.handler.clear();\n        this.handler = handler;\n    };\n    InteractionBubbleCell.prototype.load = function (resName, url, jsonUrl) {\n        this.createAnimation();\n        this.mBubbleAni.load(resName, url, jsonUrl);\n        this.mBubbleAni.play();\n    };\n    InteractionBubbleCell.prototype.show = function () {\n        if (this.mBubbleAni) {\n            this.add(this.mBubbleAni);\n        }\n        this.removeDelay();\n    };\n    InteractionBubbleCell.prototype.hide = function () {\n        if (this.mBubbleAni) {\n            this.remove(this.mBubbleAni);\n        }\n        if (this.mRemoveDelay) {\n            clearTimeout(this.mRemoveDelay);\n            this.mRemoveDelay = null;\n        }\n    };\n    InteractionBubbleCell.prototype.destroy = function () {\n        this.hide();\n        if (this.mBubbleAni) {\n            this.mBubbleAni.destroy();\n        }\n        if (this.handler)\n            this.handler.clear();\n        this.mBubbleAni = null;\n        this.handler = null;\n        _super.prototype.destroy.call(this);\n    };\n    InteractionBubbleCell.prototype.createAnimation = function () {\n        // this.mBubbleAni = new DragonbonesAnimation(this.scene);\n        // this.mBubbleAni = new FrameAnimation(this.scene);\n        this.mBubbleAni = new _rooms_Animation_bubble_animation__WEBPACK_IMPORTED_MODULE_0__[\"BubbleAnimation\"](this.scene);\n        this.mBubbleAni.width = this.width;\n        this.mBubbleAni.height = this.height;\n        var POINTER_DOWN = Phaser.Input.Events.POINTER_DOWN;\n        this.mBubbleAni.setInteractive(new Phaser.Geom.Rectangle(0, 0, this.mBubbleAni.width * 2, this.mBubbleAni.height * 2), Phaser.Geom.Rectangle.Contains);\n        this.mBubbleAni.on(POINTER_DOWN, this.onBubbleClick, this);\n    };\n    InteractionBubbleCell.prototype.onBubbleClick = function () {\n        if (this.handler)\n            this.handler.runWith(this.content);\n    };\n    InteractionBubbleCell.prototype.removeDelay = function () {\n        var _this = this;\n        this.mRemoveDelay = setTimeout(function () {\n            if (_this.handler)\n                _this.handler.runWith(_this.content.id);\n            _this.hide();\n        }, this.content.duration);\n    };\n    return InteractionBubbleCell;\n}(Phaser.GameObjects.Container));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/Bubble/InteractionBubbleCell.ts?");

/***/ }),

/***/ "./src/ui/Bubble/InteractionBubbleContainer.ts":
/*!*****************************************************!*\
  !*** ./src/ui/Bubble/InteractionBubbleContainer.ts ***!
  \*****************************************************/
/*! exports provided: InteractionBubbleContainer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"InteractionBubbleContainer\", function() { return InteractionBubbleContainer; });\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseUI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseUI */ \"./lib/rexui/lib/ui/baseUI/BaseUI.ts\");\n/* harmony import */ var _InteractionBubbleCell__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./InteractionBubbleCell */ \"./src/ui/Bubble/InteractionBubbleCell.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar InteractionBubbleContainer = /** @class */ (function (_super) {\n    __extends(InteractionBubbleContainer, _super);\n    function InteractionBubbleContainer(scene, dpr) {\n        return _super.call(this, scene) || this;\n    }\n    Object.defineProperty(InteractionBubbleContainer.prototype, \"show\", {\n        get: function () {\n            return this.mShow;\n        },\n        set: function (value) {\n            this.mShow = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    InteractionBubbleContainer.prototype.hide = function () {\n        this.mShow = false;\n        if (this.parentContainer) {\n            this.parentContainer.remove(this);\n        }\n    };\n    InteractionBubbleContainer.prototype.setFollow = function (gameObject, fromScene, posFunc) {\n        _super.prototype.setFollow.call(this, gameObject, fromScene, posFunc);\n    };\n    InteractionBubbleContainer.prototype.setBubble = function (content, handler) {\n        this.id = content.id;\n        var resName = content.display[\"resName\"];\n        var resUrl = content.display.texturePath;\n        var jsonUrl = content.display.dataPath;\n        if (!this.mBubble) {\n            this.mBubble = new _InteractionBubbleCell__WEBPACK_IMPORTED_MODULE_1__[\"InteractionBubbleCell\"](this.scene, this.dpr);\n            this.mBubble.load(resName, resUrl, jsonUrl);\n            this.add(this.mBubble);\n        }\n        this.mBubble.setContentData(content, handler);\n        this.mBubble.show();\n        return this.mBubble;\n    };\n    InteractionBubbleContainer.prototype.destroy = function () {\n        this.hide();\n        if (this.mBubble)\n            this.mBubble.destroy();\n        this.mBubble = null;\n        _super.prototype.destroy.call(this);\n    };\n    return InteractionBubbleContainer;\n}(_lib_rexui_lib_ui_baseUI_BaseUI__WEBPACK_IMPORTED_MODULE_0__[\"BaseUI\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/Bubble/InteractionBubbleContainer.ts?");

/***/ }),

/***/ "./src/ui/Bubble/InteractiveBubble.ts":
/*!********************************************!*\
  !*** ./src/ui/Bubble/InteractiveBubble.ts ***!
  \********************************************/
/*! exports provided: InteractiveBubble */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"InteractiveBubble\", function() { return InteractiveBubble; });\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar InteractiveBubble = /** @class */ (function (_super) {\n    __extends(InteractiveBubble, _super);\n    function InteractiveBubble(world) {\n        var _this = _super.call(this) || this;\n        _this.world = world;\n        _this.mEvent = new Phaser.Events.EventEmitter();\n        return _this;\n    }\n    InteractiveBubble.prototype.register = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.addPacketListener(this);\n            this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_REQ_CLIENT_SHOW_INTERACTIVE_BUBBLE, this.onShowHandler);\n            this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORDL_REQ_CLIENT_REMOVE_INTERACTIVE_BUBBLE, this.onClearHandler);\n        }\n    };\n    InteractiveBubble.prototype.unregister = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.removePacketListener(this);\n        }\n    };\n    InteractiveBubble.prototype.on = function (event, fn, context) {\n        this.mEvent.on(event, fn, context);\n    };\n    InteractiveBubble.prototype.off = function (event, fn, context) {\n        this.mEvent.off(event, fn, context);\n    };\n    InteractiveBubble.prototype.destroy = function () {\n        this.unregister();\n        this.mEvent.destroy();\n    };\n    InteractiveBubble.prototype.queryInteractiveHandler = function (data) {\n        var connection = this.connection;\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_RES_VIRTUAL_WORLD_ACTIVE_BUBBLE);\n        var content = packet.content;\n        content.id = data.id;\n        //  content.receiverId = data.receiverId;\n        connection.send(packet);\n    };\n    Object.defineProperty(InteractiveBubble.prototype, \"connection\", {\n        get: function () {\n            if (this.world) {\n                return this.world.connection;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    InteractiveBubble.prototype.onShowHandler = function (packet) {\n        var content = packet.content;\n        this.mEvent.emit(\"showbubble\", content);\n    };\n    InteractiveBubble.prototype.onClearHandler = function (packet) {\n        var content = packet.content;\n        this.mEvent.emit(\"clearbubble\", content.ids);\n    };\n    return InteractiveBubble;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PacketHandler\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/Bubble/InteractiveBubble.ts?");

/***/ }),

/***/ "./src/ui/Bubble/InteractiveBubbleMediator.ts":
/*!****************************************************!*\
  !*** ./src/ui/Bubble/InteractiveBubbleMediator.ts ***!
  \****************************************************/
/*! exports provided: InteractiveBubbleMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"InteractiveBubbleMediator\", function() { return InteractiveBubbleMediator; });\n/* harmony import */ var _InteractiveBubblePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./InteractiveBubblePanel */ \"./src/ui/Bubble/InteractiveBubblePanel.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\n/* harmony import */ var _InteractiveBubble__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./InteractiveBubble */ \"./src/ui/Bubble/InteractiveBubble.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar InteractiveBubbleMediator = /** @class */ (function (_super) {\n    __extends(InteractiveBubbleMediator, _super);\n    function InteractiveBubbleMediator(layerMgr, scene, mworld) {\n        var _this = _super.call(this) || this;\n        _this.layerMgr = layerMgr;\n        _this.mworld = mworld;\n        _this.scene = scene;\n        if (!_this.bubblePacket) {\n            _this.bubblePacket = new _InteractiveBubble__WEBPACK_IMPORTED_MODULE_2__[\"InteractiveBubble\"](mworld);\n            _this.bubblePacket.on(\"showbubble\", _this.onShowInteractiveBubble, _this);\n            _this.bubblePacket.on(\"clearbubble\", _this.onClearInteractiveBubble, _this);\n            _this.bubblePacket.register();\n        }\n        if (!_this.mView) {\n            _this.mView = new _InteractiveBubblePanel__WEBPACK_IMPORTED_MODULE_0__[\"InteractiveBubblePanel\"](_this.scene, _this.mworld);\n            _this.mView.on(\"queryinteractive\", _this.onInteractiveBubbleHandler, _this);\n        }\n        return _this;\n    }\n    Object.defineProperty(InteractiveBubbleMediator.prototype, \"currentRoom\", {\n        get: function () {\n            return this.mworld.roomManager.currentRoom;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    InteractiveBubbleMediator.prototype.destroy = function () {\n        if (this.mCurRoom)\n            this.mCurRoom.frameManager.remove(this, this.update);\n        if (this.bubblePacket) {\n            this.bubblePacket.destroy();\n            this.bubblePacket = undefined;\n        }\n        _super.prototype.destroy.call(this);\n        this.mCurRoom = undefined;\n    };\n    InteractiveBubbleMediator.prototype.update = function () {\n        if (this.mView)\n            this.mView.update();\n    };\n    InteractiveBubbleMediator.prototype.onShowInteractiveBubble = function (content) {\n        if (this.mCurRoom !== this.currentRoom) {\n            if (this.mCurRoom)\n                this.mCurRoom.frameManager.remove(this, this.update);\n            this.mCurRoom = this.currentRoom;\n            this.mCurRoom.frameManager.add(this, this.update);\n        }\n        var element = this.currentRoom.elementManager.get(content.receiverId);\n        if (!element)\n            element = this.currentRoom.playerManager.get(content.receiverId);\n        if (element && this.mView) {\n            this.mView.showInteractionBubble(content, element);\n        }\n        this.layerMgr.addToUILayer(this.mView, 0);\n    };\n    InteractiveBubbleMediator.prototype.onClearInteractiveBubble = function (ids) {\n        if (!this.mView)\n            return;\n        for (var _i = 0, ids_1 = ids; _i < ids_1.length; _i++) {\n            var id = ids_1[_i];\n            this.mView.clearInteractionBubble(id);\n        }\n    };\n    InteractiveBubbleMediator.prototype.onInteractiveBubbleHandler = function (data) {\n        if (!this.mView)\n            return;\n        if (typeof data === \"number\") {\n            this.mView.clearInteractionBubble(data);\n            return;\n        }\n        this.bubblePacket.queryInteractiveHandler(data);\n    };\n    return InteractiveBubbleMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_1__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/Bubble/InteractiveBubbleMediator.ts?");

/***/ }),

/***/ "./src/ui/Bubble/InteractiveBubblePanel.ts":
/*!*************************************************!*\
  !*** ./src/ui/Bubble/InteractiveBubblePanel.ts ***!
  \*************************************************/
/*! exports provided: InteractiveBubblePanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"InteractiveBubblePanel\", function() { return InteractiveBubblePanel; });\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _InteractionBubbleContainer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./InteractionBubbleContainer */ \"./src/ui/Bubble/InteractionBubbleContainer.ts\");\n/* harmony import */ var _Handler_Handler__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../Handler/Handler */ \"./src/Handler/Handler.ts\");\n/* harmony import */ var _utils_pos__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/pos */ \"./src/utils/pos.ts\");\n/* harmony import */ var _utils_tool__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/tool */ \"./src/utils/tool.ts\");\n/* harmony import */ var _scenes_play__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../scenes/play */ \"./src/scenes/play.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\nvar InteractiveBubblePanel = /** @class */ (function (_super) {\n    __extends(InteractiveBubblePanel, _super);\n    function InteractiveBubblePanel(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.map = new Map();\n        _this.world = world;\n        return _this;\n        // this.scale = 1;\n    }\n    InteractiveBubblePanel.prototype.resize = function (width, height) {\n        _super.prototype.resize.call(this, width, height);\n        this.setSize(width, height);\n    };\n    InteractiveBubblePanel.prototype.init = function () {\n        var width = this.scaleWidth;\n        var height = this.scaleHeight;\n        var zoom = this.scale;\n        this.resize(width, height);\n        _super.prototype.init.call(this);\n    };\n    InteractiveBubblePanel.prototype.destroy = function () {\n        if (this.map) {\n            for (var key in this.map) {\n                var bubble = this.map.get(Number(key));\n                if (bubble)\n                    bubble.destroy();\n            }\n            this.map.clear();\n        }\n        _super.prototype.destroy.call(this);\n    };\n    InteractiveBubblePanel.prototype.clearInteractionBubble = function (id) {\n        if (this.map.has(id)) {\n            var bubble = this.map.get(id);\n            bubble.destroy();\n            this.map.delete(id);\n        }\n    };\n    InteractiveBubblePanel.prototype.showInteractionBubble = function (content, ele) {\n        var _this = this;\n        var dpr = this.dpr;\n        content.display[\"resName\"] = null; // \"gems\";\n        content.display.texturePath = _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getUIRes(dpr, \"bubble/bubblebg.png\"); // \"resources/test/columns\";\n        content.display.dataPath = _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getUIRes(dpr, \"bubble/tipsicon.png\"); // \"resources/test/columns\";\n        var key = content.id;\n        if (this.mBubble)\n            this.mBubble.hide();\n        if (this.map.has(key)) {\n            this.mBubble = this.map.get(key);\n        }\n        else {\n            this.mBubble = new _InteractionBubbleContainer__WEBPACK_IMPORTED_MODULE_2__[\"InteractionBubbleContainer\"](this.scene, dpr);\n            this.map.set(key, this.mBubble);\n        }\n        this.mBubble.setBubble(content, new _Handler_Handler__WEBPACK_IMPORTED_MODULE_3__[\"Handler\"](this, this.onInteractiveBubbleHandler));\n        var playScene = this.world.game.scene.getScene(_scenes_play__WEBPACK_IMPORTED_MODULE_6__[\"PlayScene\"].name);\n        this.updateBubblePos(ele, playScene);\n        this.mBubble.setFollow(ele, playScene, function (obj) {\n            _this.updateBubblePos(ele, obj.scene);\n        });\n        this.mBubble.show = true;\n        this.add(this.mBubble);\n    };\n    InteractiveBubblePanel.prototype.updateBubblePos = function (gameObject, scene) {\n        var dpr = this.dpr;\n        var zoom = this.world.uiScale;\n        var position = gameObject.getDisplay().getWorldTransformMatrix();\n        if (position) {\n            var pos = _utils_tool__WEBPACK_IMPORTED_MODULE_5__[\"Tool\"].getPosByScenes(scene, new _utils_pos__WEBPACK_IMPORTED_MODULE_4__[\"Pos\"](position.tx, (position.ty - 33 * dpr * zoom)));\n            this.mBubble.setPosition(pos.x, pos.y);\n        }\n    };\n    InteractiveBubblePanel.prototype.update = function () {\n        if (!this.map)\n            return;\n        this.map.forEach(function (bubble) {\n            if (bubble && bubble.show)\n                bubble.updatePos();\n        });\n    };\n    InteractiveBubblePanel.prototype.onInteractiveBubbleHandler = function (data) {\n        this.emit(\"queryinteractive\", data);\n    };\n    return InteractiveBubblePanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/Bubble/InteractiveBubblePanel.ts?");

/***/ }),

/***/ "./src/ui/CharacterInfo/CharacterAttributePanel.ts":
/*!*********************************************************!*\
  !*** ./src/ui/CharacterInfo/CharacterAttributePanel.ts ***!
  \*********************************************************/
/*! exports provided: CharacterAttributePanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CharacterAttributePanel\", function() { return CharacterAttributePanel; });\n/* harmony import */ var _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/ui-components */ \"./lib/rexui/lib/ui/ui-components.ts\");\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\n/* harmony import */ var _components_dynamic_image__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/dynamic.image */ \"./src/ui/components/dynamic.image.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar CharacterAttributePanel = /** @class */ (function (_super) {\n    __extends(CharacterAttributePanel, _super);\n    function CharacterAttributePanel(scene, x, y, width, height, key, dpr) {\n        var _this = _super.call(this, scene, x, y) || this;\n        _this.attriItems = [];\n        _this.setSize(width, height);\n        _this.key = key;\n        _this.dpr = dpr;\n        return _this;\n    }\n    CharacterAttributePanel.prototype.setAttributeData = function (datas) {\n        var len = datas.length;\n        var scaleRadio = (len > 4 ? 2 : 1);\n        var width = this.width - 28 * this.dpr;\n        var height = this.height;\n        var cheight = 20 * this.dpr;\n        var cwidth = width / 2;\n        var offsetY = 20 * this.dpr;\n        var posy = -height * 0.5 + 10 * this.dpr;\n        for (var _i = 0, _a = this.attriItems; _i < _a.length; _i++) {\n            var item = _a[_i];\n            item.visible = false;\n        }\n        for (var i = 0; i < len; i++) {\n            var item = void 0;\n            if (i < this.attriItems.length) {\n                item = this.attriItems[i];\n            }\n            else {\n                item = new PlayerAttributeValue(this.scene, 0, 0, cwidth, cheight, this.key, this.dpr);\n                this.add(item);\n                this.attriItems.push(item);\n            }\n            var x = (width - width / scaleRadio) * 0.5 * (i < 4 ? -1 : 1);\n            var y = posy + cheight * 0.5 + (cheight + offsetY) * (i % 4);\n            item.setPosition(x, y);\n            item.setInfo(datas[i]);\n            item.visible = true;\n        }\n    };\n    return CharacterAttributePanel;\n}(Phaser.GameObjects.Container));\n\nvar PlayerAttributeValue = /** @class */ (function (_super) {\n    __extends(PlayerAttributeValue, _super);\n    function PlayerAttributeValue(scene, x, y, width, height, key, dpr) {\n        var _this = _super.call(this, scene, x, y) || this;\n        _this.dpr = dpr;\n        _this.setSize(width, height);\n        _this.icon = new _components_dynamic_image__WEBPACK_IMPORTED_MODULE_2__[\"DynamicImage\"](_this.scene, 0, 0);\n        _this.icon.x = -width * 0.5 + _this.icon.width * 0.5;\n        _this.icon.setTexture(key, \"health\");\n        _this.nameText = _this.scene.make.text({\n            x: _this.icon.x + 13 * dpr, y: 0, text: \"Attack:\",\n            style: { fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT, fontSize: 11 * dpr, color: \"#131313\" }\n        }).setOrigin(0, 0.5);\n        _this.valueText = new _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_0__[\"BBCodeText\"](_this.scene, 0, 0, \"100\", {\n            color: \"#131313\",\n            fontSize: 11 * _this.dpr,\n            fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT,\n        }).setOrigin(0, 0.5);\n        _this.valueText.x = _this.nameText.x + _this.nameText.width;\n        _this.add([_this.icon, _this.nameText, _this.valueText]);\n        return _this;\n    }\n    PlayerAttributeValue.prototype.setInfo = function (data) {\n        var _this = this;\n        var url = _utils_resUtil__WEBPACK_IMPORTED_MODULE_3__[\"Url\"].getOsdRes(data.display.texturePath);\n        this.icon.load(url, this, function () {\n            _this.icon.displayWidth = 17 * _this.dpr;\n            _this.icon.scaleY = _this.icon.scaleX;\n        });\n        this.icon.setFrame(data.display.texturePath);\n        this.nameText.text = data.name + \":\";\n        this.valueText.text = data.value + (data.tempValue ? this.getRichLabel(data.tempValue) : \"\");\n        this.valueText.x = this.nameText.x + this.nameText.width + 3 * this.dpr;\n    };\n    PlayerAttributeValue.prototype.getRichLabel = function (tempValue, color) {\n        if (color === void 0) { color = \"#0B77CD\"; }\n        var label = \"[color=\" + color + \"](+\" + tempValue + \")[/color]\";\n        return label;\n    };\n    return PlayerAttributeValue;\n}(Phaser.GameObjects.Container));\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/CharacterInfo/CharacterAttributePanel.ts?");

/***/ }),

/***/ "./src/ui/CharacterInfo/CharacterEditorPanel.ts":
/*!******************************************************!*\
  !*** ./src/ui/CharacterInfo/CharacterEditorPanel.ts ***!
  \******************************************************/
/*! exports provided: CharacterEditorPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CharacterEditorPanel\", function() { return CharacterEditorPanel; });\n/* harmony import */ var _lib_rexui_lib_ui_button_Button__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/button/Button */ \"./lib/rexui/lib/ui/button/Button.ts\");\n/* harmony import */ var _lib_rexui_lib_plugins_gameobjects_inputtext_InputText__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/rexui/lib/plugins/gameobjects/inputtext/InputText */ \"./lib/rexui/lib/plugins/gameobjects/inputtext/InputText.js\");\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\n/* harmony import */ var _components_ninepatch_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/ninepatch.button */ \"./src/ui/components/ninepatch.button.ts\");\n/* harmony import */ var _i18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../i18n */ \"./src/i18n.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar CharacterEditorPanel = /** @class */ (function (_super) {\n    __extends(CharacterEditorPanel, _super);\n    function CharacterEditorPanel(scene, x, y, width, height, key, dpr) {\n        var _this = _super.call(this, scene, x, y) || this;\n        _this.dpr = 0;\n        _this.key = \"\";\n        _this.setSize(width, height);\n        _this.key = key;\n        _this.dpr = dpr;\n        var common_key = \"common_key\";\n        var mfont = \"bold \" + 15 * _this.dpr + \"px Source Han Sans\";\n        _this.title = _this.scene.make.text({ x: 0, y: -height * 0.5 + 50 * dpr, text: _this.geti18n(\"edit_profile\"), style: { font: mfont, blod: true, color: \"#ffffff\", fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_2__[\"Font\"].DEFULT_FONT } }).setOrigin(0.5);\n        var bg = _this.scene.make.graphics(undefined, false);\n        bg.clear();\n        bg.fillStyle(0xffffff, 0.5);\n        bg.fillRect(0, 0, 247 * dpr, 350 * dpr);\n        bg.setPosition(-width * 0.5, -184 * dpr);\n        var posx = -width * 0.5 + 9 * dpr;\n        var posy = -170 * dpr;\n        var offsetY = 50 * dpr;\n        var nameText = _this.scene.make.text({ x: posx, y: posy, style: { blod: true, color: \"#0062BB\", fontSize: 15 * dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_2__[\"Font\"].DEFULT_FONT } }).setOrigin(0);\n        nameText.setText(_this.geti18n(\"user_name\") + \":\");\n        _this.inputText = new _lib_rexui_lib_plugins_gameobjects_inputtext_InputText__WEBPACK_IMPORTED_MODULE_1__[\"default\"](_this.scene, posx + nameText.width + 20 * dpr, posy, 162 * dpr, 27 * dpr, {\n            type: \"input\",\n            fontSize: 18 * dpr + \"px\",\n            color: \"#0062BB\",\n            align: \"center\",\n            placeholder: _this.geti18n(\"input_nickname\")\n        }).setOrigin(0);\n        var line = _this.createLine(-230 * _this.dpr * 0.5, posy + 32 * _this.dpr);\n        _this.add(bg);\n        _this.add([_this.title, nameText, _this.inputText, line]);\n        _this.idText = _this.createText(\"I        D:\", \"49855555\", posx, posy + offsetY);\n        _this.constellationText = _this.createText(_this.geti18n(\"constellation\") + \":\", \"\", posx, posy + offsetY * 2);\n        _this.birthdayText = _this.createText(_this.geti18n(\"birthday\") + \":\", \"1998-04-24\", posx, posy + offsetY * 3);\n        _this.cityText = _this.createText(_this.geti18n(\"city\") + \":\", \"\", posx, posy + offsetY * 4);\n        var signText = _this.scene.make.text({ x: posx, y: posy + offsetY * 5, style: { blod: true, color: \"#0062BB\", fontSize: 15 * dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_2__[\"Font\"].DEFULT_FONT } }).setOrigin(0);\n        signText.setText(_this.geti18n(\"signature\") + \":\");\n        _this.signInput = new _lib_rexui_lib_plugins_gameobjects_inputtext_InputText__WEBPACK_IMPORTED_MODULE_1__[\"default\"](_this.scene, posx + signText.width + 20 * dpr, posy + offsetY * 5, 162 * dpr, 76 * dpr, {\n            type: \"input\",\n            fontSize: 18 * dpr + \"px\",\n            color: \"#0062BB\",\n            align: \"center\",\n            placeholder: _this.geti18n(\"input_signature\")\n        }).setOrigin(0);\n        _this.add([signText, _this.signInput]);\n        var backBtn = new _lib_rexui_lib_ui_button_Button__WEBPACK_IMPORTED_MODULE_0__[\"Button\"](_this.scene, common_key, \"back_arrow\", \"back_arrow\");\n        var saveBtn = new _components_ninepatch_button__WEBPACK_IMPORTED_MODULE_3__[\"NinePatchButton\"](_this.scene, 0, height * 0.5 - 40 * dpr, 174 * _this.dpr, 37 * _this.dpr, common_key, \"yellow_btn\", _this.geti18n(\"save\"), {\n            left: 12 * _this.dpr,\n            top: 12 * _this.dpr,\n            right: 12 * _this.dpr,\n            bottom: 12 * _this.dpr\n        });\n        saveBtn.setTextStyle({ fontSize: 16 * _this.dpr, color: \"#ED7814\" });\n        backBtn.setPosition(posx + 8 * dpr, -height * 0.5 + 50 * dpr);\n        backBtn.on(\"Tap\", _this.onBackHandler, _this);\n        saveBtn.on(\"Tap\", _this.onSaveHandler, _this);\n        _this.add([backBtn, saveBtn]);\n        return _this;\n    }\n    CharacterEditorPanel.prototype.destroy = function () {\n        if (this.inputText)\n            this.inputText.destroy();\n        if (this.signInput)\n            this.signInput.destroy();\n        _super.prototype.destroy.call(this);\n    };\n    CharacterEditorPanel.prototype.createText = function (name, value, posx, posy) {\n        var nameText = this.scene.make.text({ x: posx, y: posy, style: { blod: true, color: \"#0062BB\", fontSize: 15 * this.dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_2__[\"Font\"].DEFULT_FONT } }).setOrigin(0, 0);\n        nameText.setText(name);\n        var valueText = this.scene.make.text({ x: posx + nameText.width + 20 * this.dpr, y: posy, text: value, style: { blod: true, color: \"#ffffff\", fontSize: 15 * this.dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_2__[\"Font\"].DEFULT_FONT } }).setOrigin(0, 0);\n        var line = this.createLine(-230 * this.dpr * 0.5, posy + 32 * this.dpr);\n        this.add([nameText, valueText, line]);\n        return valueText;\n    };\n    CharacterEditorPanel.prototype.geti18n = function (name) {\n        return _i18n__WEBPACK_IMPORTED_MODULE_4__[\"i18n\"].t(\"player_info.\" + name);\n    };\n    CharacterEditorPanel.prototype.createLine = function (posx, posy) {\n        var line = this.scene.make.graphics(undefined, false);\n        line.clear();\n        line.fillStyle(0x0062BB, 0.6);\n        line.fillRect(0, 0, 230 * this.dpr, 3);\n        line.setPosition(posx, posy);\n        return line;\n    };\n    CharacterEditorPanel.prototype.onBackHandler = function () {\n        this.visible = false;\n        this.emit(\"editorHide\");\n    };\n    CharacterEditorPanel.prototype.onSaveHandler = function () {\n    };\n    return CharacterEditorPanel;\n}(Phaser.GameObjects.Container));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/CharacterInfo/CharacterEditorPanel.ts?");

/***/ }),

/***/ "./src/ui/CharacterInfo/CharacterInfo.ts":
/*!***********************************************!*\
  !*** ./src/ui/CharacterInfo/CharacterInfo.ts ***!
  \***********************************************/
/*! exports provided: CharacterInfo */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CharacterInfo\", function() { return CharacterInfo; });\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar CharacterInfo = /** @class */ (function (_super) {\n    __extends(CharacterInfo, _super);\n    function CharacterInfo(world) {\n        var _this = _super.call(this) || this;\n        _this.world = world;\n        _this.mEvent = new Phaser.Events.EventEmitter();\n        return _this;\n    }\n    CharacterInfo.prototype.register = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.addPacketListener(this);\n            this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_PKT_SELF_PLAYER_INFO, this.onOwnerCharacterInfo);\n            this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_PKT_ANOTHER_PLAYER_INFO, this.onOtherCharacterInfo);\n        }\n    };\n    CharacterInfo.prototype.unregister = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.removePacketListener(this);\n        }\n    };\n    CharacterInfo.prototype.on = function (event, fn, context) {\n        this.mEvent.on(event, fn, context);\n    };\n    CharacterInfo.prototype.off = function (event, fn, context) {\n        this.mEvent.off(event, fn, context);\n    };\n    CharacterInfo.prototype.destroy = function () {\n        this.unregister();\n        this.mEvent.destroy();\n    };\n    Object.defineProperty(CharacterInfo.prototype, \"connection\", {\n        get: function () {\n            if (this.world) {\n                return this.world.connection;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CharacterInfo.prototype.queryPlayerInfo = function () {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_PKT_SELF_PLAYER_INFO);\n        this.connection.send(packet);\n    };\n    CharacterInfo.prototype.onOwnerCharacterInfo = function (packge) {\n        var content = packge.content;\n        this.mEvent.emit(\"ownerInfo\", content);\n    };\n    CharacterInfo.prototype.onOtherCharacterInfo = function (packge) {\n        var content = packge.content;\n        this.mEvent.emit(\"otherInfo\", content);\n    };\n    return CharacterInfo;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PacketHandler\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/CharacterInfo/CharacterInfo.ts?");

/***/ }),

/***/ "./src/ui/CharacterInfo/CharacterInfoMediator.ts":
/*!*******************************************************!*\
  !*** ./src/ui/CharacterInfo/CharacterInfoMediator.ts ***!
  \*******************************************************/
/*! exports provided: CharacterInfoMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CharacterInfoMediator\", function() { return CharacterInfoMediator; });\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\n/* harmony import */ var _CharacterInfoPanel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./CharacterInfoPanel */ \"./src/ui/CharacterInfo/CharacterInfoPanel.ts\");\n/* harmony import */ var _CharacterInfo__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./CharacterInfo */ \"./src/ui/CharacterInfo/CharacterInfo.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar CharacterInfoMediator = /** @class */ (function (_super) {\n    __extends(CharacterInfoMediator, _super);\n    function CharacterInfoMediator(layerMgr, scene, worldService) {\n        var _this = _super.call(this) || this;\n        _this.scene = scene;\n        _this.layerMgr = layerMgr;\n        _this.world = worldService;\n        return _this;\n    }\n    CharacterInfoMediator.prototype.show = function () {\n        if (this.mView) {\n            return;\n        }\n        if (!this.mView) {\n            this.mView = new _CharacterInfoPanel__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this.scene, this.world);\n            this.mView.on(\"hide\", this.onHidePanel, this);\n            this.mView.on(\"queryOwnerInfo\", this.onQueryOwnerInfo, this);\n        }\n        if (!this.characterInfo) {\n            this.characterInfo = new _CharacterInfo__WEBPACK_IMPORTED_MODULE_3__[\"CharacterInfo\"](this.world);\n            this.characterInfo.on(\"ownerInfo\", this.onOwnerCharacterInfo, this);\n            this.characterInfo.on(\"otherInfo\", this.onOtherCharacterInfo, this);\n            this.characterInfo.register();\n        }\n        this.layerMgr.addToUILayer(this.mView);\n        this.mView.show();\n    };\n    CharacterInfoMediator.prototype.isSceneUI = function () {\n        return true;\n    };\n    CharacterInfoMediator.prototype.destroy = function () {\n        if (this.characterInfo) {\n            this.characterInfo.destroy();\n            this.characterInfo = undefined;\n        }\n        if (this.mView) {\n            this.mView.hide();\n            this.mView = undefined;\n        }\n    };\n    CharacterInfoMediator.prototype.onHidePanel = function () {\n        this.destroy();\n    };\n    CharacterInfoMediator.prototype.onOwnerCharacterInfo = function (content) {\n        this.mView.setPlayerData(content);\n    };\n    CharacterInfoMediator.prototype.onOtherCharacterInfo = function (content) {\n        this.mView.setPlayerData(content);\n    };\n    CharacterInfoMediator.prototype.onQueryOwnerInfo = function () {\n        this.characterInfo.queryPlayerInfo();\n    };\n    CharacterInfoMediator.prototype.testOwnerData = function () {\n        var player = this.world.roomManager.currentRoom.playerManager.actor;\n        var owner = new pixelpai_proto__WEBPACK_IMPORTED_MODULE_0__[\"op_client\"].OP_VIRTUAL_WORLD_RES_CLIENT_PKT_SELF_PLAYER_INFO();\n        owner.id = player.id;\n        owner.cid = \"5524121555\";\n        owner.like = 652;\n        owner.currentAvatar = new pixelpai_proto__WEBPACK_IMPORTED_MODULE_0__[\"op_pkt_def\"].PKT_Avatar();\n        owner.currentAvatar.avatar = player.model.avatar;\n        owner.nickname = player.model.nickname;\n        owner.level = new pixelpai_proto__WEBPACK_IMPORTED_MODULE_0__[\"op_pkt_def\"].PKT_Level();\n        owner.level.level = 32;\n        owner.level.currentLevelExp = 100;\n        owner.level.nextLevelExp = 400;\n        owner.lifeSkills = [];\n        owner.currentTitle = \"\";\n        for (var i = 0; i < 20; i++) {\n            var item = new pixelpai_proto__WEBPACK_IMPORTED_MODULE_0__[\"op_pkt_def\"].PKT_Skill();\n            item.id = i + 10 + \"\";\n            item.name = \"\" + i;\n            item.level = new pixelpai_proto__WEBPACK_IMPORTED_MODULE_0__[\"op_pkt_def\"].PKT_Level();\n            item.level.level = 20 + i;\n            item.level.currentLevelExp = 200 + i * 10;\n            item.level.nextLevelExp = 400 + i * 10;\n            owner.lifeSkills.push(item);\n        }\n        return owner;\n    };\n    return CharacterInfoMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_1__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/CharacterInfo/CharacterInfoMediator.ts?");

/***/ }),

/***/ "./src/ui/CharacterInfo/CharacterInfoPanel.ts":
/*!****************************************************!*\
  !*** ./src/ui/CharacterInfo/CharacterInfoPanel.ts ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _components_dynamic_image__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/dynamic.image */ \"./src/ui/components/dynamic.image.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/ui-components */ \"./lib/rexui/lib/ui/ui-components.ts\");\n/* harmony import */ var _i18n__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../i18n */ \"./src/i18n.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_gridtable_GameGridTable__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/gridtable/GameGridTable */ \"./lib/rexui/lib/ui/gridtable/GameGridTable.ts\");\n/* harmony import */ var _rooms_display_dragonbones_display__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../rooms/display/dragonbones.display */ \"./src/rooms/display/dragonbones.display.ts\");\n/* harmony import */ var _rooms_display_dragonbones_model__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../rooms/display/dragonbones.model */ \"./src/rooms/display/dragonbones.model.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_progressbar_ProgressBar__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/progressbar/ProgressBar */ \"./lib/rexui/lib/ui/progressbar/ProgressBar.ts\");\n/* harmony import */ var _CharacterEditorPanel__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./CharacterEditorPanel */ \"./src/ui/CharacterInfo/CharacterEditorPanel.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_scroller_GameScroller__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/scroller/GameScroller */ \"./lib/rexui/lib/ui/scroller/GameScroller.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/interface/event/MouseEvent */ \"./lib/rexui/lib/ui/interface/event/MouseEvent.ts\");\n/* harmony import */ var _components_ninepatch_button__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../components/ninepatch.button */ \"./src/ui/components/ninepatch.button.ts\");\n/* harmony import */ var _ui_atals_name__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../ui.atals.name */ \"./src/ui/ui.atals.name.ts\");\n/* harmony import */ var _Handler_Handler__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../Handler/Handler */ \"./src/Handler/Handler.ts\");\n/* harmony import */ var _CharacterAttributePanel__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./CharacterAttributePanel */ \"./src/ui/CharacterInfo/CharacterAttributePanel.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\n\n\n\nvar Container = Phaser.GameObjects.Container;\n\n\n// import { NinePatchButton } from \"../../../lib/rexui/lib/ui/button/NinePatchButton\";\n\n\n\n\n\nvar CharacterInfoPanel = /** @class */ (function (_super) {\n    __extends(CharacterInfoPanel, _super);\n    function CharacterInfoPanel(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.key = \"player_info\";\n        _this.commonkey = \"common_key\";\n        _this.isOwner = true;\n        return _this;\n    }\n    CharacterInfoPanel.prototype.resize = function (width, height) {\n        var w = this.scaleWidth;\n        var h = this.scaleHeight;\n        _super.prototype.resize.call(this, width, height);\n        this.setSize(w, h);\n        this.mBackGround.clear();\n        this.mBackGround.fillStyle(0x000000, 0.66);\n        this.mBackGround.fillRect(0, 0, w, h);\n        this.content.setPosition(w / 2, h / 2);\n        // this.mSkillGrideTable.refreshPos(0, 180 * this.dpr);\n        this.mSkillGrideTable.resetMask();\n        this.content.setInteractive();\n        this.mCategoryScroll.refreshMask();\n    };\n    CharacterInfoPanel.prototype.show = function (param) {\n        this.mShowData = param;\n        if (this.mPreLoad)\n            return;\n        if (!this.mInitialized) {\n            this.preload();\n            return;\n        }\n        if (this.mShow)\n            return;\n        if (this.soundGroup && this.soundGroup.open)\n            this.playSound(this.soundGroup.open);\n        if (!this.mTweening && this.mTweenBoo) {\n            this.showTween(true);\n        }\n        else {\n            this.mShow = true;\n        }\n        this.setInteractive();\n        this.addListen();\n    };\n    CharacterInfoPanel.prototype.addListen = function () {\n        if (!this.mInitialized)\n            return;\n        this.closeBtn.on(_lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_13__[\"CoreUI\"].MouseEvent.Tap, this.OnClosePanel, this);\n        this.nickEditor.on(_lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_13__[\"CoreUI\"].MouseEvent.Tap, this.onEditorHandler, this);\n        this.privaCharBtn.on(_lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_13__[\"CoreUI\"].MouseEvent.Tap, this.onPrivateChatHandler, this);\n        this.addFriendBtn.on(_lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_13__[\"CoreUI\"].MouseEvent.Tap, this.onAddFriendHandler, this);\n        this.tradeBtn.on(_lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_13__[\"CoreUI\"].MouseEvent.Tap, this.onTradingHandler, this);\n    };\n    CharacterInfoPanel.prototype.removeListen = function () {\n        if (!this.mInitialized)\n            return;\n        this.closeBtn.off(_lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_13__[\"CoreUI\"].MouseEvent.Tap, this.OnClosePanel, this);\n        this.nickEditor.off(_lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_13__[\"CoreUI\"].MouseEvent.Tap, this.onEditorHandler, this);\n        this.privaCharBtn.off(_lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_13__[\"CoreUI\"].MouseEvent.Tap, this.onPrivateChatHandler, this);\n        this.addFriendBtn.off(_lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_13__[\"CoreUI\"].MouseEvent.Tap, this.onAddFriendHandler, this);\n        this.tradeBtn.off(_lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_13__[\"CoreUI\"].MouseEvent.Tap, this.onTradingHandler, this);\n    };\n    CharacterInfoPanel.prototype.preload = function () {\n        this.addAtlas(this.key, \"player_info/player_info.png\", \"player_info/player_info.json\");\n        this.commonkey = _ui_atals_name__WEBPACK_IMPORTED_MODULE_15__[\"UIAtlasKey\"].commonKey;\n        this.addAtlas(this.commonkey, _ui_atals_name__WEBPACK_IMPORTED_MODULE_15__[\"UIAtlasName\"].commonUrl + \".png\", _ui_atals_name__WEBPACK_IMPORTED_MODULE_15__[\"UIAtlasName\"].commonUrl + \".json\");\n        _super.prototype.preload.call(this);\n    };\n    CharacterInfoPanel.prototype.init = function () {\n        var _this = this;\n        var zoom = this.scale;\n        var wid = this.scaleWidth;\n        var hei = this.scaleHeight;\n        this.mBackGround = this.scene.make.graphics(undefined, false);\n        this.mBackGround.clear();\n        this.mBackGround.fillStyle(0x6AE2FF, 0);\n        this.mBackGround.fillRect(0, 0, wid * zoom, hei * zoom);\n        this.mBackGround.setInteractive(new Phaser.Geom.Rectangle(0, 0, wid, hei), Phaser.Geom.Rectangle.Contains);\n        this.bg = this.scene.make.image({ x: 0, y: 0, key: this.key, frame: \"bg\" });\n        this.content = this.scene.make.container(undefined, false);\n        this.content.setSize(this.bg.width, this.bg.height);\n        this.mainContent = this.scene.make.container(undefined, false);\n        this.mainContent.setSize(this.bg.width, this.bg.height);\n        var posY = -this.bg.height * 0.5 + 43 * this.dpr;\n        var mfont = \"bold \" + 15 * this.dpr + \"px Source Han Sans\";\n        this.labelText = this.scene.make.text({ x: 0, y: posY, text: _i18n__WEBPACK_IMPORTED_MODULE_5__[\"i18n\"].t(\"player_info.title\"), style: { font: mfont, bold: true, color: \"#ffffff\", fontSize: 15 * this.dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT } }).setOrigin(0.5, 0);\n        this.labelText.setStroke(\"#8F4300\", 1);\n        this.closeBtn = new _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_4__[\"Button\"](this.scene, this.commonkey, \"close\");\n        this.closeBtn.setPosition(this.mainContent.width * 0.5 - this.dpr * 30, posY - this.dpr * 10);\n        this.likeBtn = new _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_4__[\"Button\"](this.scene, this.key, \"praise_bef\", \"praise_bef\", \"999\");\n        this.likeBtn.setTextStyle({ fontSize: 13 * this.dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT });\n        this.likeBtn.text.setOrigin(0, 0.5).x += 10 * this.dpr;\n        this.likeBtn.setPosition(this.bg.width * 0.5 - 50 * this.dpr, posY + 50 * this.dpr);\n        this.likeBtn.visible = false;\n        this.avatar = new _rooms_display_dragonbones_display__WEBPACK_IMPORTED_MODULE_7__[\"DragonbonesDisplay\"](this.scene, undefined, undefined, true);\n        this.avatar.scale = this.dpr * 2;\n        this.avatar.x = 0;\n        this.avatar.y = -70 * this.dpr;\n        this.avatar.once(\"initialized\", function () {\n            _this.avatar.play({ name: \"idle\", flip: false });\n        });\n        var nickPosX = Math.round(-this.bg.width * 0.5 + 25 * this.dpr);\n        var nickPosY = Math.round(this.bg.height * 0.5 - 306 * this.dpr);\n        var nickOffsetY = 30 * this.dpr;\n        var fontSize = Math.round(13 * this.dpr);\n        this.nickName = new _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_4__[\"BBCodeText\"](this.scene, nickPosX, nickPosY, {})\n            .setOrigin(0, 0.5).setFontSize(fontSize).setFontFamily(_utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT);\n        this.nickEditor = new _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_4__[\"Button\"](this.scene, this.key, \"edit\", \"edit\");\n        this.nickEditor.setPosition(this.bg.width * 0.5 - 30 * this.dpr, nickPosY).visible = false;\n        var line1 = this.scene.make.image({ x: 0, y: nickPosY + 10 * this.dpr, key: this.key, frame: \"splitters\" });\n        this.idText = new _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_4__[\"BBCodeText\"](this.scene, nickPosX, nickPosY + nickOffsetY)\n            .setFontSize(fontSize).setOrigin(0, 0.5).setFontFamily(_utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT);\n        var line2 = this.scene.make.image({ x: 0, y: this.idText.y + 10 * this.dpr, key: this.key, frame: \"splitters\" });\n        this.titleName = new _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_4__[\"BBCodeText\"](this.scene, nickPosX, nickPosY + nickOffsetY * 2)\n            .setFontSize(fontSize).setOrigin(0, 0.5).setFontFamily(_utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT);\n        var line3 = this.scene.make.image({ x: 0, y: this.titleName.y + 10 * this.dpr, key: this.key, frame: \"splitters\" });\n        var lvbg = this.scene.make.image({ x: 0, y: 0, key: this.key, frame: \"level_bg\" });\n        this.lvText = this.scene.make.text({ x: 0, y: 0, text: \"lv 98\", style: { color: \"#996600\", fontSize: fontSize, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT } }).setOrigin(0.5, 0.5);\n        this.lvCon = this.scene.make.container(undefined, false);\n        this.lvCon.setSize(lvbg.width, lvbg.height);\n        this.lvCon.add([lvbg, this.lvText]);\n        var bottomWidth = 234 * this.dpr;\n        var bottomHeight = 195 * this.dpr;\n        this.bottomCon = this.scene.make.container(undefined, false).setSize(bottomWidth, bottomHeight);\n        this.bottomCon.setPosition(0, (this.mainContent.height - bottomHeight) * 0.5 - 30 * this.dpr);\n        this.bottombg = this.scene.make.graphics(undefined, false);\n        var bottomBtnPosx = -60 * this.dpr;\n        var bottomBtnPosy = this.bottomCon.height * 0.5 - 20 * this.dpr;\n        this.addFriendBtn = new _components_ninepatch_button__WEBPACK_IMPORTED_MODULE_14__[\"NinePatchButton\"](this.scene, bottomBtnPosx, bottomBtnPosy, 94 * this.dpr, 37 * this.dpr, this.key, \"button_g\", _i18n__WEBPACK_IMPORTED_MODULE_5__[\"i18n\"].t(\"player_info.add_friend\"), {\n            left: 12 * this.dpr,\n            top: 12 * this.dpr,\n            right: 12 * this.dpr,\n            bottom: 12 * this.dpr\n        });\n        this.addFriendBtn.setFrameNormal(\"button_g\");\n        this.privaCharBtn = new _components_ninepatch_button__WEBPACK_IMPORTED_MODULE_14__[\"NinePatchButton\"](this.scene, bottomBtnPosx, bottomBtnPosy, 94 * this.dpr, 37 * this.dpr, this.commonkey, \"yellow_btn\", _i18n__WEBPACK_IMPORTED_MODULE_5__[\"i18n\"].t(\"player_info.private_chat\"), {\n            left: 12 * this.dpr,\n            top: 12 * this.dpr,\n            right: 12 * this.dpr,\n            bottom: 12 * this.dpr\n        });\n        this.tradeBtn = new _components_ninepatch_button__WEBPACK_IMPORTED_MODULE_14__[\"NinePatchButton\"](this.scene, -bottomBtnPosx, bottomBtnPosy, 94 * this.dpr, 37 * this.dpr, this.commonkey, \"red_btn\", _i18n__WEBPACK_IMPORTED_MODULE_5__[\"i18n\"].t(\"player_info.tade_btn\"), {\n            left: 12 * this.dpr,\n            top: 12 * this.dpr,\n            right: 12 * this.dpr,\n            bottom: 12 * this.dpr\n        });\n        this.addFriendBtn.setTextStyle({ fontSize: 16 * this.dpr, color: \"#000000\" });\n        this.privaCharBtn.setTextStyle({ fontSize: 16 * this.dpr, color: \"#996600\" });\n        this.tradeBtn.setTextStyle({ fontSize: 16 * this.dpr, color: \"#ffffff\" });\n        this.bottomCon.add([this.bottombg, this.addFriendBtn, this.privaCharBtn, this.tradeBtn]);\n        this.mainContent.add([this.closeBtn, this.likeBtn, this.labelText, line1, line2, line3, this.nickName, this.nickEditor, this.idText, this.titleName, this.lvCon, this.bottomCon]);\n        this.mainContent.add(this.avatar);\n        this.content.add(this.bg);\n        this.content.add(this.mainContent);\n        this.add([this.mBackGround, this.content]);\n        var scrollY = 62 * this.dpr;\n        var scrollHeight = 80 * this.dpr;\n        this.mCategoryScroll = new _lib_rexui_lib_ui_scroller_GameScroller__WEBPACK_IMPORTED_MODULE_11__[\"GameScroller\"](this.scene, {\n            x: 0,\n            y: scrollY,\n            width: bottomWidth,\n            height: scrollHeight,\n            zoom: this.scale,\n            orientation: 1,\n            cellupCallBack: function (gameobject) {\n                _this.onSelectSubCategoryHandler(gameobject);\n            }\n        });\n        this.content.add(this.mCategoryScroll);\n        var propFrame = this.scene.textures.getFrame(this.key, \"skill_bg\");\n        var capW = propFrame.width + 5 * this.dpr;\n        var capH = propFrame.height + 2 * this.dpr;\n        var gridX = 0, gridwidth = (this.bottomCon.width - 10 * this.dpr), gridheight = 200 * this.dpr;\n        var gridY = scrollY + scrollHeight * 0.5 + 60 * this.dpr;\n        this.mSkillGrideTable = this.createGrideTable(gridX, gridY, gridwidth, gridheight, capW, capH, function () {\n            return new CharacterOwnerItem(_this.scene, 0, 0, _this.key, _this.dpr, zoom);\n        }, new _Handler_Handler__WEBPACK_IMPORTED_MODULE_16__[\"Handler\"](this, this.onSelectItemHandler));\n        var attrHeigth = 149 * this.dpr;\n        this.mAttrPanel = new _CharacterAttributePanel__WEBPACK_IMPORTED_MODULE_17__[\"CharacterAttributePanel\"](this.scene, gridX, gridY - 5 * this.dpr, 260 * this.dpr, attrHeigth, this.key, this.dpr);\n        this.content.add(this.mAttrPanel);\n        this.resize(wid, hei);\n        _super.prototype.init.call(this);\n        this.reqPlayerInfo();\n    };\n    CharacterInfoPanel.prototype.reqPlayerInfo = function () {\n        this.emit(\"queryOwnerInfo\");\n    };\n    CharacterInfoPanel.prototype.setPlayerData = function (data) {\n        var nickname = data.nickname;\n        var current_title = data.currentTitle;\n        var exp = data.level.currentLevelExp;\n        var nexExp = data.level.nextLevelExp;\n        var cid = data.id;\n        var levle = data.level.level;\n        var spaceOffset = this.getspaceStr(1 * this.dpr);\n        if (this.avatar) {\n            this.avatar.load(new _rooms_display_dragonbones_model__WEBPACK_IMPORTED_MODULE_8__[\"DragonbonesModel\"]({\n                id: 0,\n                avatar: data.currentAvatar.avatar\n            }));\n        }\n        this.titleName.setText(this.getRichLabel(_i18n__WEBPACK_IMPORTED_MODULE_5__[\"i18n\"].t(\"player_info.player_title\")) + spaceOffset + current_title);\n        this.likeBtn.setText(data.like + \"\");\n        var likeposx = this.bg.width * 0.5 - this.likeBtn.width * 0.5 - this.likeBtn.text.width;\n        this.likeBtn.x = likeposx - 20 * this.dpr;\n        this.lvText.text = \"Lv\" + levle + \"\";\n        var subArr = new Map();\n        subArr.set(CharacterOptionType.Skill, data.lifeSkills);\n        if (data instanceof pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_client\"].OP_VIRTUAL_WORLD_RES_CLIENT_PKT_SELF_PLAYER_INFO) {\n            this.nickName.setText(this.getRichLabel(_i18n__WEBPACK_IMPORTED_MODULE_5__[\"i18n\"].t(\"player_info.nick_name\")) + spaceOffset + nickname);\n            this.idText.setText(this.getRichLabel(_i18n__WEBPACK_IMPORTED_MODULE_5__[\"i18n\"].t(\"player_info.player_lv\")) + this.getspaceStr(20) + exp + \"/\" + nexExp);\n            this.lvCon.setPosition(this.idText.x + 58 * this.dpr, this.idText.y);\n            this.likeBtn.setFrame(\"praise_aft\");\n            subArr.set(CharacterOptionType.Attribute, data.properties);\n            subArr.set(CharacterOptionType.Badge, data.badges);\n            //   subArr.set(CharacterOptionType.Title, data.titles);\n            this.addFriendBtn.visible = false;\n            this.privaCharBtn.visible = false;\n            this.tradeBtn.visible = false;\n            this.bottombg.clear();\n            this.bottombg.fillStyle(0x6AE2FF, 1);\n            this.bottombg.fillRect(-this.bottomCon.width * 0.5, -this.bottomCon.height * 0.5, this.bottomCon.width, this.bottomCon.height);\n            this.mSkillGrideTable.setColumnCount(3);\n            this.isOwner = true;\n        }\n        else {\n            var remark = (data.remark ? data.remark : \"\");\n            this.nickName.setText(this.getRichLabel(_i18n__WEBPACK_IMPORTED_MODULE_5__[\"i18n\"].t(\"player_info.nick_name\")) + spaceOffset + nickname + (\" (\" + remark + \")\"));\n            this.idText.setText(this.getRichLabel(\"I   D\") + spaceOffset + cid);\n            this.lvCon.setPosition(this.idText.x + this.lvCon.width * 0.5, -this.mainContent.height * 0.5 + 100 * this.dpr);\n            this.likeBtn.setFrame(\"praise_bef\");\n            subArr.set(CharacterOptionType.Badge, data.badges);\n            // subArr.set(CharacterOptionType.Avatar, data.avatar);\n            this.addFriendBtn.visible = !data.friend;\n            this.privaCharBtn.visible = data.friend;\n            this.tradeBtn.visible = true;\n            this.bottombg.clear();\n            this.bottombg.fillStyle(0x6AE2FF, 1);\n            this.bottombg.fillRect(-this.bottomCon.width * 0.5, -this.bottomCon.height * 0.5, this.bottomCon.width, this.bottomCon.height - 55 * this.dpr);\n            this.mSkillGrideTable.setColumnCount(2);\n            this.isOwner = false;\n        }\n        this.setSubCategory(subArr);\n    };\n    CharacterInfoPanel.prototype.destroy = function () {\n        this.mSkillGrideTable.destroy();\n        this.mCategoryScroll.destroy();\n        _super.prototype.destroy.call(this);\n    };\n    CharacterInfoPanel.prototype.createGrideTable = function (x, y, width, height, capW, capH, createFun, callback) {\n        var _this = this;\n        var tableConfig = {\n            x: x,\n            y: y,\n            table: {\n                width: width,\n                height: height,\n                columns: 3,\n                cellWidth: capW,\n                cellHeight: capH,\n                reuseCellContainer: true,\n                cellPadX: 24 * this.dpr,\n                zoom: this.scale\n            },\n            scrollMode: 1,\n            clamplChildOY: false,\n            // background: (<any>this.scene).rexUI.add.roundRectangle(0, 0, 2, 2, 0, 0xFF9900, .2),\n            createCellContainerCallback: function (cell, cellContainer) {\n                var scene = cell.scene, item = cell.item;\n                if (cellContainer === null) {\n                    cellContainer = createFun();\n                    _this.content.add(cellContainer);\n                }\n                cellContainer.setData({ item: item });\n                cellContainer.setItemData(item, _this.isOwner);\n                return cellContainer;\n            },\n        };\n        var grid = new _lib_rexui_lib_ui_gridtable_GameGridTable__WEBPACK_IMPORTED_MODULE_6__[\"GameGridTable\"](this.scene, tableConfig);\n        grid.layout();\n        grid.on(\"cellTap\", function (cell) {\n            if (cell) {\n                callback.runWith(cell);\n            }\n        });\n        this.content.add(grid.table);\n        return grid;\n    };\n    CharacterInfoPanel.prototype.OnClosePanel = function () {\n        this.emit(\"hide\");\n    };\n    CharacterInfoPanel.prototype.setSubCategory = function (map) {\n        var _this = this;\n        var subNames = [_i18n__WEBPACK_IMPORTED_MODULE_5__[\"i18n\"].t(\"player_info.option_live\"), _i18n__WEBPACK_IMPORTED_MODULE_5__[\"i18n\"].t(\"player_info.option_attribute\"), _i18n__WEBPACK_IMPORTED_MODULE_5__[\"i18n\"].t(\"player_info.option_badge\")];\n        var itemWidth = this.mScene.textures.getFrame(this.key, \"title_select\").width;\n        var items = [];\n        map.forEach(function (value, key) {\n            var titleName = _this.getOptionName(key);\n            var item = new _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_4__[\"Button\"](_this.scene, _this.key, \"title_normal\", \"title_select\", titleName);\n            item.width = itemWidth;\n            item.height = 41 * _this.dpr;\n            items.push(item);\n            item.setTextStyle({ color: \"#2B4BB5\", fontSize: 12 * _this.dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].BOLD_FONT });\n            item.disInteractive();\n            item.removeListen();\n            item.setData(\"subData\", value);\n            item.setData(\"optiontype\", key);\n            _this.mCategoryScroll.addItem(item);\n        });\n        if (items.length <= 3)\n            this.mCategoryScroll.setAlign(1);\n        else {\n            this.mCategoryScroll.setAlign(2);\n        }\n        this.onSelectSubCategoryHandler(items[0]);\n    };\n    CharacterInfoPanel.prototype.onSelectSubCategoryHandler = function (obj) {\n        // Logger.getInstance().log(obj);\n        if (this.curSelectCategeory) {\n            this.curSelectCategeory.changeNormal();\n            this.curSelectCategeory.setTextColor(\"#2B4BB5\");\n        }\n        obj.changeDown();\n        obj.setTextColor(\"#996600\");\n        this.curSelectCategeory = obj;\n        var datas = obj.getData(\"subData\");\n        var optionType = obj.getData(\"optiontype\");\n        if (optionType === CharacterOptionType.Skill) {\n            this.mSkillGrideTable.setItems(datas);\n            //  this.mSkillGrideTable.refreshPos(0, 185 * this.dpr * this.scale, 0, 0);\n            this.mAttrPanel.visible = false;\n            this.mSkillGrideTable.table.visible = true;\n        }\n        else if (optionType === CharacterOptionType.Attribute) {\n            if (datas)\n                this.mAttrPanel.setAttributeData(datas);\n            this.mAttrPanel.visible = true;\n            this.mSkillGrideTable.setItems([]);\n            this.mSkillGrideTable.table.visible = false;\n        }\n        else if (optionType === CharacterOptionType.Badge) {\n        }\n    };\n    CharacterInfoPanel.prototype.onSelectItemHandler = function (item) {\n    };\n    CharacterInfoPanel.prototype.onEditorHandler = function () {\n        var w = 247 * this.dpr;\n        var h = this.content.height;\n        if (!this.editorPanel)\n            this.editorPanel = new _CharacterEditorPanel__WEBPACK_IMPORTED_MODULE_10__[\"CharacterEditorPanel\"](this.scene, 0, 0, w, h, this.key, this.dpr);\n        this.content.add(this.editorPanel);\n        this.editorPanel.visible = true;\n        this.editorPanel.on(\"editorHide\", this.onEditorPanelHideHandler, this);\n        this.setMainUIVisible(false);\n    };\n    CharacterInfoPanel.prototype.onAddFriendHandler = function () {\n    };\n    CharacterInfoPanel.prototype.onTradingHandler = function () {\n    };\n    CharacterInfoPanel.prototype.onPrivateChatHandler = function () {\n    };\n    CharacterInfoPanel.prototype.onEditorPanelHideHandler = function () {\n        this.mainContent.visible = true;\n        this.remove(this.editorPanel);\n        this.editorPanel.off(\"editorHide\", this.onEditorPanelHideHandler, this);\n        this.editorPanel.destroy();\n        this.editorPanel = null;\n        this.setMainUIVisible(true);\n    };\n    CharacterInfoPanel.prototype.setMainUIVisible = function (value) {\n        this.avatar.visible = value;\n        this.mCategoryScroll.visible = value;\n        this.mSkillGrideTable.table.visible = value;\n        this.mainContent.visible = value;\n    };\n    CharacterInfoPanel.prototype.getRichLabel = function (text, color) {\n        if (color === void 0) { color = \"#2B4BB5\"; }\n        var label = \"[stroke=\" + color + \"][color=\" + color + \"]\" + text + \":[/color][/stroke]\";\n        return label;\n    };\n    CharacterInfoPanel.prototype.getspaceStr = function (num) {\n        var str = \"\";\n        for (var i = 0; i < num; i++) {\n            str += \" \";\n        }\n        return str;\n    };\n    CharacterInfoPanel.prototype.getOptionName = function (type) {\n        var title = \"\";\n        if (type === CharacterOptionType.Skill) {\n            title = _i18n__WEBPACK_IMPORTED_MODULE_5__[\"i18n\"].t(\"player_info.option_live\");\n        }\n        else if (type === CharacterOptionType.Attribute) {\n            title = _i18n__WEBPACK_IMPORTED_MODULE_5__[\"i18n\"].t(\"player_info.option_attribute\");\n        }\n        else if (type === CharacterOptionType.Badge) {\n            title = _i18n__WEBPACK_IMPORTED_MODULE_5__[\"i18n\"].t(\"player_info.option_badge\");\n        }\n        else if (type === CharacterOptionType.Title) {\n            title = _i18n__WEBPACK_IMPORTED_MODULE_5__[\"i18n\"].t(\"player_info.option_title\");\n        }\n        return title;\n    };\n    return CharacterInfoPanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (CharacterInfoPanel);\nvar CharacterOptionType;\n(function (CharacterOptionType) {\n    CharacterOptionType[CharacterOptionType[\"Skill\"] = 0] = \"Skill\";\n    CharacterOptionType[CharacterOptionType[\"Attribute\"] = 1] = \"Attribute\";\n    CharacterOptionType[CharacterOptionType[\"Badge\"] = 2] = \"Badge\";\n    CharacterOptionType[CharacterOptionType[\"Title\"] = 3] = \"Title\";\n    CharacterOptionType[CharacterOptionType[\"Avatar\"] = 4] = \"Avatar\";\n})(CharacterOptionType || (CharacterOptionType = {}));\nvar CharacterOwnerItem = /** @class */ (function (_super) {\n    __extends(CharacterOwnerItem, _super);\n    function CharacterOwnerItem(scene, x, y, key, dpr, zoom) {\n        if (zoom === void 0) { zoom = 1; }\n        var _this = _super.call(this, scene, x, y) || this;\n        _this.dpr = 0;\n        _this.zoom = 0;\n        var bg = _this.scene.make.image({ x: 0, y: 0, key: key, frame: \"skill_bg\" });\n        _this.nameText = _this.scene.make.text({ x: -1 * dpr, y: 0, text: \"lv 98\", style: { color: \"#996600\", fontSize: 12 * dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT } }).setOrigin(0, 0.5);\n        _this.lvText = _this.scene.make.text({ x: -1 * dpr, y: 0, text: \"lv 98\", style: { color: \"#996600\", fontSize: 12 * dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT } }).setOrigin(0, 0.5);\n        _this.progressBar = new _lib_rexui_lib_ui_progressbar_ProgressBar__WEBPACK_IMPORTED_MODULE_9__[\"ProgressBar\"](_this.scene, {\n            x: 48 * dpr / 2,\n            y: 15 * dpr,\n            width: 41 * dpr,\n            height: 4 * dpr,\n            background: {\n                x: 0,\n                y: 0,\n                width: 41 * dpr,\n                height: 4 * dpr,\n                config: {\n                    top: 1 * dpr,\n                    left: 2 * dpr,\n                    right: 2 * dpr,\n                    bottom: 1 * dpr,\n                },\n                key: key,\n                frame: \"slider_bg\"\n            },\n            bar: {\n                x: 0,\n                y: 0,\n                width: 41 * dpr,\n                height: 4 * dpr,\n                config: {\n                    top: 1 * dpr,\n                    left: 2 * dpr,\n                    right: 2 * dpr,\n                    bottom: 1 * dpr,\n                },\n                key: key,\n                frame: \"slider_rate\"\n            },\n            dpr: dpr,\n            textConfig: undefined\n        });\n        _this.icon = new _components_dynamic_image__WEBPACK_IMPORTED_MODULE_3__[\"DynamicImage\"](_this.scene, -bg.width * 0.5 + 22 * dpr, 0);\n        _this.add([bg, _this.icon, _this.nameText, _this.lvText, _this.progressBar]);\n        _this.setSize(bg.width, bg.height);\n        _this.dpr = dpr;\n        _this.zoom = zoom;\n        _this.key = key;\n        return _this;\n        // this.progressBar.setProgress(1, 100);\n    }\n    CharacterOwnerItem.prototype.setItemData = function (data, isOwner) {\n        var _this = this;\n        if (isOwner === void 0) { isOwner = false; }\n        this.itemData = data;\n        this.nameText.text = data.name;\n        var posY = (isOwner ? -16 * this.dpr * this.zoom : -11 * this.dpr * this.zoom);\n        var offsetY = (isOwner ? 20 * this.dpr * this.zoom : 25 * this.dpr * this.zoom);\n        var cheight = 10 * this.dpr * this.zoom;\n        this.nameText.y = posY + cheight * 0.5;\n        this.icon.setTexture(this.key, \"test_skillicon\");\n        var width = this.icon.width;\n        if (data.level) {\n            this.lvText.text = data.level.level;\n            this.lvText.y = posY + offsetY;\n            this.progressBar.setProgress(data.level.currentLevelExp, data.level.nextLevelExp);\n            this.progressBar.visible = isOwner;\n        }\n        else {\n            this.progressBar.visible = false;\n            this.lvText.visible = false;\n        }\n        var url = _utils_resUtil__WEBPACK_IMPORTED_MODULE_12__[\"Url\"].getOsdRes(data.display.texturePath);\n        this.icon.load(url, this, function () {\n            _this.icon.scale = _this.dpr * _this.zoom;\n            var x = -_this.width * 0.5 + width * 0.5 + 6 * _this.dpr * _this.zoom;\n            _this.icon.setPosition(x, 0);\n        });\n    };\n    return CharacterOwnerItem;\n}(Container));\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/CharacterInfo/CharacterInfoPanel.ts?");

/***/ }),

/***/ "./src/ui/CharacterInfo/GraphicsProgressBar.ts":
/*!*****************************************************!*\
  !*** ./src/ui/CharacterInfo/GraphicsProgressBar.ts ***!
  \*****************************************************/
/*! exports provided: GraphicsProgressBar */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GraphicsProgressBar\", function() { return GraphicsProgressBar; });\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar GraphicsProgressBar = /** @class */ (function (_super) {\n    __extends(GraphicsProgressBar, _super);\n    function GraphicsProgressBar(scene, x, y, width, height, isHorizontal) {\n        if (isHorizontal === void 0) { isHorizontal = true; }\n        var _this = _super.call(this, scene, x, y) || this;\n        _this.value = 0.5;\n        _this.bgGraphics = _this.scene.make.graphics(undefined, false);\n        _this.barGraphics = _this.scene.make.graphics(undefined, false);\n        _this.add([_this.bgGraphics, _this.barGraphics]);\n        _this.setSize(width, height);\n        _this.bgColor = 0x000000;\n        _this.barColor = 0xff00000;\n        _this.bgGraphics.clear();\n        _this.bgGraphics.fillStyle(_this.bgColor, 1);\n        _this.bgGraphics.fillRect(0, 0, _this.width, _this.height);\n        _this.setValue(_this.value);\n        return _this;\n    }\n    GraphicsProgressBar.prototype.setColor = function (barColor, bgColor) {\n        this.barColor = barColor;\n        if (bgColor)\n            this.bgColor = bgColor;\n        this.bgGraphics.clear();\n        this.bgGraphics.fillStyle(this.bgColor, 1);\n        this.bgGraphics.fillRect(0, 0, this.width, this.height);\n        this.setValue(this.value);\n    };\n    GraphicsProgressBar.prototype.setValue = function (value) {\n        this.value = value;\n        var width = this.width * (this.isHorizontal ? value : 1);\n        var height = this.height * (!this.isHorizontal ? value : 1);\n        this.barGraphics.clear();\n        this.barGraphics.fillStyle(this.barColor, 1);\n        this.barGraphics.fillRect(0, 0, width, height);\n    };\n    GraphicsProgressBar.prototype.setRoundedRectValue = function (value, radius) {\n        this.value = value;\n        var width = this.width * (this.isHorizontal ? value : 1);\n        var height = this.height * (!this.isHorizontal ? value : 1);\n        this.barGraphics.clear();\n        this.barGraphics.fillStyle(this.barColor, 1);\n        this.barGraphics.fillRoundedRect(0, 0, width, height, radius);\n    };\n    return GraphicsProgressBar;\n}(Phaser.GameObjects.Container));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/CharacterInfo/GraphicsProgressBar.ts?");

/***/ }),

/***/ "./src/ui/CharacterInfo/GridLayoutGroup.ts":
/*!*************************************************!*\
  !*** ./src/ui/CharacterInfo/GridLayoutGroup.ts ***!
  \*************************************************/
/*! exports provided: GridLayoutGroup, AlignmentType, CornerType, AxisType, ConstraintType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GridLayoutGroup\", function() { return GridLayoutGroup; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AlignmentType\", function() { return AlignmentType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CornerType\", function() { return CornerType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AxisType\", function() { return AxisType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ConstraintType\", function() { return ConstraintType; });\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar GridLayoutGroup = /** @class */ (function (_super) {\n    __extends(GridLayoutGroup, _super);\n    function GridLayoutGroup(scene, x, y) {\n        var _this = _super.call(this, scene, x, y) || this;\n        _this.layoutElements = [];\n        _this._padding = new Phaser.Math.Vector4(0, 0, 0, 0);\n        _this._cellSize = new Phaser.Math.Vector2(100, 100);\n        _this._spacing = new Phaser.Math.Vector2(0, 0);\n        _this._alignmentType = AlignmentType.UpperLeft;\n        _this._startCorner = CornerType.UpperLeft;\n        _this._startAxis = AxisType.Horizontal;\n        _this._constraint = ConstraintType.Flexible;\n        _this._constraintCount = 4;\n        return _this;\n    }\n    GridLayoutGroup.prototype.onPlay = function () {\n    };\n    GridLayoutGroup.prototype.start = function () {\n    };\n    Object.defineProperty(GridLayoutGroup.prototype, \"padding\", {\n        get: function () {\n            return this._padding;\n        },\n        set: function (value) {\n            if (value === undefined)\n                return;\n            this._padding = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(GridLayoutGroup.prototype, \"cellSize\", {\n        get: function () {\n            return this._cellSize;\n        },\n        /**\n         * vec2(width,height);\n         */\n        set: function (value) {\n            if (value === undefined)\n                return;\n            if (value.x < 0)\n                value.x = 0;\n            if (value.y < 0)\n                value.y = 0;\n            this._cellSize = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(GridLayoutGroup.prototype, \"spacing\", {\n        get: function () {\n            return this._spacing;\n        },\n        /**\n         * vec2(x,y);\n         */\n        set: function (value) {\n            if (value === undefined)\n                return;\n            this._spacing = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(GridLayoutGroup.prototype, \"alignmentType\", {\n        get: function () {\n            return this._alignmentType;\n        },\n        set: function (value) {\n            if (value === this._alignmentType)\n                return;\n            this._alignmentType = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(GridLayoutGroup.prototype, \"startCorner\", {\n        get: function () {\n            return this._startCorner;\n        },\n        set: function (value) {\n            if (value === this._startCorner)\n                return;\n            this._startCorner = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(GridLayoutGroup.prototype, \"startAxis\", {\n        get: function () {\n            return this._startAxis;\n        },\n        set: function (value) {\n            if (value === this._startAxis)\n                return;\n            this._startAxis = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(GridLayoutGroup.prototype, \"constraint\", {\n        get: function () {\n            return this._constraint;\n        },\n        set: function (value) {\n            if (value === this._constraint)\n                return;\n            this._constraint = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(GridLayoutGroup.prototype, \"constraintCount\", {\n        get: function () {\n            return this._constraintCount;\n        },\n        set: function (value) {\n            if (value === undefined || isNaN(value))\n                return;\n            this._constraintCount = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    GridLayoutGroup.prototype.Layout = function () {\n        this.layoutElements.length = 0;\n        for (var _i = 0, _a = this.list; _i < _a.length; _i++) {\n            var child = _a[_i];\n            if (child.active)\n                this.layoutElements.push(child);\n        }\n        if (this.layoutElements.length === 0)\n            return;\n        var cornerX = this._startCorner % 2;\n        var cornerY = Math.floor(this._startCorner / 2);\n        var cellsPerMainAxis = 0, actualCellCountX = 0, actualCellCountY = 0;\n        var cellCount = this.getCellCount();\n        if (this._startAxis === AxisType.Horizontal) {\n            cellsPerMainAxis = cellCount.x;\n            actualCellCountX = Phaser.Math.Clamp(cellCount.x, 1, this.layoutElements.length);\n            actualCellCountY = Phaser.Math.Clamp(cellCount.y, 1, Math.ceil(this.layoutElements.length / cellsPerMainAxis));\n        }\n        else {\n            cellsPerMainAxis = cellCount.y;\n            actualCellCountY = Phaser.Math.Clamp(cellCount.y, 1, this.layoutElements.length);\n            actualCellCountX = Phaser.Math.Clamp(cellCount.x, 1, Math.ceil(this.layoutElements.length / cellsPerMainAxis));\n        }\n        var requiredSpace = new Phaser.Math.Vector2(actualCellCountX * this._cellSize.x + (actualCellCountX - 1) * this._spacing.x, actualCellCountY * this._cellSize.y + (actualCellCountY - 1) * this._spacing.y);\n        var startOffset = new Phaser.Math.Vector2(this.getStartOffset(0, requiredSpace.x), this.getStartOffset(1, requiredSpace.y));\n        var positionX = 0;\n        var positionY = 0;\n        for (var i = 0; i < this.layoutElements.length; i++) {\n            if (this._startAxis === AxisType.Horizontal) {\n                positionX = i % cellsPerMainAxis;\n                positionY = Math.floor(i / cellsPerMainAxis);\n            }\n            else {\n                positionX = Math.floor(i / cellsPerMainAxis);\n                positionY = i % cellsPerMainAxis;\n            }\n            if (cornerX === 1)\n                positionX = actualCellCountX - 1 - positionX;\n            if (cornerY === 1)\n                positionY = actualCellCountY - 1 - positionY;\n            this.setChildAlongAxis(this.layoutElements[i], 0, startOffset.x + (this._cellSize.x + this._spacing.x) * positionX, this._cellSize.x);\n            this.setChildAlongAxis(this.layoutElements[i], 1, startOffset.y + (this._cellSize.y + this._spacing.y) * positionY, this._cellSize.y);\n        }\n        var maxWidth = startOffset.x + (this._cellSize.x + this._spacing.x) * (positionX + 1);\n        var maxHeight = startOffset.y + (this._cellSize.y + this._spacing.y) * (positionY + 1);\n        if (this.startAxis === AxisType.Horizontal) {\n            this.height = maxHeight;\n            this.setAllChildPositionOffset(0);\n        }\n        else {\n            this.width = maxWidth;\n            this.setAllChildPositionOffset(1);\n        }\n        if (this.width < maxWidth) {\n            this.width = maxWidth;\n        }\n        if (this.height < maxHeight) {\n            this.height = maxHeight;\n        }\n    };\n    GridLayoutGroup.prototype.setChildAlongAxis = function (child, axis, pos, size) {\n        if (axis === 0) {\n            child.width = size;\n        }\n        else {\n            child.height = size;\n        }\n        var value = pos;\n        if (axis === 0) {\n            child.x = value + size * child.originX;\n        }\n        else {\n            child.y = value + size * child.originY;\n        }\n    };\n    GridLayoutGroup.prototype.setAllChildPositionOffset = function (axis) {\n        for (var _i = 0, _a = this.layoutElements; _i < _a.length; _i++) {\n            var child = _a[_i];\n            if (axis === 0) {\n                var offset = this.width * 0.5;\n                child.x -= offset;\n            }\n            else {\n                var offset = this.height * 0.5;\n                child.y -= offset;\n            }\n        }\n    };\n    GridLayoutGroup.prototype.getStartOffset = function (axis, requiredSpaceWithoutPadding) {\n        var requiredSpace = requiredSpaceWithoutPadding + (axis === 0 ? this.paddingHorizontal() : this.paddingVertical());\n        var availableSpace = (axis === 0 ? this.width : this.height);\n        var surplusSpace = availableSpace - requiredSpace;\n        var alignmentOnAxis = this.getAlignmentOnAxis(axis);\n        return (axis === 0 ? this._padding.x : this._padding.z) + surplusSpace * alignmentOnAxis;\n    };\n    GridLayoutGroup.prototype.getAlignmentOnAxis = function (axis) {\n        if (axis === 0)\n            return (this._alignmentType % 3) * 0.5;\n        else\n            return Math.floor(this._alignmentType / 3) * 0.5;\n    };\n    GridLayoutGroup.prototype.getCellCount = function () {\n        var cell = new Phaser.Math.Vector2();\n        if (this._constraint === ConstraintType.FixedColumnCount) {\n            cell.x = this._constraintCount;\n            if (this.layoutElements.length >= cell.x) {\n                cell.y = Math.floor(this.layoutElements.length / cell.x) + (this.layoutElements.length % cell.x > 0 ? 1 : 0);\n            }\n        }\n        else if (this._constraint === ConstraintType.FixedRowCount) {\n            cell.y = this._constraintCount;\n            if (this.layoutElements.length >= cell.y) {\n                cell.x = Math.floor(this.layoutElements.length / cell.y) + (this.layoutElements.length % cell.y > 0 ? 1 : 0);\n            }\n        }\n        else {\n            cell.x = Math.max(1, Math.floor((this.width - this.paddingHorizontal() + this._spacing.x + 0.001) / (this._cellSize.x + this._spacing.x)));\n            cell.y = Math.max(1, Math.floor((this.height - this.paddingVertical() + this._spacing.y + 0.001) / (this._cellSize.y + this._spacing.y)));\n        }\n        return cell;\n    };\n    GridLayoutGroup.prototype.paddingHorizontal = function () {\n        return this._padding.x + this._padding.y;\n    };\n    GridLayoutGroup.prototype.paddingVertical = function () {\n        return this._padding.z + this._padding.w;\n    };\n    GridLayoutGroup.ClassName = \"gridLayoutGroup\";\n    return GridLayoutGroup;\n}(Phaser.GameObjects.Container));\n\nvar AlignmentType;\n(function (AlignmentType) {\n    AlignmentType[AlignmentType[\"UpperLeft\"] = 0] = \"UpperLeft\";\n    AlignmentType[AlignmentType[\"UpperCenter\"] = 1] = \"UpperCenter\";\n    AlignmentType[AlignmentType[\"UpperRight\"] = 2] = \"UpperRight\";\n    AlignmentType[AlignmentType[\"MiddleLeft\"] = 3] = \"MiddleLeft\";\n    AlignmentType[AlignmentType[\"MiddleCenter\"] = 4] = \"MiddleCenter\";\n    AlignmentType[AlignmentType[\"MiddleRight\"] = 5] = \"MiddleRight\";\n    AlignmentType[AlignmentType[\"LowerLeft\"] = 6] = \"LowerLeft\";\n    AlignmentType[AlignmentType[\"LowerCenter\"] = 7] = \"LowerCenter\";\n    AlignmentType[AlignmentType[\"LowerRight\"] = 8] = \"LowerRight\";\n})(AlignmentType || (AlignmentType = {}));\nvar CornerType;\n(function (CornerType) {\n    CornerType[CornerType[\"UpperLeft\"] = 0] = \"UpperLeft\";\n    CornerType[CornerType[\"UpperRight\"] = 1] = \"UpperRight\";\n    CornerType[CornerType[\"LowerLeft\"] = 2] = \"LowerLeft\";\n    CornerType[CornerType[\"LowerRight\"] = 3] = \"LowerRight\";\n})(CornerType || (CornerType = {}));\nvar AxisType;\n(function (AxisType) {\n    AxisType[AxisType[\"Horizontal\"] = 0] = \"Horizontal\";\n    AxisType[AxisType[\"Vertical\"] = 1] = \"Vertical\";\n})(AxisType || (AxisType = {}));\nvar ConstraintType;\n(function (ConstraintType) {\n    ConstraintType[ConstraintType[\"Flexible\"] = 0] = \"Flexible\";\n    ConstraintType[ConstraintType[\"FixedColumnCount\"] = 1] = \"FixedColumnCount\";\n    ConstraintType[ConstraintType[\"FixedRowCount\"] = 2] = \"FixedRowCount\";\n})(ConstraintType || (ConstraintType = {}));\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/CharacterInfo/GridLayoutGroup.ts?");

/***/ }),

/***/ "./src/ui/ComponentRank/ComponentRankMediator.ts":
/*!*******************************************************!*\
  !*** ./src/ui/ComponentRank/ComponentRankMediator.ts ***!
  \*******************************************************/
/*! exports provided: ComponentRankMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ComponentRankMediator\", function() { return ComponentRankMediator; });\n/* harmony import */ var _ComponentRankPanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ComponentRankPanel */ \"./src/ui/ComponentRank/ComponentRankPanel.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/interface/baseUI/UIType */ \"./lib/rexui/lib/ui/interface/baseUI/UIType.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar ComponentRankMediator = /** @class */ (function (_super) {\n    __extends(ComponentRankMediator, _super);\n    function ComponentRankMediator(layerManager, scene, worldService) {\n        var _this = _super.call(this) || this;\n        _this.mUIType = _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_2__[\"UIType\"].Normal;\n        _this.mView = new _ComponentRankPanel__WEBPACK_IMPORTED_MODULE_0__[\"ComponentRankPanel\"](scene, worldService);\n        layerManager.addToUILayer(_this.mView);\n        _this.mLayerManager = layerManager;\n        _this.mScene = scene;\n        _this.world = worldService;\n        return _this;\n    }\n    ComponentRankMediator.prototype.getName = function () {\n        return \"\";\n    };\n    ComponentRankMediator.prototype.hide = function () {\n        this.mShow = false;\n        if (this.mView) {\n            this.mView.hide();\n            this.mView = null;\n        }\n    };\n    ComponentRankMediator.prototype.isSceneUI = function () {\n        return false;\n    };\n    ComponentRankMediator.prototype.isShow = function () {\n        return false;\n    };\n    ComponentRankMediator.prototype.resize = function () {\n        this.mView.resize();\n    };\n    ComponentRankMediator.prototype.show = function (param) {\n        if (this.mView && this.mView.isShow()) {\n            return;\n        }\n        this.mView = new _ComponentRankPanel__WEBPACK_IMPORTED_MODULE_0__[\"ComponentRankPanel\"](this.mScene, this.world);\n        this.mLayerManager.addToUILayer(this.mView);\n        this.mView.show();\n        if (param && param.length > 0) {\n            this.mView.addItem(param[0]);\n        }\n        _super.prototype.show.call(this, param);\n    };\n    ComponentRankMediator.prototype.destroy = function () {\n        if (this.mView) {\n            if (this.mView.parentContainer) {\n                this.mView.parentContainer.remove(this.mView);\n            }\n        }\n        _super.prototype.destroy.call(this);\n    };\n    ComponentRankMediator.prototype.update = function (param) {\n        if (param && param.length > 0) {\n            this.mView.addItem(param[0]);\n        }\n    };\n    ComponentRankMediator.NAME = \"ComponentRankMediator\";\n    return ComponentRankMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_1__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/ComponentRank/ComponentRankMediator.ts?");

/***/ }),

/***/ "./src/ui/ComponentRank/ComponentRankPanel.ts":
/*!****************************************************!*\
  !*** ./src/ui/ComponentRank/ComponentRankPanel.ts ***!
  \****************************************************/
/*! exports provided: ComponentRankPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ComponentRankPanel\", function() { return ComponentRankPanel; });\n/* harmony import */ var _Rank_BasicRankPanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Rank/BasicRankPanel */ \"./src/ui/Rank/BasicRankPanel.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _ComponentRankMediator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ComponentRankMediator */ \"./src/ui/ComponentRank/ComponentRankMediator.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar ComponentRankPanel = /** @class */ (function (_super) {\n    __extends(ComponentRankPanel, _super);\n    function ComponentRankPanel(scene, worldService) {\n        return _super.call(this, scene, worldService) || this;\n    }\n    ComponentRankPanel.prototype.addListen = function () {\n        this.mCloseBtn.on(\"pointerup\", this.onCloseHandler, this);\n    };\n    ComponentRankPanel.prototype.removeListen = function () {\n        this.mCloseBtn.off(\"pointerup\", this.onCloseHandler, this);\n    };\n    ComponentRankPanel.prototype.resize = function (wid, hei) {\n        if (!this.scene)\n            return;\n        var view = this.scene.cameras.main.worldView;\n        this.x = view.width - this.width - wid >> 1;\n        this.y = view.height - this.height - hei >> 1;\n    };\n    ComponentRankPanel.prototype.destroy = function () {\n        if (this.mCloseBtn) {\n            this.mCloseBtn.destroy(true);\n            this.mCloseBtn = null;\n        }\n        _super.prototype.destroy.call(this);\n    };\n    ComponentRankPanel.prototype.preload = function () {\n        this.scene.load.spritesheet(_utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"CloseButton\"].getName(), _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"CloseButton\"].getPNG(), _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"CloseButton\"].getFrameConfig());\n        _super.prototype.preload.call(this);\n    };\n    ComponentRankPanel.prototype.init = function () {\n        this.mCloseBtn = this.scene.make.image({\n            x: 0,\n            y: 0,\n            key: _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"CloseButton\"].getName(),\n            frame: \"btn_normal\"\n        }, false);\n        this.mCloseBtn.setTexture(_utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"CloseButton\"].getName(), \"btn_normal\");\n        this.mCloseBtn.x = (this.width >> 1) - 65;\n        this.mCloseBtn.y = (-this.height >> 1);\n        _super.prototype.init.call(this);\n        this.add(this.mCloseBtn);\n        this.mCloseBtn.setInteractive();\n        this.mWorld.uiManager.getMediator(_ComponentRankMediator__WEBPACK_IMPORTED_MODULE_2__[\"ComponentRankMediator\"].NAME).resize();\n        this.mCloseBtn.x = this.width - 18;\n    };\n    ComponentRankPanel.prototype.tweenComplete = function (show) {\n        _super.prototype.tweenComplete.call(this, show);\n        if (show)\n            this.mWorld.uiManager.getMediator(_ComponentRankMediator__WEBPACK_IMPORTED_MODULE_2__[\"ComponentRankMediator\"].NAME).resize();\n    };\n    ComponentRankPanel.prototype.onCloseHandler = function () {\n        this.hide();\n    };\n    return ComponentRankPanel;\n}(_Rank_BasicRankPanel__WEBPACK_IMPORTED_MODULE_0__[\"BasicRankPanel\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/ComponentRank/ComponentRankPanel.ts?");

/***/ }),

/***/ "./src/ui/Compose/Compose.ts":
/*!***********************************!*\
  !*** ./src/ui/Compose/Compose.ts ***!
  \***********************************/
/*! exports provided: Compose */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Compose\", function() { return Compose; });\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar Compose = /** @class */ (function (_super) {\n    __extends(Compose, _super);\n    function Compose(world) {\n        var _this = _super.call(this) || this;\n        _this.world = world;\n        _this.mEvent = new Phaser.Events.EventEmitter();\n        return _this;\n    }\n    Compose.prototype.register = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.addPacketListener(this);\n            this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_PKT_CRAFT_QUERY_FORMULA, this.onRetFormulaDetial);\n            this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_PKT_CRAFT_SKILLS, this.openComposePanel);\n        }\n    };\n    Compose.prototype.unregister = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.removePacketListener(this);\n        }\n    };\n    Compose.prototype.on = function (event, fn, context) {\n        this.mEvent.on(event, fn, context);\n    };\n    Compose.prototype.off = function (event, fn, context) {\n        this.mEvent.off(event, fn, context);\n    };\n    Compose.prototype.destroy = function () {\n        this.unregister();\n        this.mEvent.destroy();\n    };\n    Object.defineProperty(Compose.prototype, \"connection\", {\n        get: function () {\n            if (this.world) {\n                return this.world.connection;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Compose.prototype.onReqFormulaDetail = function (id) {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_PKT_CRAFT_QUERY_FORMULA);\n        var content = packet.content;\n        content.id = id;\n        this.connection.send(packet);\n    };\n    Compose.prototype.onReqUseFormula = function (id) {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_PKT_CRAFT_ALCHEMY);\n        var content = packet.content;\n        content.id = id;\n        this.connection.send(packet);\n    };\n    Compose.prototype.onRetFormulaDetial = function (packge) {\n        var content = packge.content;\n        this.mEvent.emit(\"formulaDetial\", content);\n    };\n    Compose.prototype.openComposePanel = function (packge) {\n        var content = packge.content;\n        this.mEvent.emit(\"showopen\", content);\n    };\n    return Compose;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PacketHandler\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/Compose/Compose.ts?");

/***/ }),

/***/ "./src/ui/Compose/ComposeMediator.ts":
/*!*******************************************!*\
  !*** ./src/ui/Compose/ComposeMediator.ts ***!
  \*******************************************/
/*! exports provided: ComposeMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ComposeMediator\", function() { return ComposeMediator; });\n/* harmony import */ var _ComposePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ComposePanel */ \"./src/ui/Compose/ComposePanel.ts\");\n/* harmony import */ var _Compose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Compose */ \"./src/ui/Compose/Compose.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\n/* harmony import */ var _utils_log__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/log */ \"./src/utils/log.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar ComposeMediator = /** @class */ (function (_super) {\n    __extends(ComposeMediator, _super);\n    function ComposeMediator(layerMgr, scene, worldService) {\n        var _this = _super.call(this) || this;\n        _this.scene = scene;\n        _this.layerMgr = layerMgr;\n        _this.world = worldService;\n        if (!_this.compose) {\n            _this.compose = new _Compose__WEBPACK_IMPORTED_MODULE_1__[\"Compose\"](_this.world);\n            _this.compose.on(\"formulaDetial\", _this.onRetFormulaDetial, _this);\n            _this.compose.on(\"showopen\", _this.onShowPanel, _this);\n            _this.compose.register();\n            _utils_log__WEBPACK_IMPORTED_MODULE_3__[\"Logger\"].getInstance().log(\"qwerqwerqwerqwerrrr+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\");\n        }\n        return _this;\n    }\n    ComposeMediator.prototype.show = function () {\n        if (this.mView && this.mView.isShow()) {\n            return;\n        }\n        if (!this.mView) {\n            this.mView = new _ComposePanel__WEBPACK_IMPORTED_MODULE_0__[\"ComposePanel\"](this.scene, this.world);\n            this.mView.on(\"hide\", this.onHideView, this);\n            this.mView.on(\"reqformula\", this.onReqFormulaDetial, this);\n            this.mView.on(\"reqUseFormula\", this.onReqUseFormula, this);\n        }\n        this.layerMgr.addToUILayer(this.mView);\n        this.mView.show(this.mParam[0]);\n    };\n    ComposeMediator.prototype.destroy = function () {\n        if (this.compose)\n            this.compose.destroy();\n        this.compose = undefined;\n        _super.prototype.destroy.call(this);\n    };\n    ComposeMediator.prototype.onReqFormulaDetial = function (id) {\n        this.compose.onReqFormulaDetail(id);\n    };\n    ComposeMediator.prototype.onReqUseFormula = function (id) {\n        this.compose.onReqUseFormula(id);\n    };\n    ComposeMediator.prototype.onRetFormulaDetial = function (content) {\n        var panel = this.mView;\n        panel.setComposeDetialData(content);\n    };\n    ComposeMediator.prototype.onHideView = function () {\n        _super.prototype.destroy.call(this);\n    };\n    ComposeMediator.prototype.onShowPanel = function (content) {\n        this.setParam([content]);\n        this.show();\n    };\n    return ComposeMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_2__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/Compose/ComposeMediator.ts?");

/***/ }),

/***/ "./src/ui/Compose/ComposePanel.ts":
/*!****************************************!*\
  !*** ./src/ui/Compose/ComposePanel.ts ***!
  \****************************************/
/*! exports provided: ComposePanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ComposePanel\", function() { return ComposePanel; });\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _components_nine_patch__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/nine.patch */ \"./src/ui/components/nine.patch.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_button_Button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/button/Button */ \"./lib/rexui/lib/ui/button/Button.ts\");\n/* harmony import */ var _Market_DetailDisplay__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Market/DetailDisplay */ \"./src/ui/Market/DetailDisplay.ts\");\n/* harmony import */ var _components_dynamic_image__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/dynamic.image */ \"./src/ui/components/dynamic.image.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_gridtable_GameGridTable__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/gridtable/GameGridTable */ \"./lib/rexui/lib/ui/gridtable/GameGridTable.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/ui-components */ \"./lib/rexui/lib/ui/ui-components.ts\");\n/* harmony import */ var _ui_atals_name__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../ui.atals.name */ \"./src/ui/ui.atals.name.ts\");\n/* harmony import */ var _i18n__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../i18n */ \"./src/i18n.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_scroller_GameScroller__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/scroller/GameScroller */ \"./lib/rexui/lib/ui/scroller/GameScroller.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/interface/event/MouseEvent */ \"./lib/rexui/lib/ui/interface/event/MouseEvent.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_button_NineSliceButton__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/button/NineSliceButton */ \"./lib/rexui/lib/ui/button/NineSliceButton.ts\");\n/* harmony import */ var _Handler_Handler__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../Handler/Handler */ \"./src/Handler/Handler.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar ComposePanel = /** @class */ (function (_super) {\n    __extends(ComposePanel, _super);\n    function ComposePanel(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.key = \"compose\";\n        _this.world = world;\n        return _this;\n        // this.scale = 1;\n    }\n    ComposePanel.prototype.resize = function (width, height) {\n        _super.prototype.resize.call(this, width, height);\n        this.content.x = width * 0.5;\n        this.content.y = height * 0.5;\n        this.mGrideTable.refreshPos(width * 0.5 + 10 * this.dpr, height - 70 * this.dpr);\n        this.mGrideTable.resetMask();\n        this.setSize(width, height);\n    };\n    ComposePanel.prototype.show = function (param) {\n        this.mShowData = param;\n        if (this.mPreLoad)\n            return;\n        if (!this.mInitialized) {\n            this.preload();\n            return;\n        }\n        if (this.mShow)\n            return;\n        if (this.soundGroup && this.soundGroup.open)\n            this.playSound(this.soundGroup.open);\n        if (!this.mTweening && this.mTweenBoo) {\n            this.showTween(true);\n        }\n        else {\n            this.mShow = true;\n        }\n        this.setInteractive();\n        this.addListen();\n    };\n    ComposePanel.prototype.addListen = function () {\n        if (!this.mInitialized)\n            return;\n        this.scene.input.on(\"pointerup\", this.onInputPointUp, this);\n        this.makeBtn.on(_lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_13__[\"CoreUI\"].MouseEvent.Tap, this.onMakeHandler, this);\n    };\n    ComposePanel.prototype.removeListen = function () {\n        if (!this.mInitialized)\n            return;\n        this.scene.input.off(\"pointerup\", this.onInputPointUp, this);\n        this.makeBtn.off(_lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_13__[\"CoreUI\"].MouseEvent.Tap, this.onMakeHandler, this);\n    };\n    ComposePanel.prototype.preload = function () {\n        this.addAtlas(this.key, \"compose/compose.png\", \"compose/compose.json\");\n        this.addAtlas(_ui_atals_name__WEBPACK_IMPORTED_MODULE_10__[\"UIAtlasKey\"].commonKey, _ui_atals_name__WEBPACK_IMPORTED_MODULE_10__[\"UIAtlasName\"].commonUrl + \".png\", _ui_atals_name__WEBPACK_IMPORTED_MODULE_10__[\"UIAtlasName\"].commonUrl + \".json\");\n        _super.prototype.preload.call(this);\n    };\n    ComposePanel.prototype.init = function () {\n        var _this = this;\n        var width = this.scaleWidth;\n        var height = this.scaleHeight;\n        var zoom = this.scale;\n        this.content = this.scene.make.container(undefined, false);\n        this.content.setSize(width, height);\n        this.add(this.content);\n        var bggraphics = this.scene.make.graphics(undefined, false);\n        bggraphics.clear();\n        bggraphics.fillGradientStyle(0x7062EC, 0x7062EC, 0xCC99F5, 0xCC99F5);\n        bggraphics.fillRect(-width * 0.5, -height * 0.5, width * zoom, height * zoom);\n        var bg = this.scene.make.image({ key: this.key, frame: \"main_bg\" });\n        bg.y = -height * 0.5 + bg.height * 0.5;\n        bg.setInteractive(new Phaser.Geom.Rectangle(0, 0, this.scene.cameras.main.width, this.scene.cameras.main.height), Phaser.Geom.Rectangle.Contains);\n        bg.displayWidth = width;\n        this.content.add([bggraphics, bg]);\n        var mfont = \"bold \" + 17 * this.dpr + \"px Source Han Sans\";\n        var titleBg = this.scene.make.image({ key: this.key, frame: \"title_bg\" });\n        titleBg.y = -height * 0.5 + 23 * this.dpr;\n        var titleTex = this.scene.make.text({ x: 0, y: titleBg.y, text: _i18n__WEBPACK_IMPORTED_MODULE_11__[\"i18n\"].t(\"compose.title\"), style: { font: mfont, bold: true, color: \"#8B5603\", fontSize: 15 * this.dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT } }).setOrigin(0.5);\n        this.content.add([titleBg, titleTex]);\n        var backBtn = new _lib_rexui_lib_ui_button_Button__WEBPACK_IMPORTED_MODULE_5__[\"Button\"](this.scene, _ui_atals_name__WEBPACK_IMPORTED_MODULE_10__[\"UIAtlasKey\"].commonKey, \"back_arrow\", \"back_arrow\");\n        backBtn.setPosition(-width * 0.5 + 20 * this.dpr, -height * 0.5 + 30 * this.dpr);\n        backBtn.on(\"Tap\", this.onBackHandler, this);\n        this.content.add(backBtn);\n        this.mDetailDisplay = new _Market_DetailDisplay__WEBPACK_IMPORTED_MODULE_6__[\"DetailDisplay\"](this.scene);\n        this.mDetailDisplay.y = -120 * this.dpr;\n        this.mDetailDisplay.scale = this.dpr * 2;\n        this.content.add(this.mDetailDisplay);\n        this.mDetailBubble = new DetailBubble(this.scene, this.dpr);\n        this.mDetailBubble.x = -width * 0.5;\n        this.mDetailBubble.y = height * 0.5 - 360 * this.dpr;\n        this.content.add(this.mDetailBubble);\n        this.makeBtn = new _lib_rexui_lib_ui_button_NineSliceButton__WEBPACK_IMPORTED_MODULE_14__[\"NineSliceButton\"](this.scene, Math.ceil(width * 0.5 - 60 * this.dpr), Math.ceil(height * 0.5 - 310 * this.dpr), 106 * this.dpr, 40 * this.dpr, _ui_atals_name__WEBPACK_IMPORTED_MODULE_10__[\"UIAtlasKey\"].commonKey, \"yellow_btn\", _i18n__WEBPACK_IMPORTED_MODULE_11__[\"i18n\"].t(\"compose.make\"), this.dpr, this.scale, {\n            left: 12 * this.dpr,\n            top: 12 * this.dpr,\n            right: 12 * this.dpr,\n            bottom: 12 * this.dpr\n        });\n        this.makeBtn.setTextStyle({ fontSize: 16 * this.dpr, color: \"#996600\" });\n        // this.makeBtn.on(\"click\", this.onMakeHandler, this);\n        this.content.add(this.makeBtn);\n        var materialConWdith = 360 * this.dpr, materialConHeight = 92 * this.dpr;\n        this.materialCon = this.scene.make.container(undefined, false).setSize(materialConWdith, materialConHeight);\n        this.content.add(this.materialCon);\n        this.materialCon.setPosition(0, height * 0.5 - 230 * this.dpr);\n        var materialbg = this.scene.make.image({ x: 0, y: 0, key: this.key, frame: \"sourcelist_bg\" });\n        materialbg.displayWidth = width;\n        var materialTitle = this.scene.make.text({\n            x: 0,\n            y: -materialConHeight * 0.5 + 12 * this.dpr,\n            text: _i18n__WEBPACK_IMPORTED_MODULE_11__[\"i18n\"].t(\"compose.needMaterials\"),\n            style: {\n                color: \"#ffffff\",\n                fontSize: 13 * this.dpr,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT,\n                wordWrap: {\n                    width: 90 * this.dpr,\n                    useAdvancedWrap: true\n                }\n            }\n        }, false).setOrigin(0.5);\n        var materialLine = this.scene.make.image({ x: -10 * this.dpr, y: materialTitle.y, key: this.key, frame: \"sourcelist_title_1\" });\n        var materialLine2 = this.scene.make.image({ x: 10 * this.dpr, y: materialTitle.y, key: this.key, frame: \"sourcelist_title_1\" });\n        var linePosx = -materialTitle.width * 0.5 - materialLine.width * 0.5 - 10 * this.dpr;\n        materialLine.setPosition(linePosx, materialTitle.y);\n        materialLine2.setPosition(-linePosx, materialTitle.y).rotation = -Math.PI;\n        var materialLine3 = this.scene.make.image({ x: 0, y: materialTitle.y + 12 * this.dpr, key: this.key, frame: \"separator\" });\n        this.materialCon.add([materialbg, materialTitle, materialLine, materialLine2, materialLine3]);\n        this.materialGameScroll = new _lib_rexui_lib_ui_scroller_GameScroller__WEBPACK_IMPORTED_MODULE_12__[\"GameScroller\"](this.scene, {\n            x: width * 0.5,\n            y: height - 220 * this.dpr,\n            width: width,\n            height: 70 * this.dpr,\n            zoom: this.scale,\n            align: 2,\n            orientation: 1,\n            valuechangeCallback: undefined,\n            celldownCallBack: function (gameobject) {\n                _this.materialTipsCon.visible = true;\n                _this.onMaterialItemHandler(gameobject);\n            },\n            cellupCallBack: function (gameobject) {\n                _this.materialTipsCon.visible = false;\n            }\n        });\n        this.add(this.materialGameScroll);\n        this.materialTipsCon = this.scene.make.container(undefined, false).setPosition(0, -20 * this.dpr);\n        this.materialTipsCon.visible = false;\n        this.materialCon.add(this.materialTipsCon);\n        var tipsWidth = 109 * this.dpr;\n        var tipsHeight = 42 * this.dpr;\n        var tipsbg = new _components_nine_patch__WEBPACK_IMPORTED_MODULE_3__[\"NinePatch\"](this.scene, 0, 0, tipsWidth, tipsHeight, this.key, \"tips_bg\", {\n            left: 20 * this.dpr,\n            top: 20 * this.dpr,\n            right: 20 * this.dpr,\n            bottom: 20 * this.dpr\n        });\n        tipsbg.setPosition(26 * this.dpr, -tipsHeight * 0.5);\n        this.tipsbg = tipsbg;\n        var tipsArrow = this.scene.make.image({ key: this.key, frame: \"tips_arrow\" });\n        var tipsName = this.scene.make.text({\n            x: 0,\n            y: -materialConHeight * 0.5 + 12 * this.dpr,\n            text: \"\",\n            style: {\n                color: \"#844ED5\",\n                fontSize: 13 * this.dpr,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT,\n                wordWrap: {\n                    width: 90 * this.dpr,\n                    useAdvancedWrap: true\n                }\n            }\n        }, false).setOrigin(0, 0.5).setPosition(-19 * this.dpr, -tipsHeight + 10 * this.dpr);\n        this.materialTipsName = tipsName;\n        var tipsText = this.scene.make.text({\n            x: 0,\n            y: -materialConHeight * 0.5 + 12 * this.dpr,\n            text: \"\",\n            style: {\n                color: \"#333333\",\n                fontSize: 13 * this.dpr,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT,\n                wordWrap: {\n                    width: 100 * this.dpr,\n                    useAdvancedWrap: true\n                }\n            }\n        }, false).setOrigin(0).setPosition(-19 * this.dpr, -tipsHeight + 20 * this.dpr);\n        this.materialTipsDes = tipsText;\n        this.materialTipsCon.add([tipsbg, tipsName, tipsText, tipsArrow]);\n        var propFrame = this.scene.textures.getFrame(this.key, \"bprint_bg_2\");\n        var capW = propFrame.width + 10 * this.dpr * zoom;\n        var capH = propFrame.height + 12 * this.dpr * zoom;\n        var tableConfig = {\n            x: width * zoom / 2,\n            y: height * zoom * 0.5 + 145 * this.dpr * zoom,\n            table: {\n                width: width * zoom,\n                height: 190 * this.dpr * zoom,\n                columns: 2,\n                cellWidth: capW,\n                cellHeight: capH,\n                reuseCellContainer: true,\n                cellPadX: 40 * this.dpr * zoom,\n                zoom: this.scale\n            },\n            scrollMode: 1,\n            clamplChildOY: false,\n            // background: (<any>this.scene).rexUI.add.roundRectangle(0, 0, 2, 2, 0, 0xFF9900, .2),\n            createCellContainerCallback: function (cell, cellContainer) {\n                var scene = cell.scene, item = cell.item;\n                if (cellContainer === null) {\n                    cellContainer = new ComposeItem(scene, _this.key, _this.dpr, zoom);\n                    _this.add(cellContainer);\n                }\n                // cellContainer.setSize(width, height);\n                cellContainer.setItemData(item);\n                if (item && _this.mSelectItemData && item.id === _this.mSelectItemData.id)\n                    cellContainer.select = true;\n                return cellContainer;\n            },\n        };\n        this.mGrideTable = new _lib_rexui_lib_ui_gridtable_GameGridTable__WEBPACK_IMPORTED_MODULE_8__[\"GameGridTable\"](this.scene, tableConfig);\n        this.mGrideTable.layout();\n        this.mGrideTable.on(\"cellTap\", function (cell) {\n            if (cell) {\n                _this.onSelectItemHandler(cell);\n            }\n        });\n        this.add(this.mGrideTable.table);\n        this.resize(width, height);\n        _super.prototype.init.call(this);\n        if (this.mShowData)\n            this.setComposeData(this.mShowData.skills);\n    };\n    ComposePanel.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n    };\n    ComposePanel.prototype.setComposeData = function (datas) {\n        if (datas && datas.length > 0) {\n            this.mGrideTable.setItems(datas);\n            var cell = this.mGrideTable.getCell(0);\n            this.onSelectItemHandler(cell.container);\n        }\n    };\n    ComposePanel.prototype.setComposeDetialData = function (data) {\n        this.mDetailBubble.setDetailData(data.productName, data.productDes);\n        this.setDetailDisplay(data);\n        this.setMaterialItems(data.materials);\n    };\n    ComposePanel.prototype.setDetailDisplay = function (data) {\n        var resData = new pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OP_VIRTUAL_WORLD_RES_CLIENT_MARKET_QUERY_PACKAGE_ITEM_RESOURCE();\n        resData.animations = data.productAnimations;\n        resData.display = data.productDisplay;\n        resData.avatar = data.productAvatar;\n        if (resData.display) {\n            this.mDetailDisplay.loadDisplay(resData);\n        }\n        else if (resData.avatar) {\n            this.mDetailDisplay.loadAvatar(resData);\n        }\n        else {\n            // this.mDetailDisplay.loadUrl(this.mSelectedProp.icon);\n        }\n    };\n    ComposePanel.prototype.onSelectItemHandler = function (item) {\n        var data = item.itemData;\n        this.emit(\"reqformula\", data.id);\n        item.select = true;\n        this.mSelectItemData = item.itemData;\n        this.makeBtn.enable = data.active && data.qualified;\n        this.mGrideTable.refresh();\n    };\n    ComposePanel.prototype.setMaterialItems = function (datas) {\n        var len = datas.length;\n        var zoom = this.scale;\n        var items = [];\n        this.materialGameScroll.clearItems();\n        for (var i = 0; i < len; i++) {\n            var item = new ComposeMaterialItem(this.scene, this.key, this.dpr, zoom);\n            item.y = 0;\n            items.push(item);\n            item.setItemData(datas[i]);\n            item.setData(\"itemData\", datas[i]);\n            this.materialGameScroll.addItem(item);\n        }\n        this.materialGameScroll.Sort();\n    };\n    ComposePanel.prototype.onMaterialItemHandler = function (item) {\n        var pos = item.getWorldTransformMatrix();\n        this.materialTipsCon.x = pos.tx - this.scaleWidth * 0.5;\n        this.materialTipsName.text = item.itemData.name;\n        this.materialTipsDes.text = item.itemData.source;\n        var tipsHeight = this.materialTipsName.height + this.materialTipsDes.height + 20 * this.dpr;\n        var tipsWidth = this.tipsbg.width;\n        this.tipsbg.resize(tipsWidth, tipsHeight);\n        this.tipsbg.y = -this.tipsbg.height * 0.5;\n        this.materialTipsName.y = -tipsHeight + 15 * this.dpr;\n        this.materialTipsDes.y = -tipsHeight + 25 * this.dpr;\n    };\n    ComposePanel.prototype.onMakeHandler = function () {\n        var _this = this;\n        if (this.mSelectItemData) {\n            var content = {\n                text: [{\n                        text: \"\\u60A8\\u786E\\u5B9A\\u8981\\u5408\\u6210\" + this.mSelectItemData.name + \"\\u5417\\uFF1F\"\n                    }],\n                title: [{\n                        text: _i18n__WEBPACK_IMPORTED_MODULE_11__[\"i18n\"].t(\"compose.synthesis\")\n                    }],\n                button: [\n                    {\n                        text: _i18n__WEBPACK_IMPORTED_MODULE_11__[\"i18n\"].t(\"common.confirm\"),\n                        local: true,\n                        clickhandler: new _Handler_Handler__WEBPACK_IMPORTED_MODULE_15__[\"Handler\"](this, function () {\n                            _this.emit(\"reqUseFormula\", _this.mSelectItemData.id);\n                        })\n                    },\n                    {\n                        text: _i18n__WEBPACK_IMPORTED_MODULE_11__[\"i18n\"].t(\"common.cancel\"),\n                        local: true,\n                    }\n                ]\n            };\n            var uimanager = this.mWorld.uiManager;\n            uimanager.showMed(\"MessageBox\", content);\n        }\n    };\n    ComposePanel.prototype.onInputPointUp = function () {\n        this.materialTipsCon.visible = false;\n    };\n    ComposePanel.prototype.onBackHandler = function () {\n        this.emit(\"hide\");\n    };\n    return ComposePanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_2__[\"BasePanel\"]));\n\nvar DetailBubble = /** @class */ (function (_super) {\n    __extends(DetailBubble, _super);\n    function DetailBubble(scene, dpr) {\n        var _this = _super.call(this, scene) || this;\n        _this.dpr = dpr;\n        _this.mDetailBubble = _this.scene.make.graphics(undefined, false);\n        var bubbleW = 198 * dpr;\n        var bubbleH = 96 * dpr;\n        _this.mDetailBubble = _this.scene.make.graphics(undefined, false);\n        _this.mDetailBubble.fillStyle(0xFFFFFF, 0.1);\n        _this.mDetailBubble.fillRoundedRect(0, 0, bubbleW, bubbleH);\n        _this.mItemName = _this.scene.make.text({\n            x: 7 * _this.dpr,\n            y: 9 * _this.dpr,\n            text: \"\",\n            style: {\n                fontSize: 12 * _this.dpr,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT,\n                color: \"#8C55E1\",\n                align: \"center\"\n            }\n        });\n        _this.mDesText = _this.scene.make.text({\n            x: 8 * dpr,\n            y: 30 * dpr,\n            style: {\n                color: \"#ffffff\",\n                fontSize: 10 * dpr,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT,\n                wordWrap: {\n                    width: 180 * dpr,\n                    useAdvancedWrap: true\n                }\n            }\n        }, false);\n        _this.add([_this.mDetailBubble, _this.mItemName, _this.mDesText]);\n        _this.setSize(bubbleW, bubbleH);\n        return _this;\n    }\n    DetailBubble.prototype.setDetailData = function (name, des) {\n        this.mItemName.setText(name);\n        this.mDesText.setText(des);\n        this.resize();\n    };\n    DetailBubble.prototype.resize = function (w, h) {\n        if (w === undefined)\n            w = this.width;\n        var bubbleH = this.mDesText.height + 60 * this.dpr;\n        if (w === this.width && bubbleH === this.height) {\n            return;\n        }\n        this.mDetailBubble.clear();\n        this.mDetailBubble.fillStyle(0xFFFFFF, 0.1);\n        this.mDetailBubble.fillRoundedRect(0, 0, w, bubbleH);\n        this.setSize(w, bubbleH);\n        // this.mDetailBubbleContainer.y = this.height - this.y - this.mDetailBubbleContainer.height - 6 * this.dpr;\n    };\n    return DetailBubble;\n}(Phaser.GameObjects.Container));\nvar ComposeItem = /** @class */ (function (_super) {\n    __extends(ComposeItem, _super);\n    function ComposeItem(scene, key, dpr, zoom) {\n        var _this = _super.call(this, scene) || this;\n        _this.dpr = dpr;\n        _this.key = key;\n        _this.zoom = zoom;\n        _this.bg = _this.scene.make.image({ key: _this.key, frame: \"bprint_bg_1\" });\n        _this.setSize(_this.bg.width, _this.bg.height);\n        _this.itemIcon = new _components_dynamic_image__WEBPACK_IMPORTED_MODULE_7__[\"DynamicImage\"](_this.scene, 0, 0);\n        var width = _this.width;\n        var height = _this.height;\n        _this.newIcon = _this.scene.make.image({ key: _this.key, frame: \"tag_new\" });\n        _this.newIcon.setPosition(-width * 0.5 + 3 * dpr, -height * 0.5 + 3 * dpr);\n        _this.newText = _this.scene.make.text({\n            x: _this.newIcon.x,\n            y: _this.newIcon.y,\n            text: \"N\",\n            style: {\n                fontSize: 11 * _this.dpr * zoom,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT,\n                color: \"#ffffff\",\n                align: \"center\"\n            }\n        }).setOrigin(0.5);\n        _this.qualityIcon = _this.scene.make.image({ key: _this.key, frame: \"tag_rank_a\" });\n        _this.qualityIcon.setPosition(-width * 0.5 + _this.qualityIcon.width * 0.5 - 2 * dpr, height * 0.5 - _this.qualityIcon.height * 0.5);\n        _this.qualityTex = _this.scene.make.text({\n            x: _this.qualityIcon.x,\n            y: _this.qualityIcon.y,\n            text: \"A\",\n            style: {\n                fontSize: 11 * _this.dpr * zoom,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT,\n                color: \"#ffffff\",\n                align: \"center\"\n            }\n        }).setOrigin(0.5);\n        _this.qualifiedIcon = _this.scene.make.image({ key: _this.key, frame: \"tag_ready\" });\n        _this.qualifiedIcon.setOrigin(1).setPosition(width * 0.5 - 3 * dpr, height * 0.5 - 3 * dpr);\n        _this.lockbg = _this.scene.make.image({ key: _this.key, frame: \"bprint_mask\" });\n        _this.lockIcon = _this.scene.make.image({ key: _this.key, frame: \"lock\" });\n        _this.add([_this.bg, _this.itemIcon, _this.newIcon, _this.newText, _this.qualityIcon, _this.qualityTex, _this.qualifiedIcon, _this.lockbg, _this.lockIcon]);\n        return _this;\n    }\n    ComposeItem.prototype.setItemData = function (data) {\n        this.itemData = data;\n        var active = data.active;\n        this.newIcon.visible = active;\n        this.newText.visible = active;\n        this.qualityIcon.visible = active;\n        this.qualityTex.visible = active;\n        this.qualityTex.text = data.quality;\n        this.qualifiedIcon.visible = active && data.qualified;\n        this.lockbg.visible = !data.active;\n        this.lockIcon.visible = !data.active;\n        this.setQualityTexture(data.quality);\n        if (data.display)\n            this.setItemIcon(data.display);\n        this.select = false;\n    };\n    Object.defineProperty(ComposeItem.prototype, \"select\", {\n        set: function (value) {\n            if (value)\n                this.bg.setFrame(\"bprint_bg_2\");\n            else\n                this.bg.setFrame(\"bprint_bg_1\");\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ComposeItem.prototype.setItemIcon = function (display) {\n        var _this = this;\n        var url = _utils_resUtil__WEBPACK_IMPORTED_MODULE_4__[\"Url\"].getOsdRes(display.texturePath);\n        this.itemIcon.load(url, this, function () {\n            _this.itemIcon.scale = _this.dpr * _this.zoom;\n            _this.itemIcon.setPosition(0, 0);\n        });\n    };\n    ComposeItem.prototype.setQualityTexture = function (quality) {\n        this.qualityIcon.visible = true;\n        if (quality === \"A\")\n            this.qualityIcon.setFrame(\"tag_rank_a\");\n        else if (quality === \"B\")\n            this.qualityIcon.setFrame(\"tag_rank_b\");\n        else if (quality === \"C\")\n            this.qualityIcon.setFrame(\"tag_rank_c\");\n        else\n            this.qualityIcon.visible = false;\n    };\n    return ComposeItem;\n}(Phaser.GameObjects.Container));\nvar ComposeMaterialItem = /** @class */ (function (_super) {\n    __extends(ComposeMaterialItem, _super);\n    function ComposeMaterialItem(scene, key, dpr, zoom) {\n        var _this = _super.call(this, scene) || this;\n        _this.dpr = dpr;\n        _this.key = key;\n        _this.zoom = zoom;\n        var bg = _this.scene.make.image({ key: _this.key, frame: \"source_bg\" });\n        _this.itemIcon = new _components_dynamic_image__WEBPACK_IMPORTED_MODULE_7__[\"DynamicImage\"](scene, 0, 0);\n        _this.itemCount = new _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_9__[\"BBCodeText\"](_this.scene, 0, 0, {})\n            .setOrigin(0.5).setFontSize(11 * dpr).setFontFamily(_utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT);\n        _this.add([bg, _this.itemIcon, _this.itemCount]);\n        _this.setSize(bg.width, bg.height);\n        _this.itemCount.y = _this.height * 0.5;\n        return _this;\n    }\n    ComposeMaterialItem.prototype.setItemData = function (data) {\n        var _this = this;\n        this.itemData = data;\n        this.itemCount.text = this.getCountText(data.count, data.neededCount);\n        var url = _utils_resUtil__WEBPACK_IMPORTED_MODULE_4__[\"Url\"].getOsdRes(data.display.texturePath);\n        this.itemIcon.load(url, this, function () {\n            _this.itemIcon.scale = _this.dpr * _this.zoom;\n            _this.itemIcon.setPosition(0, 0);\n        });\n    };\n    ComposeMaterialItem.prototype.getCountText = function (count, needcount) {\n        var color = (count >= needcount ? \"#ffffff\" : \"#ff0000\");\n        var text = \"[stroke=\" + color + \"][color=\" + color + \"]\" + count + \"[/color][/stroke]/\" + needcount;\n        return text;\n    };\n    return ComposeMaterialItem;\n}(Phaser.GameObjects.Container));\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/Compose/ComposePanel.ts?");

/***/ }),

/***/ "./src/ui/ControlF/ControlFMediator.ts":
/*!*********************************************!*\
  !*** ./src/ui/ControlF/ControlFMediator.ts ***!
  \*********************************************/
/*! exports provided: ControlFMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ControlFMediator\", function() { return ControlFMediator; });\n/* harmony import */ var _ControlFPanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ControlFPanel */ \"./src/ui/ControlF/ControlFPanel.ts\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _rooms_element_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../rooms/element/element */ \"./src/rooms/element/element.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/interface/baseUI/UIType */ \"./lib/rexui/lib/ui/interface/baseUI/UIType.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\nvar ControlFMediator = /** @class */ (function (_super) {\n    __extends(ControlFMediator, _super);\n    function ControlFMediator(layerManager, scene, world) {\n        var _this = _super.call(this) || this;\n        _this.mUIType = _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_5__[\"UIType\"].Tips;\n        _this.mScene = scene;\n        _this.mLayerManager = layerManager;\n        _this.world = world;\n        return _this;\n    }\n    ControlFMediator.prototype.getName = function () {\n        return \"\";\n    };\n    ControlFMediator.prototype.getView = function () {\n        return undefined;\n    };\n    ControlFMediator.prototype.hide = function () {\n        this.mShow = false;\n        if (this.mView && this.mView.isShow()) {\n            if (!this.world.roomManager.currentRoom || !this.world.roomManager.currentRoom.playerManager.actor ||\n                this.world.roomManager.currentRoom.playerManager.actor.getState() === _rooms_element_element__WEBPACK_IMPORTED_MODULE_3__[\"PlayerState\"].WALK) {\n                this.mView.off(\"control\", this.handControlF, this);\n                this.mView.destroy();\n                this.mView = null;\n            }\n        }\n    };\n    ControlFMediator.prototype.isSceneUI = function () {\n        return false;\n    };\n    ControlFMediator.prototype.isShow = function () {\n        if (!this.mView)\n            return false;\n        return this.mView.isShow();\n    };\n    ControlFMediator.prototype.resize = function () {\n        if (!this.mView)\n            return;\n        this.mView.resize();\n    };\n    ControlFMediator.prototype.show = function (param) {\n        if (this.mView && this.mView.isShow() || this.mShow) {\n            return;\n        }\n        this.mView = new _ControlFPanel__WEBPACK_IMPORTED_MODULE_0__[\"ControlFPanel\"](this.mScene, this.world);\n        this.mView.on(\"control\", this.handControlF, this);\n        this.mLayerManager.addToUILayer(this.mView);\n        this.mView.show(param);\n        _super.prototype.show.call(this, param);\n    };\n    ControlFMediator.prototype.update = function (param) {\n    };\n    ControlFMediator.prototype.destroy = function () {\n        if (this.mView) {\n            this.mView.off(\"control\", this.handControlF, this);\n            this.mView.destroy();\n            this.mView = null;\n        }\n        this.mScene = null;\n        this.mLayerManager = null;\n        _super.prototype.destroy.call(this);\n    };\n    ControlFMediator.prototype.handControlF = function () {\n        if (!this.world || !this.world.connection) {\n            return;\n        }\n        var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_1__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_GATEWAY_KEYBOARD_DOWN);\n        var content = pkt.content;\n        var keyArr;\n        if (this.world.inputManager) {\n            keyArr = this.world.inputManager.getKeyDowns();\n        }\n        else {\n            keyArr = [];\n        }\n        keyArr = keyArr.concat(Phaser.Input.Keyboard.KeyCodes.F);\n        content.keyCodes = keyArr;\n        this.world.connection.send(pkt);\n    };\n    ControlFMediator.NAME = \"ControlFMediator\";\n    return ControlFMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_4__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/ControlF/ControlFMediator.ts?");

/***/ }),

/***/ "./src/ui/ControlF/ControlFPanel.ts":
/*!******************************************!*\
  !*** ./src/ui/ControlF/ControlFPanel.ts ***!
  \******************************************/
/*! exports provided: ControlFPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ControlFPanel\", function() { return ControlFPanel; });\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar ControlFPanel = /** @class */ (function (_super) {\n    __extends(ControlFPanel, _super);\n    function ControlFPanel(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.setTween(false);\n        return _this;\n    }\n    ControlFPanel.prototype.addListen = function () {\n        this.on(\"pointerdown\", this.onMouseDownHandler, this);\n    };\n    ControlFPanel.prototype.removeListen = function () {\n        this.off(\"pointerdown\", this.onMouseDownHandler, this);\n    };\n    ControlFPanel.prototype.resize = function (wid, hei) {\n        if (wid === void 0) { wid = 0; }\n        if (hei === void 0) { hei = 0; }\n        if (!this.mScene)\n            return;\n        var worldView = this.mScene.cameras.main.worldView;\n        this.x = worldView.x + (worldView.width >> 1);\n        this.y = worldView.y + (worldView.height >> 1);\n    };\n    ControlFPanel.prototype.destroy = function () {\n        if (this.mControlText)\n            this.mControlText.destroy(true);\n        _super.prototype.destroy.call(this);\n    };\n    ControlFPanel.prototype.preload = function () {\n        this.mScene.load.image(\"controlF_background\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getRes(\"ui/controlf/background.png\"));\n        _super.prototype.preload.call(this);\n    };\n    ControlFPanel.prototype.init = function () {\n        if (!this.mScene)\n            return;\n        var image = this.mScene.make.image({\n            key: \"controlF_background\"\n        }, false);\n        this.add(image);\n        // TODO F\n        this.mControlText = this.mScene.make.text({\n            align: \"center\",\n            text: \"F\",\n            style: { font: _utils_font__WEBPACK_IMPORTED_MODULE_2__[\"Font\"].YAHEI_20_BOLD }\n        }, false);\n        this.mControlText.x = -(this.mControlText.width >> 1);\n        this.mControlText.y = -(this.mControlText.height >> 1);\n        this.add(this.mControlText);\n        this.setSize(image.width, image.height);\n        this.setInteractive();\n        _super.prototype.init.call(this);\n        this.resize();\n    };\n    ControlFPanel.prototype.onMouseDownHandler = function () {\n        this.scale = 0.8;\n    };\n    ControlFPanel.prototype.onMouseUpHandler = function () {\n        this.scale = 1;\n        this.emit(\"control\");\n    };\n    return ControlFPanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/ControlF/ControlFPanel.ts?");

/***/ }),

/***/ "./src/ui/CutIn/CutInMediator.ts":
/*!***************************************!*\
  !*** ./src/ui/CutIn/CutInMediator.ts ***!
  \***************************************/
/*! exports provided: CutInMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CutInMediator\", function() { return CutInMediator; });\n/* harmony import */ var _CutInPanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CutInPanel */ \"./src/ui/CutIn/CutInPanel.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar CutInMediator = /** @class */ (function (_super) {\n    __extends(CutInMediator, _super);\n    function CutInMediator(layerManager, scene, world) {\n        var _this = _super.call(this) || this;\n        _this.layerManager = layerManager;\n        _this.scene = scene;\n        _this.world = world;\n        return _this;\n    }\n    CutInMediator.prototype.show = function (param) {\n        if (this.mView && this.mView.isShow()) {\n            return;\n        }\n        this.mView = new _CutInPanel__WEBPACK_IMPORTED_MODULE_0__[\"CutInPanel\"](this.scene, this.world);\n        this.mView.once(\"close\", this.onCloseHandler, this);\n        this.mView.show(param);\n        // this.layerManager.addToToolTipsLayer(this.mView.view);\n    };\n    CutInMediator.prototype.onCloseHandler = function () {\n        if (this.mView) {\n            this.mView.destroy();\n            this.mView = undefined;\n        }\n    };\n    return CutInMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_1__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/CutIn/CutInMediator.ts?");

/***/ }),

/***/ "./src/ui/CutIn/CutInPanel.ts":
/*!************************************!*\
  !*** ./src/ui/CutIn/CutInPanel.ts ***!
  \************************************/
/*! exports provided: CutInPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CutInPanel\", function() { return CutInPanel; });\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar CutInPanel = /** @class */ (function (_super) {\n    __extends(CutInPanel, _super);\n    function CutInPanel(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.key = \"cut_in\";\n        return _this;\n    }\n    CutInPanel.prototype.show = function (param) {\n        var _this = this;\n        this.mShowData = param;\n        if (!this.mInitialized) {\n            this.preload();\n            return;\n        }\n        // if (!param || param.length < 1) return;\n        if (param && param.length > 0) {\n            var text = param[0].text;\n            if (this.mName) {\n                this.mName.setText(text[0].text);\n            }\n        }\n        else {\n            if (this.mName) {\n                this.mName.setText(\"???\");\n            }\n        }\n        var width = this.scene.cameras.main.width;\n        this.x = width + this.width / 2;\n        // this.view.alpha = 0;\n        var _x = this.scene.cameras.main.width / 2;\n        this.scene.tweens.timeline({\n            targets: this,\n            duration: 300,\n            tweens: [{\n                    x: _x,\n                    alpha: 1,\n                    ease: \"Sine.easeInOut\"\n                }, {\n                    delay: 2000,\n                    y: this.y - 10 * this.dpr,\n                    alpha: 0\n                }],\n            onComplete: function () {\n                _this.emit(\"close\");\n            }\n        });\n    };\n    CutInPanel.prototype.resize = function (w, h) {\n        // this.x = w / 2;\n        this.y = 140 * this.dpr;\n    };\n    CutInPanel.prototype.preload = function () {\n        this.scene.load.image(this.key, _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getUIRes(this.dpr, \"cut_in/cut_in_bg.png\"));\n        _super.prototype.preload.call(this);\n    };\n    CutInPanel.prototype.init = function () {\n        var background = this.scene.make.image({\n            key: this.key\n        }, false);\n        this.setSize(background.width * this.scale, background.height * this.scale);\n        this.mName = this.scene.make.text({\n            style: {\n                color: \"#ffcc33\",\n                fontSize: 18 * this.dpr,\n                fotnFamily: _utils_font__WEBPACK_IMPORTED_MODULE_2__[\"Font\"].DEFULT_FONT\n            }\n        }, false).setOrigin(0.5);\n        this.mName.setFontStyle(\"bold\");\n        this.mName.setStroke(\"#000000\", 1 * this.dpr);\n        this.add([background, this.mName]);\n        _super.prototype.init.call(this);\n        this.resize(this.scene.cameras.main.width, this.scene.cameras.main.height);\n        this.mWorld.uiManager.getUILayerManager().addToToolTipsLayer(this);\n    };\n    return CutInPanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/CutIn/CutInPanel.ts?");

/***/ }),

/***/ "./src/ui/CutInMenu/CutInMenu.ts":
/*!***************************************!*\
  !*** ./src/ui/CutInMenu/CutInMenu.ts ***!
  \***************************************/
/*! exports provided: CutInMenu */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CutInMenu\", function() { return CutInMenu; });\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar CutInMenu = /** @class */ (function (_super) {\n    __extends(CutInMenu, _super);\n    function CutInMenu(world) {\n        var _this = _super.call(this) || this;\n        _this.world = world;\n        _this.mEvent = new Phaser.Events.EventEmitter();\n        return _this;\n    }\n    CutInMenu.prototype.register = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.addPacketListener(this);\n            //  this.addHandlerFun(op_client.OPCODE._OP_VIRTUAL_WORLD_REQ_CLIENT_MINING_MODE_SHOW_REWARD_PACKAGE, this.onMineSettlePackageHandler);\n        }\n    };\n    CutInMenu.prototype.unregister = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.removePacketListener(this);\n        }\n    };\n    CutInMenu.prototype.on = function (event, fn, context) {\n        this.mEvent.on(event, fn, context);\n    };\n    CutInMenu.prototype.off = function (event, fn, context) {\n        this.mEvent.off(event, fn, context);\n    };\n    CutInMenu.prototype.destroy = function () {\n        this.unregister();\n        this.mEvent.destroy();\n    };\n    CutInMenu.prototype.reqRightButton = function (uiid, btnid) {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_TARGET_UI);\n        var content = packet.content;\n        content.uiId = uiid;\n        content.componentId = btnid;\n        this.connection.send(packet);\n    };\n    Object.defineProperty(CutInMenu.prototype, \"connection\", {\n        get: function () {\n            if (this.world) {\n                return this.world.connection;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return CutInMenu;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PacketHandler\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/CutInMenu/CutInMenu.ts?");

/***/ }),

/***/ "./src/ui/CutInMenu/CutInMenuMediator.ts":
/*!***********************************************!*\
  !*** ./src/ui/CutInMenu/CutInMenuMediator.ts ***!
  \***********************************************/
/*! exports provided: CutInMenuMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CutInMenuMediator\", function() { return CutInMenuMediator; });\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\n/* harmony import */ var _CutInMenu__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CutInMenu */ \"./src/ui/CutInMenu/CutInMenu.ts\");\n/* harmony import */ var _CutInMenuPanel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./CutInMenuPanel */ \"./src/ui/CutInMenu/CutInMenuPanel.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar CutInMenuMediator = /** @class */ (function (_super) {\n    __extends(CutInMenuMediator, _super);\n    function CutInMenuMediator(layerMgr, scene, worldService) {\n        var _this = _super.call(this) || this;\n        _this.scene = scene;\n        _this.layerMgr = layerMgr;\n        _this.world = worldService;\n        return _this;\n    }\n    CutInMenuMediator.prototype.show = function (mParam) {\n        if (this.mView) {\n            return;\n        }\n        if (!this.mView) {\n            this.mView = new _CutInMenuPanel__WEBPACK_IMPORTED_MODULE_2__[\"CutInMenuPanel\"](this.scene, this.world);\n            this.mView.on(\"hide\", this.onHideView, this);\n            this.mView.on(\"rightButton\", this.onRightButtonHandler, this);\n        }\n        if (!this.cutInMenu) {\n            this.cutInMenu = new _CutInMenu__WEBPACK_IMPORTED_MODULE_1__[\"CutInMenu\"](this.world);\n            this.cutInMenu.register();\n        }\n        this.layerMgr.addToUILayer(this.mView);\n        this.mView.show(mParam);\n    };\n    CutInMenuMediator.prototype.isSceneUI = function () {\n        return true;\n    };\n    CutInMenuMediator.prototype.destroy = function () {\n        if (this.cutInMenu) {\n            this.cutInMenu.destroy();\n            this.cutInMenu = undefined;\n        }\n        if (this.mView) {\n            this.mView.hide();\n            this.mView = undefined;\n        }\n    };\n    CutInMenuMediator.prototype.onRightButtonHandler = function (uiid, btnid) {\n        this.cutInMenu.reqRightButton(uiid, btnid);\n    };\n    CutInMenuMediator.prototype.onHideView = function () {\n        this.destroy();\n    };\n    return CutInMenuMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_0__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/CutInMenu/CutInMenuMediator.ts?");

/***/ }),

/***/ "./src/ui/CutInMenu/CutInMenuPanel.ts":
/*!********************************************!*\
  !*** ./src/ui/CutInMenu/CutInMenuPanel.ts ***!
  \********************************************/
/*! exports provided: CutInMenuPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CutInMenuPanel\", function() { return CutInMenuPanel; });\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _Handler_Handler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Handler/Handler */ \"./src/Handler/Handler.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar CutInMenuPanel = /** @class */ (function (_super) {\n    __extends(CutInMenuPanel, _super);\n    function CutInMenuPanel(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.key = \"cutinmenupanel\";\n        _this.mapPop = new Map();\n        _this.world = world;\n        return _this;\n    }\n    CutInMenuPanel.prototype.resize = function (width, height) {\n        _super.prototype.resize.call(this, width, height);\n        this.setSize(width, height);\n    };\n    CutInMenuPanel.prototype.show = function (param) {\n        this.mShowData = param;\n        if (this.mPreLoad)\n            return;\n        if (!this.mInitialized) {\n            this.preload();\n            return;\n        }\n        if (this.mShow)\n            return;\n        if (this.soundGroup && this.soundGroup.open)\n            this.playSound(this.soundGroup.open);\n        if (!this.mTweening && this.mTweenBoo) {\n            this.showTween(true);\n        }\n        else {\n            this.mShow = true;\n        }\n        this.addListen();\n    };\n    CutInMenuPanel.prototype.addListen = function () {\n        if (!this.mInitialized)\n            return;\n    };\n    CutInMenuPanel.prototype.removeListen = function () {\n        if (!this.mInitialized)\n            return;\n    };\n    CutInMenuPanel.prototype.preload = function () {\n        this.addAtlas(this.key, \"cutInmenu/cutInmenu.png\", \"cutInmenu/cutInmenu.json\");\n        _super.prototype.preload.call(this);\n    };\n    CutInMenuPanel.prototype.init = function () {\n        var width = this.scaleWidth;\n        var height = this.scaleHeight;\n        this.rightPopButton = new RightPopContainer(this.scene, width, this.key, this.dpr);\n        var posx = width + this.rightPopButton.width * 0.5 - 15 * this.dpr;\n        var bounds = this.getActivityBounds();\n        if (bounds) {\n            this.rightPopButton.setPosition(posx, bounds.bottom + this.rightPopButton.height);\n        }\n        else {\n            this.rightPopButton.setPosition(posx, height * 0.5);\n        }\n        this.rightPopButton.setClickHandler(new _Handler_Handler__WEBPACK_IMPORTED_MODULE_1__[\"Handler\"](this, this.onRightClickHandler));\n        this.add(this.rightPopButton);\n        this.resize(width, height);\n        _super.prototype.init.call(this);\n    };\n    CutInMenuPanel.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n    };\n    CutInMenuPanel.prototype.onRightClickHandler = function () {\n        var data = this.mShowData[0];\n        this.emit(\"rightButton\", data.id, data.button[0].node.id);\n    };\n    CutInMenuPanel.prototype.getActivityBounds = function () {\n        var mMediator = this.world.uiManager.getMediator(\"ActivityMediator\");\n        var bounds;\n        if (mMediator)\n            bounds = mMediator.getView().getBounds();\n        return bounds;\n    };\n    return CutInMenuPanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\nvar RightPopContainer = /** @class */ (function (_super) {\n    __extends(RightPopContainer, _super);\n    function RightPopContainer(scene, width, key, dpr) {\n        var _this = _super.call(this, scene) || this;\n        _this.isPop = false;\n        _this.isPlaying = false;\n        _this.dpr = dpr;\n        _this.key = key;\n        _this.scaleWidth = width;\n        var minecarbg = _this.scene.make.image({ key: _this.key, frame: \"minebag_bg\" });\n        _this.bgSprite = _this.scene.make.image({ key: _this.key, frame: \"minebag_bg_brth\" }, false);\n        _this.minecarBtn = _this.scene.make.image({ key: _this.key, frame: \"minecar\" }); // new Button(this.scene, this.key, \"minecar\", \"minecar\");\n        _this.minecarBtn.setPosition(-12 * dpr, -_this.minecarBtn.height * 0.5);\n        _this.teximg = _this.scene.make.image({ key: _this.key, frame: \"text_minebag\" });\n        _this.teximg.setPosition(_this.minecarBtn.x, 2 * dpr);\n        var arrow = _this.scene.make.image({ key: _this.key, frame: \"arow\" });\n        arrow.setPosition(-minecarbg.width * 0.5 + 10 * dpr, 0);\n        _this.add([_this.bgSprite, minecarbg, _this.minecarBtn, _this.teximg, arrow]);\n        minecarbg.on(\"pointerup\", _this.onClickHandler, _this);\n        minecarbg.setInteractive();\n        _this.setSize(minecarbg.width, minecarbg.height);\n        // this.scene.anims.create({\n        //     key: \"minecarFrame\",\n        //     frames: [{ key: this.key, frame: \"minebag_bg\" }, { key: this.key, frame: \"minebag_bg_brth\" }],\n        //     repeat: -1,\n        //     duration: 150\n        // });\n        _this.tween = _this.scene.tweens.add({\n            targets: _this.bgSprite,\n            alpha: { value: 0, duration: 500, ease: \"Power1\", yoyo: true },\n            repeat: -1\n        });\n        return _this;\n        // this.tween = this.scene.tweens.addCounter({\n        //     from: 1,\n        //     to: 0,\n        //     duration: 300,\n        //     yoyo: true,\n        //     onUpdate: () => {\n        //         this.bgSprite.alpha = this.tween.getValue();\n        //     }\n        // });\n        // this.play();\n    }\n    RightPopContainer.prototype.setClickHandler = function (handler) {\n        this.clickHandler = handler;\n    };\n    RightPopContainer.prototype.setPopData = function (data) {\n        this.popData = data;\n    };\n    RightPopContainer.prototype.play = function () {\n        // this.bgSprite.play(\"minecarFrame\");\n        this.bgSprite.alpha = 1;\n        this.tween.resume();\n        this.isPop = false;\n    };\n    RightPopContainer.prototype.stop = function () {\n        // this.bgSprite.anims.remove();\n        this.tween.pause();\n        this.bgSprite.alpha = 0;\n        this.isPop = true;\n    };\n    RightPopContainer.prototype.onClickHandler = function () {\n        if (!this.isPlaying && !this.isPop) {\n            this.popAnim();\n        }\n        else if (!this.isPlaying && this.isPop) {\n            this.takeback();\n            if (this.clickHandler)\n                this.clickHandler.runWith(this.popData);\n        }\n    };\n    RightPopContainer.prototype.popAnim = function () {\n        this.isPlaying = true;\n        var posTx = this.scaleWidth - 15 * this.dpr;\n        var target = this;\n        this.scene.tweens.add({\n            targets: target,\n            x: { value: posTx, duration: 300, ease: \"Bounce.easeOut\" },\n            onComplete: function () {\n                target.stop();\n                target.isPlaying = false;\n                target.timeID = setTimeout(function () {\n                    target.takeback();\n                }, 3000);\n            }\n        });\n    };\n    RightPopContainer.prototype.takeback = function () {\n        if (this.timeID) {\n            clearTimeout(this.timeID);\n            this.timeID = undefined;\n        }\n        this.isPlaying = true;\n        var posx = this.scaleWidth + this.width * 0.5 - 15 * this.dpr;\n        var target = this;\n        this.scene.tweens.add({\n            targets: target,\n            x: { value: posx, duration: 300, ease: \"Bounce.easeOut\" },\n            onComplete: function () {\n                target.play();\n                target.isPlaying = false;\n            }\n        });\n    };\n    return RightPopContainer;\n}(Phaser.GameObjects.Container));\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/CutInMenu/CutInMenuPanel.ts?");

/***/ }),

/***/ "./src/ui/DebugLogger/DebugLoggerMediator.ts":
/*!***************************************************!*\
  !*** ./src/ui/DebugLogger/DebugLoggerMediator.ts ***!
  \***************************************************/
/*! exports provided: DebugLoggerMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DebugLoggerMediator\", function() { return DebugLoggerMediator; });\n/* harmony import */ var _DebugLoggerPanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DebugLoggerPanel */ \"./src/ui/DebugLogger/DebugLoggerPanel.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/interface/baseUI/UIType */ \"./lib/rexui/lib/ui/interface/baseUI/UIType.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar DebugLoggerMediator = /** @class */ (function (_super) {\n    __extends(DebugLoggerMediator, _super);\n    function DebugLoggerMediator(uiManager, scene, world) {\n        var _this = _super.call(this) || this;\n        _this.mUIType = _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_2__[\"UIType\"].Scene;\n        _this.mScene = scene;\n        _this.world = world;\n        return _this;\n    }\n    DebugLoggerMediator.prototype.resize = function () {\n        if (this.mView)\n            return this.mView.resize();\n    };\n    DebugLoggerMediator.prototype.isShow = function () {\n        return this.mView ? this.mView.isShow() : false;\n    };\n    DebugLoggerMediator.prototype.show = function (param) {\n        if (this.mView && this.isShow()) {\n            return;\n        }\n        this.mView = new _DebugLoggerPanel__WEBPACK_IMPORTED_MODULE_0__[\"DebugLogger\"](this.mScene, this.world);\n        this.mView.show(param);\n        _super.prototype.show.call(this, param);\n    };\n    DebugLoggerMediator.prototype.hide = function () {\n        this.mShow = false;\n        if (this.mView) {\n            this.mView.hide();\n            this.mView = null;\n        }\n    };\n    DebugLoggerMediator.prototype.destroy = function () {\n        this.mScene = null;\n        _super.prototype.destroy.call(this);\n    };\n    DebugLoggerMediator.NAME = \"DebugLoggerMediator\";\n    return DebugLoggerMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_1__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/DebugLogger/DebugLoggerMediator.ts?");

/***/ }),

/***/ "./src/ui/DebugLogger/DebugLoggerPanel.ts":
/*!************************************************!*\
  !*** ./src/ui/DebugLogger/DebugLoggerPanel.ts ***!
  \************************************************/
/*! exports provided: DebugLogger */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DebugLogger\", function() { return DebugLogger; });\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _utils_log__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/log */ \"./src/utils/log.ts\");\n/* harmony import */ var _DebugLoggerMediator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./DebugLoggerMediator */ \"./src/ui/DebugLogger/DebugLoggerMediator.ts\");\n/* harmony import */ var _baseView_icon_btn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../baseView/icon.btn */ \"./src/ui/baseView/icon.btn.ts\");\n/* harmony import */ var _ui_mediatorType__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ui.mediatorType */ \"./src/ui/ui.mediatorType.ts\");\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\nvar DebugLogger = /** @class */ (function (_super) {\n    __extends(DebugLogger, _super);\n    function DebugLogger(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.mDelay = 0;\n        _this.setTween(false);\n        return _this;\n    }\n    DebugLogger.prototype.addListen = function () {\n        // if (this.mWorld.game.device.os.desktop) {\n        this.mClsBtn.on(\"pointerup\", this.closeHandler, this);\n        // }\n    };\n    DebugLogger.prototype.removeListen = function () {\n        if (!this.mWorld.game.device.os.desktop) {\n            this.mClsBtn.off(\"pointerup\", this.closeHandler, this);\n        }\n    };\n    DebugLogger.prototype.show = function (param) {\n        if (!this.mInitialized) {\n            this.preload();\n            return;\n        }\n        this.mShow = true;\n        this.resize();\n    };\n    DebugLogger.prototype.resize = function (wid, hei) {\n        var size = this.mWorld.getSize();\n        this.showDescTxT();\n        // if (this.mWorld.game.device.os.desktop) {\n        //     this.x = ((this.width >> 1) + 60) * this.mWorld.uiScale;\n        //     this.y = (this.height >> 1) * this.mWorld.uiScale;\n        // } else {\n        //     if (this.mWorld.game.scale.orientation === Phaser.Scale.Orientation.LANDSCAPE) {\n        //         this.x = size.width >> 1;\n        //         this.y = size.height >> 1;\n        //     } else {\n        //         this.x = size.width >> 1;\n        //         this.y = size.height >> 1;\n        //     }\n        // }\n        this.update(0);\n    };\n    DebugLogger.prototype.update = function (param) {\n        var now = this.mWorld.roomManager.currentRoom.now();\n        if (this.mDelay - now < 3000) {\n            this.showDescTxT();\n            this.mTimeTF.setText(\"FPS:\" + param);\n            this.mDescTF.setText(this.mDescTxt);\n            this.mDelay = now;\n        }\n    };\n    DebugLogger.prototype.preload = function () {\n        if (!this.mScene) {\n            return;\n        }\n        this.mScene.load.atlas(\"clsBtn\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getRes(\"ui/common/common_clsBtn.png\"), _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getRes(\"ui/common/common_clsBtn.json\"));\n        _super.prototype.preload.call(this);\n    };\n    DebugLogger.prototype.init = function () {\n        this.mWorld.uiManager.getUILayerManager().addToToolTipsLayer(this);\n        var size = this.mWorld.getSize();\n        this.mBgWidth = 400;\n        this.mBgHeight = size.height >> 1;\n        // this.mBackground = new NinePatch(this.mScene, 0, 0,\n        //     this.mBgWidth,\n        //     this.mBgHeight,\n        //     \"logger\",\n        //     null,\n        //     Background.getConfig()\n        // );\n        var width = this.scene.cameras.main.width / 2;\n        var height = this.scene.cameras.main.height;\n        this.mBackground = this.scene.make.graphics(undefined, false);\n        this.mBackground.fillStyle(0, 0.6);\n        this.mBackground.fillRect(0, 0, width, height);\n        this.setSize(width, height);\n        this.add(this.mBackground);\n        this.mTimeTF = this.mScene.make.text({\n            style: {\n                x: 0,\n                y: 0,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_6__[\"Font\"].DEFULT_FONT,\n                fontSize: 14 * this.dpr,\n                origin: { x: 0, y: 0 },\n                wordWrap: { width: size.width - 10, height: 20, useAdvancedWrap: true }\n            }\n        }, false);\n        this.mDescTF = this.mScene.make.text({\n            style: {\n                x: 0,\n                y: 20 * this.dpr,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_6__[\"Font\"].DEFULT_FONT,\n                fontSize: 14 * this.dpr,\n                origin: { x: 0, y: 0 },\n                wordWrap: { width: this.width - 10 * this.dpr, height: this.height - 30, useAdvancedWrap: true }\n            }\n        }, false);\n        // this.mTimeTF.x = -this.width / 2 + 5;\n        // this.mDescTF.x = -this.width / 2 + 5;\n        // this.mTimeTF.y = -this.height / 2 + 5;\n        // this.mDescTF.y = -this.height / 2 + 23;\n        this.add(this.mTimeTF);\n        this.add(this.mDescTF);\n        // this.setSize(this.mBgWidth, this.mBgHeight);\n        if (!this.mWorld.game.device.os.desktop) {\n            this.mClsBtn = new _baseView_icon_btn__WEBPACK_IMPORTED_MODULE_4__[\"IconBtn\"](this.mScene, this.mWorld, {\n                key: _ui_mediatorType__WEBPACK_IMPORTED_MODULE_5__[\"UIMediatorType\"].Close_Btn, bgResKey: \"clsBtn\", bgTextures: [\"btn_normal\", \"btn_over\", \"btn_click\"],\n                iconResKey: \"\", iconTexture: \"\", scale: 1, pngUrl: \"ui/common/common_clsBtn.png\", jsonUrl: \"ui/common/common_clsBtn.json\"\n            });\n            this.mClsBtn.x = this.width;\n            this.mClsBtn.y = 10 * this.dpr;\n            this.mClsBtn.scaleX = this.mClsBtn.scaleY = 2;\n            this.add(this.mClsBtn);\n        }\n        _super.prototype.init.call(this);\n        this.addListen();\n    };\n    DebugLogger.prototype.tweenComplete = function (show) {\n        _super.prototype.tweenComplete.call(this, show);\n        if (show)\n            this.mWorld.uiManager.getMediator(_DebugLoggerMediator__WEBPACK_IMPORTED_MODULE_3__[\"DebugLoggerMediator\"].NAME).resize();\n    };\n    DebugLogger.prototype.showDescTxT = function () {\n        var orientation = this.mWorld.getSize().width > this.mWorld.getSize().height ? \"LANDSCAPE\" : \"PORTRAIT\";\n        var renderType = \"WEBGL\";\n        if (this.mWorld.game.config.renderType === Phaser.CANVAS) {\n            renderType = \"CANVAS\";\n        }\n        else if (this.mWorld.game.config.renderType === Phaser.HEADLESS) {\n            renderType = \"HEADLESS\";\n        }\n        // this.mDescTxt = \"rendertype:\" + renderType + \"\\n\" + \" width: \" + this.mWorld.getSize().width + \"\\n\" + \"height: \" + this.mWorld.getSize().height + \"\\n\" + \"orientation: \" + orientation + \"\\n\" + \"devicePixelRatio: \" + window.devicePixelRatio;\n        var config = this.mWorld.getConfig();\n        this.mDescTxt = \"\\n            rendertype: \" + renderType + \"\\n            size: \" + config.width + \" \" + config.height + \"\\n            device size: \" + this.mWorld.getSize().width.toFixed(2) + \" \" + this.mWorld.getSize().height.toFixed(2) + \"\\n            scene scale: \" + this.mWorld.scaleRatio + \"\\n            devicePixel: \" + this.mWorld.uiRatio + \"\\n            ui scale: \" + this.mWorld.uiScale.toFixed(4);\n        // this.showErrTxt();\n    };\n    DebugLogger.prototype.closeHandler = function () {\n        var med = this.mWorld.uiManager.getMediator(_DebugLoggerMediator__WEBPACK_IMPORTED_MODULE_3__[\"DebugLoggerMediator\"].NAME);\n        med.hide();\n    };\n    DebugLogger.prototype.showErrTxt = function () {\n        var errList = _utils_log__WEBPACK_IMPORTED_MODULE_2__[\"Logger\"].getInstance().getErrorList();\n        if (!errList) {\n            return;\n        }\n        var errStr = \"\";\n        errList.forEach(function (str) {\n            errStr += \"\\n\" + str;\n        });\n        this.mDescTxt += errStr;\n    };\n    return DebugLogger;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/DebugLogger/DebugLoggerPanel.ts?");

/***/ }),

/***/ "./src/ui/DecorateControl/DecorateControlMediator.ts":
/*!***********************************************************!*\
  !*** ./src/ui/DecorateControl/DecorateControlMediator.ts ***!
  \***********************************************************/
/*! exports provided: DecorateControlMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DecorateControlMediator\", function() { return DecorateControlMediator; });\n/* harmony import */ var _DecorateControlPanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DecorateControlPanel */ \"./src/ui/DecorateControl/DecorateControlPanel.ts\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _const_MessageType__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../const/MessageType */ \"./src/const/MessageType.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar DecorateControlMediator = /** @class */ (function (_super) {\n    __extends(DecorateControlMediator, _super);\n    function DecorateControlMediator(layerManager, scene, world) {\n        var _this = _super.call(this) || this;\n        _this.layerManager = layerManager;\n        _this.scene = scene;\n        _this.world = world;\n        if (world) {\n            world.emitter.on(_const_MessageType__WEBPACK_IMPORTED_MODULE_3__[\"MessageType\"].SELECTED_DECORATE_ELEMENT, _this.onSelectedDecorateHandler, _this);\n            world.emitter.on(_const_MessageType__WEBPACK_IMPORTED_MODULE_3__[\"MessageType\"].CANCEL_DECORATE_ELEMENT, _this.onCancelDecorateHandler, _this);\n        }\n        return _this;\n    }\n    DecorateControlMediator.prototype.show = function () {\n        if (this.mView && this.mView.isShow() || this.mShow) {\n            return;\n        }\n        if (!this.mView) {\n            this.mView = new _DecorateControlPanel__WEBPACK_IMPORTED_MODULE_0__[\"DecorateControlPanel\"](this.scene, this.world);\n        }\n        this.addActionListener();\n        this.mView.show();\n        this.layerManager.addToUILayer(this.mView);\n    };\n    DecorateControlMediator.prototype.destroy = function () {\n        if (this.world) {\n            this.world.emitter.on(_const_MessageType__WEBPACK_IMPORTED_MODULE_3__[\"MessageType\"].SELECTED_DECORATE_ELEMENT, this.onSelectedDecorateHandler, this);\n            this.world.emitter.on(_const_MessageType__WEBPACK_IMPORTED_MODULE_3__[\"MessageType\"].CANCEL_DECORATE_ELEMENT, this.onCancelDecorateHandler, this);\n        }\n        _super.prototype.destroy.call(this);\n    };\n    DecorateControlMediator.prototype.isSceneUI = function () {\n        return true;\n    };\n    DecorateControlMediator.prototype.onSelectedDecorateHandler = function () {\n        if (!this.mView) {\n            return;\n        }\n        if (this.mView.parentContainer) {\n            this.mView.parentContainer.remove(this.mView);\n        }\n    };\n    DecorateControlMediator.prototype.onCancelDecorateHandler = function () {\n        if (!this.mView) {\n            return;\n        }\n        this.layerManager.addToUILayer(this.mView);\n    };\n    DecorateControlMediator.prototype.addActionListener = function () {\n        if (!this.mView) {\n            return;\n        }\n        this.mView.on(\"exit\", this.onExitHandler, this);\n        this.mView.on(\"recycleAll\", this.onRecycleAllHandler, this);\n        this.mView.on(\"redo\", this.onRedoHandler, this);\n        this.mView.on(\"showFurni\", this.onShowFurniHandler, this);\n        this.mView.on(\"save\", this.onSaveHandler, this);\n        this.mView.on(\"getDoor\", this.onGetDoorHandler, this);\n    };\n    DecorateControlMediator.prototype.onExitHandler = function () {\n        if (!this.connection) {\n            return;\n        }\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_1__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_EDIT_MODE_LEAVE);\n        var content = packet.content;\n        content.needSaveEditScene = false;\n        this.world.connection.send(packet);\n    };\n    DecorateControlMediator.prototype.onRecycleAllHandler = function () {\n        if (!this.connection) {\n            return;\n        }\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_1__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_EDIT_MODE_RECYCLE_ALL);\n        this.world.connection.send(packet);\n    };\n    DecorateControlMediator.prototype.onRedoHandler = function () {\n        if (!this.connection) {\n            return;\n        }\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_1__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_EDIT_MODE_RECYCLE_LAST_SPRITE);\n        this.connection.send(packet);\n    };\n    DecorateControlMediator.prototype.onShowFurniHandler = function () {\n        var uiManager = this.world.uiManager;\n        if (uiManager) {\n            uiManager.showMed(\"FurniBag\");\n        }\n    };\n    DecorateControlMediator.prototype.onSaveHandler = function () {\n        if (!this.connection) {\n            return;\n        }\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_1__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_EDIT_MODE_LEAVE);\n        var content = packet.content;\n        content.needSaveEditScene = true;\n        this.connection.send(packet);\n    };\n    DecorateControlMediator.prototype.onGetDoorHandler = function () {\n        if (!this.connection) {\n            return;\n        }\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_1__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_EDIT_MODE_GET_SPAWN_POINT);\n        this.connection.send(packet);\n    };\n    Object.defineProperty(DecorateControlMediator.prototype, \"connection\", {\n        get: function () {\n            if (!this.world) {\n                return;\n            }\n            return this.world.connection;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    DecorateControlMediator.NAME = \"DecorateControlMediator\";\n    return DecorateControlMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_4__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/DecorateControl/DecorateControlMediator.ts?");

/***/ }),

/***/ "./src/ui/DecorateControl/DecorateControlPanel.ts":
/*!********************************************************!*\
  !*** ./src/ui/DecorateControl/DecorateControlPanel.ts ***!
  \********************************************************/
/*! exports provided: DecorateControlPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DecorateControlPanel\", function() { return DecorateControlPanel; });\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar DecorateControlPanel = /** @class */ (function (_super) {\n    __extends(DecorateControlPanel, _super);\n    function DecorateControlPanel(scene, worldService) {\n        var _this = _super.call(this, scene, worldService) || this;\n        _this.key = \"decorateControl\";\n        return _this;\n    }\n    DecorateControlPanel.prototype.addListen = function () {\n        if (!this.mInitialized)\n            return;\n        this.mExitBtn.on(\"pointerup\", this.onExitHandler, this);\n        this.mRecycleAllBtn.on(\"pointerup\", this.onRecycleAllHandler, this);\n        this.mRedoBtn.on(\"pointerup\", this.onRedoHandler, this);\n        this.mFurniBtn.on(\"pointerup\", this.onShowFurniHandler, this);\n        this.mSaveBtn.on(\"pointerup\", this.onSaveHandler, this);\n        this.mDoorBtn.on(\"pointerup\", this.onGetDoorHandler, this);\n    };\n    DecorateControlPanel.prototype.removeListen = function () {\n        if (!this.mInitialized)\n            return;\n        this.mExitBtn.off(\"pointerup\", this.onExitHandler, this);\n        this.mRecycleAllBtn.off(\"pointerup\", this.onRecycleAllHandler, this);\n        this.mRedoBtn.off(\"pointerup\", this.onRedoHandler, this);\n        this.mFurniBtn.off(\"pointerup\", this.onShowFurniHandler, this);\n        this.mSaveBtn.off(\"pointerup\", this.onSaveHandler, this);\n        this.mDoorBtn.off(\"pointerup\", this.onGetDoorHandler, this);\n    };\n    DecorateControlPanel.prototype.resize = function (w, h) {\n        this.setSize(w, 131 * this.dpr);\n        // this.x = this.width * this.originX;\n        // this.y = this.height * this.originY;\n        this.mBackground.clear();\n        this.mBackground.fillStyle(0, 0.6);\n        this.mBackground.fillRect(0, 0, this.width, this.height);\n        _super.prototype.resize.call(this, w, h);\n    };\n    DecorateControlPanel.prototype.preload = function () {\n        this.addAtlas(this.key, \"decorate_control/decorate_control.png\", \"decorate_control/decorate_control.json\");\n        _super.prototype.preload.call(this);\n    };\n    DecorateControlPanel.prototype.init = function () {\n        var w = this.scene.cameras.main.width;\n        var h = this.scene.cameras.main.height;\n        this.mBackground = this.scene.make.graphics(undefined, false);\n        this.mTopBtns = [];\n        this.mExitBtn = this.scene.make.image({\n            key: this.key,\n            frame: \"exitBtn.png\",\n        }, false).setOrigin(0).setInteractive();\n        this.mRecycleAllBtn = this.scene.make.image({\n            key: this.key,\n            frame: \"recycleAllBtn.png\",\n        }, false).setOrigin(0).setInteractive();\n        this.mRedoBtn = this.scene.make.image({\n            key: this.key,\n            frame: \"redoBtn.png\",\n        }, false).setOrigin(0).setInteractive();\n        this.mFurniBtn = this.scene.make.image({\n            key: this.key,\n            frame: \"furniBtn.png\",\n        }, false).setOrigin(0).setInteractive();\n        this.mSaveBtn = this.scene.make.image({\n            key: this.key,\n            frame: \"saveBtn.png\"\n        }, false).setOrigin(0).setInteractive();\n        this.mDoorBtn = this.scene.make.image({\n            x: 10 * this.dpr,\n            y: 83 * this.dpr,\n            key: this.key,\n            frame: \"doorBtn.png\",\n        }, false).setOrigin(0).setInteractive();\n        this.mStairBtn = this.scene.make.image({\n            x: 64 * this.dpr,\n            y: 83 * this.dpr,\n            key: this.key,\n            frame: \"stairBtn.png\"\n        }, false).setOrigin(0);\n        this.mTopBtns = [this.mExitBtn, this.mRecycleAllBtn, this.mRedoBtn, this.mFurniBtn, this.mSaveBtn];\n        this.add(this.mBackground);\n        this.add(this.mTopBtns);\n        this.add([this.mDoorBtn, this.mStairBtn]);\n        var zoom = this.mWorld.uiScale;\n        var totalWidth = w - 10 * 2 * this.dpr * zoom;\n        this.mTopBtns.map(function (btn) { return totalWidth -= btn.width * zoom; });\n        var space = totalWidth / (this.mTopBtns.length - 1) / zoom;\n        for (var i = 0; i < this.mTopBtns.length; i++) {\n            if (i > 0) {\n                this.mTopBtns[i].x = space + (this.mTopBtns[i - 1].width) + this.mTopBtns[i - 1].x;\n            }\n            else {\n                this.mTopBtns[i].x = 10 * this.dpr;\n            }\n            this.mTopBtns[i].y = 11 * this.dpr;\n        }\n        this.resize(w, h);\n        _super.prototype.init.call(this);\n    };\n    DecorateControlPanel.prototype.onExitHandler = function () {\n        this.emit(\"exit\");\n    };\n    DecorateControlPanel.prototype.onRecycleAllHandler = function () {\n        this.emit(\"recycleAll\");\n    };\n    DecorateControlPanel.prototype.onRedoHandler = function () {\n        this.emit(\"redo\");\n    };\n    DecorateControlPanel.prototype.onShowFurniHandler = function () {\n        this.emit(\"showFurni\");\n    };\n    DecorateControlPanel.prototype.onSaveHandler = function () {\n        this.emit(\"save\");\n    };\n    DecorateControlPanel.prototype.onGetDoorHandler = function () {\n        this.emit(\"getDoor\");\n    };\n    return DecorateControlPanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/DecorateControl/DecorateControlPanel.ts?");

/***/ }),

/***/ "./src/ui/Dialog/Dialog.ts":
/*!*********************************!*\
  !*** ./src/ui/Dialog/Dialog.ts ***!
  \*********************************/
/*! exports provided: Dialog */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Dialog\", function() { return Dialog; });\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar Dialog = /** @class */ (function (_super) {\n    __extends(Dialog, _super);\n    function Dialog(world) {\n        var _this = _super.call(this) || this;\n        _this.world = world;\n        _this.mEvent = new Phaser.Events.EventEmitter();\n        return _this;\n    }\n    Dialog.prototype.register = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.addPacketListener(this);\n        }\n    };\n    Dialog.prototype.unregister = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.removePacketListener(this);\n        }\n    };\n    Dialog.prototype.on = function (event, fn, context) {\n        this.mEvent.on(event, fn, context);\n    };\n    Dialog.prototype.off = function (event, fn, context) {\n        this.mEvent.off(event, fn, context);\n    };\n    Dialog.prototype.destroy = function () {\n        this.unregister();\n        this.mEvent.destroy();\n    };\n    Dialog.prototype.queryNextDialog = function (uiid, comid, data) {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_TARGET_UI);\n        var content = packet.content;\n        content.uiId = uiid;\n        content.componentId = comid;\n        content.data = data;\n        this.connection.send(packet);\n    };\n    Object.defineProperty(Dialog.prototype, \"connection\", {\n        get: function () {\n            if (this.world) {\n                return this.world.connection;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Dialog;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PacketHandler\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/Dialog/Dialog.ts?");

/***/ }),

/***/ "./src/ui/Dialog/DialogMediator.ts":
/*!*****************************************!*\
  !*** ./src/ui/Dialog/DialogMediator.ts ***!
  \*****************************************/
/*! exports provided: DialogMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DialogMediator\", function() { return DialogMediator; });\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\n/* harmony import */ var _Dialog__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Dialog */ \"./src/ui/Dialog/Dialog.ts\");\n/* harmony import */ var _DialogPanel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./DialogPanel */ \"./src/ui/Dialog/DialogPanel.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar DialogMediator = /** @class */ (function (_super) {\n    __extends(DialogMediator, _super);\n    function DialogMediator(layerMgr, scene, worldService) {\n        var _this = _super.call(this) || this;\n        _this.scene = scene;\n        _this.layerMgr = layerMgr;\n        _this.world = worldService;\n        return _this;\n    }\n    DialogMediator.prototype.show = function (param) {\n        if ((this.mView && this.mView.isShow()) || this.mShow) {\n            return;\n        }\n        if (!this.mView) {\n            this.mView = new _DialogPanel__WEBPACK_IMPORTED_MODULE_2__[\"DialogPanel\"](this.scene, this.world);\n            this.mView.on(\"querydialog\", this.onQueryNextDialog, this);\n            this.mView.on(\"hide\", this.onHideHandler, this);\n        }\n        if (!this.dialog) {\n            this.dialog = new _Dialog__WEBPACK_IMPORTED_MODULE_1__[\"Dialog\"](this.world);\n            this.dialog.register();\n        }\n        this.layerMgr.addToUILayer(this.mView);\n        this.mView.show(param);\n        _super.prototype.show.call(this, param);\n    };\n    DialogMediator.prototype.update = function (param) {\n        if (!this.mView || !this.mView.isShow) {\n            return;\n        }\n        _super.prototype.update.call(this, param);\n    };\n    DialogMediator.prototype.isSceneUI = function () {\n        return true;\n    };\n    DialogMediator.prototype.destroy = function () {\n        if (this.dialog) {\n            this.dialog.destroy();\n            this.dialog = undefined;\n        }\n        if (this.mView) {\n            this.mView.hide();\n            this.mView = undefined;\n        }\n    };\n    DialogMediator.prototype.hide = function () {\n        _super.prototype.hide.call(this);\n        this.destroy();\n    };\n    DialogMediator.prototype.onQueryNextDialog = function (uiid, comid, data) {\n        this.dialog.queryNextDialog(uiid, comid, data);\n    };\n    DialogMediator.prototype.onHideHandler = function () {\n        this.hide();\n        this.destroy();\n    };\n    return DialogMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_0__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/Dialog/DialogMediator.ts?");

/***/ }),

/***/ "./src/ui/Dialog/DialogPanel.ts":
/*!**************************************!*\
  !*** ./src/ui/Dialog/DialogPanel.ts ***!
  \**************************************/
/*! exports provided: DialogPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DialogPanel\", function() { return DialogPanel; });\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _components_dynamic_image__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/dynamic.image */ \"./src/ui/components/dynamic.image.ts\");\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_button_Button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/button/Button */ \"./lib/rexui/lib/ui/button/Button.ts\");\n/* harmony import */ var _Handler_Handler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../Handler/Handler */ \"./src/Handler/Handler.ts\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\nvar DialogPanel = /** @class */ (function (_super) {\n    __extends(DialogPanel, _super);\n    function DialogPanel(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.key = \"commonkey\";\n        _this.listItems = [];\n        return _this;\n        // this.scale = 1;\n    }\n    DialogPanel.prototype.resize = function (w, h) {\n        var width = this.scaleWidth;\n        var height = this.scaleHeight;\n        var cheight = 177 * this.dpr;\n        _super.prototype.resize.call(this, width, height);\n        this.content.setPosition(width * 0.5, height - cheight / 2);\n        this.setSize(width, height);\n        this.blackBg.clear();\n        this.blackBg.fillStyle(0, 0.5);\n        this.blackBg.fillRect(0, 0, width, height);\n        this.blackBg.setInteractive(new Phaser.Geom.Rectangle(0, 0, width, height), Phaser.Geom.Rectangle.Contains);\n        var frame = this.scene.textures.getFrame(this.key, \"menu_bg_l\");\n        var scaleRatio = width / frame.width * this.dpr;\n        this.bg.scaleX = scaleRatio * 1.5;\n        this.bg.x = 0;\n        this.bg.setInteractive();\n        this.bg.texture.setFilter(Phaser.Textures.FilterMode.LINEAR);\n    };\n    DialogPanel.prototype.preload = function () {\n        this.addAtlas(this.key, \"common/ui_base.png\", \"common/ui_base.json\");\n        _super.prototype.preload.call(this);\n    };\n    DialogPanel.prototype.show = function (param) {\n        this.mShowData = param;\n        if (this.mPreLoad)\n            return;\n        if (!this.mInitialized) {\n            this.preload();\n            return;\n        }\n        if (this.mShow)\n            return;\n        if (this.soundGroup && this.soundGroup.open)\n            this.playSound(this.soundGroup.open);\n        if (!this.mTweening && this.mTweenBoo) {\n            this.showTween(true);\n        }\n        else {\n            this.mShow = true;\n        }\n        this.setInteractive();\n        this.addListen();\n        this.setDialogData(this.mShowData[0]);\n    };\n    DialogPanel.prototype.init = function () {\n        var width = this.scaleWidth;\n        var height = this.scaleHeight;\n        var cheight = 177 * this.dpr;\n        this.blackBg = this.scene.make.graphics(undefined, false);\n        this.add(this.blackBg);\n        this.content = this.scene.make.container({ x: 0 * this.dpr, y: (height - cheight) / 2, width: width, height: cheight }, false);\n        this.content.setSize(width, cheight);\n        this.bg = this.scene.make.image({ x: 0, y: 0, key: this.key, frame: \"menu_bg_l\" });\n        this.bg.scaleY = this.scale;\n        this.bg.texture.setFilter(Phaser.Textures.FilterMode.LINEAR);\n        this.bg.displayWidth = width;\n        this.bg.displayHeight = cheight;\n        var whiteGraphic = this.scene.make.graphics(undefined, false);\n        var graphicWidth = width - 30 * this.dpr;\n        var graphicHeight = 122 * this.dpr;\n        whiteGraphic.setPosition(-graphicWidth >> 1, -graphicHeight * 0.5 + 13 * this.dpr);\n        whiteGraphic.clear();\n        whiteGraphic.fillStyle(0xffffff, 1);\n        whiteGraphic.fillRoundedRect(0, 0, graphicWidth, graphicHeight, 8 * this.dpr);\n        this.text = this.scene.make.text({\n            x: -graphicWidth * 0.5 + 20 * this.dpr, y: -graphicHeight * 0.5 + 30 * this.dpr, text: \"\",\n            style: { color: \"#000000\", fontSize: 15 * this.dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_2__[\"Font\"].DEFULT_FONT }\n        }).setOrigin(0).setWordWrapWidth(graphicWidth - 35 * this.dpr, true);\n        var iconPosx = -width * 0.5 + 38 * this.dpr;\n        var iconPosy = -cheight * 0.5 + 25 * this.dpr;\n        this.npcIcon = new _components_dynamic_image__WEBPACK_IMPORTED_MODULE_1__[\"DynamicImage\"](this.scene, iconPosx, iconPosy - 20 * this.dpr);\n        var nameBg = this.scene.make.image({ x: iconPosx + 135 * this.dpr, y: iconPosy, key: this.key, frame: \"name_bg\" });\n        this.npcName = this.scene.make.text({\n            x: nameBg.x, y: nameBg.y, text: \".\",\n            style: { fontSize: 15 * this.dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_2__[\"Font\"].DEFULT_FONT }\n        }).setOrigin(0.5);\n        var closeBtn = new _lib_rexui_lib_ui_button_Button__WEBPACK_IMPORTED_MODULE_3__[\"Button\"](this.scene, this.key, \"close_1\", \"close_1\");\n        closeBtn.setPosition(width * 0.5 - 30 * this.dpr, -cheight * 0.5 + 10 * this.dpr);\n        closeBtn.on(\"Tap\", this.onCloseHandler, this);\n        closeBtn.visible = false;\n        this.content.add([this.bg, this.npcIcon, whiteGraphic, this.text, nameBg, this.npcName, closeBtn]);\n        this.bg.setInteractive();\n        this.bg.on(\"pointerdown\", this.onNextDialogHandler, this);\n        this.add(this.content);\n        this.resize(0, 0);\n        _super.prototype.init.call(this);\n    };\n    DialogPanel.prototype.setLayoutItems = function (arr) {\n        var len = arr.length;\n        var scaleRadio = (len > 4 ? 2 : 1);\n        var height = 177 * this.dpr;\n        var width = 295 * this.dpr;\n        var cheight = 27 * this.dpr;\n        var cwidth = width / scaleRadio;\n        var offsetY = 4 * this.dpr;\n        if (len === 2)\n            offsetY = 15 * this.dpr;\n        else if (len === 3)\n            offsetY = 10 * this.dpr;\n        var posX = 0;\n        var posy = (124 * this.dpr - (offsetY + cheight) * (len < 4 ? len : 4) - offsetY) / 2 - 42 * this.dpr;\n        for (var _i = 0, _a = this.listItems; _i < _a.length; _i++) {\n            var item = _a[_i];\n            item.visible = false;\n        }\n        for (var i = 0; i < len; i++) {\n            var item = void 0;\n            if (i < this.listItems.length) {\n                item = this.listItems[i];\n            }\n            else {\n                item = new NpcDialogueItem(this.scene, this.dpr, this.scale, this.key);\n                this.content.add(item);\n                this.listItems.push(item);\n                item.setHandler(new _Handler_Handler__WEBPACK_IMPORTED_MODULE_4__[\"Handler\"](this, this.onItemHandler));\n            }\n            var x = (width - cwidth) * 0.5 * (i < 4 ? -1 : 1);\n            var y = posy + cheight * 0.5 + (cheight + offsetY) * (i % 4);\n            item.setItemSize(cwidth, cheight);\n            item.setPosition(x, y);\n            item.setItemData(arr[i]);\n            item.visible = true;\n        }\n    };\n    DialogPanel.prototype.setDialogData = function (data) {\n        var _this = this;\n        if (data.text && data.text[1])\n            this.npcName.text = data.text[1].text;\n        if (data.display && data.display[0]) {\n            this.npcIcon.visible = true;\n            var display_1 = data.display[0];\n            var url = _utils_resUtil__WEBPACK_IMPORTED_MODULE_6__[\"Url\"].getOsdRes(display_1.texturePath);\n            this.npcIcon.load(url, this, function () {\n                var width = _this.content.width;\n                var height = _this.content.height;\n                var iconWidth = _this.npcIcon.width;\n                var iconHeight = _this.npcIcon.height;\n                var x = _this.npcIcon.x;\n                var y = -height * 0.5 - 50 * _this.dpr;\n                if (display_1.horizontal === pixelpai_proto__WEBPACK_IMPORTED_MODULE_5__[\"op_def\"].HorizontalAlignment.HORIZONTAL_LEFT) {\n                    x = -width * 0.5 + iconWidth * 0.5; // + 20 * this.dpr;\n                }\n                else if (display_1.horizontal === pixelpai_proto__WEBPACK_IMPORTED_MODULE_5__[\"op_def\"].HorizontalAlignment.HORIZONTAL_CENTER) {\n                    x = 0;\n                }\n                else if (display_1.horizontal === pixelpai_proto__WEBPACK_IMPORTED_MODULE_5__[\"op_def\"].HorizontalAlignment.HORIZONTAL_RIGHT) {\n                    x = width * 0.5 - iconWidth * 0.5 - 20 * _this.dpr;\n                }\n                _this.npcIcon.displayWidth = 212 * _this.dpr;\n                _this.npcIcon.scaleY = _this.npcIcon.scaleX;\n                _this.npcIcon.x = x;\n                _this.npcIcon.y = y;\n            });\n        }\n        else {\n            this.npcIcon.visible = false;\n        }\n        if (data.button && data.button.length > 0) {\n            this.setLayoutItems(data.button);\n            this.text.visible = false;\n        }\n        else {\n            for (var _i = 0, _a = this.listItems; _i < _a.length; _i++) {\n                var item = _a[_i];\n                item.visible = false;\n            }\n            this.text.text = data.text[0].text;\n            this.text.visible = true;\n        }\n    };\n    DialogPanel.prototype.update = function (param) {\n        this.mShowData = param;\n        this.setDialogData(param[0]);\n    };\n    DialogPanel.prototype.onItemHandler = function (item) {\n        for (var _i = 0, _a = this.listItems; _i < _a.length; _i++) {\n            var temp = _a[_i];\n            temp.select = false;\n        }\n        item.select = true;\n        var data = this.showData[0];\n        this.emit(\"querydialog\", data.id, item.itemData.node.id);\n    };\n    DialogPanel.prototype.onNextDialogHandler = function () {\n        var data = this.showData[0];\n        this.emit(\"querydialog\", data.id, 0);\n    };\n    DialogPanel.prototype.onCloseHandler = function () {\n        this.emit(\"hide\");\n    };\n    return DialogPanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\nvar NpcDialogueItem = /** @class */ (function (_super) {\n    __extends(NpcDialogueItem, _super);\n    function NpcDialogueItem(scene, dpr, zoom, key) {\n        var _this = _super.call(this, scene) || this;\n        _this.dpr = 0;\n        _this.zoom = 0;\n        _this.zoom = zoom;\n        _this.dpr = dpr;\n        _this.selectBg = _this.scene.make.image({ x: 0, y: 0, key: key, frame: \"select_bg\" });\n        _this.arrImg = _this.scene.make.image({ x: -_this.selectBg.width * 0.5, y: 0, key: key, frame: \"arrow_r\" });\n        _this.content = _this.scene.make.text({\n            x: 0, y: 0, text: \"\",\n            style: { color: \"#000000\", fontSize: 15 * dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_2__[\"Font\"].DEFULT_FONT }\n        }).setOrigin(0, 0.5);\n        _this.add([_this.selectBg, _this.arrImg, _this.content]);\n        _this.width = _this.selectBg.width;\n        _this.height = _this.selectBg.height;\n        _this.on(\"pointerdown\", _this.onClickHandler, _this);\n        return _this;\n    }\n    NpcDialogueItem.prototype.setItemData = function (data) {\n        this.itemData = data;\n        this.content.text = data.text;\n        this.select = false;\n    };\n    NpcDialogueItem.prototype.setHandler = function (handler) {\n        this.handler = handler;\n    };\n    Object.defineProperty(NpcDialogueItem.prototype, \"select\", {\n        set: function (value) {\n            this.selectBg.visible = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    NpcDialogueItem.prototype.setItemSize = function (width, height) {\n        _super.prototype.setSize.call(this, width, height);\n        this.selectBg.displayWidth = width;\n        this.arrImg.x = -width * 0.5 * 0.9;\n        this.content.x = this.arrImg.x + 20 * this.dpr * this.zoom;\n        // this.removeInteractive();\n        this.setInteractive(new Phaser.Geom.Rectangle(0, 0, width, height), Phaser.Geom.Rectangle.Contains);\n    };\n    NpcDialogueItem.prototype.onClickHandler = function () {\n        if (this.handler)\n            this.handler.runWith(this);\n    };\n    return NpcDialogueItem;\n}(Phaser.GameObjects.Container));\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/Dialog/DialogPanel.ts?");

/***/ }),

/***/ "./src/ui/ElementStorage/DragManager.ts":
/*!**********************************************!*\
  !*** ./src/ui/ElementStorage/DragManager.ts ***!
  \**********************************************/
/*! exports provided: DragManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DragManager\", function() { return DragManager; });\nvar DragManager = /** @class */ (function () {\n    function DragManager(scene) {\n        // this.mImage = scene.make.image()\n    }\n    DragManager.prototype.setDragProp = function (prop) {\n    };\n    return DragManager;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/ElementStorage/DragManager.ts?");

/***/ }),

/***/ "./src/ui/ElementStorage/ElementStorageMediator.ts":
/*!*********************************************************!*\
  !*** ./src/ui/ElementStorage/ElementStorageMediator.ts ***!
  \*********************************************************/
/*! exports provided: ElementStorageMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ElementStorageMediator\", function() { return ElementStorageMediator; });\n/* harmony import */ var _ElementStoragePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ElementStoragePanel */ \"./src/ui/ElementStorage/ElementStoragePanel.ts\");\n/* harmony import */ var _ElementStorate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ElementStorate */ \"./src/ui/ElementStorage/ElementStorate.ts\");\n/* harmony import */ var _const_MessageType__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../const/MessageType */ \"./src/const/MessageType.ts\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\nvar ElementStorageMediator = /** @class */ (function (_super) {\n    __extends(ElementStorageMediator, _super);\n    function ElementStorageMediator(layerManager, scene, world) {\n        var _this = _super.call(this) || this;\n        _this.world = world;\n        _this.mStorage = new _ElementStorate__WEBPACK_IMPORTED_MODULE_1__[\"ElementStorage\"](world);\n        _this.mLayerManager = layerManager;\n        _this.mScene = scene;\n        _this.register();\n        return _this;\n    }\n    ElementStorageMediator.prototype.show = function (param) {\n        this.mParam = param;\n        if (this.mView && this.mView.isShow() || this.mShow) {\n            return;\n        }\n        this.mView = new _ElementStoragePanel__WEBPACK_IMPORTED_MODULE_0__[\"ElementStoragePanel\"](this.mScene, this.world);\n        this.mStorage.register();\n        this.mStorage.on(_const_MessageType__WEBPACK_IMPORTED_MODULE_2__[\"MessageType\"].EDIT_MODE_QUERY_PACKAGE, this.onEditModeQueryPackageHandler, this);\n        this.mLayerManager.addToUILayer(this.mView);\n        this.mView.on(\"queryElement\", this.onQueryElementHandler, this);\n        this.mView.on(\"selectedElement\", this.onSelectedElement, this);\n        this.mView.show(param);\n    };\n    ElementStorageMediator.prototype.hide = function () {\n        this.mParam = undefined;\n        _super.prototype.hide.call(this);\n    };\n    ElementStorageMediator.prototype.isSceneUI = function () {\n        return true;\n    };\n    /**\n     * \n     */\n    ElementStorageMediator.prototype.expand = function () {\n        var view = this.getView();\n        if (view) {\n            view.expand();\n        }\n    };\n    /**\n     * \n     */\n    ElementStorageMediator.prototype.collapse = function () {\n        var view = this.getView();\n        if (view) {\n            view.collapse();\n        }\n    };\n    ElementStorageMediator.prototype.destroy = function () {\n        this.unregister();\n        if (this.mStorage) {\n            this.mStorage.unregister();\n            this.mStorage = undefined;\n        }\n        _super.prototype.destroy.call(this);\n    };\n    ElementStorageMediator.prototype.getView = function () {\n        return this.mView;\n    };\n    ElementStorageMediator.prototype.onQueryElementHandler = function (page, perPage) {\n        if (this.mParam) {\n            this.mStorage.queryMarketPackage(page, perPage);\n            return;\n        }\n        this.mStorage.queryPackage(page, perPage);\n    };\n    ElementStorageMediator.prototype.register = function () {\n        this.world.emitter.on(_const_MessageType__WEBPACK_IMPORTED_MODULE_2__[\"MessageType\"].EDIT_PACKAGE_EXPANED, this.onExpanedHandler, this);\n        this.world.emitter.on(_const_MessageType__WEBPACK_IMPORTED_MODULE_2__[\"MessageType\"].EDIT_PACKAGE_COLLAPSE, this.onCollapseHandler, this);\n    };\n    ElementStorageMediator.prototype.unregister = function () {\n        this.world.emitter.off(_const_MessageType__WEBPACK_IMPORTED_MODULE_2__[\"MessageType\"].EDIT_PACKAGE_EXPANED, this.onExpanedHandler, this);\n        this.world.emitter.off(_const_MessageType__WEBPACK_IMPORTED_MODULE_2__[\"MessageType\"].EDIT_PACKAGE_COLLAPSE, this.onCollapseHandler, this);\n    };\n    ElementStorageMediator.prototype.onEditModeQueryPackageHandler = function (items) {\n        if (!items) {\n            return;\n        }\n        this.getView().setProps(items);\n    };\n    ElementStorageMediator.prototype.onSelectedElement = function (prop) {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_3__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_EDIT_MODE_SELECTED_SPRITE);\n        var content = packet.content;\n        content.id = prop.id;\n        this.world.connection.send(packet);\n    };\n    ElementStorageMediator.prototype.onExpanedHandler = function () {\n        this.expand();\n    };\n    ElementStorageMediator.prototype.onCollapseHandler = function () {\n        this.collapse();\n    };\n    ElementStorageMediator.NAME = \"ElementStorageMediator\";\n    return ElementStorageMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_5__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/ElementStorage/ElementStorageMediator.ts?");

/***/ }),

/***/ "./src/ui/ElementStorage/ElementStoragePanel.ts":
/*!******************************************************!*\
  !*** ./src/ui/ElementStorage/ElementStoragePanel.ts ***!
  \******************************************************/
/*! exports provided: ElementStoragePanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ElementStoragePanel\", function() { return ElementStoragePanel; });\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _components_nine_patch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/nine.patch */ \"./src/ui/components/nine.patch.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _lib_rexui_lib_plugins_gameobjects_inputtext_InputText__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../lib/rexui/lib/plugins/gameobjects/inputtext/InputText */ \"./lib/rexui/lib/plugins/gameobjects/inputtext/InputText.js\");\n/* harmony import */ var _components_ninepatch_button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/ninepatch.button */ \"./src/ui/components/ninepatch.button.ts\");\n/* harmony import */ var _item_Item__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./item/Item */ \"./src/ui/ElementStorage/item/Item.ts\");\n/* harmony import */ var _ElementStorageMediator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ElementStorageMediator */ \"./src/ui/ElementStorage/ElementStorageMediator.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\nvar ElementStoragePanel = /** @class */ (function (_super) {\n    __extends(ElementStoragePanel, _super);\n    function ElementStoragePanel(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.mExpaned = true;\n        _this.mItemNum = 32;\n        _this.setTween(false);\n        _this.dpr /= 2;\n        return _this;\n    }\n    ElementStoragePanel.prototype.show = function (param) {\n        _super.prototype.show.call(this, param);\n        if (this.mInitialized) {\n            this.setPackageNum(1);\n        }\n    };\n    ElementStoragePanel.prototype.resize = function (oriention) {\n        var size = this.mWorld.getSize();\n        this.scale = this.dpr;\n        if (this.mWorld.game.scale.orientation === Phaser.Scale.Orientation.LANDSCAPE) {\n            this.setSize(683 >> 1, 901 >> 1);\n            this.x = size.width - (this.width * this.dpr) - 10;\n            this.y = size.height - this.height * this.dpr >> 1;\n            this.mBackground.resize(this.width, this.height);\n            this.mBackground.x = this.mBackground.width >> 1;\n            this.mBackground.y = this.mBackground.height >> 1;\n            this.mBorder.resize(655 >> 1, 847 >> 1);\n            this.mBorder.x = 7 + (this.mBorder.width >> 1);\n            this.mBorder.y = 19 + (this.mBorder.height >> 1);\n            this.mSearchInput.x = 40 + 105;\n            this.mSearchInput.y = 40;\n            this.mDragBtn.x = -this.mDragBtn.height;\n            this.mDragBtn.y = this.height >> 1;\n            // for (let i = 0; i < this.mTabs.length; i++) {\n            //     this.mTabs[i].x = 280;\n            //     this.mTabs[i].y = 60 + i * this.mTabs[i].height + 10;\n            // }\n            var len = this.mProps.length;\n            for (var i = 0; i < len; i++) {\n                // this.mProps[i].setPosition((i % 8) * 60 + 20, Math.ceil(i / 8) * 60 + 80);\n                this.mProps[i].x = (i % 4) * 60 + 20;\n                this.mProps[i].y = Math.floor(i / 4) * 60 + 80;\n            }\n        }\n        else {\n            this.setSize(510, 329);\n            // this.mBackground.setInteractive(new Phaser.Geom.Rectangle(0, 0, this.width, this.height));\n            // this.scale = this.mWorld.uiScale;\n            this.mBackground.resize(this.width, this.height);\n            this.mBackground.x = this.mBackground.width >> 1;\n            this.mBackground.y = this.mBackground.height >> 1;\n            this.mBorder.resize(496, 303);\n            this.mBorder.x = 7 + (this.mBorder.width >> 1);\n            this.mBorder.y = 19 + (this.mBorder.height >> 1);\n            this.mSearchInput.x = 270;\n            this.mSearchInput.y = 33;\n            this.x = (size.width - this.width * this.dpr >> 1);\n            this.y = size.height - this.height * this.dpr - 10;\n            this.mDragBtn.x = this.width >> 1;\n            this.mDragBtn.y = -this.mDragBtn.height >> 1;\n            // for (let i = 0; i < this.mTabs.length; i++) {\n            //     this.mTabs[i].x = 24 + i * this.mTabs[i].width + 10;\n            //     this.mTabs[i].y = 33;\n            // }\n            var len = this.mProps.length;\n            for (var i = 0; i < len; i++) {\n                // this.mProps[i].setPosition((i % 8) * 60 + 20, Math.ceil(i / 8) * 60 + 80);\n                this.mProps[i].x = (i % 8) * 60 + 20;\n                this.mProps[i].y = Math.floor(i / 8) * 60 + 80;\n            }\n        }\n        this.mPrePageBtn.y = this.height >> 1;\n        this.mNextPageBtn.x = this.width;\n        this.mNextPageBtn.y = this.height >> 1;\n        this.mBackground.setInteractive(new Phaser.Geom.Rectangle(0, 0, this.width, this.height), Phaser.Geom.Rectangle.Contains);\n        // this.setScale(this.mWorld.uiScale, this.mWorld.uiScale);\n        // this.scaleX = this.scaleY = 5;\n    };\n    ElementStoragePanel.prototype.addListen = function () {\n        _super.prototype.addListen.call(this);\n        if (this.mBackground)\n            this.mBackground.on(\"pointerout\", this.onPointerOutHandler, this);\n        if (this.mDragBtn)\n            this.mDragBtn.on(\"pointerup\", this.switchExpand, this);\n        if (this.mPrePageBtn)\n            this.mPrePageBtn.on(\"pointerup\", this.onPrePageHandler, this);\n        if (this.mNextPageBtn)\n            this.mNextPageBtn.on(\"pointerup\", this.onNextPageHandler, this);\n        if (this.mCloseBtn)\n            this.mCloseBtn.on(\"pointerup\", this.onCloseHandler, this);\n        if (this.scene) {\n            this.scene.input.on(\"dragstart\", this.onDragStartHandler, this);\n            this.scene.input.on(\"dragend\", this.onDragEndHandler, this);\n            this.scene.input.on(\"drag\", this.onDragHandler, this);\n        }\n    };\n    ElementStoragePanel.prototype.removeListen = function () {\n        _super.prototype.removeListen.call(this);\n        if (this.mBackground)\n            this.mBackground.off(\"pointerout\", this.onPointerOutHandler, this);\n        if (this.mDragBtn)\n            this.mDragBtn.off(\"pointerup\", this.switchExpand, this);\n        if (this.mPrePageBtn)\n            this.mPrePageBtn.off(\"pointerup\", this.onPrePageHandler, this);\n        if (this.mNextPageBtn)\n            this.mNextPageBtn.off(\"pointerup\", this.onNextPageHandler, this);\n        if (this.mCloseBtn)\n            this.mCloseBtn.off(\"pointerup\", this.onCloseHandler, this);\n        if (this.scene) {\n            this.scene.input.off(\"dragstart\", this.onDragStartHandler, this);\n            this.scene.input.off(\"dragend\", this.onDragEndHandler, this);\n            this.scene.input.off(\"drag\", this.onDragHandler, this);\n        }\n    };\n    ElementStoragePanel.prototype.setProps = function (data) {\n        var items = data.items;\n        this.clearItem();\n        for (var i = 0; i < items.length; i++) {\n            if (i >= this.mProps.length) {\n                return;\n            }\n            this.mProps[i].setProp(items[i]);\n        }\n    };\n    ElementStoragePanel.prototype.expand = function () {\n        if (this.mExpaned) {\n            return;\n        }\n        var size = this.mWorld.getSize();\n        var props = null;\n        if (this.mWorld.game.scale.orientation === Phaser.Scale.Orientation.LANDSCAPE) {\n            props = { x: size.width - (this.width * this.dpr) - 10 };\n        }\n        else {\n            props = { y: size.height - this.height * this.dpr - 10 };\n        }\n        this.scene.tweens.add({\n            targets: this,\n            duration: 200,\n            ease: \"Linear\",\n            props: props\n        });\n        this.remove(this.mDragBtn);\n        this.add([this.mPrePageBtn, this.mNextPageBtn]);\n        this.mExpaned = true;\n    };\n    ElementStoragePanel.prototype.collapse = function () {\n        if (!this.mExpaned) {\n            return;\n        }\n        var size = this.mWorld.getSize();\n        var props = null;\n        if (this.mWorld.game.scale.orientation === Phaser.Scale.Orientation.LANDSCAPE) {\n            props = { x: size.width };\n        }\n        else {\n            props = { y: size.height };\n        }\n        this.scene.tweens.add({\n            targets: this,\n            duration: 200,\n            ease: \"Linear\",\n            props: props\n        });\n        this.addAt(this.mDragBtn, 0);\n        this.remove([this.mPrePageBtn, this.mNextPageBtn]);\n        this.mExpaned = false;\n    };\n    ElementStoragePanel.prototype.destroy = function () {\n        if (this.scene) {\n            this.scene.input.off(\"dragstart\", this.onDragStartHandler, this);\n            this.scene.input.off(\"dragend\", this.onDragEndHandler, this);\n            this.scene.input.off(\"drag\", this.onDragHandler, this);\n        }\n        _super.prototype.destroy.call(this);\n    };\n    ElementStoragePanel.prototype.preload = function () {\n        this.scene.load.image(_utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Border\"].getName(), _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Border\"].getPNG());\n        this.scene.load.image(\"button\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Url\"].getRes(\"ui/common/button.png\"));\n        this.scene.load.image(\"prop_background\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Url\"].getRes(\"ui/common/prop_background.png\"));\n        this.scene.load.atlas(\"slip\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Url\"].getRes(\"ui/bag/slip.png\"), _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Url\"].getRes(\"ui/bag/slip.json\"));\n        this.mScene.load.atlas(\"clsBtn\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Url\"].getRes(\"ui/common/common_clsBtn.png\"), _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Url\"].getRes(\"ui/common/common_clsBtn.json\"));\n        this.scene.load.image(_utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Background\"].getName(), _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Background\"].getPNG());\n        _super.prototype.preload.call(this);\n    };\n    ElementStoragePanel.prototype.init = function () {\n        this.mBackground = new _components_nine_patch__WEBPACK_IMPORTED_MODULE_1__[\"NinePatch\"](this.scene, 0, 0, this.width, this.height, _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Background\"].getName(), null, _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Background\"].getConfig());\n        this.mBorder = new _components_nine_patch__WEBPACK_IMPORTED_MODULE_1__[\"NinePatch\"](this.scene, 7, 19, 655 >> 1, 847 >> 1, _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Border\"].getName(), null, _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Border\"].getConfig());\n        // this.mBackground.setInteractive();\n        // TODO \n        this.mSearchInput = new _lib_rexui_lib_plugins_gameobjects_inputtext_InputText__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this.scene, 40 + 105, 40, 210, 26, {\n            type: \"input\",\n            fontSize: \"14px\",\n            color: \"#808080\",\n            placeholder: \"\"\n        });\n        var config = {\n            left: 4,\n            top: 4,\n            right: 4,\n            bottom: 4\n        };\n        this.mDragBtn = new _components_ninepatch_button__WEBPACK_IMPORTED_MODULE_4__[\"NinePatchButton\"](this.scene, 0, -20, 80, 40, \"button\", \"\", \"\", config);\n        // this.mTabs = [];\n        // const button = new NinePatchButton(this.scene, 280, 40, 60, 30, \"button\", \"\",  config);\n        // const button2 = new NinePatchButton(this.scene, 280, 80, 60, 30, \"button\", \"\",  config);\n        // const checkbox = new CheckboxGroup().appendItemAll([button, button2]);\n        // checkbox.on(\"selected\", this.onSelectedHandler, this);\n        // this.mTabs.push(button);\n        // this.mTabs.push(button2);\n        this.mPrePageBtn = this.scene.make.sprite({\n            key: \"slip\"\n        }, false);\n        this.mPrePageBtn.setInteractive();\n        this.mNextPageBtn = this.scene.make.sprite({\n            key: \"slip\"\n        }, false).setFlipX(true);\n        this.mNextPageBtn.setInteractive();\n        this.mProps = [];\n        this.add([this.mBackground, this.mBorder, this.mSearchInput]);\n        for (var i = 0; i < this.mItemNum; i++) {\n            var item = new _item_Item__WEBPACK_IMPORTED_MODULE_5__[\"Item\"](this.scene);\n            // this.add(item);\n            // this.scene.input.setDraggable(item);\n            // item.on(\"click\", this.onClick, this);\n            this.mProps[i] = item;\n        }\n        this.add(this.mProps);\n        this.add([this.mPrePageBtn, this.mNextPageBtn]);\n        // this.mCloseBtn = new IconBtn(this.mScene, this.mWorld, {\n        //     key: UIMediatorType.Close_Btn, bgResKey: \"clsBtn\", bgTextures: [\"btn_normal\", \"btn_over\", \"btn_click\"],\n        //     iconResKey: \"\", iconTexture: \"\", scale: 1, pngUrl: this.mResPng, jsonUrl: this.mResJson\n        // });\n        this.mCloseBtn = this.scene.make.image({\n            key: \"clsBtn\",\n            frame: \"btn_normal\"\n        }, false).setInteractive().setScale(2);\n        this.add(this.mCloseBtn);\n        _super.prototype.init.call(this);\n        this.resize();\n        this.expand();\n    };\n    ElementStoragePanel.prototype.onPrePageHandler = function () {\n        this.setPackageNum(this.mPacgeNum - 1);\n    };\n    ElementStoragePanel.prototype.onNextPageHandler = function () {\n        this.setPackageNum(this.mPacgeNum + 1);\n    };\n    ElementStoragePanel.prototype.setPackageNum = function (val) {\n        this.mPacgeNum = val < 1 ? 1 : val;\n        this.emit(\"queryElement\", this.mPacgeNum, 32);\n    };\n    ElementStoragePanel.prototype.switchExpand = function () {\n        this.mExpaned ? this.collapse() : this.expand();\n    };\n    ElementStoragePanel.prototype.onSelectedHandler = function () {\n    };\n    ElementStoragePanel.prototype.onClick = function (data) {\n        // this.emit(\"selectedElement\", data);\n    };\n    ElementStoragePanel.prototype.onDragStartHandler = function (pointer, gameobject, dragX, dragY) {\n        var item = gameobject.parentContainer;\n        if (item instanceof _item_Item__WEBPACK_IMPORTED_MODULE_5__[\"Item\"]) {\n            // this.emit(\"selectedElement\", item.prop);\n            // gameobject.x = dragX;\n            // gameobject.y = dragX;\n            this.mDragData = item.prop;\n        }\n        if (!this.mDragImage) {\n            this.mDragImage = this.scene.make.image(undefined, false);\n            this.add(this.mDragImage);\n        }\n        this.mDragImage.x = item.x;\n        this.mDragImage.y = item.y;\n        this.mDragImage.setTexture(gameobject.texture.key);\n        this.mDragging = true;\n        // this.mDragImage.texture = gameobject.texture;\n        // Logger.getInstance().log(\"======\", pointer, gameobject);\n    };\n    ElementStoragePanel.prototype.onDragEndHandler = function () {\n        if (!this.mDragImage) {\n            return;\n        }\n        this.mDragImage.setTexture(undefined);\n        this.mDragging = false;\n    };\n    ElementStoragePanel.prototype.onDragHandler = function (pointer, gameobject, dragX, dragY) {\n        if (!this.mDragImage) {\n            return;\n        }\n        this.mDragImage.x += pointer.x - pointer.prevPosition.x;\n        this.mDragImage.y += pointer.y - pointer.prevPosition.y;\n    };\n    ElementStoragePanel.prototype.onPointerOutHandler = function () {\n        if (this.mDragImage && this.mDragging) {\n            this.emit(\"selectedElement\", this.mDragData);\n            this.mDragImage.setTexture(undefined);\n            this.mDragging = false;\n        }\n    };\n    ElementStoragePanel.prototype.clearItem = function () {\n        if (!this.mProps)\n            return;\n        this.mProps.map(function (item) { return item.clear(); });\n    };\n    ElementStoragePanel.prototype.onCloseHandler = function () {\n        var med = this.mWorld.uiManager.getMediator(_ElementStorageMediator__WEBPACK_IMPORTED_MODULE_6__[\"ElementStorageMediator\"].name);\n        if (med)\n            med.hide();\n    };\n    return ElementStoragePanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/ElementStorage/ElementStoragePanel.ts?");

/***/ }),

/***/ "./src/ui/ElementStorage/ElementStorate.ts":
/*!*************************************************!*\
  !*** ./src/ui/ElementStorage/ElementStorate.ts ***!
  \*************************************************/
/*! exports provided: ElementStorage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ElementStorage\", function() { return ElementStorage; });\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _const_MessageType__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../const/MessageType */ \"./src/const/MessageType.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar ElementStorage = /** @class */ (function (_super) {\n    __extends(ElementStorage, _super);\n    function ElementStorage($world) {\n        var _this = _super.call(this) || this;\n        _this.world = $world;\n        _this.event = new Phaser.Events.EventEmitter();\n        _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_EDIT_MODE_QUERY_EDIT_PACKAGE, _this.onQueryEditPackageResuleHandler);\n        _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_MARKET_QUERY_PACKAGE, _this.onQueryMarketPacketResuleHandler);\n        return _this;\n    }\n    ElementStorage.prototype.register = function () {\n        if (!this.world) {\n            return;\n        }\n        this.world.connection.addPacketListener(this);\n    };\n    ElementStorage.prototype.unregister = function () {\n        if (!this.world) {\n            return;\n        }\n        this.world.connection.removePacketListener(this);\n        this.event.removeAllListeners();\n    };\n    ElementStorage.prototype.on = function (event, fn, context) {\n        this.event.on(event, fn, context);\n    };\n    ElementStorage.prototype.off = function (event, fn, context) {\n        this.event.off(event, fn, context);\n    };\n    /**\n     * \n     */\n    ElementStorage.prototype.queryPackage = function (page, perPage, nodeType, queryString) {\n        if (!this.world) {\n            return;\n        }\n        // const packet = new PBpacket(op_virtual_world.OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_EDIT_MODE_QUERY_EDIT_PACKAGE);\n        // const content: op_virtual_world.IOP_CLIENT_REQ_VIRTUAL_WORLD_EDIT_MODE_QUERY_EDIT_PACKAGE = packet.content;\n        // content.page = page;\n        // content.perPage = perPage;\n        // content.nodeType = nodeType;\n        // content.queryString = queryString;\n        // this.world.connection.send(packet);\n    };\n    ElementStorage.prototype.queryMarketPackage = function (page, perPage, nodeType, queryString) {\n        if (!this.world) {\n            return;\n        }\n        // const packet = new PBpacket(op_virtual_world.OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_MARKET_QUERY_PACKAGE);\n        // const content: op_virtual_world.IOP_CLIENT_REQ_VIRTUAL_WORLD_MARKET_QUERY_PACKAGE = packet.content;\n        // content.page = page;\n        // content.perPage = perPage;\n        // content.nodeType = nodeType;\n        // content.queryString = queryString;\n        // this.world.connection.send(packet);\n    };\n    ElementStorage.prototype.destroy = function () {\n        this.unregister();\n    };\n    ElementStorage.prototype.onQueryEditPackageResuleHandler = function (packet) {\n        this.event.emit(_const_MessageType__WEBPACK_IMPORTED_MODULE_2__[\"MessageType\"].EDIT_MODE_QUERY_PACKAGE, packet.content);\n    };\n    ElementStorage.prototype.onQueryMarketPacketResuleHandler = function (packet) {\n        this.event.emit(_const_MessageType__WEBPACK_IMPORTED_MODULE_2__[\"MessageType\"].EDIT_MODE_QUERY_PACKAGE, packet.content);\n    };\n    return ElementStorage;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PacketHandler\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/ElementStorage/ElementStorate.ts?");

/***/ }),

/***/ "./src/ui/ElementStorage/item/Item.ts":
/*!********************************************!*\
  !*** ./src/ui/ElementStorage/item/Item.ts ***!
  \********************************************/
/*! exports provided: Item */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Item\", function() { return Item; });\n/* harmony import */ var _components_dynamic_image__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../components/dynamic.image */ \"./src/ui/components/dynamic.image.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../utils/resUtil */ \"./src/utils/resUtil.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar Item = /** @class */ (function (_super) {\n    __extends(Item, _super);\n    function Item(scene) {\n        var _this = _super.call(this, scene) || this;\n        var background = scene.make.image({\n            key: \"prop_background\"\n        }).setOrigin(0, 0);\n        _this.setSize(background.width, background.height);\n        _this.add(background);\n        _this.mImage = new _components_dynamic_image__WEBPACK_IMPORTED_MODULE_0__[\"DynamicImage\"](_this.scene, 0, 0).setOrigin(0, 0);\n        _this.add(_this.mImage);\n        _this.mCount = scene.make.text(undefined, false);\n        _this.mCount.setAlign(\"right\");\n        _this.mCount.y = _this.height - 20;\n        _this.add(_this.mCount);\n        return _this;\n    }\n    Item.prototype.setProp = function (prop) {\n        var _this = this;\n        this.mProp = prop;\n        if (!this.mCount) {\n            return;\n        }\n        if (prop) {\n            this.mImage.load(_utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getOsdRes(prop.display.texturePath), this, function () {\n                // this.mImage.on(\"dragstart\", this.onPointerUpHandler, this);\n                _this.mImage.setInteractive();\n                _this.scene.input.setDraggable(_this.mImage);\n                var imageScale = 1;\n                if (_this.mImage.width > _this.width) {\n                    imageScale = _this.width / _this.mImage.width;\n                }\n                if (_this.mImage.height > _this.height) {\n                    imageScale = _this.height / _this.mImage.height;\n                }\n                _this.mImage.scale = imageScale;\n            });\n            this.mCount.setText(prop.count > 1 ? prop.count.toString() : \"\");\n            this.mCount.x = this.width - this.mCount.width;\n        }\n    };\n    Item.prototype.clear = function () {\n        if (!this.count) {\n            return;\n        }\n        if (!this.mProp) {\n            return;\n        }\n        this.mCount.setText(\"\");\n        this.mImage.setTexture(undefined);\n        this.mImage.off(\"pointerup\", this.onPointerUpHandler, this);\n        this.mProp = undefined;\n    };\n    Item.prototype.destroy = function () {\n        this.clear();\n        _super.prototype.destroy.call(this);\n    };\n    Object.defineProperty(Item.prototype, \"prop\", {\n        get: function () {\n            return this.mProp;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Item.prototype.onPointerUpHandler = function () {\n        this.emit(\"click\", this.mProp);\n    };\n    return Item;\n}(Phaser.GameObjects.Container));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/ElementStorage/item/Item.ts?");

/***/ }),

/***/ "./src/ui/EquipUpgrade/EquipUpgrade.ts":
/*!*********************************************!*\
  !*** ./src/ui/EquipUpgrade/EquipUpgrade.ts ***!
  \*********************************************/
/*! exports provided: EquipUpgrade */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EquipUpgrade\", function() { return EquipUpgrade; });\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar EquipUpgrade = /** @class */ (function (_super) {\n    __extends(EquipUpgrade, _super);\n    function EquipUpgrade(world) {\n        var _this = _super.call(this) || this;\n        _this.world = world;\n        _this.mEvent = new Phaser.Events.EventEmitter();\n        return _this;\n    }\n    EquipUpgrade.prototype.register = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.addPacketListener(this);\n            this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_MINING_MODE_ACTIVE_EQUIPMENT, this.onActiveEquipmend);\n            this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_REQ_CLIENT_MINING_MODE_SHOW_SELECT_EQUIPMENT_PANEL, this.openEquipUpgrade);\n        }\n    };\n    EquipUpgrade.prototype.unregister = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.removePacketListener(this);\n        }\n    };\n    EquipUpgrade.prototype.on = function (event, fn, context) {\n        this.mEvent.on(event, fn, context);\n    };\n    EquipUpgrade.prototype.off = function (event, fn, context) {\n        this.mEvent.off(event, fn, context);\n    };\n    EquipUpgrade.prototype.destroy = function () {\n        this.unregister();\n        this.mEvent.destroy();\n    };\n    Object.defineProperty(EquipUpgrade.prototype, \"connection\", {\n        get: function () {\n            if (this.world) {\n                return this.world.connection;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    EquipUpgrade.prototype.reqEquipedEquipment = function (id) {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_RES_VIRTUAL_WORLD_MINING_MODE_EQUIP_EQUIPMENT);\n        var content = packet.content;\n        content.equipmentId = id;\n        this.connection.send(packet);\n    };\n    EquipUpgrade.prototype.reqActiveEquipment = function (id) {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_RES_VIRTUAL_WORLD_MINING_MODE_ACTIVE_EQUIPMENT);\n        var content = packet.content;\n        content.equipmentId = id;\n        this.connection.send(packet);\n    };\n    EquipUpgrade.prototype.onActiveEquipmend = function (packge) {\n        var content = packge.content;\n        this.mEvent.emit(\"activeEquip\", content.mineEquipment);\n    };\n    EquipUpgrade.prototype.openEquipUpgrade = function (packge) {\n        var content = packge.content;\n        this.mEvent.emit(\"showopen\", content);\n    };\n    return EquipUpgrade;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PacketHandler\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/EquipUpgrade/EquipUpgrade.ts?");

/***/ }),

/***/ "./src/ui/EquipUpgrade/EquipUpgradeItem.ts":
/*!*************************************************!*\
  !*** ./src/ui/EquipUpgrade/EquipUpgradeItem.ts ***!
  \*************************************************/
/*! exports provided: EquipUpgradeItem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EquipUpgradeItem\", function() { return EquipUpgradeItem; });\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\n/* harmony import */ var _components_dynamic_image__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/dynamic.image */ \"./src/ui/components/dynamic.image.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_gridtable_GameGridTable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/gridtable/GameGridTable */ \"./lib/rexui/lib/ui/gridtable/GameGridTable.ts\");\n/* harmony import */ var _components_nine_patch__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/nine.patch */ \"./src/ui/components/nine.patch.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/ui-components */ \"./lib/rexui/lib/ui/ui-components.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\nvar EquipUpgradeItem = /** @class */ (function (_super) {\n    __extends(EquipUpgradeItem, _super);\n    function EquipUpgradeItem(scene, container, dpr, zoom, key, commonKey) {\n        var _this = _super.call(this) || this;\n        _this.haveEquiped = false;\n        _this.cellWidth = 0;\n        _this.cellHeight = 0;\n        _this.dpr = dpr;\n        _this.zoom = zoom;\n        _this.key = key;\n        _this.commonKey = commonKey;\n        _this.mScene = scene;\n        _this.mContainer = container;\n        _this.create();\n        return _this;\n    }\n    EquipUpgradeItem.prototype.setEquipItems = function (data) {\n        var name = data.equipmentType;\n        var items = data.mineEquipments;\n        this.titleName.text = name;\n        var index = 0;\n        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n            var item = items_1[_i];\n            if (item.selected) {\n                this.haveEquiped = true;\n                break;\n            }\n            index++;\n        }\n        this.gridTable.setItems(items);\n        if (this.haveEquiped)\n            // this.gridTable.setT((index + 1) / items.length);\n            this.setBgTexture(data[\"isblue\"]);\n    };\n    EquipUpgradeItem.prototype.setTransPosition = function (x, y) {\n        // const w = this.mScene.cameras.main.width, h = this.mScene.cameras.main.height;\n        // const posX = w * 0.5 + this.mContainer.x * this.zoom;\n        // const posY = h * 0.5 + this.mContainer.y * this.zoom - 20 * this.dpr;\n        //  -posX + this.cellWidth / 2 * this.zoom, -posY);\n        this.bg.x += x;\n        this.bg.y += y;\n        this.titleName.x += x;\n        this.titleName.y += y;\n        this.bottombg.x += x;\n        this.bottombg.y += y;\n        this.equipName.x += x;\n        this.equipName.y += y;\n        this.penetrationText.x += x;\n        this.penetrationText.y += y;\n        this.equipDes.x += x;\n        this.equipDes.y += y;\n        this.topbg.x += x;\n        this.topbg.y += y;\n        this.unlockbtn.x += x;\n        this.unlockbtn.y += y;\n        // this.costNum.x += x;\n        // this.costNum.y += y;\n        // this.diamondIcon.x += x;\n        // this.diamondIcon.y += y;\n        this.curEquipItem.x += x;\n        this.curEquipItem.y += y;\n        this.gridTable.refreshPos(x, y - 10 * this.dpr * this.zoom);\n        this.gridTable.resetMask();\n        // this.gridTable.x = posX;\n        // this.gridTable.y = posY;\n        // this.gridTable.layout();\n        // this.mScrollContainer.setPosition(-this.gridTable.x + this.cellWidth / 2 * this.zoom, -this.gridTable.y);\n    };\n    Object.defineProperty(EquipUpgradeItem.prototype, \"displayList\", {\n        get: function () {\n            return [this.bg, this.topbg, this.bottombg, this.titleName, this.equipName, this.penetrationText, this.equipDes];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    EquipUpgradeItem.prototype.refreshEquipData = function (data, index) {\n        this.gridTable.items[index] = data;\n        this.gridTable.refresh();\n        // this.gridTable.setT((index + 1) / this.gridTable.items.length);\n        this.updateEquipItem(this.curEquipItem);\n    };\n    EquipUpgradeItem.prototype.destroy = function () {\n        if (this.unlockbtn)\n            this.unlockbtn.off(\"pointerup\", this.onUnlockEquipHandler, this);\n        _super.prototype.destroy.call(this);\n        if (this.gridTable)\n            this.gridTable.destroy();\n        this.bg = null;\n        this.topbg = null;\n        this.bottombg = null;\n        this.gridTable = null;\n        this.titleName = null;\n        this.equipName = null;\n        this.penetrationText = null;\n        this.equipDes = null;\n        this.unlockbtn = null;\n        this.costNum = null;\n        this.diamondIcon = null;\n        this.curEquipItem = null;\n    };\n    EquipUpgradeItem.prototype.setBgTexture = function (isblue) {\n        var topName = !isblue ? \"topbg\" : \"topbg1\";\n        var bottombg = !isblue ? \"bottombg\" : \"bottombg1\";\n        var fontColor = !isblue ? \"#8F4300\" : \"#0867AE\";\n        this.topbg.setTexture(this.key, topName);\n        this.bottombg.setTexture(this.key, bottombg);\n        this.titleName.setColor(fontColor).setStroke(fontColor, 1);\n        this.equipName.setColor(fontColor).setStroke(fontColor, 1);\n        this.penetrationText.setColor(fontColor).setStroke(fontColor, 1);\n    };\n    EquipUpgradeItem.prototype.create = function () {\n        this.bg = this.mScene.make.image({ x: 0, y: -21 * this.dpr, key: this.key, frame: \"bg1\" });\n        this.topbg = this.mScene.make.image({ x: 0, y: -61 * this.dpr, key: this.key, frame: \"topbg\" });\n        this.titleName = this.mScene.make.text({ x: 0, y: this.topbg.y + 0 * this.dpr, text: \"\", style: { blod: true, color: \"#8F4300\", fontSize: 14 * this.dpr, font: this.getBoldFont(14 * this.dpr) } }).setOrigin(0.5, 0.5);\n        this.bottombg = this.mScene.make.image({ x: 0, y: 42 * this.dpr, key: this.key, frame: \"bottombg\" });\n        this.equipName = this.mScene.make.text({ x: -120 * this.dpr, y: 15 * this.dpr, text: \"\", style: { color: \"#8F4300\", fontSize: 14 * this.dpr, font: this.getBoldFont(14 * this.dpr) } });\n        this.penetrationText = this.mScene.make.text({ x: -60 * this.dpr, y: 16 * this.dpr, text: \":10\", style: { color: \"#8F4300\", fontSize: 12 * this.dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT } });\n        this.equipDes = this.mScene.make.text({ x: -120 * this.dpr, y: 35 * this.dpr, text: \"\", style: { color: \"#000000\", fontSize: 10 * this.dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT, wordWrap: { width: 130 * this.dpr, useAdvancedWrap: true } } });\n        this.equipDes.setStroke(\"#000000\", 1);\n        this.mContainer.add([this.bg, this.topbg, this.bottombg, this.titleName, this.equipName, this.penetrationText, this.equipDes]);\n        this.createGridTable();\n        this.createBtn();\n    };\n    EquipUpgradeItem.prototype.createGridTable = function () {\n        var _this = this;\n        // this.mScrollContainer = this.mScene.make.container(undefined, false);\n        // this.mScrollContainer.setPosition(0, 0);\n        var propFrame = this.mScene.textures.getFrame(this.key, \"equipbg\");\n        var capW = (propFrame.width + 10 * this.dpr * this.zoom);\n        var capH = (propFrame.height + 30 * this.dpr * this.zoom);\n        this.cellWidth = capW;\n        this.cellHeight = capH;\n        var config = {\n            scrollMode: 1,\n            // background: (<any>this.mScene).rexUI.add.roundRectangle(0, 0, 2, 2, 0, 0xFFFFF, .5),\n            table: {\n                width: 259 * this.dpr * this.zoom,\n                height: 77 * this.dpr * this.zoom,\n                columns: 1,\n                cellWidth: capW,\n                cellHeight: capH,\n                reuseCellContainer: true,\n                cellOriginX: 0,\n                cellOriginY: 0\n            },\n            clamplChildOY: false,\n            createCellContainerCallback: function (cell, cellContainer) {\n                var scene = cell.scene, item = cell.item;\n                var index = cell.index;\n                if (cellContainer === null) {\n                    cellContainer = new EquipItemCell(scene, _this.dpr, _this.key, _this.zoom);\n                    cellContainer.setSize(capW, capH);\n                    _this.mContainer.add(cellContainer);\n                    cellContainer.setChildPosition();\n                }\n                cellContainer.setData({ item: item });\n                cellContainer.setItemData(item, index);\n                if (_this.curEquipItem == null) {\n                    if (_this.haveEquiped) {\n                        if (item.selected)\n                            _this.onSelectItemHandler(cellContainer);\n                    }\n                    else {\n                        _this.onSelectItemHandler(cellContainer);\n                    }\n                }\n                // Logger.getInstance().log(item);\n                return cellContainer;\n            }\n        };\n        this.gridTable = new _lib_rexui_lib_ui_gridtable_GameGridTable__WEBPACK_IMPORTED_MODULE_3__[\"GameGridTable\"](this.mScene, config);\n        this.gridTable.layout();\n        this.gridTable.on(\"cellTap\", function (cell) {\n            _this.onSelectItemHandler(cell);\n        });\n        this.mContainer.add(this.gridTable.table);\n    };\n    EquipUpgradeItem.prototype.onSelectItemHandler = function (cell) {\n        // Logger.getInstance().log(cell.itemData);\n        if (this.curEquipItem)\n            this.curEquipItem.setSelect(false);\n        var data = cell.itemData;\n        this.updateEquipItem(cell);\n        this.curEquipItem = cell;\n        if (data.owned && !data.selected)\n            this.emit(\"reqEquiped\", data.id);\n    };\n    EquipUpgradeItem.prototype.updateEquipItem = function (cell) {\n        var data = cell.itemData;\n        this.penetrationText.text = data.buffDisplayNames[0];\n        this.equipDes.text = data.description;\n        this.equipName.text = data.name;\n        if (data.owned)\n            this.unlockbtn.visible = false;\n        else\n            this.unlockbtn.visible = true;\n        if (data.qualified) {\n            this.unlockCondition.visible = false;\n            this.unlockbtn.setInteractive();\n            this.unlockBg.clearTint();\n            this.costNum.setColor(\"#ffffff\");\n        }\n        else if (!data.owned) {\n            this.unlockCondition.visible = true;\n            this.unlockCondition.text = data.conditionDisplayNames[0];\n            this.unlockbtn.disableInteractive();\n            this.unlockBg.setTintFill(0x888888);\n            this.costNum.setColor(\"#999999\");\n        }\n        if (data.price === null) {\n            this.costNum.visible = false;\n            this.diamondIcon.visible = false;\n            this.btnName.setPosition(0, 0 * this.dpr);\n        }\n        else {\n            var costPrice = data.price.price;\n            var powValue = Math.pow(10, data.price.displayPrecision);\n            this.costNum.text = Math.floor(costPrice * powValue) / powValue + \"\";\n            this.costNum.visible = true;\n            this.diamondIcon.visible = true;\n            this.diamondIcon.setTexture(this.commonKey, _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Coin\"].getIcon(data.price.coinType));\n            this.diamondIcon.setDisplaySize(12 * this.dpr, 12 * this.dpr);\n            this.btnName.setPosition(0, 6 * this.dpr);\n        }\n        cell.setSelect(true);\n    };\n    EquipUpgradeItem.prototype.onUnlockEquipHandler = function () {\n        this.emit(\"reqActive\", this.curEquipItem.itemData.id);\n    };\n    EquipUpgradeItem.prototype.createBtn = function () {\n        // this.unlockCondition = this.mScene.make.text({ x: 0, y: -26 * this.dpr, text: \"\", style: { color: \"#000000\", fontSize: 10 * this.dpr, fontFamily: Font.DEFULT_FONT } }).setOrigin(0.5, 0.5);\n        this.unlockCondition = new _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_5__[\"BBCodeText\"](this.mScene, 0, -26 * this.dpr, {})\n            .setOrigin(0.5).setFontSize(10 * this.dpr).setFontFamily(_utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT);\n        this.unlockbtn = this.mScene.make.container(undefined, false);\n        var btnBg = new _components_nine_patch__WEBPACK_IMPORTED_MODULE_4__[\"NinePatch\"](this.mScene, 0, 0, 88 * this.dpr * this.zoom, 31 * this.dpr * this.zoom, this.commonKey, \"yellow_btn_normal\", {\n            left: 12 * this.dpr * this.zoom,\n            top: 12 * this.dpr * this.zoom,\n            right: 12 * this.dpr * this.zoom,\n            bottom: 12 * this.dpr * this.zoom\n        });\n        this.unlockBg = btnBg;\n        this.diamondIcon = this.mScene.make.image({ x: -13 * this.dpr, y: -8 * this.dpr, key: this.commonKey, frame: \"test_diamond\" });\n        this.costNum = this.mScene.make.text({ x: -2, y: -8 * this.dpr, text: \"1000\", style: { color: \"#ffffff\", fontSize: 10 * this.dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT } }).setOrigin(0, 0.5);\n        this.btnName = this.mScene.make.text({ x: 0, y: 6 * this.dpr, text: \"\", style: { color: \"#8F4300\", fontSize: 11 * this.dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT } }).setOrigin(0.5, 0.5);\n        this.costNum.setStroke(\"#ffffff\", 1);\n        this.btnName.setStroke(\"#8F4300\", 1);\n        this.unlockCondition.setStroke(\"#000000\", 1);\n        this.unlockbtn.setPosition(70 * this.dpr, 48 * this.dpr);\n        this.unlockbtn.setSize(btnBg.width, btnBg.height);\n        this.unlockbtn.add([this.unlockCondition, btnBg, this.diamondIcon, this.costNum, this.btnName]);\n        this.unlockbtn.on(\"pointerup\", this.onUnlockEquipHandler, this);\n        this.mContainer.add(this.unlockbtn);\n    };\n    EquipUpgradeItem.prototype.getBoldFont = function (size) {\n        var font = \"bold \" + size + \"px Source Han Sans\";\n        return font;\n    };\n    return EquipUpgradeItem;\n}(Phaser.Events.EventEmitter));\n\nvar EquipItemCell = /** @class */ (function (_super) {\n    __extends(EquipItemCell, _super);\n    function EquipItemCell(scene, dpr, key, zoom) {\n        var _this = _super.call(this, scene) || this;\n        _this.index = 0;\n        _this.isSelect = false;\n        _this.isUnlock = false;\n        _this.dpr = dpr;\n        _this.key = key;\n        _this.zoom = zoom;\n        _this.create();\n        return _this;\n    }\n    EquipItemCell.prototype.setItemData = function (data, index) {\n        var _this = this;\n        this.itemData = data;\n        this.index = index;\n        var url = _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Url\"].getOsdRes(data.display.texturePath);\n        this.equipIcon.load(url, this, function () {\n            _this.equipIcon.scale = _this.dpr * _this.zoom;\n            // const x = this.equipIcon.width * 0.5 + 18 * this.dpr * this.zoom;\n            // const y = this.equipIcon.height * 0.5 + 15 * this.dpr * this.zoom;\n            // this.equipIcon.setPosition(x, y);\n        });\n        this.setEquiped(data.selected, data.owned);\n        this.setSelect(this.isSelect);\n    };\n    EquipItemCell.prototype.setSelect = function (isSelect) {\n        this.isSelect = isSelect;\n        var bgName = \"equipbg\";\n        if (!isSelect) {\n            if (this.isUnlock)\n                bgName = \"equipbg2\";\n            else\n                bgName = \"equipbg1\";\n        }\n        if (this.itemData.selected)\n            bgName = \"equipbg2\";\n        this.bg.setTexture(this.key, bgName);\n    };\n    EquipItemCell.prototype.setChildPosition = function () {\n        var x = this.bg.width * 0.5 + 10 * this.dpr * this.zoom;\n        var y = this.height - 10 * this.dpr * this.zoom;\n        this.bg.setPosition(x, y);\n        x = x + 1 * this.dpr * this.zoom;\n        y = this.height * 0.5 + 2 * this.dpr * this.zoom;\n        this.equipIcon.setPosition(x, y);\n        x = x + 22 * this.dpr * this.zoom;\n        y = 8 * this.dpr * this.zoom;\n        this.unlock.setPosition(x, y);\n    };\n    EquipItemCell.prototype.setEquiped = function (isequiped, unlock) {\n        this.isUnlock = unlock;\n        this.unlock.visible = false;\n        if (isequiped) {\n            this.isUnlock = true;\n            this.unlock.visible = true;\n            this.unlock.setTexture(this.key, \"ok\");\n        }\n        else if (!this.isUnlock) {\n            this.unlock.visible = true;\n            this.unlock.setTexture(this.key, \"lock\");\n        }\n    };\n    EquipItemCell.prototype.create = function () {\n        this.bg = this.scene.make.image({ x: 0, y: -10 * this.dpr * this.zoom, key: this.key, frame: \"equipbg\" });\n        this.equipIcon = new _components_dynamic_image__WEBPACK_IMPORTED_MODULE_1__[\"DynamicImage\"](this.scene, 15 * this.dpr * this.zoom, 0 * this.dpr * this.zoom);\n        this.unlock = this.scene.make.image({ x: 30 * this.dpr * this.zoom, y: -10 * this.dpr * this.zoom, key: this.key, frame: \"lock\" });\n        this.add([this.bg, this.equipIcon, this.unlock]);\n    };\n    return EquipItemCell;\n}(Phaser.GameObjects.Container));\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/EquipUpgrade/EquipUpgradeItem.ts?");

/***/ }),

/***/ "./src/ui/EquipUpgrade/EquipUpgradeMediator.ts":
/*!*****************************************************!*\
  !*** ./src/ui/EquipUpgrade/EquipUpgradeMediator.ts ***!
  \*****************************************************/
/*! exports provided: EquipUpgradeMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EquipUpgradeMediator\", function() { return EquipUpgradeMediator; });\n/* harmony import */ var _EquipUpgradePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EquipUpgradePanel */ \"./src/ui/EquipUpgrade/EquipUpgradePanel.ts\");\n/* harmony import */ var _EquipUpgrade__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EquipUpgrade */ \"./src/ui/EquipUpgrade/EquipUpgrade.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar EquipUpgradeMediator = /** @class */ (function (_super) {\n    __extends(EquipUpgradeMediator, _super);\n    function EquipUpgradeMediator(layerMgr, scene, worldService) {\n        var _this = _super.call(this) || this;\n        _this.scene = scene;\n        _this.layerMgr = layerMgr;\n        _this.world = worldService;\n        if (!_this.equipUpgrade) {\n            _this.equipUpgrade = new _EquipUpgrade__WEBPACK_IMPORTED_MODULE_1__[\"EquipUpgrade\"](_this.world);\n            _this.equipUpgrade.on(\"activeEquip\", _this.onActiveEquipment, _this);\n            _this.equipUpgrade.on(\"showopen\", _this.onShowEquipPanel, _this);\n            _this.equipUpgrade.register();\n        }\n        return _this;\n    }\n    EquipUpgradeMediator.prototype.show = function () {\n        if ((this.mView && this.mView.isShow()) || this.mShow) {\n            return;\n        }\n        if (!this.mView) {\n            this.mView = new _EquipUpgradePanel__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.scene, this.world);\n            this.mView.on(\"hide\", this.onHidePanel, this);\n            this.mView.on(\"reqActive\", this.onReqActiveEquipment, this);\n            this.mView.on(\"reqEquiped\", this.onReqEquipedEquipment, this);\n        }\n        this.layerMgr.addToUILayer(this.mView);\n        if (this.mParam && this.mParam.length > 0)\n            this.onEquipUpgradePacket(this.mParam[0]);\n        this.mView.show();\n    };\n    EquipUpgradeMediator.prototype.destroy = function () {\n        if (this.equipUpgrade)\n            this.equipUpgrade.destroy();\n        this.equipUpgrade = undefined;\n        _super.prototype.destroy.call(this);\n    };\n    EquipUpgradeMediator.prototype.onHidePanel = function () {\n        _super.prototype.destroy.call(this);\n    };\n    EquipUpgradeMediator.prototype.onEquipUpgradePacket = function (content) {\n        var panel = this.mView;\n        if (!panel)\n            return;\n        panel.setData(\"upgradeData\", content);\n        panel.setEquipDatas(content);\n    };\n    EquipUpgradeMediator.prototype.onActiveEquipment = function (data) {\n        if (this.mView) {\n            var panel = this.mView;\n            panel.setActiveEquipment(data);\n        }\n    };\n    EquipUpgradeMediator.prototype.onReqEquipedEquipment = function (id) {\n        if (this.equipUpgrade)\n            this.equipUpgrade.reqEquipedEquipment(id);\n    };\n    EquipUpgradeMediator.prototype.onReqActiveEquipment = function (id) {\n        if (this.equipUpgrade)\n            this.equipUpgrade.reqActiveEquipment(id);\n    };\n    EquipUpgradeMediator.prototype.onShowEquipPanel = function (content) {\n        this.setParam([content]);\n        this.show();\n    };\n    return EquipUpgradeMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_2__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/EquipUpgrade/EquipUpgradeMediator.ts?");

/***/ }),

/***/ "./src/ui/EquipUpgrade/EquipUpgradePanel.ts":
/*!**************************************************!*\
  !*** ./src/ui/EquipUpgrade/EquipUpgradePanel.ts ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\n/* harmony import */ var _EquipUpgradeItem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./EquipUpgradeItem */ \"./src/ui/EquipUpgrade/EquipUpgradeItem.ts\");\n/* harmony import */ var _components_nine_patch__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/nine.patch */ \"./src/ui/components/nine.patch.ts\");\n/* harmony import */ var _i18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../i18n */ \"./src/i18n.ts\");\n/* harmony import */ var _ui_atals_name__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ui.atals.name */ \"./src/ui/ui.atals.name.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\nvar EquipUpgradePanel = /** @class */ (function (_super) {\n    __extends(EquipUpgradePanel, _super);\n    function EquipUpgradePanel(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.key = \"equip_upgrade\";\n        _this.commonkey = \"common_key\";\n        _this.equipItems = [];\n        return _this;\n        // this.scale = 1;\n    }\n    EquipUpgradePanel.prototype.resize = function (width, height) {\n        var w = this.scene.cameras.main.width / this.scale;\n        var h = this.scene.cameras.main.height / this.scale;\n        _super.prototype.resize.call(this, width, height);\n        this.setSize(w, h);\n        this.bg.x = w / 2; // - 24 * this.dpr * this.scale;\n        this.bg.y = h / 2; // - 20 * this.dpr * this.scale;\n        this.tilteName.x = this.bg.x;\n        this.tilteName.y = this.bg.y - this.bg.height / 2;\n        this.titlebg.x = this.bg.x;\n        this.titlebg.y = this.bg.y - this.bg.height / 2;\n        this.closeBtn.x = this.bg.x + this.bg.width / 2 - 10 * this.dpr * this.scale; // + this.bg.width / 2 - this.dpr * 8;\n        this.closeBtn.y = this.bg.y - this.bg.height / 2 + 10 * this.dpr * this.scale; // + posY + this.dpr * 8;\n        this.blackBg.clear();\n        this.blackBg.fillStyle(0, 0.5);\n        this.blackBg.fillRoundedRect(-this.x, -this.y, w, h);\n        this.add([this.blackBg, this.bg, this.closeBtn, this.titlebg, this.tilteName]);\n    };\n    EquipUpgradePanel.prototype.show = function (param) {\n        this.mShowData = param;\n        if (this.mPreLoad)\n            return;\n        if (!this.mInitialized) {\n            this.preload();\n            return;\n        }\n        if (this.mShow)\n            return;\n        if (this.soundGroup && this.soundGroup.open)\n            this.playSound(this.soundGroup.open);\n        if (!this.mTweening && this.mTweenBoo) {\n            this.showTween(true);\n        }\n        else {\n            this.mShow = true;\n        }\n        this.refreshData();\n        this.addListen();\n    };\n    EquipUpgradePanel.prototype.addListen = function () {\n        if (!this.mInitialized)\n            return;\n        this.closeBtn.on(\"pointerup\", this.OnClosePanel, this);\n    };\n    EquipUpgradePanel.prototype.removeListen = function () {\n        if (!this.mInitialized)\n            return;\n        this.closeBtn.off(\"pointerup\", this.OnClosePanel, this);\n    };\n    EquipUpgradePanel.prototype.preload = function () {\n        this.commonkey = _ui_atals_name__WEBPACK_IMPORTED_MODULE_5__[\"UIAtlasKey\"].commonKey;\n        this.addAtlas(this.key, \"equip_upgrade/mine_eqpm.png\", \"equip_upgrade/mine_eqpm.json\");\n        this.addAtlas(this.commonkey, \"common/ui_base.png\", \"common/ui_base.json\");\n        _super.prototype.preload.call(this);\n    };\n    EquipUpgradePanel.prototype.init = function () {\n        var w = this.scene.cameras.main.width / this.scale;\n        var h = this.scene.cameras.main.height / this.scale;\n        this.setSize(w, h);\n        this.blackBg = this.scene.make.graphics(undefined, false);\n        this.blackBg.clear();\n        this.blackBg.fillStyle(0, 0.5);\n        this.blackBg.fillRoundedRect(0, 0, w, h);\n        this.blackBg.setInteractive(new Phaser.Geom.Rectangle(0, 0, this.scene.cameras.main.width, this.scene.cameras.main.height), Phaser.Geom.Rectangle.Contains);\n        this.bg = new _components_nine_patch__WEBPACK_IMPORTED_MODULE_3__[\"NinePatch\"](this.scene, 0, 0, 300 * this.dpr, 300 * this.dpr, this.commonkey, \"bg\", {\n            left: 40,\n            top: 40,\n            bottom: 40,\n            right: 40,\n        });\n        var posY = -this.bg.height * 0.5;\n        this.titlebg = this.scene.make.image({ x: 0, y: posY, key: this.key, frame: \"titlebg\" });\n        var mfont = \"bold \" + 15 * this.dpr + \"px Source Han Sans\";\n        this.tilteName = this.scene.make.text({ x: 0, y: posY, text: _i18n__WEBPACK_IMPORTED_MODULE_4__[\"i18n\"].t(\"equipupgrade.title\"), style: { font: mfont, color: \"#8F4300\", fontSize: 15 * this.dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT } }).setOrigin(0.5, 0);\n        this.closeBtn = this.scene.make.image({ x: this.bg.width * 0.5 - this.dpr * 5, y: posY + this.dpr * 5, key: this.commonkey, frame: \"close\" });\n        this.tilteName.setStroke(\"#8F4300\", 1);\n        this.closeBtn.setInteractive();\n        this.add([this.blackBg, this.bg, this.closeBtn, this.titlebg, this.tilteName]);\n        this.resize(this.scene.cameras.main.width, this.scene.cameras.main.height);\n        _super.prototype.init.call(this);\n    };\n    EquipUpgradePanel.prototype.setEquipDatas = function (content) {\n        this.content = content;\n        if (!this.mInitialized)\n            return;\n        var w = this.scene.cameras.main.width / this.scale;\n        var h = this.scene.cameras.main.height / this.scale;\n        var arr = content.mineEquipments; // this.getEuipDatas();// [content.minePicks, content.minePicks];\n        var height = 175 * this.dpr;\n        var bgHeight = height * arr.length - (arr.length >= 2 ? 40 * (arr.length - 2) : 0);\n        var cellHeight = 155 * this.dpr;\n        this.resetPosition(this.bg.width, bgHeight);\n        var posY = -bgHeight * 0.5 + 100 * this.dpr;\n        var index = 0;\n        for (var _i = 0, arr_1 = arr; _i < arr_1.length; _i++) {\n            var value = arr_1[_i];\n            value[\"isblue\"] = (index % 2 === 0 ? false : true);\n            var item = new _EquipUpgradeItem__WEBPACK_IMPORTED_MODULE_2__[\"EquipUpgradeItem\"](this.scene, this, this.dpr, this.scale, this.key, this.commonkey);\n            item.on(\"reqActive\", this.onReqActiveEquipment, this);\n            item.on(\"reqEquiped\", this.onReqEquipedEquipment, this);\n            item.setEquipItems(value);\n            item.setTransPosition(w / 2, posY + h / 2);\n            this.equipItems.push(item);\n            posY += cellHeight;\n            index++;\n        }\n        this.resize(w, h);\n    };\n    EquipUpgradePanel.prototype.setActiveEquipment = function (equip) {\n        var index = 0;\n        for (var _i = 0, _a = this.content.mineEquipments; _i < _a.length; _i++) {\n            var value = _a[_i];\n            var item = this.equipItems[index];\n            var activeIndex = -1;\n            // tslint:disable-next-line: prefer-for-of\n            for (var i = 0; i < value.mineEquipments.length; i++) {\n                var data = value.mineEquipments[i];\n                if (data.id === equip.id) {\n                    value.mineEquipments[i] = equip;\n                    item.refreshEquipData(equip, i);\n                    activeIndex = i;\n                }\n                else {\n                    if (data.selected)\n                        data.selected = false;\n                }\n            }\n            if (activeIndex >= 0) {\n                item.refreshEquipData(equip, activeIndex);\n            }\n            index++;\n        }\n    };\n    EquipUpgradePanel.prototype.destroy = function () {\n        if (this.equipItems) {\n            for (var _i = 0, _a = this.equipItems; _i < _a.length; _i++) {\n                var item = _a[_i];\n                item.destroy();\n            }\n            this.equipItems.length = 0;\n        }\n        this.equipItems = null;\n        this.content = null;\n        _super.prototype.destroy.call(this);\n    };\n    EquipUpgradePanel.prototype.getEuipDatas = function () {\n        var arr = [];\n        for (var i = 0; i < 3; i++) {\n            var obj = {};\n            obj[\"name\"] = i === 0 ? \"\" : \"\";\n            obj[\"items\"] = [];\n            obj[\"isblue\"] = !(i % 2 === 0);\n            for (var j = 0; j < 15; j++) {\n                var item = {};\n                item[\"name\"] = \"\" + j;\n                item[\"penetration\"] = 10 + j;\n                item[\"des\"] = \"describle\";\n                item[\"cost\"] = 100 * j;\n                item[\"unlock\"] = false;\n                obj[\"items\"].push(item);\n            }\n            arr.push(obj);\n        }\n        return arr;\n    };\n    EquipUpgradePanel.prototype.refreshData = function () {\n        var upgradeData = this.getData(\"upgradeData\");\n        if (upgradeData)\n            this.setEquipDatas(upgradeData);\n    };\n    EquipUpgradePanel.prototype.resetPosition = function (width, height) {\n        this.bg.resize(width, height);\n        var posY = -height * 0.5;\n        this.titlebg.setPosition(0, posY);\n        this.tilteName.setPosition(0, posY);\n        this.closeBtn.setPosition(width * 0.5 - this.dpr * 8, posY + this.dpr * 8);\n    };\n    EquipUpgradePanel.prototype.OnClosePanel = function () {\n        this.emit(\"hide\");\n    };\n    EquipUpgradePanel.prototype.onReqActiveEquipment = function (id) {\n        this.emit(\"reqActive\", id);\n    };\n    EquipUpgradePanel.prototype.onReqEquipedEquipment = function (id) {\n        this.emit(\"reqEquiped\", id);\n    };\n    return EquipUpgradePanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (EquipUpgradePanel);\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/EquipUpgrade/EquipUpgradePanel.ts?");

/***/ }),

/***/ "./src/ui/FurniBag/FurniBag.ts":
/*!*************************************!*\
  !*** ./src/ui/FurniBag/FurniBag.ts ***!
  \*************************************/
/*! exports provided: FurniBag */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FurniBag\", function() { return FurniBag; });\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar FurniBag = /** @class */ (function (_super) {\n    __extends(FurniBag, _super);\n    function FurniBag($world, sceneType) {\n        var _this = _super.call(this) || this;\n        _this.world = $world;\n        _this.mSceneType = sceneType;\n        _this.mEvent = new Phaser.Events.EventEmitter();\n        return _this;\n    }\n    FurniBag.prototype.register = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.addPacketListener(this);\n            this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_EDIT_MODE_GET_PACKAGE_CATEGORIES, this.onPackageCategoriesHandler);\n            this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_MARKET_QUERY_PACKAGE, this.onQueryMarketPackage);\n            this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_MARKET_QUERY_PACKAGE_ITEM_RESOURCE, this.onQueryCommodityResultHandler);\n            this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_EDIT_MODE_QUERY_EDIT_PACKAGE, this.onQueryEditPackage);\n            this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_PKT_RESET_AVATAR, this.onQueryResetAvatar);\n            this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_PKT_CURRENT_DRESS_AVATAR_ITEM_ID, this.onRetDressAvatarItemIDS);\n        }\n    };\n    FurniBag.prototype.unregister = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.removePacketListener(this);\n        }\n    };\n    FurniBag.prototype.on = function (event, fn, context) {\n        this.mEvent.on(event, fn, context);\n    };\n    FurniBag.prototype.off = function (event, fn, context) {\n        this.mEvent.off(event, fn, context);\n    };\n    FurniBag.prototype.getCategories = function (categoryType) {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_EDIT_MODE_GET_PACKAGE_CATEGORIES);\n        var content = packet.content;\n        content.category = categoryType;\n        this.connection.send(packet);\n        this.categoryType = categoryType;\n    };\n    FurniBag.prototype.queryPackage = function (key, queryString) {\n        if (this.mSceneType === pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].SceneTypeEnum.NORMAL_SCENE_TYPE) {\n            this.queryMarketPackage(key, queryString);\n        }\n        else {\n            this.queryEditPackage(key, queryString);\n        }\n    };\n    FurniBag.prototype.queryCommodityResource = function (id) {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_MARKET_QUERY_PACKAGE_ITEM_RESOURCE);\n        var content = packet.content;\n        content.id = id;\n        this.connection.send(packet);\n    };\n    FurniBag.prototype.addFurniToScene = function (id) {\n        if (this.mSceneType !== pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].SceneTypeEnum.EDIT_SCENE_TYPE) {\n            return;\n        }\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_EDIT_MODE_SELECTED_SPRITE);\n        var content = packet.content;\n        content.id = id;\n        this.connection.send(packet);\n    };\n    FurniBag.prototype.enterEditAndSelectedSprite = function (id) {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_EDIT_MODE_ENABLE_AND_SELECTED_SPRITE);\n        var content = packet.content;\n        content.id = id;\n        this.connection.send(packet);\n    };\n    FurniBag.prototype.seachPackage = function (seach, category) {\n        this.queryPackage(category, seach);\n    };\n    FurniBag.prototype.sellProps = function (prop, count, category) {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_MARKET_SELL_PACKAGE_ITEM);\n        var content = packet.content;\n        content.category = category;\n        var item = pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].CountablePackageItem.create(prop);\n        item.count = count;\n        content.items = [item];\n        content.totalPrice = item.sellingPrice;\n        content.totalPrice.price *= count;\n        this.connection.send(packet);\n    };\n    FurniBag.prototype.useProps = function (itemid, count) {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_PKT_USE_ITEM);\n        var content = packet.content;\n        content.itemId = itemid;\n        content.count = count;\n        this.connection.send(packet);\n    };\n    FurniBag.prototype.querySaveAvatar = function (avatarids) {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_PKT_DRESS_UP_AVATAR);\n        var content = packet.content;\n        content.avatarItemIds = avatarids;\n        this.connection.send(packet);\n    };\n    FurniBag.prototype.queryResetAvatar = function (avatar) {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_PKT_RESET_AVATAR);\n        this.connection.send(packet);\n    };\n    FurniBag.prototype.queryDressAvatarItemIDs = function () {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_PKT_CURRENT_DRESS_AVATAR_ITEM_ID);\n        this.connection.send(packet);\n    };\n    FurniBag.prototype.destroy = function () {\n        this.unregister();\n        this.mEvent.destroy();\n    };\n    FurniBag.prototype.onPackageCategoriesHandler = function (packet) {\n        var content = packet.content;\n        if (content.category === this.categoryType) {\n            this.mEvent.emit(\"packageCategory\", content.subcategory);\n        }\n    };\n    FurniBag.prototype.onQueryMarketPackage = function (packge) {\n        // OP_VIRTUAL_WORLD_RES_CLIENT_MARKET_QUERY_PACKAGE\n        var content = packge.content;\n        if (content.category === this.categoryType) {\n            this.mEvent.emit(\"queryPackage\", content);\n        }\n    };\n    FurniBag.prototype.onQueryEditPackage = function (packet) {\n        var content = packet.content;\n        if (content.category === this.categoryType) {\n            this.mEvent.emit(\"queryPackage\", content);\n        }\n    };\n    FurniBag.prototype.onQueryCommodityResultHandler = function (packet) {\n        this.mEvent.emit(\"queryCommodityResource\", packet.content);\n    };\n    FurniBag.prototype.onQueryResetAvatar = function (packet) {\n        var content = packet.content;\n        this.mEvent.emit(\"queryResetAvatar\", content);\n    };\n    FurniBag.prototype.queryMarketPackage = function (key, queryString) {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_MARKET_QUERY_PACKAGE);\n        var content = packet.content;\n        content.category = this.categoryType;\n        content.page = 1;\n        content.perPage = 30;\n        content.subcategory = key;\n        content.queryString = queryString;\n        this.connection.send(packet);\n    };\n    FurniBag.prototype.queryEditPackage = function (key, queryString) {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_EDIT_MODE_QUERY_EDIT_PACKAGE);\n        var content = packet.content;\n        content.category = this.categoryType;\n        content.page = 1;\n        content.perPage = 30;\n        content.subcategory = key;\n        content.queryString = queryString;\n        this.connection.send(packet);\n    };\n    FurniBag.prototype.onRetDressAvatarItemIDS = function (packet) {\n        var content = packet.content;\n        this.mEvent.emit(\"avatarIDs\", content.avatarItemIds);\n    };\n    Object.defineProperty(FurniBag.prototype, \"connection\", {\n        get: function () {\n            if (this.world) {\n                return this.world.connection;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return FurniBag;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PacketHandler\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/FurniBag/FurniBag.ts?");

/***/ }),

/***/ "./src/ui/FurniBag/FurniBagMediator.ts":
/*!*********************************************!*\
  !*** ./src/ui/FurniBag/FurniBagMediator.ts ***!
  \*********************************************/
/*! exports provided: FurniBagMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FurniBagMediator\", function() { return FurniBagMediator; });\n/* harmony import */ var _FurniBagPanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FurniBagPanel */ \"./src/ui/FurniBag/FurniBagPanel.ts\");\n/* harmony import */ var _FurniBag__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FurniBag */ \"./src/ui/FurniBag/FurniBag.ts\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar FurniBagMediator = /** @class */ (function (_super) {\n    __extends(FurniBagMediator, _super);\n    function FurniBagMediator(layerManager, scene, worldService) {\n        var _this = _super.call(this) || this;\n        _this.layerManager = layerManager;\n        _this.world = worldService;\n        _this.scene = _this.layerManager.scene;\n        if (_this.world && _this.world.roomManager && _this.world.roomManager.currentRoom) {\n            _this.mScneType = _this.world.roomManager.currentRoom.sceneType;\n        }\n        else {\n            _this.mScneType = pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].SceneTypeEnum.NORMAL_SCENE_TYPE;\n        }\n        return _this;\n    }\n    FurniBagMediator.prototype.show = function () {\n        if ((this.mView && this.mView.isShow()) || this.mShow) {\n            this.layerManager.addToUILayer(this.mView);\n            return;\n        }\n        if (!this.mFurniBag) {\n            this.mFurniBag = new _FurniBag__WEBPACK_IMPORTED_MODULE_1__[\"FurniBag\"](this.world, this.mScneType);\n            this.mFurniBag.register();\n            this.mFurniBag.on(\"packageCategory\", this.onPackageCategoryHandler, this);\n            this.mFurniBag.on(\"queryPackage\", this.onQueryPackageHandler, this);\n            this.mFurniBag.on(\"queryCommodityResource\", this.onQueryCommodityResourceHandler, this);\n            this.mFurniBag.on(\"queryResetAvatar\", this.onResetAvatar, this);\n            this.mFurniBag.on(\"avatarIDs\", this.onDressAvatarIDS, this);\n        }\n        if (!this.mView) {\n            this.mView = new _FurniBagPanel__WEBPACK_IMPORTED_MODULE_0__[\"FurniBagPanel\"](this.scene, this.world, this.mScneType);\n            this.mView.on(\"getCategories\", this.onGetCategoriesHandler, this);\n            this.mView.on(\"queryPackage\", this.onQueryPackage, this);\n            this.mView.on(\"close\", this.onCloseHandler, this);\n            this.mView.on(\"queryPropResource\", this.onQueryPropResourceHandler, this);\n            this.mView.on(\"seachPackage\", this.onSeachPackageHandler, this);\n            this.mView.on(\"addFurniToScene\", this.onAddFurniHandler, this);\n            this.mView.on(\"sellProps\", this.onSellPropsHandler, this);\n            this.mView.on(\"querySaveAvatar\", this.onQuerySaveAvatar, this);\n            this.mView.on(\"queryResetAvatar\", this.onQueryResetAvatar, this);\n            this.mView.on(\"queryDressAvatarIDS\", this.queryDressAvatarIDS, this);\n            this.mView.on(\"useprops\", this.onUsePropsHandler, this);\n        }\n        this.mView.show();\n        this.layerManager.addToUILayer(this.mView);\n    };\n    FurniBagMediator.prototype.destroy = function () {\n        if (this.mFurniBag) {\n            this.mFurniBag.destroy();\n            this.mFurniBag = undefined;\n        }\n        _super.prototype.destroy.call(this);\n    };\n    FurniBagMediator.prototype.onCloseHandler = function () {\n        this.destroy();\n    };\n    FurniBagMediator.prototype.onPackageCategoryHandler = function (subcategory) {\n        if (!this.mView) {\n            return;\n        }\n        this.mView.setCategories(subcategory);\n    };\n    FurniBagMediator.prototype.onQueryCommodityResourceHandler = function (content) {\n        this.mView.setSelectedResource(content);\n    };\n    FurniBagMediator.prototype.onGetCategoriesHandler = function (categoryType) {\n        if (this.mFurniBag) {\n            this.mFurniBag.getCategories(categoryType);\n        }\n    };\n    FurniBagMediator.prototype.onQueryPackageHandler = function (content) {\n        this.mView.setProp(content.items);\n    };\n    FurniBagMediator.prototype.onQueryPackage = function (key) {\n        this.mFurniBag.queryPackage(key);\n    };\n    FurniBagMediator.prototype.onQueryPropResourceHandler = function (prop) {\n        this.mFurniBag.queryCommodityResource(prop.id);\n    };\n    FurniBagMediator.prototype.onQuerySaveAvatar = function (avatarids) {\n        this.mFurniBag.querySaveAvatar(avatarids);\n    };\n    FurniBagMediator.prototype.onQueryResetAvatar = function (avatar) {\n        this.mFurniBag.queryResetAvatar(avatar);\n    };\n    FurniBagMediator.prototype.onSeachPackageHandler = function (query, categories) {\n        this.mFurniBag.seachPackage(query, categories);\n    };\n    FurniBagMediator.prototype.onAddFurniHandler = function (id) {\n        if (this.mView.enableEdit) {\n            this.mFurniBag.enterEditAndSelectedSprite(id);\n        }\n        else {\n            this.mFurniBag.addFurniToScene(id);\n        }\n        this.destroy();\n    };\n    FurniBagMediator.prototype.onSellPropsHandler = function (prop, count, category) {\n        this.mFurniBag.sellProps(prop, count, category);\n    };\n    FurniBagMediator.prototype.onUsePropsHandler = function (itemid, count) {\n        this.mFurniBag.useProps(itemid, count);\n    };\n    FurniBagMediator.prototype.onResetAvatar = function (content) {\n        this.mView.resetAvatar(content);\n    };\n    FurniBagMediator.prototype.onDressAvatarIDS = function (ids) {\n        this.mView.setDressAvatarIds(ids);\n    };\n    FurniBagMediator.prototype.queryDressAvatarIDS = function () {\n        this.mFurniBag.queryDressAvatarItemIDs();\n    };\n    return FurniBagMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_3__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/FurniBag/FurniBagMediator.ts?");

/***/ }),

/***/ "./src/ui/FurniBag/FurniBagPanel.ts":
/*!******************************************!*\
  !*** ./src/ui/FurniBag/FurniBagPanel.ts ***!
  \******************************************/
/*! exports provided: FurniBagPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FurniBagPanel\", function() { return FurniBagPanel; });\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../i18n */ \"./src/i18n.ts\");\n/* harmony import */ var _Market_DetailDisplay__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Market/DetailDisplay */ \"./src/ui/Market/DetailDisplay.ts\");\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _components_dynamic_image__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/dynamic.image */ \"./src/ui/components/dynamic.image.ts\");\n/* harmony import */ var _Market_TextButton__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Market/TextButton */ \"./src/ui/Market/TextButton.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _components_input_panel__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../components/input.panel */ \"./src/ui/components/input.panel.ts\");\n/* harmony import */ var _components_checkbox_group__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../components/checkbox.group */ \"./src/ui/components/checkbox.group.ts\");\n/* harmony import */ var _components_nine_patch__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../components/nine.patch */ \"./src/ui/components/nine.patch.ts\");\n/* harmony import */ var _Handler_Handler__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../Handler/Handler */ \"./src/Handler/Handler.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_button_Button__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/button/Button */ \"./lib/rexui/lib/ui/button/Button.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_tab_TabButton__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/tab/TabButton */ \"./lib/rexui/lib/ui/tab/TabButton.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_gridtable_GameGridTable__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/gridtable/GameGridTable */ \"./lib/rexui/lib/ui/gridtable/GameGridTable.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_scroller_GameScroller__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/scroller/GameScroller */ \"./lib/rexui/lib/ui/scroller/GameScroller.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_button_NineSliceButton__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/button/NineSliceButton */ \"./lib/rexui/lib/ui/button/NineSliceButton.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar FurniBagPanel = /** @class */ (function (_super) {\n    __extends(FurniBagPanel, _super);\n    function FurniBagPanel(scene, world, sceneType) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.key = \"furni_bag\";\n        _this.commonkey = \"common_key\";\n        _this.seachKey = \"key.seach\";\n        _this.topBtns = [];\n        _this.mEnableEdit = false;\n        _this.mInputBoo = false;\n        _this.mSelectedItemData = [];\n        _this.mSceneType = sceneType;\n        // this.scale = 1;\n        _this.setInteractive();\n        return _this;\n    }\n    FurniBagPanel.prototype.resize = function (w, h) {\n        var width = this.scaleWidth;\n        var height = this.scaleHeight;\n        this.setSize(width, height);\n        // super.resize(width, height);\n        var zoom = 1;\n        this.mBackground.clear();\n        this.mBackground.fillGradientStyle(0x6f75ff, 0x6f75ff, 0x04cbff, 0x04cbff);\n        this.mBackground.fillRect(0, 0, width, height);\n        this.mShelfContainer.setSize(width, 295 * this.dpr * zoom);\n        this.mShelfContainer.y = height - this.mShelfContainer.height;\n        this.mDetailBubble.y = this.mShelfContainer.y - 10 * this.dpr * zoom - this.mDetailBubble.height;\n        this.mCategoriesBar.clear();\n        this.mCategoriesBar.fillStyle(0x33ccff);\n        this.mCategoriesBar.fillRect(0, 0, width, 40 * this.dpr * zoom);\n        this.mCategoriesBar.fillStyle(0x00cccc);\n        this.mCategoriesBar.fillRect(0, 40 * this.dpr * zoom, width, 3 * this.dpr * zoom);\n        this.mBg.x = width / 2;\n        this.mBg.y = this.mBg.height / 2 + 10 * this.dpr * zoom;\n        //  this.mTiltle.x = width / 2;\n        // this.mCategoryScroll.resize(width, 41 * this.dpr * zoom);\n        this.mAdd.x = width - this.mAdd.width / 2 - 10 * this.dpr;\n        this.mAdd.y = this.mShelfContainer.y - this.mAdd.height / 2 - 9 * this.dpr * zoom;\n        this.useBtn.x = this.mAdd.x;\n        this.useBtn.y = this.mAdd.y;\n        this.sellBtn.x = Math.floor(this.mAdd.x - this.sellBtn.width - 10 * this.dpr);\n        this.sellBtn.y = this.mAdd.y;\n        this.resetBtn.x = this.mAdd.x + 25 * this.dpr;\n        this.resetBtn.y = this.mAdd.y;\n        this.saveBtn.x = this.resetBtn.x - (this.saveBtn.width + this.resetBtn.width) / 2 - 10 * this.dpr;\n        this.saveBtn.y = this.resetBtn.y;\n        this.mDetailDisplay.x = width / 2;\n        this.mDetailDisplay.y = this.mBg.y;\n        // this.mPropGrid.y = this.mShelfContainer.y + 43 * this.dpr * zoom + 120 * this.dpr * zoom;\n    };\n    FurniBagPanel.prototype.setCategories = function (subcategorys) {\n        // subcategorys.unshift({ key: this.seachKey, value: \"\" });\n        this.mPreCategoryBtn = null;\n        this.mSelectedCategeories = null;\n        var zoom = 1;\n        var capW = 70 * this.dpr * zoom;\n        var capH = 41 * this.dpr * zoom;\n        var items = [];\n        if (this.mSeachInput.parentContainer)\n            this.closeSeach(null);\n        this.mCategoryScroll.clearItems();\n        var seachBtn = new _lib_rexui_lib_ui_button_Button__WEBPACK_IMPORTED_MODULE_12__[\"Button\"](this.scene, this.key, \"seach_normal\", \"seach_down\");\n        seachBtn.setData(\"item\", { key: this.seachKey, value: \"\" });\n        seachBtn.y = capH - 40 * this.dpr * zoom;\n        this.mCategoryScroll.addItem(seachBtn);\n        for (var i = 0; i < subcategorys.length; i++) {\n            var item = new _Market_TextButton__WEBPACK_IMPORTED_MODULE_6__[\"TextButton\"](this.scene, this.dpr, zoom, subcategorys[i].value, 0, 0);\n            item.x = i * capW;\n            item.y = capH - item.text.height - 40 * this.dpr * zoom >> 1;\n            item.setData(\"item\", subcategorys[i]);\n            item.setSize(capW, capH);\n            this.mCategoryScroll.addItem(item);\n            items[i] = item;\n            item.setFontSize(17 * this.dpr * zoom);\n            item.setFontStyle(\"bold\");\n        }\n        this.mCategoryScroll.Sort();\n        this.mCategoryScroll.x = this.scaleWidth / 2;\n        this.mCategoryScroll.y = this.mShelfContainer.y + 20 * this.dpr * zoom;\n        this.mCategoryScroll.refreshMask();\n        if (items.length > 1)\n            this.onSelectSubCategoryHandler(items[0]);\n        this.mPropGrid.layout();\n        this.mPropGrid.x = this.scaleWidth < this.scene.cameras.main.width ? this.scene.cameras.main.width / 2 : this.scaleWidth / 2;\n        this.mPropGrid.y = this.mShelfContainer.y + 175 * this.dpr * zoom;\n        this.mPropGrid.resetMask();\n        this.updateCategeoriesLoc(false);\n    };\n    FurniBagPanel.prototype.setProp = function (props) {\n        if (!props) {\n            return;\n        }\n        var len = props.length;\n        if (len < 24) {\n            props = props.concat(new Array(24 - len));\n        }\n        this.mPropGrid.setItems(props);\n        this.mPropGrid.layout();\n        this.mPropGrid.x = this.scaleWidth / 2;\n        this.mPropGrid.y = this.mShelfContainer.y + 175 * this.dpr;\n        this.mPropGrid.resetMask();\n        if (this.categoryType !== pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_def\"].EditModePackageCategory.EDIT_MODE_PACKAGE_CATEGORY_AVATAR) {\n            this.mSelectedItemData.length = 0;\n            var cell = this.mPropGrid.getCell(0);\n            this.onSelectItemHandler(cell.container);\n        }\n        else {\n            if (this.mSelectedItemData.length === 0) {\n                for (var _i = 0, props_1 = props; _i < props_1.length; _i++) {\n                    var prop = props_1[_i];\n                    if (prop && prop.rightSubscript === pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_pkt_def\"].PKT_Subscript.PKT_SUBSCRIPT_CHECKMARK) {\n                        this.mSelectedItemData.push(prop);\n                    }\n                }\n                this.updateAvatarItems();\n            }\n        }\n    };\n    FurniBagPanel.prototype.setDressAvatarIds = function (ids) {\n        this.dressAvatarIDS = ids;\n        this.updateAvatarItems();\n    };\n    FurniBagPanel.prototype.displayAvatar = function () {\n        var content = new pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_client\"].OP_VIRTUAL_WORLD_RES_CLIENT_MARKET_QUERY_PACKAGE_ITEM_RESOURCE();\n        content.avatar = new pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_gameconfig\"].Avatar();\n        var player = this.mWorld.roomManager.currentRoom.playerManager.actor;\n        var avatar = player.model.avatar;\n        for (var key in avatar) {\n            if (avatar.hasOwnProperty(key)) {\n                var element = avatar[key];\n                if (element)\n                    content.avatar[key] = element;\n            }\n        }\n        var offset = new Phaser.Geom.Point(0, 20 * this.dpr);\n        this.mDetailDisplay.loadAvatar(content, 2, offset);\n    };\n    FurniBagPanel.prototype.setSelectedResource = function (content) {\n        if (content.display) {\n            this.mDetailDisplay.loadDisplay(content);\n        }\n        else if (content.avatar) {\n            var player = this.mWorld.roomManager.currentRoom.playerManager.actor;\n            var avatar = player.model.avatar;\n            for (var key in avatar) {\n                if (avatar.hasOwnProperty(key)) {\n                    var element = avatar[key];\n                    if (element)\n                        content.avatar[key] = element;\n                }\n            }\n            for (var _i = 0, _a = this.mSelectedItemData; _i < _a.length; _i++) {\n                var item = _a[_i];\n                var dataAvatar = item.avatar;\n                for (var key in dataAvatar) {\n                    if (dataAvatar.hasOwnProperty(key)) {\n                        var element = dataAvatar[key];\n                        if (element)\n                            content.avatar[key] = element;\n                    }\n                }\n            }\n            var offset = new Phaser.Geom.Point(0, 20 * this.dpr);\n            this.mDetailDisplay.loadAvatar(content, 2, offset);\n        }\n    };\n    FurniBagPanel.prototype.resetAvatar = function (avatar) {\n        var content = new pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_client\"].OP_VIRTUAL_WORLD_RES_CLIENT_MARKET_QUERY_COMMODITY_RESOURCE();\n        content.avatar = avatar.avatar;\n        var offset = new Phaser.Geom.Point(0, 20 * this.dpr);\n        this.mDetailDisplay.loadAvatar(content, 2, offset);\n    };\n    FurniBagPanel.prototype.addListen = function () {\n        if (!this.mInitialized)\n            return;\n        this.mCloseBtn.on(\"pointerup\", this.onCloseHandler, this);\n        this.mSeachInput.on(\"seach\", this.onSeachHandler, this);\n        this.mAdd.on(\"pointerup\", this.onAddFurniToSceneHandler, this);\n        this.sellBtn.on(\"pointerup\", this.onSellBtnHandler, this);\n        this.useBtn.on(\"pointerup\", this.onUseBtnHandler, this);\n        this.saveBtn.on(\"pointerup\", this.onSaveBtnHandler, this);\n        this.resetBtn.on(\"pointerup\", this.onResetBtnHandler, this);\n    };\n    FurniBagPanel.prototype.removeListen = function () {\n        if (!this.mInitialized)\n            return;\n        this.mCloseBtn.off(\"pointerup\", this.onCloseHandler, this);\n        this.mSeachInput.off(\"seach\", this.onSeachHandler, this);\n        this.mAdd.off(\"pointerup\", this.onAddFurniToSceneHandler, this);\n        this.sellBtn.off(\"pointerup\", this.onSellBtnHandler, this);\n        this.useBtn.off(\"pointerup\", this.onUseBtnHandler, this);\n        this.saveBtn.on(\"pointerup\", this.onSaveBtnHandler, this);\n        this.resetBtn.on(\"pointerup\", this.onResetBtnHandler, this);\n    };\n    FurniBagPanel.prototype.destroy = function () {\n        if (this.mCategoryScroll) {\n            this.mCategoryScroll.destroy();\n        }\n        if (this.mPropGrid) {\n            this.mPropGrid.destroy();\n        }\n        _super.prototype.destroy.call(this);\n    };\n    FurniBagPanel.prototype.preload = function () {\n        this.addAtlas(this.key, \"furni_bag/furni_bag.png\", \"furni_bag/furni_bag.json\");\n        this.addAtlas(this.commonkey, \"common/ui_base.png\", \"common/ui_base.json\");\n        _super.prototype.preload.call(this);\n    };\n    FurniBagPanel.prototype.init = function () {\n        var _this = this;\n        var width = this.scene.cameras.main.width;\n        var height = this.scene.cameras.main.height;\n        this.mBackground = this.scene.make.graphics(undefined, false);\n        var zoom = 1;\n        this.mBg = this.scene.make.image({\n            key: this.key,\n            frame: \"bg\"\n        }, false);\n        this.mShelfContainer = this.scene.make.container(undefined, false);\n        this.mShelfContainer.setSize(width, 295 * this.dpr * zoom);\n        this.mShelfContainer.y = height - this.mShelfContainer.height;\n        // this.mPropsContainer = this.scene.make.container(undefined, false);\n        // this.mCategeoriesContainer = this.scene.make.container(undefined, false);\n        // this.mCategeoriesContainer.x = this.mShelfContainer.x;\n        // this.mCategeoriesContainer.y = this.mShelfContainer.y;\n        this.mCategoriesBar = this.scene.make.graphics(undefined, false);\n        this.mBackground.setInteractive(new Phaser.Geom.Rectangle(0, 0, this.scene.cameras.main.width, this.scene.cameras.main.height), Phaser.Geom.Rectangle.Contains);\n        this.mCloseBtn = this.scene.make.image({\n            key: this.key,\n            frame: \"back_arrow\",\n            x: 21 * this.dpr,\n            y: 30 * this.dpr\n        }).setScale(zoom).setInteractive();\n        var btnwidth = 90 * this.dpr * zoom;\n        var btnHeight = 40 * this.dpr * zoom;\n        var btnPosX = width - btnwidth / 2 - 20 * this.dpr;\n        var btnPosY = this.mShelfContainer.y - 25 * this.dpr * zoom;\n        this.mAdd = this.createNineButton(btnPosX + 100 * this.dpr * zoom, btnPosY, btnwidth, btnHeight, this.commonkey, \"yellow_btn\", _i18n__WEBPACK_IMPORTED_MODULE_1__[\"i18n\"].t(\"furni_bag.add\"), \"#996600\");\n        this.sellBtn = this.createNineButton(btnPosX, btnPosY, btnwidth, btnHeight, this.commonkey, \"red_btn\", _i18n__WEBPACK_IMPORTED_MODULE_1__[\"i18n\"].t(\"furni_bag.sold\"), \"#FFFFFF\");\n        this.useBtn = this.createNineButton(btnPosX + 100 * this.dpr * zoom, btnPosY, btnwidth, btnHeight, this.commonkey, \"yellow_btn\", _i18n__WEBPACK_IMPORTED_MODULE_1__[\"i18n\"].t(\"furni_bag.use\"), \"#996600\");\n        this.saveBtn = this.createNineButton(btnPosX + 100 * this.dpr * zoom, btnPosY, btnwidth, btnHeight, this.commonkey, \"yellow_btn\", _i18n__WEBPACK_IMPORTED_MODULE_1__[\"i18n\"].t(\"furni_bag.save\"), \"#996600\");\n        this.resetBtn = this.createNineButton(btnPosX + 100 * this.dpr * zoom, btnPosY - btnHeight - 5 * this.dpr * zoom, 40 * this.dpr, 40 * this.dpr, this.commonkey, \"red_btn\");\n        var reseticon = this.scene.make.image({ key: this.key, frame: \"restore\" });\n        this.resetBtn.add(reseticon);\n        this.mDetailDisplay = new _Market_DetailDisplay__WEBPACK_IMPORTED_MODULE_2__[\"DetailDisplay\"](this.scene);\n        this.mDetailDisplay.setTexture(this.key, \"ghost\");\n        this.mDetailDisplay.setNearest();\n        this.mDetailDisplay.y = this.mBg.y + this.mBg.height / 2;\n        this.mDetailDisplay.scale = this.dpr;\n        this.mDetailBubble = new DetailBubble(this.scene, this.key, this.dpr, zoom);\n        this.mDetailBubble.x = 10 * this.dpr;\n        this.mSeachInput = new SeachInput(this.scene, this.mWorld, this.key, this.dpr);\n        // this.mSeachInput.x = this.mSeachInput.width / 2 + 6 * this.dpr;\n        var inputWid = this.mInputBoo ? 260 * this.dpr * zoom : 0;\n        var w = this.scene.cameras.main.width + inputWid;\n        this.mCategoryScroll = new _lib_rexui_lib_ui_scroller_GameScroller__WEBPACK_IMPORTED_MODULE_15__[\"GameScroller\"](this.scene, {\n            x: (w / zoom) * .5,\n            y: this.mShelfContainer.y + 20 * this.dpr * zoom,\n            width: this.scaleWidth,\n            height: 41 * this.dpr * zoom,\n            zoom: this.scale,\n            orientation: 1,\n            // valuechangeCallback: (newValue) => {\n            //   this.refreshPos(newValue);\n            // },\n            cellupCallBack: function (gameobject) {\n                _this.onSelectSubCategoryHandler(gameobject);\n            }\n        });\n        this.add([this.mBackground, this.mBg, this.mCloseBtn, this.mDetailDisplay, this.mDetailBubble, this.mShelfContainer, this.mCategoryScroll]);\n        this.add([this.sellBtn, this.useBtn, this.mAdd, this.saveBtn, this.resetBtn]);\n        this.mShelfContainer.add(this.mCategoriesBar);\n        // this.mCategeoriesContainer.add([this.mCategoriesBar]);\n        if (this.mWorld && this.mWorld.roomManager && this.mWorld.roomManager.currentRoom) {\n            this.mEnableEdit = this.mWorld.roomManager.currentRoom.enableEdit;\n        }\n        var topCapW = 67 * this.dpr * zoom;\n        var topCapH = 30 * this.dpr * zoom;\n        var topPosY = 30 * this.dpr * zoom;\n        var topStyle = {\n            fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_3__[\"Font\"].BOLD_FONT,\n            fontSize: 20 * this.dpr * zoom,\n            color: \"#FFFFFF\"\n        };\n        this.topCheckBox = new _components_checkbox_group__WEBPACK_IMPORTED_MODULE_9__[\"CheckboxGroup\"]();\n        var topCategorys = [pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_def\"].EditModePackageCategory.EDIT_MODE_PACKAGE_CATEGORY_ITEM, pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_def\"].EditModePackageCategory.EDIT_MODE_PACKAGE_CATEGORY_FURNITURE, pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_def\"].EditModePackageCategory.EDIT_MODE_PACKAGE_CATEGORY_AVATAR];\n        var topBtnTexts = [_i18n__WEBPACK_IMPORTED_MODULE_1__[\"i18n\"].t(\"furni_bag.Props\"), _i18n__WEBPACK_IMPORTED_MODULE_1__[\"i18n\"].t(\"furni_bag.furni\"), _i18n__WEBPACK_IMPORTED_MODULE_1__[\"i18n\"].t(\"furni_bag.decorate\")];\n        if (this.mSceneType === pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_def\"].SceneTypeEnum.EDIT_SCENE_TYPE) {\n            topCategorys = [pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_def\"].EditModePackageCategory.EDIT_MODE_PACKAGE_CATEGORY_FURNITURE];\n            topBtnTexts = [_i18n__WEBPACK_IMPORTED_MODULE_1__[\"i18n\"].t(\"furni_bag.furni\")];\n        }\n        var topPosX = width * 0.5 - topCapW * 0.5 * (topCategorys.length - 1);\n        for (var key in topCategorys) {\n            var index = Number(key);\n            var category = topCategorys[index];\n            var button = new _lib_rexui_lib_ui_tab_TabButton__WEBPACK_IMPORTED_MODULE_13__[\"TabButton\"](this.scene, this.key, \"tab_normal\", \"tab_down\", topBtnTexts[index]);\n            button.setTextStyle(topStyle);\n            button.setData(\"data\", category);\n            button.setSize(topCapW, topCapH);\n            button.setFontStyle(\"bold\");\n            button.y = topPosY;\n            button.x = topPosX + topCapW * index;\n            this.topBtns.push(button);\n        }\n        this.topCheckBox.appendItemAll(this.topBtns);\n        this.topCheckBox.on(\"selected\", this.onTopCategoryHandler, this);\n        this.topBtns.forEach(function (btn) {\n            _this.add(btn);\n        });\n        if (this.mEnableEdit) {\n            var index = topCategorys.indexOf(pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_def\"].EditModePackageCategory.EDIT_MODE_PACKAGE_CATEGORY_FURNITURE);\n            this.topCheckBox.selectIndex(index);\n        }\n        else {\n            this.topCheckBox.selectIndex(0);\n        }\n        var propFrame = this.scene.textures.getFrame(this.key, \"grid_choose\");\n        var capW = (propFrame.width * zoom + 2 * this.dpr);\n        var capH = (propFrame.height * zoom + 2 * this.dpr);\n        w = this.scene.cameras.main.width + 35 * this.dpr * zoom + inputWid;\n        var tableConfig = {\n            x: this.scaleWidth / 2,\n            y: 0,\n            table: {\n                width: this.scaleWidth - 15 * this.dpr * this.scale,\n                height: 255 * this.dpr * zoom,\n                columns: 4,\n                cellWidth: capW,\n                cellHeight: capH,\n                reuseCellContainer: true,\n                cellOriginX: 0,\n                cellOriginY: 0,\n                zoom: this.scale,\n            },\n            scrollMode: 1,\n            clamplChildOY: false,\n            // background: (<any>this.scene).rexUI.add.roundRectangle(0, 0, 2, 2, 0, 0xFF9900, .2),\n            createCellContainerCallback: function (cell, cellContainer) {\n                var scene = cell.scene, item = cell.item;\n                if (cellContainer === null) {\n                    cellContainer = new Item(scene, 0, 0, _this.key, _this.dpr, zoom);\n                    _this.add(cellContainer);\n                }\n                cellContainer.setData({ item: item });\n                cellContainer.setProp(item);\n                if (item) {\n                    if (_this.isSelectedItemData(item))\n                        cellContainer.isSelect = true;\n                    if (item.rightSubscript === pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_pkt_def\"].PKT_Subscript.PKT_SUBSCRIPT_CHECKMARK) {\n                        cellContainer.isEquip = true;\n                    }\n                    else\n                        cellContainer.isEquip = false;\n                }\n                else {\n                    cellContainer.isSelect = false;\n                    cellContainer.isEquip = false;\n                }\n                return cellContainer;\n            },\n        };\n        this.mPropGrid = new _lib_rexui_lib_ui_gridtable_GameGridTable__WEBPACK_IMPORTED_MODULE_14__[\"GameGridTable\"](this.scene, tableConfig);\n        this.mPropGrid.layout();\n        this.mPropGrid.on(\"cellTap\", function (cell) {\n            if (cell) {\n                _this.onSelectItemHandler(cell);\n            }\n        });\n        this.add(this.mPropGrid.table);\n        this.resize(0, 0);\n        _super.prototype.init.call(this);\n    };\n    FurniBagPanel.prototype.createNineButton = function (x, y, width, height, key, frame, text, color) {\n        var zoom = this.scale;\n        var btn = new _lib_rexui_lib_ui_button_NineSliceButton__WEBPACK_IMPORTED_MODULE_16__[\"NineSliceButton\"](this.scene, x, y, width, height, key, frame, text, this.dpr, this.scale, {\n            left: 12 * this.dpr * zoom,\n            top: 12 * this.dpr * zoom,\n            right: 12 * this.dpr * zoom,\n            bottom: 12 * this.dpr * zoom\n        });\n        if (text) {\n            btn.setTextStyle({\n                color: color,\n                fontSize: 16 * this.dpr * zoom,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_3__[\"Font\"].DEFULT_FONT\n            });\n            btn.setFontStyle(\"bold\");\n        }\n        return btn;\n    };\n    FurniBagPanel.prototype.updateAvatarItems = function () {\n        if (this.dressAvatarIDS && this.mSelectedItemData.length > 0) {\n            this.mSelectedItemData.length = 0;\n            var cells = this.mPropGrid.getCells();\n            for (var _i = 0, _a = this.dressAvatarIDS; _i < _a.length; _i++) {\n                var id = _a[_i];\n                for (var _b = 0, cells_1 = cells; _b < cells_1.length; _b++) {\n                    var cell = cells_1[_b];\n                    if (cell) {\n                        var item = cell.container.getData(\"item\");\n                        if (item && id === item.id && item.rightSubscript === pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_pkt_def\"].PKT_Subscript.PKT_SUBSCRIPT_CHECKMARK) {\n                            this.onSelectItemHandler(cell.container);\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            this.mDetailBubble.setProp(null);\n            this.mDetailBubble.y = this.mShelfContainer.y - 10 * this.dpr - this.mDetailBubble.height;\n        }\n    };\n    FurniBagPanel.prototype.replaceSelectItem = function (data) {\n        if (this.categoryType !== pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_def\"].EditModePackageCategory.EDIT_MODE_PACKAGE_CATEGORY_AVATAR) {\n            this.mSelectedItemData.length = 0;\n            this.mSelectedItemData.push(data);\n        }\n        else {\n            var dataAvatar = data.avatar;\n            var removeArr = [];\n            for (var _i = 0, _a = this.mSelectedItemData; _i < _a.length; _i++) {\n                var item = _a[_i];\n                var avatar = item.avatar;\n                if (this.isContainProperty(avatar, dataAvatar)) {\n                    var index = this.mSelectedItemData.indexOf(item);\n                    removeArr.push(item);\n                }\n            }\n            for (var _b = 0, removeArr_1 = removeArr; _b < removeArr_1.length; _b++) {\n                var item = removeArr_1[_b];\n                var index = this.mSelectedItemData.indexOf(item);\n                this.mSelectedItemData.splice(index, 1);\n            }\n            this.mSelectedItemData.push(data);\n        }\n    };\n    FurniBagPanel.prototype.isContainProperty = function (obj, obj1) {\n        var canreplace = true;\n        for (var key in obj) {\n            if (obj.hasOwnProperty(key)) {\n                if (!obj1.hasOwnProperty(key)) {\n                    canreplace = false;\n                    break;\n                }\n            }\n        }\n        return canreplace;\n    };\n    FurniBagPanel.prototype.isContainObject = function (obj, obj1) {\n        if (!obj && !obj1)\n            return true;\n        if (typeof obj !== typeof obj1)\n            return false;\n        if (typeof obj === \"object\") {\n            var canreplace = true;\n            for (var key in obj) {\n                if (obj.hasOwnProperty(key)) {\n                    if (obj1.hasOwnProperty(key)) {\n                        var value = obj1[key];\n                        if (!this.isContainObject(value, obj[key])) {\n                            canreplace = false;\n                            break;\n                        }\n                    }\n                    else {\n                        canreplace = false;\n                        break;\n                    }\n                }\n            }\n            return canreplace;\n        }\n        else {\n            if (obj === obj1)\n                return true;\n            else\n                return false;\n        }\n    };\n    FurniBagPanel.prototype.isSelectedItemData = function (data) {\n        for (var _i = 0, _a = this.mSelectedItemData; _i < _a.length; _i++) {\n            var temp = _a[_i];\n            if (temp.indexId === data.indexId) {\n                return true;\n            }\n        }\n        return false;\n    };\n    FurniBagPanel.prototype.setSelectedItem = function (prop) {\n        this.emit(\"queryPropResource\", prop);\n        this.sellBtn.enable = prop.recyclable;\n        this.useBtn.enable = prop.executable;\n        this.mAdd.enable = (this.mSceneType === pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_def\"].SceneTypeEnum.EDIT_SCENE_TYPE || this.mEnableEdit);\n        if (this.categoryType === pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_def\"].EditModePackageCategory.EDIT_MODE_PACKAGE_CATEGORY_AVATAR) {\n            this.saveBtn.enable = true;\n            this.resetBtn.enable = true;\n        }\n        else {\n            var url = _utils_resUtil__WEBPACK_IMPORTED_MODULE_7__[\"Url\"].getOsdRes(prop.display.texturePath);\n            this.mDetailDisplay.loadUrl(url);\n        }\n    };\n    FurniBagPanel.prototype.onSelectSubCategoryHandler = function (gameobject) {\n        var type = gameobject.getData(\"type\");\n        if (type) {\n            if (type === \"seachBtn\") {\n                this.onSeachHandler(this.mSeachInput.seachText);\n            }\n            else if (type === \"label\") {\n                this.mSeachInput.showInputPanel();\n            }\n            return;\n        }\n        // if (!(gameobject instanceof TextButton)) {\n        //   return;\n        // }\n        var category = gameobject.getData(\"item\");\n        if (category) {\n            if (this.mPreCategoryBtn && (this.mPreCategoryBtn instanceof _Market_TextButton__WEBPACK_IMPORTED_MODULE_6__[\"TextButton\"])) {\n                this.mPreCategoryBtn.changeNormal();\n            }\n            if (gameobject instanceof _Market_TextButton__WEBPACK_IMPORTED_MODULE_6__[\"TextButton\"])\n                gameobject.changeDown();\n            var key = category.key;\n            if (key === this.seachKey) {\n                this.showSeach(gameobject);\n            }\n            else {\n                if (this.mPreCategoryBtn) {\n                    var preBtn = this.mPreCategoryBtn.getData(\"item\");\n                    key = preBtn.key;\n                    if (key === this.seachKey) {\n                        this.closeSeach(gameobject);\n                    }\n                }\n                else {\n                    this.closeSeach(gameobject);\n                }\n                this.mSelectedCategeories = category;\n                this.queryPackege();\n            }\n            this.mPreCategoryBtn = gameobject;\n        }\n    };\n    FurniBagPanel.prototype.onCloseHandler = function () {\n        this.emit(\"close\");\n    };\n    FurniBagPanel.prototype.queryPackege = function () {\n        if (this.mSelectedCategeories) {\n            this.emit(\"queryPackage\", this.mSelectedCategeories.key);\n        }\n    };\n    FurniBagPanel.prototype.onSelectItemHandler = function (cell) {\n        var item = cell.getData(\"item\");\n        this.mDetailBubble.setProp(item);\n        this.mDetailBubble.y = this.mShelfContainer.y - 10 * this.dpr - this.mDetailBubble.height;\n        if (item) {\n            this.replaceSelectItem(item);\n            this.setSelectedItem(item);\n            this.mPropGrid.refresh();\n        }\n        else {\n            if (this.categoryType !== pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_def\"].EditModePackageCategory.EDIT_MODE_PACKAGE_CATEGORY_AVATAR && this.mSelectedItemData.length === 0) {\n                this.sellBtn.enable = false;\n                this.useBtn.enable = false;\n                this.mAdd.enable = false;\n                this.saveBtn.enable = false;\n                this.resetBtn.enable = false;\n                this.mDetailDisplay.setTexture(this.key, \"ghost\");\n                this.mDetailDisplay.setNearest();\n            }\n        }\n    };\n    FurniBagPanel.prototype.onSeachHandler = function (val) {\n        if (this.mSelectedCategeories && val.length > 0) {\n            this.emit(\"seachPackage\", val, this.mSelectedCategeories.key);\n        }\n    };\n    FurniBagPanel.prototype.onAddFurniToSceneHandler = function () {\n        if (!this.mSelectedItemData) {\n            return;\n        }\n        this.emit(\"addFurniToScene\", this.mSelectedItemData[0].id);\n    };\n    FurniBagPanel.prototype.onTopCategoryHandler = function (item) {\n        var categoryType = item.getData(\"data\");\n        var width = this.scaleWidth;\n        this.mSelectedItemData.length = 0;\n        // this.mDetailDisplay.setTexture(this.key, \"ghost\");\n        // this.mDetailDisplay.setLINEAR();\n        if (categoryType) {\n            this.onSelectedCategory(categoryType);\n            if (categoryType === pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_def\"].EditModePackageCategory.EDIT_MODE_PACKAGE_CATEGORY_FURNITURE) {\n                this.sellBtn.visible = true;\n                this.mAdd.visible = true;\n                this.useBtn.visible = false;\n                this.saveBtn.visible = false;\n                this.resetBtn.visible = false;\n            }\n            else if (categoryType === pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_def\"].EditModePackageCategory.EDIT_MODE_PACKAGE_CATEGORY_AVATAR) {\n                this.sellBtn.visible = false;\n                this.saveBtn.visible = true;\n                this.resetBtn.visible = true;\n                this.useBtn.visible = false;\n                this.mAdd.visible = false;\n            }\n            else {\n                this.sellBtn.visible = true;\n                this.useBtn.visible = true;\n                this.mAdd.visible = false;\n                this.saveBtn.visible = false;\n                this.resetBtn.visible = false;\n            }\n        }\n        this.layoutTopBtn(item);\n    };\n    FurniBagPanel.prototype.layoutTopBtn = function (button) {\n        var width = this.scene.cameras.main.width;\n        var zoom = this.mWorld.uiScale;\n        var allRadiu = 0;\n        for (var _i = 0, _a = this.topBtns; _i < _a.length; _i++) {\n            var btn = _a[_i];\n            allRadiu += btn.width;\n        }\n        allRadiu /= 2;\n        var offsetX = width * 0.5 - allRadiu;\n        for (var _b = 0, _c = this.topBtns; _b < _c.length; _b++) {\n            var btn = _c[_b];\n            var posY = 0;\n            if (btn !== button) {\n                btn.setTextStyle({\n                    fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_3__[\"Font\"].DEFULT_FONT,\n                    fontSize: 12 * this.dpr * zoom,\n                    color: \"#2B4BB5\"\n                });\n                posY = btn.height * 0.5;\n            }\n            else {\n                btn.setTextStyle({\n                    fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_3__[\"Font\"].DEFULT_FONT,\n                    fontSize: 16 * this.dpr * zoom,\n                    color: \"#8B5603\"\n                });\n                posY = btn.height * 0.5 + 2 * this.dpr * zoom;\n            }\n            var radiu = btn.width * 0.5;\n            btn.x = offsetX + radiu;\n            btn.y = posY;\n            offsetX += radiu * 2 + 12 * this.dpr * zoom;\n        }\n    };\n    FurniBagPanel.prototype.onSelectedCategory = function (categoryType) {\n        this.categoryType = categoryType;\n        if (categoryType === pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_def\"].EditModePackageCategory.EDIT_MODE_PACKAGE_CATEGORY_AVATAR) {\n            this.displayAvatar();\n            this.emit(\"queryDressAvatarIDS\");\n        }\n        this.emit(\"getCategories\", categoryType);\n    };\n    FurniBagPanel.prototype.onSellBtnHandler = function () {\n        var _this = this;\n        this.mCategoryScroll.removeListen();\n        if (this.mSelectedItemData.length > 0) {\n            var data = this.mSelectedItemData[0];\n            var title = _i18n__WEBPACK_IMPORTED_MODULE_1__[\"i18n\"].t(\"furni_bag.sold\");\n            var confirmHandler = new _Handler_Handler__WEBPACK_IMPORTED_MODULE_11__[\"Handler\"](this, this.onSellPropsHandler, [this.categoryType]);\n            var cancelHandler = new _Handler_Handler__WEBPACK_IMPORTED_MODULE_11__[\"Handler\"](this, function () {\n                _this.mCategoryScroll.addListen();\n            });\n            this.showPropFun({ confirmHandler: confirmHandler, data: data, cancelHandler: cancelHandler, title: title });\n        }\n    };\n    FurniBagPanel.prototype.onUseBtnHandler = function () {\n        var _this = this;\n        this.mCategoryScroll.removeListen();\n        if (this.mSelectedItemData.length > 0) {\n            var data = this.mSelectedItemData[0];\n            var title = _i18n__WEBPACK_IMPORTED_MODULE_1__[\"i18n\"].t(\"furni_bag.use\");\n            var confirmHandler = new _Handler_Handler__WEBPACK_IMPORTED_MODULE_11__[\"Handler\"](this, this.onUsePropsHandler);\n            var cancelHandler = new _Handler_Handler__WEBPACK_IMPORTED_MODULE_11__[\"Handler\"](this, function () {\n                _this.mCategoryScroll.addListen();\n            });\n            this.showPropFun({ confirmHandler: confirmHandler, data: data, cancelHandler: cancelHandler, price: false, title: title });\n        }\n    };\n    FurniBagPanel.prototype.onSaveBtnHandler = function () {\n        if (this.mSelectedItemData.length > 0) {\n            var idsArr = [];\n            for (var _i = 0, _a = this.mSelectedItemData; _i < _a.length; _i++) {\n                var item = _a[_i];\n                idsArr.push(item.id);\n            }\n            this.emit(\"querySaveAvatar\", idsArr);\n            this.queryPackege();\n        }\n    };\n    FurniBagPanel.prototype.onResetBtnHandler = function () {\n        if (this.mSelectedItemData.length > 0)\n            this.emit(\"queryResetAvatar\");\n    };\n    FurniBagPanel.prototype.onSellPropsHandler = function (category, prop, count) {\n        this.mCategoryScroll.addListen();\n        this.emit(\"sellProps\", prop, count, category);\n    };\n    FurniBagPanel.prototype.onUsePropsHandler = function (prop, count) {\n        this.mCategoryScroll.addListen();\n        this.emit(\"useprops\", prop.id, count);\n    };\n    FurniBagPanel.prototype.showSeach = function (parent) {\n        this.mCategoryScroll.addItemAt(this.mSeachInput, 1);\n        this.mCategoryScroll.setInteractiveObject(this.mSeachInput.seachBtn);\n        this.mCategoryScroll.setInteractiveObject(this.mSeachInput.label);\n        this.updateCategeoriesLoc(true);\n    };\n    FurniBagPanel.prototype.closeSeach = function (parent) {\n        if (this.mSeachInput.parentContainer) {\n            this.mSeachInput.parentContainer.remove(this.mSeachInput);\n        }\n        this.mCategoryScroll.removeInteractiveObject(this.mSeachInput.seachBtn);\n        this.mCategoryScroll.removeInteractiveObject(this.mSeachInput.label);\n        this.updateCategeoriesLoc(false);\n    };\n    FurniBagPanel.prototype.updateCategeoriesLoc = function (inputBoo) {\n        var list = this.mCategoryScroll.getItemList();\n        var zoom = this.scale;\n        var h = 41 * this.dpr * zoom;\n        var preBtn = null;\n        var offset = 30 * this.dpr * zoom;\n        var w = this.mScene.cameras.main.width;\n        var tmpW = offset;\n        for (var i = 0; i < list.length; i++) {\n            var item = list[i];\n            if (i > 0) {\n                preBtn = list[i - 1];\n                item.x = preBtn.x + preBtn.width; // - item.width * item.originX;\n            }\n            else {\n                item.x = tmpW;\n            }\n            tmpW += item.width;\n        }\n        this.mCategoryScroll.setAlign();\n    };\n    Object.defineProperty(FurniBagPanel.prototype, \"enableEdit\", {\n        get: function () {\n            return this.mEnableEdit;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    FurniBagPanel.prototype.showPropFun = function (config) {\n        var uimanager = this.mWorld.uiManager;\n        uimanager.showMed(\"PicPropFun\", config);\n    };\n    return FurniBagPanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\nvar SeachInput = /** @class */ (function (_super) {\n    __extends(SeachInput, _super);\n    function SeachInput(scene, world, key, dpr) {\n        var _this = _super.call(this, scene) || this;\n        _this.mWorldService = world;\n        _this.bg = scene.make.image({\n            key: key,\n            frame: \"seach_bg\"\n        }, false).setOrigin(0.5, 0.5);\n        // this.mLabelInput = new LabelInput(this.scene, {\n        //   x: -10 * dpr,\n        //   y: 0,\n        //   width: 160,\n        //   height: 60,\n        //   fontSize: 14 * dpr + \"px\",\n        //   color: \"#666666\",\n        // });\n        _this.mLabelInput = _this.scene.make.text({\n            x: 0,\n            width: _this.bg.width,\n            height: _this.bg.height,\n            style: {\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_3__[\"Font\"].DEFULT_FONT,\n                fontSize: 14 * dpr,\n                wordWrap: { width: 200, useAdvancedWrap: true },\n            }\n        }, false).setData(\"type\", \"label\").setOrigin(0, 0.5);\n        _this.mLabelInput.setSize(_this.bg.width, _this.bg.height);\n        _this.mLabelInput.setInteractive();\n        _this.mSeachBtn = scene.make.image({\n            key: key,\n            frame: \"seach_normal\"\n        }, false).setData(\"type\", \"seachBtn\");\n        _this.mLabelInput.x = -_this.bg.width / 2 + 6 * dpr * world.uiScale;\n        _this.mSeachBtn.x = _this.bg.width / 2 - _this.mSeachBtn.width,\n            _this.add([_this.bg, _this.mLabelInput, _this.mSeachBtn]);\n        _this.disableInteractive();\n        _this.setSize(_this.bg.width, _this.bg.height);\n        return _this;\n    }\n    SeachInput.prototype.showInputPanel = function () {\n        if (this.mInputText) {\n            return;\n        }\n        this.mInputText = new _components_input_panel__WEBPACK_IMPORTED_MODULE_8__[\"InputPanel\"](this.scene, this.mWorldService, this.mLabelInput.text);\n        this.mInputText.once(\"close\", this.sendChat, this);\n    };\n    SeachInput.prototype.sendChat = function (val) {\n        this.mInputText.destroy();\n        this.mInputText = null;\n        this.mLabelInput.setText(val);\n        this.mLabelInput.setSize(this.bg.width, this.bg.height);\n    };\n    Object.defineProperty(SeachInput.prototype, \"seachBtn\", {\n        get: function () {\n            return this.mSeachBtn;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(SeachInput.prototype, \"label\", {\n        get: function () {\n            return this.mLabelInput;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(SeachInput.prototype, \"seachText\", {\n        get: function () {\n            return this.mLabelInput.text;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return SeachInput;\n}(Phaser.GameObjects.Container));\nvar DetailBubble = /** @class */ (function (_super) {\n    __extends(DetailBubble, _super);\n    function DetailBubble(scene, key, dpr, zoom) {\n        if (zoom === void 0) { zoom = 1; }\n        var _this = _super.call(this, scene) || this;\n        _this.dpr = dpr;\n        _this.mDetailBubble = _this.scene.make.graphics(undefined, false);\n        var bubbleW = 100 * dpr * zoom;\n        var bubbleH = 96 * dpr * zoom;\n        _this.mDetailBubble = _this.scene.make.graphics(undefined, false);\n        _this.mDetailBubble.fillStyle(0xFFFFFF, 0.1);\n        _this.mDetailBubble.fillRoundedRect(0, 0, bubbleW, bubbleH);\n        _this.mNickName = _this.scene.make.text({\n            x: 7 * _this.dpr,\n            y: 9 * _this.dpr,\n            text: \"\",\n            style: {\n                fontSize: 12 * _this.dpr * zoom,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_3__[\"Font\"].DEFULT_FONT,\n                color: \"#FFFF00\",\n                align: \"center\"\n            }\n        });\n        _this.mPriceText = _this.scene.make.text({\n            x: 7 * _this.dpr,\n            y: 28 * _this.dpr,\n            text: \"\",\n            style: {\n                fontSize: 10 * _this.dpr * zoom,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_3__[\"Font\"].DEFULT_FONT,\n                color: \"#DC143C\",\n                align: \"center\"\n            }\n        });\n        _this.mSource = _this.scene.make.text({\n            x: 8 * dpr,\n            y: 47 * dpr,\n            text: \"\",\n            style: {\n                fontSize: 10 * dpr * zoom,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_3__[\"Font\"].DEFULT_FONT,\n            }\n        }, false);\n        _this.mDesText = _this.scene.make.text({\n            x: 8 * dpr,\n            y: 66 * dpr,\n            style: {\n                color: \"#32347b\",\n                fontSize: 10 * dpr * zoom,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_3__[\"Font\"].DEFULT_FONT,\n                wordWrap: {\n                    width: 90 * dpr,\n                    useAdvancedWrap: true\n                }\n            }\n        }, false);\n        _this.add([_this.mDetailBubble, _this.mNickName, _this.mDesText, _this.mSource, _this.mPriceText]);\n        _this.setSize(bubbleW, bubbleH);\n        return _this;\n    }\n    DetailBubble.prototype.setProp = function (prop) {\n        if (!prop) {\n            this.mNickName.setText(\"\");\n            this.mPriceText.text = \"\";\n            this.mSource.text = \"\";\n            this.mDesText.text = \"\";\n            this.resize();\n        }\n        else {\n            this.mNickName.setText(prop.shortName || prop.name);\n            var posY = 9 * this.dpr;\n            var offsetY = 21 * this.dpr;\n            // this.mDesText.setText(prop.des);\n            if (prop.recyclable) {\n                posY += offsetY;\n                this.mPriceText.y = posY;\n                this.mPriceText.setText(\"\\u53EF\\u552E\\u51FA\\uFF1A\" + prop.sellingPrice.price + \" \\u94F6\\u5E01\");\n            }\n            else {\n                posY += offsetY;\n                this.mPriceText.y = posY;\n                this.mPriceText.setText(\"\\u4E0D\\u53EF\\u552E\\u51FA\");\n            }\n            // if (prop.tradable) {\n            //   this.mPriceText.setText(``);\n            // }\n            if (prop.source) {\n                this.mSource.setText(\"\\u6765\\u6E90\\uFF1A \" + prop.source);\n                posY += offsetY;\n                this.mSource.y = posY;\n            }\n            else {\n                this.mSource.setText(\"\");\n            }\n            var offset = 15 * this.dpr;\n            var width = this.getMaxWidth(offset);\n            if (prop.des) {\n                posY += offsetY;\n                this.mDesText.setWordWrapWidth(width - offset, true);\n                this.mDesText.setText(prop.des);\n                this.mDesText.y = posY;\n            }\n            else {\n                this.mDesText.setText(\"\");\n            }\n            this.resize(width);\n        }\n        return this;\n    };\n    DetailBubble.prototype.resize = function (w, h) {\n        if (w === undefined)\n            w = this.width;\n        var bubbleH = this.mDesText.height + 80 * this.dpr;\n        if (w === this.width && bubbleH === this.height) {\n            return;\n        }\n        this.mDetailBubble.clear();\n        this.mDetailBubble.fillStyle(0xFFFFFF, 0.1);\n        this.mDetailBubble.fillRoundedRect(0, 0, w, bubbleH);\n        this.setSize(w, bubbleH);\n        // this.mDetailBubbleContainer.y = this.height - this.y - this.mDetailBubbleContainer.height - 6 * this.dpr;\n    };\n    DetailBubble.prototype.getMaxWidth = function (offset) {\n        if (offset === void 0) { offset = 0; }\n        var width = 100 * this.dpr;\n        var maxWidth = 0;\n        if (maxWidth < this.mNickName.width)\n            maxWidth = this.mNickName.width;\n        if (maxWidth < this.mPriceText.width)\n            maxWidth = this.mPriceText.width;\n        if (maxWidth < this.mSource.width)\n            maxWidth = this.mSource.width;\n        if (width - maxWidth < offset)\n            maxWidth += offset + ((maxWidth - width) >= 0 ? 0 : (maxWidth - width));\n        if (maxWidth < width)\n            maxWidth = width;\n        return maxWidth;\n    };\n    return DetailBubble;\n}(Phaser.GameObjects.Container));\nvar Item = /** @class */ (function (_super) {\n    __extends(Item, _super);\n    function Item(scene, x, y, key, dpr, zoom) {\n        if (zoom === void 0) { zoom = 1; }\n        var _this = _super.call(this, scene, x, y) || this;\n        _this.dpr = dpr;\n        _this.zoom = zoom < 1 ? 1 : zoom;\n        var background = scene.make.image({\n            key: key,\n            frame: \"grid_bg\"\n        }, false).setOrigin(0).setScale(_this.zoom);\n        _this.setSize(background.displayWidth, background.displayHeight);\n        _this.selectbg = scene.make.image({\n            key: key,\n            frame: \"grid_choose\"\n        }, false).setOrigin(0).setScale(_this.zoom).setPosition(-2 * dpr * _this.zoom, -2 * dpr * _this.zoom);\n        _this.selectIcon = scene.make.image({\n            key: key,\n            frame: \"selected\"\n        }, false).setOrigin(1).setScale(_this.zoom).setPosition(_this.width, _this.height);\n        _this.mPropImage = new _components_dynamic_image__WEBPACK_IMPORTED_MODULE_5__[\"DynamicImage\"](_this.scene, 0, 0);\n        _this.mPropImage.scale = dpr * _this.zoom;\n        _this.mCounter = scene.make.text({\n            x: _this.width - 4 * dpr,\n            y: _this.height + 2 * dpr,\n            style: {\n                fontSize: 12 * dpr * _this.zoom,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_3__[\"Font\"].DEFULT_FONT\n            }\n        }, false).setOrigin(1);\n        _this.add([background, _this.selectbg, _this.selectIcon]);\n        _this.isSelect = false;\n        _this.isEquip = false;\n        return _this;\n        // this.setInteractive(new Phaser.Geom.Rectangle(0, 0, background.width, background.height), Phaser.Geom.Rectangle.Contains);\n        // this.on(\"pointerup\", this.onSelectedHandler, this);\n    }\n    Item.prototype.setProp = function (prop) {\n        this.mProp = prop;\n        this.isSelect = false;\n        if (!prop) {\n            // this.mPropImage.setFrame(\"\");\n            this.mCounter.setText(\"\");\n            this.remove(this.mPropImage);\n            return;\n        }\n        this.mPropImage.load(_utils_resUtil__WEBPACK_IMPORTED_MODULE_7__[\"Url\"].getOsdRes(prop.display.texturePath), this, this.onPropLoadCompleteHandler);\n        this.add(this.mPropImage);\n        if (prop.count > 1) {\n            this.mCounter.setText(prop.count.toString());\n            this.add(this.mCounter);\n        }\n        else {\n            if (this.mCounter.parentContainer)\n                this.remove(this.mCounter);\n        }\n    };\n    Item.prototype.onPropLoadCompleteHandler = function () {\n        if (this.mPropImage && this.mPropImage.texture) {\n            var texture = this.mPropImage.texture;\n            // this.mPropImage.setPosition((this.mPropImage.width) / 2, (this.mPropImage.height) / 2);\n            this.mPropImage.x = this.width + 3 * this.dpr * this.zoom >> 1;\n            this.mPropImage.y = this.height + 3 * this.dpr * this.zoom >> 1;\n            this.mPropImage.displayHeight = 45 * this.dpr;\n            this.mPropImage.scaleX = this.mPropImage.scaleY;\n            if (texture) {\n                texture.setFilter(Phaser.Textures.FilterMode.LINEAR);\n            }\n        }\n    };\n    Object.defineProperty(Item.prototype, \"isSelect\", {\n        set: function (value) {\n            this.selectbg.visible = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Item.prototype, \"isEquip\", {\n        set: function (value) {\n            this.selectIcon.visible = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Item.prototype.onSelectedHandler = function () {\n        this.emit(\"select\", this.mProp);\n    };\n    return Item;\n}(Phaser.GameObjects.Container));\nvar ItemsPopPanel = /** @class */ (function (_super) {\n    __extends(ItemsPopPanel, _super);\n    function ItemsPopPanel(scene, x, y, key, commonKey, dpr, zoom) {\n        if (zoom === void 0) { zoom = 1; }\n        var _this = _super.call(this, scene, x, y) || this;\n        _this.itemCount = 1;\n        _this.popState = 0; // 0  1 \n        var bg = new _components_nine_patch__WEBPACK_IMPORTED_MODULE_10__[\"NinePatch\"](_this.scene, 0, 0, 286 * dpr * zoom, 331 * dpr * zoom, commonKey, \"bg\", {\n            top: 40,\n            bottom: 40\n        });\n        _this.blackBg = _this.scene.make.graphics(undefined, false);\n        _this.blackBg.clear();\n        _this.blackBg.fillStyle(0, 0.5);\n        var w = _this.scene.cameras.main.width / _this.scale;\n        var h = _this.scene.cameras.main.height / _this.scale;\n        _this.blackBg.fillRect(-w / 2, -h / 2, w, h);\n        bg.setInteractive(new Phaser.Geom.Rectangle(0, 0, w, h), Phaser.Geom.Rectangle.Contains);\n        var posY = -bg.height * 0.5 + 3 * dpr * zoom;\n        var titlebg = _this.scene.make.image({ x: 0, y: posY, key: key, frame: \"title\" });\n        _this.titleName = scene.make.text({\n            x: 0,\n            y: posY + 3 * dpr * zoom,\n            text: \"\",\n            style: {\n                color: \"#905B06\",\n                fontSize: 15 * dpr * zoom,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_3__[\"Font\"].DEFULT_FONT\n            }\n        }, false).setOrigin(0.5);\n        _this.titleName.setFontStyle(\"bold\");\n        _this.itemName = scene.make.text({\n            x: 0,\n            y: posY + 40 * dpr * zoom,\n            style: {\n                color: \"#000000\",\n                fontSize: 15 * dpr * zoom,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_3__[\"Font\"].DEFULT_FONT\n            }\n        }, false).setOrigin(0.5);\n        var iconOffset = -56 * dpr * zoom;\n        var iconBg = _this.scene.make.image({ x: 0, y: iconOffset, key: key, frame: \"sell_bg\" });\n        _this.icon = new _components_dynamic_image__WEBPACK_IMPORTED_MODULE_5__[\"DynamicImage\"](_this.scene, 0, iconOffset);\n        _this.icon.scale = dpr * zoom;\n        var priceOffset = 10 * dpr * zoom;\n        _this.priceBg = _this.scene.make.image({ x: 0, y: priceOffset, key: commonKey, frame: \"price_bg\" });\n        _this.pricText = scene.make.text({\n            x: 0,\n            y: priceOffset,\n            style: {\n                color: \"#FFFFFF\",\n                fontSize: 15 * dpr * zoom,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_3__[\"Font\"].DEFULT_FONT\n            }\n        }, false).setOrigin(0.5);\n        // this.pricText.setInteractive(new Phaser.Geom.Rectangle(0, 0, this.priceBg.width, this.priceBg.height),Phaser.Geom.Rectangle.Contains);\n        var countOffsetY = 50 * dpr * zoom;\n        var countOffsetX = -58 * dpr * zoom;\n        var countBg = _this.scene.make.image({ x: 0, y: countOffsetY, key: commonKey, frame: \"input_bg\" });\n        _this.itemCountText = scene.make.text({\n            x: 0,\n            y: countOffsetY,\n            style: {\n                color: \"#0771AC\",\n                fontSize: 15 * dpr * zoom,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_3__[\"Font\"].DEFULT_FONT\n            }\n        }, false).setOrigin(0.5);\n        var minusBtn = new _lib_rexui_lib_ui_button_Button__WEBPACK_IMPORTED_MODULE_12__[\"Button\"](_this.scene, commonKey, \"reduce\", \"reduce\");\n        var addBtn = new _lib_rexui_lib_ui_button_Button__WEBPACK_IMPORTED_MODULE_12__[\"Button\"](_this.scene, commonKey, \"increase\", \"increase\");\n        minusBtn.x = countOffsetX;\n        minusBtn.y = countOffsetY;\n        addBtn.x = -countOffsetX;\n        addBtn.y = countOffsetY;\n        var bottomOffsetY = bg.height * 0.5 - 50 * dpr * zoom;\n        var bottomOffsetX = -66 * dpr * zoom;\n        var cancelBtn = new _lib_rexui_lib_ui_button_NineSliceButton__WEBPACK_IMPORTED_MODULE_16__[\"NineSliceButton\"](_this.scene, bottomOffsetX, bottomOffsetY, 112 * dpr * zoom, 40 * dpr * zoom, commonKey, \"red_btn\", _i18n__WEBPACK_IMPORTED_MODULE_1__[\"i18n\"].t(\"common.cancel\"), dpr, zoom, {\n            left: 12 * dpr * zoom,\n            top: 12 * dpr * zoom,\n            right: 12 * dpr * zoom,\n            bottom: 12 * dpr * zoom\n        });\n        var confirmBtn = new _lib_rexui_lib_ui_button_NineSliceButton__WEBPACK_IMPORTED_MODULE_16__[\"NineSliceButton\"](_this.scene, -bottomOffsetX, bottomOffsetY, 112 * dpr * zoom, 40 * dpr * zoom, commonKey, \"yellow_btn\", _i18n__WEBPACK_IMPORTED_MODULE_1__[\"i18n\"].t(\"common.confirm\"), dpr, zoom, {\n            left: 12 * dpr * zoom,\n            top: 12 * dpr * zoom,\n            right: 12 * dpr * zoom,\n            bottom: 12 * dpr * zoom\n        });\n        cancelBtn.setTextStyle({\n            color: \"#FFFFFF\",\n            fontSize: 16 * dpr * zoom,\n            fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_3__[\"Font\"].DEFULT_FONT\n        });\n        confirmBtn.setTextStyle({\n            color: \"#976400\",\n            fontSize: 16 * dpr * zoom,\n            fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_3__[\"Font\"].DEFULT_FONT\n        });\n        _this.add([_this.blackBg, bg, titlebg, _this.titleName, _this.itemName, iconBg, _this.icon, _this.priceBg, _this.pricText, countBg, _this.itemCountText, minusBtn, addBtn, cancelBtn, confirmBtn]);\n        minusBtn.on(\"Tap\", _this.onMinusBtnHandler, _this);\n        addBtn.on(\"Tap\", _this.onAddBtnHandler, _this);\n        cancelBtn.on(\"Tap\", _this.onCancelBtnHandler, _this);\n        confirmBtn.on(\"Tap\", _this.onConfirmBtnHandler, _this);\n        return _this;\n    }\n    ItemsPopPanel.prototype.setProp = function (prop, stated, category, handler) {\n        this.itemData = prop;\n        this.itemCount = 1;\n        this.icon.load(_utils_resUtil__WEBPACK_IMPORTED_MODULE_7__[\"Url\"].getOsdRes(prop.display.texturePath), this, this.onPropLoadCompleteHandler);\n        this.itemName.text = prop.name || prop.shortName;\n        this.pricText.text = prop.sellingPrice.price * this.itemCount + \"  \";\n        this.itemCountText.text = this.itemCount + \"\";\n        this.popState = stated;\n        if (stated === 0) {\n            this.titleName.text = _i18n__WEBPACK_IMPORTED_MODULE_1__[\"i18n\"].t(\"furni_bag.sold\");\n            this.pricText.visible = true;\n            this.priceBg.visible = true;\n        }\n        else {\n            this.titleName.text = _i18n__WEBPACK_IMPORTED_MODULE_1__[\"i18n\"].t(\"furni_bag.use\");\n            this.pricText.visible = false;\n            this.priceBg.visible = false;\n        }\n        this.handler = handler;\n        this.category = category;\n    };\n    ItemsPopPanel.prototype.onMinusBtnHandler = function () {\n        if (this.itemCount === 1)\n            return;\n        this.itemCount--;\n        this.updateData();\n    };\n    ItemsPopPanel.prototype.onAddBtnHandler = function () {\n        if (this.itemCount === this.itemData.count)\n            return;\n        this.itemCount++;\n        this.updateData();\n    };\n    ItemsPopPanel.prototype.updateData = function () {\n        this.itemCountText.text = this.itemCount + \"\";\n        this.pricText.text = this.itemData.sellingPrice.price * this.itemCount + \"  \";\n    };\n    ItemsPopPanel.prototype.onCancelBtnHandler = function () {\n        this.emit(\"itempopclose\");\n        if (this.parentContainer)\n            this.parentContainer.remove(this);\n    };\n    ItemsPopPanel.prototype.onConfirmBtnHandler = function () {\n        this.emit(\"itempopclose\");\n        if (this.parentContainer)\n            this.parentContainer.remove(this);\n        if (this.handler)\n            this.handler.runWith([this.itemData, this.itemCount, this.category]);\n    };\n    ItemsPopPanel.prototype.onPropLoadCompleteHandler = function () {\n        if (this.icon && this.icon.texture) {\n            var texture = this.icon.texture;\n            if (texture) {\n                texture.setFilter(Phaser.Textures.FilterMode.LINEAR);\n            }\n        }\n    };\n    return ItemsPopPanel;\n}(Phaser.GameObjects.Container));\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/FurniBag/FurniBagPanel.ts?");

/***/ }),

/***/ "./src/ui/InfoPanel/InfoPanel.ts":
/*!***************************************!*\
  !*** ./src/ui/InfoPanel/InfoPanel.ts ***!
  \***************************************/
/*! exports provided: InfoPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"InfoPanel\", function() { return InfoPanel; });\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _components_dynamic_image__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/dynamic.image */ \"./src/ui/components/dynamic.image.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_textarea_TextArea__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/textarea/TextArea */ \"./lib/rexui/lib/ui/textarea/TextArea.js\");\n/* harmony import */ var _lib_rexui_lib_plugins_gameobjects_text_bbcodetext_BBCodeText_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../lib/rexui/lib/plugins/gameobjects/text/bbcodetext/BBCodeText.js */ \"./lib/rexui/lib/plugins/gameobjects/text/bbcodetext/BBCodeText.js\");\n/* harmony import */ var _components_ninepatch_button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/ninepatch.button */ \"./src/ui/components/ninepatch.button.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _lib_rexui_lib_plugins_gameobjects_ninepatch_NinePatch__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../lib/rexui/lib/plugins/gameobjects/ninepatch/NinePatch */ \"./lib/rexui/lib/plugins/gameobjects/ninepatch/NinePatch.js\");\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\n/* harmony import */ var _InfoPanelMediator__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./InfoPanelMediator */ \"./src/ui/InfoPanel/InfoPanelMediator.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\n\nvar GetValue = Phaser.Utils.Objects.GetValue;\nvar InfoPanel = /** @class */ (function (_super) {\n    __extends(InfoPanel, _super);\n    function InfoPanel(scene, worldService) {\n        var _this = _super.call(this, scene, worldService) || this;\n        _this.mWorld = worldService;\n        return _this;\n    }\n    InfoPanel.prototype.addListen = function () {\n        if (!this.mInitialized)\n            return;\n        if (this.mCloseBtn)\n            this.mCloseBtn.on(\"pointerup\", this.closeHandler, this);\n    };\n    InfoPanel.prototype.removeListen = function () {\n        if (!this.mInitialized)\n            return;\n        if (this.mCloseBtn)\n            this.mCloseBtn.off(\"pointerup\", this.closeHandler, this);\n    };\n    InfoPanel.prototype.resize = function (wid, hei) {\n        if (!this.mInitialized)\n            return;\n        var size = this.mWorld.getSize();\n        var scale = this.mWorld.uiScale;\n        var zoom = this.mWorld.uiRatio;\n        this.x = size.width >> 1;\n        this.y = size.height >> 1;\n        this.mActor.x = -this.width / 2 + 80 * scale * zoom;\n        this.mActor.y = -this.height / 2 + 160 * scale * zoom;\n        this.mNameTextArea.setMinSize(220 * this.dpr * scale, 222 * this.dpr * scale);\n        this.mNameTextArea.setPosition(size.width / 2 + 60 * this.dpr * scale, size.height / 2 - 110 * this.dpr * scale);\n        this.mNameTextArea.layout();\n        var textMask = this.mNameTextArea.childrenMap.text;\n        textMask.x = -10 * this.dpr * scale;\n        textMask.y = -200 * this.dpr * scale;\n        this.mAttributesTextArea.setMinSize(360 * this.dpr * scale, 180 * this.dpr * scale);\n        this.mAttributesTextArea.setPosition(size.width / 2 + 3 * this.dpr * scale, size.height / 2 + 95 * this.dpr * scale);\n        this.mAttributesTextArea.layout();\n        var attributesMask = this.mAttributesTextArea.childrenMap.text;\n        attributesMask.x = -this.width / 2 + 30 * this.dpr * scale;\n        attributesMask.y = 5 * this.dpr * scale;\n    };\n    InfoPanel.prototype.show = function (param) {\n        if (this.mShow)\n            return;\n        _super.prototype.show.call(this, param);\n        if (this.mInitialized) {\n            var size = this.mWorld.getSize();\n            this.setData(\"data\", param);\n            this.setInfo(param);\n            this.resize(size.width, size.height);\n        }\n    };\n    InfoPanel.prototype.hide = function () {\n        _super.prototype.hide.call(this);\n    };\n    InfoPanel.prototype.setInfo = function (data) {\n        var _this = this;\n        if (!this.mInitialized || !data)\n            return;\n        if (data.actors) {\n            if (data.actors.length === 0) {\n                return;\n            }\n            var actor = data.actors[0];\n            this.mWorld.httpService.userDetail(actor.platformId).then(function (response) {\n                if (response.code === 200) {\n                    var resData = response.data;\n                    if (resData) {\n                        _this.mActor.load(_utils_resUtil__WEBPACK_IMPORTED_MODULE_5__[\"Url\"].getOsdRes(\"show/\" + resData.username + \".png\"), _this, undefined, _this.loadDefaultAvatar);\n                        // this.mNickName.setText(resData.nickname);\n                        // this.mLv.setText(resData.level);\n                    }\n                }\n            });\n        }\n        var text = data.text;\n        if (text[0]) {\n            this.mNameTextArea.setText(this.checkValue(text[0]));\n        }\n        if (text[1]) {\n            this.mAttributesTextArea.setText(this.checkValue(text[1]));\n        }\n    };\n    InfoPanel.prototype.destroy = function () {\n        if (this.mActor) {\n            this.mActor.destroy(true);\n            this.mActor = null;\n        }\n        if (this.mNameTextArea) {\n            this.mNameTextArea.destroy();\n            this.mNameTextArea = null;\n        }\n        if (this.mAttributesTextArea) {\n            this.mAttributesTextArea.destroy();\n            this.mAttributesTextArea = null;\n        }\n        this.mWorld = null;\n        _super.prototype.destroy.call(this);\n    };\n    InfoPanel.prototype.preload = function () {\n        this.scene.load.image(_utils_resUtil__WEBPACK_IMPORTED_MODULE_5__[\"Border\"].getName(), _utils_resUtil__WEBPACK_IMPORTED_MODULE_5__[\"Border\"].getPNG());\n        this.scene.load.image(_utils_resUtil__WEBPACK_IMPORTED_MODULE_5__[\"Background\"].getName(), _utils_resUtil__WEBPACK_IMPORTED_MODULE_5__[\"Background\"].getPNG());\n        this.scene.load.atlas(_utils_resUtil__WEBPACK_IMPORTED_MODULE_5__[\"BlueButton\"].getName(), _utils_resUtil__WEBPACK_IMPORTED_MODULE_5__[\"BlueButton\"].getPNG(), _utils_resUtil__WEBPACK_IMPORTED_MODULE_5__[\"BlueButton\"].getJSON());\n        _super.prototype.preload.call(this);\n    };\n    InfoPanel.prototype.init = function () {\n        var size = this.mWorld.getSize();\n        var scale = this.mWorld.uiScale;\n        this.setSize(400 * this.dpr * scale, 500 * this.dpr * scale);\n        var background = new _lib_rexui_lib_plugins_gameobjects_ninepatch_NinePatch__WEBPACK_IMPORTED_MODULE_6__[\"default\"](this.scene, {\n            width: this.width,\n            height: this.height,\n            key: _utils_resUtil__WEBPACK_IMPORTED_MODULE_5__[\"Background\"].getName(),\n            columns: _utils_resUtil__WEBPACK_IMPORTED_MODULE_5__[\"Background\"].getColumns(),\n            rows: _utils_resUtil__WEBPACK_IMPORTED_MODULE_5__[\"Background\"].getRows()\n        });\n        var border = new _lib_rexui_lib_plugins_gameobjects_ninepatch_NinePatch__WEBPACK_IMPORTED_MODULE_6__[\"default\"](this.scene, {\n            width: this.width - 20 * this.dpr * scale,\n            height: this.height - 20 * this.dpr * scale,\n            key: _utils_resUtil__WEBPACK_IMPORTED_MODULE_5__[\"Border\"].getName(),\n            columns: _utils_resUtil__WEBPACK_IMPORTED_MODULE_5__[\"Border\"].getColumns(),\n            rows: _utils_resUtil__WEBPACK_IMPORTED_MODULE_5__[\"Border\"].getRows()\n        });\n        this.mNameBBCodeText = new _lib_rexui_lib_plugins_gameobjects_text_bbcodetext_BBCodeText_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this.scene, 0, 0, \"\", {\n            fontSize: 14 * this.dpr * scale + \"px\",\n            fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_7__[\"Font\"].DEFULT_FONT,\n            textMask: false,\n            wrap: {\n                mode: \"char\",\n                width: 270 * this.dpr * scale\n            }\n        });\n        this.mNameTextArea = new _lib_rexui_lib_ui_textarea_TextArea__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this.scene, {\n            x: this.width / 2 - 80 * scale * this.dpr,\n            y: -75 * scale * this.dpr,\n            textWidth: 270 * this.dpr * scale,\n            textHeight: 180 * this.dpr * scale,\n            textMask: true,\n            // background: (<any>this.scene).rexUI.add.roundRectangle(0, 0, 2, 2, 0, 0xFF9900, .2),\n            text: this.mNameBBCodeText,\n        })\n            .layout();\n        this.mAttributesBBCodeText = new _lib_rexui_lib_plugins_gameobjects_text_bbcodetext_BBCodeText_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this.scene, 0, 0, \"\", {\n            fontSize: 14 * this.dpr * scale + \"px\",\n            fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_7__[\"Font\"].DEFULT_FONT,\n            textMask: false,\n            wrap: {\n                mode: \"char\",\n                width: this.width - 30 * this.dpr * scale\n            }\n        });\n        this.mAttributesTextArea = new _lib_rexui_lib_ui_textarea_TextArea__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this.scene, {\n            x: size.width / 2 + 3 * this.dpr * scale,\n            y: size.height / 2 + 95 * this.dpr * scale,\n            textMask: true,\n            textWidth: this.width - 60 * this.dpr * scale,\n            textHeight: 180 * this.dpr * scale,\n            // background: (<any>this.scene).rexUI.add.roundRectangle(0, 0, 2, 2, 0, 0xFF9900, .2),\n            text: this.mAttributesBBCodeText,\n        })\n            .layout();\n        this.mCloseBtn = new _components_ninepatch_button__WEBPACK_IMPORTED_MODULE_4__[\"NinePatchButton\"](this.scene, 258, 145, 80, 34, _utils_resUtil__WEBPACK_IMPORTED_MODULE_5__[\"BlueButton\"].getName(), \"\", \"\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_5__[\"BlueButton\"].getConfig());\n        this.mCloseBtn.x = 0;\n        this.mCloseBtn.y = this.height - 100 * this.mWorld.uiRatio * scale >> 1;\n        this.mCloseBtn.setTextStyle({ font: _utils_font__WEBPACK_IMPORTED_MODULE_7__[\"Font\"].YAHEI_16_BOLD });\n        this.mActor = new _components_dynamic_image__WEBPACK_IMPORTED_MODULE_1__[\"DynamicImage\"](this.scene, 300, 125).setOrigin(0.5, 1);\n        this.mActor.scale = 2;\n        this.mWorld.uiManager.getMediator(_InfoPanelMediator__WEBPACK_IMPORTED_MODULE_8__[\"InfoPanelMediator\"].NAME).resize();\n        this.add([background, border,\n            this.mNameBBCodeText, this.mAttributesBBCodeText, this.mCloseBtn, this.mActor]);\n        // this.mAttributesTextArea, this.mAttributesBBCodeText,this.mNameTextArea, this.mNameTextArea,\n        this.addListen();\n        _super.prototype.init.call(this);\n        this.setInfo(this.getData(\"data\"));\n    };\n    InfoPanel.prototype.closeHandler = function (pointer) {\n        if (this.checkPointerDis(pointer)) {\n            this.hide();\n        }\n    };\n    InfoPanel.prototype.checkPointerDis = function (pointer) {\n        if (!this.mWorld)\n            return true;\n        return Math.abs(pointer.downX - pointer.upX) < 10 * this.mWorld.uiRatio * this.mWorld.uiScale ||\n            Math.abs(pointer.downY - pointer.upY) < 10 * this.mWorld.uiRatio * this.mWorld.uiScale;\n    };\n    InfoPanel.prototype.loadDefaultAvatar = function () {\n        var url = _utils_resUtil__WEBPACK_IMPORTED_MODULE_5__[\"Url\"].getOsdRes(\"show/avatar_default.png\");\n        if (this.scene.textures.exists(url)) {\n            this.mActor.setTexture(url);\n            return;\n        }\n        this.mActor.load(url);\n    };\n    InfoPanel.prototype.checkValue = function (data) {\n        return GetValue(data, \"text\", \"\");\n    };\n    return InfoPanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/InfoPanel/InfoPanel.ts?");

/***/ }),

/***/ "./src/ui/InfoPanel/InfoPanelMediator.ts":
/*!***********************************************!*\
  !*** ./src/ui/InfoPanel/InfoPanelMediator.ts ***!
  \***********************************************/
/*! exports provided: InfoPanelMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"InfoPanelMediator\", function() { return InfoPanelMediator; });\n/* harmony import */ var _const_MessageType__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../const/MessageType */ \"./src/const/MessageType.ts\");\n/* harmony import */ var _InfoPanel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./InfoPanel */ \"./src/ui/InfoPanel/InfoPanel.ts\");\n/* harmony import */ var _utils_tool__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/tool */ \"./src/utils/tool.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar InfoPanelMediator = /** @class */ (function (_super) {\n    __extends(InfoPanelMediator, _super);\n    function InfoPanelMediator(mLayerManager, mScene, world) {\n        var _this = _super.call(this) || this;\n        _this.mLayerManager = mLayerManager;\n        _this.mScene = mScene;\n        _this.world = world;\n        return _this;\n    }\n    InfoPanelMediator.prototype.hide = function () {\n        this.mShow = false;\n        this.world.emitter.off(_const_MessageType__WEBPACK_IMPORTED_MODULE_0__[\"MessageType\"].SCENE_BACKGROUND_CLICK, this.onClosePanel, this);\n        if (this.mView) {\n            this.mView.hide();\n            this.mView = null;\n        }\n    };\n    InfoPanelMediator.prototype.isSceneUI = function () {\n        return false;\n    };\n    InfoPanelMediator.prototype.isShow = function () {\n        if (!this.mView)\n            return false;\n        return this.mView.isShow();\n    };\n    InfoPanelMediator.prototype.resize = function () {\n        if (this.mView)\n            this.mView.resize();\n    };\n    InfoPanelMediator.prototype.show = function (param) {\n        if (this.mView && this.mView.isShow()) {\n            return;\n        }\n        if (!param || param.length === 0) {\n            return;\n        }\n        this.mView = new _InfoPanel__WEBPACK_IMPORTED_MODULE_1__[\"InfoPanel\"](this.mScene, this.world);\n        this.mView.show(param[0]);\n        this.mLayerManager.addToUILayer(this.mView);\n        this.world.emitter.on(_const_MessageType__WEBPACK_IMPORTED_MODULE_0__[\"MessageType\"].SCENE_BACKGROUND_CLICK, this.onClosePanel, this);\n        _super.prototype.show.call(this, param);\n    };\n    InfoPanelMediator.prototype.destroy = function () {\n        if (this.mView)\n            this.mView.destroy();\n    };\n    InfoPanelMediator.prototype.update = function (param) {\n        if (this.mView)\n            this.mView.update(param);\n    };\n    InfoPanelMediator.prototype.onClosePanel = function (pointer) {\n        if (_utils_tool__WEBPACK_IMPORTED_MODULE_2__[\"Tool\"].checkPointerContains(this.mView, pointer))\n            return;\n        this.hide();\n    };\n    InfoPanelMediator.NAME = \"InfoPanelMediator\";\n    return InfoPanelMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_3__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/InfoPanel/InfoPanelMediator.ts?");

/***/ }),

/***/ "./src/ui/InteractivePanel/InteractivePanel.ts":
/*!*****************************************************!*\
  !*** ./src/ui/InteractivePanel/InteractivePanel.ts ***!
  \*****************************************************/
/*! exports provided: InteractivePanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"InteractivePanel\", function() { return InteractivePanel; });\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _components_nine_patch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/nine.patch */ \"./src/ui/components/nine.patch.ts\");\n/* harmony import */ var _components_radio__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/radio */ \"./src/ui/components/radio.ts\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _lib_rexui_lib_plugins_gameobjects_text_bbcodetext_BBCodeText_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../lib/rexui/lib/plugins/gameobjects/text/bbcodetext/BBCodeText.js */ \"./lib/rexui/lib/plugins/gameobjects/text/bbcodetext/BBCodeText.js\");\n/* harmony import */ var _InteractivePanelMediator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./InteractivePanelMediator */ \"./src/ui/InteractivePanel/InteractivePanelMediator.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_textarea_TextArea__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/textarea/TextArea */ \"./lib/rexui/lib/ui/textarea/TextArea.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\nvar InteractivePanel = /** @class */ (function (_super) {\n    __extends(InteractivePanel, _super);\n    function InteractivePanel(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.mRadioCom = false;\n        _this.mLeftBaseScaleX = 1;\n        _this.mLeftBaseScaleY = 1;\n        _this.mMidBaseScaleX = 1;\n        _this.mMidBaseScaleY = 1;\n        _this.mRightBaseScaleX = 1;\n        _this.mRightBaseScaleY = 1;\n        _this.mDisDelection = 10;\n        // this.setEnabled(false);\n        _this.setTween(false);\n        return _this;\n    }\n    /**\n     * ui\n     * @param param\n     * @param radioClick\n     */\n    InteractivePanel.prototype.show = function (param) {\n        var _this = this;\n        _super.prototype.show.call(this, param);\n        var size = this.mWorld.getSize();\n        this.mShowData = param;\n        if (!this.mInitialized) {\n            this.preload();\n            return;\n        }\n        this.mShow = true;\n        var med = this.mWorld.uiManager.getMediator(_InteractivePanelMediator__WEBPACK_IMPORTED_MODULE_6__[\"InteractivePanelMediator\"].NAME);\n        var data = this.mShowData[0];\n        if (this.mLeftFaceIcon)\n            this.mLeftFaceIcon.visible = false;\n        if (this.mRightFaceIcon)\n            this.mRightFaceIcon.visible = false;\n        if (this.mMidFaceIcon)\n            this.mMidFaceIcon.visible = false;\n        if (data.display && data.display.length > 0) {\n            var uiDisplay = data.display[0];\n            var url = _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getOsdRes(uiDisplay.texturePath);\n            if (this.scene.cache.obj.get(url)) {\n                this.onLoadComplete();\n            }\n            else {\n                this.scene.load.image(url, url);\n                this.scene.load.once(Phaser.Loader.Events.COMPLETE, this.onLoadComplete, this);\n                this.scene.load.once(Phaser.Loader.Events.FILE_LOAD_ERROR, this.onLoadError, this);\n                this.scene.load.start();\n            }\n        }\n        this.mDescTF.text = \"\";\n        this.mNameTF.text = \"\";\n        if (data.text) {\n            if (data.text.length > 0) {\n                var descData = data.text[0];\n                this.mDescCon.setData(\"nodeID\", descData.node.id);\n                this.mTextArea.setText(descData.text);\n                // this.mDescTF.text = descData.text;\n                this.mDescCon.off(\"pointerup\", this.descConClick, this);\n                this.mDescCon.on(\"pointerup\", this.descConClick, this);\n                if (data.text[1]) {\n                    var nameData = data.text[1];\n                    this.mNameCon.setData(\"nodeID\", nameData.node.id);\n                    this.mNameTF.text = nameData.text;\n                    this.mNameTF.x = -this.mNameTF.width >> 1;\n                    this.mNameCon.off(\"pointerup\", this.nameConClick, this);\n                    this.mNameCon.on(\"pointerup\", this.nameConClick, this);\n                }\n            }\n        }\n        if (this.mRadio)\n            this.mRadio.visible = false;\n        if (data.button && data.button.length > 0) {\n            var tmpHei = (data.button.length - 1) * 33 + 46;\n            if (!this.mRadio) {\n                this.mRadio = new _components_radio__WEBPACK_IMPORTED_MODULE_3__[\"Radio\"](this.mScene, {\n                    wid: 350,\n                    hei: tmpHei,\n                    resKey: \"juqing\",\n                    resPng: \"./resources/ui/juqing/juqing.png\",\n                    resJson: \"./resources/ui/juqing/juqing.json\",\n                    resBg: \"radio_bg.png\",\n                    resArrow: \"radio_arrow.png\",\n                    fontStyle: { size: 20, color: \"#ffcc00\", bold: false },\n                    completeBack: function () {\n                        _this.radioComplete();\n                    },\n                    clickCallBack: function (itemShowData) {\n                        if (!itemShowData || !med)\n                            return;\n                        med.componentClick(itemShowData.data);\n                    }\n                });\n                this.radioComplete();\n            }\n            this.setRadioData(data.button);\n            this.mRadio.visible = true;\n        }\n        this.resize();\n        if (this.mShow) {\n            return;\n        }\n    };\n    InteractivePanel.prototype.hide = function () {\n        _super.prototype.hide.call(this);\n    };\n    InteractivePanel.prototype.update = function (param) {\n        this.show(param);\n    };\n    InteractivePanel.prototype.getRadio = function () {\n        return this.mRadio;\n    };\n    InteractivePanel.prototype.setRadioData = function (data) {\n        this.mRadio.setRadioData(data);\n    };\n    InteractivePanel.prototype.resize = function (wid, hei) {\n        if (wid === void 0) { wid = 0; }\n        if (hei === void 0) { hei = 0; }\n        this.scale = this.mWorld.uiScale;\n        var size = this.mWorld.getSize();\n        var width = this.mWorld.getSize().width;\n        var height = this.mWorld.getSize().height;\n        var zoom = this.mWorld.uiScale;\n        this.mNameCon.add(this.mNameBg);\n        this.mNameCon.add(this.mNameTF);\n        this.mDescCon.add(this.mBg);\n        this.mDescCon.add(this.mBorder);\n        this.mDescCon.add(this.mDescTF);\n        this.mDescCon.add(this.mTextArea);\n        this.add(this.mNameCon);\n        this.add(this.mDescCon);\n        this.setSize(width, height);\n        if (this.mWorld.game.device.os.desktop) {\n            this.y = size.height / 2 - 250;\n        }\n        else {\n            if (this.mWorld.game.scale.orientation === Phaser.Scale.Orientation.LANDSCAPE) {\n                this.mBg.resize((size.width - 10) / this.mWorld.uiScale, size.height * .5 / this.mWorld.uiScale);\n                this.mBorder.resize((size.width - 20) / this.mWorld.uiScale, (size.height * .5 - 20) / this.mWorld.uiScale);\n            }\n            else {\n                this.mBg.resize((size.width - 10) / this.mWorld.uiScale, size.height * .5 / this.mWorld.uiScale);\n                this.mBorder.resize((size.width - 20) / this.mWorld.uiScale, (size.height * .5 - 20) / this.mWorld.uiScale);\n            }\n            this.y = this.mBg.height * 1.5 * this.mWorld.uiScale;\n        }\n        // this.y = 0;\n        this.x = size.width >> 1;\n        this.refreshUIPos();\n        if (this.mRadio) {\n            this.add(this.mRadio);\n        }\n        this.mTextArea.childrenMap.child.setMinSize(this.mBorder.width - 10 * this.dpr * zoom, this.mBorder.height - 3 * this.dpr * zoom);\n        this.mTextArea.layout();\n        this.mTextArea.setPosition(width / 2, this.y + this.mDescCon.y);\n        var textMask = this.mTextArea.childrenMap.text;\n        textMask.x = -this.mBorder.width >> 1;\n        textMask.y = -this.mBorder.height / 2 + 20 * this.dpr;\n        textMask.resize(this.mBorder.width, this.mDescTF.displayHeight + 2000);\n        // textMask.bottomChildOY = this.mDescTF.displayHeight + 20 * this.dpr * zoom;\n        this.mTextArea.scrollToBottom();\n        _super.prototype.resize.call(this, wid, hei);\n    };\n    // public addListen() {\n    // super.addListen();\n    // this.on(\"panelClick\", this.panelClick, this);\n    // }\n    // public removeListen() {\n    //     super.removeListen();\n    //     this.off(\"panelClick\", this.panelClick, this);\n    // }\n    InteractivePanel.prototype.destroy = function () {\n        this.mInitialized = false;\n        if (this.mNameCon) {\n            this.mNameCon.destroy(true);\n        }\n        if (this.mDescCon) {\n            this.mDescCon.destroy(true);\n        }\n        if (this.mLeftFaceIcon) {\n            this.mLeftFaceIcon.destroy(true);\n        }\n        if (this.mMidFaceIcon) {\n            this.mMidFaceIcon.destroy(true);\n        }\n        if (this.mRightFaceIcon) {\n            this.mRightFaceIcon.destroy(true);\n        }\n        if (this.mNameTF) {\n            this.mNameTF.destroy(true);\n        }\n        if (this.mDescTF) {\n            this.mDescTF.destroy(true);\n        }\n        if (this.mRadio) {\n            this.mRadio.destroy();\n        }\n        this.mNameCon = null;\n        this.mDescCon = null;\n        this.mLeftFaceIcon = null;\n        this.mMidFaceIcon = null;\n        this.mRightFaceIcon = null;\n        this.mNameTF = null;\n        this.mDescTF = null;\n        this.mRadio = null;\n        _super.prototype.destroy.call(this);\n    };\n    InteractivePanel.prototype.preload = function () {\n        if (!this.mScene) {\n            return;\n        }\n        this.scene.load.image(_utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Background\"].getName(), _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Background\"].getPNG());\n        this.scene.load.image(_utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Border\"].getName(), _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Border\"].getPNG());\n        this.mScene.load.atlas(\"juqing\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getRes(\"ui/juqing/juqing.png\"), _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getRes(\"ui/juqing/juqing.json\"));\n        _super.prototype.preload.call(this);\n    };\n    InteractivePanel.prototype.init = function () {\n        var width = this.mWorld.getSize().width;\n        var height = this.mWorld.getSize().height;\n        var zoom = this.mWorld.uiScale;\n        this.mWorld.uiManager.getUILayerManager().addToToolTipsLayer(this);\n        this.mNameCon = this.mScene.make.container(undefined, false);\n        this.mDescCon = this.mScene.make.container(undefined, false);\n        this.mBg = new _components_nine_patch__WEBPACK_IMPORTED_MODULE_2__[\"NinePatch\"](this.scene, 0, 0, 1080, 320, _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Background\"].getName(), null, _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Background\"].getConfig());\n        this.setSize(width, height);\n        this.mBorder = new _components_nine_patch__WEBPACK_IMPORTED_MODULE_2__[\"NinePatch\"](this.scene, 0, 0, 1040, 280, _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Border\"].getName(), null, _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Border\"].getConfig());\n        this.mLeftFaceIcon = this.mScene.make.image(undefined, false);\n        this.mMidFaceIcon = this.mScene.make.image(undefined, false);\n        this.mRightFaceIcon = this.mScene.make.image(undefined, false);\n        this.mNameTF = new _lib_rexui_lib_plugins_gameobjects_text_bbcodetext_BBCodeText_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"](this.mScene, 0, 0, \"\", {\n            fontSize: \"20px\",\n            wrap: {\n                mode: \"char\",\n                width: this.mBorder.width\n            },\n        });\n        this.mNameBg = this.mScene.make.image(undefined, false);\n        this.mNameBg.setTexture(\"juqing\", \"juqing_name.png\");\n        this.mDescTF = new _lib_rexui_lib_plugins_gameobjects_text_bbcodetext_BBCodeText_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"](this.mScene, 0, 0, \"\", {\n            // width: this.mBorder.width - 20 * this.dpr * zoom,\n            fontSize: \"20px\",\n            halign: \"left\",\n            textMask: false,\n            padding: {\n                top: 0,\n                bottom: 0,\n                left: 8 * this.dpr * zoom,\n                right: 3 * this.dpr * zoom,\n            },\n            wrap: {\n                mode: \"character\",\n                width: this.mBorder.width - 12 * this.dpr * zoom,\n            },\n        });\n        this.mTextArea = new _lib_rexui_lib_ui_textarea_TextArea__WEBPACK_IMPORTED_MODULE_7__[\"default\"](this.mScene, {\n            x: width / 2,\n            y: this.mBorder.y + this.mBorder.height / 2 + 80 * this.dpr * zoom,\n            width: this.mBorder.width,\n            height: this.mBorder.height - 20 * this.dpr * zoom,\n            // background: (<any>this.scene).rexUI.add.roundRectangle(0, 0, 2, 2, 0, 0xFF9900, .2),\n            textWidth: this.mBorder.width - 12 * this.dpr * zoom,\n            textHeight: 0,\n            text: this.mDescTF,\n        })\n            .layout();\n        // const bg1 = this.mScene.make.graphics(undefined, false);\n        // bg1.fillStyle(0xffcc00);\n        // bg1.fillRect(-this.mBg.width >> 1, -this.mBg.height >> 1, this.mBg.width, this.mBg.height);\n        // this.mDescCon.add(bg1);\n        this.mDescCon.setSize(this.mBg.width, this.mBg.height);\n        this.mNameCon.setSize(this.mNameBg.width, this.mNameBg.height);\n        this.mDescCon.setInteractive();\n        this.mNameCon.setInteractive();\n        _super.prototype.init.call(this);\n    };\n    InteractivePanel.prototype.tweenComplete = function (show) {\n        _super.prototype.tweenComplete.call(this, show);\n        if (show)\n            this.resize();\n    };\n    // private panelClick(pointer: Phaser.Input.Pointer) {\n    //     if (Tool.checkPointerContains(this.mNameCon, pointer)) {\n    //         this.nameConClick(pointer);\n    //         return;\n    //     }\n    //     if (Tool.checkPointerContains(this.mDescCon, pointer)) {\n    //         this.descConClick(pointer);\n    //         return;\n    //     }\n    //     if (this.mLeftFaceIcon && Tool.checkPointerContains(this.mLeftFaceIcon, pointer)) {\n    //         this.leftFaceClick(pointer);\n    //         return;\n    //     }\n    //     if (this.mMidFaceIcon && Tool.checkPointerContains(this.mMidFaceIcon, pointer)) {\n    //         this.midFaceClick(pointer);\n    //         return;\n    //     }\n    //     if (this.mRightFaceIcon && Tool.checkPointerContains(this.mRightFaceIcon, pointer)) {\n    //         this.rightFaceClick(pointer);\n    //         return;\n    //     }\n    // }\n    InteractivePanel.prototype.refreshUIPos = function () {\n        var size = this.mWorld.getSize();\n        var zoom = this.mWorld.uiScale;\n        this.mDescCon.setSize(this.mBg.width, this.mBg.height);\n        this.mNameCon.setSize(this.mNameBg.width, this.mNameBg.height);\n        this.mNameTF.y = -8 * this.mWorld.uiScale;\n        // this.mDescTF.x = -this.mBorder.width / 2;\n        // this.mDescTF.y = -this.mBorder.height / 2;\n        this.mDescCon.y = this.mWorld.game.device.os.desktop ? size.height / 2 + 80 : 0;\n        this.mNameCon.x = 150 - this.mDescCon.width / 2;\n        this.mNameCon.y = this.mDescCon.y - this.mDescCon.height / 2 - this.mNameCon.height / 2 - 10;\n        this.mNameTF.setWrapWidth(this.mBorder.width);\n        this.mDescTF.setWrapWidth(this.mBorder.width - 10 * this.dpr * zoom);\n        this.mNameTF.x = -this.mNameTF.width >> 1;\n        var desConWorldY = this.mDescCon.getWorldTransformMatrix().ty;\n        if (!this.mWorld.game.device.os.desktop) {\n            var leftIconWid = this.mLeftFaceIcon.width * this.mWorld.uiScale;\n            var leftIconHei = this.mLeftFaceIcon.height * this.mWorld.uiScale;\n            var leftScale = this.getScale(InteractivePanel.baseWidth, InteractivePanel.baseHeight, leftIconWid, leftIconHei);\n            this.mLeftFaceIcon.scaleX = this.mLeftBaseScaleX * leftScale * .7;\n            this.mLeftFaceIcon.scaleY = this.mLeftBaseScaleY * leftScale * .7;\n            this.mLeftFaceIcon.x = this.mNameCon.x;\n            this.mLeftFaceIcon.y = this.mNameTF.y - this.mLeftFaceIcon.height; // desConWorldY - this.mLeftFaceIcon.height / 2 - this.mDescCon.height / 2; // this.mNameCon.y + this.mNameCon.height / 2 + 10 - this.mLeftFaceIcon.height * leftScale * .7 / 2;\n            var midIconWid = this.mMidFaceIcon.width * this.mWorld.uiScale;\n            var midIconHei = this.mMidFaceIcon.height * this.mWorld.uiScale;\n            var midScale = this.getScale(InteractivePanel.baseWidth, InteractivePanel.baseHeight, midIconWid, midIconHei);\n            this.mMidFaceIcon.scaleX = this.mMidBaseScaleX * midScale * .7;\n            this.mMidFaceIcon.scaleY = this.mMidBaseScaleY * midScale * .7;\n            this.mMidFaceIcon.x = 0;\n            this.mMidFaceIcon.y = this.mNameTF.y - this.mMidFaceIcon.height;\n            // this.mMidFaceIcon.y = this.mNameCon.y + this.mNameCon.height / 2 + 10 - this.mMidFaceIcon.height * midScale * .7 / 2;\n            var rightIconWid = this.mRightFaceIcon.width * this.mWorld.uiScale;\n            var rightIconHei = this.mRightFaceIcon.height * this.mWorld.uiScale;\n            var rightScale = this.getScale(InteractivePanel.baseWidth, InteractivePanel.baseHeight, rightIconWid, rightIconHei);\n            this.mRightFaceIcon.scaleX = this.mRightBaseScaleX * rightScale * .7;\n            this.mRightFaceIcon.scaleY = this.mRightBaseScaleY * rightScale * .7;\n            this.mRightFaceIcon.x = -this.mNameCon.x;\n            this.mRightFaceIcon.y = this.mNameTF.y - this.mRightFaceIcon.height;\n            // this.mRightFaceIcon.y = this.mNameCon.y + this.mNameCon.height / 2 + 10 - this.mRightFaceIcon.height * rightScale * .7 / 2;\n        }\n        if (this.mRadioCom) {\n            if (this.mWorld.game.device.os.desktop) {\n                this.mRadio.x = this.mBg.x + this.mBg.width / 2 - this.mRadio.width;\n                this.mRadio.y = this.mDescCon.y + this.mDescCon.height / 2 - this.mRadio.height;\n            }\n            else {\n                this.mRadio.x = this.mBg.width / 2 - this.mRadio.width;\n                this.mRadio.y = this.mBg.height / 2 - this.mRadio.height;\n            }\n        }\n    };\n    InteractivePanel.prototype.getScale = function (baseWid, baseHei, curWid, curHei) {\n        return baseWid / curWid > baseHei / curHei ? baseWid / curWid : baseHei / curHei;\n    };\n    InteractivePanel.prototype.onLoadComplete = function () {\n        var size = this.mWorld.getSize();\n        var data = this.mShowData[0];\n        var uiDisplay = data.display[0];\n        var url = _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getOsdRes(uiDisplay.texturePath);\n        var imgX = -this.mBorder.width / 2;\n        var imgY = -this.mBorder.height / 2;\n        var scaleX = uiDisplay.scaleX;\n        var scaleY = uiDisplay.scaleY;\n        var scale = 1;\n        var med = this.mWorld.uiManager.getMediator(_InteractivePanelMediator__WEBPACK_IMPORTED_MODULE_6__[\"InteractivePanelMediator\"].NAME);\n        switch (uiDisplay.horizontal) {\n            case pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_def\"].HorizontalAlignment.HORIZONTAL_LEFT:\n                this.mLeftFaceIcon.setTexture(url);\n                this.mLeftFaceIcon.setData(\"nodeID\", uiDisplay.node.id);\n                this.mLeftBaseScaleX = scaleX;\n                this.mLeftBaseScaleY = scaleY;\n                scale = this.getScale(InteractivePanel.baseWidth, InteractivePanel.baseHeight, this.mLeftFaceIcon.width, this.mLeftFaceIcon.height);\n                this.mLeftFaceIcon.scaleX = scaleX * scale;\n                this.mLeftFaceIcon.scaleY = scaleY * scale;\n                this.mLeftFaceIcon.x = imgX + 200;\n                // this.mLeftFaceIcon.y = desConWorldY - this.mLeftFaceIcon.height / 2;\n                // this.mLeftFaceIcon.y = imgY + this.mLeftFaceIcon.height / 4;\n                this.mLeftFaceIcon.setInteractive();\n                this.addAt(this.mLeftFaceIcon, 0);\n                this.mLeftFaceIcon.visible = true;\n                this.mLeftFaceIcon.off(\"pointerup\", this.leftFaceClick, this);\n                this.mLeftFaceIcon.on(\"pointerup\", this.leftFaceClick, this);\n                break;\n            case pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_def\"].HorizontalAlignment.HORIZONTAL_CENTER:\n                this.mMidFaceIcon.setTexture(url);\n                this.mMidFaceIcon.setData(\"nodeID\", uiDisplay.node.id);\n                this.mMidBaseScaleX = scaleX;\n                this.mMidBaseScaleY = scaleY;\n                scale = this.getScale(InteractivePanel.baseWidth, InteractivePanel.baseHeight, this.mMidFaceIcon.width, this.mMidFaceIcon.height);\n                this.mMidFaceIcon.scaleX = scaleX * scale;\n                this.mMidFaceIcon.scaleY = scaleY * scale;\n                this.mMidFaceIcon.x = 0;\n                // this.mMidFaceIcon.y = desConWorldY - this.mMidFaceIcon.height / 2;\n                // this.mMidFaceIcon.y = imgY + this.mMidFaceIcon.height / 4;\n                this.addAt(this.mMidFaceIcon, 0);\n                this.mMidFaceIcon.visible = true;\n                this.mMidFaceIcon.setInteractive();\n                this.mLeftFaceIcon.off(\"pointerup\", this.midFaceClick, this);\n                this.mMidFaceIcon.on(\"pointerup\", this.midFaceClick, this);\n                break;\n            case pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_def\"].HorizontalAlignment.HORIZONTAL_RIGHT:\n                this.mRightFaceIcon.setTexture(url);\n                this.mRightFaceIcon.setData(\"nodeID\", uiDisplay.node.id);\n                this.mRightBaseScaleX = scaleX;\n                this.mRightBaseScaleY = scaleY;\n                scale = this.getScale(InteractivePanel.baseWidth, InteractivePanel.baseHeight, this.mRightFaceIcon.width, this.mRightFaceIcon.height);\n                this.mRightFaceIcon.scaleX = scaleX * scale;\n                this.mRightFaceIcon.scaleY = scaleY * scale;\n                this.mRightFaceIcon.x = 200;\n                // this.mRightFaceIcon.y = desConWorldY - this.mRightFaceIcon.height / 2;\n                // this.mRightFaceIcon.y = imgY + this.mRightFaceIcon.height / 4;\n                this.addAt(this.mRightFaceIcon, 0);\n                this.mRightFaceIcon.visible = true;\n                this.mRightFaceIcon.setInteractive();\n                this.mRightFaceIcon.off(\"pointerup\", this.rightFaceClick, this);\n                this.mRightFaceIcon.on(\"pointerup\", this.rightFaceClick, this);\n                break;\n        }\n        this.resize();\n    };\n    InteractivePanel.prototype.rightFaceClick = function (pointer) {\n        if (!this.checkPointer(pointer))\n            return;\n        var med = this.mWorld.uiManager.getMediator(_InteractivePanelMediator__WEBPACK_IMPORTED_MODULE_6__[\"InteractivePanelMediator\"].NAME);\n        if (!med)\n            return;\n        med.componentClick(this.mRightFaceIcon.getData(\"nodeID\"));\n    };\n    InteractivePanel.prototype.midFaceClick = function (pointer) {\n        if (!this.checkPointer(pointer))\n            return;\n        var med = this.mWorld.uiManager.getMediator(_InteractivePanelMediator__WEBPACK_IMPORTED_MODULE_6__[\"InteractivePanelMediator\"].NAME);\n        if (!med)\n            return;\n        med.componentClick(this.mMidFaceIcon.getData(\"nodeID\"));\n    };\n    InteractivePanel.prototype.leftFaceClick = function (pointer) {\n        if (!this.checkPointer(pointer))\n            return;\n        var med = this.mWorld.uiManager.getMediator(_InteractivePanelMediator__WEBPACK_IMPORTED_MODULE_6__[\"InteractivePanelMediator\"].NAME);\n        if (!med)\n            return;\n        med.componentClick(this.mLeftFaceIcon.getData(\"nodeID\"));\n    };\n    InteractivePanel.prototype.descConClick = function (pointer) {\n        if (!this.checkPointer(pointer))\n            return;\n        var med = this.mWorld.uiManager.getMediator(_InteractivePanelMediator__WEBPACK_IMPORTED_MODULE_6__[\"InteractivePanelMediator\"].NAME);\n        if (!this.mDescCon.getData(\"nodeID\") || !med)\n            return;\n        med.componentClick(this.mDescCon.getData(\"nodeID\"));\n    };\n    InteractivePanel.prototype.nameConClick = function (pointer) {\n        if (!this.checkPointer(pointer))\n            return;\n        var med = this.mWorld.uiManager.getMediator(_InteractivePanelMediator__WEBPACK_IMPORTED_MODULE_6__[\"InteractivePanelMediator\"].NAME);\n        if (!this.mNameCon.getData(\"nodeID\") || !med)\n            return;\n        med.componentClick(this.mNameCon.getData(\"nodeID\"));\n    };\n    InteractivePanel.prototype.checkPointer = function (pointer) {\n        return Math.abs(pointer.downX - pointer.upX) < this.mDisDelection &&\n            Math.abs(pointer.downY - pointer.upY) < this.mDisDelection;\n    };\n    InteractivePanel.prototype.onLoadError = function (file) {\n    };\n    InteractivePanel.prototype.radioComplete = function () {\n        this.mRadioCom = true;\n        if (!this.mRadio)\n            return;\n        this.mRadio.x = 220;\n        this.mRadio.y = this.mDescCon.height + 200;\n        this.resize();\n    };\n    InteractivePanel.baseWidth = 720;\n    InteractivePanel.baseHeight = 720;\n    return InteractivePanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/InteractivePanel/InteractivePanel.ts?");

/***/ }),

/***/ "./src/ui/InteractivePanel/InteractivePanelMediator.ts":
/*!*************************************************************!*\
  !*** ./src/ui/InteractivePanel/InteractivePanelMediator.ts ***!
  \*************************************************************/
/*! exports provided: InteractivePanelMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"InteractivePanelMediator\", function() { return InteractivePanelMediator; });\n/* harmony import */ var _InteractivePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./InteractivePanel */ \"./src/ui/InteractivePanel/InteractivePanel.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/interface/baseUI/UIType */ \"./lib/rexui/lib/ui/interface/baseUI/UIType.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar InteractivePanelMediator = /** @class */ (function (_super) {\n    __extends(InteractivePanelMediator, _super);\n    function InteractivePanelMediator(layerManager, scene, world) {\n        var _this = _super.call(this) || this;\n        _this.mUIType = _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_2__[\"UIType\"].Monopoly;\n        _this.mScene = scene;\n        _this.world = world;\n        return _this;\n    }\n    InteractivePanelMediator.prototype.isShow = function () {\n        if (!this.mView)\n            return false;\n        return this.mView.isShow();\n    };\n    InteractivePanelMediator.prototype.isSceneUI = function () {\n        return false;\n    };\n    InteractivePanelMediator.prototype.resize = function () {\n        if (this.mView && this.mView.isShow)\n            return this.mView.resize();\n    };\n    InteractivePanelMediator.prototype.getView = function () {\n        return this.mView;\n    };\n    InteractivePanelMediator.prototype.show = function (param) {\n        if (this.mView && this.isShow()) {\n            return;\n        }\n        this.mView = new _InteractivePanel__WEBPACK_IMPORTED_MODULE_0__[\"InteractivePanel\"](this.mScene, this.world);\n        this.mView.show(param);\n        _super.prototype.show.call(this, param);\n    };\n    InteractivePanelMediator.prototype.update = function (param) {\n        if (!this.mView || !this.mView.isShow) {\n            return;\n        }\n        _super.prototype.update.call(this, param);\n    };\n    InteractivePanelMediator.prototype.hide = function () {\n        this.mShow = false;\n        if (this.mView) {\n            this.mView.hide();\n            this.mView = null;\n        }\n    };\n    InteractivePanelMediator.prototype.destroy = function () {\n        this.world = null;\n        this.mScene = null;\n        this.mParam = null;\n        _super.prototype.destroy.call(this);\n    };\n    InteractivePanelMediator.prototype.componentClick = function (componentID) {\n        if (this.mParam) {\n            this.world.roomManager.currentRoom.playerManager.actor.getInteractive().requestTargetUI(this.mParam[0].id, componentID);\n        }\n    };\n    InteractivePanelMediator.NAME = \"InteractivePanelMediator\";\n    return InteractivePanelMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_1__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/InteractivePanel/InteractivePanelMediator.ts?");

/***/ }),

/***/ "./src/ui/ItemDetail/ItemDetail.ts":
/*!*****************************************!*\
  !*** ./src/ui/ItemDetail/ItemDetail.ts ***!
  \*****************************************/
/*! exports provided: ItemDetail */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ItemDetail\", function() { return ItemDetail; });\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _bag_dragDropIcon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../bag/dragDropIcon */ \"./src/ui/bag/dragDropIcon.ts\");\n/* harmony import */ var _components_ninepatch_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/ninepatch.button */ \"./src/ui/components/ninepatch.button.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar ItemDetail = /** @class */ (function (_super) {\n    __extends(ItemDetail, _super);\n    function ItemDetail(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.mBtnWid = 100;\n        _this.mBtnHei = 40;\n        _this.mWid = 0;\n        _this.mHei = 0;\n        return _this;\n    }\n    ItemDetail.prototype.getBtnList = function () {\n        return this.mBtnList;\n    };\n    ItemDetail.prototype.resize = function (wid, hei) {\n        if (wid === void 0) { wid = 0; }\n        if (hei === void 0) { hei = 0; }\n        var size = this.mWorld.getSize();\n        if (this.mWorld.game.device.os.desktop) {\n            this.x = size.width - (this.width + this.mBtnWid) / 2 * this.mWorld.uiScale >> 1;\n            this.y = size.height - this.height * this.mWorld.uiScale >> 1;\n        }\n        else {\n            this.x = size.width - (this.width + this.mBtnWid) / 2 * this.mWorld.uiScale >> 1;\n            this.y = size.height - this.height * this.mWorld.uiScale >> 1;\n        }\n        this.scale = this.mWorld.uiScale;\n    };\n    ItemDetail.prototype.show = function (param) {\n        this.mShowData = param;\n        if (!this.mInitialized) {\n            this.preload();\n            return;\n        }\n        this.mShow = true;\n        var data = this.mShowData[0];\n        if (data.display.length > 0) {\n            this.loadIcon(data.display[0]);\n        }\n        if (data.text.length > 0) {\n            this.setText(data.text[0].text);\n        }\n        if (data.button.length > 0) {\n            this.mBtnList = [];\n            var btn = void 0;\n            var len = data.button.length;\n            var preY = 20;\n            var preX = this.mWid + 50;\n            for (var i = 0; i < len; i++) {\n                var btnData = data.button[i];\n                btn = new _components_ninepatch_button__WEBPACK_IMPORTED_MODULE_3__[\"NinePatchButton\"](this.mScene, 0, 0, this.mBtnWid, this.mBtnHei, _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"BlueButton\"].getName(), _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"BlueButton\"].getName(), btnData.text, _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"BlueButton\"].getConfig(), btnData);\n                this.mBtnList.push(btn);\n                btn.x = preX;\n                btn.y = preY;\n                preY += btn.height + 40;\n                this.add(btn);\n            }\n        }\n        var bg = this.mScene.add.graphics();\n        bg.fillStyle(0, .6);\n        bg.fillRoundedRect(0, 0, this.mWid, this.mHei, 6);\n        this.addAt(bg, 0);\n        this.setSize(this.mWid + 120, this.mHei);\n        this.resize();\n        this.setInteractive();\n    };\n    ItemDetail.prototype.setText = function (value) {\n        this.mDescTF.setText(value);\n        this.mHei += this.mDescTF.y + this.mDescTF.height + 10;\n    };\n    ItemDetail.prototype.loadIcon = function (value) {\n        var _this = this;\n        if (this.mIcon) {\n            this.mIcon.load(_utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getOsdRes(value), function () {\n                _this.mHei += _this.mIcon.y + _this.mIcon.height;\n                // if (this.mCallBack) this.mCallBack();\n            });\n        }\n    };\n    ItemDetail.prototype.hide = function () {\n        this.disInteractive();\n        _super.prototype.hide.call(this);\n    };\n    ItemDetail.prototype.destroy = function () {\n        if (this.mBtnList) {\n            this.mBtnList.forEach(function (btn) {\n                btn.destroy(true);\n                btn = null;\n            });\n            this.mBtnList = null;\n        }\n        this.mResStr = \"\";\n        this.mResPng = \"\";\n        this.mResJson = \"\";\n        if (this.mNameTF)\n            this.mNameTF.destroy(true);\n        if (this.mDescTF)\n            this.mDescTF.destroy(true);\n        if (this.mIcon)\n            this.mIcon.destroy();\n        this.mNameTF = null;\n        this.mDescTF = null;\n        this.mIcon = null;\n        this.mWid = 0;\n        this.mHei = 0;\n        _super.prototype.destroy.call(this);\n    };\n    ItemDetail.prototype.preload = function () {\n        this.mResStr = \"itemDetail\";\n        this.mResPng = \"ui/bag/bagView.png\";\n        this.mResJson = \"ui/bag/bagView.json\";\n        if (!this.mScene) {\n            return;\n        }\n        this.mScene.load.atlas(_utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"BlueButton\"].getName(), _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"BlueButton\"].getPNG(), _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"BlueButton\"].getJSON());\n        this.mScene.load.atlas(\"itemDetail\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getRes(\"ui/bag/bagView.png\"), _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getRes(\"ui/bag/bagView.json\"));\n        _super.prototype.preload.call(this);\n    };\n    ItemDetail.prototype.init = function () {\n        var size = this.mWorld.getSize();\n        this.mWid = 290;\n        this.mHei = 0;\n        this.mIcon = new _bag_dragDropIcon__WEBPACK_IMPORTED_MODULE_2__[\"DragDropIcon\"](this.mScene, 30, 25);\n        this.add(this.mIcon);\n        this.mNameTF = this.scene.make.text({\n            style: {\n                fontFamily: \"YaHei\",\n                fontSize: 20,\n                origin: { x: 0, y: 0 },\n                wordWrap: { width: 250, useAdvancedWrap: true }\n            }\n        }, false);\n        this.mNameTF.setFontStyle(\"bold\");\n        this.mNameTF.setAlign(\"left\");\n        this.mNameTF.x = this.mIcon.x + this.mIcon.width;\n        this.mNameTF.y = this.mIcon.y;\n        this.add(this.mNameTF);\n        this.mDescTF = this.scene.make.text({\n            style: {\n                fontFamily: \"YaHei\",\n                fontSize: 25,\n                origin: { x: 0, y: 0 },\n                wordWrap: { width: 250, useAdvancedWrap: true }\n            }\n        }, false);\n        this.mDescTF.setFontStyle(\"bold\");\n        this.mDescTF.setAlign(\"left\");\n        this.mDescTF.x = this.mIcon.x - this.mIcon.width / 2;\n        this.mDescTF.y = this.mIcon.y + this.mIcon.height + 20;\n        this.add(this.mDescTF);\n        this.mInitialized = true;\n        this.show(this.mShowData);\n    };\n    return ItemDetail;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/ItemDetail/ItemDetail.ts?");

/***/ }),

/***/ "./src/ui/ItemDetail/ItemDetailMediator.ts":
/*!*************************************************!*\
  !*** ./src/ui/ItemDetail/ItemDetailMediator.ts ***!
  \*************************************************/
/*! exports provided: ItemDetailMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ItemDetailMediator\", function() { return ItemDetailMediator; });\n/* harmony import */ var _ItemDetail__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ItemDetail */ \"./src/ui/ItemDetail/ItemDetail.ts\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _components_ninepatch_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/ninepatch.button */ \"./src/ui/components/ninepatch.button.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/interface/baseUI/UIType */ \"./lib/rexui/lib/ui/interface/baseUI/UIType.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\nvar ItemDetailMediator = /** @class */ (function (_super) {\n    __extends(ItemDetailMediator, _super);\n    function ItemDetailMediator(layerManager, scene, world) {\n        var _this = _super.call(this) || this;\n        _this.world = world;\n        _this.mScene = scene;\n        _this.mUIType = _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_5__[\"UIType\"].Tips;\n        _this.mLayerManager = layerManager;\n        return _this;\n    }\n    ItemDetailMediator.prototype.isSceneUI = function () {\n        return false;\n    };\n    ItemDetailMediator.prototype.isShow = function () {\n        return this.mView ? this.mView.isShow() : false;\n    };\n    ItemDetailMediator.prototype.show = function (param) {\n        if (this.mView && this.isShow()) {\n            return;\n        }\n        this.mView = new _ItemDetail__WEBPACK_IMPORTED_MODULE_0__[\"ItemDetail\"](this.mScene, this.world);\n        this.mView.show(param);\n        this.mLayerManager.addToToolTipsLayer(this.mView);\n        this.mScene.input.on(\"gameobjectdown\", this.onBtnHandler, this);\n        this.mShow = true;\n    };\n    ItemDetailMediator.prototype.update = function (param) {\n        _super.prototype.update.call(this, param);\n    };\n    ItemDetailMediator.prototype.hide = function () {\n        if (!this.mView)\n            return;\n        this.mScene.input.off(\"gameobjectdown\", this.onBtnHandler, this);\n        this.mView.hide();\n        this.mView = null;\n        _super.prototype.hide.call(this);\n    };\n    ItemDetailMediator.prototype.destroy = function () {\n        this.mScene.input.off(\"gameobjectdown\", this.onBtnHandler, this);\n        _super.prototype.destroy.call(this);\n    };\n    ItemDetailMediator.prototype.onBtnHandler = function (pointer, gameobject) {\n        if (!gameobject)\n            return;\n        if (gameobject instanceof _components_ninepatch_button__WEBPACK_IMPORTED_MODULE_3__[\"NinePatchButton\"]) {\n            var param = this.mParam[0];\n            var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_2__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_TARGET_UI);\n            var content = pkt.content;\n            content.uiId = param.id;\n            content.componentId = gameobject.getBtnData().node.id;\n            this.world.connection.send(pkt);\n        }\n    };\n    return ItemDetailMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_4__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/ItemDetail/ItemDetailMediator.ts?");

/***/ }),

/***/ "./src/ui/ItemPopCard/ItemPopCardMediator.ts":
/*!***************************************************!*\
  !*** ./src/ui/ItemPopCard/ItemPopCardMediator.ts ***!
  \***************************************************/
/*! exports provided: ItemPopCardMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ItemPopCardMediator\", function() { return ItemPopCardMediator; });\n/* harmony import */ var _ItemPopCardPanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ItemPopCardPanel */ \"./src/ui/ItemPopCard/ItemPopCardPanel.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar ItemPopCardMediator = /** @class */ (function (_super) {\n    __extends(ItemPopCardMediator, _super);\n    function ItemPopCardMediator($layerManager, $scene, worldService) {\n        var _this = _super.call(this) || this;\n        _this.scene = $scene;\n        _this.world = worldService;\n        _this.layerManager = $layerManager;\n        return _this;\n    }\n    ItemPopCardMediator.prototype.show = function (param) {\n        if (this.mView && this.mView.isShow() || this.mShow) {\n            return;\n        }\n        this.mView = new _ItemPopCardPanel__WEBPACK_IMPORTED_MODULE_0__[\"ItemPopCardPanel\"](this.scene, this.world);\n        this.mView.show(param);\n        this.mView.on(\"close\", this.onCloseHandler, this);\n        this.layerManager.addToDialogLayer(this.mView);\n    };\n    ItemPopCardMediator.prototype.onCloseHandler = function () {\n        if (!this.mView)\n            return;\n        this.mView.hide();\n        this.mView = undefined;\n    };\n    return ItemPopCardMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_1__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/ItemPopCard/ItemPopCardMediator.ts?");

/***/ }),

/***/ "./src/ui/ItemPopCard/ItemPopCardPanel.ts":
/*!************************************************!*\
  !*** ./src/ui/ItemPopCard/ItemPopCardPanel.ts ***!
  \************************************************/
/*! exports provided: ItemPopCardPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ItemPopCardPanel\", function() { return ItemPopCardPanel; });\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../i18n */ \"./src/i18n.ts\");\n/* harmony import */ var copy_text_to_clipboard__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! copy-text-to-clipboard */ \"./node_modules/copy-text-to-clipboard/index.js\");\n/* harmony import */ var copy_text_to_clipboard__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(copy_text_to_clipboard__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Market_DetailDisplay__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Market/DetailDisplay */ \"./src/ui/Market/DetailDisplay.ts\");\n/* harmony import */ var _const_MessageType__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../const/MessageType */ \"./src/const/MessageType.ts\");\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\nvar ItemPopCardPanel = /** @class */ (function (_super) {\n    __extends(ItemPopCardPanel, _super);\n    function ItemPopCardPanel(scene, worldService) {\n        var _this = _super.call(this, scene, worldService) || this;\n        _this.key = \"item_pop_card\";\n        _this.mPressDelay = 1000;\n        _this.setTween(false);\n        return _this;\n    }\n    ItemPopCardPanel.prototype.addListen = function () {\n        if (!this.mInitialized)\n            return;\n        this.mDetailDisplay.on(\"show\", this.onShowHandler, this);\n        this.on(\"pointerup\", this.onCloseHandler, this);\n        this.mCloseBtn.on(\"pointerup\", this.onCloseHandler, this);\n        this.mNickName.on(\"pointerup\", this.onPointerNickNameHandler, this);\n        this.mNickName.on(\"pointerdown\", this.onPointerNickNameDownHandler, this);\n        this.mDesText.on(\"pointerdown\", this.onPointerDesDownHandler, this);\n        this.mDesText.on(\"pointerup\", this.onPointerNickNameHandler, this);\n    };\n    ItemPopCardPanel.prototype.removeListen = function () {\n        if (!this.mInitialized)\n            return;\n        this.mDetailDisplay.off(\"show\", this.onShowHandler, this);\n        this.off(\"pointerup\", this.onCloseHandler, this);\n        this.mCloseBtn.off(\"pointerup\", this.onCloseHandler, this);\n        this.mNickName.off(\"pointerup\", this.onPointerNickNameHandler, this);\n        this.mNickName.off(\"pointerdown\", this.onPointerNickNameDownHandler, this);\n        this.mDesText.off(\"pointerdown\", this.onPointerDesDownHandler, this);\n        this.mDesText.off(\"pointerup\", this.onPointerNickNameHandler, this);\n    };\n    ItemPopCardPanel.prototype.resize = function (w, h) {\n        // const scale = this.scene.cameras.main.height / 1920;\n        var zoom = this.mWorld.uiScale;\n        var width = this.scene.cameras.main.width / zoom;\n        var height = this.scene.cameras.main.height / zoom;\n        var centerX = this.scene.cameras.main.centerX / zoom;\n        var centerY = this.scene.cameras.main.centerY / zoom;\n        // this.setScale(scale);\n        this.setSize(width, height);\n        // this.mCardContainer.setScale(scale);\n        this.mCardContainer.x = centerX; // - this.mCardContainer.width / 2;\n        this.mCardContainer.y = centerY; // - this.mCardContainer.height / 2;\n        this.mCloseBtn.x = centerX;\n        this.mCloseBtn.y = centerY + this.mCardContainer.height / 2 + 48 * this.dpr;\n        // this.setInteractive(new Phaser.Geom.Rectangle(0, 0, width, height), Phaser.Geom.Rectangle.Contains);\n        // this.mDetailDisplay.scale = 1 / scale;\n        // this.mCloseBtn.x = centerX;\n        // this.mCloseBtn.y = centerY;\n        // const graphics = this.scene.make.graphics(undefined, false);\n        // graphics.fillStyle(0xFF9900, 0.7);\n        // graphics.fillRect(0, 0, centerX, centerY);\n        // this.add(graphics);\n        // this.setSize(width, height);\n        _super.prototype.resize.call(this, w, h);\n    };\n    ItemPopCardPanel.prototype.setProp = function () {\n        if (!this.mShowData) {\n            return;\n        }\n        var prop = this.mShowData[0].prop;\n        if (!prop) {\n            return;\n        }\n        this.mDesText.setText(prop.des);\n        this.mNickName.setText(prop.name);\n        if (prop.source) {\n            this.mSource.setText(_i18n__WEBPACK_IMPORTED_MODULE_1__[\"i18n\"].t(\"item.source\") + prop.source);\n        }\n        else {\n            this.mSource.setText(\"\");\n        }\n        var resource = this.mShowData[0].display;\n        if (resource) {\n            if (resource.display) {\n                this.mDetailDisplay.loadDisplay(resource);\n            }\n            else if (resource.avatar) {\n                this.mDetailDisplay.loadAvatar(resource.avatar);\n            }\n            else {\n                this.mDetailDisplay.loadUrl(prop.icon);\n            }\n        }\n    };\n    ItemPopCardPanel.prototype.preload = function () {\n        this.addAtlas(this.key, \"item_pop_card/item_pop_card.png\", \"item_pop_card/item_pop_card.json\");\n        // this.scene.load.atlas(this.key, Url.getRes(\"ui/item_pop_card/item_pop_card.png\"), Url.getRes(\"ui/item_pop_card/item_pop_card.json\"));\n        _super.prototype.preload.call(this);\n    };\n    ItemPopCardPanel.prototype.init = function () {\n        this.mCardContainer = this.scene.make.container({\n            width: 325 * this.dpr,\n            height: 468 * this.dpr\n        }, false);\n        this.mCardContainer.setSize(325 * this.dpr, 468 * this.dpr);\n        this.mCardContainer.setInteractive();\n        this.mBorder = this.scene.make.graphics(undefined, false);\n        this.mBorder.fillGradientStyle(0x6f75ff, 0x6f75ff, 0x01cdff, 0x01cdff);\n        this.mBorder.fillRect(-this.mCardContainer.width / 2, -this.mCardContainer.height / 2, this.mCardContainer.width, this.mCardContainer.height);\n        // this.mBorder.setInteractive();\n        var background = this.scene.make.image({\n            key: this.key,\n            frame: \"bg.png\"\n        }, false);\n        background.y = 23 * this.dpr - background.height / 2;\n        var nickNameBg = this.scene.make.image({\n            y: 42 * this.dpr,\n            key: this.key,\n            frame: \"name_bg.png\"\n        });\n        this.mNickName = this.scene.make.text({\n            y: 42 * this.dpr,\n            style: {\n                fontSize: 18 * this.dpr,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_5__[\"Font\"].DEFULT_FONT\n            }\n        }, false).setOrigin(0.5).setInteractive();\n        var desBg = this.scene.make.image({\n            y: 138 * this.dpr,\n            key: this.key,\n            frame: \"des_bg.png\"\n        }, false);\n        this.mDesText = this.scene.make.text({\n            x: desBg.x - desBg.width / 2 + 12 * this.dpr,\n            y: desBg.y - desBg.height / 2 + 10 * this.dpr,\n            style: {\n                fontSize: 10 * this.dpr,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_5__[\"Font\"].DEFULT_FONT,\n                wordWrap: {\n                    width: 240 * this.dpr,\n                    useAdvancedWrap: true\n                }\n            }\n        }, false).setInteractive();\n        this.mDetailDisplay = new _Market_DetailDisplay__WEBPACK_IMPORTED_MODULE_3__[\"DetailDisplay\"](this.scene);\n        this.mDetailDisplay.scale = this.dpr * 2;\n        // this.mDetailDisplay.y = -150;\n        this.mCloseBtn = this.scene.make.image({\n            key: this.key,\n            frame: \"close.png\"\n        }, false).setInteractive();\n        this.mSource = this.scene.make.text({\n            x: desBg.x - desBg.width / 2 + 12 * this.dpr,\n            y: desBg.y + desBg.height / 2 - 23 * this.dpr,\n            style: {\n                fontSize: 10 * this.dpr,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_5__[\"Font\"].DEFULT_FONT\n            }\n        }, false);\n        this.add(this.mCardContainer);\n        this.mCardContainer.add([this.mBorder, background, desBg, this.mDetailDisplay, nickNameBg, this.mNickName, this.mDesText, this.mSource]);\n        this.add(this.mCloseBtn);\n        this.resize(0, 0);\n        _super.prototype.init.call(this);\n        this.setInteractive();\n        this.setProp();\n    };\n    ItemPopCardPanel.prototype.onCloseHandler = function () {\n        this.emit(\"close\");\n        clearTimeout(this.mPressTime);\n        this.mNickNameDown = false;\n    };\n    ItemPopCardPanel.prototype.onPointerNickNameHandler = function () {\n        // if (this.mNickNameDown) {\n        //   copy(this.mNickName.text);\n        //   const content = {\n        //     noticeContext: \"\"\n        //   };\n        //   this.mWorld.emitter.emit(MessageType.SHOW_NOTICE, { content });\n        // }\n        clearTimeout(this.mPressTime);\n        this.mNickNameDown = false;\n    };\n    ItemPopCardPanel.prototype.onPointerNickNameDownHandler = function () {\n        var _this = this;\n        // this.mNickNameDown = true;\n        this.mPressTime = setTimeout(function () {\n            _this.copyName();\n        }, this.mPressDelay);\n    };\n    ItemPopCardPanel.prototype.onPointerDesDownHandler = function () {\n        var _this = this;\n        this.mPressTime = setTimeout(function () {\n            _this.copyDes();\n        }, this.mPressDelay);\n    };\n    ItemPopCardPanel.prototype.copyName = function () {\n        if (this.mNickName) {\n            copy_text_to_clipboard__WEBPACK_IMPORTED_MODULE_2__(this.mNickName.text);\n            var content = {\n                noticeContext: _i18n__WEBPACK_IMPORTED_MODULE_1__[\"i18n\"].t(\"item.copy_suc\", { name: _i18n__WEBPACK_IMPORTED_MODULE_1__[\"i18n\"].t(\"item.name\") })\n            };\n            this.mWorld.emitter.emit(_const_MessageType__WEBPACK_IMPORTED_MODULE_4__[\"MessageType\"].SHOW_NOTICE, { content: content });\n        }\n    };\n    ItemPopCardPanel.prototype.copyDes = function () {\n        if (this.mDesText) {\n            copy_text_to_clipboard__WEBPACK_IMPORTED_MODULE_2__(this.mDesText.text);\n            var content = {\n                noticeContext: _i18n__WEBPACK_IMPORTED_MODULE_1__[\"i18n\"].t(\"item.copy_suc\", { name: _i18n__WEBPACK_IMPORTED_MODULE_1__[\"i18n\"].t(\"item.des\") })\n            };\n            this.mWorld.emitter.emit(_const_MessageType__WEBPACK_IMPORTED_MODULE_4__[\"MessageType\"].SHOW_NOTICE, { content: content });\n        }\n    };\n    ItemPopCardPanel.prototype.onShowHandler = function (image) {\n        this.mDetailDisplay.y = -this.mCardContainer.height / 4;\n    };\n    return ItemPopCardPanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/ItemPopCard/ItemPopCardPanel.ts?");

/***/ }),

/***/ "./src/ui/Login/LoginMediator.ts":
/*!***************************************!*\
  !*** ./src/ui/Login/LoginMediator.ts ***!
  \***************************************/
/*! exports provided: LoginMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LoginMediator\", function() { return LoginMediator; });\n/* harmony import */ var _utils_log__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/log */ \"./src/utils/log.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\n/* harmony import */ var _LoginPanel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./LoginPanel */ \"./src/ui/Login/LoginPanel.ts\");\n/* harmony import */ var _VerifiedPanel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./VerifiedPanel */ \"./src/ui/Login/VerifiedPanel.ts\");\n/* harmony import */ var _components_alert_view__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/alert.view */ \"./src/ui/components/alert.view.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar LoginMediator = /** @class */ (function (_super) {\n    __extends(LoginMediator, _super);\n    function LoginMediator(layerManager, scene, world) {\n        var _this = _super.call(this) || this;\n        _this.layerManager = layerManager;\n        _this.world = world;\n        return _this;\n    }\n    LoginMediator.prototype.show = function () {\n        if (!this.mView) {\n            this.mView = new _LoginPanel__WEBPACK_IMPORTED_MODULE_2__[\"LoginPanel\"](this.layerManager.scene, this.world);\n        }\n        this.mView.show();\n        this.mView.on(\"fetchCode\", this.onFetchCodeHandler, this);\n        this.mView.on(\"login\", this.onLoginHandler, this);\n        this.layerManager.addToUILayer(this.mView);\n    };\n    LoginMediator.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        if (this.verifiedPanel) {\n            this.verifiedPanel.destroy();\n            this.verifiedPanel = null;\n        }\n    };\n    LoginMediator.prototype.onFetchCodeHandler = function (phone, areaCode) {\n        this.world.httpService.requestPhoneCode(phone, areaCode);\n    };\n    LoginMediator.prototype.enterGame = function (adult) {\n        var _this = this;\n        if (this.world.httpClock)\n            this.world.httpClock.enable = !adult;\n        if (adult) {\n            this.destroy();\n            this.world.enterGame();\n            return;\n        }\n        this.world.httpClock.allowLogin(function () { _this.mView.setInputVisible(true); })\n            .then(function (allow) {\n            if (allow) {\n                _this.destroy();\n                _this.world.enterGame();\n            }\n            else {\n                _this.mView.setInputVisible(false);\n            }\n        })\n            .catch(_utils_log__WEBPACK_IMPORTED_MODULE_0__[\"Logger\"].getInstance().error);\n    };\n    LoginMediator.prototype.onLoginHandler = function (phone, code, areaCode) {\n        var _this = this;\n        this.world.httpService.loginByPhoneCode(phone, code, areaCode).then(function (response) {\n            if (response.code === 200 || response.code === 201) {\n                var data = response.data;\n                _this.world.account.setAccount(data);\n                localStorage.setItem(\"accountphone\", JSON.stringify({ account: phone }));\n                // this.enterGame(true);\n                if (data.hasIdentityInfo) {\n                    _this.enterGame(data.adult);\n                }\n                else {\n                    _this.mView.setInputVisible(false);\n                    _this.onShowVerified();\n                }\n            }\n        });\n    };\n    LoginMediator.prototype.onShowVerified = function () {\n        if (!this.verifiedPanel) {\n            this.verifiedPanel = new _VerifiedPanel__WEBPACK_IMPORTED_MODULE_3__[\"VerifiedPanel\"](this.layerManager.scene, this.world);\n        }\n        if (this.verifiedPanel.isShow()) {\n            return;\n        }\n        this.verifiedPanel.show();\n        this.verifiedPanel.on(\"verified\", this.onVerifiedHandler, this);\n        this.layerManager.addToDialogLayer(this.verifiedPanel);\n    };\n    LoginMediator.prototype.onVerifiedHandler = function (name, idcard) {\n        var _this = this;\n        this.world.httpService.verified(name, idcard).then(function (response) {\n            var code = response.code, data = response.data;\n            if (code === 200 || code === 201 || code === 0) {\n                // this.enterGame(data.adult);\n                _this.enterGame(true);\n            }\n            else if (code === 10001) {\n                // \n                _this.verifiedPanel.setVerifiedEnable(false);\n                // this.verifiedPanel.setVisible(false);\n                new _components_alert_view__WEBPACK_IMPORTED_MODULE_4__[\"AlertView\"](_this.layerManager.scene, _this.world).setOKText(\"\").show({\n                    text: \"[color=#F9361B]\\n[/color]\",\n                    title: \"\",\n                    callback: function () {\n                        _this.verifiedPanel.setVerifiedEnable(true);\n                        // this.verifiedPanel.setVisible(true);\n                    },\n                    btns: _components_alert_view__WEBPACK_IMPORTED_MODULE_4__[\"Buttons\"].Ok\n                });\n            }\n        });\n    };\n    return LoginMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_1__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/Login/LoginMediator.ts?");

/***/ }),

/***/ "./src/ui/Login/LoginPanel.ts":
/*!************************************!*\
  !*** ./src/ui/Login/LoginPanel.ts ***!
  \************************************/
/*! exports provided: LoginPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LoginPanel\", function() { return LoginPanel; });\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _lib_rexui_lib_plugins_gameobjects_inputtext_InputText__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/rexui/lib/plugins/gameobjects/inputtext/InputText */ \"./lib/rexui/lib/plugins/gameobjects/inputtext/InputText.js\");\n/* harmony import */ var _scenes_loading__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../scenes/loading */ \"./src/scenes/loading.ts\");\n/* harmony import */ var _components_nine_patch__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/nine.patch */ \"./src/ui/components/nine.patch.ts\");\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_button_NineSliceButton__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/button/NineSliceButton */ \"./lib/rexui/lib/ui/button/NineSliceButton.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/interface/event/MouseEvent */ \"./lib/rexui/lib/ui/interface/event/MouseEvent.ts\");\n/* harmony import */ var _ui_atals_name__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../ui.atals.name */ \"./src/ui/ui.atals.name.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_checkbox_CheckBox__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/checkbox/CheckBox */ \"./lib/rexui/lib/ui/checkbox/CheckBox.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/ui-components */ \"./lib/rexui/lib/ui/ui-components.ts\");\n/* harmony import */ var _utils_helpers__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../utils/helpers */ \"./src/utils/helpers.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\n\n\n\nvar LoginPanel = /** @class */ (function (_super) {\n    __extends(LoginPanel, _super);\n    function LoginPanel(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.key = \"login\";\n        _this.areaCode = \"86\";\n        return _this;\n    }\n    LoginPanel.prototype.show = function () {\n        _super.prototype.show.call(this);\n        if (this.mInitialized) {\n            this.setInputVisible(true);\n        }\n    };\n    LoginPanel.prototype.setInputVisible = function (val) {\n        if (this.mPhoneCodeInput) {\n            this.mPhoneCodeInput.visible = val;\n            this.mPhoneInput.visible = val;\n        }\n    };\n    LoginPanel.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        if (this.fetchTime) {\n            clearTimeout(this.fetchTime);\n        }\n    };\n    LoginPanel.prototype.preload = function () {\n        this.addAtlas(this.key, \"./login/login.png\", \"./login/login.json\");\n        this.addAtlas(_ui_atals_name__WEBPACK_IMPORTED_MODULE_7__[\"UIAtlasKey\"].commonKey, _ui_atals_name__WEBPACK_IMPORTED_MODULE_7__[\"UIAtlasName\"].commonUrl + \".png\", _ui_atals_name__WEBPACK_IMPORTED_MODULE_7__[\"UIAtlasName\"].commonUrl + \".json\");\n        // this.addAtlas()\n        _super.prototype.preload.call(this);\n    };\n    LoginPanel.prototype.init = function () {\n        _super.prototype.init.call(this);\n        // const { width, height } = this.scene.cameras.main;\n        var width = this.scene.cameras.main.width / this.scale;\n        var height = this.scene.cameras.main.height / this.scale;\n        var scale = this.scale;\n        var backgroundColor = this.scene.make.graphics(undefined, false);\n        backgroundColor.fillRect(0, 0, width * scale, height * scale);\n        backgroundColor.fillGradientStyle(0x6f75ff, 0x6f75ff, 0x01cdff, 0x01cdff);\n        var cloudLeft = this.scene.make.image({\n            x: 0,\n            y: 0,\n            key: this.key,\n            frame: \"cloud_left\"\n        }, false).setOrigin(0);\n        var cloudRight = this.scene.make.image({\n            x: width,\n            y: 0,\n            key: this.key,\n            frame: \"cloud_right\"\n        }, false).setOrigin(1, 0);\n        var logo = this.scene.make.image({\n            x: width * 0.5,\n            y: 44 * this.dpr,\n            key: this.key,\n            frame: \"logo\"\n        }, false).setOrigin(0.5, 0);\n        var bg = this.scene.make.image({\n            key: this.key,\n            frame: \"bg\"\n        });\n        bg.x = width * 0.5;\n        bg.y = height - bg.height * 0.5;\n        this.mPhoneInput = new _lib_rexui_lib_plugins_gameobjects_inputtext_InputText__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.scene, 0, 0, 256 * this.dpr, 40 * this.dpr, {\n            type: \"tel\",\n            maxLength: 11,\n            placeholder: \"\",\n            color: \"#717171\",\n            fontSize: 16 * this.dpr + \"px\"\n        });\n        var phoneContaier = this.createInput(this.mPhoneInput, width * 0.5, 97 * this.dpr + logo.y + logo.height);\n        var accountData = localStorage.getItem(\"accountphone\");\n        if (accountData) {\n            try {\n                this.mPhoneInput.text = JSON.parse(accountData).account;\n            }\n            catch (_a) {\n            }\n        }\n        this.mPhoneCodeInput = new _lib_rexui_lib_plugins_gameobjects_inputtext_InputText__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.scene, 0, 0, 256 * this.dpr, 40 * this.dpr, {\n            type: \"tel\",\n            maxLength: 4,\n            placeholder: \"\",\n            color: \"#717171\",\n            text: \"2992\",\n            fontSize: 16 * this.dpr + \"px\"\n        }).setOrigin(0, 0.5);\n        var codeContainer = this.createInput(this.mPhoneCodeInput, width * 0.5, 172 * this.dpr + logo.y + logo.height);\n        this.mPhoneCodeInput.resize(100 * this.dpr, this.mPhoneCodeInput.height);\n        this.mPhoneCodeInput.x = -codeContainer.width / 2 + 8 * this.dpr;\n        var label1 = this.scene.make.text({\n            x: width * 0.5,\n            text: \"\\u62B5\\u5236\\u4E0D\\u826F\\u6E38\\u620F\\uFF0C\\u62D2\\u7EDD\\u76D7\\u7248\\u6E38\\u620F\\u3002\\u6CE8\\u610F\\u81EA\\u6211\\u4FDD\\u62A4\\uFF0C\\u8C28\\u9632\\u53D7\\u9A97\\u4E0A\\u5F53\\u3002\\n\\u9002\\u5EA6\\u6E38\\u620F\\u76CA\\u8111\\uFF0C\\u6C89\\u8FF7\\u6E38\\u620F\\u4F24\\u8EAB\\u3002\\u5408\\u7406\\u5B89\\u6392\\u65F6\\u95F4\\uFF0C\\u4EAB\\u53D7\\u5065\\u5EB7\\u751F\\u6D3B\\u3002\",\n            style: {\n                color: \"#FFEC48\",\n                align: \"center\",\n                fontSize: 11 * this.dpr,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_4__[\"Font\"].DEFULT_FONT\n            }\n        }, false).setOrigin(0.5);\n        label1.y = height - 50 * this.dpr - label1.height * 0.5;\n        var label2 = this.scene.make.text({\n            x: width * 0.5,\n            text: \"\\u672C\\u7F51\\u7EDC\\u6E38\\u620F\\u9002\\u5408\\u5E74\\u6EE116\\u5468\\u5C81\\u4EE5\\u4E0A\\u7684\\u7528\\u6237\\uFF0C\\u8BF7\\u60A8\\u786E\\u8BA4\\u5DF2\\u5982\\u5B9E\\u8FDB\\u884C\\n\\u5B9E\\u540D\\u6CE8\\u518C\\uFF0C\\u4E3A\\u4E86\\u60A8\\u7684\\u5065\\u5EB7\\uFF0C\\u8BF7\\u5408\\u7406\\u63A7\\u5236\\u6E38\\u620F\\u65F6\\u95F4\\u3002\",\n            style: {\n                color: \"#FFFFFF\",\n                align: \"center\",\n                fontSize: 9.33 * this.dpr,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_4__[\"Font\"].DEFULT_FONT\n            }\n        }).setOrigin(0.5);\n        label2.y = height - 16 * this.dpr - label2.height * 0.5;\n        var line = this.scene.make.image({\n            x: 20 * this.dpr,\n            key: this.key,\n            frame: \"line\",\n        }, false);\n        var fetchCode = this.scene.make.text({\n            x: codeContainer.width * 0.5 - 20 * this.dpr,\n            y: 0,\n            text: \"\",\n            style: {\n                fontSize: 14 * this.dpr,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_4__[\"Font\"].DEFULT_FONT,\n                color: \"#2B5AF3\"\n            }\n        }, false).setOrigin(1, 0.5).setInteractive();\n        fetchCode.on(\"pointerup\", this.onFetchCodeHandler, this);\n        codeContainer.add([line, fetchCode]);\n        this.loginBtn = new _lib_rexui_lib_ui_button_NineSliceButton__WEBPACK_IMPORTED_MODULE_5__[\"NineSliceButton\"](this.scene, width * 0.5, codeContainer.y + codeContainer.height + 33 * this.dpr, 191 * this.dpr, 50 * this.dpr, _ui_atals_name__WEBPACK_IMPORTED_MODULE_7__[\"UIAtlasKey\"].commonKey, \"yellow_btn\", \" \", this.dpr, 1, {\n            left: 12 * this.dpr,\n            top: 12 * this.dpr,\n            right: 12 * this.dpr,\n            bottom: 12 * this.dpr\n        });\n        this.loginBtn.setTextStyle({\n            color: \"#995E00\",\n            fontSize: 22 * this.dpr,\n            fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_4__[\"Font\"].DEFULT_FONT\n        });\n        this.loginBtn.setFontStyle(\"bold\");\n        this.loginBtn.on(_lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_6__[\"CoreUI\"].MouseEvent.Tap, this.tryLogin, this);\n        var label = new _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_9__[\"BBCodeText\"](this.scene, 0, 0, \"[area=userService][color=#FFEC48][/color][/area][area=privacy][color=#FFEC48][/color][/area]\", {\n            color: \"#ffffff\",\n            fontSize: 11 * this.dpr,\n            fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_4__[\"Font\"].DEFULT_FONT,\n        }).setOrigin(0.5, 0.5).setInteractive().on(\"areadown\", function (key) {\n            if (key === \"userService\") {\n                // TODO \n                _utils_helpers__WEBPACK_IMPORTED_MODULE_10__[\"default\"].openUrl(\"https://picatown.com/con_news/news.php?nid=1201\");\n            }\n            else {\n                _utils_helpers__WEBPACK_IMPORTED_MODULE_10__[\"default\"].openUrl(\"https://picatown.com/con_news/news.php?nid=1201\");\n            }\n        });\n        this.acceptBtn = new _lib_rexui_lib_ui_checkbox_CheckBox__WEBPACK_IMPORTED_MODULE_8__[\"CheckBox\"](this.scene, this.key, \"accept_unchecked\", \"accept_checked\").on(_lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_6__[\"CoreUI\"].MouseEvent.Tap, this.onCheckboxHandler, this);\n        label.x = this.loginBtn.x + 8 * this.dpr;\n        label.y = this.loginBtn.y + this.loginBtn.height * 0.5 + 24 * this.dpr;\n        this.acceptBtn.x = label.x - label.width * 0.5 - 8 * this.dpr;\n        this.acceptBtn.y = label.y;\n        this.acceptBtn.selected = true;\n        this.add([backgroundColor, bg, cloudLeft, cloudRight, logo, phoneContaier, codeContainer, label1, label2, this.loginBtn, this.acceptBtn, label]);\n        this.scene.scene.sleep(_scenes_loading__WEBPACK_IMPORTED_MODULE_2__[\"LoadingScene\"].name);\n        _super.prototype.init.call(this);\n    };\n    LoginPanel.prototype.createInput = function (input, x, y) {\n        var container = this.scene.make.container({ x: x, y: y }, false);\n        var frame = this.scene.textures.getFrame(this.key, \"input_bg\");\n        // const height = frame ? frame.height || 50 * this.dpr;\n        var bg = new _components_nine_patch__WEBPACK_IMPORTED_MODULE_3__[\"NinePatch\"](this.scene, input.x - 8 * this.dpr, input.y, input.width + 14 * this.dpr, frame.height, this.key, \"input_bg\", {\n            left: 27 * this.dpr,\n            top: 24 * this.dpr,\n            right: 28 * this.dpr,\n            bottom: 24 * this.dpr\n        });\n        container.add([input, bg]);\n        container.setSize(bg.width, bg.height);\n        return container;\n    };\n    LoginPanel.prototype.onFetchCodeHandler = function () {\n        var _this = this;\n        var text = this.mPhoneInput.text;\n        if (text.length !== 11) {\n            return;\n        }\n        if (this.fetchTime) {\n            return;\n        }\n        this.fetchTime = setTimeout(function () {\n            _this.fetchTime = null;\n        }, 60000);\n        this.emit(\"fetchCode\", text, this.areaCode);\n    };\n    LoginPanel.prototype.tryLogin = function () {\n        var phone = this.mPhoneInput.text;\n        var code = this.mPhoneCodeInput.text;\n        if (phone.length !== 11) {\n            return;\n        }\n        if (!code) {\n            return;\n        }\n        this.emit(\"login\", phone, code, this.areaCode);\n    };\n    LoginPanel.prototype.onCheckboxHandler = function () {\n        if (this.tryLogin) {\n            this.loginBtn.enable = this.acceptBtn.selected;\n        }\n    };\n    return LoginPanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/Login/LoginPanel.ts?");

/***/ }),

/***/ "./src/ui/Login/VerifiedPanel.ts":
/*!***************************************!*\
  !*** ./src/ui/Login/VerifiedPanel.ts ***!
  \***************************************/
/*! exports provided: VerifiedPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"VerifiedPanel\", function() { return VerifiedPanel; });\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_button_NineSliceButton__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/button/NineSliceButton */ \"./lib/rexui/lib/ui/button/NineSliceButton.ts\");\n/* harmony import */ var _lib_rexui_lib_plugins_gameobjects_inputtext_InputText__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../lib/rexui/lib/plugins/gameobjects/inputtext/InputText */ \"./lib/rexui/lib/plugins/gameobjects/inputtext/InputText.js\");\n/* harmony import */ var _ui_atals_name__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ui.atals.name */ \"./src/ui/ui.atals.name.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/interface/event/MouseEvent */ \"./lib/rexui/lib/ui/interface/event/MouseEvent.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\nvar VerifiedPanel = /** @class */ (function (_super) {\n    __extends(VerifiedPanel, _super);\n    function VerifiedPanel(scene, world) {\n        return _super.call(this, scene, world) || this;\n    }\n    VerifiedPanel.prototype.setVerifiedEnable = function (val) {\n        if (this.mIDCardInput) {\n            this.mNameInput.visible = val;\n            this.mIDCardInput.visible = val;\n            this.mVerifiedBtn.enable = val;\n        }\n    };\n    VerifiedPanel.prototype.preload = function () {\n        this.addAtlas(_ui_atals_name__WEBPACK_IMPORTED_MODULE_4__[\"UIAtlasKey\"].commonKey, _ui_atals_name__WEBPACK_IMPORTED_MODULE_4__[\"UIAtlasName\"].commonUrl + \".png\", _ui_atals_name__WEBPACK_IMPORTED_MODULE_4__[\"UIAtlasName\"].commonUrl + \".json\");\n        this.addAtlas(_ui_atals_name__WEBPACK_IMPORTED_MODULE_4__[\"UIAtlasKey\"].common2Key, _ui_atals_name__WEBPACK_IMPORTED_MODULE_4__[\"UIAtlasName\"].common2Url + \".png\", _ui_atals_name__WEBPACK_IMPORTED_MODULE_4__[\"UIAtlasName\"].common2Url + \".json\");\n        _super.prototype.preload.call(this);\n    };\n    VerifiedPanel.prototype.init = function () {\n        var _a = this.scene.cameras.main, width = _a.width, height = _a.height;\n        width /= this.scale;\n        height /= this.scale;\n        var mask = this.scene.make.graphics(undefined, false);\n        mask.fillStyle(0, 0.6);\n        mask.fillRect(-width * this.scale * 0.5, -height * this.scale * 0.5, width * this.scale, height * this.scale);\n        var container = this.scene.make.container({}, false);\n        var bg = this.scene.make.image({\n            key: _ui_atals_name__WEBPACK_IMPORTED_MODULE_4__[\"UIAtlasKey\"].common2Key,\n            frame: \"bg\"\n        }, false);\n        container.setSize(bg.width, bg.height);\n        var title_bg = this.scene.make.image({\n            y: -16.33 * this.dpr - container.height * 0.5,\n            key: _ui_atals_name__WEBPACK_IMPORTED_MODULE_4__[\"UIAtlasKey\"].common2Key,\n            frame: \"title\"\n        }, false).setOrigin(0.5, 0);\n        var title = this.scene.make.text({\n            y: title_bg.y + 14.67 * this.dpr,\n            text: \"\",\n            style: {\n                color: \"#905B06\",\n                fontSize: 16 * this.dpr,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT\n            }\n        }).setOrigin(0.5, 0);\n        this.mNameInput = new _lib_rexui_lib_plugins_gameobjects_inputtext_InputText__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this.scene, 0, 0, 160 * this.dpr, 36 * this.dpr, {\n            type: \"text\",\n            placeholder: \"\",\n            color: \"#838383\",\n            fontSize: 10 * this.dpr + \"px\"\n        }).setOrigin(0, 0.5);\n        this.mIDCardInput = new _lib_rexui_lib_plugins_gameobjects_inputtext_InputText__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this.scene, 0, 0, 160 * this.dpr, 36 * this.dpr, {\n            type: \"tel\",\n            maxLength: 18,\n            placeholder: \"\",\n            color: \"#838383\",\n            fontSize: 10 * this.dpr + \"px\"\n        }).setOrigin(0, 0.5);\n        var nameContainer = this.createInput(this.mNameInput, \"*\", 0, 0);\n        nameContainer.x = -nameContainer.width * 0.5;\n        nameContainer.y = 95 * this.dpr + nameContainer.height * 0.5 - container.height * 0.5;\n        var idcardContainer = this.createInput(this.mIDCardInput, \"*\", 0, nameContainer.y + nameContainer.height + 15 * this.dpr);\n        idcardContainer.x = nameContainer.x;\n        var tips = this.scene.make.text({\n            y: 40 * this.dpr - container.height * 0.5,\n            text: \"\\n\\n\",\n            style: {\n                align: \"center\",\n                fontSize: 10 * this.dpr,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT,\n                color: \"#111111\"\n            }\n        }, false).setOrigin(0.5, 0);\n        var tips2 = this.scene.make.text({\n            y: container.height * 0.5 - 75 * this.dpr,\n            text: \"\\n\",\n            style: {\n                align: \"center\",\n                fontSize: 8 * this.dpr,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT,\n                color: \"#FF0000\"\n            }\n        }, false).setOrigin(0.5, 1);\n        this.add([mask, container]);\n        this.mVerifiedBtn = new _lib_rexui_lib_ui_button_NineSliceButton__WEBPACK_IMPORTED_MODULE_2__[\"NineSliceButton\"](this.scene, 0, container.height * 0.5 - 16 * this.dpr, 110 * this.dpr, 34 * this.dpr, _ui_atals_name__WEBPACK_IMPORTED_MODULE_4__[\"UIAtlasKey\"].commonKey, \"yellow_btn\", \"\", this.dpr, this.scale, {\n            left: 12 * this.dpr * this.scale,\n            top: 12 * this.dpr * this.scale,\n            right: 12 * this.dpr * this.scale,\n            bottom: 12 * this.dpr * this.scale\n        });\n        this.mVerifiedBtn.setTextStyle({\n            color: \"#996600\",\n            fontSize: 14 * this.dpr,\n            fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT\n        });\n        this.mVerifiedBtn.on(_lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_5__[\"CoreUI\"].MouseEvent.Tap, this.onVerifiedHandler, this);\n        this.mVerifiedBtn.y -= this.mVerifiedBtn.height / 2;\n        this.mVerifiedBtn.setFontStyle(\"bold\");\n        container.add([bg, title_bg, title, nameContainer, idcardContainer, tips, tips2, this.mVerifiedBtn]);\n        _super.prototype.init.call(this);\n        this.x = width * this.scale * this.originX;\n        this.y = height * this.scale * this.originY;\n    };\n    VerifiedPanel.prototype.onVerifiedHandler = function () {\n        var name = this.mNameInput.text;\n        var idCard = this.mIDCardInput.text;\n        if (!name) {\n            return;\n        }\n        if (!idCard || idCard.length !== 18) {\n            return;\n        }\n        this.emit(\"verified\", name, idCard);\n    };\n    VerifiedPanel.prototype.createInput = function (input, name, x, y) {\n        var container = this.scene.make.container({ x: x, y: y }, false);\n        var text = this.scene.make.text({\n            text: name,\n            style: {\n                color: \"#ff0000\",\n                fontSize: 10 * this.dpr,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT\n            }\n        }).setOrigin(0, 0.5);\n        var boder = this.scene.make.graphics(undefined, false);\n        var width = 189 * this.dpr;\n        var height = 36.67 * this.dpr;\n        boder.fillStyle(0xDDDDDD);\n        boder.lineStyle(2 * this.dpr, 0xA1A1A1);\n        boder.fillRoundedRect(text.width, -height * 0.5, width, height, 2 * this.dpr);\n        input.x = text.width + 10 * this.dpr;\n        container.add([text, boder, input]);\n        container.setSize(width + input.x, height);\n        return container;\n    };\n    Object.defineProperty(VerifiedPanel.prototype, \"verifiedBtn\", {\n        get: function () {\n            return this.mVerifiedBtn;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return VerifiedPanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/Login/VerifiedPanel.ts?");

/***/ }),

/***/ "./src/ui/Market/DetailDisplay.ts":
/*!****************************************!*\
  !*** ./src/ui/Market/DetailDisplay.ts ***!
  \****************************************/
/*! exports provided: DetailDisplay */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DetailDisplay\", function() { return DetailDisplay; });\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _rooms_display_dragonbones_display__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../rooms/display/dragonbones.display */ \"./src/rooms/display/dragonbones.display.ts\");\n/* harmony import */ var _rooms_display_dragonbones_model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../rooms/display/dragonbones.model */ \"./src/rooms/display/dragonbones.model.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar DetailDisplay = /** @class */ (function (_super) {\n    __extends(DetailDisplay, _super);\n    function DetailDisplay(scene) {\n        return _super.call(this, scene) || this;\n    }\n    DetailDisplay.prototype.loadDisplay = function (content) {\n        this.mDisplay = content;\n        this.destroyDragon();\n        if (!this.mImage) {\n            this.mImage = this.scene.make.image(undefined, false);\n        }\n        this.add(this.mImage);\n        if (content.display) {\n            var display = content.display;\n            if (this.scene.textures.exists(display.texturePath)) {\n                this.onCompleteHandler();\n            }\n            else {\n                this.scene.load.once(Phaser.Loader.Events.COMPLETE, this.onCompleteHandler, this);\n                if (display.texturePath !== \"\" && display.dataPath !== \"\") {\n                    this.scene.load.atlas(display.texturePath, _utils_resUtil__WEBPACK_IMPORTED_MODULE_0__[\"Url\"].getOsdRes(display.texturePath), _utils_resUtil__WEBPACK_IMPORTED_MODULE_0__[\"Url\"].getOsdRes(display.dataPath));\n                }\n                else {\n                    this.loadUrl(_utils_resUtil__WEBPACK_IMPORTED_MODULE_0__[\"Url\"].getOsdRes(display.texturePath));\n                }\n                this.scene.load.start();\n            }\n        }\n    };\n    DetailDisplay.prototype.loadAvatar = function (content, scale, offset) {\n        var _this = this;\n        if (scale === void 0) { scale = 1; }\n        if (!this.mDragonboneDisplay) {\n            this.mDragonboneDisplay = new _rooms_display_dragonbones_display__WEBPACK_IMPORTED_MODULE_1__[\"DragonbonesDisplay\"](this.scene, undefined, undefined, true);\n            if (offset) {\n                this.mDragonboneDisplay.x += offset.x;\n                this.mDragonboneDisplay.y += offset.y;\n            }\n        }\n        if (this.mImage) {\n            this.remove(this.mImage);\n        }\n        this.mDragonboneDisplay.once(\"initialized\", function () {\n            _this.mDragonboneDisplay.play({ name: \"idle\", flip: false });\n        });\n        this.mDragonboneDisplay.load(new _rooms_display_dragonbones_model__WEBPACK_IMPORTED_MODULE_2__[\"DragonbonesModel\"]({\n            id: 0,\n            avatar: content.avatar\n        }));\n        this.mDragonboneDisplay.scale = scale;\n        this.add(this.mDragonboneDisplay);\n    };\n    DetailDisplay.prototype.loadUrl = function (url) {\n        this.mUrl = url;\n        if (this.mDisplay)\n            this.mDisplay = null;\n        this.destroyDragon();\n        if (!this.mImage) {\n            this.mImage = this.scene.make.image(undefined, false);\n        }\n        this.add(this.mImage);\n        if (this.scene.textures.exists(url)) {\n            this.onCompleteHandler();\n        }\n        else {\n            this.scene.load.image(url, _utils_resUtil__WEBPACK_IMPORTED_MODULE_0__[\"Url\"].getOsdRes(url));\n            this.scene.load.once(Phaser.Loader.Events.COMPLETE, this.onCompleteHandler, this);\n            this.scene.load.start();\n        }\n    };\n    DetailDisplay.prototype.setTexture = function (key, frame) {\n        this.destroyDragon();\n        if (!this.mImage) {\n            this.mImage = this.scene.make.image({\n                key: key,\n                frame: frame\n            }, false);\n        }\n        else {\n            this.mImage.setTexture(key, frame);\n        }\n        this.setSize(this.mImage.width * this.scale, this.mImage.height * this.scale);\n        this.add(this.mImage);\n        this.emit(\"show\", this.mImage);\n    };\n    DetailDisplay.prototype.setNearest = function () {\n        if (this.mImage) {\n            this.mImage.texture.setFilter(Phaser.Textures.FilterMode.NEAREST);\n        }\n    };\n    Object.defineProperty(DetailDisplay.prototype, \"display\", {\n        get: function () {\n            return this.mDisplay;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    DetailDisplay.prototype.onCompleteHandler = function () {\n        if (!this.scene) {\n            return;\n        }\n        if (this.mDisplay) {\n            var display = this.mDisplay.display;\n            var ani = this.mDisplay.animations;\n            if (!ani || ani.length <= 0) {\n                return;\n            }\n            this.mImage.setTexture(this.mDisplay.display.texturePath, ani[0].frameName[0]);\n        }\n        else {\n            this.mImage.setTexture(this.mUrl);\n        }\n        this.setNearest();\n        this.setSize(this.mImage.width * this.scale, this.mImage.height * this.scale);\n        this.emit(\"show\", this.mImage);\n    };\n    DetailDisplay.prototype.destroyDragon = function () {\n        if (this.mDragonboneDisplay) {\n            this.mDragonboneDisplay.destroy();\n            this.mDragonboneDisplay = undefined;\n        }\n    };\n    return DetailDisplay;\n}(Phaser.GameObjects.Container));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/Market/DetailDisplay.ts?");

/***/ }),

/***/ "./src/ui/Market/ElementDetail.ts":
/*!****************************************!*\
  !*** ./src/ui/Market/ElementDetail.ts ***!
  \****************************************/
/*! exports provided: ElementDetail */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ElementDetail\", function() { return ElementDetail; });\n/* harmony import */ var _NumberCounter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./NumberCounter */ \"./src/ui/Market/NumberCounter.ts\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_ninepatch_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/ninepatch.button */ \"./src/ui/components/ninepatch.button.ts\");\n/* harmony import */ var _i18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../i18n */ \"./src/i18n.ts\");\n/* harmony import */ var _DetailDisplay__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./DetailDisplay */ \"./src/ui/Market/DetailDisplay.ts\");\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\nvar ElementDetail = /** @class */ (function (_super) {\n    __extends(ElementDetail, _super);\n    function ElementDetail(scene, world, $key, dpr, uiScale) {\n        var _this = _super.call(this, scene) || this;\n        _this.key = $key;\n        _this.mWorld = world;\n        _this.uiScale = uiScale || 1;\n        _this.dpr = dpr;\n        _this.setPosition(0, 0);\n        // this.mBackground = this.scene.make.image({\n        //   x: this.scene.cameras.main.width >> 1,\n        //   key: this.key,\n        //   frame: \"bg\"\n        // });\n        // this.mBackground.y = (this.mBackground.height >> 1) + 43 * this.dpr;\n        _this.mCounter = new _NumberCounter__WEBPACK_IMPORTED_MODULE_0__[\"NumberCounter\"](_this.scene, $key, 360, 700, _this.dpr, uiScale);\n        var frame = _this.scene.textures.getFrame(_this.key, \"yellow_button_normal\");\n        var w = 60;\n        var h = 65;\n        if (frame) {\n            w = frame.width;\n            h = frame.height;\n        }\n        _this.mBuyBtn = new _components_ninepatch_button__WEBPACK_IMPORTED_MODULE_2__[\"NinePatchButton\"](_this.scene, 440 * _this.dpr, 700 * _this.dpr, 81 * _this.dpr, 41 * _this.dpr, _this.key, \"yellow_button\", _i18n__WEBPACK_IMPORTED_MODULE_3__[\"i18n\"].t(\"market.buy_button\"), {\n            left: 14 * _this.dpr,\n            top: 14 * _this.dpr,\n            right: w - 2 - 14 * _this.dpr,\n            bottom: h - 2 - 14 * _this.dpr\n        }).setScale(uiScale);\n        _this.mBuyBtn.setTextStyle({\n            color: \"#976400\",\n            fontSize: 16 * _this.dpr * uiScale,\n            fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_5__[\"Font\"].DEFULT_FONT\n        });\n        _this.mBuyBtn.setFontStyle(\"bold\");\n        // this.mBuyBtn.setTextOffset(0, 10 * this.dpr);\n        _this.mBuyBtn.on(\"pointerup\", _this.onBuyHandler, _this);\n        // this.mNickNameContainer = this.scene.make.container(undefined, false);\n        // this.mNickNameBg = this.scene.make.image({\n        //   key: this.key,\n        //   frame: \"name_bg\"\n        // }, false);\n        // this.mNickNameContainer.setSize(this.mNickNameBg.width, this.mNickNameBg.height);\n        _this.mNickName = _this.scene.make.text({\n            x: 7 * _this.dpr,\n            y: 9 * _this.dpr,\n            style: {\n                fontSize: 12 * _this.dpr * uiScale,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_5__[\"Font\"].DEFULT_FONT,\n                color: \"#FFFF00\",\n                align: \"center\"\n            }\n        });\n        _this.mPriceContainer = _this.scene.make.container(undefined, false);\n        _this.mPriceIcon = _this.scene.make.image({\n            x: -78,\n            key: _this.key,\n            frame: \"iv_coin\"\n        }, false).setScale(uiScale);\n        _this.mPriceText = _this.scene.make.text({\n            x: 0,\n            style: {\n                fontSize: 14 * _this.dpr * uiScale,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_5__[\"Font\"].DEFULT_FONT\n            }\n        }).setOrigin(0.5);\n        var priceBg = _this.scene.make.image({\n            key: _this.key,\n            frame: \"price_bg\"\n        }).setScale(uiScale);\n        _this.mDetailDisplay = new _DetailDisplay__WEBPACK_IMPORTED_MODULE_4__[\"DetailDisplay\"](_this.scene);\n        _this.mDetailDisplay.scale = _this.dpr;\n        _this.mDetailDisplay.y = 110 * _this.dpr;\n        var bubbleW = 110 * _this.dpr * _this.uiScale;\n        var bubbleH = 96 * _this.dpr * _this.uiScale;\n        _this.mDetailBubble = _this.scene.make.graphics(undefined, false);\n        _this.mDetailBubble.fillStyle(0xFFFFFF, 0.1);\n        _this.mDetailBubble.fillRoundedRect(0, 0, bubbleW, bubbleH);\n        _this.mDetailBubbleContainer = _this.scene.make.container(undefined, false);\n        _this.mDetailBubbleContainer.setSize(bubbleW, bubbleH);\n        _this.mDesText = _this.scene.make.text({\n            x: 8 * _this.dpr,\n            y: 56 * _this.dpr,\n            style: {\n                color: \"#32347b\",\n                fontSize: 10 * _this.dpr * uiScale,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_5__[\"Font\"].DEFULT_FONT,\n                wordWrap: {\n                    width: 90 * _this.dpr * uiScale,\n                    useAdvancedWrap: true\n                }\n            }\n        }, false);\n        _this.mSource = _this.scene.make.text({\n            x: 8 * _this.dpr,\n            y: 38 * _this.dpr,\n            style: {\n                fontSize: 10 * _this.dpr * uiScale,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_5__[\"Font\"].DEFULT_FONT,\n            }\n        }, false);\n        _this.add([_this.mDetailDisplay, _this.mPriceContainer, _this.mCounter, _this.mBuyBtn, _this.mDetailBubbleContainer]);\n        _this.mDetailBubbleContainer.add([_this.mDetailBubble, _this.mNickName, _this.mDesText, _this.mSource]);\n        _this.mPriceContainer.add([priceBg, _this.mPriceIcon, _this.mPriceText]);\n        // this.mNickNameContainer.add([this.mNickNameBg, this.mNickName]);\n        _this.addActionListener();\n        return _this;\n    }\n    ElementDetail.prototype.resize = function (w, h) {\n        var width = (this.scene.cameras.main.width);\n        var height = ((this.scene.cameras.main.height) >> 1) - 150;\n        var centerX = this.scene.cameras.main.centerX;\n        this.mBuyBtn.x = width / this.uiScale - this.mBuyBtn.displayWidth / 2 - 10 * this.dpr * this.uiScale;\n        this.mBuyBtn.y = this.height - this.y - this.mBuyBtn.displayHeight / 2 - 12 * this.dpr * this.uiScale;\n        var counterX = this.mBuyBtn.x - this.mBuyBtn.displayWidth / 2 - this.mCounter.displayWidth / 2 - 17 * this.dpr * this.uiScale;\n        // if (counterX < this.mCounter.displayWidth / 2 + 10) {\n        //   counterX = this.mCounter.displayWidth / 2 + 10;\n        // }\n        this.mCounter.x = counterX;\n        this.mCounter.y = this.mBuyBtn.y;\n        this.mDetailBubbleContainer.x = 10 * this.dpr;\n        var endW = width - (width - this.mCounter.x) - this.mCounter.width / 2;\n        if (this.mDetailBubbleContainer.displayWidth + this.mDetailBubbleContainer.x + 10 * this.dpr > endW) {\n            var bubbleW = endW - 16 * this.dpr * this.uiScale;\n            this.mDesText.setWordWrapWidth(bubbleW - 10 * this.dpr * this.uiScale, true);\n            this.resizeDesBubble(bubbleW, this.mDetailBubbleContainer.height);\n        }\n        // this.mDetailBubbleContainer.y = this.height - this.y - this.mDetailBubbleContainer.height - 6 * this.dpr;\n        this.mPriceContainer.x = this.mCounter.x;\n        this.mPriceContainer.y = this.mCounter.y - 35 * this.dpr;\n        this.mDetailDisplay.x = centerX;\n        this.mDetailDisplay.y = (this.height - this.y) / 2;\n        // this.mDetailBubbleContainer.y = this.mDetailDisplay.y;\n        var clickW = width * 0.8;\n        var clickH = height * 0.7;\n        this.setInteractive(new Phaser.Geom.Rectangle((width >> 1) + (width - clickW >> 1), height >> 1, clickW, clickH), Phaser.Geom.Rectangle.Contains);\n        // test interactive\n        // const graphics = this.scene.make.graphics(undefined, false);\n        // graphics.fillStyle(0xFF9900, 0.5);\n        // graphics.fillRect(width - clickW >> 1, 0, clickW, clickH);\n        // this.add(graphics);\n        this.mCounter.resize();\n    };\n    ElementDetail.prototype.addActionListener = function () {\n        if (!this.mCounter) {\n            return;\n        }\n        this.mCounter.addActionListener();\n        this.mCounter.on(\"change\", this.onChangeCounterHandler, this);\n        // this.mDetailDisplay.on(\"show\", this.onShowDisplayHandler, this);\n        this.on(\"pointerup\", this.onPointerUpHandler, this);\n    };\n    ElementDetail.prototype.removeActionListener = function () {\n        if (!this.mCounter) {\n            return;\n        }\n        this.mCounter.removeActionListener();\n        this.mCounter.off(\"change\", this.onChangeCounterHandler, this);\n        // this.mDetailDisplay.off(\"show\", this.onShowDisplayHandler, this);\n        this.off(\"gameobjectup\", this.onPointerUpHandler, this);\n    };\n    ElementDetail.prototype.setProp = function (prop) {\n        this.mSelectedProp = prop;\n        this.mNickName.setText(prop.shortName || prop.name);\n        this.mDesText.setText(prop.des);\n        if (prop.price && prop.price.length > 0) {\n            this.mPriceIcon.setTexture(this.key, _utils_resUtil__WEBPACK_IMPORTED_MODULE_6__[\"Coin\"].getIcon(prop.price[0].coinType));\n            this.updatePrice(prop.price[0].price.toString());\n        }\n        else {\n            this.mPriceText.setText(\"\");\n        }\n        if (prop.source) {\n            this.mSource.setText(\"\\u6765\\u6E90\\uFF1A \" + prop.source);\n        }\n        else {\n            this.mSource.setText(\"\");\n        }\n        this.resizeDesBubble();\n        this.mCounter.setCounter(1);\n    };\n    ElementDetail.prototype.setResource = function (content) {\n        if (content.display) {\n            this.mDetailDisplay.loadDisplay(content);\n        }\n        else if (content.avatar) {\n            var player = this.mWorld.roomManager.currentRoom.playerManager.actor;\n            var avatar = player.model.avatar;\n            for (var key in avatar) {\n                if (avatar.hasOwnProperty(key)) {\n                    var element = avatar[key];\n                    if (element && !content.avatar[key])\n                        content.avatar[key] = element;\n                }\n            }\n            var offset = new Phaser.Geom.Point(0, 35 * 2);\n            this.mDetailDisplay.loadAvatar(content, 2, offset);\n        }\n        else {\n            this.mDetailDisplay.loadUrl(this.mSelectedProp.icon);\n        }\n        // this.mDetailDisplay.loadDisplay(content.display || this.mSelectedProp.icon);\n    };\n    ElementDetail.prototype.updatePrice = function (price) {\n        this.mPriceText.setText(price);\n        this.mPriceIcon.x = this.mPriceText.x - this.mPriceText.width / 2 - 16 * this.dpr;\n    };\n    ElementDetail.prototype.onBuyHandler = function () {\n        if (!this.mSelectedProp) {\n            return;\n        }\n        var prop = pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].OrderCommodities.create();\n        prop.id = this.mSelectedProp.id;\n        prop.quantity = this.mCounter.number;\n        prop.category = this.mSelectedProp.category;\n        this.emit(\"buyItem\", prop);\n    };\n    ElementDetail.prototype.onChangeCounterHandler = function (num) {\n        if (!this.mSelectedProp) {\n            return;\n        }\n        if (!this.mSelectedProp.price || this.mSelectedProp.price.length < 1) {\n            return;\n        }\n        this.updatePrice((this.mSelectedProp.price[0].price * this.mCounter.number).toString());\n    };\n    ElementDetail.prototype.onPointerUpHandler = function () {\n        this.emit(\"popItemCard\", this.mSelectedProp, this.mDetailDisplay.display);\n        this.mCounter.setBlur();\n    };\n    ElementDetail.prototype.resizeDesBubble = function (w, h) {\n        // const bubbleW = 110 * this.dpr;\n        if (w === undefined)\n            w = this.mDetailBubbleContainer.width;\n        var bubbleH = this.mDesText.height + 60 * this.dpr * this.uiScale;\n        if (w === this.mDetailBubbleContainer.width && bubbleH === this.mDetailBubbleContainer.height) {\n            return;\n        }\n        this.mDetailBubble.clear();\n        this.mDetailBubble.fillStyle(0xFFFFFF, 0.1);\n        this.mDetailBubble.fillRoundedRect(0, 0, w, bubbleH);\n        this.mDetailBubbleContainer.setSize(w, bubbleH);\n        this.mDetailBubbleContainer.y = this.height - this.y - this.mDetailBubbleContainer.height - 6 * this.dpr;\n    };\n    ElementDetail.prototype.onShowDisplayHandler = function (image) {\n        if (!image) {\n            return;\n        }\n        // this.mNickNameContainer.x = this.mDetailDisplay.x; // + this.mDetailDisplay.width / 2 - this.mNickNameContainer.width / 2;\n        // let _y = this.mDetailDisplay.y + this.mDetailDisplay.height / 2 + this.mNickNameContainer.height / 2 + 45;\n        // if (_y > this.mCounter.y - this.mNickNameContainer.height - 45) {\n        //   _y = this.mCounter.y - this.mNickNameContainer.height - 45;\n        // }\n        // this.mNickNameContainer.y = _y;\n    };\n    return ElementDetail;\n}(Phaser.GameObjects.Container));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/Market/ElementDetail.ts?");

/***/ }),

/***/ "./src/ui/Market/Market.ts":
/*!*********************************!*\
  !*** ./src/ui/Market/Market.ts ***!
  \*********************************/
/*! exports provided: Market */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Market\", function() { return Market; });\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar Market = /** @class */ (function (_super) {\n    __extends(Market, _super);\n    function Market($world) {\n        var _this = _super.call(this) || this;\n        _this.world = $world;\n        _this.mEvent = new Phaser.Events.EventEmitter();\n        return _this;\n    }\n    Market.prototype.register = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.addPacketListener(this);\n            this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_GET_MARKET_CATEGORIES, this.onGetMarketCategoriesHandler);\n            this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_MARKET_QUERY, this.onQueryMarketHandler);\n            this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_MARKET_QUERY_COMMODITY_RESOURCE, this.onQueryCommodityResultHandler);\n            this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_REQ_CLIENT_MARKET_SHOW_MARKET_BY_NAME, this.openMarketPanel);\n        }\n    };\n    Market.prototype.unregister = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.removePacketListener(this);\n        }\n    };\n    Market.prototype.on = function (event, fn, context) {\n        this.mEvent.on(event, fn, context);\n    };\n    Market.prototype.off = function (event, fn, context) {\n        this.mEvent.off(event, fn, context);\n    };\n    Market.prototype.setMarketName = function (market_name) {\n        this.market_name = market_name;\n    };\n    /**\n     * \n     */\n    Market.prototype.getMarkCategories = function () {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_MARKET_GET_CATEGORIES);\n        var content = packet.content;\n        content.marketName = this.market_name;\n        this.connection.send(packet);\n    };\n    Market.prototype.queryMarket = function (page, category, subCategory) {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_MARKET_QUERY);\n        var content = packet.content;\n        content.page = page;\n        content.perPage = 1000;\n        content.category = category;\n        content.subcategory = subCategory;\n        content.marketName = this.market_name;\n        this.connection.send(packet);\n    };\n    Market.prototype.buyMarketCommodities = function (commodities) {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_MARKET_BUY_ORDER_COMMODITIES);\n        var content = packet.content;\n        content.orderCommodities = commodities;\n        content.marketName = this.market_name;\n        this.connection.send(packet);\n    };\n    Market.prototype.queryCommodityResource = function (id, category) {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_MARKET_QUERY_COMMODITY_RESOURCE);\n        var content = packet.content;\n        content.id = id;\n        content.category = category;\n        content.marketName = this.market_name;\n        this.connection.send(packet);\n    };\n    Market.prototype.destroy = function () {\n        this.unregister();\n        this.mEvent.destroy();\n    };\n    Market.prototype.onGetMarketCategoriesHandler = function (packet) {\n        // const content: op_client.IOP_VIRTUAL_WORLD_RES_CLIENT_GET_MARKET_CATEGORIES = ;\n        this.mEvent.emit(\"getMarketCategories\", packet.content);\n    };\n    Market.prototype.onQueryMarketHandler = function (packet) {\n        this.mEvent.emit(\"queryMarket\", packet.content);\n    };\n    Market.prototype.onQueryCommodityResultHandler = function (packet) {\n        var content = packet.content;\n        packet.content.market_name = this.market_name;\n        this.mEvent.emit(\"queryCommodityResource\", packet.content);\n    };\n    Market.prototype.openMarketPanel = function (packge) {\n        var content = packge.content;\n        this.mEvent.emit(\"showopen\", content);\n    };\n    Object.defineProperty(Market.prototype, \"connection\", {\n        get: function () {\n            if (this.world) {\n                return this.world.connection;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Market;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PacketHandler\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/Market/Market.ts?");

/***/ }),

/***/ "./src/ui/Market/MarketMediator.ts":
/*!*****************************************!*\
  !*** ./src/ui/Market/MarketMediator.ts ***!
  \*****************************************/
/*! exports provided: MarketMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MarketMediator\", function() { return MarketMediator; });\n/* harmony import */ var _MarketPanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MarketPanel */ \"./src/ui/Market/MarketPanel.ts\");\n/* harmony import */ var _Market__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Market */ \"./src/ui/Market/Market.ts\");\n/* harmony import */ var _const_MessageType__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../const/MessageType */ \"./src/const/MessageType.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar MarketMediator = /** @class */ (function (_super) {\n    __extends(MarketMediator, _super);\n    function MarketMediator($layerManager, $scene, world) {\n        var _this = _super.call(this) || this;\n        _this.scene = $scene;\n        _this.world = world;\n        _this.layerManager = $layerManager;\n        if (!_this.mMarket) {\n            _this.mMarket = new _Market__WEBPACK_IMPORTED_MODULE_1__[\"Market\"](_this.world);\n            _this.mMarket.register();\n            _this.mMarket.on(\"getMarketCategories\", _this.onCategoriesHandler, _this);\n            _this.mMarket.on(\"queryMarket\", _this.onQueryResuleHandler, _this);\n            _this.mMarket.on(\"queryCommodityResource\", _this.onQueryCommodityResourceHandler, _this);\n            _this.mMarket.on(\"showopen\", _this.onShowOpenPanel, _this);\n        }\n        return _this;\n    }\n    MarketMediator.prototype.show = function (param) {\n        if (this.mView && this.mView.isShow() || this.mShow) {\n            return;\n        }\n        if (!this.mView) {\n            this.mView = new _MarketPanel__WEBPACK_IMPORTED_MODULE_0__[\"MarketPanel\"](this.scene, this.world);\n            this.mView.on(\"getCategories\", this.onGetCategoriesHandler, this);\n            this.mView.on(\"queryProp\", this.onQueryPropHandler, this);\n            this.mView.on(\"buyItem\", this.onBuyItemHandler, this);\n            this.mView.on(\"close\", this.onCloseHandler, this);\n            this.mView.on(\"popItemCard\", this.onPopItemCardHandler, this);\n            this.mView.on(\"queryPropResource\", this.onQueryPropresouceHandler, this);\n        }\n        if (param && param[0]) {\n            this.mMarket.setMarketName(param[0].marketName);\n        }\n        else {\n            this.mMarket.setMarketName(\"shop\");\n        }\n        this.mView.show();\n        this.layerManager.addToUILayer(this.mView);\n    };\n    MarketMediator.prototype.destroy = function () {\n        if (this.mMarket)\n            this.mMarket.destroy();\n        this.mMarket = null;\n        _super.prototype.destroy.call(this);\n    };\n    MarketMediator.prototype.onCategoriesHandler = function (content) {\n        this.mView.setCategories(content);\n    };\n    MarketMediator.prototype.onQueryResuleHandler = function (content) {\n        this.mView.setProp(content);\n    };\n    MarketMediator.prototype.onGetCategoriesHandler = function () {\n        this.mMarket.getMarkCategories();\n    };\n    MarketMediator.prototype.onQueryPropHandler = function (page, category, subCategory) {\n        this.mMarket.queryMarket(page, category, subCategory);\n    };\n    MarketMediator.prototype.onBuyItemHandler = function (prop) {\n        this.mMarket.buyMarketCommodities([prop]);\n    };\n    MarketMediator.prototype.onQueryPropresouceHandler = function (prop) {\n        this.mMarket.queryCommodityResource(prop.id, prop.category);\n    };\n    MarketMediator.prototype.onShowOpenPanel = function (content) {\n        this.setParam([content]);\n        this.show([content]);\n    };\n    MarketMediator.prototype.onPopItemCardHandler = function (prop, display) {\n        // const packet: PBpacket = new PBpacket(op_client.OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_SHOW_UI);\n        // const content: op_client.OP_VIRTUAL_WORLD_RES_CLIENT_SHOW_UI = packet.content;\n        // content.name = \"ItemPopCard\";\n        var packet = {\n            content: {\n                name: \"ItemPopCard\",\n                prop: prop,\n                display: display\n            }\n        };\n        this.world.emitter.emit(_const_MessageType__WEBPACK_IMPORTED_MODULE_2__[\"MessageType\"].SHOW_UI, packet);\n    };\n    MarketMediator.prototype.onQueryCommodityResourceHandler = function (content) {\n        if (!this.mView) {\n            return;\n        }\n        this.mView.setCommodityResource(content);\n    };\n    MarketMediator.prototype.onCloseHandler = function () {\n        _super.prototype.destroy.call(this);\n    };\n    return MarketMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_3__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/Market/MarketMediator.ts?");

/***/ }),

/***/ "./src/ui/Market/MarketPanel.ts":
/*!**************************************!*\
  !*** ./src/ui/Market/MarketPanel.ts ***!
  \**************************************/
/*! exports provided: MarketPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MarketPanel\", function() { return MarketPanel; });\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _ElementDetail__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ElementDetail */ \"./src/ui/Market/ElementDetail.ts\");\n/* harmony import */ var _i18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../i18n */ \"./src/i18n.ts\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _components_checkbox_group__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/checkbox.group */ \"./src/ui/components/checkbox.group.ts\");\n/* harmony import */ var _TextButton__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./TextButton */ \"./src/ui/Market/TextButton.ts\");\n/* harmony import */ var _item__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./item */ \"./src/ui/Market/item.ts\");\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_gridtable_GameGridTable__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/gridtable/GameGridTable */ \"./lib/rexui/lib/ui/gridtable/GameGridTable.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_tab_NinePatchTabButton__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/tab/NinePatchTabButton */ \"./lib/rexui/lib/ui/tab/NinePatchTabButton.ts\");\n/* harmony import */ var _Handler_Handler__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../Handler/Handler */ \"./src/Handler/Handler.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_button_NineSliceButton__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/button/NineSliceButton */ \"./lib/rexui/lib/ui/button/NineSliceButton.ts\");\n/* harmony import */ var _ui_atals_name__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../ui.atals.name */ \"./src/ui/ui.atals.name.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar MarketPanel = /** @class */ (function (_super) {\n    __extends(MarketPanel, _super);\n    function MarketPanel(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.key = \"market\";\n        _this.mSubTabs = [];\n        _this.mTabs = [];\n        return _this;\n        // this.scale = 1;\n    }\n    MarketPanel.prototype.addListen = function () {\n        if (!this.mInitialized)\n            return;\n        this.mSelectItem.on(\"buyItem\", this.onBuyItemHandler, this);\n        this.mSelectItem.on(\"popItemCard\", this.onPopItemCardHandler, this);\n        this.mCloseBtn.on(\"pointerup\", this.onCloseHandler, this);\n    };\n    MarketPanel.prototype.removeListen = function () {\n        if (!this.mInitialized)\n            return;\n        this.mSelectItem.off(\"buyItem\", this.onBuyItemHandler, this);\n        this.mSelectItem.off(\"popItemCard\", this.onPopItemCardHandler, this);\n        this.mCloseBtn.off(\"pointerup\", this.onCloseHandler, this);\n    };\n    MarketPanel.prototype.resize = function (w, h) {\n        // super.resize(w, h);\n        var scale = this.scale;\n        var zoom = this.mWorld.uiScale;\n        var width = this.scene.cameras.main.width / scale;\n        var height = this.scene.cameras.main.height / scale;\n        var centerX = this.scene.cameras.main.centerX / scale;\n        this.setSize(width, height);\n        this.mTIle.x = centerX;\n        var shelfHeight = 290 * this.dpr * zoom;\n        this.mBackgroundColor.setInteractive(new Phaser.Geom.Rectangle(0, 0, width * zoom, height * zoom), Phaser.Geom.Rectangle.Contains);\n        this.mShelfContainer.setSize(width, shelfHeight);\n        this.mShelfContainer.setPosition(0, height - this.mShelfContainer.height);\n        this.mShelfBackground.clear();\n        this.mShelfBackground.fillStyle(0x02ccff);\n        this.mShelfBackground.fillRect(0, 0, this.mShelfContainer.width, this.mShelfContainer.height);\n        this.mShelfBackground.y = this.mSubCategeoriesContainer.y + 43 * this.dpr * zoom;\n        this.mSelectItem.setSize(width, height - this.mShelfContainer.height);\n        this.mSelectItem.resize(w, h);\n        this.mCategoriesBar.clear();\n        this.mCategoriesBar.fillStyle(0x3ee1ff);\n        this.mCategoriesBar.fillRect(0, 0, width, 40 * this.dpr * zoom);\n        this.mCategoriesBar.fillStyle(0x04b3d3);\n        this.mCategoriesBar.fillRect(0, 40 * this.dpr * zoom, width, 3 * this.dpr * zoom);\n        this.mSubCategeoriesContainer.setSize(width, 43 * this.dpr * zoom);\n        // this.setInteractive();\n        // this.setInteractive(new Phaser.Geom.Rectangle(-(width >> 1), -(height >> 1), width, height), Phaser.Geom.Rectangle.Contains);\n    };\n    MarketPanel.prototype.setCategories = function (content) {\n        if (!this.mCategoriesContainer) {\n            return;\n        }\n        this.mCategoriesContainer.removeAll(true);\n        var categorys = content.marketCategory;\n        this.mTabs = [];\n        var frame = this.scene.textures.getFrame(this.key, \"categories_normal\");\n        var w = 60;\n        var h = 65;\n        if (frame) {\n            w = frame.width;\n            h = frame.height;\n        }\n        var config0 = {\n            left: w / 2 + 2 * this.dpr,\n            top: 12 * this.dpr,\n            right: w / 2 - 4 * this.dpr,\n            bottom: 2 * this.dpr\n        };\n        var group = new _components_checkbox_group__WEBPACK_IMPORTED_MODULE_4__[\"CheckboxGroup\"]();\n        var zoom = this.mWorld.uiScale;\n        var capW = 77 * this.dpr * zoom;\n        var capH = 38 * this.dpr * zoom;\n        for (var i = 0; i < categorys.length; i++) {\n            var btn = new _lib_rexui_lib_ui_tab_NinePatchTabButton__WEBPACK_IMPORTED_MODULE_9__[\"NinePatchTabButton\"](this.scene, capW, capH, this.key, \"categories_normal\", \"categories_down\", categorys[i].category.value, [config0], 1, 1);\n            // btn.removeAllListeners();\n            btn.setTextStyle({\n                fontSize: 18 * this.dpr * zoom,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_7__[\"Font\"].DEFULT_FONT,\n            });\n            this.mTabs[i] = btn;\n            btn.setData(\"category\", categorys[i]);\n            btn.x = i * 80 * this.dpr * zoom + capW / 2;\n            btn.y = capH / 2;\n            // this.add(btn);\n        }\n        this.mCategoriesContainer.setSize(this.mTabs.length * capW, capH);\n        this.mShelfContainer.add(this.mTabs);\n        this.layoutCategories();\n        group.on(\"selected\", this.onSelectCategoryHandler, this);\n        group.appendItemAll(this.mTabs);\n        group.selectIndex(0);\n    };\n    MarketPanel.prototype.setProp = function (content) {\n        this.clearCategories(this.mItems);\n        this.mItems = [];\n        var commodities = content.commodities;\n        this.mPropGrid.setItems(commodities);\n        this.mPropGrid.layout();\n        this.mPropGrid.setT(0);\n        if (commodities.length > 0)\n            this.onSelectItemHandler(commodities[0]);\n    };\n    MarketPanel.prototype.setCommodityResource = function (content) {\n        if (this.mSelectItem) {\n            this.mSelectItem.setResource(content);\n            this.mSelectItem.setData(\"display\", content);\n        }\n    };\n    MarketPanel.prototype.destroy = function () {\n        if (this.mSubCategorisScroll) {\n            this.mSubCategorisScroll.destroy();\n        }\n        if (this.mPropGrid) {\n            this.mPropGrid.destroy();\n        }\n        _super.prototype.destroy.call(this);\n    };\n    MarketPanel.prototype.layoutCategories = function () {\n        this.mCategoriesBar.y = this.mCategoriesContainer.height + this.mShelfContainer.y;\n        this.mSubCategeoriesContainer.addAt(this.mCategoriesBar, 0);\n        this.mPropContainer.y = this.mSubCategeoriesContainer.y + 43 * this.dpr + this.mSubCategeoriesContainer.height + 9 * this.dpr;\n        this.mShelfBackground.y = this.mSubCategeoriesContainer.y + 43 * this.dpr;\n        this.mSubCategorisScroll.y = this.mCategoriesBar.y + (33 * this.dpr);\n        this.randomCon.y = this.mSubCategorisScroll.y;\n        this.mPropGrid.y = this.mCategoriesBar.y + this.mSubCategeoriesContainer.height + 135 * this.dpr * this.scale;\n        this.mPropGrid.layout();\n        this.mPropGrid.resetMask();\n        this.mSubCategorisScroll.layout();\n        this.mSubCategorisScroll.resetMask();\n    };\n    MarketPanel.prototype.preload = function () {\n        // this.scene.load.atlas(this.key, Url.getUIRes(this.dpr, \"market/market\"), Url.getUIRes(this.dpr, \"market/market.json\"));\n        this.addAtlas(this.key, \"market/market.png\", \"market/market.json\");\n        this.addAtlas(_ui_atals_name__WEBPACK_IMPORTED_MODULE_12__[\"UIAtlasKey\"].commonKey, _ui_atals_name__WEBPACK_IMPORTED_MODULE_12__[\"UIAtlasName\"].commonUrl + \".png\", _ui_atals_name__WEBPACK_IMPORTED_MODULE_12__[\"UIAtlasName\"].commonUrl + \".json\");\n        _super.prototype.preload.call(this);\n    };\n    MarketPanel.prototype.init = function () {\n        var _this = this;\n        if (this.mInitialized)\n            return;\n        var w = this.scene.scale.width / this.scale;\n        var h = this.scene.scale.height / this.scale;\n        var zoom = this.mWorld.uiScale;\n        this.mBackgroundColor = this.scene.make.graphics(undefined, false);\n        this.mBackgroundColor.fillGradientStyle(0x6f75ff, 0x6f75ff, 0x04cbff, 0x04cbff);\n        // this.mBackgroundColor.fillStyle(0x6f75ff);\n        this.mBackgroundColor.fillRect(0, 0, w, h);\n        this.add(this.mBackgroundColor);\n        this.mShelfContainer = this.scene.make.container({\n            x: (w / 2),\n            y: h\n        }, false).setSize(w, 290 * this.dpr * zoom);\n        var frame = this.scene.textures.getFrame(this.key, \"bg\");\n        var countW = Math.ceil(w / (frame.width * zoom));\n        var countH = Math.ceil((h - this.mShelfContainer.height + frame.height * zoom) / (frame.height * zoom));\n        for (var i = 0; i < countW; i++) {\n            for (var j = 0; j < countH; j++) {\n                var bg = this.scene.make.image({\n                    x: i * frame.width * zoom,\n                    y: j * frame.height * zoom,\n                    key: this.key,\n                    frame: \"bg\"\n                }, false).setScale(zoom);\n                this.add(bg);\n            }\n        }\n        this.mShelfBackground = this.scene.make.graphics(undefined, false);\n        this.mCloseBtn = this.scene.make.image({\n            key: this.key,\n            frame: \"back_arrow\",\n            x: 21 * this.dpr,\n            y: 30 * this.dpr\n        }).setInteractive().setScale(zoom);\n        this.mPropContainer = this.scene.make.container(undefined, false);\n        this.mCategoriesContainer = this.scene.make.container(undefined, false);\n        this.mSubCategeoriesContainer = this.scene.make.container(undefined, false);\n        this.mShelfContainer.add([this.mShelfBackground, this.mCategoriesContainer, this.mPropContainer]);\n        this.add([this.mShelfContainer, this.mSubCategeoriesContainer]);\n        this.mSelectItem = new _ElementDetail__WEBPACK_IMPORTED_MODULE_1__[\"ElementDetail\"](this.scene, this.mWorld, this.key, this.dpr, this.mWorld.uiScale);\n        this.mSelectItem.setSize(w, h - this.mShelfContainer.height);\n        this.mTIle = this.scene.make.text({\n            text: _i18n__WEBPACK_IMPORTED_MODULE_2__[\"i18n\"].t(\"market.title\"),\n            y: 30 * this.dpr,\n            style: {\n                fontSize: 36 * this.dpr,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_7__[\"Font\"].DEFULT_FONT\n            }\n        }).setOrigin(0.5);\n        this.add([this.mTIle, this.mSelectItem, this.mCloseBtn]);\n        _super.prototype.init.call(this);\n        this.mCategoriesBar = this.scene.make.graphics(undefined, false);\n        var capW = 56 * this.dpr;\n        var capH = 41 * this.dpr;\n        var config = {\n            x: w / 2,\n            // y: 0,\n            // width: w,\n            // height: capH,\n            table: {\n                width: w - 30 * this.dpr,\n                height: capH,\n                cellWidth: capW,\n                cellHeight: capH,\n                reuseCellContainer: true,\n                cellOriginX: 0,\n                cellOriginY: 0,\n            },\n            scrollMode: 1,\n            createCellContainerCallback: function (cell, cellContainer) {\n                var scene = cell.scene, item = cell.item;\n                if (cellContainer === null) {\n                    cellContainer = new _TextButton__WEBPACK_IMPORTED_MODULE_5__[\"TextButton\"](scene, _this.dpr, zoom);\n                    // cellContainer.width = capW;\n                    // cellContainer.height = capH;\n                    _this.add(cellContainer);\n                }\n                cellContainer.setText(item.value);\n                // cellContainer.setSize(width, height);\n                cellContainer.setData({ item: item });\n                if (item && _this.mPreSubCategoris && _this.mPreSubCategoris.key === item.key) {\n                    cellContainer.changeDown();\n                }\n                else {\n                    cellContainer.changeNormal();\n                }\n                return cellContainer;\n            },\n        };\n        this.mSubCategorisScroll = new _lib_rexui_lib_ui_gridtable_GameGridTable__WEBPACK_IMPORTED_MODULE_8__[\"GameGridTable\"](this.scene, config);\n        this.mSubCategorisScroll.on(\"cellTap\", function (cell, index) {\n            _this.onSelectSubCategoryHandler(cell);\n        });\n        this.add(this.mSubCategorisScroll.table);\n        this.randomCon = this.scene.make.container(undefined, false);\n        this.randomCon.x = w * 0.5;\n        this.randomCon.visible = false;\n        this.add(this.randomCon);\n        this.randomRefeshTime = this.scene.make.text({\n            x: -w * 0.5 + 10 * this.dpr, y: -12 * this.dpr,\n            text: _i18n__WEBPACK_IMPORTED_MODULE_2__[\"i18n\"].t(\"market.refreshtime\"),\n            style: {\n                color: \"#007AAE\",\n                fontSize: 13 * this.dpr * zoom,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_7__[\"Font\"].DEFULT_FONT\n            }\n        }).setOrigin(0, 0.5);\n        var btnWidth = 80 * this.dpr, btnHeight = 30 * this.dpr;\n        this.randomRefreshBtn = new _lib_rexui_lib_ui_button_NineSliceButton__WEBPACK_IMPORTED_MODULE_11__[\"NineSliceButton\"](this.scene, w * 0.5, this.randomRefeshTime.y, btnWidth, btnHeight, _ui_atals_name__WEBPACK_IMPORTED_MODULE_12__[\"UIAtlasKey\"].commonKey, \"button_g\", _i18n__WEBPACK_IMPORTED_MODULE_2__[\"i18n\"].t(\"market.refresh\"), this.dpr, this.scale, {\n            left: 15 * this.dpr,\n            top: 15 * this.dpr,\n            right: 15 * this.dpr,\n            bottom: 15 * this.dpr\n        });\n        this.randomRefreshBtn.x = w * 0.5 - this.randomRefreshBtn.width * 0.5 - 10 * this.dpr;\n        this.randomRefreshBtn.setTextOffset(0, 5 * this.dpr);\n        this.randomRefreshBtn.setTextStyle({\n            color: \"#0\",\n            fontSize: 13 * this.dpr,\n            fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_7__[\"Font\"].BOLD_FONT\n        });\n        this.randomRefreshBtn.setFontStyle(\"bold\");\n        this.refreshIcon = this.scene.make.image({ key: _ui_atals_name__WEBPACK_IMPORTED_MODULE_12__[\"UIAtlasKey\"].commonKey, frame: \"iv_coin\" }).setScale(0.8);\n        this.refreshIcon.setPosition(-10 * this.dpr, -8 * this.dpr);\n        this.refreshNeedCount = this.scene.make.text({\n            x: 0 * this.dpr, y: this.refreshIcon.y,\n            text: \"100\",\n            style: {\n                fontSize: 10 * this.dpr * zoom,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_7__[\"Font\"].DEFULT_FONT\n            }\n        }).setOrigin(0, 0.5);\n        this.randomRefreshBtn.add([this.refreshIcon, this.refreshNeedCount]);\n        this.randomCon.add([this.randomRefeshTime, this.randomRefreshBtn]);\n        var propFrame = this.scene.textures.getFrame(this.key, \"border\");\n        var cellWidth = propFrame.width * zoom + 10 * this.dpr;\n        var cellHeight = propFrame.height * zoom + 10 * this.dpr;\n        var propGridConfig = {\n            x: w / 2,\n            y: 1051 + (20 * this.dpr * zoom) / 2,\n            // y: 0,\n            table: {\n                width: w - 20 * this.dpr * zoom,\n                height: 260 * this.dpr * zoom,\n                columns: 3,\n                cellWidth: cellWidth,\n                cellHeight: cellHeight,\n                reuseCellContainer: true,\n                // mask: false,\n                cellOriginX: 0,\n                cellOriginY: 0,\n                zoom: zoom,\n            },\n            scrollMode: 1,\n            clamplChildOY: false,\n            createCellContainerCallback: function (cell, cellContainer) {\n                var scene = cell.scene, item = cell.item;\n                if (cellContainer === null) {\n                    cellContainer = new _item__WEBPACK_IMPORTED_MODULE_6__[\"MarketItem\"](scene, 0, 0, _this.dpr, zoom);\n                    // cellContainer.width = capW;\n                    // cellContainer.height = capH;\n                    _this.add(cellContainer);\n                }\n                // cellContainer.setSize(width, height);\n                cellContainer.setData({ item: item });\n                cellContainer.setProp(item);\n                return cellContainer;\n            },\n        };\n        this.mPropGrid = new _lib_rexui_lib_ui_gridtable_GameGridTable__WEBPACK_IMPORTED_MODULE_8__[\"GameGridTable\"](this.scene, propGridConfig);\n        this.mPropGrid.layout();\n        this.mPropGrid.on(\"cellTap\", function (cell) {\n            var data = cell.getData(\"item\");\n            if (data) {\n                _this.onSelectItemHandler(data);\n            }\n        });\n        this.add(this.mPropGrid.table);\n        this.resize(0, 0);\n        this.emit(\"getCategories\");\n    };\n    MarketPanel.prototype.setSelect = function () {\n        // this.mSelectItem.setProp();\n    };\n    MarketPanel.prototype.clearCategories = function (tabs) {\n        if (!tabs) {\n            return;\n        }\n        tabs.map(function (tab) { return tab.destroy(); });\n        tabs = undefined;\n    };\n    MarketPanel.prototype.onSelectCategoryHandler = function (gameobject) {\n        if (!this.mSubCategeoriesContainer) {\n            return;\n        }\n        this.mPreSubCategoris = null;\n        this.clearCategories(this.mSubTabs);\n        var subcategory = gameobject.getData(\"category\");\n        this.mSelectedCategories = gameobject;\n        if (subcategory) {\n            var subcategorys = subcategory.subcategory;\n            if (this.mSubCategorisScroll) {\n                this.mSubCategorisScroll.setItems(subcategorys);\n                this.mSubCategorisScroll.layout();\n                var cell = this.mSubCategorisScroll.getCell(0);\n                this.onSelectSubCategoryHandler(cell.container);\n            }\n        }\n    };\n    MarketPanel.prototype.onSelectSubCategoryHandler = function (gameobject) {\n        if (!this.mSelectedCategories) {\n            return;\n        }\n        if (!(gameobject instanceof _TextButton__WEBPACK_IMPORTED_MODULE_5__[\"TextButton\"])) {\n            return;\n        }\n        var categories = this.mSelectedCategories.getData(\"category\");\n        if (!categories) {\n            return;\n        }\n        var subCategories = gameobject.getData(\"item\");\n        if (!subCategories) {\n            return;\n        }\n        this.queryProp(categories.category.key, subCategories.key);\n        this.mPreSubCategoris = subCategories;\n        this.mSubCategorisScroll.refresh();\n    };\n    MarketPanel.prototype.queryProp = function (category, subCategory) {\n        this.emit(\"queryProp\", 1, category, subCategory);\n    };\n    MarketPanel.prototype.onSelectItemHandler = function (prop) {\n        this.mSelectItem.setProp(prop);\n        this.mSelectItem.setData(\"propdata\", prop);\n        this.emit(\"queryPropResource\", prop);\n    };\n    MarketPanel.prototype.onBuyItemHandler = function (prop) {\n        var _this = this;\n        var itemdata = this.getBuyPackageData();\n        itemdata.count = prop.quantity;\n        var data = itemdata;\n        var title = _i18n__WEBPACK_IMPORTED_MODULE_2__[\"i18n\"].t(\"market.payment\");\n        var resource = this.mSelectItem.getData(\"display\");\n        var confirmHandler = new _Handler_Handler__WEBPACK_IMPORTED_MODULE_10__[\"Handler\"](this, function () {\n            _this.emit(\"buyItem\", prop);\n        }, [prop]);\n        this.showPropFun({ confirmHandler: confirmHandler, data: data, resource: resource, slider: false, title: title });\n    };\n    MarketPanel.prototype.onCloseHandler = function () {\n        this.emit(\"close\");\n    };\n    MarketPanel.prototype.onPopItemCardHandler = function (prop, display) {\n        if (prop) {\n            this.emit(\"popItemCard\", prop, display);\n        }\n    };\n    MarketPanel.prototype.getBuyPackageData = function () {\n        var propdata = this.mSelectItem.getData(\"propdata\");\n        var itemdata = pixelpai_proto__WEBPACK_IMPORTED_MODULE_3__[\"op_client\"].CountablePackageItem.create();\n        itemdata.id = propdata.id;\n        itemdata.sellingPrice = propdata.price[0];\n        itemdata.name = propdata.name;\n        itemdata.shortName = propdata.shortName;\n        return itemdata;\n    };\n    MarketPanel.prototype.showPropFun = function (config) {\n        var uimanager = this.mWorld.uiManager;\n        uimanager.showMed(\"PicPropFun\", config);\n    };\n    return MarketPanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/Market/MarketPanel.ts?");

/***/ }),

/***/ "./src/ui/Market/NumberCounter.ts":
/*!****************************************!*\
  !*** ./src/ui/Market/NumberCounter.ts ***!
  \****************************************/
/*! exports provided: NumberCounter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NumberCounter\", function() { return NumberCounter; });\n/* harmony import */ var _components_label_input__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/label.input */ \"./src/ui/components/label.input.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar NumberCounter = /** @class */ (function (_super) {\n    __extends(NumberCounter, _super);\n    function NumberCounter(scene, key, x, y, dpr, scale) {\n        if (dpr === void 0) { dpr = 1; }\n        if (scale === void 0) { scale = 1; }\n        var _this = _super.call(this, scene, x, y) || this;\n        _this.pressDelay = 500;\n        _this.mMinNum = 1;\n        _this.mMaxNum = 99;\n        // this.mBackground = new Phaser.GameObjects.Image(this.scene, 0, 0, 200, 144, key, \"input_bg\", {\n        //   left: 50,\n        //   top: 48,\n        //   right: 50,\n        //   bottom: 48\n        // });\n        _this.mBackground = _this.scene.make.image({\n            key: key,\n            frame: \"input_bg\"\n        }).setScale(scale);\n        _this.mBackground.texture.setFilter(Phaser.Textures.FilterMode.LINEAR);\n        _this.mReduceBtn = _this.scene.make.image({\n            key: key,\n            frame: \"reduce\",\n        }, false).setInteractive().setScale(scale);\n        _this.mReduceBtn.x = -(_this.mBackground.displayWidth / 2) - _this.mReduceBtn.displayWidth / 2 - 7 * dpr * scale;\n        _this.mReduceBtn.texture.setFilter(Phaser.Textures.FilterMode.LINEAR);\n        _this.mIncreaseBtn = _this.scene.make.image({\n            key: key,\n            frame: \"increase\",\n        }, false).setInteractive().setScale(scale);\n        _this.mIncreaseBtn.texture.setFilter(Phaser.Textures.FilterMode.LINEAR);\n        _this.mIncreaseBtn.x = (_this.mBackground.displayWidth + _this.mIncreaseBtn.displayWidth) / 2 + 7 * dpr * scale;\n        // this.mInputText = new InputText(this.scene, 0, 0, 200, 80, {\n        //   fontSize: \"46px\",\n        //   color: \"#666666\",\n        //   align: \"center\",\n        //   type: \"number\",\n        //   text: 1\n        // }).setOrigin(0.5);\n        _this.mLabelInput = new _components_label_input__WEBPACK_IMPORTED_MODULE_0__[\"LabelInput\"](_this.scene, {\n            x: 0,\n            y: 0,\n            width: 160,\n            height: 80,\n            fontSize: 14 * dpr * scale + \"px\",\n            color: \"#666666\",\n            align: \"center\",\n            type: \"number\",\n        });\n        _this.mLabelInput.setOrigin(0.5);\n        _this.mLabelInput.setText(\"1\");\n        _this.mLabelInput.on(\"textchange\", _this.onTextChangeHandler, _this);\n        _this.add([_this.mBackground, _this.mLabelInput, _this.mReduceBtn, _this.mIncreaseBtn]);\n        _this.setSize(_this.mIncreaseBtn.displayWidth + _this.mReduceBtn.displayWidth + _this.mBackground.displayWidth + 14 * dpr * scale, _this.mBackground.displayHeight);\n        return _this;\n    }\n    NumberCounter.prototype.resize = function () {\n    };\n    NumberCounter.prototype.setMinNumber = function (val) {\n        this.mMinNum = val;\n    };\n    NumberCounter.prototype.setMaxNumber = function (val) {\n        this.mMaxNum = val;\n    };\n    NumberCounter.prototype.addActionListener = function () {\n        this.mIncreaseBtn.on(\"pointerup\", this.onIncreaseHandler, this);\n        this.mIncreaseBtn.on(\"pointerdown\", this.onIncreaseDownHandler, this);\n        this.mReduceBtn.on(\"pointerup\", this.onReduceHandler, this);\n        this.mReduceBtn.on(\"pointerdown\", this.onReduceDownHandler, this);\n    };\n    NumberCounter.prototype.removeActionListener = function () {\n        this.mIncreaseBtn.off(\"pointerup\", this.onIncreaseHandler, this);\n        this.mIncreaseBtn.off(\"pointerdown\", this.onIncreaseDownHandler, this);\n        this.mReduceBtn.off(\"pointerup\", this.onReduceHandler, this);\n        this.mReduceBtn.off(\"pointerdown\", this.onReduceDownHandler, this);\n    };\n    NumberCounter.prototype.setCounter = function (num) {\n        if (isNaN(num)) {\n            num = 0;\n        }\n        if (num < this.mMinNum) {\n            num = this.mMinNum;\n        }\n        else if (num > this.mMaxNum) {\n            num = this.mMaxNum;\n        }\n        this.mLabelInput.setText(num.toString());\n        this.emit(\"change\", num);\n    };\n    NumberCounter.prototype.setBlur = function () {\n        this.mLabelInput.setBlur();\n    };\n    Object.defineProperty(NumberCounter.prototype, \"number\", {\n        get: function () {\n            return parseInt(this.mLabelInput.text, 10);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    NumberCounter.prototype.onReduceHandler = function () {\n        var num = parseInt(this.mLabelInput.text, 10);\n        this.setCounter(--num);\n        this.clearTween();\n    };\n    NumberCounter.prototype.onIncreaseHandler = function () {\n        var num = parseInt(this.mLabelInput.text, 10);\n        this.setCounter(++num);\n        this.clearTween();\n    };\n    NumberCounter.prototype.onTextChangeHandler = function () {\n        this.setCounter(parseInt(this.mLabelInput.text, 10));\n    };\n    NumberCounter.prototype.onReduceDownHandler = function () {\n        var _this = this;\n        this.pressTimeout = setTimeout(function () {\n            _this.delayTweenNumber(_this.mMinNum);\n        }, this.pressDelay);\n        this.setBlur();\n    };\n    NumberCounter.prototype.onIncreaseDownHandler = function () {\n        var _this = this;\n        this.pressTimeout = setTimeout(function () {\n            _this.delayTweenNumber(_this.mMaxNum);\n        }, this.pressDelay);\n        this.setBlur();\n    };\n    NumberCounter.prototype.delayTweenNumber = function (to) {\n        var _this = this;\n        var number = this.number;\n        this.tween = this.scene.tweens.addCounter({\n            from: number,\n            to: to,\n            onUpdate: function () {\n                _this.setCounter(_this.tween.getValue() >> 0);\n            },\n            duration: Math.abs(number - to) * 50\n        });\n    };\n    NumberCounter.prototype.clearTween = function () {\n        clearTimeout(this.pressTimeout);\n        if (this.tween) {\n            this.tween.stop();\n            this.tween = undefined;\n        }\n    };\n    return NumberCounter;\n}(Phaser.GameObjects.Container));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/Market/NumberCounter.ts?");

/***/ }),

/***/ "./src/ui/Market/TextButton.ts":
/*!*************************************!*\
  !*** ./src/ui/Market/TextButton.ts ***!
  \*************************************/
/*! exports provided: TextButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TextButton\", function() { return TextButton; });\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar TextButton = /** @class */ (function (_super) {\n    __extends(TextButton, _super);\n    function TextButton(scene, dpr, scale, text, x, y) {\n        if (scale === void 0) { scale = 1; }\n        var _this = _super.call(this, scene, x, y) || this;\n        _this.normalColor = \"#FFFFFF\";\n        _this.changeColor = \"#0099cc\";\n        _this.mText = _this.scene.make.text({\n            text: text,\n            style: {\n                fontSize: 15 * window.devicePixelRatio,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT\n            }\n        }, false);\n        _this.add(_this.mText);\n        return _this;\n        // this.on(\"pointerup\", this.onPointerUpHandler, this);\n    }\n    TextButton.prototype.setText = function (val) {\n        this.mText.text = val;\n    };\n    TextButton.prototype.setFontSize = function (size) {\n        this.mText.setFontSize(size);\n    };\n    TextButton.prototype.setFontStyle = function (val) {\n        this.mText.setFontStyle(val);\n    };\n    TextButton.prototype.setStyle = function (style) {\n        this.mText.setStyle(style);\n    };\n    TextButton.prototype.setNormalColor = function (color) {\n        this.normalColor = color;\n    };\n    TextButton.prototype.setChangeColor = function (color) {\n        this.changeColor = color;\n    };\n    TextButton.prototype.changeDown = function () {\n        this.mText.setFill(this.changeColor);\n    };\n    TextButton.prototype.changeNormal = function () {\n        this.mText.setFill(this.normalColor);\n    };\n    TextButton.prototype.onPointerUpHandler = function (pointer) {\n        this.emit(\"click\", pointer, this);\n    };\n    Object.defineProperty(TextButton.prototype, \"text\", {\n        get: function () {\n            return this.mText;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return TextButton;\n}(Phaser.GameObjects.Container));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/Market/TextButton.ts?");

/***/ }),

/***/ "./src/ui/Market/item.ts":
/*!*******************************!*\
  !*** ./src/ui/Market/item.ts ***!
  \*******************************/
/*! exports provided: MarketItem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MarketItem\", function() { return MarketItem; });\n/* harmony import */ var _components_dynamic_image__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/dynamic.image */ \"./src/ui/components/dynamic.image.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar MarketItem = /** @class */ (function (_super) {\n    __extends(MarketItem, _super);\n    function MarketItem(scene, x, y, dpr, zoom) {\n        var _this = _super.call(this, scene, x, y) || this;\n        _this.dpr = dpr;\n        _this.mBackground = _this.scene.make.image({\n            key: \"market\",\n            frame: \"border\"\n        }, false).setOrigin(0).setScale(zoom);\n        _this.mBackground.texture.setFilter(Phaser.Textures.FilterMode.LINEAR);\n        _this.mBorder = _this.scene.make.image({\n            x: 3 * dpr * zoom,\n            y: 3 * dpr * zoom,\n            key: \"market\",\n            frame: \"item_border\"\n        }, false).setOrigin(0).setScale(zoom);\n        _this.mBorder.texture.setFilter(Phaser.Textures.FilterMode.LINEAR);\n        // this.mBorder.x = -42 * this.dpr;\n        // this.mBorder.x = -this.mBackground.width / 2 + this.mBorder.width / 2 + (this.mBackground.height - this.mBorder.height / 2);\n        // this.mBorder.x = -(this.mBackground.displayWidth - this.mBorder.displayWidth) / 2 + (this.mBackground.displayHeight - this.mBorder.displayHeight) / 2;\n        _this.mPropImage = new _components_dynamic_image__WEBPACK_IMPORTED_MODULE_0__[\"DynamicImage\"](scene, 0, 0);\n        _this.mPropImage.scale = _this.dpr * zoom;\n        _this.mNickName = _this.scene.make.text({\n            x: 62 * _this.dpr * zoom,\n            y: 6 * _this.dpr * zoom,\n            style: {\n                fontSize: 13 * _this.dpr * zoom,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_2__[\"Font\"].DEFULT_FONT,\n                color: \"#3399cc\"\n            }\n        }, false);\n        _this.mCoinIcon = _this.scene.make.image({\n            x: 45 * _this.dpr * zoom,\n            y: 40 * _this.dpr * zoom,\n            key: \"market\",\n            frame: \"tuding_icon\"\n        }, false).setOrigin(0).setScale(zoom);\n        var priceBg = _this.scene.make.image({\n            x: 62 * _this.dpr * zoom,\n            y: 39 * _this.dpr * zoom,\n            key: \"market\",\n            frame: \"price_border\"\n        }, false).setOrigin(0).setScale(zoom);\n        _this.mPriceText = _this.scene.make.text({\n            x: 92 * _this.dpr * zoom,\n            y: 49 * _this.dpr * zoom,\n            style: {\n                fontSize: 13 * _this.dpr * zoom,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_2__[\"Font\"].DEFULT_FONT,\n                color: \"#996600\"\n            }\n        }).setOrigin(0.5);\n        _this.mTagIcon = _this.scene.make.image({\n            key: \"market\",\n            frame: \"tip_red\",\n            x: -86 * _this.dpr,\n            y: -34 * _this.dpr\n        }, false).setOrigin(0).setScale(zoom);\n        _this.add([_this.mBackground, _this.mBorder, _this.mPropImage, _this.mNickName, priceBg, _this.mCoinIcon, _this.mPriceText]);\n        _this.setSize(_this.mBackground.displayWidth, _this.mBackground.displayHeight);\n        return _this;\n    }\n    MarketItem.prototype.setProp = function (content) {\n        this.mProp = content;\n        this.mPropImage.load(_utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getOsdRes(content.icon), this, this.onPropLoadComplete);\n        this.mPropImage.x = this.mBorder.x + this.mBorder.displayWidth / 2;\n        this.mPropImage.y = this.mBorder.y + this.mBorder.displayHeight / 2;\n        var nickname = content.shortName || content.name;\n        if (nickname.length > 4) {\n            var maxWidth = 50 * this.dpr;\n            for (var i = 4; i < nickname.length; i++) {\n                var text = nickname.slice(0, i);\n                var width = this.mNickName.setText(text).width;\n                if (width > maxWidth) {\n                    text += \"...\";\n                    nickname = text;\n                    break;\n                }\n            }\n        }\n        this.mNickName.setText(nickname);\n        this.mPriceText.setText(content.price[0].price.toString());\n        var coinIcon = _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Coin\"].getIcon(content.price[0].coinType);\n        this.mCoinIcon.setFrame(coinIcon);\n    };\n    MarketItem.prototype.onPropLoadComplete = function () {\n        if (this.mPropImage) {\n            var texture = this.mPropImage.texture;\n            if (texture) {\n                texture.setFilter(Phaser.Textures.FilterMode.LINEAR);\n            }\n        }\n    };\n    MarketItem.prototype.onPointerUpHandler = function () {\n        this.emit(\"select\", this.mProp);\n    };\n    return MarketItem;\n}(Phaser.GameObjects.Container));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/Market/item.ts?");

/***/ }),

/***/ "./src/ui/MessageBox/MessageBoxMediator.ts":
/*!*************************************************!*\
  !*** ./src/ui/MessageBox/MessageBoxMediator.ts ***!
  \*************************************************/
/*! exports provided: MessageBoxMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MessageBoxMediator\", function() { return MessageBoxMediator; });\n/* harmony import */ var _MessageBoxView__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MessageBoxView */ \"./src/ui/MessageBox/MessageBoxView.ts\");\n/* harmony import */ var _components_ninepatch_button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/ninepatch.button */ \"./src/ui/components/ninepatch.button.ts\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/interface/baseUI/UIType */ \"./lib/rexui/lib/ui/interface/baseUI/UIType.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\nvar MessageBoxMediator = /** @class */ (function (_super) {\n    __extends(MessageBoxMediator, _super);\n    function MessageBoxMediator(layerManager, scene, world) {\n        var _this = _super.call(this) || this;\n        _this.world = world;\n        _this.mScene = scene;\n        _this.mLayerManager = layerManager;\n        _this.mUIType = _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_5__[\"UIType\"].Tips;\n        return _this;\n    }\n    MessageBoxMediator.prototype.isSceneUI = function () {\n        return false;\n    };\n    MessageBoxMediator.prototype.isShow = function () {\n        return this.mView ? this.mView.isShow() : false;\n    };\n    MessageBoxMediator.prototype.show = function (param) {\n        if (this.mView && this.isShow()) {\n            return;\n        }\n        this.mView = new _MessageBoxView__WEBPACK_IMPORTED_MODULE_0__[\"MessageBoxView\"](this.mScene, this.world);\n        this.mView.show(param);\n        this.mLayerManager.addToToolTipsLayer(this.mView);\n        this.mScene.input.on(\"gameobjectdown\", this.onBtnHandler, this);\n        _super.prototype.show.call(this, param);\n    };\n    MessageBoxMediator.prototype.update = function (param) {\n        _super.prototype.update.call(this, param);\n    };\n    MessageBoxMediator.prototype.hide = function () {\n        this.mShow = false;\n        this.mScene.input.off(\"gameobjectdown\", this.onBtnHandler, this);\n        if (this.mView) {\n            this.mView.hide();\n            this.mView = null;\n        }\n    };\n    MessageBoxMediator.prototype.destroy = function () {\n        this.mScene.input.off(\"gameobjectdown\", this.onBtnHandler, this);\n        _super.prototype.destroy.call(this);\n    };\n    MessageBoxMediator.prototype.onBtnHandler = function (pointer, gameobject) {\n        if (!gameobject)\n            return;\n        if (gameobject instanceof _components_ninepatch_button__WEBPACK_IMPORTED_MODULE_1__[\"NinePatchButton\"]) {\n            var btn = gameobject.getBtnData();\n            if (!btn) {\n                return;\n            }\n            var param = this.mParam[0];\n            var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_3__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_TARGET_UI);\n            var content = pkt.content;\n            content.uiId = param.id;\n            content.componentId = btn.node.id;\n            this.world.connection.send(pkt);\n        }\n    };\n    return MessageBoxMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_4__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/MessageBox/MessageBoxMediator.ts?");

/***/ }),

/***/ "./src/ui/MessageBox/MessageBoxView.ts":
/*!*********************************************!*\
  !*** ./src/ui/MessageBox/MessageBoxView.ts ***!
  \*********************************************/
/*! exports provided: MessageBoxView */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MessageBoxView\", function() { return MessageBoxView; });\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _components_ninepatch_button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/ninepatch.button */ \"./src/ui/components/ninepatch.button.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _components_nine_patch__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/nine.patch */ \"./src/ui/components/nine.patch.ts\");\n/* harmony import */ var _lib_rexui_lib_plugins_gameobjects_text_bbcodetext_BBCodeText_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../lib/rexui/lib/plugins/gameobjects/text/bbcodetext/BBCodeText.js */ \"./lib/rexui/lib/plugins/gameobjects/text/bbcodetext/BBCodeText.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar MessageBoxView = /** @class */ (function (_super) {\n    __extends(MessageBoxView, _super);\n    function MessageBoxView(scene, world) {\n        return _super.call(this, scene, world) || this;\n    }\n    MessageBoxView.prototype.resize = function () {\n        var size = this.mWorld.getSize();\n        if (this.mWorld.game.device.os.desktop) {\n            this.x = size.width >> 1;\n            this.y = size.height >> 1;\n        }\n        else {\n            this.x = size.width >> 1;\n            this.y = size.height >> 1;\n        }\n    };\n    MessageBoxView.prototype.show = function (param) {\n        _super.prototype.show.call(this, param);\n        if (!this.mInitialized) {\n            return;\n        }\n        this.mButtons = [];\n        if (param[0] && param[0].text && param[0].text[0]) {\n            this.mTxt.setText(param[0].text[0].text);\n        }\n        var buttons = param[0].button;\n        // buttons.push({text:\"\",});\n        if (buttons) {\n            var btnWid = 46;\n            var btnHei = 24;\n            var w = (this.mWidth) / buttons.length;\n            var btnSp = this.mScene.make.container(undefined, false);\n            btnSp.y = this.mHeight - btnHei - 100;\n            for (var i = 0; i < buttons.length; i++) {\n                var txt = buttons[i] ? buttons[i].text : \"\";\n                var btn = new _components_ninepatch_button__WEBPACK_IMPORTED_MODULE_1__[\"NinePatchButton\"](this.mScene, 0, 0, btnWid, btnHei, \"button_blue\", \"button_blue\", buttons[i].text, _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"BlueButton\"].getConfig(), buttons[i]);\n                btn.x = i * w + btnWid / 2;\n                this.mButtons.push(btn);\n                btnSp.add(btn);\n            }\n            btnSp.setSize((buttons.length - 1) * w + btnWid, btnHei);\n            btnSp.x = this.width - btnSp.width >> 1;\n            this.add(btnSp);\n        }\n        this.resize();\n    };\n    MessageBoxView.prototype.destroy = function () {\n        if (this.mTxt) {\n            this.mTxt.destroy(true);\n        }\n        if (this.mButtons && this.mButtons.length > 0) {\n            this.mButtons.forEach(function (btn) {\n                if (!btn)\n                    return;\n                btn.destroy(true);\n            });\n            this.mButtons.length = 0;\n            this.mButtons = [];\n        }\n        this.mTxt = null;\n        this.mButtons = null;\n        _super.prototype.destroy.call(this);\n    };\n    Object.defineProperty(MessageBoxView.prototype, \"buttons\", {\n        get: function () {\n            return this.mButtons;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    MessageBoxView.prototype.preload = function () {\n        if (!this.mScene) {\n            return;\n        }\n        this.mScene.load.atlas(_utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"BlueButton\"].getName(), _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"BlueButton\"].getPNG(), _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"BlueButton\"].getJSON());\n        this.mScene.load.image(_utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Border\"].getName(), _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Border\"].getPNG());\n        _super.prototype.preload.call(this);\n    };\n    MessageBoxView.prototype.init = function () {\n        var size = this.mWorld.getSize();\n        this.mWidth = 300;\n        this.mHeight = 200;\n        var border = new _components_nine_patch__WEBPACK_IMPORTED_MODULE_3__[\"NinePatch\"](this.scene, 0, 0, this.mWidth, this.mHeight, _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Border\"].getName(), null, _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Border\"].getConfig());\n        border.x = 0;\n        border.y = 0;\n        this.add(border);\n        this.mTxt = new _lib_rexui_lib_plugins_gameobjects_text_bbcodetext_BBCodeText_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"](this.mScene, 0, 0, \"\", {\n            fontSize: \"16px\",\n            wrap: {\n                mode: \"char\",\n                width: border.width\n            },\n            halign: \"center\"\n        });\n        this.mTxt.x = -this.mWidth / 2 + 10;\n        this.mTxt.y = -this.mHeight / 2 + 10;\n        this.add(this.mTxt);\n        _super.prototype.init.call(this);\n    };\n    return MessageBoxView;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/MessageBox/MessageBoxView.ts?");

/***/ }),

/***/ "./src/ui/MineCar/MineCar.ts":
/*!***********************************!*\
  !*** ./src/ui/MineCar/MineCar.ts ***!
  \***********************************/
/*! exports provided: MineCar */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MineCar\", function() { return MineCar; });\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar MineCar = /** @class */ (function (_super) {\n    __extends(MineCar, _super);\n    function MineCar($world) {\n        var _this = _super.call(this) || this;\n        _this.world = $world;\n        _this.mEvent = new Phaser.Events.EventEmitter();\n        return _this;\n    }\n    MineCar.prototype.register = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.addPacketListener(this);\n            this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_MINING_MODE_QUERY_MINE_PACKAGE, this.onQueryMinePackageHandler);\n        }\n    };\n    MineCar.prototype.unregister = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.removePacketListener(this);\n        }\n    };\n    MineCar.prototype.on = function (event, fn, context) {\n        this.mEvent.on(event, fn, context);\n    };\n    MineCar.prototype.off = function (event, fn, context) {\n        this.mEvent.off(event, fn, context);\n    };\n    MineCar.prototype.discard = function (items) {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_MINING_MODE_DELETE_MINEPACKAGE_ITEM);\n        var content = packet.content;\n        content.items = items;\n        this.connection.send(packet);\n    };\n    MineCar.prototype.destroy = function () {\n        this.unregister();\n        this.mEvent.destroy();\n    };\n    MineCar.prototype.onQueryMinePackageHandler = function (packet) {\n        var content = packet.content;\n        if (content && content.subcategories)\n            content.subcategories.unshift({ key: \"all\", value: \"\" });\n        this.mEvent.emit(\"query\", packet.content);\n    };\n    Object.defineProperty(MineCar.prototype, \"connection\", {\n        get: function () {\n            if (this.world) {\n                return this.world.connection;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return MineCar;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PacketHandler\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/MineCar/MineCar.ts?");

/***/ }),

/***/ "./src/ui/MineCar/MineCarMediator.ts":
/*!*******************************************!*\
  !*** ./src/ui/MineCar/MineCarMediator.ts ***!
  \*******************************************/
/*! exports provided: MineCarMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MineCarMediator\", function() { return MineCarMediator; });\n/* harmony import */ var _MineCarPanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MineCarPanel */ \"./src/ui/MineCar/MineCarPanel.ts\");\n/* harmony import */ var _MineCar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MineCar */ \"./src/ui/MineCar/MineCar.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar MineCarMediator = /** @class */ (function (_super) {\n    __extends(MineCarMediator, _super);\n    function MineCarMediator(layerManager, scene, worldService) {\n        var _this = _super.call(this) || this;\n        _this.layerManager = layerManager;\n        _this.scene = scene;\n        _this.world = worldService;\n        _this.mMineCar = new _MineCar__WEBPACK_IMPORTED_MODULE_1__[\"MineCar\"](worldService);\n        _this.mMineCar.register();\n        _this.mMineCar.on(\"query\", _this.onQueryHandler, _this);\n        return _this;\n    }\n    MineCarMediator.prototype.show = function (param) {\n        if (this.mShow) {\n            return;\n        }\n        _super.prototype.show.call(this, param);\n        if (!this.mView) {\n            this.mView = new _MineCarPanel__WEBPACK_IMPORTED_MODULE_0__[\"MineCarPanel\"](this.scene, this.world);\n        }\n        this.mView.show(param);\n        this.mView.on(\"close\", this.onCloseHandler, this);\n        this.mView.on(\"discard\", this.onDiscardHandler, this);\n        this.layerManager.addToUILayer(this.mView);\n    };\n    MineCarMediator.prototype.update = function (param) {\n        if (!this.mView) {\n            this.show(param);\n            return;\n        }\n        _super.prototype.update.call(this, param);\n    };\n    MineCarMediator.prototype.destroy = function () {\n        this.mShow = false;\n        if (this.mMineCar) {\n            this.mMineCar.off(\"query\", this.onQueryHandler, this);\n            this.mMineCar.unregister();\n            this.mMineCar.destroy();\n            this.mMineCar = null;\n        }\n        _super.prototype.destroy.call(this);\n    };\n    MineCarMediator.prototype.onQueryHandler = function (packet) {\n        this.update(packet);\n    };\n    MineCarMediator.prototype.onDiscardHandler = function (items) {\n        if (this.mMineCar) {\n            this.mMineCar.discard(items);\n        }\n    };\n    MineCarMediator.prototype.onCloseHandler = function () {\n        if (this.mView) {\n            this.mView.hide();\n            this.mView = undefined;\n        }\n        this.mShow = false;\n    };\n    return MineCarMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_2__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/MineCar/MineCarMediator.ts?");

/***/ }),

/***/ "./src/ui/MineCar/MineCarPanel.ts":
/*!****************************************!*\
  !*** ./src/ui/MineCar/MineCarPanel.ts ***!
  \****************************************/
/*! exports provided: MineCarPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MineCarPanel\", function() { return MineCarPanel; });\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\n/* harmony import */ var _components_dynamic_image__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/dynamic.image */ \"./src/ui/components/dynamic.image.ts\");\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _components_alert_view__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/alert.view */ \"./src/ui/components/alert.view.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_gridtable_GameGridTable__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/gridtable/GameGridTable */ \"./lib/rexui/lib/ui/gridtable/GameGridTable.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_button_Button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/button/Button */ \"./lib/rexui/lib/ui/button/Button.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_tab_TabButton__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/tab/TabButton */ \"./lib/rexui/lib/ui/tab/TabButton.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\nvar MineCarPanel = /** @class */ (function (_super) {\n    __extends(MineCarPanel, _super);\n    function MineCarPanel(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.key = \"mine_car\";\n        _this.disInteractive();\n        return _this;\n    }\n    MineCarPanel.prototype.resize = function (width, height) {\n        var w = this.scene.cameras.main.width / this.scale;\n        var h = this.scene.cameras.main.height / this.scale;\n        _super.prototype.resize.call(this, width, height);\n        var zoom = 1;\n        this.setSize(w, h);\n        this.mBackGround.clear();\n        this.mBackGround.fillStyle(0x6AE2FF, 0);\n        this.mBackGround.fillRect(0, 0, w, h);\n        this.mBg.x = w / 2;\n        this.mBg.y = this.mBg.displayHeight / 2 + 107 * this.dpr * zoom;\n        this.carIcon.x = this.mBg.x / 2 - 4 * this.dpr * zoom;\n        this.carIcon.y = this.mBg.y - (this.mBg.displayHeight - this.carIcon.displayHeight) / 2 + 4 * this.dpr * zoom;\n        this.mCloseBtn.x = this.mBg.x + this.mBg.displayWidth / 2;\n        this.mCloseBtn.y = this.mBg.y - (this.mBg.displayHeight - this.mCloseBtn.displayHeight) / 2 + 10 * this.dpr * zoom;\n        this.mCounter.x = this.mBg.x / 2;\n        this.mCounter.y = this.mBg.y + (this.mBg.displayHeight - this.mDiscardBtn.displayHeight) / 2 - 16 * this.dpr * zoom;\n        this.mTips.x = this.mBg.x + 20 * this.dpr * zoom;\n        this.mTips.y = this.mBg.y - this.mBg.displayHeight / 2 - 15 * this.dpr * zoom;\n        this.mDiscardBtn.x = this.mBg.x + this.mBg.displayWidth / 2 - this.mDiscardBtn.displayWidth / 2 - 9 * this.dpr * zoom;\n        this.mDiscardBtn.y = this.mBg.y + this.mBg.displayHeight / 2 - this.mDiscardBtn.displayHeight / 2 - 9 * this.dpr * zoom;\n        this.categoriesBg.x = this.mBg.x;\n        this.categoriesBg.y = this.mBg.y - this.mBg.displayHeight / 2 + this.categoriesBg.displayHeight / 2 + 38 * this.dpr * zoom;\n        this.mPropGrid.refreshPos(this.mBg.x + 2 * this.dpr * zoom, this.mBg.y + 6 * this.dpr * zoom);\n        this.mCategoryTable.refreshPos(this.mBg.x, this.mBg.y - this.mBg.displayHeight / 2 + this.categoriesBg.displayHeight / 2 + 44 * this.dpr * zoom);\n        this.mPropGrid.resetMask();\n        this.mCategoryTable.resetMask();\n    };\n    MineCarPanel.prototype.show = function (param) {\n        _super.prototype.show.call(this, param);\n        if (this.mInitialized && !this.mPreLoad) {\n            this.refreshData();\n        }\n    };\n    MineCarPanel.prototype.update = function (param) {\n        _super.prototype.update.call(this, param);\n        if (this.mInitialized && this.mShow) {\n            this.refreshData();\n        }\n    };\n    MineCarPanel.prototype.setCategories = function (subcategorys) {\n        this.mPreSelectedCategorie = undefined;\n        this.mCategoryTable.setItems(subcategorys);\n    };\n    MineCarPanel.prototype.addListen = function () {\n        if (!this.mInitialized)\n            return;\n        this.removeListen();\n        this.mCloseBtn.on(\"pointerup\", this.onCloseHandler, this);\n        this.mDiscardBtn.on(\"Tap\", this.enterDiscardMode, this);\n    };\n    MineCarPanel.prototype.removeListen = function () {\n        if (!this.mInitialized)\n            return;\n        this.mCloseBtn.off(\"pointerup\", this.onCloseHandler, this);\n        this.mDiscardBtn.off(\"Tap\", this.enterDiscardMode, this);\n    };\n    MineCarPanel.prototype.setProp = function () { };\n    MineCarPanel.prototype.destroy = function () {\n        if (this.mPropGrid) {\n            this.mPropGrid.destroy();\n        }\n        // if (this.mPanel) {\n        //   this.mPanel.removeAll(true);\n        // }\n        if (this.mCategoryTable) {\n            this.mCategoryTable.destroy();\n        }\n        _super.prototype.destroy.call(this);\n    };\n    MineCarPanel.prototype.preload = function () {\n        this.addAtlas(this.key, \"mine_car/mine_car.png\", \"mine_car/mine_car.json\");\n        _super.prototype.preload.call(this);\n    };\n    MineCarPanel.prototype.init = function () {\n        var _this = this;\n        var w = this.scene.cameras.main.width / this.scale;\n        var h = this.scene.cameras.main.height / this.scale;\n        this.setSize(w, h);\n        // this.mPanel = this.scene.make.container(undefined, false);\n        // this.mMask = this.scene.make.graphics(undefined, false);\n        var zoom = 1;\n        this.mBackGround = this.scene.make.graphics(undefined, false);\n        this.mBackGround.clear();\n        this.mBackGround.fillStyle(0x6AE2FF, 0);\n        this.mBackGround.fillRect(0, 0, w, h);\n        this.mBackGround.setInteractive(new Phaser.Geom.Rectangle(0, 0, w, h), Phaser.Geom.Rectangle.Contains);\n        this.mBg = this.scene.make\n            .image({\n            key: this.key,\n            frame: \"bg.png\",\n        })\n            .setScale(zoom);\n        this.mBg.x = w / 2;\n        this.mBg.y = h / 2;\n        // this.mPanel.setSize(bg.displayWidth, bg.displayHeight);\n        this.carIcon = this.scene.make\n            .image({\n            key: this.key,\n            frame: \"car_icon.png\",\n        }, false)\n            .setScale(zoom);\n        this.carIcon.x = (-(this.mBg.width - this.carIcon.width) * zoom) / 2 + 28 * this.dpr * zoom;\n        this.carIcon.y = (-(this.mBg.height - this.carIcon.height / 2) * zoom) / 2 + 10 * this.dpr * zoom;\n        this.mCloseBtn = this.scene.make\n            .image({\n            // x: 110 * this.dpr * zoom,\n            // y: -125 * this.dpr * zoom,\n            key: this.key,\n            frame: \"close_btn.png\",\n        }, false)\n            .setScale(zoom);\n        this.mCloseBtn.setInteractive();\n        this.mCloseBtn.x = (this.mBg.width * zoom) / 2;\n        this.mCloseBtn.y = (-(this.mBg.height - this.mCloseBtn.height) * zoom) / 2 + 10 * this.dpr * zoom;\n        this.mCounter = this.scene.make.text({\n            text: \"25/50\",\n            style: {\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT,\n                color: \"#FFFFFF\",\n                fontSize: 12 * this.dpr * zoom,\n            },\n        }, false);\n        this.mCounter.x = -this.displayWidth / 2 + 17 * this.dpr * zoom;\n        this.mCounter.y = this.displayHeight / 2 - 18 * this.dpr * zoom - this.mCounter.height;\n        this.mCounter.setFontStyle(\"bold\");\n        this.mTips = new Tips(this.scene, this.key, this.dpr, zoom);\n        this.mTips.scale = zoom;\n        this.mTips.x = 40 * this.dpr * zoom; // - this.mTips.width / 2;\n        this.mTips.y = (-(this.mBg.height + this.mTips.height) * zoom) / 2 + 15 * this.dpr * zoom;\n        this.mDiscardBtn = new DiscardButton(this.scene, this.key, \"yellow_btn.png\", undefined, \"\");\n        this.mDiscardBtn.setScale(zoom);\n        (this.mDiscardBtn.x = ((this.mBg.width - this.mDiscardBtn.displayWidth) * zoom) / 2 - 17 * this.dpr * zoom),\n            (this.mDiscardBtn.y = ((this.mBg.height - this.mDiscardBtn.displayHeight) * zoom) / 2 - 10 * this.dpr * zoom),\n            this.mDiscardBtn.setTextStyle({\n                color: \"##996600\",\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT,\n                fontSize: 10 * this.dpr * zoom,\n            });\n        this.mDiscardBtn.changeState(DiscardEnum.Discard);\n        this.categoriesBg = this.scene.make\n            .image({\n            key: this.key,\n            frame: \"nav_bg.png\",\n        })\n            .setScale(zoom);\n        // this.categoriesBg.y = -111 * this.dpr * zoom + this.categoriesBg.height * zoom / 2;\n        this.categoriesBg.y = -(this.displayHeight - this.categoriesBg.displayHeight) / 2 + 36 * this.dpr * zoom;\n        var propFrame = this.scene.textures.getFrame(this.key, \"item_border.png\");\n        var capW = propFrame.width * zoom + 4 * this.dpr * zoom;\n        var capH = propFrame.height * zoom + 4 * this.dpr * zoom;\n        // this.cellHeight = capH;\n        var gridW = 236 * this.dpr * zoom;\n        var propConfig = {\n            x: -7 * this.dpr * zoom,\n            y: -16 * this.dpr * zoom,\n            table: {\n                width: gridW,\n                height: 295 * this.dpr * zoom,\n                columns: 4,\n                cellsCount: 25,\n                cellWidth: capW,\n                cellHeight: capH,\n                reuseCellContainer: true,\n                cellOriginX: 0,\n                cellOriginY: 0,\n                zoom: zoom\n                // mask: false\n            },\n            scrollMode: 0,\n            clamplChildOY: false,\n            // background: (<any>this.scene).rexUI.add.roundRectangle(0, 0, 2, 2, 0, 0xFF9900, .2),\n            createCellContainerCallback: function (cell, cellContainer) {\n                var scene = cell.scene, item = cell.item;\n                if (cellContainer === null) {\n                    cellContainer = new PackageItem(scene, _this.key, _this.dpr, zoom);\n                    _this.add(cellContainer);\n                }\n                cellContainer.setData({ item: item });\n                cellContainer.setProp(item);\n                return cellContainer;\n            },\n        };\n        this.mPropGrid = new _lib_rexui_lib_ui_gridtable_GameGridTable__WEBPACK_IMPORTED_MODULE_5__[\"GameGridTable\"](this.scene, propConfig);\n        this.mPropGrid.layout();\n        this.mPropGrid.on(\"cellTap\", function (cell) {\n            // const item = cell.getData(\"item\");\n            // if (item) {\n            _this.onSelectItemHandler(cell);\n            // }\n        });\n        var btnFrame = this.scene.textures.getFrame(this.key, \"nav_btn_normal.png\");\n        var categoryTableConfig = {\n            x: -9 * this.dpr * zoom,\n            y: -155 * this.dpr * zoom,\n            table: {\n                width: gridW,\n                height: this.categoriesBg.displayHeight,\n                cellWidth: btnFrame.width * zoom + 4 * this.dpr,\n                cellHeight: btnFrame.height * zoom,\n                reuseCellContainer: true,\n                cellOriginX: 0,\n                cellOriginY: 0,\n                zoom: zoom\n                // mask: false\n            },\n            scrollMode: 1,\n            // background: (<any>this.scene).rexUI.add.roundRectangle(0, 0, 2, 2, 0, 0xFF9900, .2),\n            createCellContainerCallback: function (cell, cellContainer) {\n                var scene = cell.scene, item = cell.item;\n                if (cellContainer === null) {\n                    cellContainer = new CategorieButton(scene, _this.key, \"nav_btn_normal.png\", \"nav_btn_down.png\", \"1\");\n                    cellContainer.setTextStyle({\n                        color: \"#566ddb\",\n                        fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT,\n                        fontSize: 10 * _this.dpr * zoom\n                    });\n                    cellContainer.setFontStyle(\"bold\");\n                    cellContainer.setScale(zoom);\n                    _this.add(cellContainer);\n                }\n                cellContainer.setText(item.value);\n                cellContainer.setData(\"data\", item);\n                if (!_this.mPreSelectedCategorie) {\n                    _this.onClickCategoryHandler(cellContainer);\n                }\n                return cellContainer;\n            }\n        };\n        this.mCategoryTable = new _lib_rexui_lib_ui_gridtable_GameGridTable__WEBPACK_IMPORTED_MODULE_5__[\"GameGridTable\"](this.scene, categoryTableConfig);\n        this.mCategoryTable.layout();\n        this.mCategoryTable.on(\"cellTap\", function (cell) {\n            _this.onClickCategoryHandler(cell);\n        });\n        // this.add(this.mPanel);\n        this.add([\n            this.mBackGround,\n            this.mBg,\n            this.carIcon,\n            this.mCounter,\n            this.categoriesBg,\n            this.mPropGrid.table,\n            this.mCategoryTable.table,\n            this.mCloseBtn,\n            this.mDiscardBtn,\n        ]);\n        this.resize(this.scene.cameras.main.width, this.scene.cameras.main.height);\n        _super.prototype.init.call(this);\n    };\n    MineCarPanel.prototype.refreshData = function () {\n        var minePackage = this.mShowData;\n        var mineItem = minePackage.items || [];\n        this.mLimit = minePackage.limit || 0;\n        this.mAllItem = [];\n        for (var _i = 0, mineItem_1 = mineItem; _i < mineItem_1.length; _i++) {\n            var item = mineItem_1[_i];\n            this.mAllItem.push({ item: item });\n        }\n        this.mDiscardBtn.changeState(DiscardEnum.Discard);\n        this.mCounter.setText(mineItem.length + \"/\" + this.mLimit);\n        this.setCategories(minePackage.subcategories);\n    };\n    MineCarPanel.prototype.onCloseHandler = function () {\n        this.emit(\"close\");\n    };\n    MineCarPanel.prototype.onSelectedCategory = function (subcategory) {\n        this.mFilterItem = [];\n        var pkgItem = null;\n        for (var _i = 0, _a = this.mAllItem; _i < _a.length; _i++) {\n            var item = _a[_i];\n            pkgItem = item.item;\n            if (pkgItem && (pkgItem.subcategory === subcategory || subcategory === \"all\")) {\n                this.mFilterItem.push(item);\n            }\n        }\n        var len = this.mLimit - this.mFilterItem.length;\n        for (var i = 0; i < len; i++) {\n            this.mFilterItem.push({ item: null });\n        }\n        this.mPropGrid.setItems(this.mFilterItem);\n    };\n    MineCarPanel.prototype.onSelectItemHandler = function (packageItem) {\n        if (this.mDiscardBtn && this.mDiscardBtn.buttonState !== DiscardEnum.Discard) {\n            packageItem.switchSelect();\n            this.checkMode();\n            return;\n        }\n        if (packageItem && packageItem.item.item) {\n            if (!this.mTips.parentContainer) {\n                this.add(this.mTips);\n            }\n            this.mTips.setItem(packageItem.item.item);\n        }\n        else {\n            this.remove(this.mTips);\n        }\n    };\n    MineCarPanel.prototype.onClickCategoryHandler = function (item) {\n        var data = item.getData(\"data\");\n        if (data) {\n            this.onSelectedCategory(data.key);\n            if (this.mPreSelectedCategorie) {\n                this.mPreSelectedCategorie.changeNormal();\n            }\n            item.changeDown();\n            this.mPreSelectedCategorie = item;\n        }\n    };\n    MineCarPanel.prototype.checkMode = function () {\n        if (!this.mFilterItem || this.mFilterItem.length < 1) {\n            return;\n        }\n        for (var _i = 0, _a = this.mFilterItem; _i < _a.length; _i++) {\n            var item = _a[_i];\n            if (item.selected) {\n                this.mDiscardBtn.changeState(DiscardEnum.Sutmit);\n                return;\n            }\n        }\n        this.mDiscardBtn.changeState(DiscardEnum.Cancel);\n    };\n    MineCarPanel.prototype.onDiscardSelectedItem = function () {\n        var _this = this;\n        if (!this.mFilterItem || this.mFilterItem.length < 1) {\n            return;\n        }\n        // const selected = this.mAllItem.filter((item) => item.selected);\n        var selected = [];\n        var label = [];\n        for (var _i = 0, _a = this.mFilterItem; _i < _a.length; _i++) {\n            var item = _a[_i];\n            if (item.item && item.selected) {\n                selected.push(item.item);\n                label.push(item.item.name + \"*\" + item.item.count);\n            }\n        }\n        new _components_alert_view__WEBPACK_IMPORTED_MODULE_4__[\"AlertView\"](this.scene, this.mWorld).show({\n            text: \"\\u60A8\\u786E\\u5B9A\\u8981\\u4E22\\u5F03 [color=#0157BC]\" + label.join(\"\") + \"[/color] \\u5417\\uFF1F\",\n            title: \"\",\n            oy: 302 * this.dpr * this.mWorld.uiScale,\n            callback: function () {\n                _this.emit(\"discard\", selected);\n            },\n        });\n    };\n    MineCarPanel.prototype.enterDiscardMode = function () {\n        if (!this.mFilterItem) {\n            return;\n        }\n        var state = this.mDiscardBtn.buttonState;\n        var visible = false;\n        if (state === DiscardEnum.Discard) {\n            this.mDiscardBtn.changeState(DiscardEnum.Cancel);\n            visible = true;\n        }\n        else {\n            if (state === DiscardEnum.Sutmit) {\n                this.onDiscardSelectedItem();\n            }\n            this.mDiscardBtn.changeState(DiscardEnum.Discard);\n        }\n        if (this.mFilterItem.length > 0 && this.mFilterItem[0].selectVisible !== visible) {\n            this.mFilterItem.map(function (item) {\n                item.selectVisible = visible;\n                item.selected = false;\n            });\n            this.mPropGrid.setItems(this.mFilterItem);\n        }\n    };\n    return MineCarPanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_2__[\"BasePanel\"]));\n\nvar PackageItem = /** @class */ (function (_super) {\n    __extends(PackageItem, _super);\n    function PackageItem(scene, key, dpr, zoom) {\n        var _this = _super.call(this, scene) || this;\n        var border = _this.scene.make\n            .image({\n            key: key,\n            frame: \"item_border.png\",\n        }, false)\n            .setOrigin(0)\n            .setScale(zoom);\n        _this.setSize(border.width * zoom, border.height * zoom);\n        _this.mItemImage = new _components_dynamic_image__WEBPACK_IMPORTED_MODULE_1__[\"DynamicImage\"](_this.scene, 0, 0);\n        _this.mItemImage.setOrigin(0);\n        _this.mItemImage.setScale(dpr * zoom);\n        _this.mCounter = _this.scene.make\n            .text({\n            x: border.displayWidth - 2 * dpr,\n            y: border.displayHeight - 1 * dpr,\n            style: {\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT,\n                fontSize: 9 * dpr * zoom,\n                color: \"#566DDB\",\n            },\n        })\n            .setOrigin(1);\n        _this.mCounter.setFontStyle(\"bold\");\n        _this.mSelectedIcon = _this.scene.make.image({\n            key: key,\n            frame: \"icon_normal.png\",\n        }, false);\n        _this.mSelectedIcon.x = border.width * zoom - 2 * dpr - (_this.mSelectedIcon.width * zoom) / 2;\n        _this.mSelectedIcon.y = 2 * dpr + (_this.mSelectedIcon.height * zoom) / 2;\n        _this.add(border);\n        _this.add([_this.mItemImage, _this.mCounter, _this.mSelectedIcon]);\n        return _this;\n    }\n    PackageItem.prototype.setProp = function (data) {\n        this.mItem = data;\n        var packageItem = data.item;\n        if (!data || !packageItem) {\n            this.mItemImage.visible = false;\n            this.mCounter.visible = false;\n            this.mSelectedIcon.visible = false;\n            return;\n        }\n        if (this.mItem) {\n            this.mItemImage.load(_utils_resUtil__WEBPACK_IMPORTED_MODULE_3__[\"Url\"].getOsdRes(packageItem.display.texturePath), this, this.onLoadCompleteHandler);\n            this.mItemImage.visible = true;\n            if (packageItem.count > 1) {\n                this.mCounter.setText(packageItem.count.toString());\n                this.mCounter.visible = true;\n            }\n            else {\n                this.mCounter.visible = false;\n            }\n            this.mSelectedIcon.visible = (this.mItem.selectVisible ? true : false);\n            this.setSelected();\n        }\n    };\n    PackageItem.prototype.switchSelect = function () {\n        if (!this.mItem.item) {\n            return;\n        }\n        this.mItem.selected = !this.mItem.selected;\n        this.setSelected();\n    };\n    Object.defineProperty(PackageItem.prototype, \"item\", {\n        get: function () {\n            return this.mItem;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    PackageItem.prototype.onLoadCompleteHandler = function () {\n        if (this.mItemImage) {\n            this.mItemImage.x = (this.width - this.mItemImage.displayWidth) >> 1;\n            this.mItemImage.y = (this.height - this.mItemImage.displayHeight) >> 1;\n        }\n    };\n    PackageItem.prototype.setSelected = function () {\n        if (this.mItem.selected) {\n            this.mSelectedIcon.setFrame(\"icon_selected.png\");\n        }\n        else {\n            this.mSelectedIcon.setFrame(\"icon_normal.png\");\n        }\n    };\n    return PackageItem;\n}(Phaser.GameObjects.Container));\nvar Tips = /** @class */ (function (_super) {\n    __extends(Tips, _super);\n    function Tips(scene, key, dpr, zoom) {\n        if (zoom === void 0) { zoom = 1; }\n        var _this = _super.call(this, scene) || this;\n        _this.mDpr = dpr;\n        var bg = _this.scene.make.image({\n            key: key,\n            frame: \"tips_bg.png\",\n        }, false);\n        _this.mName = _this.scene.make.text({\n            x: -bg.width / 2 + 12 * dpr * zoom,\n            y: -bg.height / 2 + 5 * dpr * zoom,\n            style: {\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT,\n                fontSize: 10 * dpr * zoom,\n                color: \"#000000\",\n            },\n        }, false);\n        _this.mDes = _this.scene.make\n            .text({\n            x: _this.mName.x,\n            style: {\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT,\n                fontSize: 10 * dpr * zoom,\n                color: \"#000000\",\n            },\n        }, false)\n            .setOrigin(0, 1);\n        _this.add([bg, _this.mName, _this.mDes]);\n        _this.setSize(bg.width * zoom, bg.height * zoom);\n        return _this;\n    }\n    Tips.prototype.setItem = function (item) {\n        if (!item) {\n            return;\n        }\n        var tmpY = this.y;\n        var tmpAlpha = this.alpha;\n        this.y = tmpY + 50 * this.mDpr;\n        this.alpha = 0;\n        this.scene.tweens.add({\n            targets: this,\n            props: {\n                alpha: tmpAlpha,\n                y: tmpY,\n            },\n            duration: 200,\n            ease: Phaser.Math.Easing.Elastic.Out,\n        });\n        this.mName.setText(item.shortName || item.name);\n        this.mDes.setText(item.des);\n    };\n    return Tips;\n}(Phaser.GameObjects.Container));\nvar DiscardButton = /** @class */ (function (_super) {\n    __extends(DiscardButton, _super);\n    function DiscardButton(scene, key, frame, downFrame, text) {\n        return _super.call(this, scene, key, frame, downFrame, text) || this;\n    }\n    DiscardButton.prototype.changeState = function (val) {\n        if (this.mState === val) {\n            return;\n        }\n        this.mState = val;\n        switch (val) {\n            case DiscardEnum.Cancel:\n                this.setText(\"\");\n                this.setFrame(\"gray_btn.png\");\n                break;\n            case DiscardEnum.Sutmit:\n                this.setText(\"\");\n                this.setFrame(\"yellow_btn.png\");\n                break;\n            default:\n                this.setText(\"\");\n                this.setFrame(\"yellow_btn.png\");\n                break;\n        }\n    };\n    Object.defineProperty(DiscardButton.prototype, \"buttonState\", {\n        get: function () {\n            return this.mState;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return DiscardButton;\n}(_lib_rexui_lib_ui_button_Button__WEBPACK_IMPORTED_MODULE_6__[\"Button\"]));\nvar DiscardEnum;\n(function (DiscardEnum) {\n    DiscardEnum[DiscardEnum[\"Discard\"] = 0] = \"Discard\";\n    DiscardEnum[DiscardEnum[\"Cancel\"] = 1] = \"Cancel\";\n    DiscardEnum[DiscardEnum[\"Sutmit\"] = 2] = \"Sutmit\";\n})(DiscardEnum || (DiscardEnum = {}));\nvar CategorieButton = /** @class */ (function (_super) {\n    __extends(CategorieButton, _super);\n    function CategorieButton(scene, key, frame, downFrame, text) {\n        var _this = _super.call(this, scene, key, frame, downFrame, text) || this;\n        _this.disInteractive();\n        _this.removeListen();\n        _this.mBackground.setOrigin(0, 0);\n        if (_this.mText) {\n            _this.mText.setPosition(_this.mBackground.width / 2, _this.mBackground.height / 2);\n        }\n        return _this;\n    }\n    return CategorieButton;\n}(_lib_rexui_lib_ui_tab_TabButton__WEBPACK_IMPORTED_MODULE_7__[\"TabButton\"]));\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/MineCar/MineCarPanel.ts?");

/***/ }),

/***/ "./src/ui/MineSettle/MineSettle.ts":
/*!*****************************************!*\
  !*** ./src/ui/MineSettle/MineSettle.ts ***!
  \*****************************************/
/*! exports provided: MineSettle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MineSettle\", function() { return MineSettle; });\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar MineSettle = /** @class */ (function (_super) {\n    __extends(MineSettle, _super);\n    function MineSettle(world) {\n        var _this = _super.call(this) || this;\n        _this.world = world;\n        _this.mEvent = new Phaser.Events.EventEmitter();\n        return _this;\n    }\n    MineSettle.prototype.register = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.addPacketListener(this);\n            this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_REQ_CLIENT_MINING_MODE_SHOW_REWARD_PACKAGE, this.onMineSettlePackageHandler);\n        }\n    };\n    MineSettle.prototype.unregister = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.removePacketListener(this);\n        }\n    };\n    MineSettle.prototype.on = function (event, fn, context) {\n        this.mEvent.on(event, fn, context);\n    };\n    MineSettle.prototype.off = function (event, fn, context) {\n        this.mEvent.off(event, fn, context);\n    };\n    MineSettle.prototype.reqMineSettlePacket = function () {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_MINING_MODE_STORAGE_REWARD);\n        this.connection.send(packet);\n    };\n    MineSettle.prototype.destroy = function () {\n        this.unregister();\n        this.mEvent.destroy();\n    };\n    Object.defineProperty(MineSettle.prototype, \"connection\", {\n        get: function () {\n            if (this.world) {\n                return this.world.connection;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    MineSettle.prototype.onMineSettlePackageHandler = function (packge) {\n        var content = packge.content;\n        this.mEvent.emit(\"minesettlepacket\", content);\n    };\n    return MineSettle;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PacketHandler\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/MineSettle/MineSettle.ts?");

/***/ }),

/***/ "./src/ui/MineSettle/MineSettleMediator.ts":
/*!*************************************************!*\
  !*** ./src/ui/MineSettle/MineSettleMediator.ts ***!
  \*************************************************/
/*! exports provided: MineSettleMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MineSettleMediator\", function() { return MineSettleMediator; });\n/* harmony import */ var _MineSettlePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MineSettlePanel */ \"./src/ui/MineSettle/MineSettlePanel.ts\");\n/* harmony import */ var _MineSettle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MineSettle */ \"./src/ui/MineSettle/MineSettle.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar MineSettleMediator = /** @class */ (function (_super) {\n    __extends(MineSettleMediator, _super);\n    function MineSettleMediator(layerMgr, scene, worldService) {\n        var _this = _super.call(this) || this;\n        _this.scene = scene;\n        _this.layerMgr = layerMgr;\n        _this.world = worldService;\n        if (!_this.mineSettle) {\n            _this.mineSettle = new _MineSettle__WEBPACK_IMPORTED_MODULE_1__[\"MineSettle\"](_this.world);\n            _this.mineSettle.on(\"minesettlepacket\", _this.onMineSettlePacket, _this);\n            _this.mineSettle.register();\n        }\n        return _this;\n    }\n    MineSettleMediator.prototype.show = function (param) {\n        if ((this.mView && this.mView.isShow()) || this.mShow) {\n            return;\n        }\n        if (!this.mView) {\n            this.mView = new _MineSettlePanel__WEBPACK_IMPORTED_MODULE_0__[\"MineSettlePanel\"](this.scene, this.world);\n            this.mView.on(\"hide\", this.onHideMineSettle, this);\n        }\n        _super.prototype.show.call(this);\n        this.layerMgr.addToUILayer(this.mView);\n        if (this.mParam && this.mParam.length > 0)\n            this.setMIneSettlePanel(this.mParam[0]);\n        this.mView.show();\n    };\n    MineSettleMediator.prototype.destroy = function () {\n        if (this.mineSettle)\n            this.mineSettle.destroy();\n        this.mineSettle = undefined;\n        _super.prototype.destroy.call(this);\n    };\n    MineSettleMediator.prototype.onHideMineSettle = function () {\n        this.mineSettle.reqMineSettlePacket();\n        _super.prototype.destroy.call(this);\n    };\n    MineSettleMediator.prototype.onMineSettlePacket = function (content) {\n        if (!this.mView || !this.mView.visible) {\n            this.setParam([content]);\n            this.show();\n        }\n        else {\n            this.setMIneSettlePanel(content);\n        }\n    };\n    MineSettleMediator.prototype.setMIneSettlePanel = function (content) {\n        var panel = this.mView;\n        panel.setData(\"settleData\", content);\n        panel.setMineSettlePacket(content);\n    };\n    return MineSettleMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_2__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/MineSettle/MineSettleMediator.ts?");

/***/ }),

/***/ "./src/ui/MineSettle/MineSettlePanel.ts":
/*!**********************************************!*\
  !*** ./src/ui/MineSettle/MineSettlePanel.ts ***!
  \**********************************************/
/*! exports provided: MineSettlePanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MineSettlePanel\", function() { return MineSettlePanel; });\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\n/* harmony import */ var _components_dynamic_image__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/dynamic.image */ \"./src/ui/components/dynamic.image.ts\");\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _components_nine_patch__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/nine.patch */ \"./src/ui/components/nine.patch.ts\");\n/* harmony import */ var _components_ninepatch_button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/ninepatch.button */ \"./src/ui/components/ninepatch.button.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_gridtable_GameGridTable__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/gridtable/GameGridTable */ \"./lib/rexui/lib/ui/gridtable/GameGridTable.ts\");\n/* harmony import */ var _i18n__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../i18n */ \"./src/i18n.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\nvar MineSettlePanel = /** @class */ (function (_super) {\n    __extends(MineSettlePanel, _super);\n    function MineSettlePanel(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.key = \"mine_settle\";\n        return _this;\n        // this.scale = 1;\n    }\n    MineSettlePanel.prototype.resize = function (w, h) {\n        var width = this.scaleWidth;\n        var height = this.scaleHeight;\n        _super.prototype.resize.call(this, width, height);\n        this.bg.x = width / 2;\n        this.bg.y = height / 2;\n        this.titleimage.x = width / 2;\n        this.titleimage.y = this.bg.y - this.bg.displayHeight / 2 - 8 * this.dpr;\n        this.confirmBtn.x = width / 2;\n        this.confirmBtn.y = this.bg.y + 100 * this.dpr;\n        this.titleName.x = width / 2;\n        this.titleName.y = this.titleimage.y + 32 * this.dpr;\n        this.blackGraphic.clear();\n        this.blackGraphic.fillStyle(0, 0.66);\n        this.blackGraphic.fillRect(0, 0, width / this.scale, height / this.scale);\n        this.mPropGrid.refreshPos(width / 2, this.bg.y - 2 * this.dpr * this.scale);\n        this.mPropGrid.resetMask();\n        this.setSize(width * this.scale * this.scale, height * this.scale * this.scale);\n    };\n    MineSettlePanel.prototype.show = function (param) {\n        this.mShowData = param;\n        this.refreshData();\n        if (this.mPreLoad)\n            return;\n        if (!this.mInitialized) {\n            this.preload();\n            return;\n        }\n        if (this.mShow)\n            return;\n        if (this.soundGroup && this.soundGroup.open)\n            this.playSound(this.soundGroup.open);\n        if (!this.mTweening && this.mTweenBoo) {\n            this.showTween(true);\n        }\n        else {\n            this.mShow = true;\n        }\n        this.setInteractive();\n        this.addListen();\n    };\n    MineSettlePanel.prototype.addListen = function () {\n        if (!this.mInitialized)\n            return;\n        this.confirmBtn.on(\"click\", this.onConfirmBtnClick, this);\n    };\n    MineSettlePanel.prototype.removeListen = function () {\n        if (!this.mInitialized)\n            return;\n        this.confirmBtn.off(\"click\", this.onConfirmBtnClick, this);\n    };\n    MineSettlePanel.prototype.preload = function () {\n        this.addAtlas(this.key, \"minesettle/settlement.png\", \"minesettle/settlement.json\");\n        _super.prototype.preload.call(this);\n    };\n    MineSettlePanel.prototype.init = function () {\n        var _this = this;\n        var width = this.cameraWidth;\n        var height = this.cameraHeight;\n        this.bg = new _components_nine_patch__WEBPACK_IMPORTED_MODULE_3__[\"NinePatch\"](this.scene, 0, 0, 293 * this.dpr, 260 * this.dpr, this.key, \"bg\", {\n            left: 10,\n            top: 10,\n            right: 10,\n            bottom: 10\n        });\n        this.blackGraphic = this.scene.make.graphics(undefined, false);\n        this.blackGraphic.setInteractive(new Phaser.Geom.Rectangle(0, 0, width, height), Phaser.Geom.Rectangle.Contains);\n        var propFrame = this.scene.textures.getFrame(this.key, \"icon_test\");\n        var zoom = 1;\n        var capW = (propFrame.width + 20 * this.dpr * zoom);\n        var capH = (propFrame.height + 25 * this.dpr * zoom);\n        var config = {\n            x: 0,\n            y: 0,\n            table: {\n                width: 280 * this.dpr * zoom,\n                height: 160 * this.dpr * zoom,\n                columns: 5,\n                cellWidth: capW,\n                cellHeight: capH,\n                reuseCellContainer: true,\n                cellOriginX: 0,\n                cellOriginY: 0,\n                cellPadX: 18 * this.dpr * zoom,\n                zoom: zoom\n            },\n            // background: (<any>this.scene).rexUI.add.roundRectangle(0, 0, 2, 2, 0, 0xFF9900, .2),\n            clamplChildOY: false,\n            createCellContainerCallback: function (cell, cellContainer) {\n                var scene = cell.scene, item = cell.item;\n                if (cellContainer === null) {\n                    cellContainer = new MineSettleItem(scene, _this.dpr);\n                    _this.add(cellContainer);\n                }\n                cellContainer.setData({ item: item });\n                cellContainer.setItemData(item);\n                return cellContainer;\n            },\n        };\n        this.mPropGrid = new _lib_rexui_lib_ui_gridtable_GameGridTable__WEBPACK_IMPORTED_MODULE_6__[\"GameGridTable\"](this.scene, config);\n        this.mPropGrid.layout();\n        this.mPropGrid.on(\"cellTap\", function (cell) {\n            var data = cell.itemData;\n            if (data) {\n                _this.onSelectItemHandler(data);\n            }\n        });\n        this.titleimage = this.scene.make.image({ x: 0, y: -this.bg.displayWidth * 0.5 - 10 * this.dpr, key: this.key, frame: \"title\" }, false);\n        this.titleName = this.scene.make.text({\n            x: 0, y: this.titleimage.y + 32 * this.dpr, text: _i18n__WEBPACK_IMPORTED_MODULE_7__[\"i18n\"].t(\"minesettle.settle\"),\n            style: { fontSize: 15 * this.dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT }\n        }).setOrigin(0.5, 0.5);\n        this.confirmBtn = new _components_ninepatch_button__WEBPACK_IMPORTED_MODULE_4__[\"NinePatchButton\"](this.scene, 0, 100 * this.dpr, 90 * this.dpr, 40 * this.dpr, this.key, \"button\", _i18n__WEBPACK_IMPORTED_MODULE_7__[\"i18n\"].t(\"minesettle.savebag\"), {\n            left: 20,\n            top: 20,\n            right: 20,\n            bottom: 20\n        });\n        this.confirmBtn.setTextStyle({\n            color: \"#976400\",\n            fontSize: 16 * this.dpr,\n            fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT\n        });\n        this.add([this.blackGraphic, this.bg, this.titleimage, this.titleName, this.confirmBtn]);\n        this.add(this.mPropGrid.table);\n        this.resize(0, 0);\n        _super.prototype.init.call(this);\n    };\n    MineSettlePanel.prototype.setMineSettlePacket = function (content) {\n        if (this.mInitialized) {\n            this.mPropGrid.setItems(content.items);\n        }\n    };\n    MineSettlePanel.prototype.destroy = function () {\n        if (this.mPropGrid)\n            this.mPropGrid.destroy();\n        if (this.confirmBtn)\n            this.confirmBtn.destroy();\n        this.mPropGrid = null;\n        this.confirmBtn = null;\n        _super.prototype.destroy.call(this);\n    };\n    MineSettlePanel.prototype.refreshData = function () {\n        var settleData = this.getData(\"settleData\");\n        if (settleData)\n            this.setMineSettlePacket(settleData);\n    };\n    MineSettlePanel.prototype.onSelectItemHandler = function (data) {\n    };\n    MineSettlePanel.prototype.onConfirmBtnClick = function (pointer) {\n        if (!this.checkPointerDis(pointer))\n            return;\n        this.emit(\"hide\");\n    };\n    MineSettlePanel.prototype.checkPointerDis = function (pointer) {\n        if (!this.mWorld)\n            return true;\n        return Math.abs(pointer.downX - pointer.upX) < 10 * this.mWorld.uiRatio * this.mWorld.uiScale &&\n            Math.abs(pointer.downY - pointer.upY) < 10 * this.mWorld.uiRatio * this.mWorld.uiScale;\n    };\n    return MineSettlePanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_2__[\"BasePanel\"]));\n\nvar MineSettleItem = /** @class */ (function (_super) {\n    __extends(MineSettleItem, _super);\n    function MineSettleItem(scene, dpr) {\n        var _this = _super.call(this, scene) || this;\n        _this.dpr = dpr;\n        _this.icon = new _components_dynamic_image__WEBPACK_IMPORTED_MODULE_1__[\"DynamicImage\"](scene, 0, 0);\n        _this.itemCount = _this.scene.make.text({\n            text: \"600\",\n            style: {\n                fontSize: 18,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT\n            }\n        }, false);\n        _this.itemCount.setOrigin(0.5, 0);\n        _this.icon.setOrigin(0, 0);\n        _this.icon.setScale(_this.dpr);\n        // this.icon.setSize(50, 50);\n        _this.itemCount.setPosition(0, _this.icon.height);\n        _this.add(_this.icon);\n        _this.add(_this.itemCount);\n        return _this;\n    }\n    MineSettleItem.prototype.setItemData = function (data) {\n        var _this = this;\n        this.itemData = data;\n        this.itemCount.setFontSize(this.dpr * 14);\n        this.itemCount.text = data.count + \"\";\n        var url = _utils_resUtil__WEBPACK_IMPORTED_MODULE_5__[\"Url\"].getOsdRes(data.display.texturePath);\n        this.icon.load(url, this, function () {\n            ///  this.icon.setDisplaySize(33 * this.dpr, 33 * this.dpr);\n            _this.icon.setScale(33 * _this.dpr / _this.icon.width);\n            _this.icon.setPosition(0, 3 * _this.dpr);\n            _this.itemCount.setPosition(_this.icon.displayWidth * 0.5, _this.icon.x + _this.icon.displayHeight + 3 * _this.dpr);\n        });\n    };\n    MineSettleItem.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        if (this.icon)\n            this.icon.destroy();\n        if (this.itemCount)\n            this.itemCount.destroy();\n        this.itemData = null;\n        this.icon = null;\n        this.itemCount = null;\n        this.scene = null;\n    };\n    return MineSettleItem;\n}(Phaser.GameObjects.Container));\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/MineSettle/MineSettlePanel.ts?");

/***/ }),

/***/ "./src/ui/Notice/Notice.ts":
/*!*********************************!*\
  !*** ./src/ui/Notice/Notice.ts ***!
  \*********************************/
/*! exports provided: Notice */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Notice\", function() { return Notice; });\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar Notice = /** @class */ (function (_super) {\n    __extends(Notice, _super);\n    function Notice(world) {\n        var _this = _super.call(this) || this;\n        _this.world = world;\n        _this.mEvent = new Phaser.Events.EventEmitter();\n        return _this;\n    }\n    Notice.prototype.on = function (event, fn, context) {\n        this.mEvent.on(event, fn, context);\n    };\n    Notice.prototype.off = function (event, fn, context) {\n        this.mEvent.off(event, fn, context);\n    };\n    Notice.prototype.register = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.addPacketListener(this);\n            this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_NOTICE, this.noticeHandler);\n        }\n    };\n    Notice.prototype.unregister = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.removePacketListener(this);\n        }\n    };\n    Object.defineProperty(Notice.prototype, \"connection\", {\n        get: function () {\n            if (this.world) {\n                return this.world.connection;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Notice.prototype.noticeHandler = function (packet) {\n        if (!packet || !packet.content) {\n            return;\n        }\n        this.mEvent.emit(\"showNotice\", packet);\n    };\n    return Notice;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PacketHandler\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/Notice/Notice.ts?");

/***/ }),

/***/ "./src/ui/Notice/NoticeMediator.ts":
/*!*****************************************!*\
  !*** ./src/ui/Notice/NoticeMediator.ts ***!
  \*****************************************/
/*! exports provided: NoticeMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NoticeMediator\", function() { return NoticeMediator; });\n/* harmony import */ var _NoticePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./NoticePanel */ \"./src/ui/Notice/NoticePanel.ts\");\n/* harmony import */ var _const_MessageType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../const/MessageType */ \"./src/const/MessageType.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\n/* harmony import */ var _Notice__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Notice */ \"./src/ui/Notice/Notice.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/interface/baseUI/UIType */ \"./lib/rexui/lib/ui/interface/baseUI/UIType.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar NoticeMediator = /** @class */ (function (_super) {\n    __extends(NoticeMediator, _super);\n    function NoticeMediator(layerManager, scene, worldService) {\n        var _this = _super.call(this) || this;\n        _this.world = worldService;\n        _this.mLayerManager = layerManager;\n        _this.mScene = scene;\n        _this.notice = new _Notice__WEBPACK_IMPORTED_MODULE_3__[\"Notice\"](worldService);\n        _this.mUIType = _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_4__[\"UIType\"].Tips;\n        _this.addListen();\n        return _this;\n    }\n    NoticeMediator.prototype.setUiScale = function (value) {\n        this.mView.scale = value;\n    };\n    NoticeMediator.prototype.getView = function () {\n        return this.mView !== undefined ? this.mView : undefined;\n    };\n    NoticeMediator.prototype.getUIType = function () {\n        return this.mUIType;\n    };\n    NoticeMediator.prototype.hide = function () {\n        if (!this.mView)\n            return;\n        _super.prototype.hide.call(this);\n    };\n    NoticeMediator.prototype.destroy = function () {\n        this.removeListen();\n        this.notice.unregister();\n        this.notice = null;\n        _super.prototype.destroy.call(this);\n    };\n    NoticeMediator.prototype.isShow = function () {\n        return this.mView.isShow();\n    };\n    NoticeMediator.prototype.resize = function () {\n        if (!this.mView)\n            return;\n        this.mView.resize();\n    };\n    NoticeMediator.prototype.show = function (param) {\n        if (this.mView && this.mView.isShow()) {\n            this.mView.showNotice(param);\n            return;\n        }\n        this.mView = new _NoticePanel__WEBPACK_IMPORTED_MODULE_0__[\"NoticePanel\"](this.mScene, this.world);\n        this.mView.show(param);\n        this.mView.showNotice(param);\n        this.mLayerManager.addToDialogLayer(this.mView);\n        // this.setUiScale(this.world.uiScale);\n    };\n    NoticeMediator.prototype.update = function (param) {\n        this.mParam = param;\n        if (!this.mView)\n            return;\n    };\n    NoticeMediator.prototype.setParam = function (param) {\n        this.mParam = param;\n    };\n    NoticeMediator.prototype.getParam = function () {\n        return this.mParam;\n    };\n    NoticeMediator.prototype.addListen = function () {\n        this.notice.on(\"showNotice\", this.noticeHandler, this);\n        this.world.emitter.on(_const_MessageType__WEBPACK_IMPORTED_MODULE_1__[\"MessageType\"].SHOW_NOTICE, this.noticeHandler, this);\n        this.notice.register();\n    };\n    NoticeMediator.prototype.removeListen = function () {\n        this.notice.off(\"showNotice\", this.noticeHandler, this);\n        this.world.emitter.off(_const_MessageType__WEBPACK_IMPORTED_MODULE_1__[\"MessageType\"].SHOW_NOTICE, this.noticeHandler, this);\n    };\n    NoticeMediator.prototype.noticeHandler = function (packet) {\n        if (!packet || !packet.content) {\n            return;\n        }\n        this.show(packet.content);\n    };\n    NoticeMediator.NAME = \"NoticeMediator\";\n    return NoticeMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_2__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/Notice/NoticeMediator.ts?");

/***/ }),

/***/ "./src/ui/Notice/NoticePanel.ts":
/*!**************************************!*\
  !*** ./src/ui/Notice/NoticePanel.ts ***!
  \**************************************/
/*! exports provided: NoticePanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NoticePanel\", function() { return NoticePanel; });\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _components_nine_patch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/nine.patch */ \"./src/ui/components/nine.patch.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar NoticePanel = /** @class */ (function (_super) {\n    __extends(NoticePanel, _super);\n    function NoticePanel(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.disInteractive();\n        return _this;\n    }\n    NoticePanel.prototype.show = function (param) {\n        _super.prototype.show.call(this, param);\n        this.resize();\n        this.refreshData();\n    };\n    NoticePanel.prototype.addListen = function () {\n        if (!this.mInitialized)\n            return;\n    };\n    NoticePanel.prototype.removeListen = function () {\n        if (!this.mInitialized)\n            return;\n    };\n    NoticePanel.prototype.destroy = function () {\n        if (this.mContentText) {\n            this.mContentText.destroy();\n            this.mContentText = null;\n        }\n        if (this.mTween) {\n            this.mTween.stop();\n            this.mTween.remove();\n            this.mTween = null;\n        }\n        _super.prototype.destroy.call(this);\n    };\n    NoticePanel.prototype.resize = function (wid, hei) {\n        if (wid === void 0) { wid = 0; }\n        if (hei === void 0) { hei = 0; }\n        var view = this.scene.cameras.main.worldView;\n        this.x = view.x + view.width + wid >> 1;\n        this.y = 180 + hei;\n    };\n    NoticePanel.prototype.showNotice = function (data) {\n        var _this = this;\n        if (!this.mInitialized)\n            return;\n        if (!data)\n            return;\n        if (this.mTween) {\n            this.mTween.stop();\n            this.mTween.remove();\n        }\n        var color = \"#FFFFFF\";\n        var delay = 5000;\n        var setting = data.chatsetting;\n        if (setting) {\n            if (setting.textColor) {\n                color = setting.textColor;\n            }\n            if (setting.duration) {\n                delay = setting.duration;\n            }\n        }\n        this.mContentText.setText(data.noticeContext);\n        this.mContentText.setFill(color);\n        this.mContentText.x = -(this.mContentText.width >> 1);\n        this.mContentText.y = -(this.mContentText.height >> 1);\n        this.mTween = this.scene.tweens.add({\n            targets: this,\n            alpha: 0,\n            duration: 200,\n            delay: delay,\n            onComplete: function () {\n                _this.removeFromParent();\n            }\n        });\n    };\n    NoticePanel.prototype.preload = function () {\n        this.scene.load.image(_utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Border\"].getName(), _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Border\"].getPNG());\n        _super.prototype.preload.call(this);\n    };\n    NoticePanel.prototype.init = function () {\n        // const background = new NinePatch(this.scene, {\n        //     width: 1200,\n        //     height: 120,\n        //     key: Border.getName(),\n        //     columns: Border.getColumns(),\n        //     rows: Border.getRows()\n        // });\n        var background = new _components_nine_patch__WEBPACK_IMPORTED_MODULE_2__[\"NinePatch\"](this.scene, 0, 0, 1200, 120, _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Border\"].getName(), null, _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Border\"].getConfig());\n        this.add(background);\n        this.mContentText = this.scene.make.text({\n            align: \"center\",\n            style: {\n                fontFamily: \"bold YaHei\",\n                fontSize: 20 * this.dpr * this.mWorld.uiScale,\n                wordWrap: { width: 1180, useAdvancedWrap: true },\n            },\n        }, false)\n            .setStroke(\"#000000\", 1);\n        this.add(this.mContentText);\n        _super.prototype.init.call(this);\n    };\n    NoticePanel.prototype.refreshData = function () {\n        var data = this.mShowData;\n        if (data) {\n            this.showNotice(data);\n        }\n    };\n    NoticePanel.prototype.removeFromParent = function () {\n        if (this.parentContainer) {\n            this.parentContainer.remove(this);\n        }\n        if (this.mTween) {\n            this.mTween.stop();\n            this.mTween.remove();\n            this.mTween = null;\n        }\n        this.mShow = false;\n    };\n    return NoticePanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/Notice/NoticePanel.ts?");

/***/ }),

/***/ "./src/ui/PicBusinessStreet/PicBusinessContentPanel.ts":
/*!*************************************************************!*\
  !*** ./src/ui/PicBusinessStreet/PicBusinessContentPanel.ts ***!
  \*************************************************************/
/*! exports provided: PicBusinessContentPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PicBusinessContentPanel\", function() { return PicBusinessContentPanel; });\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/ui-components */ \"./lib/rexui/lib/ui/ui-components.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/interface/event/MouseEvent */ \"./lib/rexui/lib/ui/interface/event/MouseEvent.ts\");\n/* harmony import */ var _ui_atals_name__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ui.atals.name */ \"./src/ui/ui.atals.name.ts\");\n/* harmony import */ var _i18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../i18n */ \"./src/i18n.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar PicBusinessContentPanel = /** @class */ (function (_super) {\n    __extends(PicBusinessContentPanel, _super);\n    function PicBusinessContentPanel(scene, x, y, width, height, dpr, key, key2) {\n        var _this = _super.call(this, scene, x, y) || this;\n        _this.setSize(width, height);\n        _this.dpr = dpr;\n        _this.key = key;\n        _this.key2 = key2;\n        _this.create();\n        return _this;\n    }\n    PicBusinessContentPanel.prototype.create = function () {\n        var width = this.width;\n        var height = this.height;\n        this.bg = new _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_1__[\"NineSlicePatch\"](this.scene, 0, 0, width, height, _ui_atals_name__WEBPACK_IMPORTED_MODULE_3__[\"UIAtlasKey\"].common2Key, \"bg\", {\n            left: 20 * this.dpr,\n            top: 20 * this.dpr,\n            right: 20 * this.dpr,\n            bottom: 40 * this.dpr\n        });\n        this.add(this.bg);\n        var posY = -height * 0.5;\n        this.topbg = this.scene.make.image({ key: this.key, frame: \"eaves\" });\n        this.topbg.y = posY - 2 * this.dpr;\n        this.add(this.topbg);\n        this.titlebg = this.scene.make.image({ key: this.key, frame: \"title\" });\n        this.titlebg.y = posY - 25 * this.dpr;\n        this.add(this.titlebg);\n        var mfont = \"bold \" + 15 * this.dpr + \"px \" + _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].BOLD_FONT;\n        this.titleText = this.scene.make.text({ x: 0, y: this.titlebg.y - 5 * this.dpr, text: _i18n__WEBPACK_IMPORTED_MODULE_4__[\"i18n\"].t(\"business_street.commercial_street\"), style: { font: mfont, bold: true, color: \"#FFD248\" } }).setOrigin(0.5, 0);\n        this.titleText.setStroke(\"#553100\", 2 * this.dpr);\n        this.titleText.setShadow(2, 2, \"#553100\", 4 * this.dpr, true, true);\n        this.add(this.titleText);\n        this.closeBtn = new _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_1__[\"Button\"](this.scene, _ui_atals_name__WEBPACK_IMPORTED_MODULE_3__[\"UIAtlasKey\"].commonKey, \"close\");\n        this.closeBtn.setDisplaySize(28 * this.dpr, 28 * this.dpr);\n        this.closeBtn.setPosition(this.width * 0.5 - 6 * this.dpr, posY + this.dpr * 5);\n        this.closeBtn.on(_lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_2__[\"CoreUI\"].MouseEvent.Tap, this.onCloseHandler, this);\n        this.add(this.closeBtn);\n        this.setContentSize(width, height);\n    };\n    PicBusinessContentPanel.prototype.setContentSize = function (width, height) {\n        this.setSize(width, height);\n        this.bg.resize(width, height);\n        var posY = -height * 0.5;\n        this.topbg.y = posY - 2 * this.dpr;\n        this.titlebg.y = posY - 25 * this.dpr;\n        this.titleText.y = this.titlebg.y - 5 * this.dpr;\n        this.closeBtn.setPosition(this.width * 0.5 - 6 * this.dpr, posY + this.dpr * 5);\n    };\n    PicBusinessContentPanel.prototype.setTitleText = function (text) {\n        this.titleText.text = text;\n    };\n    PicBusinessContentPanel.prototype.setCloseHandler = function (handler) {\n        this.closeHandler = handler;\n    };\n    PicBusinessContentPanel.prototype.onCloseHandler = function () {\n        if (this.closeHandler)\n            this.closeHandler.run();\n    };\n    return PicBusinessContentPanel;\n}(Phaser.GameObjects.Container));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicBusinessStreet/PicBusinessContentPanel.ts?");

/***/ }),

/***/ "./src/ui/PicBusinessStreet/PicBusinessHistoryPanel.ts":
/*!*************************************************************!*\
  !*** ./src/ui/PicBusinessStreet/PicBusinessHistoryPanel.ts ***!
  \*************************************************************/
/*! exports provided: PicBusinessHistoryPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PicBusinessHistoryPanel\", function() { return PicBusinessHistoryPanel; });\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_gridtable_GameGridTable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/gridtable/GameGridTable */ \"./lib/rexui/lib/ui/gridtable/GameGridTable.ts\");\n/* harmony import */ var _components_dynamic_image__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/dynamic.image */ \"./src/ui/components/dynamic.image.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/ui-components */ \"./lib/rexui/lib/ui/ui-components.ts\");\n/* harmony import */ var _ui_atals_name__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ui.atals.name */ \"./src/ui/ui.atals.name.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_button_NineSliceButton__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/button/NineSliceButton */ \"./lib/rexui/lib/ui/button/NineSliceButton.ts\");\n/* harmony import */ var _i18n__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../i18n */ \"./src/i18n.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/interface/event/MouseEvent */ \"./lib/rexui/lib/ui/interface/event/MouseEvent.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\nvar PicBusinessHistoryPanel = /** @class */ (function (_super) {\n    __extends(PicBusinessHistoryPanel, _super);\n    function PicBusinessHistoryPanel(scene, x, y, width, height, dpr, zoom, key, key2) {\n        var _this = _super.call(this, scene, x, y) || this;\n        _this.dpr = dpr;\n        _this.key = key;\n        _this.key2 = key2;\n        _this.zoom = zoom;\n        _this.setSize(width, height);\n        _this.create();\n        return _this;\n    }\n    PicBusinessHistoryPanel.prototype.setHistoryeData = function () {\n        var arr = new Array(60);\n        this.gridtable.setItems(arr);\n        this.titleText.text = _i18n__WEBPACK_IMPORTED_MODULE_6__[\"i18n\"].t(\"business_street.history_title\").replace(\"${}\", \"10\");\n    };\n    PicBusinessHistoryPanel.prototype.setHandler = function (back) {\n        this.backHandler = back;\n    };\n    PicBusinessHistoryPanel.prototype.resetMask = function () {\n        this.gridtable.resetMask();\n    };\n    PicBusinessHistoryPanel.prototype.create = function () {\n        var posy = -this.height * 0.5;\n        var posx = -this.width * 0.5;\n        var mfont = \"bold \" + 13 * this.dpr + \"px \" + _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].BOLD_FONT;\n        var titleText = this.scene.make.text({ x: posx + 30 * this.dpr, y: posy + 6 * this.dpr, text: _i18n__WEBPACK_IMPORTED_MODULE_6__[\"i18n\"].t(\"business_street.history_title\"), style: { font: mfont, bold: true, color: \"#FFC51A\" } }).setOrigin(0, 0.5);\n        titleText.setStroke(\"#553100\", 2 * this.dpr);\n        this.add(titleText);\n        this.titleText = titleText;\n        var gridWdith = this.width;\n        var gridHeight = this.height - 80 * this.dpr;\n        var gridY = posy + 33 * this.dpr + gridHeight * 0.5;\n        this.gridtable = this.createGrideTable(0, gridY, gridWdith, gridHeight, 256 * this.dpr, 50 * this.dpr);\n        var backBtn = new _lib_rexui_lib_ui_button_NineSliceButton__WEBPACK_IMPORTED_MODULE_5__[\"NineSliceButton\"](this.scene, 0, this.height * 0.5 - 15 * this.dpr, 92 * this.dpr, 34 * this.dpr, _ui_atals_name__WEBPACK_IMPORTED_MODULE_4__[\"UIAtlasKey\"].commonKey, \"red_btn\", _i18n__WEBPACK_IMPORTED_MODULE_6__[\"i18n\"].t(\"business_street.back\"), this.dpr, this.zoom, {\n            left: 10 * this.dpr,\n            top: 10 * this.dpr,\n            right: 10 * this.dpr,\n            bottom: 10 * this.dpr\n        });\n        this.add(backBtn);\n        backBtn.setTextStyle({ fontSize: 15 * this.dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].BOLD_FONT, color: \"#ffffff\" });\n        backBtn.on(_lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_7__[\"CoreUI\"].MouseEvent.Tap, this.onBackHandler, this);\n    };\n    PicBusinessHistoryPanel.prototype.createGrideTable = function (x, y, width, height, capW, capH) {\n        var _this = this;\n        var tableConfig = {\n            x: x,\n            y: y,\n            table: {\n                width: width,\n                height: height,\n                columns: 1,\n                cellWidth: capW,\n                cellHeight: capH,\n                reuseCellContainer: true,\n                tableOX: 19 * this.dpr,\n                zoom: this.zoom\n            },\n            scrollMode: 0,\n            clamplChildOY: false,\n            // background: (<any>this.scene).rexUI.add.roundRectangle(0, 0, 2, 2, 0, 0xFF9900, .2),\n            createCellContainerCallback: function (cell, cellContainer) {\n                var scene = cell.scene, item = cell.item;\n                if (cellContainer === null) {\n                    cellContainer = new PicHistoryItem(_this.scene, 0, 0, capW, capH, _this.key, _this.key2, _this.dpr, _this.zoom);\n                    grid.add(cellContainer);\n                }\n                cellContainer.setData({ item: item });\n                cellContainer.setStoreData(item);\n                return cellContainer;\n            },\n        };\n        var grid = new _lib_rexui_lib_ui_gridtable_GameGridTable__WEBPACK_IMPORTED_MODULE_1__[\"GameGridTable\"](this.scene, tableConfig);\n        grid.layout();\n        this.add(grid);\n        return grid;\n    };\n    PicBusinessHistoryPanel.prototype.onBackHandler = function () {\n        if (this.backHandler)\n            this.backHandler.run();\n    };\n    return PicBusinessHistoryPanel;\n}(Phaser.GameObjects.Container));\n\nvar PicHistoryItem = /** @class */ (function (_super) {\n    __extends(PicHistoryItem, _super);\n    function PicHistoryItem(scene, x, y, width, height, key, key2, dpr, zoom) {\n        var _this = _super.call(this, scene, x, y) || this;\n        _this.dpr = dpr;\n        _this.key = key;\n        _this.key2 = key2;\n        _this.setSize(width, height);\n        var posx = -_this.width * 0.5;\n        var posy = -_this.height * 0.5;\n        var bg = new _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_3__[\"NineSlicePatch\"](_this.scene, 0, 0, width, 45 * dpr, _this.key, \"resturant_bg\", {\n            left: 4 * _this.dpr,\n            top: 9 * _this.dpr,\n            right: 4 * _this.dpr,\n            bottom: 9 * _this.dpr\n        });\n        _this.add(bg);\n        var iconbg = _this.scene.make.image({ key: key2, frame: \"icon_bg_s\" });\n        iconbg.setPosition(posx + iconbg.width * 0.5 + 3 * dpr, 0);\n        _this.add(iconbg);\n        _this.storeIcon = new _components_dynamic_image__WEBPACK_IMPORTED_MODULE_2__[\"DynamicImage\"](_this.scene, iconbg.x, 0);\n        _this.add(_this.storeIcon);\n        var storeX = iconbg.x + iconbg.width * 0.5 + 10 * dpr;\n        _this.storeName = _this.scene.make.text({ x: storeX, y: posy + 10 * dpr, text: \"Restaurant\", style: { color: \"#FFE11A\", fontSize: 12 * dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT } }).setOrigin(0);\n        _this.add(_this.storeName);\n        _this.playerName = _this.scene.make.text({ x: storeX, y: _this.storeName.y + _this.storeName.height * 0.5 + 10 * dpr, text: \"Savings: 13000\", style: { color: \"#ffffff\", fontSize: 11 * dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT } }).setOrigin(0);\n        _this.add(_this.playerName);\n        _this.industryIcon = _this.scene.make.image({ key: _this.key, frame: \"entertainment_tag\" });\n        _this.industryIcon.x = _this.width * 0.5 - _this.industryIcon.width * 0.5;\n        _this.add(_this.industryIcon);\n        return _this;\n        // const praiseIcon = this.scene.make.image({ key: key2, frame: \"praise\" });\n        // praiseIcon.x = -posx - 80 * dpr;\n        // this.add(praiseIcon);\n        // this.praiseCount = this.scene.make.text({ x: praiseIcon.x + praiseIcon.width * 0.5 + 10 * dpr, y: praiseIcon.y, text: \"66666666\", style: { color: \"#ffffff\", fontSize: 12 * dpr, fontFamily: Font.DEFULT_FONT } }).setOrigin(0,0.5);\n        // this.add(this.praiseCount);\n    }\n    PicHistoryItem.prototype.setStoreData = function (data) {\n    };\n    return PicHistoryItem;\n}(Phaser.GameObjects.Container));\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicBusinessStreet/PicBusinessHistoryPanel.ts?");

/***/ }),

/***/ "./src/ui/PicBusinessStreet/PicBusinessMyStreetPanel.ts":
/*!**************************************************************!*\
  !*** ./src/ui/PicBusinessStreet/PicBusinessMyStreetPanel.ts ***!
  \**************************************************************/
/*! exports provided: PicBusinessMyStreetPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PicBusinessMyStreetPanel\", function() { return PicBusinessMyStreetPanel; });\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_button_Button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/button/Button */ \"./lib/rexui/lib/ui/button/Button.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_gridtable_GameGridTable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/gridtable/GameGridTable */ \"./lib/rexui/lib/ui/gridtable/GameGridTable.ts\");\n/* harmony import */ var _Handler_Handler__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../Handler/Handler */ \"./src/Handler/Handler.ts\");\n/* harmony import */ var _components_dynamic_image__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/dynamic.image */ \"./src/ui/components/dynamic.image.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/ui-components */ \"./lib/rexui/lib/ui/ui-components.ts\");\n/* harmony import */ var _ui_atals_name__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ui.atals.name */ \"./src/ui/ui.atals.name.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_button_NineSliceButton__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/button/NineSliceButton */ \"./lib/rexui/lib/ui/button/NineSliceButton.ts\");\n/* harmony import */ var _i18n__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../i18n */ \"./src/i18n.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/interface/event/MouseEvent */ \"./lib/rexui/lib/ui/interface/event/MouseEvent.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\n\n\nvar PicBusinessMyStreetPanel = /** @class */ (function (_super) {\n    __extends(PicBusinessMyStreetPanel, _super);\n    function PicBusinessMyStreetPanel(scene, x, y, width, height, dpr, zoom, key) {\n        var _this = _super.call(this, scene, x, y) || this;\n        _this.dpr = dpr;\n        _this.key = key;\n        _this.zoom = zoom;\n        _this.setSize(width, height);\n        _this.create();\n        return _this;\n    }\n    PicBusinessMyStreetPanel.prototype.setMyStoreData = function (datas) {\n        this.gridtable.setItems(datas);\n    };\n    PicBusinessMyStreetPanel.prototype.setHandler = function (takeAll, goOut, newStore) {\n        this.takeAllHandler = takeAll;\n        this.goOutHandler = goOut;\n        this.newStoreHandler = newStore;\n    };\n    PicBusinessMyStreetPanel.prototype.resetMask = function () {\n        this.gridtable.resetMask();\n    };\n    PicBusinessMyStreetPanel.prototype.create = function () {\n        var posy = -this.height * 0.5;\n        var posx = -this.width * 0.5;\n        var storebg = this.scene.make.image({ key: this.key, frame: \"store_icon\" });\n        storebg.x = posx + 30 * this.dpr;\n        storebg.y = posy + 6 * this.dpr;\n        this.add(storebg);\n        var mfont = \"bold \" + 13 * this.dpr + \"px \" + _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].BOLD_FONT;\n        var storex = storebg.x + storebg.width * 0.5 + 10 * this.dpr;\n        var storeTitle = this.scene.make.text({ x: storex, y: storebg.y, text: _i18n__WEBPACK_IMPORTED_MODULE_8__[\"i18n\"].t(\"business_street.my_store\"), style: { font: mfont, bold: true, color: \"#FFC51A\" } }).setOrigin(0, 0.5);\n        storeTitle.setStroke(\"#553100\", 2 * this.dpr);\n        this.add(storeTitle);\n        var gridWdith = this.width;\n        var gridHeight = this.height - 80 * this.dpr;\n        var gridY = posy + 33 * this.dpr + gridHeight * 0.5;\n        this.gridtable = this.createGrideTable(0, gridY, gridWdith, gridHeight, 256 * this.dpr, 75 * this.dpr);\n        this.newStoreBtn = new _lib_rexui_lib_ui_button_Button__WEBPACK_IMPORTED_MODULE_1__[\"Button\"](this.scene, this.key, \"new_store\", \"new_store\");\n        var btnX = -posx - this.newStoreBtn.width * 0.5 - 20 * this.dpr;\n        this.newStoreBtn.setPosition(btnX, posy + 6 * this.dpr);\n        this.newStoreBtn.on(_lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_9__[\"CoreUI\"].MouseEvent.Tap, this.onNewStoreHandler, this);\n        this.add(this.newStoreBtn);\n        this.storeCountText = this.scene.make.text({ x: btnX + this.newStoreBtn.width * 0.5 + 20 * this.dpr, y: posy, text: \"\", style: { font: mfont, bold: true, color: \"#FFC51A\" } }).setOrigin(1, 0);\n        this.add(this.storeCountText);\n        var talkAllBtn = new _lib_rexui_lib_ui_button_NineSliceButton__WEBPACK_IMPORTED_MODULE_7__[\"NineSliceButton\"](this.scene, -60 * this.dpr, this.height * 0.5 - 15 * this.dpr, 92 * this.dpr, 34 * this.dpr, _ui_atals_name__WEBPACK_IMPORTED_MODULE_6__[\"UIAtlasKey\"].commonKey, \"red_btn\", _i18n__WEBPACK_IMPORTED_MODULE_8__[\"i18n\"].t(\"business_street.takeall\"), this.dpr, this.zoom, {\n            left: 10 * this.dpr,\n            top: 10 * this.dpr,\n            right: 10 * this.dpr,\n            bottom: 10 * this.dpr\n        });\n        this.add(talkAllBtn);\n        talkAllBtn.setTextStyle({ fontSize: 15 * this.dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].BOLD_FONT, color: \"#ffffff\" });\n        talkAllBtn.on(_lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_9__[\"CoreUI\"].MouseEvent.Tap, this.onTalkAllHandler, this);\n        var goOutBtn = new _lib_rexui_lib_ui_button_NineSliceButton__WEBPACK_IMPORTED_MODULE_7__[\"NineSliceButton\"](this.scene, 60 * this.dpr, talkAllBtn.y, 92 * this.dpr, 34 * this.dpr, _ui_atals_name__WEBPACK_IMPORTED_MODULE_6__[\"UIAtlasKey\"].commonKey, \"yellow_btn\", _i18n__WEBPACK_IMPORTED_MODULE_8__[\"i18n\"].t(\"business_street.goout\"), this.dpr, this.zoom, {\n            left: 10 * this.dpr,\n            top: 10 * this.dpr,\n            right: 10 * this.dpr,\n            bottom: 10 * this.dpr\n        });\n        this.add(goOutBtn);\n        goOutBtn.on(_lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_9__[\"CoreUI\"].MouseEvent.Tap, this.onGoOutHandler, this);\n        goOutBtn.setTextStyle({ fontSize: 15 * this.dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].BOLD_FONT, color: \"#996600\" });\n    };\n    PicBusinessMyStreetPanel.prototype.createGrideTable = function (x, y, width, height, capW, capH) {\n        var _this = this;\n        var tableConfig = {\n            x: x,\n            y: y,\n            table: {\n                width: width,\n                height: height,\n                columns: 1,\n                cellWidth: capW,\n                cellHeight: capH,\n                reuseCellContainer: true,\n                tableOX: 19 * this.dpr,\n                zoom: this.zoom\n            },\n            scrollMode: 0,\n            clamplChildOY: false,\n            // background: (<any>this.scene).rexUI.add.roundRectangle(0, 0, 2, 2, 0, 0xFF9900, .2),\n            createCellContainerCallback: function (cell, cellContainer) {\n                var scene = cell.scene, item = cell.item;\n                if (cellContainer === null) {\n                    cellContainer = new MyStoreItem(_this.scene, 0, 0, capW, capH, _this.key, _this.dpr, _this.zoom);\n                    cellContainer.setHandler(new _Handler_Handler__WEBPACK_IMPORTED_MODULE_3__[\"Handler\"](_this, _this.onEnterHandler));\n                    grid.add(cellContainer);\n                }\n                cellContainer.setData({ item: item });\n                cellContainer.setStoreData(item);\n                return cellContainer;\n            },\n        };\n        var grid = new _lib_rexui_lib_ui_gridtable_GameGridTable__WEBPACK_IMPORTED_MODULE_2__[\"GameGridTable\"](this.scene, tableConfig);\n        grid.layout();\n        this.add(grid);\n        return grid;\n    };\n    PicBusinessMyStreetPanel.prototype.onEnterHandler = function (data) {\n    };\n    PicBusinessMyStreetPanel.prototype.onTalkAllHandler = function () {\n        if (this.takeAllHandler)\n            this.takeAllHandler.run();\n    };\n    PicBusinessMyStreetPanel.prototype.onGoOutHandler = function () {\n        if (this.goOutHandler)\n            this.goOutHandler.run();\n    };\n    PicBusinessMyStreetPanel.prototype.onNewStoreHandler = function () {\n        if (this.newStoreHandler)\n            this.newStoreHandler.run();\n    };\n    return PicBusinessMyStreetPanel;\n}(Phaser.GameObjects.Container));\n\nvar MyStoreItem = /** @class */ (function (_super) {\n    __extends(MyStoreItem, _super);\n    function MyStoreItem(scene, x, y, width, height, key, dpr, zoom) {\n        var _this = _super.call(this, scene, x, y) || this;\n        _this.dpr = dpr;\n        _this.key = key;\n        _this.setSize(width, height);\n        var posx = -_this.width * 0.5;\n        var posy = -_this.height * 0.5;\n        _this.bg = new _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_5__[\"NineSlicePatch\"](_this.scene, 0, 0, width, 68 * dpr, _this.key, \"resturant_bg\", {\n            left: 4 * _this.dpr,\n            top: 9 * _this.dpr,\n            right: 4 * _this.dpr,\n            bottom: 9 * _this.dpr\n        });\n        _this.add(_this.bg);\n        var iconbg = _this.scene.make.image({ key: key, frame: \"store_icon_bg\" });\n        iconbg.setPosition(posx + iconbg.width * 0.5 + 3 * dpr, 0);\n        _this.add(iconbg);\n        _this.storeIcon = new _components_dynamic_image__WEBPACK_IMPORTED_MODULE_4__[\"DynamicImage\"](_this.scene, iconbg.x, 0);\n        _this.add(_this.storeIcon);\n        var storeX = iconbg.x + iconbg.width * 0.5 + 10 * dpr;\n        _this.storeName = _this.scene.make.text({ x: storeX, y: posy + 5 * dpr, text: \"Restaurant\", style: { color: \"#FFE11A\", fontSize: 12 * dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT } }).setOrigin(0);\n        _this.add(_this.storeName);\n        _this.lvimgCon = _this.scene.make.container(undefined, false);\n        _this.lvimgCon.height = 14 * dpr;\n        _this.lvimgCon.setPosition(storeX + 6 * dpr, _this.storeName.y + _this.storeName.height + _this.lvimgCon.height * 0.5 + 3 * dpr);\n        _this.add(_this.lvimgCon);\n        _this.savings = _this.scene.make.text({ x: storeX, y: _this.lvimgCon.y + _this.lvimgCon.height * 0.5 + 3 * dpr, text: \"Savings: 13000\", style: { color: \"#ffffff\", fontSize: 12 * dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT } }).setOrigin(0);\n        _this.add(_this.savings);\n        _this.competitiveness = _this.scene.make.text({ x: storeX, y: _this.savings.y + _this.savings.height + 3 * dpr, text: \"Competitiveness: 13000\", style: { color: \"#ffffff\", fontSize: 12 * dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT } }).setOrigin(0);\n        _this.add(_this.competitiveness);\n        _this.prosperity = _this.scene.make.text({ x: storeX, y: _this.competitiveness.y + _this.competitiveness.height + 3 * dpr, text: \"Prosperity: +13000 / Day\", style: { color: \"#ffffff\", fontSize: 12 * dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT } }).setOrigin(0);\n        _this.add(_this.prosperity);\n        _this.industryIcon = _this.scene.make.image({ key: _this.key, frame: \"entertainment_tag\" });\n        _this.industryIcon.x = _this.width * 0.5 - _this.industryIcon.width * 0.5;\n        _this.add(_this.industryIcon);\n        var enterBtn = new _lib_rexui_lib_ui_button_NineSliceButton__WEBPACK_IMPORTED_MODULE_7__[\"NineSliceButton\"](scene, -posx, 0, 48 * dpr, 27 * dpr, _ui_atals_name__WEBPACK_IMPORTED_MODULE_6__[\"UIAtlasKey\"].commonKey, \"yellow_btn_normal_s\", _i18n__WEBPACK_IMPORTED_MODULE_8__[\"i18n\"].t(\"business_street.enter\"), _this.dpr, zoom, {\n            left: 10 * _this.dpr,\n            top: 10 * _this.dpr,\n            right: 10 * _this.dpr,\n            bottom: 10 * _this.dpr\n        });\n        enterBtn.setTextStyle({ fontSize: 10 * dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].BOLD_FONT, color: \"#996600\" });\n        enterBtn.x = -posx - enterBtn.width * 0.5 - 10 * dpr;\n        enterBtn.on(_lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_9__[\"CoreUI\"].MouseEvent.Tap, _this.onEnterHandler, _this);\n        _this.add(enterBtn);\n        return _this;\n    }\n    MyStoreItem.prototype.setStoreData = function (data) {\n        var industry = data.industry;\n        var storeType = data.storeType;\n        this.bg.setFrame(industry + \"_bg\");\n        this.storeIcon.setFrame(storeType + \"_icon\");\n        this.storeName.text = data.name;\n        this.lvimgCon.removeAll(true);\n        this.setImageInfo(_ui_atals_name__WEBPACK_IMPORTED_MODULE_6__[\"UIAtlasKey\"].common2Key, this.getLevelImgs(data.roomLevel.level));\n        this.savings.text = _i18n__WEBPACK_IMPORTED_MODULE_8__[\"i18n\"].t(\"business_street.savings\") + \":\" + data.savings + \"\";\n        this.competitiveness.text = _i18n__WEBPACK_IMPORTED_MODULE_8__[\"i18n\"].t(\"business_street.competitiveness\") + \":\" + data.competitiveness;\n        this.prosperity.text = _i18n__WEBPACK_IMPORTED_MODULE_8__[\"i18n\"].t(\"business_street.prosperity\") + \":\" + data.prosperity;\n        this.industryIcon.setFrame(industry + \"_tag\");\n    };\n    MyStoreItem.prototype.setHandler = function (handler) {\n        this.enterHandler = handler;\n    };\n    MyStoreItem.prototype.setImageInfo = function (key, imgs) {\n        var posX = 0;\n        var space = 15 * this.dpr;\n        for (var _i = 0, imgs_1 = imgs; _i < imgs_1.length; _i++) {\n            var frame = imgs_1[_i];\n            var image = this.scene.make.image({ key: key, frame: frame });\n            image.x = posX;\n            posX += image.width * 0.5 + space;\n            this.lvimgCon.add(image);\n        }\n    };\n    MyStoreItem.prototype.onEnterHandler = function () {\n        if (this.enterHandler)\n            this.enterHandler.runWith(this.storeData);\n    };\n    MyStoreItem.prototype.getLevelImgs = function (level) {\n        var power = 4;\n        level = level ? level : 0;\n        var imgs = [];\n        var bearNum = Math.floor(level / Math.pow(power, 3));\n        var value0 = level % Math.pow(power, 3);\n        var sunNum = Math.floor(value0 / Math.pow(power, 2));\n        var value1 = value0 % Math.pow(power, 2);\n        var moon = Math.floor((value1) / Math.pow(power, 1));\n        var value2 = value1 % Math.pow(power, 1);\n        var star = value2;\n        for (var i = 0; i < bearNum; i++) {\n            imgs.push(\"bear\");\n        }\n        for (var i = 0; i < sunNum; i++) {\n            imgs.push(\"sun\");\n        }\n        for (var i = 0; i < moon; i++) {\n            imgs.push(\"moon\");\n        }\n        for (var i = 0; i < star; i++) {\n            imgs.push(\"star\");\n        }\n        if (level === 0)\n            imgs.push(\"star\");\n        return imgs;\n    };\n    return MyStoreItem;\n}(Phaser.GameObjects.Container));\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicBusinessStreet/PicBusinessMyStreetPanel.ts?");

/***/ }),

/***/ "./src/ui/PicBusinessStreet/PicBusinessRankRewardPanel.ts":
/*!****************************************************************!*\
  !*** ./src/ui/PicBusinessStreet/PicBusinessRankRewardPanel.ts ***!
  \****************************************************************/
/*! exports provided: PicBusinessRankRewardPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PicBusinessRankRewardPanel\", function() { return PicBusinessRankRewardPanel; });\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_gridtable_GameGridTable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/gridtable/GameGridTable */ \"./lib/rexui/lib/ui/gridtable/GameGridTable.ts\");\n/* harmony import */ var _components_dynamic_image__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/dynamic.image */ \"./src/ui/components/dynamic.image.ts\");\n/* harmony import */ var _ui_atals_name__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ui.atals.name */ \"./src/ui/ui.atals.name.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_button_NineSliceButton__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/button/NineSliceButton */ \"./lib/rexui/lib/ui/button/NineSliceButton.ts\");\n/* harmony import */ var _i18n__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../i18n */ \"./src/i18n.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/interface/event/MouseEvent */ \"./lib/rexui/lib/ui/interface/event/MouseEvent.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\nvar PicBusinessRankRewardPanel = /** @class */ (function (_super) {\n    __extends(PicBusinessRankRewardPanel, _super);\n    function PicBusinessRankRewardPanel(scene, x, y, width, height, dpr, zoom, key, key2) {\n        var _this = _super.call(this, scene, x, y) || this;\n        _this.dpr = dpr;\n        _this.key = key;\n        _this.key2 = key2;\n        _this.zoom = zoom;\n        _this.setSize(width, height);\n        _this.create();\n        return _this;\n    }\n    PicBusinessRankRewardPanel.prototype.setRankRewardData = function () {\n        var arr = new Array(60);\n        this.gridtable.setItems(arr);\n    };\n    PicBusinessRankRewardPanel.prototype.setHandler = function (back) {\n        this.backHandler = back;\n    };\n    PicBusinessRankRewardPanel.prototype.resetMask = function () {\n        this.gridtable.resetMask();\n    };\n    PicBusinessRankRewardPanel.prototype.create = function () {\n        var posy = -this.height * 0.5;\n        var gridWdith = this.width - 20 * this.dpr;\n        var gridHeight = this.height - 70 * this.dpr;\n        var gridY = posy + 23 * this.dpr + gridHeight * 0.5;\n        this.gridtable = this.createGrideTable(-5 * this.dpr, gridY, gridWdith, gridHeight, 256 * this.dpr, 80 * this.dpr);\n        var backBtn = new _lib_rexui_lib_ui_button_NineSliceButton__WEBPACK_IMPORTED_MODULE_4__[\"NineSliceButton\"](this.scene, 0, this.height * 0.5 - 15 * this.dpr, 92 * this.dpr, 34 * this.dpr, _ui_atals_name__WEBPACK_IMPORTED_MODULE_3__[\"UIAtlasKey\"].commonKey, \"red_btn\", _i18n__WEBPACK_IMPORTED_MODULE_5__[\"i18n\"].t(\"business_street.back\"), this.dpr, this.zoom, {\n            left: 10 * this.dpr,\n            top: 10 * this.dpr,\n            right: 10 * this.dpr,\n            bottom: 10 * this.dpr\n        });\n        this.add(backBtn);\n        backBtn.setTextStyle({ fontSize: 15 * this.dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].BOLD_FONT, color: \"#ffffff\" });\n        backBtn.on(_lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_6__[\"CoreUI\"].MouseEvent.Tap, this.onBackHandler, this);\n    };\n    PicBusinessRankRewardPanel.prototype.createGrideTable = function (x, y, width, height, capW, capH) {\n        var _this = this;\n        var tableConfig = {\n            x: x,\n            y: y,\n            table: {\n                width: width,\n                height: height,\n                columns: 1,\n                cellWidth: capW,\n                cellHeight: capH,\n                reuseCellContainer: true,\n                tableOX: 19 * this.dpr,\n                zoom: this.zoom\n            },\n            scrollMode: 0,\n            clamplChildOY: false,\n            // background: (<any>this.scene).rexUI.add.roundRectangle(0, 0, 2, 2, 0, 0xFF9900, .2),\n            createCellContainerCallback: function (cell, cellContainer) {\n                var scene = cell.scene, item = cell.item;\n                if (cellContainer === null) {\n                    cellContainer = new PicRankRewardItem(_this.scene, 0, 0, capW, capH, _this.key, _this.key2, _this.dpr, _this.zoom);\n                    grid.add(cellContainer);\n                }\n                cellContainer.setData({ item: item });\n                cellContainer.setRankRewardData(item);\n                return cellContainer;\n            },\n        };\n        var grid = new _lib_rexui_lib_ui_gridtable_GameGridTable__WEBPACK_IMPORTED_MODULE_1__[\"GameGridTable\"](this.scene, tableConfig);\n        grid.layout();\n        this.add(grid);\n        return grid;\n    };\n    PicBusinessRankRewardPanel.prototype.onBackHandler = function () {\n        if (this.backHandler)\n            this.backHandler.run();\n    };\n    return PicBusinessRankRewardPanel;\n}(Phaser.GameObjects.Container));\n\nvar PicRankRewardItem = /** @class */ (function (_super) {\n    __extends(PicRankRewardItem, _super);\n    function PicRankRewardItem(scene, x, y, width, height, key, key2, dpr, zoom) {\n        var _this = _super.call(this, scene, x, y) || this;\n        _this.isre = false;\n        _this.rewardItems = [];\n        _this.dpr = dpr;\n        _this.zoom = zoom;\n        _this.key = key;\n        _this.key2 = key2;\n        _this.setSize(width, height);\n        var bg = _this.scene.make.image({ key: _this.key2, frame: \"reward_bg\" });\n        _this.add(bg);\n        _this.rankIcon = _this.scene.make.image({ key: key2, frame: \"1\" });\n        _this.rankIcon.x = -width * 0.5 + _this.rankIcon.width * 0.5 + 10 * dpr;\n        _this.add(_this.rankIcon);\n        var storeX = _this.rankIcon.x;\n        _this.storeName = _this.scene.make.text({ x: storeX, y: 0, text: \"4~10\", style: { color: \"#0\", fontSize: 12 * dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT } }).setOrigin(0.5);\n        _this.add(_this.storeName);\n        return _this;\n    }\n    PicRankRewardItem.prototype.setRankRewardData = function (data) {\n        if (this.isre)\n            return;\n        this.isre = true;\n        for (var i = 0; i < 3; i++) {\n            var item = new RewardItem(this.scene, 0, 0, 50 * this.dpr, 50 * this.dpr, this.key2, this.dpr, this.zoom);\n            this.add(item);\n            this.rewardItems.push(item);\n        }\n        this.Sort();\n    };\n    PicRankRewardItem.prototype.Sort = function () {\n        var space = 10 * this.dpr;\n        var value = -50 * this.dpr;\n        for (var _i = 0, _a = this.rewardItems; _i < _a.length; _i++) {\n            var item = _a[_i];\n            item.x = item.width * item.originX + value;\n            value += item.width + space;\n        }\n    };\n    return PicRankRewardItem;\n}(Phaser.GameObjects.Container));\nvar RewardItem = /** @class */ (function (_super) {\n    __extends(RewardItem, _super);\n    function RewardItem(scene, x, y, width, height, key2, dpr, zoom) {\n        var _this = _super.call(this, scene, x, y) || this;\n        _this.dpr = dpr;\n        _this.key2 = key2;\n        _this.setSize(width, height);\n        var bg = _this.scene.make.image({ key: _this.key2, frame: \"icon_bg_m\" });\n        _this.add(bg);\n        _this.itemIcon = new _components_dynamic_image__WEBPACK_IMPORTED_MODULE_2__[\"DynamicImage\"](_this.scene, 0, 0);\n        _this.add(_this.itemIcon);\n        _this.countText = _this.scene.make.text({ x: bg.width * 0.5, y: bg.height * 0.5, text: \"4~10\", style: { color: \"#0\", fontSize: 12 * dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT } }).setOrigin(1, 0.5);\n        _this.add(_this.countText);\n        return _this;\n    }\n    RewardItem.prototype.setRewardData = function (data) {\n    };\n    return RewardItem;\n}(Phaser.GameObjects.Container));\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicBusinessStreet/PicBusinessRankRewardPanel.ts?");

/***/ }),

/***/ "./src/ui/PicBusinessStreet/PicBusinessRankingDetailPanel.ts":
/*!*******************************************************************!*\
  !*** ./src/ui/PicBusinessStreet/PicBusinessRankingDetailPanel.ts ***!
  \*******************************************************************/
/*! exports provided: PicBusinessRankingDetailPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PicBusinessRankingDetailPanel\", function() { return PicBusinessRankingDetailPanel; });\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_gridtable_GameGridTable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/gridtable/GameGridTable */ \"./lib/rexui/lib/ui/gridtable/GameGridTable.ts\");\n/* harmony import */ var _components_dynamic_image__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/dynamic.image */ \"./src/ui/components/dynamic.image.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/ui-components */ \"./lib/rexui/lib/ui/ui-components.ts\");\n/* harmony import */ var _ui_atals_name__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ui.atals.name */ \"./src/ui/ui.atals.name.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_button_NineSliceButton__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/button/NineSliceButton */ \"./lib/rexui/lib/ui/button/NineSliceButton.ts\");\n/* harmony import */ var _i18n__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../i18n */ \"./src/i18n.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/interface/event/MouseEvent */ \"./lib/rexui/lib/ui/interface/event/MouseEvent.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\nvar PicBusinessRankingDetailPanel = /** @class */ (function (_super) {\n    __extends(PicBusinessRankingDetailPanel, _super);\n    function PicBusinessRankingDetailPanel(scene, x, y, width, height, dpr, zoom, key, key2) {\n        var _this = _super.call(this, scene, x, y) || this;\n        _this.dpr = dpr;\n        _this.key = key;\n        _this.key2 = key2;\n        _this.zoom = zoom;\n        _this.setSize(width, height);\n        _this.create();\n        return _this;\n    }\n    PicBusinessRankingDetailPanel.prototype.setRankingData = function () {\n        var arr = new Array(60);\n        this.gridtable.setItems(arr);\n        this.timeText.text = \"6 DAY 23:24:16\";\n    };\n    PicBusinessRankingDetailPanel.prototype.setHandler = function (back, reward) {\n        this.backHandler = back;\n        this.rankRewardHandler = reward;\n    };\n    PicBusinessRankingDetailPanel.prototype.resetMask = function () {\n        this.gridtable.resetMask();\n    };\n    PicBusinessRankingDetailPanel.prototype.create = function () {\n        var posy = -this.height * 0.5;\n        var posx = -this.width * 0.5;\n        var mfont = \"bold \" + 13 * this.dpr + \"px \" + _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].BOLD_FONT;\n        this.timeText = this.scene.make.text({ x: 0, y: posy + 6 * this.dpr, text: _i18n__WEBPACK_IMPORTED_MODULE_6__[\"i18n\"].t(\"6 DAY 23:24:16\"), style: { font: mfont, bold: true, color: \"#D9270F\" } }).setOrigin(0.5);\n        this.timeText.setStroke(\"#553100\", 2 * this.dpr);\n        this.add(this.timeText);\n        var rankRewardBtn = new _lib_rexui_lib_ui_button_NineSliceButton__WEBPACK_IMPORTED_MODULE_5__[\"NineSliceButton\"](this.scene, 0, this.timeText.y, 55 * this.dpr, 24 * this.dpr, _ui_atals_name__WEBPACK_IMPORTED_MODULE_4__[\"UIAtlasKey\"].commonKey, \"yellow_btn_normal_s\", _i18n__WEBPACK_IMPORTED_MODULE_6__[\"i18n\"].t(\"business_street.rank_reward\"), this.dpr, this.zoom, {\n            left: 10 * this.dpr,\n            top: 6 * this.dpr,\n            right: 10 * this.dpr,\n            bottom: 6 * this.dpr\n        });\n        rankRewardBtn.x = -posx - rankRewardBtn.width * 0.5 - 30 * this.dpr;\n        rankRewardBtn.setTextStyle({ fontSize: 8 * this.dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].BOLD_FONT, color: \"#996600\" });\n        rankRewardBtn.on(_lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_7__[\"CoreUI\"].MouseEvent.Tap, this.onRankRewardHandler, this);\n        this.add(rankRewardBtn);\n        var gridWdith = this.width;\n        var gridHeight = this.height - 140 * this.dpr;\n        var gridY = posy + 50 * this.dpr + gridHeight * 0.5;\n        this.gridtable = this.createGrideTable(0, gridY, gridWdith, gridHeight, 256 * this.dpr, 50 * this.dpr);\n        var myitembg = this.scene.make.image({ key: this.key2, frame: \"my_rank_bg\" });\n        myitembg.y = gridY + gridHeight * 0.5 + myitembg.height * 0.5 - 20 * this.dpr;\n        this.add(myitembg);\n        this.myRankItem = new PicRankingRewardItem(this.scene, 0, myitembg.y + 6 * this.dpr, 256 * this.dpr, 50 * this.dpr, this.key, this.key2, this.dpr, this.zoom);\n        this.add(this.myRankItem);\n        var backBtn = new _lib_rexui_lib_ui_button_NineSliceButton__WEBPACK_IMPORTED_MODULE_5__[\"NineSliceButton\"](this.scene, 0, this.height * 0.5 - 15 * this.dpr, 92 * this.dpr, 34 * this.dpr, _ui_atals_name__WEBPACK_IMPORTED_MODULE_4__[\"UIAtlasKey\"].commonKey, \"red_btn\", _i18n__WEBPACK_IMPORTED_MODULE_6__[\"i18n\"].t(\"business_street.back\"), this.dpr, this.zoom, {\n            left: 10 * this.dpr,\n            top: 10 * this.dpr,\n            right: 10 * this.dpr,\n            bottom: 10 * this.dpr\n        });\n        this.add(backBtn);\n        backBtn.setTextStyle({ fontSize: 15 * this.dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].BOLD_FONT, color: \"#ffffff\" });\n        backBtn.on(_lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_7__[\"CoreUI\"].MouseEvent.Tap, this.onBackHandler, this);\n    };\n    PicBusinessRankingDetailPanel.prototype.createGrideTable = function (x, y, width, height, capW, capH) {\n        var _this = this;\n        var tableConfig = {\n            x: x,\n            y: y,\n            table: {\n                width: width,\n                height: height,\n                columns: 1,\n                cellWidth: capW,\n                cellHeight: capH,\n                reuseCellContainer: true,\n                tableOX: 19 * this.dpr,\n                zoom: this.zoom\n            },\n            scrollMode: 0,\n            clamplChildOY: false,\n            // background: (<any>this.scene).rexUI.add.roundRectangle(0, 0, 2, 2, 0, 0xFF9900, .2),\n            createCellContainerCallback: function (cell, cellContainer) {\n                var scene = cell.scene, item = cell.item;\n                if (cellContainer === null) {\n                    cellContainer = new PicRankingRewardItem(_this.scene, 0, 0, capW, capH, _this.key, _this.key2, _this.dpr, _this.zoom);\n                    grid.add(cellContainer);\n                }\n                cellContainer.setData({ item: item });\n                cellContainer.setStoreData(item);\n                return cellContainer;\n            },\n        };\n        var grid = new _lib_rexui_lib_ui_gridtable_GameGridTable__WEBPACK_IMPORTED_MODULE_1__[\"GameGridTable\"](this.scene, tableConfig);\n        grid.layout();\n        this.add(grid);\n        return grid;\n    };\n    PicBusinessRankingDetailPanel.prototype.onBackHandler = function () {\n        if (this.backHandler)\n            this.backHandler.run();\n    };\n    PicBusinessRankingDetailPanel.prototype.onRankRewardHandler = function () {\n        if (this.rankRewardHandler)\n            this.rankRewardHandler.run();\n    };\n    return PicBusinessRankingDetailPanel;\n}(Phaser.GameObjects.Container));\n\nvar PicRankingRewardItem = /** @class */ (function (_super) {\n    __extends(PicRankingRewardItem, _super);\n    function PicRankingRewardItem(scene, x, y, width, height, key, key2, dpr, zoom) {\n        var _this = _super.call(this, scene, x, y) || this;\n        _this.dpr = dpr;\n        _this.key = key;\n        _this.key2 = key2;\n        _this.setSize(width, height);\n        var posx = -_this.width * 0.5;\n        var posy = -_this.height * 0.5;\n        var bg = new _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_3__[\"NineSlicePatch\"](_this.scene, 0, 0, width, 45 * dpr, _this.key, \"resturant_bg\", {\n            left: 4 * _this.dpr,\n            top: 9 * _this.dpr,\n            right: 4 * _this.dpr,\n            bottom: 9 * _this.dpr\n        });\n        _this.add(bg);\n        var iconbg = _this.scene.make.image({ key: key2, frame: \"icon_bg_s\" });\n        iconbg.setPosition(posx + iconbg.width * 0.5 + 3 * dpr, 0);\n        _this.add(iconbg);\n        _this.storeIcon = new _components_dynamic_image__WEBPACK_IMPORTED_MODULE_2__[\"DynamicImage\"](_this.scene, iconbg.x, 0);\n        _this.add(_this.storeIcon);\n        var storeX = iconbg.x + iconbg.width * 0.5 + 10 * dpr;\n        _this.storeName = _this.scene.make.text({ x: storeX, y: posy + 10 * dpr, text: \"Restaurant\", style: { color: \"#FFE11A\", fontSize: 12 * dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT } }).setOrigin(0);\n        _this.add(_this.storeName);\n        _this.playerName = _this.scene.make.text({ x: storeX, y: _this.storeName.y + _this.storeName.height * 0.5 + 10 * dpr, text: \"Savings: 13000\", style: { color: \"#ffffff\", fontSize: 11 * dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT } }).setOrigin(0);\n        _this.add(_this.playerName);\n        _this.industryIcon = _this.scene.make.image({ key: _this.key, frame: \"entertainment_tag\" });\n        _this.industryIcon.x = _this.width * 0.5 - _this.industryIcon.width * 0.5;\n        _this.add(_this.industryIcon);\n        _this.rankIcon = _this.scene.make.image({ key: key2, frame: \"1\" });\n        _this.rankIcon.x = -posx - 80 * dpr;\n        _this.add(_this.rankIcon);\n        _this.praiseCount = _this.scene.make.text({ x: _this.rankIcon.x + _this.rankIcon.width * 0.5 + 10 * dpr, y: _this.rankIcon.y, text: \"66666666\", style: { color: \"#ffffff\", fontSize: 12 * dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT } }).setOrigin(0, 0.5);\n        _this.add(_this.praiseCount);\n        return _this;\n    }\n    PicRankingRewardItem.prototype.setStoreData = function (data) {\n    };\n    return PicRankingRewardItem;\n}(Phaser.GameObjects.Container));\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicBusinessStreet/PicBusinessRankingDetailPanel.ts?");

/***/ }),

/***/ "./src/ui/PicBusinessStreet/PicBusinessRankingPanel.ts":
/*!*************************************************************!*\
  !*** ./src/ui/PicBusinessStreet/PicBusinessRankingPanel.ts ***!
  \*************************************************************/
/*! exports provided: PicBusinessRankingPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PicBusinessRankingPanel\", function() { return PicBusinessRankingPanel; });\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/ui-components */ \"./lib/rexui/lib/ui/ui-components.ts\");\n/* harmony import */ var _ui_atals_name__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ui.atals.name */ \"./src/ui/ui.atals.name.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_button_NineSliceButton__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/button/NineSliceButton */ \"./lib/rexui/lib/ui/button/NineSliceButton.ts\");\n/* harmony import */ var _i18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../i18n */ \"./src/i18n.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/interface/event/MouseEvent */ \"./lib/rexui/lib/ui/interface/event/MouseEvent.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_scroller_GameScroller__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/scroller/GameScroller */ \"./lib/rexui/lib/ui/scroller/GameScroller.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\nvar PicBusinessRankingPanel = /** @class */ (function (_super) {\n    __extends(PicBusinessRankingPanel, _super);\n    function PicBusinessRankingPanel(scene, x, y, width, height, dpr, zoom, key, key2) {\n        var _this = _super.call(this, scene, x, y) || this;\n        _this.boundOffset = 85;\n        _this.dpr = dpr;\n        _this.key = key;\n        _this.key2 = key2;\n        _this.zoom = zoom;\n        _this.setSize(width, height);\n        _this.create();\n        return _this;\n    }\n    PicBusinessRankingPanel.prototype.create = function () {\n        var _this = this;\n        var posy = -this.height * 0.5;\n        var posx = -this.width * 0.5;\n        var mfont = \"bold \" + 20 * this.dpr + \"px \" + _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].BOLD_FONT;\n        var titleText = this.scene.make.text({ x: 0, y: posy + 20 * this.dpr, text: _i18n__WEBPACK_IMPORTED_MODULE_4__[\"i18n\"].t(\"business_street.ranking_list\"), style: { font: mfont, bold: true, color: \"#FFC51A\" } }).setOrigin(0.5);\n        titleText.setStroke(\"#553100\", 2 * this.dpr);\n        this.add(titleText);\n        this.titleText = titleText;\n        var titleLine = this.scene.make.image({ x: 0, y: titleText.y + titleText.height * 0.5 + 10 * this.dpr, key: this.key2, frame: \"title\" });\n        this.add(titleLine);\n        var scrollwidth = this.width - 28 * this.dpr;\n        var scrollHeight = this.height - 80 * this.dpr;\n        var scrollY = posy + 33 * this.dpr + scrollHeight * 0.5;\n        this.gameScroll = new _lib_rexui_lib_ui_scroller_GameScroller__WEBPACK_IMPORTED_MODULE_6__[\"GameScroller\"](this.scene, {\n            x: 0,\n            y: 0,\n            width: scrollwidth,\n            height: scrollHeight,\n            zoom: this.zoom,\n            align: 2,\n            orientation: 1,\n            space: 20 * this.dpr,\n            valuechangeCallback: function (value) {\n                _this.onScrollValueChange(value);\n            },\n            cellupCallBack: function (gameobject) {\n                _this.onScrollClickHandler();\n            }\n        });\n        this.add(this.gameScroll);\n        var backBtn = new _lib_rexui_lib_ui_button_NineSliceButton__WEBPACK_IMPORTED_MODULE_3__[\"NineSliceButton\"](this.scene, 0, this.height * 0.5 - 15 * this.dpr, 92 * this.dpr, 34 * this.dpr, _ui_atals_name__WEBPACK_IMPORTED_MODULE_2__[\"UIAtlasKey\"].commonKey, \"red_btn\", _i18n__WEBPACK_IMPORTED_MODULE_4__[\"i18n\"].t(\"business_street.back\"), this.dpr, this.zoom, {\n            left: 10 * this.dpr,\n            top: 10 * this.dpr,\n            right: 10 * this.dpr,\n            bottom: 10 * this.dpr\n        });\n        this.add(backBtn);\n        backBtn.setTextStyle({ fontSize: 15 * this.dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].BOLD_FONT, color: \"#ffffff\" });\n        backBtn.on(_lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_5__[\"CoreUI\"].MouseEvent.Tap, this.onBackHandler, this);\n    };\n    PicBusinessRankingPanel.prototype.setRankingData = function () {\n        var item0 = this.scene.make.container(undefined, false);\n        item0.setSize(this.boundOffset, 185 * this.dpr);\n        this.gameScroll.addItem(item0);\n        for (var i = 0; i < 10; i++) {\n            var item = new PicRankingItem(this.scene, 0, 0, 133 * this.dpr, 185 * this.dpr, this.key, this.key2, this.dpr, this.zoom);\n            this.gameScroll.addItem(item);\n        }\n        var item1 = this.scene.make.container(undefined, false);\n        item1.setSize(this.boundOffset, 185 * this.dpr);\n        this.gameScroll.addItem(item1);\n        this.gameScroll.Sort();\n        this.gameScroll.refreshMask();\n    };\n    PicBusinessRankingPanel.prototype.setHandler = function (back, rank) {\n        this.backHandler = back;\n        this.rankHandler = rank;\n    };\n    PicBusinessRankingPanel.prototype.resetMask = function () {\n        this.gameScroll.refreshMask();\n    };\n    PicBusinessRankingPanel.prototype.show = function () {\n        this.addListen();\n        this.visible = true;\n    };\n    PicBusinessRankingPanel.prototype.hide = function () {\n        this.removeListen();\n    };\n    PicBusinessRankingPanel.prototype.onScrollValueChange = function (value) {\n        if (this.gameScroll) {\n            var rightBound = this.gameScroll.bounds[1];\n            var interValue = rightBound - value;\n            var index = Math.floor((interValue + 66 * this.dpr) / (133 * this.dpr + 20 * this.dpr));\n            var allLen = this.gameScroll.getItemList().length;\n            if (index >= 0 && index < allLen - 1) {\n                var item = this.gameScroll.getItemAt(index + 1);\n                var dis = item.getWorldTransformMatrix().tx - this.getWorldTransformMatrix().tx;\n                var radio = 1 - Math.abs(dis) / (133 * this.dpr / 2);\n                if (item instanceof PicRankingItem)\n                    item.setRadio(radio);\n                var before = this.gameScroll.getItemAt(index);\n                if (before instanceof PicRankingItem)\n                    before.setRadio(-1);\n                var after = this.gameScroll.getItemAt(index + 2);\n                if (after && after instanceof PicRankingItem)\n                    after.setRadio(-1);\n            }\n            this.gameScroll.Sort(true, false);\n        }\n    };\n    PicBusinessRankingPanel.prototype.onScrollUpHandler = function () {\n        var _this = this;\n        if (this.gameScroll) {\n            var value_1 = this.gameScroll.getValue();\n            var rightBound = this.gameScroll.bounds[1];\n            var interValue = rightBound - value_1;\n            var index = Math.floor((interValue + 66 * this.dpr) / (133 * this.dpr + 20 * this.dpr));\n            var allLen = this.gameScroll.getItemList().length;\n            if (index >= 0 && index < allLen - 1) {\n                var item = this.gameScroll.getItemAt(index + 1);\n                var dis = item.getWorldTransformMatrix().tx - this.getWorldTransformMatrix().tx;\n                if (dis < 0) {\n                    var max_1 = Math.abs(dis) + value_1;\n                    this.timerID = setInterval(function () {\n                        value_1 += 10 * _this.dpr;\n                        _this.gameScroll.setValue(value_1);\n                        if (value_1 >= max_1) {\n                            _this.gameScroll.setValue(max_1);\n                            clearInterval(_this.timerID);\n                            _this.timerID = undefined;\n                        }\n                    }, 30);\n                }\n                else {\n                    var mix_1 = value_1 - Math.abs(dis);\n                    this.timerID = setInterval(function () {\n                        value_1 -= 10 * _this.dpr;\n                        _this.gameScroll.setValue(value_1);\n                        if (value_1 <= mix_1) {\n                            _this.gameScroll.setValue(mix_1);\n                            clearInterval(_this.timerID);\n                            _this.timerID = undefined;\n                        }\n                    }, 30);\n                }\n            }\n            this.gameScroll.Sort(true, false);\n        }\n    };\n    PicBusinessRankingPanel.prototype.onScrollClickHandler = function () {\n        if (this.timerID) {\n            clearInterval(this.timerID);\n            this.timerID = undefined;\n        }\n        if (this.rankHandler)\n            this.rankHandler.runWith(null);\n    };\n    PicBusinessRankingPanel.prototype.onBackHandler = function () {\n        if (this.backHandler)\n            this.backHandler.run();\n    };\n    PicBusinessRankingPanel.prototype.addListen = function () {\n        if (!this.scene)\n            return;\n        this.removeListen();\n        this.scene.input.on(\"pointerdown\", this.pointerDownHandler, this);\n        this.scene.input.on(\"pointerup\", this.pointerUpHandler, this);\n    };\n    PicBusinessRankingPanel.prototype.removeListen = function () {\n        if (!this.scene)\n            return;\n        this.scene.input.off(\"pointerdown\", this.pointerDownHandler, this);\n        this.scene.input.off(\"pointerup\", this.pointerUpHandler, this);\n    };\n    PicBusinessRankingPanel.prototype.pointerDownHandler = function (pointer) {\n        if (this.checkPointerInBounds(this.gameScroll, pointer)) {\n            if (this.timerID) {\n                clearInterval(this.timerID);\n                this.timerID = undefined;\n            }\n            if (this.moveTimerID) {\n                clearInterval(this.moveTimerID);\n                this.moveTimerID = undefined;\n            }\n        }\n    };\n    PicBusinessRankingPanel.prototype.pointerUpHandler = function (pointer) {\n        var _this = this;\n        if (this.checkPointerInBounds(this.gameScroll, pointer)) {\n            setTimeout(function () {\n                if (!_this.gameScroll.isSliding)\n                    _this.onScrollUpHandler();\n                else {\n                    _this.moveTimerID = setInterval(function () {\n                        if (!_this.gameScroll.isSliding) {\n                            _this.onScrollUpHandler();\n                            clearInterval(_this.moveTimerID);\n                            _this.moveTimerID = undefined;\n                        }\n                    }, 20);\n                }\n            }, 20);\n        }\n    };\n    PicBusinessRankingPanel.prototype.checkPointerInBounds = function (gameObject, pointer) {\n        if (!this.mRectangle) {\n            this.mRectangle = new Phaser.Geom.Rectangle(0, 0, 0, 0);\n        }\n        this.mRectangle.left = -gameObject.width / 2;\n        this.mRectangle.right = gameObject.width / 2;\n        this.mRectangle.top = -gameObject.height / 2;\n        this.mRectangle.bottom = gameObject.height / 2;\n        if (pointer) {\n            var worldMatrix = gameObject.getWorldTransformMatrix();\n            var x = pointer.x - worldMatrix.tx;\n            var y = pointer.y - worldMatrix.ty;\n            if (this.mRectangle.left <= x && this.mRectangle.right >= x && this.mRectangle.top <= y && this.mRectangle.bottom >= y) {\n                return true;\n            }\n            return false;\n        }\n        return false;\n    };\n    return PicBusinessRankingPanel;\n}(Phaser.GameObjects.Container));\n\nvar PicRankingItem = /** @class */ (function (_super) {\n    __extends(PicRankingItem, _super);\n    function PicRankingItem(scene, x, y, width, height, key, key2, dpr, zoom) {\n        var _this = _super.call(this, scene, x, y) || this;\n        _this.radio = 0;\n        _this.imgtype = 1; //  1   2  \n        _this.dpr = dpr;\n        _this.key = key;\n        _this.key2 = key2;\n        _this.setSize(width, height);\n        var posx = -_this.width * 0.5;\n        var posy = -_this.height * 0.5;\n        _this.bg = _this.scene.make.image({ key: _this.key2, frame: \"ranking_res_bg_s\" });\n        _this.add(_this.bg);\n        _this.titleText = _this.scene.make.text({ x: 0, y: posy, text: \"Restaurant\", style: { color: \"#0555AF\", fontSize: 14 * dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].BOLD_FONT } }).setOrigin(0.5);\n        _this.add(_this.titleText);\n        _this.storebg = new _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_1__[\"NineSlicePatch\"](_this.scene, 0, 0, 72 * dpr, 17 * dpr, _this.key2, \"store_name_bg_s\", {\n            left: 6 * _this.dpr,\n            top: 0 * _this.dpr,\n            right: 6 * _this.dpr,\n            bottom: 0 * _this.dpr\n        });\n        _this.storebg.y = _this.titleText.y + 10 * dpr;\n        _this.add(_this.storebg);\n        _this.storeName = _this.scene.make.text({ x: 0, y: _this.storebg.y, text: \"Restaurant\", style: { color: \"#0\", fontSize: 12 * dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT } }).setOrigin(0.5);\n        _this.add(_this.storeName);\n        _this.storeIcon = _this.scene.make.image({ key: _this.key2, frame: \"ranking_res_s\" });\n        _this.storeIcon.y = -posy - _this.storeIcon.height * 0.5 - 5 * dpr;\n        _this.add(_this.storeIcon);\n        _this.switchImage(1);\n        return _this;\n    }\n    PicRankingItem.prototype.setStoreData = function (data) {\n    };\n    PicRankingItem.prototype.setRadio = function (radio) {\n        var type = 1;\n        if (radio > 0) {\n            type = 2;\n        }\n        if (this.imgtype !== type) {\n            this.switchImage(type);\n            this.imgtype = type;\n        }\n        if (type === 2) {\n            this.scale = 1 / this.radio + radio * (1 - 1 / this.radio);\n        }\n        else {\n            this.scale = 1;\n        }\n        this.width = this.bg.displayWidth * this.scale;\n        this.height = this.bg.displayHeight * this.scale;\n    };\n    /**\n     * @param type  1   2  \n     */\n    PicRankingItem.prototype.switchImage = function (type) {\n        var imgname = \"ranking_res\";\n        var bgres, titleFont, storebgres, storebgwidth, storebgheight, storefont, storeiconres, ratio;\n        var smallWidth = this.scene.textures.getFrame(this.key2, imgname + \"_bg_s\").realWidth;\n        if (type === 1) {\n            bgres = imgname + \"_bg_s\";\n            titleFont = 14 * this.dpr;\n            storebgres = \"store_name_bg_s\";\n            storebgwidth = 72 * this.dpr;\n            storebgheight = 14 * this.dpr;\n            storefont = 10 * this.dpr;\n            storeiconres = imgname + \"_s\";\n        }\n        else {\n            bgres = imgname + \"_bg_m\";\n            titleFont = 18 * this.dpr;\n            storebgres = \"store_name_bg_m\";\n            storebgwidth = 88 * this.dpr;\n            storebgheight = 17 * this.dpr;\n            storefont = 12 * this.dpr;\n            storeiconres = imgname + \"_m\";\n        }\n        var curWidth = this.scene.textures.getFrame(this.key2, bgres).realWidth;\n        ratio = curWidth / smallWidth;\n        this.radio = ratio;\n        this.bg.setFrame(bgres);\n        this.titleText.setFontSize(titleFont);\n        this.storebg.setFrame(storebgres);\n        this.storebg.resize(storebgwidth, storebgheight);\n        this.storeName.setFontSize(storefont);\n        this.storeIcon.setFrame(storeiconres);\n        this.setSize(this.bg.width, this.bg.height);\n        this.titleText.y = -this.height * 0.5 + this.titleText.height * 0.5 + 10 * this.dpr * ratio;\n        this.storebg.y = this.titleText.y + this.titleText.height * 0.5 + 10 * this.dpr * ratio;\n        this.storeName.y = this.storebg.y;\n        this.storeIcon.y = this.height * 0.5 - this.storeIcon.height * 0.5 - 10 * this.dpr * ratio;\n    };\n    return PicRankingItem;\n}(Phaser.GameObjects.Container));\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicBusinessStreet/PicBusinessRankingPanel.ts?");

/***/ }),

/***/ "./src/ui/PicBusinessStreet/PicBusinessStoreCreatePanel.ts":
/*!*****************************************************************!*\
  !*** ./src/ui/PicBusinessStreet/PicBusinessStoreCreatePanel.ts ***!
  \*****************************************************************/
/*! exports provided: PicBusinessStoreCreatePanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PicBusinessStoreCreatePanel\", function() { return PicBusinessStoreCreatePanel; });\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_gridtable_GameGridTable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/gridtable/GameGridTable */ \"./lib/rexui/lib/ui/gridtable/GameGridTable.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/ui-components */ \"./lib/rexui/lib/ui/ui-components.ts\");\n/* harmony import */ var _ui_atals_name__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ui.atals.name */ \"./src/ui/ui.atals.name.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_button_NineSliceButton__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/button/NineSliceButton */ \"./lib/rexui/lib/ui/button/NineSliceButton.ts\");\n/* harmony import */ var _i18n__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../i18n */ \"./src/i18n.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/interface/event/MouseEvent */ \"./lib/rexui/lib/ui/interface/event/MouseEvent.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_8__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\n\nvar PicBusinessStoreCreatePanel = /** @class */ (function (_super) {\n    __extends(PicBusinessStoreCreatePanel, _super);\n    function PicBusinessStoreCreatePanel(scene, x, y, width, height, dpr, zoom, key, isfirst) {\n        if (isfirst === void 0) { isfirst = true; }\n        var _this = _super.call(this, scene, x, y) || this;\n        _this.isFirst = true;\n        _this.dpr = dpr;\n        _this.key = key;\n        _this.zoom = zoom;\n        _this.setSize(width, height);\n        _this.isFirst = isfirst;\n        _this.create();\n        return _this;\n    }\n    PicBusinessStoreCreatePanel.prototype.setTypeData = function (datas) {\n        if (datas instanceof Array) {\n            this.gridtable.setItems(datas);\n        }\n        else\n            this.gridtable.setItems(datas.roomModels);\n        var cells = this.gridtable.getCells();\n        var cell = cells[0];\n        if (cell && cell.container) {\n            this.onGridSelectHandler(cell.container);\n        }\n    };\n    PicBusinessStoreCreatePanel.prototype.setTypeInfo = function (data) {\n        this.curSelectData = data;\n        if (this.isFirst) {\n            this.recommendedText.text = \"Recommended\";\n            this.describleText.text = \"This industry has great development potential.\";\n            this.prosperityText.setText(\"Store prosperity [color=#52BC04]+10%[/color]\");\n        }\n        else {\n            var storeData = data;\n            if (storeData.price) {\n                this.coinImg.setFrame(_utils_resUtil__WEBPACK_IMPORTED_MODULE_7__[\"Coin\"].getIcon(storeData.price.coinType));\n                this.coinCount.text = storeData.price.price + \"\";\n            }\n            this.describleText2.text = storeData.des;\n        }\n    };\n    PicBusinessStoreCreatePanel.prototype.setHandler = function (cancel, select) {\n        this.cancelHandler = cancel;\n        this.selectHandler = select;\n    };\n    PicBusinessStoreCreatePanel.prototype.resetMask = function () {\n        this.gridtable.resetMask();\n    };\n    PicBusinessStoreCreatePanel.prototype.create = function () {\n        var posy = -this.height * 0.5;\n        var titlebg = new _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_2__[\"NineSlicePatch\"](this.scene, 0, 0, 135 * this.dpr, 17 * this.dpr, this.key, \"subtitle\", {\n            left: 13 * this.dpr,\n            top: 0 * this.dpr,\n            right: 13 * this.dpr,\n            bottom: 0 * this.dpr\n        });\n        titlebg.x = 0;\n        titlebg.y = posy + 10 * this.dpr;\n        this.add(titlebg);\n        var title = this.scene.make.text({ x: 0, y: titlebg.y, text: _i18n__WEBPACK_IMPORTED_MODULE_5__[\"i18n\"].t(\"business_street.choosetheindustry\"), style: { fontSize: 11 * this.dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT, color: \"#0\" } }).setOrigin(0.5);\n        this.add(title);\n        var gridWdith = this.width - 24 * this.dpr;\n        var gridHeight = 100 * this.dpr;\n        var gridY = -50 * this.dpr;\n        this.gridtable = this.createGrideTable(0, gridY, gridWdith, gridHeight, 90 * this.dpr, 100 * this.dpr);\n        if (this.isFirst) {\n            var mfont = \"bold \" + 13 * this.dpr + \"px \" + _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].BOLD_FONT;\n            this.recommendedText = this.scene.make.text({ x: 0, y: 20 * this.dpr, text: \"Recommended\", style: { font: mfont, bold: true, color: \"#697AFF\" } }).setOrigin(0.5, 0);\n            this.add(this.recommendedText);\n            this.describleText = this.scene.make.text({ x: 0, y: this.recommendedText.y + this.recommendedText.height + 10 * this.dpr, text: \"This industry has great development potential.\", style: { fontSize: 11 * this.dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT, color: \"#0\" } }).setOrigin(0.5, 0);\n            this.add(this.describleText);\n            this.prosperityText = new _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_2__[\"BBCodeText\"](this.scene, 0, this.describleText.y + this.describleText.height + 10 * this.dpr)\n                .setOrigin(0.5, 0).setFontSize(11 * this.dpr).setFontFamily(_utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT).setColor(\"#0\");\n            this.add(this.prosperityText);\n            title.text = _i18n__WEBPACK_IMPORTED_MODULE_5__[\"i18n\"].t(\"business_street.choosetheindustry\");\n            titlebg.resize(135 * this.dpr, 17 * this.dpr);\n        }\n        else {\n            this.coinBg = this.scene.make.image({ key: _ui_atals_name__WEBPACK_IMPORTED_MODULE_3__[\"UIAtlasKey\"].commonKey, frame: \"price_bg\" });\n            this.coinBg.y = 30 * this.dpr;\n            this.add(this.coinBg);\n            this.coinImg = this.scene.make.image({ key: _ui_atals_name__WEBPACK_IMPORTED_MODULE_3__[\"UIAtlasKey\"].commonKey, frame: \"iv_coin\" });\n            this.coinImg.setPosition(this.coinBg.x - this.coinImg.width * 0.5 - 15 * this.dpr, this.coinBg.y);\n            this.add(this.coinImg);\n            this.coinCount = this.scene.make.text({ x: this.coinImg.x + this.coinImg.width * 0.5 + 10 * this.dpr, y: this.coinImg.y, text: \"10000000\", style: { fontSize: 11 * this.dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT, color: \"#0\" } }).setOrigin(0, 0.5);\n            this.add(this.coinCount);\n            this.describleText2 = this.scene.make.text({\n                x: 0, y: this.coinCount.y + 50 * this.dpr,\n                text: \"55225sadffqwerqwerqwer\",\n                style: {\n                    fontSize: 10 * this.dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT, color: \"#0\",\n                    wordWrap: {\n                        width: 244 * this.dpr,\n                        useAdvancedWrap: true\n                    }\n                }\n            }).setOrigin(0.5);\n            this.add(this.describleText2);\n            title.text = _i18n__WEBPACK_IMPORTED_MODULE_5__[\"i18n\"].t(\"business_street.choosestorelike\");\n            titlebg.resize(155 * this.dpr, 17 * this.dpr);\n        }\n        var cancelBtn = new _lib_rexui_lib_ui_button_NineSliceButton__WEBPACK_IMPORTED_MODULE_4__[\"NineSliceButton\"](this.scene, -60 * this.dpr, this.height * 0.5 - 7 * this.dpr, 92 * this.dpr, 34 * this.dpr, _ui_atals_name__WEBPACK_IMPORTED_MODULE_3__[\"UIAtlasKey\"].commonKey, \"red_btn\", _i18n__WEBPACK_IMPORTED_MODULE_5__[\"i18n\"].t(\"common.cancel\"), this.dpr, this.zoom, {\n            left: 10 * this.dpr,\n            top: 10 * this.dpr,\n            right: 10 * this.dpr,\n            bottom: 10 * this.dpr\n        });\n        this.add(cancelBtn);\n        cancelBtn.setTextStyle({ fontSize: 15 * this.dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].BOLD_FONT, color: \"#ffffff\" });\n        cancelBtn.on(_lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_6__[\"CoreUI\"].MouseEvent.Tap, this.onCancelHandler, this);\n        var selectBtn = new _lib_rexui_lib_ui_button_NineSliceButton__WEBPACK_IMPORTED_MODULE_4__[\"NineSliceButton\"](this.scene, 60 * this.dpr, cancelBtn.y, 92 * this.dpr, 34 * this.dpr, _ui_atals_name__WEBPACK_IMPORTED_MODULE_3__[\"UIAtlasKey\"].commonKey, \"yellow_btn\", _i18n__WEBPACK_IMPORTED_MODULE_5__[\"i18n\"].t(\"business_street.select\"), this.dpr, this.zoom, {\n            left: 10 * this.dpr,\n            top: 10 * this.dpr,\n            right: 10 * this.dpr,\n            bottom: 10 * this.dpr\n        });\n        this.add(selectBtn);\n        selectBtn.on(_lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_6__[\"CoreUI\"].MouseEvent.Tap, this.onSelectHandler, this);\n        selectBtn.setTextStyle({ fontSize: 15 * this.dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].BOLD_FONT, color: \"#996600\" });\n    };\n    PicBusinessStoreCreatePanel.prototype.createGrideTable = function (x, y, width, height, capW, capH) {\n        var _this = this;\n        var tableConfig = {\n            x: x,\n            y: y,\n            table: {\n                width: width,\n                height: height,\n                columns: 1,\n                cellWidth: capW,\n                cellHeight: capH,\n                reuseCellContainer: true,\n                tableOY: 5 * this.dpr,\n                zoom: this.zoom\n            },\n            scrollMode: 1,\n            clamplChildOY: false,\n            // background: (<any>this.scene).rexUI.add.roundRectangle(0, 0, 2, 2, 0, 0xFF9900, .2),\n            createCellContainerCallback: function (cell, cellContainer) {\n                var scene = cell.scene, item = cell.item;\n                if (cellContainer === null) {\n                    cellContainer = new StoreTypeItem(_this.scene, 0, 0, capW, capH, _this.key, _this.dpr, _this.zoom);\n                    _this.add(cellContainer);\n                }\n                cellContainer.setData({ item: item });\n                cellContainer.setStoreData(item);\n                if (_this.curSelectData && item === _this.curSelectData) {\n                    cellContainer.select = true;\n                }\n                else\n                    cellContainer.select = false;\n                return cellContainer;\n            },\n        };\n        var grid = new _lib_rexui_lib_ui_gridtable_GameGridTable__WEBPACK_IMPORTED_MODULE_1__[\"GameGridTable\"](this.scene, tableConfig);\n        grid.layout();\n        grid.on(\"cellTap\", function (cell) {\n            if (cell) {\n                _this.onGridSelectHandler(cell);\n            }\n        });\n        this.add(grid.table);\n        return grid;\n    };\n    PicBusinessStoreCreatePanel.prototype.onGridSelectHandler = function (cell) {\n        this.setTypeInfo(cell.storeData);\n        if (this.curSelectItem)\n            this.curSelectItem.select = false;\n        cell.select = true;\n        this.curSelectItem = cell;\n    };\n    PicBusinessStoreCreatePanel.prototype.onCancelHandler = function () {\n        if (this.cancelHandler)\n            this.cancelHandler.run();\n    };\n    PicBusinessStoreCreatePanel.prototype.onSelectHandler = function () {\n        if (this.selectHandler)\n            this.selectHandler.runWith(this.curSelectData);\n    };\n    return PicBusinessStoreCreatePanel;\n}(Phaser.GameObjects.Container));\n\nvar StoreTypeItem = /** @class */ (function (_super) {\n    __extends(StoreTypeItem, _super);\n    function StoreTypeItem(scene, x, y, width, height, key, dpr, zoom) {\n        var _this = _super.call(this, scene, x, y) || this;\n        _this.isSelect = false;\n        _this.dpr = dpr;\n        _this.key = key;\n        _this.setSize(width, height);\n        _this.bg = _this.scene.make.image({ key: key, frame: \"store_bg\" });\n        _this.add(_this.bg);\n        _this.storeIcon = _this.scene.make.image({ key: key, frame: \"restaurant_icon\" });\n        _this.storeIcon.setPosition(0, -8 * dpr);\n        _this.add(_this.storeIcon);\n        _this.storeName = _this.scene.make.text({ x: 0, y: _this.storeIcon.y + _this.storeIcon.height * 0.5 + 10 * dpr, text: \"Restaurant\", style: { color: \"#0\", fontSize: 10 * dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT } }).setOrigin(0.5);\n        _this.add(_this.storeName);\n        return _this;\n    }\n    StoreTypeItem.prototype.setStoreData = function (data) {\n        this.storeData = data;\n        if (data instanceof pixelpai_proto__WEBPACK_IMPORTED_MODULE_8__[\"op_pkt_def\"].PKT_INDUSTRY) {\n            this.storeIcon.setFrame(data.industryType + \"_icon\");\n            this.storeName.text = data.name;\n        }\n        else {\n            var storeData = data;\n            this.storeIcon.setFrame(storeData.storeType + \"_icon\");\n            this.storeName.text = storeData.name;\n        }\n    };\n    Object.defineProperty(StoreTypeItem.prototype, \"select\", {\n        get: function () {\n            return this.isSelect;\n        },\n        set: function (value) {\n            this.isSelect = value;\n            var frame = value ? \"store_bg_click\" : \"store_bg\";\n            this.bg.setFrame(frame);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return StoreTypeItem;\n}(Phaser.GameObjects.Container));\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicBusinessStreet/PicBusinessStoreCreatePanel.ts?");

/***/ }),

/***/ "./src/ui/PicBusinessStreet/PicBusinessStreet.ts":
/*!*******************************************************!*\
  !*** ./src/ui/PicBusinessStreet/PicBusinessStreet.ts ***!
  \*******************************************************/
/*! exports provided: PicBusinessStreet */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PicBusinessStreet\", function() { return PicBusinessStreet; });\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar PicBusinessStreet = /** @class */ (function (_super) {\n    __extends(PicBusinessStreet, _super);\n    function PicBusinessStreet(world) {\n        var _this = _super.call(this) || this;\n        _this.world = world;\n        _this.mEvent = new Phaser.Events.EventEmitter();\n        return _this;\n    }\n    PicBusinessStreet.prototype.register = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.addPacketListener(this);\n            this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_PKT_MY_STORE, this.onMyStoreList);\n            this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_PKT_COMMERCIAL_STREET, this.onCOMMERCIAL_STREET);\n            this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_PKT_INDUSTRY_MODELS, this.onINDUSTRY_MODELS);\n        }\n    };\n    PicBusinessStreet.prototype.unregister = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.removePacketListener(this);\n        }\n    };\n    PicBusinessStreet.prototype.on = function (event, fn, context) {\n        this.mEvent.on(event, fn, context);\n    };\n    PicBusinessStreet.prototype.off = function (event, fn, context) {\n        this.mEvent.off(event, fn, context);\n    };\n    PicBusinessStreet.prototype.destroy = function () {\n        this.unregister();\n        this.mEvent.destroy();\n    };\n    Object.defineProperty(PicBusinessStreet.prototype, \"connection\", {\n        get: function () {\n            if (this.world) {\n                return this.world.connection;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    PicBusinessStreet.prototype.query_My_STORE = function () {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_PKT_MY_STORE);\n        this.connection.send(packet);\n    };\n    PicBusinessStreet.prototype.query_COMMERCIAL_STREET = function () {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_PKT_COMMERCIAL_STREET);\n        this.connection.send(packet);\n    };\n    PicBusinessStreet.prototype.query_INDUSTRY_MODELS = function () {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_PKT_INDUSTRY_MODELS);\n        this.connection.send(packet);\n    };\n    PicBusinessStreet.prototype.query_CREATE_STORE = function (modelId) {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_PKT_CREATE_STORE);\n        var content = packet.content;\n        content.modelId = modelId;\n        this.connection.send(packet);\n    };\n    PicBusinessStreet.prototype.onMyStoreList = function (packet) {\n        var content = packet.content;\n        this.mEvent.emit(\"onmystore\", content);\n    };\n    PicBusinessStreet.prototype.onCOMMERCIAL_STREET = function (packet) {\n        var content = packet.content;\n        this.mEvent.emit(\"onstreet\", content);\n    };\n    PicBusinessStreet.prototype.onINDUSTRY_MODELS = function (packet) {\n        var content = packet.content;\n        this.mEvent.emit(\"onmodels\", content);\n    };\n    return PicBusinessStreet;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PacketHandler\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicBusinessStreet/PicBusinessStreet.ts?");

/***/ }),

/***/ "./src/ui/PicBusinessStreet/PicBusinessStreetListPanel.ts":
/*!****************************************************************!*\
  !*** ./src/ui/PicBusinessStreet/PicBusinessStreetListPanel.ts ***!
  \****************************************************************/
/*! exports provided: PicBusinessStreetListPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PicBusinessStreetListPanel\", function() { return PicBusinessStreetListPanel; });\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_button_Button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/button/Button */ \"./lib/rexui/lib/ui/button/Button.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_gridtable_GameGridTable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/gridtable/GameGridTable */ \"./lib/rexui/lib/ui/gridtable/GameGridTable.ts\");\n/* harmony import */ var _Handler_Handler__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../Handler/Handler */ \"./src/Handler/Handler.ts\");\n/* harmony import */ var _components_dynamic_image__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/dynamic.image */ \"./src/ui/components/dynamic.image.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/ui-components */ \"./lib/rexui/lib/ui/ui-components.ts\");\n/* harmony import */ var _ui_atals_name__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ui.atals.name */ \"./src/ui/ui.atals.name.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_button_NineSliceButton__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/button/NineSliceButton */ \"./lib/rexui/lib/ui/button/NineSliceButton.ts\");\n/* harmony import */ var _i18n__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../i18n */ \"./src/i18n.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/interface/event/MouseEvent */ \"./lib/rexui/lib/ui/interface/event/MouseEvent.ts\");\n/* harmony import */ var _SecondaryMenuPanel__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./SecondaryMenuPanel */ \"./src/ui/PicBusinessStreet/SecondaryMenuPanel.ts\");\n/* harmony import */ var _Market_TextButton__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../Market/TextButton */ \"./src/ui/Market/TextButton.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_tab_TabButton__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/tab/TabButton */ \"./lib/rexui/lib/ui/tab/TabButton.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar PicBusinessStreetListPanel = /** @class */ (function (_super) {\n    __extends(PicBusinessStreetListPanel, _super);\n    function PicBusinessStreetListPanel(scene, x, y, width, height, dpr, zoom, key, key2) {\n        var _this = _super.call(this, scene, x, y) || this;\n        _this.dpr = dpr;\n        _this.key = key;\n        _this.key2 = key2;\n        _this.zoom = zoom;\n        _this.setSize(width, height);\n        _this.create();\n        return _this;\n    }\n    PicBusinessStreetListPanel.prototype.setStreetListData = function () {\n        var arr = new Array(60);\n        this.gridtable.setItems(arr);\n        var att = [{ text: \"Popular\", data: {} }, { text: \"Hot\", data: {} }, { text: \"Praise\", data: {} }];\n        this.secondaryPanel.setCategories(_lib_rexui_lib_ui_tab_TabButton__WEBPACK_IMPORTED_MODULE_12__[\"TabButton\"], att, {\n            width: 88 * this.dpr,\n            height: 27 * this.dpr,\n            key: this.key2,\n            normalFrame: \"navigation_bar_click\",\n            downFrame: \"navigation_bar_click\",\n            textStyle: {\n                fontSize: 11 * this.dpr,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT,\n                color: \"#ffffff\"\n            }\n        });\n    };\n    PicBusinessStreetListPanel.prototype.setHandler = function (history, rank, back) {\n        this.historyHandler = history;\n        this.rankHandler = rank;\n        this.backHandler = back;\n    };\n    PicBusinessStreetListPanel.prototype.resetMask = function () {\n        this.gridtable.resetMask();\n    };\n    PicBusinessStreetListPanel.prototype.create = function () {\n        var _this = this;\n        var posy = -this.height * 0.5;\n        var posx = -this.width * 0.5;\n        var storebg = this.scene.make.image({ key: this.key, frame: \"store_icon\" });\n        storebg.x = posx + 30 * this.dpr;\n        storebg.y = posy + 6 * this.dpr;\n        this.add(storebg);\n        var mfont = \"bold \" + 13 * this.dpr + \"px \" + _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].BOLD_FONT;\n        var storex = storebg.x + storebg.width * 0.5 + 10 * this.dpr;\n        var storeTitle = this.scene.make.text({ x: storex, y: storebg.y, text: _i18n__WEBPACK_IMPORTED_MODULE_8__[\"i18n\"].t(\"business_street.street\"), style: { font: mfont, bold: true, color: \"#FFC51A\" } }).setOrigin(0, 0.5);\n        storeTitle.setStroke(\"#553100\", 2 * this.dpr);\n        this.add(storeTitle);\n        this.secondaryPanel = new _SecondaryMenuPanel__WEBPACK_IMPORTED_MODULE_10__[\"SecondaryMenuPanel\"](this.scene, 0, posy + 56 * this.dpr, this.width, 60 * this.dpr, this.dpr, this.zoom, {\n            x: 0,\n            y: -15 * this.dpr,\n            width: this.width - 30 * this.dpr,\n            height: 30 * this.dpr,\n            zoom: this.zoom,\n            orientation: 1\n        });\n        this.add(this.secondaryPanel);\n        var scrollbg = this.scene.make.image({ key: this.key2, frame: \"navigation_bar\" });\n        this.secondaryPanel.gameScroll.addAt(scrollbg);\n        this.secondaryPanel.createGrideTable(0, 5 * this.dpr, this.width - 30 * this.dpr, 40 * this.dpr, 40 * this.dpr, 27 * this.dpr, function (cell, cellContainer) {\n            var item = cell.item;\n            if (!cellContainer) {\n                cellContainer = new _Market_TextButton__WEBPACK_IMPORTED_MODULE_11__[\"TextButton\"](_this.scene, _this.dpr, _this.zoom);\n                _this.add(cellContainer);\n            }\n            cellContainer.setText(\"Pub\");\n            cellContainer.setData(\"itemData\", item);\n            if (_this.curSubCategoryData === item) {\n                cellContainer.changeDown();\n            }\n            else\n                cellContainer.changeNormal();\n            _this.secondaryPanel.addGridTableItem(cellContainer);\n            return cellContainer;\n        });\n        this.secondaryPanel.setHandler(new _Handler_Handler__WEBPACK_IMPORTED_MODULE_3__[\"Handler\"](this, this.onCategoryHandler), new _Handler_Handler__WEBPACK_IMPORTED_MODULE_3__[\"Handler\"](this, this.onSubCategoryHandle));\n        var gridbg = this.scene.make.image({ key: this.key2, frame: \"navigation_bar_2\" });\n        gridbg.y = 9 * this.dpr;\n        this.secondaryPanel.gridTable.addAt(gridbg);\n        var gridWdith = this.width;\n        var gridHeight = this.height - 140 * this.dpr;\n        var gridY = posy + 77 * this.dpr + gridHeight * 0.5;\n        this.gridtable = this.createGrideTable(0, gridY, gridWdith, gridHeight, 256 * this.dpr, 50 * this.dpr);\n        var rankBtn = new _lib_rexui_lib_ui_button_Button__WEBPACK_IMPORTED_MODULE_1__[\"Button\"](this.scene, this.key2, \"ranking\", \"ranking\");\n        var btnX = -posx - rankBtn.width * 0.5 - 20 * this.dpr;\n        rankBtn.setPosition(btnX, posy + 6 * this.dpr);\n        rankBtn.on(_lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_9__[\"CoreUI\"].MouseEvent.Tap, this.onRankHandler, this);\n        this.add(rankBtn);\n        var historyBtn = new _lib_rexui_lib_ui_button_Button__WEBPACK_IMPORTED_MODULE_1__[\"Button\"](this.scene, this.key2, \"history\", \"history\");\n        historyBtn.setPosition(btnX - rankBtn.width * 0.5 - historyBtn.width * 0.5 - 10 * this.dpr, posy + 6 * this.dpr);\n        historyBtn.on(_lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_9__[\"CoreUI\"].MouseEvent.Tap, this.onHistoryHandler, this);\n        this.add(historyBtn);\n        var backBtn = new _lib_rexui_lib_ui_button_NineSliceButton__WEBPACK_IMPORTED_MODULE_7__[\"NineSliceButton\"](this.scene, 0, this.height * 0.5 - 15 * this.dpr, 92 * this.dpr, 34 * this.dpr, _ui_atals_name__WEBPACK_IMPORTED_MODULE_6__[\"UIAtlasKey\"].commonKey, \"red_btn\", _i18n__WEBPACK_IMPORTED_MODULE_8__[\"i18n\"].t(\"business_street.back\"), this.dpr, this.zoom, {\n            left: 10 * this.dpr,\n            top: 10 * this.dpr,\n            right: 10 * this.dpr,\n            bottom: 10 * this.dpr\n        });\n        this.add(backBtn);\n        backBtn.setTextStyle({ fontSize: 15 * this.dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].BOLD_FONT, color: \"#ffffff\" });\n        backBtn.on(_lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_9__[\"CoreUI\"].MouseEvent.Tap, this.onBackHandler, this);\n    };\n    PicBusinessStreetListPanel.prototype.createGrideTable = function (x, y, width, height, capW, capH) {\n        var _this = this;\n        var tableConfig = {\n            x: x,\n            y: y,\n            table: {\n                width: width,\n                height: height,\n                columns: 1,\n                cellWidth: capW,\n                cellHeight: capH,\n                reuseCellContainer: true,\n                tableOX: 19 * this.dpr,\n                zoom: this.zoom\n            },\n            scrollMode: 0,\n            clamplChildOY: false,\n            // background: (<any>this.scene).rexUI.add.roundRectangle(0, 0, 2, 2, 0, 0xFF9900, .2),\n            createCellContainerCallback: function (cell, cellContainer) {\n                var scene = cell.scene, item = cell.item;\n                if (cellContainer === null) {\n                    cellContainer = new PicStreetItem(_this.scene, 0, 0, capW, capH, _this.key, _this.key2, _this.dpr, _this.zoom);\n                    grid.add(cellContainer);\n                }\n                cellContainer.setData({ item: item });\n                cellContainer.setStoreData(item);\n                return cellContainer;\n            },\n        };\n        var grid = new _lib_rexui_lib_ui_gridtable_GameGridTable__WEBPACK_IMPORTED_MODULE_2__[\"GameGridTable\"](this.scene, tableConfig);\n        grid.layout();\n        this.add(grid);\n        return grid;\n    };\n    PicBusinessStreetListPanel.prototype.onCategoryHandler = function (data) {\n        var arr = new Array(60);\n        this.secondaryPanel.setSubItems(arr);\n    };\n    PicBusinessStreetListPanel.prototype.onSubCategoryHandle = function (item) {\n        var data = item.getData(\"itemData\");\n        this.curSubCategoryData = data;\n    };\n    PicBusinessStreetListPanel.prototype.onHistoryHandler = function () {\n        if (this.historyHandler)\n            this.historyHandler.run();\n    };\n    PicBusinessStreetListPanel.prototype.onRankHandler = function () {\n        if (this.rankHandler)\n            this.rankHandler.run();\n    };\n    PicBusinessStreetListPanel.prototype.onBackHandler = function () {\n        if (this.backHandler)\n            this.backHandler.run();\n    };\n    return PicBusinessStreetListPanel;\n}(Phaser.GameObjects.Container));\n\nvar PicStreetItem = /** @class */ (function (_super) {\n    __extends(PicStreetItem, _super);\n    function PicStreetItem(scene, x, y, width, height, key, key2, dpr, zoom) {\n        var _this = _super.call(this, scene, x, y) || this;\n        _this.dpr = dpr;\n        _this.key = key;\n        _this.key2 = key2;\n        _this.setSize(width, height);\n        var posx = -_this.width * 0.5;\n        var posy = -_this.height * 0.5;\n        var bg = new _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_5__[\"NineSlicePatch\"](_this.scene, 0, 0, width, 45 * dpr, _this.key, \"resturant_bg\", {\n            left: 4 * _this.dpr,\n            top: 9 * _this.dpr,\n            right: 4 * _this.dpr,\n            bottom: 9 * _this.dpr\n        });\n        _this.add(bg);\n        var iconbg = _this.scene.make.image({ key: key2, frame: \"icon_bg_s\" });\n        iconbg.setPosition(posx + iconbg.width * 0.5 + 3 * dpr, 0);\n        _this.add(iconbg);\n        _this.storeIcon = new _components_dynamic_image__WEBPACK_IMPORTED_MODULE_4__[\"DynamicImage\"](_this.scene, iconbg.x, 0);\n        _this.add(_this.storeIcon);\n        var storeX = iconbg.x + iconbg.width * 0.5 + 10 * dpr;\n        _this.storeName = _this.scene.make.text({ x: storeX, y: posy + 10 * dpr, text: \"Restaurant\", style: { color: \"#FFE11A\", fontSize: 12 * dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT } }).setOrigin(0);\n        _this.add(_this.storeName);\n        _this.playerName = _this.scene.make.text({ x: storeX, y: _this.storeName.y + _this.storeName.height * 0.5 + 10 * dpr, text: \"Savings: 13000\", style: { color: \"#ffffff\", fontSize: 11 * dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT } }).setOrigin(0);\n        _this.add(_this.playerName);\n        _this.industryIcon = _this.scene.make.image({ key: _this.key, frame: \"entertainment_tag\" });\n        _this.industryIcon.x = _this.width * 0.5 - _this.industryIcon.width * 0.5;\n        _this.add(_this.industryIcon);\n        var praiseIcon = _this.scene.make.image({ key: key2, frame: \"praise\" });\n        praiseIcon.x = -posx - 80 * dpr;\n        _this.add(praiseIcon);\n        _this.praiseCount = _this.scene.make.text({ x: praiseIcon.x + praiseIcon.width * 0.5 + 10 * dpr, y: praiseIcon.y, text: \"66666666\", style: { color: \"#ffffff\", fontSize: 12 * dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT } }).setOrigin(0, 0.5);\n        _this.add(_this.praiseCount);\n        return _this;\n    }\n    PicStreetItem.prototype.setStoreData = function (data) {\n    };\n    return PicStreetItem;\n}(Phaser.GameObjects.Container));\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicBusinessStreet/PicBusinessStreetListPanel.ts?");

/***/ }),

/***/ "./src/ui/PicBusinessStreet/PicBusinessStreetMediator.ts":
/*!***************************************************************!*\
  !*** ./src/ui/PicBusinessStreet/PicBusinessStreetMediator.ts ***!
  \***************************************************************/
/*! exports provided: PicBusinessStreetMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PicBusinessStreetMediator\", function() { return PicBusinessStreetMediator; });\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\n/* harmony import */ var _PicBusinessStreetPanel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PicBusinessStreetPanel */ \"./src/ui/PicBusinessStreet/PicBusinessStreetPanel.ts\");\n/* harmony import */ var _PicBusinessStreet__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PicBusinessStreet */ \"./src/ui/PicBusinessStreet/PicBusinessStreet.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar PicBusinessStreetMediator = /** @class */ (function (_super) {\n    __extends(PicBusinessStreetMediator, _super);\n    function PicBusinessStreetMediator(layerMgr, scene, worldService) {\n        var _this = _super.call(this) || this;\n        _this.scene = scene;\n        _this.layerMgr = layerMgr;\n        _this.world = worldService;\n        return _this;\n    }\n    PicBusinessStreetMediator.prototype.show = function () {\n        if ((this.mView && this.mView.isShow()) || this.mShow) {\n            this.layerMgr.addToUILayer(this.mView);\n            return;\n        }\n        if (!this.mView) {\n            this.mView = new _PicBusinessStreetPanel__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.scene, this.world);\n            this.mView.on(\"querymystore\", this.queryMyStoreList, this);\n            this.mView.on(\"querystreet\", this.query_COMMERCIAL_STREET, this);\n            this.mView.on(\"querymodels\", this.query_INDUSTRY_MODELS, this);\n            this.mView.on(\"querycreatestore\", this.query_CREATE_STORE, this);\n            this.mView.on(\"hide\", this.onHidePanel, this);\n        }\n        if (!this.picStreet) {\n            this.picStreet = new _PicBusinessStreet__WEBPACK_IMPORTED_MODULE_2__[\"PicBusinessStreet\"](this.world);\n            this.picStreet.on(\"onmystore\", this.onMyStoreList, this);\n            this.picStreet.on(\"onstreet\", this.onCOMMERCIAL_STREET, this);\n            this.picStreet.on(\"onmodels\", this.onINDUSTRY_MODELS, this);\n            this.picStreet.register();\n        }\n        this.layerMgr.addToUILayer(this.mView);\n        this.mView.show();\n    };\n    PicBusinessStreetMediator.prototype.destroy = function () {\n        if (this.picStreet) {\n            this.picStreet.destroy();\n            this.picStreet = undefined;\n        }\n        if (this.mView) {\n            this.mView.hide();\n            this.mView = undefined;\n        }\n    };\n    PicBusinessStreetMediator.prototype.onHidePanel = function () {\n        this.destroy();\n    };\n    PicBusinessStreetMediator.prototype.queryMyStoreList = function () {\n        this.picStreet.query_My_STORE();\n    };\n    PicBusinessStreetMediator.prototype.query_COMMERCIAL_STREET = function () {\n        this.picStreet.query_COMMERCIAL_STREET();\n    };\n    PicBusinessStreetMediator.prototype.query_INDUSTRY_MODELS = function () {\n        this.picStreet.query_INDUSTRY_MODELS();\n    };\n    PicBusinessStreetMediator.prototype.query_CREATE_STORE = function (modelId) {\n        this.picStreet.query_CREATE_STORE(modelId);\n    };\n    PicBusinessStreetMediator.prototype.onMyStoreList = function (content) {\n        this.mView.setMyStore(content);\n    };\n    PicBusinessStreetMediator.prototype.onCOMMERCIAL_STREET = function (content) {\n        this.mView.setCommercialStreet(content);\n    };\n    PicBusinessStreetMediator.prototype.onINDUSTRY_MODELS = function (content) {\n        this.mView.setIndustryModels(content);\n    };\n    return PicBusinessStreetMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_0__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicBusinessStreet/PicBusinessStreetMediator.ts?");

/***/ }),

/***/ "./src/ui/PicBusinessStreet/PicBusinessStreetPanel.ts":
/*!************************************************************!*\
  !*** ./src/ui/PicBusinessStreet/PicBusinessStreetPanel.ts ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _ui_atals_name__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ui.atals.name */ \"./src/ui/ui.atals.name.ts\");\n/* harmony import */ var _Handler_Handler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Handler/Handler */ \"./src/Handler/Handler.ts\");\n/* harmony import */ var _PicBusinessContentPanel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./PicBusinessContentPanel */ \"./src/ui/PicBusinessStreet/PicBusinessContentPanel.ts\");\n/* harmony import */ var _PicBusinessMyStreetPanel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./PicBusinessMyStreetPanel */ \"./src/ui/PicBusinessStreet/PicBusinessMyStreetPanel.ts\");\n/* harmony import */ var _PicBusinessStoreCreatePanel__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./PicBusinessStoreCreatePanel */ \"./src/ui/PicBusinessStreet/PicBusinessStoreCreatePanel.ts\");\n/* harmony import */ var _PicBusinessStreetListPanel__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./PicBusinessStreetListPanel */ \"./src/ui/PicBusinessStreet/PicBusinessStreetListPanel.ts\");\n/* harmony import */ var _PicBusinessHistoryPanel__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./PicBusinessHistoryPanel */ \"./src/ui/PicBusinessStreet/PicBusinessHistoryPanel.ts\");\n/* harmony import */ var _PicBusinessRankingPanel__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./PicBusinessRankingPanel */ \"./src/ui/PicBusinessStreet/PicBusinessRankingPanel.ts\");\n/* harmony import */ var _PicBusinessRankingDetailPanel__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./PicBusinessRankingDetailPanel */ \"./src/ui/PicBusinessStreet/PicBusinessRankingDetailPanel.ts\");\n/* harmony import */ var _PicBusinessRankRewardPanel__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./PicBusinessRankRewardPanel */ \"./src/ui/PicBusinessStreet/PicBusinessRankRewardPanel.ts\");\n/* harmony import */ var _i18n__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../i18n */ \"./src/i18n.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\n\n\n\n\nvar PicBusinessStreetPanel = /** @class */ (function (_super) {\n    __extends(PicBusinessStreetPanel, _super);\n    function PicBusinessStreetPanel(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.key = \"c_street_1\";\n        _this.key2 = \"c_street_2\";\n        return _this;\n    }\n    PicBusinessStreetPanel.prototype.resize = function (width, height) {\n        var w = this.scaleWidth;\n        var h = this.scaleHeight;\n        _super.prototype.resize.call(this, width, height);\n        this.setSize(w, h);\n        this.mBackGround.clear();\n        this.mBackGround.fillStyle(0x000000, 0.66);\n        this.mBackGround.fillRect(0, 0, w, h);\n    };\n    PicBusinessStreetPanel.prototype.show = function (param) {\n        this.mShowData = param;\n        if (this.mPreLoad)\n            return;\n        if (!this.mInitialized) {\n            this.preload();\n            return;\n        }\n        if (this.mShow)\n            return;\n        if (this.soundGroup && this.soundGroup.open)\n            this.playSound(this.soundGroup.open);\n        if (!this.mTweening && this.mTweenBoo) {\n            this.showTween(true);\n        }\n        else {\n            this.mShow = true;\n        }\n        this.setInteractive();\n        this.addListen();\n    };\n    PicBusinessStreetPanel.prototype.addListen = function () {\n        if (!this.mInitialized)\n            return;\n    };\n    PicBusinessStreetPanel.prototype.removeListen = function () {\n        if (!this.mInitialized)\n            return;\n    };\n    PicBusinessStreetPanel.prototype.preload = function () {\n        this.addAtlas(this.key, \"c_street_1/c_street_1.png\", \"c_street_1/c_street_1.json\");\n        this.addAtlas(this.key2, \"c_street_2/c_street_2.png\", \"c_street_2/c_street_2.json\");\n        this.addAtlas(_ui_atals_name__WEBPACK_IMPORTED_MODULE_1__[\"UIAtlasKey\"].commonKey, _ui_atals_name__WEBPACK_IMPORTED_MODULE_1__[\"UIAtlasName\"].commonUrl + \".png\", _ui_atals_name__WEBPACK_IMPORTED_MODULE_1__[\"UIAtlasName\"].commonUrl + \".json\");\n        this.addAtlas(_ui_atals_name__WEBPACK_IMPORTED_MODULE_1__[\"UIAtlasKey\"].common2Key, _ui_atals_name__WEBPACK_IMPORTED_MODULE_1__[\"UIAtlasName\"].common2Url + \".png\", _ui_atals_name__WEBPACK_IMPORTED_MODULE_1__[\"UIAtlasName\"].common2Url + \".json\");\n        _super.prototype.preload.call(this);\n    };\n    PicBusinessStreetPanel.prototype.init = function () {\n        var zoom = this.scale;\n        var wid = this.scaleWidth;\n        var hei = this.scaleHeight;\n        this.mBackGround = this.scene.make.graphics(undefined, false);\n        this.mBackGround.clear();\n        this.mBackGround.fillStyle(0x6AE2FF, 0);\n        this.mBackGround.fillRect(0, 0, wid * zoom, hei * zoom);\n        this.mBackGround.setInteractive(new Phaser.Geom.Rectangle(0, 0, wid, hei), Phaser.Geom.Rectangle.Contains);\n        this.add(this.mBackGround);\n        var topoffset = 90 * this.dpr;\n        var bottomoffset = 74 * this.dpr;\n        var conWidth = 295 * this.dpr;\n        var conHeight = hei - topoffset - bottomoffset;\n        var conY = topoffset + conHeight * 0.5;\n        var conX = wid * 0.5;\n        this.content = new _PicBusinessContentPanel__WEBPACK_IMPORTED_MODULE_3__[\"PicBusinessContentPanel\"](this.scene, conX, conY, conWidth, conHeight, this.dpr, this.key, this.key2);\n        this.content.setCloseHandler(new _Handler_Handler__WEBPACK_IMPORTED_MODULE_2__[\"Handler\"](this, this.OnCloseHandler));\n        this.add(this.content);\n        this.resize(wid, hei);\n        _super.prototype.init.call(this);\n        this.openMyStreet();\n    };\n    PicBusinessStreetPanel.prototype.setMyStore = function (content) {\n        this.picMyStreetPanel.setMyStoreData(content.storeList);\n    };\n    PicBusinessStreetPanel.prototype.setCommercialStreet = function (content) {\n        this.picStreetListPanel.setStreetListData();\n    };\n    PicBusinessStreetPanel.prototype.setIndustryModels = function (content) {\n        this.picStoreCreatePanel.setTypeData(content.industry);\n    };\n    PicBusinessStreetPanel.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n    };\n    PicBusinessStreetPanel.prototype.setSecondStore = function (datas) {\n        this.picSecondStorePanel.setTypeData(datas);\n    };\n    PicBusinessStreetPanel.prototype.openMyStreet = function () {\n        this.emit(\"querymystore\");\n        this.showMyStreetPanel();\n        this.content.setTitleText(_i18n__WEBPACK_IMPORTED_MODULE_11__[\"i18n\"].t(\"business_street.commercial_street\"));\n    };\n    PicBusinessStreetPanel.prototype.openStoreCreatePanel = function () {\n        this.emit(\"querymodels\");\n        this.showStoreCreatePanel();\n        this.content.setTitleText(_i18n__WEBPACK_IMPORTED_MODULE_11__[\"i18n\"].t(\"business_street.newstore\"));\n    };\n    PicBusinessStreetPanel.prototype.openSecondStorePanel = function () {\n        this.showSecondStorePanel();\n        this.content.setTitleText(_i18n__WEBPACK_IMPORTED_MODULE_11__[\"i18n\"].t(\"business_street.newstore\"));\n    };\n    PicBusinessStreetPanel.prototype.openStoreStreetPanel = function () {\n        this.showStreetListPanel();\n        this.picStreetListPanel.setStreetListData();\n    };\n    PicBusinessStreetPanel.prototype.openStreetHistoryPanel = function () {\n        this.showStreetHistoryPanel();\n        this.picStreetHistoryPanel.setHistoryeData();\n    };\n    PicBusinessStreetPanel.prototype.openStreetRankingPanel = function () {\n        this.showStreetRankingPanel();\n        this.picStreetRankingPanel.setRankingData();\n    };\n    PicBusinessStreetPanel.prototype.openRankingDetailPanel = function () {\n        this.showRankingDetailPanel();\n        this.picRankingDetailPanel.setRankingData();\n    };\n    PicBusinessStreetPanel.prototype.openRankRewardPanel = function () {\n        this.showRankRewardPanel();\n        this.picRankRewardPanel.setRankRewardData();\n    };\n    PicBusinessStreetPanel.prototype.showMyStreetPanel = function () {\n        var _this = this;\n        var topoffset = 90 * this.dpr;\n        var bottomoffset = 74 * this.dpr;\n        this.setContentSize(topoffset, bottomoffset);\n        if (!this.picMyStreetPanel) {\n            var wid = this.content.width;\n            var hei = this.content.height - 50 * this.dpr;\n            this.picMyStreetPanel = new _PicBusinessMyStreetPanel__WEBPACK_IMPORTED_MODULE_4__[\"PicBusinessMyStreetPanel\"](this.scene, 0, 0, wid, hei, this.dpr, this.scale, this.key);\n            this.picMyStreetPanel.setHandler(new _Handler_Handler__WEBPACK_IMPORTED_MODULE_2__[\"Handler\"](this, function () {\n            }), new _Handler_Handler__WEBPACK_IMPORTED_MODULE_2__[\"Handler\"](this, function () {\n            }), new _Handler_Handler__WEBPACK_IMPORTED_MODULE_2__[\"Handler\"](this, function () {\n                _this.hideMyStreetPanel();\n                _this.openStoreCreatePanel();\n            }));\n        }\n        this.content.add(this.picMyStreetPanel);\n        this.picMyStreetPanel.resetMask();\n    };\n    PicBusinessStreetPanel.prototype.hideMyStreetPanel = function () {\n        this.content.remove(this.picMyStreetPanel);\n    };\n    PicBusinessStreetPanel.prototype.showStoreCreatePanel = function () {\n        var _this = this;\n        var width = this.scaleWidth;\n        var height = this.scaleHeight;\n        var conWidth = 295 * this.dpr;\n        var conHeight = 320 * this.dpr;\n        var conY = height * 0.5;\n        var conX = width * 0.5;\n        this.content.setPosition(conX, conY);\n        this.content.setContentSize(conWidth, conHeight);\n        if (!this.picStoreCreatePanel) {\n            var wid = this.content.width;\n            var hei = this.content.height - 50 * this.dpr;\n            this.picStoreCreatePanel = new _PicBusinessStoreCreatePanel__WEBPACK_IMPORTED_MODULE_5__[\"PicBusinessStoreCreatePanel\"](this.scene, 0, 0, wid, hei, this.dpr, this.scale, this.key);\n            this.picStoreCreatePanel.setHandler(new _Handler_Handler__WEBPACK_IMPORTED_MODULE_2__[\"Handler\"](this, function () {\n                _this.openMyStreet();\n                _this.hideStoreCreatePanel();\n            }), new _Handler_Handler__WEBPACK_IMPORTED_MODULE_2__[\"Handler\"](this, function (datas) {\n                _this.openSecondStorePanel();\n                _this.hideStoreCreatePanel();\n                _this.setSecondStore(datas);\n            }));\n        }\n        this.content.add(this.picStoreCreatePanel);\n        this.picStoreCreatePanel.resetMask();\n    };\n    PicBusinessStreetPanel.prototype.hideStoreCreatePanel = function () {\n        this.content.remove(this.picStoreCreatePanel);\n    };\n    PicBusinessStreetPanel.prototype.showSecondStorePanel = function () {\n        var _this = this;\n        var width = this.scaleWidth;\n        var height = this.scaleHeight;\n        var conWidth = 295 * this.dpr;\n        var conHeight = 320 * this.dpr;\n        var conY = height * 0.5;\n        var conX = width * 0.5;\n        this.content.setPosition(conX, conY);\n        this.content.setContentSize(conWidth, conHeight);\n        if (!this.picSecondStorePanel) {\n            var wid = this.content.width;\n            var hei = this.content.height - 50 * this.dpr;\n            this.picSecondStorePanel = new _PicBusinessStoreCreatePanel__WEBPACK_IMPORTED_MODULE_5__[\"PicBusinessStoreCreatePanel\"](this.scene, 0, 0, wid, hei, this.dpr, this.scale, this.key, false);\n            this.picSecondStorePanel.setHandler(new _Handler_Handler__WEBPACK_IMPORTED_MODULE_2__[\"Handler\"](this, function () {\n                _this.openStoreCreatePanel();\n                _this.hideSecondStorePanel();\n            }), new _Handler_Handler__WEBPACK_IMPORTED_MODULE_2__[\"Handler\"](this, function (data) {\n                _this.emit(\"querycreatestore\", data.modelId);\n            }));\n        }\n        this.content.add(this.picSecondStorePanel);\n        this.picSecondStorePanel.resetMask();\n    };\n    PicBusinessStreetPanel.prototype.hideSecondStorePanel = function () {\n        this.content.remove(this.picSecondStorePanel);\n    };\n    PicBusinessStreetPanel.prototype.showStreetListPanel = function () {\n        var _this = this;\n        var topoffset = 90 * this.dpr;\n        var bottomoffset = 74 * this.dpr;\n        this.setContentSize(topoffset, bottomoffset);\n        if (!this.picStreetListPanel) {\n            var wid = this.content.width;\n            var hei = this.content.height - 50 * this.dpr;\n            this.picStreetListPanel = new _PicBusinessStreetListPanel__WEBPACK_IMPORTED_MODULE_6__[\"PicBusinessStreetListPanel\"](this.scene, 0, 0, wid, hei, this.dpr, this.scale, this.key, this.key2);\n            this.picStreetListPanel.setHandler(new _Handler_Handler__WEBPACK_IMPORTED_MODULE_2__[\"Handler\"](this, function () {\n                _this.openStreetHistoryPanel();\n                _this.hideStreetListPanel();\n            }), new _Handler_Handler__WEBPACK_IMPORTED_MODULE_2__[\"Handler\"](this, function () {\n                _this.openStreetRankingPanel();\n                _this.hideStreetListPanel();\n            }), new _Handler_Handler__WEBPACK_IMPORTED_MODULE_2__[\"Handler\"](this, function () {\n                _this.hideStreetListPanel();\n                _this.openMyStreet();\n            }));\n        }\n        this.content.add(this.picStreetListPanel);\n        this.picStreetListPanel.resetMask();\n    };\n    PicBusinessStreetPanel.prototype.hideStreetListPanel = function () {\n        this.content.remove(this.picStreetListPanel);\n    };\n    PicBusinessStreetPanel.prototype.showStreetHistoryPanel = function () {\n        var _this = this;\n        var topoffset = 90 * this.dpr;\n        var bottomoffset = 74 * this.dpr;\n        this.setContentSize(topoffset, bottomoffset);\n        if (!this.picStreetHistoryPanel) {\n            var wid = this.content.width;\n            var hei = this.content.height - 50 * this.dpr;\n            this.picStreetHistoryPanel = new _PicBusinessHistoryPanel__WEBPACK_IMPORTED_MODULE_7__[\"PicBusinessHistoryPanel\"](this.scene, 0, 0, wid, hei, this.dpr, this.scale, this.key, this.key2);\n            this.picStreetHistoryPanel.setHandler(new _Handler_Handler__WEBPACK_IMPORTED_MODULE_2__[\"Handler\"](this, function () {\n                _this.hideStreetHistoryPanel();\n                _this.openStoreStreetPanel();\n            }));\n        }\n        this.content.add(this.picStreetHistoryPanel);\n        this.picStreetHistoryPanel.resetMask();\n    };\n    PicBusinessStreetPanel.prototype.hideStreetHistoryPanel = function () {\n        this.content.remove(this.picStreetHistoryPanel);\n    };\n    PicBusinessStreetPanel.prototype.showStreetRankingPanel = function () {\n        var _this = this;\n        var topoffset = 110 * this.dpr;\n        var bottomoffset = 94 * this.dpr;\n        this.setContentSize(topoffset, bottomoffset);\n        if (!this.picStreetRankingPanel) {\n            var wid = this.content.width;\n            var hei = this.content.height - 50 * this.dpr;\n            this.picStreetRankingPanel = new _PicBusinessRankingPanel__WEBPACK_IMPORTED_MODULE_8__[\"PicBusinessRankingPanel\"](this.scene, 0, 0, wid, hei, this.dpr, this.scale, this.key, this.key2);\n            this.picStreetRankingPanel.setHandler(new _Handler_Handler__WEBPACK_IMPORTED_MODULE_2__[\"Handler\"](this, function () {\n                _this.hideStreetRankingPanel();\n                _this.openStoreStreetPanel();\n            }), new _Handler_Handler__WEBPACK_IMPORTED_MODULE_2__[\"Handler\"](this, function (data) {\n                _this.openRankingDetailPanel();\n                _this.hideStreetRankingPanel();\n            }));\n        }\n        this.content.add(this.picStreetRankingPanel);\n        this.picStreetRankingPanel.show();\n        this.picStreetRankingPanel.resetMask();\n    };\n    PicBusinessStreetPanel.prototype.hideStreetRankingPanel = function () {\n        this.content.remove(this.picStreetRankingPanel);\n        this.picStreetRankingPanel.hide();\n    };\n    PicBusinessStreetPanel.prototype.showRankingDetailPanel = function () {\n        var _this = this;\n        var topoffset = 90 * this.dpr;\n        var bottomoffset = 74 * this.dpr;\n        this.setContentSize(topoffset, bottomoffset);\n        if (!this.picRankingDetailPanel) {\n            var wid = this.content.width;\n            var hei = this.content.height - 50 * this.dpr;\n            this.picRankingDetailPanel = new _PicBusinessRankingDetailPanel__WEBPACK_IMPORTED_MODULE_9__[\"PicBusinessRankingDetailPanel\"](this.scene, 0, 0, wid, hei, this.dpr, this.scale, this.key, this.key2);\n            this.picRankingDetailPanel.setHandler(new _Handler_Handler__WEBPACK_IMPORTED_MODULE_2__[\"Handler\"](this, function () {\n                _this.hideRankingDetailPanel();\n                _this.openStreetRankingPanel();\n            }), new _Handler_Handler__WEBPACK_IMPORTED_MODULE_2__[\"Handler\"](this, function (data) {\n                _this.hideRankingDetailPanel();\n                _this.openRankRewardPanel();\n            }));\n        }\n        this.content.add(this.picRankingDetailPanel);\n        this.picRankingDetailPanel.resetMask();\n    };\n    PicBusinessStreetPanel.prototype.hideRankingDetailPanel = function () {\n        this.content.remove(this.picRankingDetailPanel);\n    };\n    PicBusinessStreetPanel.prototype.showRankRewardPanel = function () {\n        var _this = this;\n        var topoffset = 90 * this.dpr;\n        var bottomoffset = 74 * this.dpr;\n        this.setContentSize(topoffset, bottomoffset);\n        if (!this.picRankRewardPanel) {\n            var wid = this.content.width;\n            var hei = this.content.height - 50 * this.dpr;\n            this.picRankRewardPanel = new _PicBusinessRankRewardPanel__WEBPACK_IMPORTED_MODULE_10__[\"PicBusinessRankRewardPanel\"](this.scene, 0, 0, wid, hei, this.dpr, this.scale, this.key, this.key2);\n            this.picRankRewardPanel.setHandler(new _Handler_Handler__WEBPACK_IMPORTED_MODULE_2__[\"Handler\"](this, function () {\n                _this.hideRankRewardPanel();\n                _this.openRankingDetailPanel();\n            }));\n        }\n        this.content.add(this.picRankRewardPanel);\n        this.picRankRewardPanel.resetMask();\n    };\n    PicBusinessStreetPanel.prototype.hideRankRewardPanel = function () {\n        this.content.remove(this.picRankRewardPanel);\n    };\n    PicBusinessStreetPanel.prototype.setContentSize = function (topoffset, bottomoffset) {\n        var width = this.scaleWidth;\n        var height = this.scaleHeight;\n        var conWidth = 295 * this.dpr;\n        var conHeight = height - topoffset - bottomoffset;\n        var conY = topoffset + conHeight * 0.5;\n        var conX = width * 0.5;\n        this.content.setPosition(conX, conY);\n        this.content.setContentSize(conWidth, conHeight);\n    };\n    PicBusinessStreetPanel.prototype.OnCloseHandler = function () {\n        this.emit(\"hide\");\n    };\n    PicBusinessStreetPanel.prototype.onSelectItemHandler = function (item) {\n    };\n    PicBusinessStreetPanel.prototype.getRichLabel = function (text, color) {\n        if (color === void 0) { color = \"#2B4BB5\"; }\n        var label = \"[stroke=\" + color + \"][color=\" + color + \"]\" + text + \":[/color][/stroke]\";\n        return label;\n    };\n    PicBusinessStreetPanel.prototype.getspaceStr = function (num) {\n        var str = \"\";\n        for (var i = 0; i < num; i++) {\n            str += \" \";\n        }\n        return str;\n    };\n    return PicBusinessStreetPanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (PicBusinessStreetPanel);\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicBusinessStreet/PicBusinessStreetPanel.ts?");

/***/ }),

/***/ "./src/ui/PicBusinessStreet/SecondaryMenuPanel.ts":
/*!********************************************************!*\
  !*** ./src/ui/PicBusinessStreet/SecondaryMenuPanel.ts ***!
  \********************************************************/
/*! exports provided: SecondaryMenuPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SecondaryMenuPanel\", function() { return SecondaryMenuPanel; });\n/* harmony import */ var _lib_rexui_lib_ui_scroller_GameScroller__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/scroller/GameScroller */ \"./lib/rexui/lib/ui/scroller/GameScroller.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_gridtable_GameGridTable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/gridtable/GameGridTable */ \"./lib/rexui/lib/ui/gridtable/GameGridTable.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar SecondaryMenuPanel = /** @class */ (function (_super) {\n    __extends(SecondaryMenuPanel, _super);\n    function SecondaryMenuPanel(scene, x, y, width, height, dpr, zoom, scrollconfig) {\n        var _this = _super.call(this, scene, x, y) || this;\n        _this.dpr = dpr;\n        _this.zoom = zoom;\n        _this.setSize(width, height);\n        scrollconfig.cellupCallBack = _this.onSelectCategoryHandler.bind(_this);\n        _this.gameScroll = new _lib_rexui_lib_ui_scroller_GameScroller__WEBPACK_IMPORTED_MODULE_0__[\"GameScroller\"](_this.scene, scrollconfig);\n        _this.add(_this.gameScroll);\n        return _this;\n    }\n    SecondaryMenuPanel.prototype.setHandler = function (handler, subHandler) {\n        this.categoryHandler = handler;\n        this.subCategoryHandler = subHandler;\n    };\n    SecondaryMenuPanel.prototype.setCategories = function (type, categorys, btnConfig) {\n        this.gameScroll.clearItems();\n        var capW = btnConfig.width;\n        var capH = btnConfig.height;\n        var key = btnConfig.key;\n        var normalFrame = btnConfig.normalFrame;\n        var downFrame = btnConfig.downFrame;\n        var patchConfig = btnConfig.patchConfig;\n        var music = btnConfig.music;\n        var tabs = [];\n        for (var _i = 0, categorys_1 = categorys; _i < categorys_1.length; _i++) {\n            var data = categorys_1[_i];\n            var text = data.text;\n            var btn = new type(this.scene, key, normalFrame, downFrame, text, music, this.dpr, this.zoom, patchConfig);\n            if (btnConfig.textStyle)\n                btn.setTextStyle(btnConfig.textStyle);\n            btn.setData(\"category\", data.data);\n            btn.disableInteractive();\n            if (capW)\n                btn.width = capW;\n            if (capH)\n                btn.height = capH;\n            this.gameScroll.addItem(btn);\n            tabs.push(btn);\n        }\n        this.gameScroll.setAlign(1);\n        this.gameScroll.Sort(true);\n        this.gameScroll.refreshMask();\n        var items = this.gameScroll.getItemList();\n        for (var _a = 0, items_1 = items; _a < items_1.length; _a++) {\n            var item = items_1[_a];\n            item.background.visible = false;\n        }\n        this.onSelectCategoryHandler(items[0]);\n    };\n    SecondaryMenuPanel.prototype.addGridTableItem = function (item) {\n        if (this.gridTable)\n            this.gridTable.add(item);\n    };\n    SecondaryMenuPanel.prototype.setSubItems = function (datas) {\n        if (this.gridTable) {\n            this.gridTable.setItems(datas);\n            this.gridTable.resetMask();\n        }\n    };\n    SecondaryMenuPanel.prototype.createGrideTable = function (x, y, width, height, capW, capH, createFun, scrollMode) {\n        var _this = this;\n        if (scrollMode === void 0) { scrollMode = 1; }\n        var tableConfig = {\n            x: x,\n            y: y,\n            table: {\n                width: width,\n                height: height,\n                columns: 1,\n                cellWidth: capW,\n                cellHeight: capH,\n                reuseCellContainer: true,\n                zoom: this.zoom\n            },\n            scrollMode: scrollMode,\n            clamplChildOY: false,\n            //  background: (<any>this.scene).rexUI.add.roundRectangle(0, 0, 2, 2, 0, 0xFF9900, .2),\n            createCellContainerCallback: createFun,\n        };\n        this.gridTable = new _lib_rexui_lib_ui_gridtable_GameGridTable__WEBPACK_IMPORTED_MODULE_1__[\"GameGridTable\"](this.scene, tableConfig);\n        this.gridTable.layout();\n        this.gridTable.on(\"cellTap\", function (cell) {\n            if (cell) {\n                _this.onSubCategoryHandler(cell);\n            }\n        });\n        this.add(this.gridTable);\n        this.gridTable.resetMask();\n    };\n    SecondaryMenuPanel.prototype.onSelectCategoryHandler = function (obj) {\n        if (this.categoryBtn) {\n            this.categoryBtn.background.visible = false;\n            // this.categoryBtn.changeNormal();\n        }\n        obj.background.visible = true;\n        obj.changeDown();\n        this.categoryBtn = obj;\n        var category = obj.getData(\"category\");\n        if (this.categoryHandler)\n            this.categoryHandler.runWith(category);\n    };\n    SecondaryMenuPanel.prototype.onSubCategoryHandler = function (obj) {\n        if (this.subCategoryBtn)\n            this.subCategoryBtn.changeNormal();\n        obj.changeDown();\n        if (this.subCategoryHandler)\n            this.subCategoryHandler.runWith(obj);\n    };\n    return SecondaryMenuPanel;\n}(Phaser.GameObjects.Container));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicBusinessStreet/SecondaryMenuPanel.ts?");

/***/ }),

/***/ "./src/ui/PicFriend/PicFriend.ts":
/*!***************************************!*\
  !*** ./src/ui/PicFriend/PicFriend.ts ***!
  \***************************************/
/*! exports provided: PicFriend */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PicFriend\", function() { return PicFriend; });\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar PicFriend = /** @class */ (function (_super) {\n    __extends(PicFriend, _super);\n    function PicFriend(world) {\n        var _this = _super.call(this) || this;\n        _this.world = world;\n        _this.mEvent = new Phaser.Events.EventEmitter();\n        return _this;\n    }\n    PicFriend.prototype.register = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.addPacketListener(this);\n            // this.addHandlerFun(op_client.OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_PKT_SELF_PLAYER_INFO, this.onOwnerCharacterInfo);\n        }\n    };\n    PicFriend.prototype.unregister = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.removePacketListener(this);\n        }\n    };\n    PicFriend.prototype.on = function (event, fn, context) {\n        this.mEvent.on(event, fn, context);\n    };\n    PicFriend.prototype.off = function (event, fn, context) {\n        this.mEvent.off(event, fn, context);\n    };\n    PicFriend.prototype.destroy = function () {\n        this.unregister();\n        this.mEvent.destroy();\n    };\n    Object.defineProperty(PicFriend.prototype, \"connection\", {\n        get: function () {\n            if (this.world) {\n                return this.world.connection;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return PicFriend;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PacketHandler\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicFriend/PicFriend.ts?");

/***/ }),

/***/ "./src/ui/PicFriend/PicFriendMediator.ts":
/*!***********************************************!*\
  !*** ./src/ui/PicFriend/PicFriendMediator.ts ***!
  \***********************************************/
/*! exports provided: PicFriendMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PicFriendMediator\", function() { return PicFriendMediator; });\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\n/* harmony import */ var _PicFriendPanel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PicFriendPanel */ \"./src/ui/PicFriend/PicFriendPanel.ts\");\n/* harmony import */ var _PicFriend__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PicFriend */ \"./src/ui/PicFriend/PicFriend.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar PicFriendMediator = /** @class */ (function (_super) {\n    __extends(PicFriendMediator, _super);\n    function PicFriendMediator(layerMgr, scene, worldService) {\n        var _this = _super.call(this) || this;\n        _this.scene = scene;\n        _this.layerMgr = layerMgr;\n        _this.world = worldService;\n        return _this;\n    }\n    PicFriendMediator.prototype.show = function () {\n        if (this.mView) {\n            return;\n        }\n        if (!this.mView) {\n            this.mView = new _PicFriendPanel__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.scene, this.world);\n            this.mView.on(\"hide\", this.onHidePanel, this);\n        }\n        if (!this.picFriend) {\n            this.picFriend = new _PicFriend__WEBPACK_IMPORTED_MODULE_2__[\"PicFriend\"](this.world);\n            this.picFriend.register();\n        }\n        this.layerMgr.addToUILayer(this.mView);\n        this.mView.show();\n    };\n    PicFriendMediator.prototype.destroy = function () {\n        if (this.picFriend) {\n            this.picFriend.destroy();\n            this.picFriend = undefined;\n        }\n        if (this.mView) {\n            this.mView.hide();\n            this.mView = undefined;\n        }\n    };\n    PicFriendMediator.prototype.onHidePanel = function () {\n        this.destroy();\n    };\n    return PicFriendMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_0__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicFriend/PicFriendMediator.ts?");

/***/ }),

/***/ "./src/ui/PicFriend/PicFriendPanel.ts":
/*!********************************************!*\
  !*** ./src/ui/PicFriend/PicFriendPanel.ts ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\n/* harmony import */ var _components_dynamic_image__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/dynamic.image */ \"./src/ui/components/dynamic.image.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/ui-components */ \"./lib/rexui/lib/ui/ui-components.ts\");\n/* harmony import */ var _i18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../i18n */ \"./src/i18n.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_gridtable_GameGridTable__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/gridtable/GameGridTable */ \"./lib/rexui/lib/ui/gridtable/GameGridTable.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/interface/event/MouseEvent */ \"./lib/rexui/lib/ui/interface/event/MouseEvent.ts\");\n/* harmony import */ var _ui_atals_name__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../ui.atals.name */ \"./src/ui/ui.atals.name.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_checkbox_CheckBox__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/checkbox/CheckBox */ \"./lib/rexui/lib/ui/checkbox/CheckBox.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\nvar Container = Phaser.GameObjects.Container;\n\n\n\n\nvar PicFriendPanel = /** @class */ (function (_super) {\n    __extends(PicFriendPanel, _super);\n    function PicFriendPanel(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.key = \"picfriendpanel\";\n        return _this;\n    }\n    PicFriendPanel.prototype.resize = function (width, height) {\n        var w = this.scaleWidth;\n        var h = this.scaleHeight;\n        _super.prototype.resize.call(this, width, height);\n        this.setSize(w, h);\n        this.mBackGround.clear();\n        this.mBackGround.fillStyle(0x000000, 0.66);\n        this.mBackGround.fillRect(0, 0, w, h);\n        this.content.setPosition(w / 2, h / 2);\n    };\n    PicFriendPanel.prototype.show = function (param) {\n        this.mShowData = param;\n        if (this.mPreLoad)\n            return;\n        if (!this.mInitialized) {\n            this.preload();\n            return;\n        }\n        if (this.mShow)\n            return;\n        if (this.soundGroup && this.soundGroup.open)\n            this.playSound(this.soundGroup.open);\n        if (!this.mTweening && this.mTweenBoo) {\n            this.showTween(true);\n        }\n        else {\n            this.mShow = true;\n        }\n        this.setInteractive();\n        this.addListen();\n    };\n    PicFriendPanel.prototype.addListen = function () {\n        if (!this.mInitialized)\n            return;\n        this.closeBtn.on(_lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_7__[\"CoreUI\"].MouseEvent.Tap, this.OnClosePanel, this);\n    };\n    PicFriendPanel.prototype.removeListen = function () {\n        if (!this.mInitialized)\n            return;\n        this.closeBtn.off(_lib_rexui_lib_ui_interface_event_MouseEvent__WEBPACK_IMPORTED_MODULE_7__[\"CoreUI\"].MouseEvent.Tap, this.OnClosePanel, this);\n    };\n    PicFriendPanel.prototype.preload = function () {\n        this.addAtlas(this.key, \"friend_list/friend_list.png\", \"friend_list/friend_list.json\");\n        this.addAtlas(_ui_atals_name__WEBPACK_IMPORTED_MODULE_8__[\"UIAtlasKey\"].commonKey, _ui_atals_name__WEBPACK_IMPORTED_MODULE_8__[\"UIAtlasName\"].commonUrl + \".png\", _ui_atals_name__WEBPACK_IMPORTED_MODULE_8__[\"UIAtlasName\"].commonUrl + \".json\");\n        _super.prototype.preload.call(this);\n    };\n    PicFriendPanel.prototype.init = function () {\n        var zoom = this.scale;\n        var wid = this.scaleWidth;\n        var hei = this.scaleHeight;\n        this.mBackGround = this.scene.make.graphics(undefined, false);\n        this.mBackGround.clear();\n        this.mBackGround.fillStyle(0x6AE2FF, 0);\n        this.mBackGround.fillRect(0, 0, wid * zoom, hei * zoom);\n        this.mBackGround.setInteractive(new Phaser.Geom.Rectangle(0, 0, wid, hei), Phaser.Geom.Rectangle.Contains);\n        this.bg = this.scene.make.image({ x: 0, y: 0, key: this.key, frame: \"phone\" });\n        this.content = this.scene.make.container(undefined, false);\n        this.content.setSize(this.bg.width, this.bg.height);\n        this.content.add(this.bg);\n        var posY = -this.bg.height * 0.5 + 43 * this.dpr;\n        this.friendNum = this.scene.make.text({ x: 0, y: posY, text: \"Number of friends: 96 / 100\", style: { color: \"#ffffff\", fontSize: 12 * this.dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT } });\n        this.content.add(this.friendNum);\n        var mfont = \"bold \" + 15 * this.dpr + \"px \" + _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT;\n        this.labelText = this.scene.make.text({ x: 0, y: posY, text: _i18n__WEBPACK_IMPORTED_MODULE_4__[\"i18n\"].t(\"friendlist.title\"), style: { font: mfont, bold: true, color: \"#0\" } }).setOrigin(0.5, 0);\n        this.content.add(this.labelText);\n        this.closeBtn = new _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_3__[\"Button\"](this.scene, _ui_atals_name__WEBPACK_IMPORTED_MODULE_8__[\"UIAtlasKey\"].commonKey, \"close\");\n        this.closeBtn.setPosition(this.content.width * 0.5 - this.dpr * 30, posY - this.dpr * 10);\n        this.content.add(this.closeBtn);\n        this.topContent = this.scene.make.container(undefined, false);\n        this.content.add(this.topContent);\n        var topbg = new _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_3__[\"NineSlicePatch\"](this.scene, 0, 0, 276 * this.dpr, 33 * this.dpr, this.key, \"min_pic_bg\", {\n            left: 5 * this.dpr,\n            top: 5 * this.dpr,\n            right: 5 * this.dpr,\n            bottom: 5 * this.dpr\n        });\n        this.onlineCheckBox = new _lib_rexui_lib_ui_checkbox_CheckBox__WEBPACK_IMPORTED_MODULE_9__[\"CheckBox\"](this.scene, this.key, \"online_unchecked\", \"online_checked\");\n        var boxtitle = this.scene.make.text({ x: 0, y: posY, text: _i18n__WEBPACK_IMPORTED_MODULE_4__[\"i18n\"].t(\"friendlist.olinetitle\"), style: { font: mfont, bold: true, color: \"#0\" } });\n        this.onlineCheckBox.add(boxtitle);\n        this.content.add(this.onlineCheckBox);\n        var line2 = this.scene.make.image({ x: 0, y: +10 * this.dpr, key: this.key, frame: \"splitters\" });\n        this.resize(wid, hei);\n        _super.prototype.init.call(this);\n        this.reqPlayerInfo();\n    };\n    PicFriendPanel.prototype.reqPlayerInfo = function () {\n        this.emit(\"queryOwnerInfo\");\n    };\n    PicFriendPanel.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n    };\n    PicFriendPanel.prototype.createGrideTable = function (x, y, width, height, capW, capH, createFun, callback) {\n        var _this = this;\n        var tableConfig = {\n            x: x,\n            y: y,\n            table: {\n                width: width,\n                height: height,\n                columns: 3,\n                cellWidth: capW,\n                cellHeight: capH,\n                reuseCellContainer: true,\n                cellPadX: 24 * this.dpr\n            },\n            scrollMode: 1,\n            clamplChildOY: false,\n            // background: (<any>this.scene).rexUI.add.roundRectangle(0, 0, 2, 2, 0, 0xFF9900, .2),\n            createCellContainerCallback: function (cell, cellContainer) {\n                var scene = cell.scene, item = cell.item;\n                if (cellContainer === null) {\n                    cellContainer = createFun();\n                    _this.content.add(cellContainer);\n                }\n                cellContainer.setData({ item: item });\n                cellContainer.setItemData(item);\n                return cellContainer;\n            },\n        };\n        var grid = new _lib_rexui_lib_ui_gridtable_GameGridTable__WEBPACK_IMPORTED_MODULE_5__[\"GameGridTable\"](this.scene, tableConfig);\n        grid.layout();\n        grid.on(\"cellTap\", function (cell) {\n            if (cell) {\n                callback.runWith(cell);\n            }\n        });\n        this.content.add(grid.table);\n        return grid;\n    };\n    PicFriendPanel.prototype.OnClosePanel = function () {\n        this.emit(\"hide\");\n    };\n    PicFriendPanel.prototype.onSelectItemHandler = function (item) {\n    };\n    PicFriendPanel.prototype.getRichLabel = function (text, color) {\n        if (color === void 0) { color = \"#2B4BB5\"; }\n        var label = \"[stroke=\" + color + \"][color=\" + color + \"]\" + text + \":[/color][/stroke]\";\n        return label;\n    };\n    PicFriendPanel.prototype.getspaceStr = function (num) {\n        var str = \"\";\n        for (var i = 0; i < num; i++) {\n            str += \" \";\n        }\n        return str;\n    };\n    return PicFriendPanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (PicFriendPanel);\nvar PicFriendItem = /** @class */ (function (_super) {\n    __extends(PicFriendItem, _super);\n    function PicFriendItem(scene, x, y, key, dpr, zoom) {\n        if (zoom === void 0) { zoom = 1; }\n        var _this = _super.call(this, scene, x, y) || this;\n        _this.dpr = 0;\n        _this.zoom = 0;\n        var bg = _this.scene.make.image({ x: 0, y: 0, key: key, frame: \"skill_bg\" });\n        _this.icon = new _components_dynamic_image__WEBPACK_IMPORTED_MODULE_2__[\"DynamicImage\"](_this.scene, -bg.width * 0.5 + 22 * dpr, 0);\n        _this.add([bg, _this.icon, _this.nameText, _this.lvText]);\n        _this.setSize(bg.width, bg.height);\n        _this.dpr = dpr;\n        _this.zoom = zoom;\n        _this.key = key;\n        return _this;\n        // this.progressBar.setProgress(1, 100);\n    }\n    PicFriendItem.prototype.setItemData = function (data, isOwner) {\n        var _this = this;\n        if (isOwner === void 0) { isOwner = false; }\n        this.itemData = data;\n        this.nameText.text = data.name;\n        var posY = (isOwner ? -16 * this.dpr * this.zoom : -11 * this.dpr * this.zoom);\n        var offsetY = (isOwner ? 20 * this.dpr * this.zoom : 25 * this.dpr * this.zoom);\n        var cheight = 10 * this.dpr * this.zoom;\n        this.nameText.y = posY + cheight * 0.5;\n        this.icon.setTexture(this.key, \"test_skillicon\");\n        var width = this.icon.width;\n        if (data.level) {\n            this.lvText.text = data.level.level;\n            this.lvText.y = posY + offsetY;\n        }\n        var url = _utils_resUtil__WEBPACK_IMPORTED_MODULE_6__[\"Url\"].getOsdRes(data.display.texturePath);\n        this.icon.load(url, this, function () {\n            _this.icon.scale = _this.dpr * _this.zoom;\n            var x = -_this.width * 0.5 + width * 0.5 + 6 * _this.dpr * _this.zoom;\n            _this.icon.setPosition(x, 0);\n        });\n    };\n    return PicFriendItem;\n}(Container));\nvar PicFriendButton = /** @class */ (function (_super) {\n    __extends(PicFriendButton, _super);\n    function PicFriendButton(scene, x, y, key, dpr, zoom) {\n        if (zoom === void 0) { zoom = 1; }\n        var _this = _super.call(this, scene, x, y) || this;\n        _this.dpr = 0;\n        _this.zoom = 0;\n        var bg = _this.scene.make.image({ x: 0, y: 0, key: key, frame: \"skill_bg\" });\n        _this.icon = new _components_dynamic_image__WEBPACK_IMPORTED_MODULE_2__[\"DynamicImage\"](_this.scene, -bg.width * 0.5 + 22 * dpr, 0);\n        _this.add([bg, _this.icon, _this.nameText, _this.lvText]);\n        _this.setSize(bg.width, bg.height);\n        _this.dpr = dpr;\n        _this.zoom = zoom;\n        _this.key = key;\n        return _this;\n        // this.progressBar.setProgress(1, 100);\n    }\n    PicFriendButton.prototype.setItemData = function (data, isOwner) {\n        var _this = this;\n        if (isOwner === void 0) { isOwner = false; }\n        this.itemData = data;\n        this.nameText.text = data.name;\n        var posY = (isOwner ? -16 * this.dpr * this.zoom : -11 * this.dpr * this.zoom);\n        var offsetY = (isOwner ? 20 * this.dpr * this.zoom : 25 * this.dpr * this.zoom);\n        var cheight = 10 * this.dpr * this.zoom;\n        this.nameText.y = posY + cheight * 0.5;\n        this.icon.setTexture(this.key, \"test_skillicon\");\n        var width = this.icon.width;\n        if (data.level) {\n            this.lvText.text = data.level.level;\n            this.lvText.y = posY + offsetY;\n        }\n        var url = _utils_resUtil__WEBPACK_IMPORTED_MODULE_6__[\"Url\"].getOsdRes(data.display.texturePath);\n        this.icon.load(url, this, function () {\n            _this.icon.scale = _this.dpr * _this.zoom;\n            var x = -_this.width * 0.5 + width * 0.5 + 6 * _this.dpr * _this.zoom;\n            _this.icon.setPosition(x, 0);\n        });\n    };\n    return PicFriendButton;\n}(Container));\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicFriend/PicFriendPanel.ts?");

/***/ }),

/***/ "./src/ui/PicFurniFun/PicFurniFun.ts":
/*!*******************************************!*\
  !*** ./src/ui/PicFurniFun/PicFurniFun.ts ***!
  \*******************************************/
/*! exports provided: PicFurniFun */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PicFurniFun\", function() { return PicFurniFun; });\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar PicFurniFun = /** @class */ (function (_super) {\n    __extends(PicFurniFun, _super);\n    function PicFurniFun($world) {\n        var _this = _super.call(this) || this;\n        _this.world = $world;\n        _this.mEvent = new Phaser.Events.EventEmitter();\n        return _this;\n    }\n    PicFurniFun.prototype.register = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.addPacketListener(this);\n            this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_PKT_UNLOCK_ELEMENT_REQUIREMENT, this.onRetOpenPanel);\n        }\n    };\n    PicFurniFun.prototype.unregister = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.removePacketListener(this);\n        }\n    };\n    PicFurniFun.prototype.on = function (event, fn, context) {\n        this.mEvent.on(event, fn, context);\n    };\n    PicFurniFun.prototype.off = function (event, fn, context) {\n        this.mEvent.off(event, fn, context);\n    };\n    PicFurniFun.prototype.destroy = function () {\n        this.unregister();\n        this.mEvent.destroy();\n    };\n    PicFurniFun.prototype.queryUnlockElement = function (ids) {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_PKT_UNLOCK_ELEMENT);\n        var content = packet.content;\n        content.ids = ids;\n        this.connection.send(packet);\n    };\n    PicFurniFun.prototype.onRetOpenPanel = function (packet) {\n        var content = packet.content;\n        this.mEvent.emit(\"openview\", content);\n    };\n    Object.defineProperty(PicFurniFun.prototype, \"connection\", {\n        get: function () {\n            if (this.world) {\n                return this.world.connection;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return PicFurniFun;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PacketHandler\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicFurniFun/PicFurniFun.ts?");

/***/ }),

/***/ "./src/ui/PicFurniFun/PicFurniFunMediator.ts":
/*!***************************************************!*\
  !*** ./src/ui/PicFurniFun/PicFurniFunMediator.ts ***!
  \***************************************************/
/*! exports provided: PicFurniFunMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PicFurniFunMediator\", function() { return PicFurniFunMediator; });\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\n/* harmony import */ var _PicFurniFunPanel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PicFurniFunPanel */ \"./src/ui/PicFurniFun/PicFurniFunPanel.ts\");\n/* harmony import */ var _PicFurniFun__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PicFurniFun */ \"./src/ui/PicFurniFun/PicFurniFun.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar PicFurniFunMediator = /** @class */ (function (_super) {\n    __extends(PicFurniFunMediator, _super);\n    function PicFurniFunMediator(layerManager, scene, worldService) {\n        var _this = _super.call(this) || this;\n        _this.layerManager = layerManager;\n        _this.world = worldService;\n        _this.scene = _this.layerManager.scene;\n        if (!_this.picFurni) {\n            _this.picFurni = new _PicFurniFun__WEBPACK_IMPORTED_MODULE_2__[\"PicFurniFun\"](_this.world);\n            _this.picFurni.register();\n            _this.picFurni.on(\"openview\", _this.onOpenView, _this);\n        }\n        return _this;\n    }\n    PicFurniFunMediator.prototype.show = function () {\n        if ((this.mView && this.mView.isShow()) || this.mShow) {\n            this.layerManager.addToUILayer(this.mView);\n            return;\n        }\n        if (!this.mView) {\n            this.mView = new _PicFurniFunPanel__WEBPACK_IMPORTED_MODULE_1__[\"PicFurniFunPanel\"](this.scene, this.world);\n            this.mView.on(\"close\", this.onCloseHandler, this);\n            this.mView.on(\"queryunlock\", this.queryUnlockElement, this);\n        }\n        this.mView.show(this.mParam);\n        this.layerManager.addToUILayer(this.mView);\n    };\n    PicFurniFunMediator.prototype.getView = function () {\n        return this.mView;\n    };\n    PicFurniFunMediator.prototype.destroy = function () {\n        if (this.picFurni) {\n            this.picFurni.destroy();\n        }\n        _super.prototype.destroy.call(this);\n    };\n    PicFurniFunMediator.prototype.onCloseHandler = function () {\n        _super.prototype.destroy.call(this);\n    };\n    PicFurniFunMediator.prototype.onOpenView = function (content) {\n        this.setParam(content);\n        this.show();\n    };\n    PicFurniFunMediator.prototype.queryUnlockElement = function (ids) {\n        this.picFurni.queryUnlockElement(ids);\n    };\n    return PicFurniFunMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_0__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicFurniFun/PicFurniFunMediator.ts?");

/***/ }),

/***/ "./src/ui/PicFurniFun/PicFurniFunPanel.ts":
/*!************************************************!*\
  !*** ./src/ui/PicFurniFun/PicFurniFunPanel.ts ***!
  \************************************************/
/*! exports provided: PicFurniFunPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PicFurniFunPanel\", function() { return PicFurniFunPanel; });\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\n/* harmony import */ var _components_dynamic_image__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/dynamic.image */ \"./src/ui/components/dynamic.image.ts\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _i18n__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../i18n */ \"./src/i18n.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/ui-components */ \"./lib/rexui/lib/ui/ui-components.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_scroller_GameScroller__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/scroller/GameScroller */ \"./lib/rexui/lib/ui/scroller/GameScroller.ts\");\n/* harmony import */ var _ui_atals_name__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../ui.atals.name */ \"./src/ui/ui.atals.name.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_button_NineSliceButton__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/button/NineSliceButton */ \"./lib/rexui/lib/ui/button/NineSliceButton.ts\");\n/* harmony import */ var _Market_DetailDisplay__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../Market/DetailDisplay */ \"./src/ui/Market/DetailDisplay.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\n\n\n\nvar PicFurniFunPanel = /** @class */ (function (_super) {\n    __extends(PicFurniFunPanel, _super);\n    function PicFurniFunPanel(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.key = \"furni_unlock\";\n        return _this;\n        // this.scale = 1;\n    }\n    PicFurniFunPanel.prototype.resize = function (w, h) {\n        var width = this.scaleWidth;\n        var height = this.scaleHeight;\n        _super.prototype.resize.call(this, width, height);\n        this.blackGraphic.clear();\n        this.blackGraphic.fillStyle(0, 0.66);\n        this.blackGraphic.fillRect(0, 0, width, height);\n        this.content.x = Math.floor(width / 2);\n        this.content.y = Math.floor(height / 2);\n        this.setSize(width * this.scale, height * this.scale);\n        this.materialGameScroll.refreshMask();\n    };\n    PicFurniFunPanel.prototype.show = function (param) {\n        this.mShowData = param;\n        if (this.mPreLoad)\n            return;\n        if (!this.mInitialized) {\n            this.preload();\n            return;\n        }\n        if (this.mShow)\n            return;\n        if (this.soundGroup && this.soundGroup.open)\n            this.playSound(this.soundGroup.open);\n        if (!this.mTweening && this.mTweenBoo) {\n            this.showTween(true);\n        }\n        else {\n            this.mShow = true;\n        }\n        this.setInteractive();\n        this.addListen();\n        this.updateData();\n    };\n    PicFurniFunPanel.prototype.addListen = function () {\n        if (!this.mInitialized)\n            return;\n        this.confirmBtn.on(\"Tap\", this.onConfirmBtnClick, this);\n        this.closeBtn.on(\"pointerup\", this.OnClosePanel, this);\n    };\n    PicFurniFunPanel.prototype.removeListen = function () {\n        if (!this.mInitialized)\n            return;\n        this.confirmBtn.off(\"click\", this.onConfirmBtnClick, this);\n        this.closeBtn.on(\"pointerup\", this.OnClosePanel, this);\n    };\n    PicFurniFunPanel.prototype.preload = function () {\n        this.addAtlas(this.key, \"furni_unlock/furni_unlock.png\", \"furni_unlock/furni_unlock.json\");\n        this.addAtlas(_ui_atals_name__WEBPACK_IMPORTED_MODULE_8__[\"UIAtlasKey\"].commonKey, _ui_atals_name__WEBPACK_IMPORTED_MODULE_8__[\"UIAtlasName\"].commonUrl + \".png\", _ui_atals_name__WEBPACK_IMPORTED_MODULE_8__[\"UIAtlasName\"].commonUrl + \".json\");\n        this.addAtlas(_ui_atals_name__WEBPACK_IMPORTED_MODULE_8__[\"UIAtlasKey\"].common2Key, _ui_atals_name__WEBPACK_IMPORTED_MODULE_8__[\"UIAtlasName\"].common2Url + \".png\", _ui_atals_name__WEBPACK_IMPORTED_MODULE_8__[\"UIAtlasName\"].common2Url + \".json\");\n        _super.prototype.preload.call(this);\n    };\n    PicFurniFunPanel.prototype.init = function () {\n        var _this = this;\n        var width = this.cameraWidth;\n        var height = this.cameraHeight;\n        this.blackGraphic = this.scene.make.graphics(undefined, false);\n        this.blackGraphic.setInteractive(new Phaser.Geom.Rectangle(0, 0, width / this.scale, height / this.scale), Phaser.Geom.Rectangle.Contains);\n        this.add(this.blackGraphic);\n        this.content = this.scene.make.container(undefined, false);\n        var bgwidth = 295 * this.dpr, bgheight = 369 * this.dpr;\n        this.content.setSize(bgwidth, bgheight);\n        this.add(this.content);\n        this.bg = new _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_6__[\"NineSlicePatch\"](this.scene, 0, 0, bgwidth, bgheight, _ui_atals_name__WEBPACK_IMPORTED_MODULE_8__[\"UIAtlasKey\"].common2Key, \"bg\", {\n            left: 20 * this.dpr,\n            top: 20 * this.dpr,\n            right: 20 * this.dpr,\n            bottom: 40 * this.dpr\n        });\n        this.bgicon = this.scene.make.image({ key: this.key, frame: \"bg_f\" });\n        var posY = -this.bg.height * 0.5;\n        this.bgicon.y = posY + this.bgicon.height * 0.5 + 30 * this.dpr;\n        this.content.add([this.bg, this.bgicon]);\n        this.titleimage = this.scene.make.image({ x: 0, y: posY + 5 * this.dpr, key: _ui_atals_name__WEBPACK_IMPORTED_MODULE_8__[\"UIAtlasKey\"].common2Key, frame: \"title\" }, false);\n        var mfont = \"bold \" + 15 * this.dpr + \"px Source Han Sans\";\n        this.titleName = this.scene.make.text({\n            x: 0, y: this.titleimage.y + 2 * this.dpr, text: \"\",\n            style: { font: mfont, color: \"#905B06\" }\n        }).setOrigin(0.5, 0.5);\n        this.closeBtn = this.scene.make.image({ x: this.bg.width * 0.5 - this.dpr * 5, y: posY + this.dpr * 5, key: _ui_atals_name__WEBPACK_IMPORTED_MODULE_8__[\"UIAtlasKey\"].commonKey, frame: \"close\" }).setScale(1.3);\n        this.closeBtn.setInteractive();\n        this.content.add([this.titleimage, this.titleName, this.closeBtn]);\n        this.mDetailDisplay = new _Market_DetailDisplay__WEBPACK_IMPORTED_MODULE_10__[\"DetailDisplay\"](this.scene);\n        this.mDetailDisplay.setTexture(this.key, \"bg_f\");\n        // this.mDetailDisplay.setNearest();\n        this.mDetailDisplay.y = this.bgicon.y; // this.bgicon.height / 2;\n        this.mDetailDisplay.scale = this.dpr * 0.8;\n        this.content.add(this.mDetailDisplay);\n        var materialConWdith = 360 * this.dpr, materialConHeight = 92 * this.dpr;\n        this.materialCon = this.scene.make.container(undefined, false).setSize(materialConWdith, materialConHeight);\n        this.content.add(this.materialCon);\n        this.materialCon.setPosition(0, 50 * this.dpr);\n        var materialTitle = this.scene.make.text({\n            x: 0,\n            y: -materialConHeight * 0.5 + 12 * this.dpr,\n            text: _i18n__WEBPACK_IMPORTED_MODULE_5__[\"i18n\"].t(\"furni_unlock.needMaterials\"),\n            style: {\n                color: \"#253FCA\",\n                fontSize: 10 * this.dpr,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT\n            }\n        }, false).setOrigin(0.5);\n        var materialLine = this.scene.make.image({ key: this.key, frame: \"sourcelist_title\" });\n        var materialLine2 = this.scene.make.image({ key: this.key, frame: \"sourcelist_title\" });\n        var linePosx = -materialTitle.width * 0.5 - materialLine.width * 0.5 - 10 * this.dpr;\n        materialLine.setPosition(linePosx, materialTitle.y);\n        materialLine2.setPosition(-linePosx, materialTitle.y).rotation = -Math.PI;\n        this.materialCon.add([materialTitle, materialLine, materialLine2]);\n        this.materialGameScroll = new _lib_rexui_lib_ui_scroller_GameScroller__WEBPACK_IMPORTED_MODULE_7__[\"GameScroller\"](this.scene, {\n            x: 0,\n            y: 8 * this.dpr,\n            width: 240 * this.dpr,\n            height: 90 * this.dpr,\n            zoom: this.scale,\n            align: 2,\n            orientation: 1,\n            space: 20 * this.dpr,\n            valuechangeCallback: undefined,\n            celldownCallBack: function (gameobject) {\n                _this.materialTipsCon.visible = true;\n                _this.onMaterialItemHandler(gameobject);\n            },\n            cellupCallBack: function (gameobject) {\n                _this.materialTipsCon.visible = false;\n            }\n        });\n        this.materialCon.add(this.materialGameScroll);\n        this.materialTipsCon = this.scene.make.container(undefined, false).setPosition(0, -60 * this.dpr);\n        this.materialTipsCon.visible = false;\n        this.materialCon.add(this.materialTipsCon);\n        var tipsWidth = 121 * this.dpr;\n        var tipsHeight = 46 * this.dpr;\n        var tipsbg = new _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_6__[\"NineSlicePatch\"](this.scene, 0, 0, tipsWidth, tipsHeight, _ui_atals_name__WEBPACK_IMPORTED_MODULE_8__[\"UIAtlasKey\"].commonKey, \"tips_bg\", {\n            left: 20 * this.dpr,\n            top: 20 * this.dpr,\n            right: 20 * this.dpr,\n            bottom: 20 * this.dpr\n        });\n        tipsbg.setPosition(26 * this.dpr, -tipsHeight * 0.5);\n        this.tipsbg = tipsbg;\n        var tipsText = new _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_6__[\"BBCodeText\"](this.scene, -28 * this.dpr, -tipsHeight + 60 * this.dpr, \"\", {\n            color: \"#333333\",\n            fontSize: 13 * this.dpr,\n            fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT,\n            wrap: {\n                width: 110 * this.dpr,\n                mode: \"string\"\n            }\n        }).setOrigin(0);\n        this.materialTipsDes = tipsText;\n        this.materialTipsCon.add([tipsbg, tipsText]);\n        this.confirmBtn = new _lib_rexui_lib_ui_button_NineSliceButton__WEBPACK_IMPORTED_MODULE_9__[\"NineSliceButton\"](this.scene, 0, -posY - 30 * this.dpr, 100 * this.dpr, 40 * this.dpr, _ui_atals_name__WEBPACK_IMPORTED_MODULE_8__[\"UIAtlasKey\"].commonKey, \"yellow_btn_over\", _i18n__WEBPACK_IMPORTED_MODULE_5__[\"i18n\"].t(\"furni_unlock.unlock\"), this.dpr, this.scale, {\n            left: 15 * this.dpr,\n            top: 15 * this.dpr,\n            right: 15 * this.dpr,\n            bottom: 15 * this.dpr\n        });\n        this.confirmBtn.setTextStyle({\n            color: \"#976400\",\n            fontSize: 10 * this.dpr,\n            fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT\n        });\n        this.content.add(this.confirmBtn);\n        this.resize(0, 0);\n        _super.prototype.init.call(this);\n    };\n    PicFurniFunPanel.prototype.destroy = function () {\n        if (this.confirmBtn)\n            this.confirmBtn.destroy();\n        this.confirmBtn = null;\n        _super.prototype.destroy.call(this);\n    };\n    PicFurniFunPanel.prototype.updateData = function () {\n        var content = this.mShowData;\n        if (!content.ids)\n            return;\n        var eleMgr = this.mWorld.roomManager.currentRoom.elementManager;\n        var ele = eleMgr.get(content.ids[0]);\n        if (!ele)\n            return;\n        var display = ele.model.displayInfo;\n        var resData = new pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_client\"].OP_VIRTUAL_WORLD_RES_CLIENT_MARKET_QUERY_COMMODITY_RESOURCE();\n        resData.display = display.display;\n        var animas = display.createProtocolObject();\n        if (animas.length > 1) {\n            var arr = [];\n            for (var _i = 0, animas_1 = animas; _i < animas_1.length; _i++) {\n                var ani = animas_1[_i];\n                if (ani.node.name !== \"lock\") {\n                    ani.frameName = ani.layer[0].frameName;\n                    arr.push(ani);\n                }\n            }\n            if (arr.length === 0)\n                arr.push(animas[0]);\n            resData.animations = arr;\n        }\n        else {\n            resData.animations = animas;\n        }\n        this.mDetailDisplay.loadDisplay(resData);\n        this.titleName.text = ele.model.nickname;\n        this.setMaterialItems(content.materials);\n    };\n    PicFurniFunPanel.prototype.setMaterialItems = function (datas) {\n        var len = datas.length;\n        var zoom = this.scale;\n        this.materialGameScroll.clearItems();\n        for (var i = 0; i < len; i++) {\n            var item = new MaterialItem(this.scene, this.key, this.dpr, zoom);\n            item.y = 0;\n            item.setItemData(datas[i]);\n            item.setData(\"itemData\", datas[i]);\n            this.materialGameScroll.addItem(item);\n        }\n        this.materialGameScroll.Sort();\n    };\n    PicFurniFunPanel.prototype.onConfirmBtnClick = function () {\n        var data = this.showData;\n        if (!data || !data.ids)\n            return;\n        this.emit(\"queryunlock\", data.ids);\n        this.emit(\"close\");\n    };\n    PicFurniFunPanel.prototype.OnClosePanel = function () {\n        this.emit(\"close\");\n    };\n    PicFurniFunPanel.prototype.onMaterialItemHandler = function (item) {\n        var pos = item.getWorldTransformMatrix();\n        this.materialTipsCon.x = pos.tx - this.scaleWidth * 0.5;\n        this.materialTipsDes.text = this.getDesText(item.itemData);\n        var tipsHeight = this.materialTipsDes.height + 20 * this.dpr;\n        var tipsWidth = this.tipsbg.width;\n        this.tipsbg.resize(tipsWidth, tipsHeight);\n        this.tipsbg.y = -this.tipsbg.height * 0.5;\n        this.materialTipsDes.y = -tipsHeight + 10 * this.dpr;\n    };\n    PicFurniFunPanel.prototype.getDesText = function (data) {\n        if (!data)\n            data = { \"sellingPrice\": true, tradable: false };\n        var text = \"\";\n        var source = _i18n__WEBPACK_IMPORTED_MODULE_5__[\"i18n\"].t(\"furni_unlock.source\");\n        source += data.source;\n        source = \"[stroke=#333333][color=#333333]\" + source + \"[/color][/stroke]\";\n        text += source + \"\\n\";\n        if (data.sellingPrice) {\n            var price = _i18n__WEBPACK_IMPORTED_MODULE_5__[\"i18n\"].t(\"furni_unlock.sold\");\n            price += data.sellingPrice.price + _utils_resUtil__WEBPACK_IMPORTED_MODULE_4__[\"Coin\"].getName(data.sellingPrice.coinType);\n            price = \"[stroke=#333333][color=#333333]\" + price + \"[/color][/stroke]\";\n            text += price + \"\\n\";\n        }\n        if (!data.tradable) {\n            var trade = _i18n__WEBPACK_IMPORTED_MODULE_5__[\"i18n\"].t(\"furni_unlock.notrading\");\n            trade = \"[stroke=#333333][color=#ff0000]*\" + trade + \"[/color][/stroke]\";\n            text += trade;\n        }\n        return text;\n    };\n    return PicFurniFunPanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_3__[\"BasePanel\"]));\n\nvar MaterialItem = /** @class */ (function (_super) {\n    __extends(MaterialItem, _super);\n    function MaterialItem(scene, key, dpr, zoom) {\n        var _this = _super.call(this, scene) || this;\n        _this.dpr = dpr;\n        _this.key = key;\n        _this.zoom = zoom;\n        var bg = _this.scene.make.image({ key: _this.key, frame: \"bg_m\" });\n        _this.itemIcon = new _components_dynamic_image__WEBPACK_IMPORTED_MODULE_1__[\"DynamicImage\"](scene, 0, 0);\n        _this.itemCount = new _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_6__[\"BBCodeText\"](_this.scene, 0, 15 * dpr, \"10/20\", { color: \"#000000\" })\n            .setOrigin(0.5).setFontSize(11 * dpr).setFontFamily(_utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT);\n        _this.add([bg, _this.itemIcon, _this.itemCount]);\n        _this.setSize(bg.width, bg.height);\n        _this.itemCount.y = _this.height * 0.5 + 10 * dpr;\n        return _this;\n    }\n    MaterialItem.prototype.setItemData = function (data) {\n        var _this = this;\n        this.itemData = data;\n        this.itemCount.text = this.getCountText(data.count, data.neededCount);\n        var url = _utils_resUtil__WEBPACK_IMPORTED_MODULE_4__[\"Url\"].getOsdRes(data.display.texturePath);\n        this.itemIcon.load(url, this, function () {\n            _this.itemIcon.scale = _this.dpr * _this.zoom;\n            _this.itemIcon.setPosition(0, 0);\n        });\n    };\n    MaterialItem.prototype.getCountText = function (count, needcount) {\n        var color = (count >= needcount ? \"#000000\" : \"#ff0000\");\n        var text = \"[stroke=\" + color + \"][color=\" + color + \"]\" + count + \"[/color][/stroke]/\" + needcount;\n        return text;\n    };\n    return MaterialItem;\n}(Phaser.GameObjects.Container));\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicFurniFun/PicFurniFunPanel.ts?");

/***/ }),

/***/ "./src/ui/PicHandheld/PicHandheld.ts":
/*!*******************************************!*\
  !*** ./src/ui/PicHandheld/PicHandheld.ts ***!
  \*******************************************/
/*! exports provided: PicHandheld */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PicHandheld\", function() { return PicHandheld; });\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar PicHandheld = /** @class */ (function (_super) {\n    __extends(PicHandheld, _super);\n    function PicHandheld($world) {\n        var _this = _super.call(this) || this;\n        _this.world = $world;\n        _this.mEvent = new Phaser.Events.EventEmitter();\n        return _this;\n    }\n    PicHandheld.prototype.register = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.addPacketListener(this);\n            this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_PKT_HANDHELD, this.onRetHandheldList);\n        }\n    };\n    PicHandheld.prototype.unregister = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.removePacketListener(this);\n        }\n    };\n    PicHandheld.prototype.on = function (event, fn, context) {\n        this.mEvent.on(event, fn, context);\n    };\n    PicHandheld.prototype.off = function (event, fn, context) {\n        this.mEvent.off(event, fn, context);\n    };\n    PicHandheld.prototype.destroy = function () {\n        this.unregister();\n        this.mEvent.destroy();\n    };\n    Object.defineProperty(PicHandheld.prototype, \"connection\", {\n        get: function () {\n            if (this.world) {\n                return this.world.connection;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    PicHandheld.prototype.queryChangeHandheld = function (id) {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_PKT_PICK_HANDHELD);\n        var content = packet.content;\n        content.id = id;\n        this.connection.send(packet);\n    };\n    PicHandheld.prototype.queryClearHandheld = function () {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_PKT_DROP_HANDHELD);\n        this.connection.send(packet);\n    };\n    PicHandheld.prototype.queryHandheldList = function () {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_PKT_HANDHELD);\n        this.connection.send(packet);\n    };\n    PicHandheld.prototype.onRetHandheldList = function (packet) {\n        var content = packet.content;\n        this.mEvent.emit(\"handheldlist\", content);\n    };\n    return PicHandheld;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PacketHandler\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicHandheld/PicHandheld.ts?");

/***/ }),

/***/ "./src/ui/PicHandheld/PicHandheldMediator.ts":
/*!***************************************************!*\
  !*** ./src/ui/PicHandheld/PicHandheldMediator.ts ***!
  \***************************************************/
/*! exports provided: PicHandheldMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PicHandheldMediator\", function() { return PicHandheldMediator; });\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\n/* harmony import */ var _PicHandheld__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PicHandheld */ \"./src/ui/PicHandheld/PicHandheld.ts\");\n/* harmony import */ var _PicHandheldPanel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PicHandheldPanel */ \"./src/ui/PicHandheld/PicHandheldPanel.ts\");\n/* harmony import */ var _PicaChat_PicaChatMediator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../PicaChat/PicaChatMediator */ \"./src/ui/PicaChat/PicaChatMediator.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar PicHandheldMediator = /** @class */ (function (_super) {\n    __extends(PicHandheldMediator, _super);\n    function PicHandheldMediator(layerManager, scene, worldService) {\n        var _this = _super.call(this) || this;\n        _this.layerManager = layerManager;\n        _this.world = worldService;\n        _this.scene = _this.layerManager.scene;\n        return _this;\n    }\n    PicHandheldMediator.prototype.show = function () {\n        if (!this.picHand) {\n            this.picHand = new _PicHandheld__WEBPACK_IMPORTED_MODULE_1__[\"PicHandheld\"](this.world);\n            this.picHand.on(\"handheldlist\", this.onHandheldList, this);\n            this.picHand.register();\n        }\n        if (!this.mView) {\n            this.mView = new _PicHandheldPanel__WEBPACK_IMPORTED_MODULE_2__[\"PicHandheldPanel\"](this.scene, this.world);\n            this.mView.on(\"changehandheld\", this.onChangeHandheld, this);\n            this.mView.on(\"clearhandheld\", this.onClearHandheld, this);\n            this.mView.on(\"handheldlist\", this.onReqHandheldList, this);\n            this.mView.on(\"openeqiped\", this.openEquipedPanel, this);\n        }\n        this.mView.show();\n        this.layerManager.addToUILayer(this.mView);\n    };\n    PicHandheldMediator.prototype.hide = function () {\n        _super.prototype.hide.call(this);\n        this.layerManager.removeToUILayer(this.mView);\n    };\n    PicHandheldMediator.prototype.getView = function () {\n        return this.mView;\n    };\n    PicHandheldMediator.prototype.destroy = function () {\n        if (this.picHand) {\n            this.picHand.destroy();\n            this.picHand = undefined;\n        }\n        _super.prototype.destroy.call(this);\n    };\n    PicHandheldMediator.prototype.isSceneUI = function () {\n        return true;\n    };\n    PicHandheldMediator.prototype.onHandheldList = function (content) {\n        this.mView.setEqipedDatas(content);\n    };\n    PicHandheldMediator.prototype.onChangeHandheld = function (id) {\n        this.picHand.queryChangeHandheld(id);\n    };\n    PicHandheldMediator.prototype.onReqHandheldList = function () {\n        this.picHand.queryHandheldList();\n    };\n    PicHandheldMediator.prototype.onClearHandheld = function () {\n        this.picHand.queryClearHandheld();\n    };\n    PicHandheldMediator.prototype.openEquipedPanel = function (state) {\n        var uiManager = this.world.uiManager;\n        var mediator = uiManager.getMediator(_PicaChat_PicaChatMediator__WEBPACK_IMPORTED_MODULE_3__[\"PicaChatMediator\"].name);\n        if (mediator) {\n            if (state)\n                mediator.hide();\n            else {\n                mediator.show();\n                this.layerManager.removeToUILayer(this.mView);\n                this.layerManager.addToUILayer(this.mView);\n            }\n        }\n    };\n    return PicHandheldMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_0__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicHandheld/PicHandheldMediator.ts?");

/***/ }),

/***/ "./src/ui/PicHandheld/PicHandheldPanel.ts":
/*!************************************************!*\
  !*** ./src/ui/PicHandheld/PicHandheldPanel.ts ***!
  \************************************************/
/*! exports provided: PicHandheldPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PicHandheldPanel\", function() { return PicHandheldPanel; });\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_rexui_lib_ui_gridtable_GameGridTable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/gridtable/GameGridTable */ \"./lib/rexui/lib/ui/gridtable/GameGridTable.ts\");\n/* harmony import */ var _components_dynamic_image__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/dynamic.image */ \"./src/ui/components/dynamic.image.ts\");\n/* harmony import */ var _Handler_Handler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../Handler/Handler */ \"./src/Handler/Handler.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\nvar PicHandheldPanel = /** @class */ (function (_super) {\n    __extends(PicHandheldPanel, _super);\n    function PicHandheldPanel(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.key = \"pichandheldpanel\";\n        _this.isExtendsGrid = false;\n        return _this;\n        // this.scale = 1;\n    }\n    PicHandheldPanel.prototype.resize = function (w, h) {\n        var scale = this.scale;\n        var width = this.scaleWidth;\n        var height = this.scaleHeight;\n        this.setSize(width, height);\n        this.isExtendsGrid = false;\n    };\n    PicHandheldPanel.prototype.show = function (param) {\n        this.mShowData = param;\n        if (this.mPreLoad)\n            return;\n        if (!this.mInitialized) {\n            this.preload();\n            return;\n        }\n        if (this.mShow)\n            return;\n        if (this.soundGroup && this.soundGroup.open)\n            this.playSound(this.soundGroup.open);\n        if (!this.mTweening && this.mTweenBoo) {\n            this.showTween(true);\n        }\n        else {\n            this.mShow = true;\n        }\n        this.addListen();\n        this.updateData();\n        this.emit(\"handheldlist\");\n    };\n    PicHandheldPanel.prototype.hide = function () {\n        this.mShow = false;\n        this.removeListen();\n    };\n    PicHandheldPanel.prototype.addListen = function () {\n        if (!this.mInitialized)\n            return;\n    };\n    PicHandheldPanel.prototype.removeListen = function () {\n        if (!this.mInitialized)\n            return;\n    };\n    PicHandheldPanel.prototype.destroy = function () {\n        if (this.mPropGrid) {\n            this.mPropGrid.destroy();\n        }\n        _super.prototype.destroy.call(this);\n    };\n    PicHandheldPanel.prototype.setEqipedDatas = function (content) {\n        var datas = content.handheld;\n        datas = datas.sort(function (a, b) {\n            if (a.latestUse >= b.latestUse)\n                return 1;\n            else\n                return -1;\n        });\n        var useArr = datas.splice(0, 3);\n        datas = datas.sort(function (a, b) {\n            if (a.recommended >= b.recommended)\n                return 1;\n            else\n                return -1;\n        });\n        datas = useArr.concat(datas);\n        var emptyData = pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].CountablePackageItem.create({ id: \"empty_handed\", count: 0 });\n        var curr;\n        if (content.currentHandheldId === \"\" || !content.currentHandheldId) {\n            curr = emptyData;\n        }\n        else {\n            for (var _i = 0, datas_1 = datas; _i < datas_1.length; _i++) {\n                var data = datas_1[_i];\n                if (data.id === content.currentHandheldId) {\n                    curr = data;\n                    break;\n                }\n            }\n        }\n        datas.unshift(emptyData);\n        this.handeldEqiped.setItemData(curr);\n        if (this.isExtendsGrid) {\n            var len = 14;\n            var templen = len - datas.length;\n            var alldata = templen > 0 ? datas.concat(new Array(templen)) : datas;\n            this.mPropGrid.setItems(alldata);\n            if (curr) {\n                var cells = this.mPropGrid.getCells();\n                for (var _a = 0, cells_1 = cells; _a < cells_1.length; _a++) {\n                    var cell = cells_1[_a];\n                    if (cell) {\n                        var container = cell.container;\n                        if (container && container.itemData === curr) {\n                            container.isSelect = true;\n                            this.curHandheldItem = cell;\n                        }\n                        else\n                            container.isSelect = false;\n                    }\n                }\n            }\n        }\n    };\n    PicHandheldPanel.prototype.preload = function () {\n        this.addAtlas(this.key, \"hand_equp/hand_equp.png\", \"hand_equp/hand_equp.json\");\n        _super.prototype.preload.call(this);\n    };\n    PicHandheldPanel.prototype.init = function () {\n        var _this = this;\n        if (this.mInitialized)\n            return;\n        var w = this.scaleWidth;\n        var h = this.scaleHeight;\n        this.gridContent = this.scene.make.container(undefined, false);\n        this.add(this.gridContent);\n        this.gridContent.setSize(w, 150 * this.dpr);\n        this.gridContent.x = w * 0.5;\n        this.gridContent.y = h - this.gridContent.height * 0.5 - 200 * this.dpr;\n        var mBackground = this.scene.make.graphics(undefined, false);\n        mBackground.fillStyle(0x333333, 0.5);\n        mBackground.fillRect(-w * 0.5, -this.gridContent.height * 0.5, w, 150 * this.dpr);\n        this.gridContent.add(mBackground);\n        this.handeldEqiped = new HandheldEqiped(this.scene, 0, 0, this.key, this.dpr);\n        this.handeldEqiped.setClickHandler(new _Handler_Handler__WEBPACK_IMPORTED_MODULE_4__[\"Handler\"](this, this.onHandheldEqipedHandler), new _Handler_Handler__WEBPACK_IMPORTED_MODULE_4__[\"Handler\"](this, this.onShortcutHandler));\n        this.add(this.handeldEqiped);\n        var propFrame = this.scene.textures.getFrame(this.key, \"equp_bg\");\n        var cellWidth = propFrame.width + 10 * this.dpr;\n        var cellHeight = propFrame.height + 10 * this.dpr;\n        var propGridConfig = {\n            x: 0,\n            y: 0,\n            table: {\n                width: w - 20 * this.dpr,\n                height: 120 * this.dpr,\n                columns: 2,\n                cellWidth: cellWidth,\n                cellHeight: cellHeight,\n                reuseCellContainer: true,\n                cellOriginX: 0.5,\n                cellOriginY: 0.5,\n                zoom: this.scale\n            },\n            scrollMode: 1,\n            clamplChildOY: false,\n            createCellContainerCallback: function (cell, cellContainer) {\n                var scene = cell.scene, item = cell.item;\n                if (cellContainer === null) {\n                    cellContainer = new HandheldItem(scene, 0, 0, _this.key, _this.dpr);\n                    _this.gridContent.add(cellContainer);\n                }\n                cellContainer.setItemData(item);\n                return cellContainer;\n            },\n        };\n        this.mPropGrid = new _lib_rexui_lib_ui_gridtable_GameGridTable__WEBPACK_IMPORTED_MODULE_2__[\"GameGridTable\"](this.scene, propGridConfig);\n        this.mPropGrid.layout();\n        this.mPropGrid.on(\"cellTap\", function (cell) {\n            _this.onSelectItemHandler(cell);\n        });\n        this.gridContent.add(this.mPropGrid.table);\n        this.resize(0, 0);\n        _super.prototype.init.call(this);\n    };\n    PicHandheldPanel.prototype.updateData = function () {\n        this.updateLayout();\n    };\n    PicHandheldPanel.prototype.updateLayout = function () {\n        var width = this.scaleWidth;\n        var height = this.scaleHeight;\n        var x = width - this.handeldEqiped.width * 0.5 - 8 * this.dpr;\n        var y = 0;\n        this.gridContent.y = height - this.gridContent.height * 0.5;\n        if (!this.isExtendsGrid) {\n            y = height - this.handeldEqiped.height * 0.5 - 10 * this.dpr;\n            this.gridContent.visible = false;\n            this.handeldEqiped.waiting();\n            if (!this.handeldEqiped.isEmptyHanded)\n                this.handeldEqiped.showShortcut();\n        }\n        else {\n            y = height - this.handeldEqiped.height * 0.5 - this.gridContent.height;\n            this.gridContent.visible = true;\n            this.mPropGrid.resetMask();\n            this.handeldEqiped.normal();\n            this.handeldEqiped.hideShortcut();\n        }\n        this.handeldEqiped.setPosition(x, y);\n    };\n    PicHandheldPanel.prototype.onSelectItemHandler = function (item) {\n        var data = item.itemData;\n        if (!data)\n            return;\n        if (this.curHandheldItem)\n            this.curHandheldItem.isSelect = false;\n        item.isSelect = true;\n        this.curHandheldItem = item;\n        if (item.isEmptyHanded) {\n            this.emit(\"clearhandheld\");\n        }\n        else {\n            this.emit(\"changehandheld\", data.id);\n        }\n    };\n    PicHandheldPanel.prototype.onHandheldEqipedHandler = function (data) {\n        this.isExtendsGrid = !this.isExtendsGrid;\n        if (!this.isExtendsGrid) {\n            this.mPropGrid.setItems([]);\n            this.gridContent.visible = false;\n            this.emit(\"openeqiped\", false);\n        }\n        else {\n            this.gridContent.visible = true;\n            this.emit(\"handheldlist\");\n            this.emit(\"openeqiped\", true);\n        }\n        this.updateLayout();\n    };\n    PicHandheldPanel.prototype.onShortcutHandler = function (data) {\n        this.emit(\"clearhandheld\");\n    };\n    return PicHandheldPanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\nvar HandheldItem = /** @class */ (function (_super) {\n    __extends(HandheldItem, _super);\n    function HandheldItem(scene, x, y, key, dpr) {\n        var _this = _super.call(this, scene, x, y) || this;\n        _this.mIsSelect = false;\n        _this.dpr = dpr;\n        _this.key = key;\n        _this.bg = _this.scene.make.image({ key: key, frame: \"equp_bg\" });\n        _this.selectbg = _this.scene.make.image({ key: key, frame: \"click_bg\" });\n        _this.icon = new _components_dynamic_image__WEBPACK_IMPORTED_MODULE_3__[\"DynamicImage\"](scene, 0, 0);\n        _this.add([_this.bg, _this.selectbg, _this.icon]);\n        _this.setSize(_this.selectbg.width, _this.selectbg.height);\n        _this.isSelect = false;\n        return _this;\n    }\n    HandheldItem.prototype.setItemData = function (data) {\n        var _this = this;\n        this.itemData = data;\n        if (!data) {\n            this.icon.visible = false;\n            this.selectbg.visible = false;\n            return;\n        }\n        this.icon.visible = true;\n        this.selectbg.visible = this.mIsSelect;\n        if (this.isEmptyHanded) {\n            this.icon.setTexture(this.key, \"empty_handed\");\n        }\n        else {\n            var display = data.display;\n            var url = _utils_resUtil__WEBPACK_IMPORTED_MODULE_5__[\"Url\"].getOsdRes(display.texturePath);\n            this.icon.load(url, this, function () {\n                _this.icon.displayWidth = 34 * _this.dpr;\n                _this.icon.scaleY = _this.icon.scaleX;\n            });\n        }\n    };\n    Object.defineProperty(HandheldItem.prototype, \"isSelect\", {\n        get: function () {\n            return this.mIsSelect;\n        },\n        set: function (value) {\n            this.mIsSelect = value;\n            this.selectbg.visible = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HandheldItem.prototype, \"isEmptyHanded\", {\n        get: function () {\n            if (this.itemData && this.itemData.id === \"empty_handed\")\n                return true;\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return HandheldItem;\n}(Phaser.GameObjects.Container));\nvar HandheldEqiped = /** @class */ (function (_super) {\n    __extends(HandheldEqiped, _super);\n    function HandheldEqiped(scene, x, y, key, dpr) {\n        var _this = _super.call(this, scene, x, y) || this;\n        _this.isExtendsGrid = false;\n        _this.key = key;\n        _this.dpr = dpr;\n        _this.bg = _this.scene.make.image({ key: key, frame: \"button_h\" });\n        _this.shortcutCon = _this.scene.make.container(undefined, false);\n        _this.shortcutbg = _this.scene.make.image({ key: key, frame: \"superscript_h\" });\n        _this.shortcutIcon = _this.scene.make.image({ key: key, frame: \"hand\" });\n        _this.shortcutCon.add([_this.shortcutbg, _this.shortcutIcon]);\n        var shortcutWidth = 40 * dpr;\n        _this.shortcutCon.setSize(shortcutWidth, shortcutWidth);\n        _this.shortcutbg.x = -_this.shortcutCon.width * 0.5 + _this.shortcutbg.width * 0.5 - 5 * dpr;\n        _this.shortcutbg.y = _this.shortcutCon.height * 0.5 - _this.shortcutbg.height * 0.5 + 5 * dpr;\n        _this.shortcutIcon.x = _this.shortcutbg.x;\n        _this.shortcutIcon.y = _this.shortcutbg.y;\n        _this.icon = new _components_dynamic_image__WEBPACK_IMPORTED_MODULE_3__[\"DynamicImage\"](scene, 0, 0);\n        _this.icon.setTexture(_this.key, \"empty_handed\");\n        _this.shortcutCon.on(\"pointerup\", _this.onShortcutHandler, _this);\n        _this.add([_this.bg, _this.icon, _this.shortcutCon]);\n        _this.setSize(_this.bg.width, _this.bg.height);\n        _this.setInteractive();\n        _this.shortcutCon.setPosition(_this.width * 0.5 + shortcutWidth * 0.5 - 20 * dpr, -_this.height * 0.5 - shortcutWidth * 0.5 + 15 * dpr);\n        _this.shortcutCon.setInteractive();\n        _this.on(\"pointerup\", _this.onClickHandler, _this);\n        _this.hideShortcut();\n        return _this;\n    }\n    HandheldEqiped.prototype.normal = function () {\n        this.bg.setFrame(\"button_h\");\n        this.setChildAlpha(1);\n    };\n    HandheldEqiped.prototype.waiting = function () {\n        this.bg.setFrame(\"button_h\");\n        this.setChildAlpha(0.5);\n    };\n    HandheldEqiped.prototype.setItemData = function (data) {\n        var _this = this;\n        this.itemData = data;\n        if (!this.isEmptyHanded) {\n            var display = data.display;\n            var url = _utils_resUtil__WEBPACK_IMPORTED_MODULE_5__[\"Url\"].getOsdRes(display.texturePath);\n            this.icon.load(url, this, function () {\n                _this.icon.displayWidth = 24 * _this.dpr;\n                _this.icon.scaleY = _this.icon.scaleX;\n            });\n            if (!this.isExtendsGrid)\n                this.showShortcut();\n        }\n        else {\n            this.icon.setScale(1);\n            this.icon.setTexture(this.key, \"empty_handed\");\n            this.hideShortcut();\n        }\n    };\n    HandheldEqiped.prototype.setClickHandler = function (cliclhandler, shortcutHandler) {\n        this.clickHandler = cliclhandler;\n        this.shortcutHandler = shortcutHandler;\n    };\n    HandheldEqiped.prototype.setChildAlpha = function (alpha) {\n        this.bg.setAlpha(alpha);\n        this.icon.setAlpha(alpha);\n        this.shortcutbg.setAlpha(alpha);\n        this.shortcutIcon.setAlpha(alpha);\n    };\n    HandheldEqiped.prototype.hideShortcut = function () {\n        this.shortcutCon.visible = false;\n        this.shortcutCon.disableInteractive();\n    };\n    HandheldEqiped.prototype.showShortcut = function () {\n        this.shortcutCon.visible = true;\n        this.shortcutCon.setInteractive();\n    };\n    Object.defineProperty(HandheldEqiped.prototype, \"isCanShowShortcut\", {\n        get: function () {\n            if (!this.isEmptyHanded) {\n                return true;\n            }\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HandheldEqiped.prototype, \"isEmptyHanded\", {\n        get: function () {\n            if (!this.itemData || this.itemData.id === \"empty_handed\")\n                return true;\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    HandheldEqiped.prototype.onShortcutHandler = function () {\n        if (this.shortcutHandler)\n            this.shortcutHandler.runWith(this.itemData);\n    };\n    HandheldEqiped.prototype.onClickHandler = function () {\n        this.isExtendsGrid = !this.isExtendsGrid;\n        if (this.clickHandler)\n            this.clickHandler.runWith(this.itemData);\n    };\n    return HandheldEqiped;\n}(Phaser.GameObjects.Container));\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicHandheld/PicHandheldPanel.ts?");

/***/ }),

/***/ "./src/ui/PicHouse/PicHouse.ts":
/*!*************************************!*\
  !*** ./src/ui/PicHouse/PicHouse.ts ***!
  \*************************************/
/*! exports provided: PicHouse */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PicHouse\", function() { return PicHouse; });\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar PicHouse = /** @class */ (function (_super) {\n    __extends(PicHouse, _super);\n    function PicHouse($world) {\n        var _this = _super.call(this) || this;\n        _this.world = $world;\n        _this.mEvent = new Phaser.Events.EventEmitter();\n        return _this;\n    }\n    PicHouse.prototype.register = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.addPacketListener(this);\n            this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_EDIT_MODE_ROOM_INFO, this.onRetRoomInfoHandler);\n        }\n    };\n    PicHouse.prototype.unregister = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.removePacketListener(this);\n        }\n    };\n    PicHouse.prototype.on = function (event, fn, context) {\n        this.mEvent.on(event, fn, context);\n    };\n    PicHouse.prototype.off = function (event, fn, context) {\n        this.mEvent.off(event, fn, context);\n    };\n    PicHouse.prototype.destroy = function () {\n        this.unregister();\n        this.mEvent.destroy();\n    };\n    PicHouse.prototype.sendEnterDecorate = function () {\n        if (this.connection) {\n            this.connection.send(new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_EDIT_MODE_ENTER));\n        }\n    };\n    PicHouse.prototype.queryRoomInfo = function (roomid) {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_EDIT_MODE_GET_ROOM_INFO);\n        var content = packet.content;\n        content.roomId = roomid;\n        this.connection.send(packet);\n    };\n    Object.defineProperty(PicHouse.prototype, \"connection\", {\n        get: function () {\n            if (this.world) {\n                return this.world.connection;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    PicHouse.prototype.onRetRoomInfoHandler = function (packet) {\n        var content = packet.content;\n        this.mEvent.emit(\"roominfo\", content);\n    };\n    return PicHouse;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PacketHandler\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicHouse/PicHouse.ts?");

/***/ }),

/***/ "./src/ui/PicHouse/PicHouseInfoPanel.ts":
/*!**********************************************!*\
  !*** ./src/ui/PicHouse/PicHouseInfoPanel.ts ***!
  \**********************************************/
/*! exports provided: PicHouseInfoPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PicHouseInfoPanel\", function() { return PicHouseInfoPanel; });\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\n/* harmony import */ var _i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../i18n */ \"./src/i18n.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/ui-components */ \"./lib/rexui/lib/ui/ui-components.ts\");\n/* harmony import */ var _ui_atals_name__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ui.atals.name */ \"./src/ui/ui.atals.name.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar PicHouseInfoPanel = /** @class */ (function (_super) {\n    __extends(PicHouseInfoPanel, _super);\n    function PicHouseInfoPanel(scene, x, y, width, height, key, dpr) {\n        var _this = _super.call(this, scene, x, y) || this;\n        _this.key = key;\n        _this.dpr = dpr;\n        _this.setSize(width, height);\n        _this.createAttribute();\n        return _this;\n    }\n    PicHouseInfoPanel.prototype.setAttributeData = function (data) {\n        this.roomname.setTextInfo(_i18n__WEBPACK_IMPORTED_MODULE_1__[\"i18n\"].t(\"room_info.roomname\"), data.name);\n        var level = 0;\n        var curExp = 0;\n        var nexExp = 0;\n        if (data.roomLevel) {\n            level = data.roomLevel.level;\n            curExp = data.roomLevel.currentLevelExp ? data.roomLevel.currentLevelExp : 0;\n            nexExp = data.roomLevel.nextLevelExp ? data.roomLevel.nextLevelExp : 0;\n        }\n        this.roomlevel.setImageInfo(_i18n__WEBPACK_IMPORTED_MODULE_1__[\"i18n\"].t(\"room_info.roomlevel\"), _ui_atals_name__WEBPACK_IMPORTED_MODULE_3__[\"UIAtlasKey\"].common2Key, this.getLevelImgs(level));\n        var expvalue = \"[color=#0D8288]\" + curExp + \"[/color]/\" + nexExp;\n        if (nexExp === 0)\n            expvalue = \"MAX\";\n        this.expvalue.setTextInfo(_i18n__WEBPACK_IMPORTED_MODULE_1__[\"i18n\"].t(\"room_info.expvalue\"), expvalue);\n        this.popvalue.setImageInfo(_i18n__WEBPACK_IMPORTED_MODULE_1__[\"i18n\"].t(\"room_info.popvalue\"), this.key, this.getpopImgs());\n        this.goodvalue.setImageInfo(_i18n__WEBPACK_IMPORTED_MODULE_1__[\"i18n\"].t(\"room_info.goodvalue\"), this.key, this.getgoodImgs());\n        this.compviness.setTextInfo(_i18n__WEBPACK_IMPORTED_MODULE_1__[\"i18n\"].t(\"room_info.compveness\"), \"16525\");\n        this.prosprity.setTextInfo(_i18n__WEBPACK_IMPORTED_MODULE_1__[\"i18n\"].t(\"room_info.prosperity\"), \"68\");\n    };\n    PicHouseInfoPanel.prototype.createAttribute = function () {\n        var posy = -this.height * 0.5;\n        var itemHeight = 20 * this.dpr;\n        var itemWidth = this.width;\n        var space = 20 * this.dpr + itemHeight;\n        this.roomname = new HouseAttributeValue(this.scene, 0, posy, itemWidth, itemHeight, this.dpr);\n        posy += space;\n        this.roomlevel = new HouseAttributeValue(this.scene, 0, posy, itemWidth, itemHeight, this.dpr);\n        posy += space;\n        this.expvalue = new HouseAttributeValue(this.scene, 0, posy, itemWidth, itemHeight, this.dpr);\n        posy += space;\n        this.popvalue = new HouseAttributeValue(this.scene, 0, posy, itemWidth, itemHeight, this.dpr);\n        posy += space;\n        this.goodvalue = new HouseAttributeValue(this.scene, 0, posy, itemWidth, itemHeight, this.dpr);\n        posy += space;\n        this.compviness = new HouseAttributeValue(this.scene, 0, posy, itemWidth, itemHeight, this.dpr);\n        posy += space;\n        this.prosprity = new HouseAttributeValue(this.scene, 0, posy, itemWidth, itemHeight, this.dpr);\n        this.add([this.roomname, this.roomlevel, this.expvalue, this.popvalue, this.goodvalue, this.compviness, this.prosprity]);\n    };\n    PicHouseInfoPanel.prototype.getLevelImgs = function (level) {\n        var power = 4;\n        level = level ? level : 0;\n        var imgs = [];\n        var bearNum = Math.floor(level / Math.pow(power, 3));\n        var value0 = level % Math.pow(power, 3);\n        var sunNum = Math.floor(value0 / Math.pow(power, 2));\n        var value1 = value0 % Math.pow(power, 2);\n        var moon = Math.floor((value1) / Math.pow(power, 1));\n        var value2 = value1 % Math.pow(power, 1);\n        var star = value2;\n        for (var i = 0; i < bearNum; i++) {\n            imgs.push(\"bear\");\n        }\n        for (var i = 0; i < sunNum; i++) {\n            imgs.push(\"sun\");\n        }\n        for (var i = 0; i < moon; i++) {\n            imgs.push(\"moon\");\n        }\n        for (var i = 0; i < star; i++) {\n            imgs.push(\"star\");\n        }\n        if (level === 0)\n            imgs.push(\"star\");\n        return imgs;\n    };\n    PicHouseInfoPanel.prototype.getpopImgs = function () {\n        return [\"popularity\", \"popularity\", \"popularity\", \"popularity\", \"popularity\"];\n    };\n    PicHouseInfoPanel.prototype.getgoodImgs = function () {\n        return [\"good\", \"good\", \"good\", \"good1\", \"good1\"];\n    };\n    return PicHouseInfoPanel;\n}(Phaser.GameObjects.Container));\n\nvar HouseAttributeValue = /** @class */ (function (_super) {\n    __extends(HouseAttributeValue, _super);\n    function HouseAttributeValue(scene, x, y, width, height, dpr) {\n        var _this = _super.call(this, scene, x, y) || this;\n        _this.dpr = dpr;\n        _this.setSize(width, height);\n        _this.nameText = _this.scene.make.text({\n            x: -width * 0.5 + 15 * dpr, y: 0, text: \"Room name\",\n            style: { fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].BOLD_FONT, fontSize: 14 * dpr, color: \"#FFC51A\" }\n        }).setOrigin(0, 0.5).setStroke(\"#0\", 4).setResolution(dpr);\n        _this.valueText = new _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_2__[\"BBCodeText\"](_this.scene, 0, 0, \"This my Room\", {\n            color: \"#000000\",\n            fontSize: 13 * _this.dpr,\n            fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT,\n        }).setOrigin(0, 0.5).setResolution(dpr);\n        _this.imgCon = _this.scene.make.container(undefined, false);\n        _this.imgCon.x = 10 * dpr;\n        _this.add([_this.nameText, _this.valueText, _this.imgCon]);\n        return _this;\n    }\n    HouseAttributeValue.prototype.setTextInfo = function (name, value) {\n        this.nameText.text = name;\n        this.valueText.text = value;\n    };\n    HouseAttributeValue.prototype.setImageInfo = function (name, key, imgs) {\n        this.nameText.text = name;\n        var posX = 0;\n        var space = 10 * this.dpr;\n        for (var _i = 0, imgs_1 = imgs; _i < imgs_1.length; _i++) {\n            var frame = imgs_1[_i];\n            var image = this.scene.make.image({ key: key, frame: frame });\n            image.texture.setFilter(Phaser.Textures.FilterMode.LINEAR);\n            image.x = posX;\n            posX += image.width * 0.5 + space;\n            this.imgCon.add(image);\n        }\n        this.valueText.visible = false;\n    };\n    return HouseAttributeValue;\n}(Phaser.GameObjects.Container));\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicHouse/PicHouseInfoPanel.ts?");

/***/ }),

/***/ "./src/ui/PicHouse/PicHouseMediator.ts":
/*!*********************************************!*\
  !*** ./src/ui/PicHouse/PicHouseMediator.ts ***!
  \*********************************************/
/*! exports provided: PicHouseMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PicHouseMediator\", function() { return PicHouseMediator; });\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\n/* harmony import */ var _PicHousePanel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PicHousePanel */ \"./src/ui/PicHouse/PicHousePanel.ts\");\n/* harmony import */ var _PicHouse__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PicHouse */ \"./src/ui/PicHouse/PicHouse.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar PicHouseMediator = /** @class */ (function (_super) {\n    __extends(PicHouseMediator, _super);\n    function PicHouseMediator(layerManager, scene, worldService) {\n        var _this = _super.call(this) || this;\n        _this.layerManager = layerManager;\n        _this.world = worldService;\n        _this.scene = _this.layerManager.scene;\n        return _this;\n    }\n    PicHouseMediator.prototype.show = function () {\n        if ((this.mView && this.mView.isShow()) || this.mShow) {\n            this.layerManager.addToUILayer(this.mView);\n            return;\n        }\n        if (!this.picHouse) {\n            this.picHouse = new _PicHouse__WEBPACK_IMPORTED_MODULE_2__[\"PicHouse\"](this.world);\n            this.picHouse.on(\"roominfo\", this.onRoomInfoHandler, this);\n            this.picHouse.register();\n        }\n        if (!this.mView) {\n            this.mView = new _PicHousePanel__WEBPACK_IMPORTED_MODULE_1__[\"PicHousePanel\"](this.scene, this.world);\n            this.mView.on(\"hide\", this.onHideHandler, this);\n            this.mView.on(\"scenedecorate\", this.onSendEnterDecorate, this);\n        }\n        this.mView.show();\n        this.layerManager.addToUILayer(this.mView);\n        this.queryRoomInfoHandler();\n    };\n    PicHouseMediator.prototype.hide = function () {\n        _super.prototype.hide.call(this);\n        this.layerManager.removeToUILayer(this.mView);\n    };\n    PicHouseMediator.prototype.getView = function () {\n        return this.mView;\n    };\n    PicHouseMediator.prototype.destroy = function () {\n        if (this.picHouse) {\n            this.picHouse.destroy();\n            this.picHouse = undefined;\n        }\n        _super.prototype.destroy.call(this);\n    };\n    PicHouseMediator.prototype.onRoomInfoHandler = function (content) {\n        var uimananger = this.world.uiManager;\n        var mediator = uimananger.getMediator(\"PicaMainUIMediator\");\n        this.mView.setRoomInfoData(content, mediator.isSelfRoom);\n    };\n    PicHouseMediator.prototype.queryRoomInfoHandler = function () {\n        var uimananger = this.world.uiManager;\n        var mediator = uimananger.getMediator(\"PicaMainUIMediator\");\n        var roominfo = mediator.roomInfo;\n        if (roominfo) {\n            this.picHouse.queryRoomInfo(roominfo.roomId);\n        }\n    };\n    PicHouseMediator.prototype.onHideHandler = function () {\n        this.destroy();\n    };\n    PicHouseMediator.prototype.onSendEnterDecorate = function () {\n        this.picHouse.sendEnterDecorate();\n    };\n    return PicHouseMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_0__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicHouse/PicHouseMediator.ts?");

/***/ }),

/***/ "./src/ui/PicHouse/PicHousePanel.ts":
/*!******************************************!*\
  !*** ./src/ui/PicHouse/PicHousePanel.ts ***!
  \******************************************/
/*! exports provided: PicHousePanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PicHousePanel\", function() { return PicHousePanel; });\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../i18n */ \"./src/i18n.ts\");\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/ui-components */ \"./lib/rexui/lib/ui/ui-components.ts\");\n/* harmony import */ var _ui_atals_name__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ui.atals.name */ \"./src/ui/ui.atals.name.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_button_NineSliceButton__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/button/NineSliceButton */ \"./lib/rexui/lib/ui/button/NineSliceButton.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_tab_TabButton__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/tab/TabButton */ \"./lib/rexui/lib/ui/tab/TabButton.ts\");\n/* harmony import */ var _components_checkbox_group__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/checkbox.group */ \"./src/ui/components/checkbox.group.ts\");\n/* harmony import */ var _PicHouseInfoPanel__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./PicHouseInfoPanel */ \"./src/ui/PicHouse/PicHouseInfoPanel.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\n\nvar PicHousePanel = /** @class */ (function (_super) {\n    __extends(PicHousePanel, _super);\n    function PicHousePanel(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.key = \"pichousepanel\";\n        return _this;\n        // this.scale = 1;\n    }\n    PicHousePanel.prototype.resize = function (w, h) {\n        var scale = this.scale;\n        var width = this.scaleWidth;\n        var height = this.scaleHeight;\n        this.content.x = width * 0.5;\n        this.content.y = height * 0.5;\n        this.setSize(width, height);\n    };\n    PicHousePanel.prototype.show = function (param) {\n        this.mShowData = param;\n        if (this.mPreLoad)\n            return;\n        if (!this.mInitialized) {\n            this.preload();\n            return;\n        }\n        if (this.mShow)\n            return;\n        if (this.soundGroup && this.soundGroup.open)\n            this.playSound(this.soundGroup.open);\n        if (!this.mTweening && this.mTweenBoo) {\n            this.showTween(true);\n        }\n        else {\n            this.mShow = true;\n        }\n        this.addListen();\n        this.updateData();\n    };\n    PicHousePanel.prototype.hide = function () {\n        this.mShow = false;\n        this.removeListen();\n    };\n    PicHousePanel.prototype.addListen = function () {\n        if (!this.mInitialized)\n            return;\n        this.closeBtn.on(\"pointerup\", this.onCloseHandler, this);\n        this.editorRoomBtn.on(\"pointerup\", this.onEnterEditorHandler, this);\n    };\n    PicHousePanel.prototype.removeListen = function () {\n        if (!this.mInitialized)\n            return;\n        this.closeBtn.off(\"pointerup\", this.onCloseHandler, this);\n        this.editorRoomBtn.off(\"pointerup\", this.onEnterEditorHandler, this);\n    };\n    PicHousePanel.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n    };\n    PicHousePanel.prototype.setRoomInfoData = function (content, isSelf) {\n        if (isSelf === void 0) { isSelf = true; }\n        this.mRoomInfoData = content;\n        if (!this.mInitialized)\n            return;\n        this.houseInfoPanel.setAttributeData(content);\n        this.roomSettingBtn.visible = isSelf;\n        this.editorRoomBtn.visible = isSelf;\n    };\n    PicHousePanel.prototype.preload = function () {\n        this.addAtlas(this.key, \"room_information/room_information.png\", \"room_information/room_information.json\");\n        this.addAtlas(_ui_atals_name__WEBPACK_IMPORTED_MODULE_4__[\"UIAtlasKey\"].commonKey, _ui_atals_name__WEBPACK_IMPORTED_MODULE_4__[\"UIAtlasName\"].commonUrl + \".png\", _ui_atals_name__WEBPACK_IMPORTED_MODULE_4__[\"UIAtlasName\"].commonUrl + \".json\");\n        this.addAtlas(_ui_atals_name__WEBPACK_IMPORTED_MODULE_4__[\"UIAtlasKey\"].common2Key, _ui_atals_name__WEBPACK_IMPORTED_MODULE_4__[\"UIAtlasName\"].common2Url + \".png\", _ui_atals_name__WEBPACK_IMPORTED_MODULE_4__[\"UIAtlasName\"].common2Url + \".json\");\n        _super.prototype.preload.call(this);\n    };\n    PicHousePanel.prototype.init = function () {\n        if (this.mInitialized)\n            return;\n        var w = this.scaleWidth;\n        var h = this.scaleHeight;\n        this.mBackground = this.scene.make.graphics(undefined, false);\n        this.mBackground.setInteractive(new Phaser.Geom.Rectangle(0, 0, w, h), Phaser.Geom.Rectangle.Contains);\n        this.mBackground.fillStyle(0, 0.66);\n        this.mBackground.fillRect(0, 0, w, h);\n        this.add(this.mBackground);\n        this.content = this.scene.make.container(undefined, false);\n        var bgwidth = 295 * this.dpr, bgheight = 370 * this.dpr;\n        this.content.setSize(bgwidth, bgheight);\n        this.bg = new _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_3__[\"NineSlicePatch\"](this.scene, 0, 0, bgwidth, bgheight, _ui_atals_name__WEBPACK_IMPORTED_MODULE_4__[\"UIAtlasKey\"].common2Key, \"bg\", {\n            left: 20 * this.dpr,\n            top: 20 * this.dpr,\n            right: 20 * this.dpr,\n            bottom: 60 * this.dpr\n        });\n        this.content.add(this.bg);\n        this.closeBtn = this.scene.make.image({ x: this.bg.width * 0.5 - this.dpr * 5, y: -this.bg.height * 0.5 + this.dpr * 5, key: _ui_atals_name__WEBPACK_IMPORTED_MODULE_4__[\"UIAtlasKey\"].commonKey, frame: \"close\" }).setScale(1.3);\n        this.closeBtn.setInteractive();\n        this.closeBtn.texture.setFilter(Phaser.Textures.FilterMode.LINEAR);\n        this.content.add([this.closeBtn]);\n        this.roomInfoBtn = this.createTabButton(_i18n__WEBPACK_IMPORTED_MODULE_1__[\"i18n\"].t(\"room_info.infobtn\"), \"small_information\");\n        this.roomSettingBtn = this.createTabButton(_i18n__WEBPACK_IMPORTED_MODULE_1__[\"i18n\"].t(\"room_info.setting\"), \"small_setting\");\n        this.roomInfoBtn.setPosition(-this.roomInfoBtn.width * 0.5 - 2 * this.dpr, -this.content.height * 0.5 - this.roomInfoBtn.height * 0.5 + 2 * this.dpr);\n        this.roomSettingBtn.setPosition(this.roomSettingBtn.width * 0.5 + 2 * this.dpr, this.roomInfoBtn.y);\n        this.topCheckBox = new _components_checkbox_group__WEBPACK_IMPORTED_MODULE_7__[\"CheckboxGroup\"]();\n        this.topCheckBox.appendItemAll([this.roomInfoBtn, this.roomSettingBtn]);\n        this.topCheckBox.on(\"selected\", this.onTabBtnHandler, this);\n        this.content.add([this.roomInfoBtn, this.roomSettingBtn]);\n        this.houseInfoPanel = new _PicHouseInfoPanel__WEBPACK_IMPORTED_MODULE_8__[\"PicHouseInfoPanel\"](this.scene, 0, 0, this.content.width - 40 * this.dpr, this.content.height - 70 * this.dpr, this.key, this.dpr);\n        this.content.add(this.houseInfoPanel);\n        var btnY = this.content.height * 0.5;\n        this.editorRoomBtn = new _lib_rexui_lib_ui_button_NineSliceButton__WEBPACK_IMPORTED_MODULE_5__[\"NineSliceButton\"](this.scene, 0, btnY - 30 * this.dpr, 100 * this.dpr, 35 * this.dpr, _ui_atals_name__WEBPACK_IMPORTED_MODULE_4__[\"UIAtlasKey\"].commonKey, \"button_g\", _i18n__WEBPACK_IMPORTED_MODULE_1__[\"i18n\"].t(\"room_info.editorroom\"), this.dpr, this.scale, {\n            left: 16 * this.dpr,\n            top: 16 * this.dpr,\n            right: 16 * this.dpr,\n            bottom: 16 * this.dpr\n        });\n        this.editorRoomBtn.setTextStyle({\n            color: \"#022B55\",\n            fontSize: 12 * this.dpr,\n            fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_2__[\"Font\"].BOLD_FONT\n        });\n        this.editorRoomBtn.setTextOffset(10 * this.dpr, 0);\n        var editorx = -this.editorRoomBtn.width * 0.5 + 8 * this.dpr;\n        var eidtorimg = this.scene.make.image({ x: editorx, y: -3 * this.dpr, key: this.key, frame: \"renovation\" });\n        this.editorRoomBtn.add(eidtorimg);\n        this.content.add(this.editorRoomBtn);\n        this.topCheckBox.selectIndex(0);\n        this.add(this.content);\n        this.resize(0, 0);\n        _super.prototype.init.call(this);\n    };\n    PicHousePanel.prototype.updateData = function () {\n        if (this.mRoomInfoData) {\n            this.setRoomInfoData(this.mRoomInfoData);\n        }\n    };\n    PicHousePanel.prototype.onTabBtnHandler = function (btn) {\n        if (this.roomInfoBtn === btn) {\n            this.houseInfoPanel.visible = true;\n        }\n        else {\n            this.houseInfoPanel.visible = false;\n        }\n        if (this.roomSettingBtn === btn) {\n            this.houseInfoPanel.visible = false;\n        }\n        else {\n        }\n    };\n    PicHousePanel.prototype.createTabButton = function (text, icon) {\n        var btn = new _lib_rexui_lib_ui_tab_TabButton__WEBPACK_IMPORTED_MODULE_6__[\"TabButton\"](this.scene, this.key, \"default tab\", \"check tab\", text);\n        btn.setTextStyle({ fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_2__[\"Font\"].BOLD_FONT, fontSize: 9 * this.dpr, color: \"#ffffff\" });\n        btn.setTextOffset(13 * this.dpr, 0);\n        var img = this.scene.make.image({ key: this.key, frame: icon });\n        btn.add(img);\n        img.x = -btn.width * 0.5 + img.width * 0.5 + 7 * this.dpr;\n        return btn;\n    };\n    PicHousePanel.prototype.onCloseHandler = function () {\n        this.emit(\"hide\");\n    };\n    PicHousePanel.prototype.onEnterEditorHandler = function () {\n        this.emit(\"scenedecorate\");\n    };\n    return PicHousePanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicHouse/PicHousePanel.ts?");

/***/ }),

/***/ "./src/ui/PicHouse/PicHouseSettingPanel.ts":
/*!*************************************************!*\
  !*** ./src/ui/PicHouse/PicHouseSettingPanel.ts ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicHouse/PicHouseSettingPanel.ts?");

/***/ }),

/***/ "./src/ui/PicPropFun/PicPropFunConfig.ts":
/*!***********************************************!*\
  !*** ./src/ui/PicPropFun/PicPropFunConfig.ts ***!
  \***********************************************/
/*! exports provided: PicPropFunConfig */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PicPropFunConfig\", function() { return PicPropFunConfig; });\nvar PicPropFunConfig = /** @class */ (function () {\n    function PicPropFunConfig() {\n    }\n    return PicPropFunConfig;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicPropFun/PicPropFunConfig.ts?");

/***/ }),

/***/ "./src/ui/PicPropFun/PicPropFunMediator.ts":
/*!*************************************************!*\
  !*** ./src/ui/PicPropFun/PicPropFunMediator.ts ***!
  \*************************************************/
/*! exports provided: PicPropFunMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PicPropFunMediator\", function() { return PicPropFunMediator; });\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\n/* harmony import */ var _PicPropFunPanel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PicPropFunPanel */ \"./src/ui/PicPropFun/PicPropFunPanel.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar PicPropFunMediator = /** @class */ (function (_super) {\n    __extends(PicPropFunMediator, _super);\n    function PicPropFunMediator(layerManager, scene, worldService) {\n        var _this = _super.call(this) || this;\n        _this.layerManager = layerManager;\n        _this.world = worldService;\n        _this.scene = _this.layerManager.scene;\n        return _this;\n    }\n    PicPropFunMediator.prototype.show = function () {\n        if ((this.mView && this.mView.isShow()) || this.mShow) {\n            this.layerManager.addToUILayer(this.mView);\n            return;\n        }\n        if (!this.mView) {\n            this.mView = new _PicPropFunPanel__WEBPACK_IMPORTED_MODULE_1__[\"PicPropFunPanel\"](this.scene, this.world);\n            this.mView.on(\"close\", this.onCloseHandler, this);\n        }\n        this.mView.show(this.mParam);\n        this.layerManager.addToUILayer(this.mView);\n    };\n    PicPropFunMediator.prototype.getView = function () {\n        return this.mView;\n    };\n    PicPropFunMediator.prototype.onCloseHandler = function () {\n        this.destroy();\n    };\n    return PicPropFunMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_0__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicPropFun/PicPropFunMediator.ts?");

/***/ }),

/***/ "./src/ui/PicPropFun/PicPropFunPanel.ts":
/*!**********************************************!*\
  !*** ./src/ui/PicPropFun/PicPropFunPanel.ts ***!
  \**********************************************/
/*! exports provided: PicPropFunPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PicPropFunPanel\", function() { return PicPropFunPanel; });\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _i18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../i18n */ \"./src/i18n.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/ui-components */ \"./lib/rexui/lib/ui/ui-components.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_button_NineSliceButton__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/button/NineSliceButton */ \"./lib/rexui/lib/ui/button/NineSliceButton.ts\");\n/* harmony import */ var _ui_atals_name__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ui.atals.name */ \"./src/ui/ui.atals.name.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_slider_GameSlider__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/slider/GameSlider */ \"./lib/rexui/lib/ui/slider/GameSlider.ts\");\n/* harmony import */ var _Market_DetailDisplay__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../Market/DetailDisplay */ \"./src/ui/Market/DetailDisplay.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\n\nvar PicPropFunPanel = /** @class */ (function (_super) {\n    __extends(PicPropFunPanel, _super);\n    function PicPropFunPanel(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.itemCount = 1;\n        _this.key = \"picpropfunpanel\";\n        return _this;\n    }\n    PicPropFunPanel.prototype.resize = function (w, h) {\n        var width = this.scaleWidth;\n        var height = this.scaleHeight;\n        _super.prototype.resize.call(this, width, height);\n        this.blackGraphic.clear();\n        this.blackGraphic.fillStyle(0, 0.66);\n        this.blackGraphic.fillRect(0, 0, width, height);\n        this.content.x = width / 2;\n        this.content.y = height / 2;\n        this.setSize(width * this.scale, height * this.scale);\n    };\n    PicPropFunPanel.prototype.show = function (param) {\n        this.mShowData = param;\n        if (this.mPreLoad)\n            return;\n        if (!this.mInitialized) {\n            this.preload();\n            return;\n        }\n        if (this.mShow)\n            return;\n        if (this.soundGroup && this.soundGroup.open)\n            this.playSound(this.soundGroup.open);\n        if (!this.mTweening && this.mTweenBoo) {\n            this.showTween(true);\n        }\n        else {\n            this.mShow = true;\n        }\n        this.setInteractive();\n        this.addListen();\n        var config = this.mShowData[0];\n        this.setProp(config);\n        this.updateData();\n    };\n    PicPropFunPanel.prototype.addListen = function () {\n        if (!this.mInitialized)\n            return;\n        this.cancelBtn.on(\"Tap\", this.onCancelBtnHandler, this);\n        this.confirmBtn.on(\"Tap\", this.onConfirmBtnHandler, this);\n    };\n    PicPropFunPanel.prototype.removeListen = function () {\n        if (!this.mInitialized)\n            return;\n        this.cancelBtn.off(\"Tap\", this.onCancelBtnHandler, this);\n        this.confirmBtn.off(\"Tap\", this.onConfirmBtnHandler, this);\n    };\n    PicPropFunPanel.prototype.preload = function () {\n        this.addAtlas(_ui_atals_name__WEBPACK_IMPORTED_MODULE_6__[\"UIAtlasKey\"].commonKey, _ui_atals_name__WEBPACK_IMPORTED_MODULE_6__[\"UIAtlasName\"].commonUrl + \".png\", _ui_atals_name__WEBPACK_IMPORTED_MODULE_6__[\"UIAtlasName\"].commonUrl + \".json\");\n        this.addAtlas(_ui_atals_name__WEBPACK_IMPORTED_MODULE_6__[\"UIAtlasKey\"].common2Key, _ui_atals_name__WEBPACK_IMPORTED_MODULE_6__[\"UIAtlasName\"].common2Url + \".png\", _ui_atals_name__WEBPACK_IMPORTED_MODULE_6__[\"UIAtlasName\"].common2Url + \".json\");\n        _super.prototype.preload.call(this);\n    };\n    PicPropFunPanel.prototype.init = function () {\n        var width = this.scaleWidth;\n        var height = this.scaleHeight;\n        var dpr = this.dpr;\n        this.blackGraphic = this.scene.make.graphics(undefined, false);\n        this.blackGraphic.setInteractive(new Phaser.Geom.Rectangle(0, 0, width, height), Phaser.Geom.Rectangle.Contains);\n        this.add(this.blackGraphic);\n        this.content = this.scene.make.container(undefined, false);\n        var bgwidth = 299 * this.dpr, bgheight = 305 * this.dpr;\n        this.content.setSize(bgwidth, bgheight);\n        this.add(this.content);\n        var bg = new _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_4__[\"NineSlicePatch\"](this.scene, 0, 0, bgwidth, bgheight, _ui_atals_name__WEBPACK_IMPORTED_MODULE_6__[\"UIAtlasKey\"].common2Key, \"bg\", {\n            left: 20 * this.dpr,\n            top: 20 * this.dpr,\n            right: 20 * this.dpr,\n            bottom: 40 * this.dpr\n        });\n        bg.setInteractive(new Phaser.Geom.Rectangle(0, 0, width, height), Phaser.Geom.Rectangle.Contains);\n        var posY = -bg.height * 0.5 + 3 * dpr;\n        var titlebg = this.scene.make.image({ x: 0, y: posY, key: _ui_atals_name__WEBPACK_IMPORTED_MODULE_6__[\"UIAtlasKey\"].common2Key, frame: \"title\" });\n        this.titleName = this.scene.make.text({\n            x: 0, y: posY + 3 * dpr, text: \"\",\n            style: {\n                color: \"#905B06\",\n                fontSize: 16 * dpr,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].BOLD_FONT\n            }\n        }, false).setOrigin(0.5);\n        this.titleName.setFontStyle(\"bold\");\n        this.itemName = this.scene.make.text({\n            x: 0, y: posY + 40 * dpr,\n            style: {\n                color: \"#000000\",\n                fontSize: 15 * dpr,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT\n            }\n        }, false).setOrigin(0.5);\n        var iconOffset = -40 * dpr;\n        this.mDetailDisplay = new _Market_DetailDisplay__WEBPACK_IMPORTED_MODULE_8__[\"DetailDisplay\"](this.scene);\n        this.mDetailDisplay.scale = this.dpr * 0.8;\n        this.mDetailDisplay.y = iconOffset;\n        var priceOffset = 30 * dpr;\n        this.priceBg = this.scene.make.image({ x: 0, y: priceOffset, key: _ui_atals_name__WEBPACK_IMPORTED_MODULE_6__[\"UIAtlasKey\"].common2Key, frame: \"price_bg\" });\n        this.pricText = this.scene.make.text({\n            x: 0, y: priceOffset,\n            style: {\n                color: \"#000000\",\n                fontSize: 15 * dpr,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT\n            }\n        }, false).setOrigin(0.5);\n        this.mCoinIcon = this.scene.make.image({ x: -45 * this.dpr, y: priceOffset, key: _ui_atals_name__WEBPACK_IMPORTED_MODULE_6__[\"UIAtlasKey\"].commonKey, frame: \"iv_coin\" }, false).setOrigin(0.5);\n        var sliderbg = new _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_4__[\"NineSlicePatch\"](this.scene, 0, 0, 8, 7 * dpr, _ui_atals_name__WEBPACK_IMPORTED_MODULE_6__[\"UIAtlasKey\"].common2Key, \"slider_bg\", {\n            left: 3,\n            top: 1,\n            right: 3,\n            bottom: 1\n        });\n        var indicator = new _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_4__[\"NineSlicePatch\"](this.scene, 0, 0, 8, 7 * dpr, _ui_atals_name__WEBPACK_IMPORTED_MODULE_6__[\"UIAtlasKey\"].common2Key, \"slider_rate\", {\n            left: 3,\n            top: 1,\n            right: 3,\n            bottom: 1\n        });\n        var thumb = this.scene.make.image({ key: _ui_atals_name__WEBPACK_IMPORTED_MODULE_6__[\"UIAtlasKey\"].common2Key, frame: \"block\" });\n        this.thumb = thumb;\n        this.itemCountText = this.scene.make.text({\n            x: 0, y: 0,\n            style: {\n                color: \"#744803\",\n                fontSize: 15 * dpr,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].DEFULT_FONT\n            }\n        }, false).setOrigin(0.5);\n        this.slider = new _lib_rexui_lib_ui_slider_GameSlider__WEBPACK_IMPORTED_MODULE_7__[\"GameSlider\"](this.scene, {\n            x: 0, y: 70 * dpr, width: 136 * dpr, height: 7 * dpr, orientation: 1,\n            background: sliderbg,\n            indicator: indicator,\n            thumb: thumb,\n            offsetX: thumb.width * 0.5,\n            valuechangeCallback: this.onSliderValueHandler,\n            valuechangeCallbackScope: this,\n            value: 0.5\n        });\n        this.slider.add(this.itemCountText);\n        this.slider.setValue(0);\n        var bottomOffsetY = bg.height * 0.5 - 30 * dpr;\n        var bottomOffsetX = -66 * dpr;\n        this.cancelBtn = new _lib_rexui_lib_ui_button_NineSliceButton__WEBPACK_IMPORTED_MODULE_5__[\"NineSliceButton\"](this.scene, bottomOffsetX, bottomOffsetY, 112 * dpr, 36 * dpr, _ui_atals_name__WEBPACK_IMPORTED_MODULE_6__[\"UIAtlasKey\"].commonKey, \"red_btn\", _i18n__WEBPACK_IMPORTED_MODULE_3__[\"i18n\"].t(\"common.cancel\"), dpr, this.scale, {\n            left: 12 * dpr,\n            top: 12 * dpr,\n            right: 12 * dpr,\n            bottom: 12 * dpr\n        });\n        this.confirmBtn = new _lib_rexui_lib_ui_button_NineSliceButton__WEBPACK_IMPORTED_MODULE_5__[\"NineSliceButton\"](this.scene, -bottomOffsetX, bottomOffsetY, 112 * dpr, 36 * dpr, _ui_atals_name__WEBPACK_IMPORTED_MODULE_6__[\"UIAtlasKey\"].commonKey, \"yellow_btn\", _i18n__WEBPACK_IMPORTED_MODULE_3__[\"i18n\"].t(\"common.confirm\"), dpr, this.scale, {\n            left: 12 * dpr,\n            top: 12 * dpr,\n            right: 12 * dpr,\n            bottom: 12 * dpr\n        });\n        this.cancelBtn.setTextStyle({ color: \"#FFFFFF\", fontSize: 16 * dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].BOLD_FONT });\n        this.confirmBtn.setTextStyle({ color: \"#976400\", fontSize: 16 * dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_0__[\"Font\"].BOLD_FONT });\n        this.content.add([bg, titlebg, this.titleName, this.itemName, this.mDetailDisplay, this.priceBg, this.mCoinIcon, this.pricText, this.slider, this.cancelBtn, this.confirmBtn]);\n        this.resize(0, 0);\n        _super.prototype.init.call(this);\n    };\n    PicPropFunPanel.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n    };\n    PicPropFunPanel.prototype.setProp = function (config) {\n        var prop = config.data;\n        var price = (config.price !== undefined ? config.price : true);\n        price = prop.sellingPrice ? price : false;\n        var slider = (config.slider !== undefined ? config.slider : true);\n        this.itemData = prop;\n        if (slider)\n            this.itemCount = 1;\n        else\n            this.itemCount = prop.count;\n        this.setResource(config.resource);\n        this.itemName.text = prop.name || prop.shortName;\n        this.itemCountText.text = this.itemCount + \"\";\n        if (config.title) {\n            this.titleName.text = config.title;\n        }\n        if (price) {\n            this.pricText.visible = true;\n            this.priceBg.visible = true;\n            this.mCoinIcon.visible = true;\n            this.slider.y = 70 * this.dpr;\n            this.pricText.text = prop.sellingPrice.price * this.itemCount + \"  \";\n            var coinIcon = _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Coin\"].getIcon(prop.sellingPrice.coinType);\n            this.mCoinIcon.setFrame(coinIcon);\n        }\n        else {\n            this.pricText.visible = false;\n            this.priceBg.visible = false;\n            this.mCoinIcon.visible = false;\n            this.slider.y = 50 * this.dpr;\n        }\n        this.confirmHandler = config.confirmHandler;\n        this.cancelHandler = config.cancelHandler;\n        this.slider.visible = slider;\n        this.slider.setValue(this.itemCount / prop.count);\n    };\n    PicPropFunPanel.prototype.setResource = function (content) {\n        if (content) {\n            if (content.display) {\n                this.mDetailDisplay.loadDisplay(content);\n            }\n            else if (content.avatar) {\n                // const player = this.mWorld.roomManager.currentRoom.playerManager.actor;\n                // const avatar = player.model.avatar;\n                // for (const key in avatar) {\n                //     if (avatar.hasOwnProperty(key)) {\n                //         const element = avatar[key];\n                //         if (element && !content.avatar[key]) content.avatar[key] = element;\n                //     }\n                // }\n                var offset = new Phaser.Geom.Point(0, 35 * 2);\n                this.mDetailDisplay.loadAvatar(content, 2, offset);\n            }\n        }\n        else {\n            this.mDetailDisplay.loadUrl(this.itemData.display.texturePath);\n        }\n    };\n    PicPropFunPanel.prototype.updateData = function () {\n        if (this.itemCountText)\n            this.itemCountText.text = this.itemCount + \"\";\n        if (this.pricText && this.itemData && this.itemData.sellingPrice)\n            this.pricText.text = this.itemData.sellingPrice.price * this.itemCount + \"  \";\n    };\n    PicPropFunPanel.prototype.onCancelBtnHandler = function () {\n        if (this.cancelHandler)\n            this.cancelHandler.runWith(this.itemData);\n        this.emit(\"close\");\n    };\n    PicPropFunPanel.prototype.onConfirmBtnHandler = function () {\n        if (this.confirmHandler)\n            this.confirmHandler.runWith([this.itemData, this.itemCount]);\n        this.emit(\"close\");\n    };\n    PicPropFunPanel.prototype.onSliderValueHandler = function (value) {\n        this.itemCountText.x = this.thumb.x;\n        this.itemCount = this.calcuSliderValue(value);\n        this.updateData();\n    };\n    PicPropFunPanel.prototype.calcuSliderValue = function (value) {\n        var allcount = this.itemData ? this.itemData.count : 0;\n        var count = 0;\n        var line = 10;\n        var num = 4;\n        if (allcount <= line * num) {\n            count = Math.round(allcount * value);\n        }\n        else {\n            if (value <= 1 / num) {\n                count = line * num * value;\n            }\n            else {\n                var mcount = allcount - line;\n                if (mcount <= line * num) {\n                    count = line + mcount * (value - 1 / num) / (1 - 1 / num);\n                }\n                else {\n                    var ncount = mcount / num;\n                    count = line;\n                    for (var i = 1; i < num; i++) {\n                        var fcount = ncount + mcount / (num * (num - 1)) * (i - 1);\n                        if (value > i / num && value <= (i + 1) / num) {\n                            count += fcount * (value - i / num) / (1 / num);\n                            break;\n                        }\n                        else {\n                            count += fcount;\n                        }\n                    }\n                }\n            }\n        }\n        count = Math.round(count);\n        return count;\n    };\n    return PicPropFunPanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_1__[\"BasePanel\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicPropFun/PicPropFunPanel.ts?");

/***/ }),

/***/ "./src/ui/PicRoomUpgrade/PicRoomUpgrade.ts":
/*!*************************************************!*\
  !*** ./src/ui/PicRoomUpgrade/PicRoomUpgrade.ts ***!
  \*************************************************/
/*! exports provided: PicRoomUpgrade */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PicRoomUpgrade\", function() { return PicRoomUpgrade; });\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar PicRoomUpgrade = /** @class */ (function (_super) {\n    __extends(PicRoomUpgrade, _super);\n    function PicRoomUpgrade($world) {\n        var _this = _super.call(this) || this;\n        _this.world = $world;\n        _this.mEvent = new Phaser.Events.EventEmitter();\n        return _this;\n    }\n    PicRoomUpgrade.prototype.register = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.addPacketListener(this);\n            //    this.addHandlerFun(op_client.OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_CHAT, this.handleCharacterChat);\n        }\n    };\n    PicRoomUpgrade.prototype.unregister = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.removePacketListener(this);\n        }\n    };\n    PicRoomUpgrade.prototype.on = function (event, fn, context) {\n        this.mEvent.on(event, fn, context);\n    };\n    PicRoomUpgrade.prototype.off = function (event, fn, context) {\n        this.mEvent.off(event, fn, context);\n    };\n    PicRoomUpgrade.prototype.destroy = function () {\n        this.unregister();\n        this.mEvent.destroy();\n    };\n    Object.defineProperty(PicRoomUpgrade.prototype, \"connection\", {\n        get: function () {\n            if (this.world) {\n                return this.world.connection;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    PicRoomUpgrade.prototype.queryTargetUI = function (uiid) {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_TARGET_UI);\n        var content = packet.content;\n        content.uiId = uiid;\n        content.componentId = 0;\n        this.connection.send(packet);\n    };\n    return PicRoomUpgrade;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PacketHandler\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicRoomUpgrade/PicRoomUpgrade.ts?");

/***/ }),

/***/ "./src/ui/PicRoomUpgrade/PicRoomUpgradeMediator.ts":
/*!*********************************************************!*\
  !*** ./src/ui/PicRoomUpgrade/PicRoomUpgradeMediator.ts ***!
  \*********************************************************/
/*! exports provided: PicRoomUpgradeMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PicRoomUpgradeMediator\", function() { return PicRoomUpgradeMediator; });\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\n/* harmony import */ var _PicRoomUpgradePanel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PicRoomUpgradePanel */ \"./src/ui/PicRoomUpgrade/PicRoomUpgradePanel.ts\");\n/* harmony import */ var _PicRoomUpgrade__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PicRoomUpgrade */ \"./src/ui/PicRoomUpgrade/PicRoomUpgrade.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar PicRoomUpgradeMediator = /** @class */ (function (_super) {\n    __extends(PicRoomUpgradeMediator, _super);\n    function PicRoomUpgradeMediator(layerManager, scene, worldService) {\n        var _this = _super.call(this) || this;\n        _this.layerManager = layerManager;\n        _this.world = worldService;\n        _this.scene = _this.layerManager.scene;\n        return _this;\n    }\n    PicRoomUpgradeMediator.prototype.show = function () {\n        if ((this.mView && this.mView.isShow()) || this.mShow) {\n            this.layerManager.addToUILayer(this.mView);\n            return;\n        }\n        if (!this.picRoom) {\n            this.picRoom = new _PicRoomUpgrade__WEBPACK_IMPORTED_MODULE_2__[\"PicRoomUpgrade\"](this.world);\n            this.picRoom.register();\n        }\n        if (!this.mView) {\n            this.mView = new _PicRoomUpgradePanel__WEBPACK_IMPORTED_MODULE_1__[\"PicRoomUpgradePanel\"](this.scene, this.world);\n            this.mView.on(\"querytargetui\", this.onQueryTargetUI, this);\n        }\n        this.mView.show(this.mParam);\n        this.layerManager.addToUILayer(this.mView);\n    };\n    PicRoomUpgradeMediator.prototype.hide = function () {\n        _super.prototype.hide.call(this);\n        this.layerManager.removeToUILayer(this.mView);\n    };\n    PicRoomUpgradeMediator.prototype.getView = function () {\n        return this.mView;\n    };\n    PicRoomUpgradeMediator.prototype.destroy = function () {\n        if (this.picRoom) {\n            this.picRoom.destroy();\n            this.picRoom = undefined;\n        }\n        _super.prototype.destroy.call(this);\n    };\n    PicRoomUpgradeMediator.prototype.onQueryTargetUI = function (uid) {\n        this.picRoom.queryTargetUI(uid);\n        this.destroy();\n    };\n    return PicRoomUpgradeMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_0__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicRoomUpgrade/PicRoomUpgradeMediator.ts?");

/***/ }),

/***/ "./src/ui/PicRoomUpgrade/PicRoomUpgradePanel.ts":
/*!******************************************************!*\
  !*** ./src/ui/PicRoomUpgrade/PicRoomUpgradePanel.ts ***!
  \******************************************************/
/*! exports provided: PicRoomUpgradePanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PicRoomUpgradePanel\", function() { return PicRoomUpgradePanel; });\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../i18n */ \"./src/i18n.ts\");\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar PicRoomUpgradePanel = /** @class */ (function (_super) {\n    __extends(PicRoomUpgradePanel, _super);\n    function PicRoomUpgradePanel(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.key = \"picroomupgradepanel\";\n        return _this;\n        // this.scale = 1;\n    }\n    PicRoomUpgradePanel.prototype.resize = function (w, h) {\n        var width = this.scaleWidth;\n        var height = this.scaleHeight;\n        this.content.x = width * 0.5;\n        this.content.y = height * 0.5;\n        this.setSize(width, height);\n    };\n    PicRoomUpgradePanel.prototype.show = function (param) {\n        this.mShowData = param;\n        if (this.mPreLoad)\n            return;\n        if (!this.mInitialized) {\n            this.preload();\n            return;\n        }\n        if (this.mShow)\n            return;\n        if (this.soundGroup && this.soundGroup.open)\n            this.playSound(this.soundGroup.open);\n        if (!this.mTweening && this.mTweenBoo) {\n            this.showTween(true);\n        }\n        else {\n            this.mShow = true;\n        }\n        this.addListen();\n        this.updateData();\n    };\n    PicRoomUpgradePanel.prototype.hide = function () {\n        this.mShow = false;\n        this.removeListen();\n    };\n    PicRoomUpgradePanel.prototype.updateData = function () {\n        var data = this.mShowData[0];\n        this.mTitleName.text = data.text[0].text;\n        var lv = data.data[0];\n        this.roomIcon.play(\"lv\" + lv);\n    };\n    PicRoomUpgradePanel.prototype.addListen = function () {\n        if (!this.mInitialized)\n            return;\n        this.setInteractive(new Phaser.Geom.Rectangle(this.width * 0.5, this.height * 0.5, this.width, this.height), Phaser.Geom.Rectangle.Contains);\n        this.on(\"pointerup\", this.onClickHandler, this);\n    };\n    PicRoomUpgradePanel.prototype.removeListen = function () {\n        if (!this.mInitialized)\n            return;\n        this.removeInteractive();\n        this.off(\"pointerup\", this.onClickHandler, this);\n    };\n    PicRoomUpgradePanel.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n    };\n    PicRoomUpgradePanel.prototype.preload = function () {\n        this.addAtlas(this.key, \"e_roomupgrade/e_roomupgrade.png\", \"e_roomupgrade/e_roomupgrade.json\");\n        _super.prototype.preload.call(this);\n    };\n    PicRoomUpgradePanel.prototype.init = function () {\n        if (this.mInitialized)\n            return;\n        var w = this.scaleWidth;\n        var h = this.scaleHeight;\n        this.mBackground = this.scene.make.graphics(undefined, false);\n        this.mBackground.clear();\n        this.mBackground.fillStyle(0, 0.66);\n        this.mBackground.fillRect(0, 0, w, h);\n        this.add(this.mBackground);\n        this.content = this.scene.make.container(undefined, false);\n        this.content.setSize(w, 462 * this.dpr);\n        var conbg = this.scene.make.image({ x: 0, y: -20 * this.dpr, key: this.key, frame: \"effect_bg\" });\n        this.content.add(conbg);\n        var titleBg = this.scene.make.image({ key: this.key, frame: \"tittle_bg\" });\n        titleBg.y = -this.content.height * 0.5;\n        var font = 22 * this.dpr + \"px \" + _utils_font__WEBPACK_IMPORTED_MODULE_2__[\"Font\"].BOLD_FONT;\n        this.mTitleName = this.scene.make.text({\n            x: 0, y: titleBg.y, text: \"Room upgrade to Lv3\",\n            style: { font: font, fill: \"#FFF36D\" }\n        }).setOrigin(0.5);\n        this.mTitleName.setStroke(\"#471C1E\", 8);\n        this.mTitleName.setShadow(2, 2, \"#471C1E\", 2, true, true);\n        this.mTitleName.setTint(0xFFF36D, 0xFFF36D, 0xFFAE00, 0xFFAE00);\n        this.content.add([titleBg, this.mTitleName]);\n        var bottomTitle = this.scene.make.text({\n            x: 0, y: this.content.height * 0.5 - 40 * this.dpr, text: _i18n__WEBPACK_IMPORTED_MODULE_1__[\"i18n\"].t(\"room_upgrade.clicktocontinue\"),\n            style: { fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_2__[\"Font\"].DEFULT_FONT, fontSize: 16 * this.dpr, color: \"#FFF000\" }\n        }).setOrigin(0.5);\n        this.roomIcon = this.scene.make.sprite({ key: this.key, frame: \"lv1\" });\n        this.roomIcon.y = -40 * this.dpr;\n        this.content.add([this.roomIcon, bottomTitle]);\n        this.add(this.content);\n        this.createAnimations();\n        this.resize(0, 0);\n        _super.prototype.init.call(this);\n    };\n    PicRoomUpgradePanel.prototype.onClickHandler = function () {\n        var data = this.mShowData[0];\n        this.emit(\"querytargetui\", data.id);\n    };\n    PicRoomUpgradePanel.prototype.createAnimations = function () {\n        for (var i = 1; i <= 4; i++) {\n            this.scene.anims.create({ key: \"lv\" + i, frames: this.scene.anims.generateFrameNames(this.key, { prefix: \"lv\", frames: [i - 1, i] }), duration: 500, repeat: -1 });\n        }\n    };\n    return PicRoomUpgradePanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicRoomUpgrade/PicRoomUpgradePanel.ts?");

/***/ }),

/***/ "./src/ui/PicaChat/PicaChat.ts":
/*!*************************************!*\
  !*** ./src/ui/PicaChat/PicaChat.ts ***!
  \*************************************/
/*! exports provided: PicaChat */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PicaChat\", function() { return PicaChat; });\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar PicaChat = /** @class */ (function (_super) {\n    __extends(PicaChat, _super);\n    function PicaChat($world) {\n        var _this = _super.call(this) || this;\n        _this.world = $world;\n        _this.mEvent = new Phaser.Events.EventEmitter();\n        return _this;\n    }\n    PicaChat.prototype.register = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.addPacketListener(this);\n            this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_CHAT, this.handleCharacterChat);\n        }\n    };\n    PicaChat.prototype.unregister = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.removePacketListener(this);\n        }\n    };\n    PicaChat.prototype.on = function (event, fn, context) {\n        this.mEvent.on(event, fn, context);\n    };\n    PicaChat.prototype.off = function (event, fn, context) {\n        this.mEvent.off(event, fn, context);\n    };\n    PicaChat.prototype.sendMessage = function (val) {\n        var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_GATEWAY_REQ_VIRTUAL_WORLD_CHAT);\n        var content = pkt.content;\n        content.chatChannel = 0;\n        content.chatContext = val;\n        this.connection.send(pkt);\n    };\n    PicaChat.prototype.destroy = function () {\n        this.unregister();\n        this.mEvent.destroy();\n    };\n    PicaChat.prototype.handleCharacterChat = function (packet) {\n        this.mEvent.emit(\"chat\", packet.content);\n    };\n    Object.defineProperty(PicaChat.prototype, \"connection\", {\n        get: function () {\n            if (this.world) {\n                return this.world.connection;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return PicaChat;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PacketHandler\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicaChat/PicaChat.ts?");

/***/ }),

/***/ "./src/ui/PicaChat/PicaChatMediator.ts":
/*!*********************************************!*\
  !*** ./src/ui/PicaChat/PicaChatMediator.ts ***!
  \*********************************************/
/*! exports provided: PicaChatMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PicaChatMediator\", function() { return PicaChatMediator; });\n/* harmony import */ var _PicaChatPanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PicaChatPanel */ \"./src/ui/PicaChat/PicaChatPanel.ts\");\n/* harmony import */ var _PicaChat__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PicaChat */ \"./src/ui/PicaChat/PicaChat.ts\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar PicaChatMediator = /** @class */ (function (_super) {\n    __extends(PicaChatMediator, _super);\n    function PicaChatMediator(layerManager, scene, worldService) {\n        var _this = _super.call(this) || this;\n        _this.layerManager = layerManager;\n        _this.world = worldService;\n        _this.scene = _this.layerManager.scene;\n        return _this;\n    }\n    PicaChatMediator.prototype.show = function () {\n        if ((this.mView && this.mView.isShow()) || this.mShow) {\n            this.mView.show();\n            this.layerManager.addToUILayer(this.mView);\n            return;\n        }\n        if (!this.mChat) {\n            this.mChat = new _PicaChat__WEBPACK_IMPORTED_MODULE_1__[\"PicaChat\"](this.world);\n            this.mChat.on(\"chat\", this.onChatHandler, this);\n            this.mChat.register();\n        }\n        if (!this.mView) {\n            this.mView = new _PicaChatPanel__WEBPACK_IMPORTED_MODULE_0__[\"PicaChatPanel\"](this.scene, this.world);\n            this.mView.on(\"showNavigate\", this.onShowNavigateHandler, this);\n            this.mView.on(\"chat\", this.onSendChatHandler, this);\n        }\n        this.mView.show();\n        this.layerManager.addToUILayer(this.mView);\n    };\n    PicaChatMediator.prototype.isSceneUI = function () {\n        return true;\n    };\n    PicaChatMediator.prototype.destroy = function () {\n        if (this.mChat) {\n            this.mChat.destroy();\n            this.mChat = undefined;\n        }\n        _super.prototype.destroy.call(this);\n    };\n    PicaChatMediator.prototype.hide = function () {\n        _super.prototype.hide.call(this);\n        this.mView.removeListen();\n        this.layerManager.removeToUILayer(this.mView);\n    };\n    PicaChatMediator.prototype.onShowNavigateHandler = function () {\n        if (!this.world) {\n            return;\n        }\n        var uiManager = this.world.uiManager;\n        uiManager.showMed(\"PicaNavigate\");\n        uiManager.hideMed(\"PicHandheld\");\n        this.hide();\n    };\n    PicaChatMediator.prototype.onChatHandler = function (content) {\n        if (!this.mView) {\n            return;\n        }\n        var player = this.getSpeaker(content.chatSenderid);\n        var speaker = \"\";\n        if (player) {\n            speaker = \"\" + player.model.nickname;\n        }\n        else {\n            if (content.chatSenderid) {\n                speaker = \"\";\n            }\n        }\n        var color = \"#ffffff\";\n        if (content.chatSetting) {\n            color = content.chatSetting.textColor;\n        }\n        this.appendChat(\"[color=\" + color + \"][\" + this.getChannel(content.chatChannel) + \"]\" + speaker + \": \" + content.chatContext + \"[/color]\\n\");\n    };\n    PicaChatMediator.prototype.appendChat = function (chat) {\n        if (!this.mView) {\n            return;\n        }\n        this.mView.appendChat(chat);\n    };\n    PicaChatMediator.prototype.onSendChatHandler = function (val) {\n        if (!this.mChat) {\n            return;\n        }\n        if (val === \"whosyourdaddy\") {\n            this.world.uiManager.showMed(\"DebugLogger\");\n        }\n        this.mChat.sendMessage(val);\n    };\n    PicaChatMediator.prototype.getChannel = function (channel) {\n        switch (channel) {\n            case pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].ChatChannel.CurrentScene:\n                return \"\";\n            case pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].ChatChannel.World:\n                return \"\";\n            default:\n                return \"\";\n        }\n    };\n    PicaChatMediator.prototype.getSpeaker = function (id) {\n        if (id) {\n            if (!this.world || !this.world.roomManager || !this.world.roomManager.currentRoom) {\n                return;\n            }\n            return this.world.roomManager.currentRoom.getElement(id);\n        }\n    };\n    PicaChatMediator.NAME = \"PicaChatMediator\";\n    return PicaChatMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_3__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicaChat/PicaChatMediator.ts?");

/***/ }),

/***/ "./src/ui/PicaChat/PicaChatPanel.ts":
/*!******************************************!*\
  !*** ./src/ui/PicaChat/PicaChatPanel.ts ***!
  \******************************************/
/*! exports provided: PicaChatPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PicaChatPanel\", function() { return PicaChatPanel; });\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_textarea_TextArea__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/textarea/TextArea */ \"./lib/rexui/lib/ui/textarea/TextArea.js\");\n/* harmony import */ var _lib_rexui_lib_plugins_gameobjects_text_bbcodetext_BBCodeText_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/rexui/lib/plugins/gameobjects/text/bbcodetext/BBCodeText.js */ \"./lib/rexui/lib/plugins/gameobjects/text/bbcodetext/BBCodeText.js\");\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\n/* harmony import */ var _components_input_panel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/input.panel */ \"./src/ui/components/input.panel.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/interface/baseUI/UIType */ \"./lib/rexui/lib/ui/interface/baseUI/UIType.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\nvar PicaChatPanel = /** @class */ (function (_super) {\n    __extends(PicaChatPanel, _super);\n    function PicaChatPanel(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.key = \"pica_chat\";\n        _this.MAX_HEIGHT = 460 * _this.dpr;\n        _this.MIN_HEIGHT = 100 * _this.dpr;\n        // this.scale = 1;\n        _this.UIType = _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_5__[\"UIType\"].Scene;\n        return _this;\n    }\n    PicaChatPanel.prototype.show = function (param) {\n        this.mShowData = param;\n        if (this.mPreLoad)\n            return;\n        if (!this.mInitialized) {\n            this.preload();\n            return;\n        }\n        if (this.mShow)\n            return;\n        if (this.soundGroup && this.soundGroup.open)\n            this.playSound(this.soundGroup.open);\n        if (!this.mTweening && this.mTweenBoo) {\n            this.showTween(true);\n        }\n        else {\n            this.mShow = true;\n        }\n        this.addListen();\n        this.checkUpdateActive();\n    };\n    PicaChatPanel.prototype.resize = function (w, h) {\n        this.setSize(w, h);\n        var zoom = this.scale;\n        var width = this.scene.cameras.main.width;\n        var height = this.scene.cameras.main.height;\n        var frame = this.scene.textures.getFrame(this.key, \"title_bg\");\n        var scaleRatio = (width / this.scale) / frame.width;\n        this.mTitleBg.scaleX = scaleRatio;\n        this.mTitleBg.x = (width / this.scale) / 2;\n        this.y = height - this.height;\n        this.mBackground.clear();\n        this.mBackground.fillStyle(0, 0.6);\n        this.mBackground.fillRect(0, 0, width / this.scale, h / this.scale);\n        this.mTextArea.childrenMap.child.setMinSize(w, (h - 16 * this.dpr) * zoom);\n        this.mTextArea.layout();\n        this.mTextArea.setPosition(this.width / 2 + 4 * this.dpr, this.y + this.mTextArea.height / 2 + 10 * this.dpr * zoom);\n        var textMask = this.mTextArea.childrenMap.text;\n        textMask.y = 8 * this.dpr;\n        this.mTextArea.scrollToBottom();\n        _super.prototype.resize.call(this, w, h);\n    };\n    PicaChatPanel.prototype.appendChat = function (val) {\n        if (this.mTextArea) {\n            this.mTextArea.appendText(val);\n            this.mTextArea.scrollToBottom();\n        }\n    };\n    PicaChatPanel.prototype.hide = function () {\n        this.mShow = false;\n        this.removeInteractive();\n    };\n    PicaChatPanel.prototype.addListen = function () {\n        if (!this.mInitialized)\n            return;\n        this.mChatBtn.setInteractive();\n        this.mEmojiBtn.setInteractive();\n        this.mScrollBtn.setInteractive();\n        this.mNavigateBtn.setInteractive();\n        this.mTitleBg.setInteractive();\n        this.mTextArea.childrenMap.child.setInteractive();\n        this.mScrollBtn.on(\"drag\", this.onDragHandler, this);\n        this.mTitleBg.on(\"drag\", this.onDragHandler, this);\n        this.scene.input.setDraggable(this.mScrollBtn, true);\n        this.scene.input.setDraggable(this.mTitleBg, true);\n        this.mNavigateBtn.on(\"pointerup\", this.onShowNavigateHandler, this);\n        this.mChatBtn.on(\"pointerup\", this.onShowInputHanldler, this);\n    };\n    PicaChatPanel.prototype.removeListen = function () {\n        if (!this.mInitialized)\n            return;\n        this.mChatBtn.disableInteractive();\n        this.mEmojiBtn.disableInteractive();\n        this.mScrollBtn.disableInteractive();\n        this.mNavigateBtn.disableInteractive();\n        this.mTitleBg.disableInteractive();\n        this.mTextArea.childrenMap.child.disableInteractive();\n        this.mScrollBtn.off(\"drag\", this.onDragHandler, this);\n        this.mTitleBg.off(\"drag\", this.onDragHandler, this);\n        this.mNavigateBtn.off(\"pointerup\", this.onShowNavigateHandler, this);\n        this.mChatBtn.off(\"pointerup\", this.onShowInputHanldler, this);\n    };\n    PicaChatPanel.prototype.updateUIState = function (active) {\n        if (!this.mInitialized) {\n            return;\n        }\n        if (active.name === \"picachat.navigatebtn\") {\n            if (this.mNavigateBtn.visible !== active.visible) {\n                this.mNavigateBtn.visible = active.visible;\n                if (active.visible) {\n                    this.addListen();\n                }\n                else {\n                    this.removeListen();\n                }\n            }\n        }\n    };\n    PicaChatPanel.prototype.destroy = function () {\n        if (this.mBackground)\n            this.mBackground.disableInteractive();\n        _super.prototype.destroy.call(this);\n    };\n    PicaChatPanel.prototype.preload = function () {\n        this.addAtlas(this.key, \"pica_chat/pica_chat.png\", \"pica_chat/pica_chat.json\");\n        _super.prototype.preload.call(this);\n    };\n    PicaChatPanel.prototype.init = function () {\n        var width = this.scene.cameras.main.width;\n        var height = this.scene.cameras.main.height;\n        this.mBackground = this.scene.make.graphics(undefined, false);\n        var zoom = this.scale;\n        this.setSize(width, 135 * this.dpr);\n        this.mTileContainer = this.scene.make.container(undefined, false);\n        this.mScrollBtn = this.scene.make.image({ x: 21 * this.dpr * zoom, key: this.key, frame: \"scroll_btn\" }, false).setScale(zoom);\n        this.mTitleBg = this.scene.make.image({ key: this.key, frame: \"title_bg\" }, false).setScale(zoom);\n        this.mTitleBg.texture.setFilter(Phaser.Textures.FilterMode.LINEAR);\n        this.mChatBtn = this.scene.make.image({ x: 96 * this.dpr * zoom, key: this.key, frame: \"chat_icon\" }, false).setScale(zoom);\n        this.mHornBtn = this.scene.make.image({ x: 159 * this.dpr * zoom, key: this.key, frame: \"horn_icon\" }, false).setScale(zoom);\n        this.mEmojiBtn = this.scene.make.image({ x: 218 * this.dpr * zoom, key: this.key, frame: \"emoji\" }, false).setScale(zoom);\n        this.mNavigateBtn = this.scene.make.image({ x: 281 * this.dpr, key: this.key, frame: \"more_btn\" }, false).setScale(zoom);\n        var space = 20 * this.dpr;\n        this.mScrollBtn.x = this.mScrollBtn.width * 0.5 + 5 * this.dpr;\n        this.mScrollBtn.y = -this.mScrollBtn.height / 2 + this.mTitleBg.height;\n        this.mChatBtn.x = this.mScrollBtn.x + this.mScrollBtn.width * 0.5 + space + this.mChatBtn.width * 0.5;\n        this.mChatBtn.y = -this.mChatBtn.height / 2 + this.mTitleBg.height;\n        this.mChatBtn.texture.setFilter(Phaser.Textures.FilterMode.LINEAR);\n        this.mHornBtn.x = this.mChatBtn.x + this.mChatBtn.width * 0.5 + space + this.mHornBtn.width * 0.5;\n        this.mHornBtn.y = -this.mHornBtn.height / 2 + this.mTitleBg.height;\n        this.mHornBtn.texture.setFilter(Phaser.Textures.FilterMode.LINEAR);\n        this.mEmojiBtn.x = this.mHornBtn.x + this.mHornBtn.width * 0.5 + space + this.mEmojiBtn.width * 0.5;\n        this.mEmojiBtn.y = -this.mEmojiBtn.height / 2 + this.mTitleBg.height;\n        this.mEmojiBtn.texture.setFilter(Phaser.Textures.FilterMode.LINEAR);\n        this.mNavigateBtn.x = width / this.scale - this.mNavigateBtn.width * 0.5 - 5 * this.dpr;\n        this.mNavigateBtn.y = -this.mNavigateBtn.height / 2 + this.mTitleBg.height;\n        this.mNavigateBtn.texture.setFilter(Phaser.Textures.FilterMode.LINEAR);\n        this.mOutputText = new _lib_rexui_lib_plugins_gameobjects_text_bbcodetext_BBCodeText_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this.mScene, 0, 0, \"\", {\n            fontSize: 14 * this.dpr / zoom + \"px\",\n            fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_3__[\"Font\"].DEFULT_FONT,\n            stroke: \"#000000\",\n            strokeThickness: 1 * this.dpr * zoom,\n            textMask: false,\n            shadow: {\n                offsetX: 0,\n                offsetY: 0,\n                color: \"#000\",\n                blur: 4,\n                stroke: true,\n                fill: true\n            },\n            wrap: {\n                mode: \"char\",\n                width: width - 12 * this.dpr * zoom\n            }\n        });\n        var background = this.scene.make.graphics(undefined, false);\n        this.mTextArea = new _lib_rexui_lib_ui_textarea_TextArea__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.mScene, {\n            x: width / 2 + 4 * this.dpr * zoom,\n            y: 160 * this.dpr * zoom,\n            // background: (<any>this.scene).rexUI.add.roundRectangle(0, 0, 2, 2, 0, 0xFF9900, 0.2),\n            textWidth: width - 4 * this.dpr * zoom,\n            textHeight: this.MAX_HEIGHT,\n            text: this.mOutputText,\n        })\n            .layout();\n        this.mTileContainer.add([\n            this.mTitleBg,\n            this.mChatBtn,\n            this.mHornBtn,\n            this.mEmojiBtn,\n            this.mScrollBtn,\n            this.mNavigateBtn\n        ]);\n        this.add([\n            this.mBackground,\n            this.mTileContainer,\n            this.mTextArea,\n            this.mOutputText,\n            background,\n        ]);\n        this.mTextArea.setSliderEnable(false);\n        // this.mTextArea.childrenMap.child.disableInteractive();\n        this.resize(this.width, 400);\n        _super.prototype.init.call(this);\n        this.removeInteractive();\n        // this.addActionListener();\n        // this.appendChat(\"[color=yellow][/color]\\n\");\n        // this.appendChat(\"[color=yellow][/color]\\n\");\n        // this.appendChat(\"[color=#ffffff][]Lv1[/color]\\n\");\n        // this.appendChat(\"[color=#66ffff][]44h[/color]\\n\");\n        // this.appendChat(\"[color=#ffff00]6[/color]\\n\");\n    };\n    PicaChatPanel.prototype.onDragHandler = function (pointer, dragX, dragY) {\n        var height = this.height + (pointer.prevPosition.y - pointer.position.y);\n        if (height > this.MAX_HEIGHT || height < this.MIN_HEIGHT) {\n            return;\n        }\n        this.resize(this.width, height);\n    };\n    PicaChatPanel.prototype.onShowNavigateHandler = function () {\n        this.emit(\"showNavigate\");\n    };\n    PicaChatPanel.prototype.onShowInputHanldler = function () {\n        // new InputPanel(this.scene);\n        if (this.mInputText) {\n            return;\n        }\n        this.mInputText = new _components_input_panel__WEBPACK_IMPORTED_MODULE_4__[\"InputPanel\"](this.scene, this.mWorld);\n        this.mInputText.once(\"close\", this.sendChat, this);\n    };\n    PicaChatPanel.prototype.sendChat = function (val) {\n        this.mInputText = undefined;\n        if (!val) {\n            return;\n        }\n        this.emit(\"chat\", val);\n    };\n    PicaChatPanel.prototype.checkUpdateActive = function () {\n        var arr = this.mWorld.uiManager.getActiveUIData(\"PicaChat\");\n        if (arr) {\n            for (var _i = 0, arr_1 = arr; _i < arr_1.length; _i++) {\n                var data = arr_1[_i];\n                this.updateUIState(data);\n            }\n        }\n    };\n    return PicaChatPanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicaChat/PicaChatPanel.ts?");

/***/ }),

/***/ "./src/ui/PicaMainUI/PicaMainUI.ts":
/*!*****************************************!*\
  !*** ./src/ui/PicaMainUI/PicaMainUI.ts ***!
  \*****************************************/
/*! exports provided: PicaMainUI */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PicaMainUI\", function() { return PicaMainUI; });\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar PicaMainUI = /** @class */ (function (_super) {\n    __extends(PicaMainUI, _super);\n    function PicaMainUI(world) {\n        var _this = _super.call(this) || this;\n        _this.world = world;\n        _this.mEvent = new Phaser.Events.EventEmitter();\n        _this.register();\n        return _this;\n    }\n    PicaMainUI.prototype.on = function (event, fn, context) {\n        this.mEvent.on(event, fn, context);\n    };\n    PicaMainUI.prototype.off = function (event, fn, context) {\n        this.mEvent.off(event, fn, context);\n    };\n    PicaMainUI.prototype.register = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.addPacketListener(this);\n            this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_REQ_CLIENT_PKT_PLAYER_INFO, this.onUpdatePlayerInfo);\n            this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_EDIT_MODE_ROOM_INFO, this.onUpdateModeRoomInfo);\n        }\n    };\n    PicaMainUI.prototype.unregister = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.removePacketListener(this);\n        }\n    };\n    PicaMainUI.prototype.destroy = function () {\n        this.unregister();\n    };\n    PicaMainUI.prototype.onUpdatePlayerInfo = function (packet) {\n        this.mEvent.emit(\"updateplayer\", packet.content);\n    };\n    PicaMainUI.prototype.onUpdateModeRoomInfo = function (packet) {\n        this.mEvent.emit(\"updateroom\", packet.content);\n    };\n    Object.defineProperty(PicaMainUI.prototype, \"connection\", {\n        get: function () {\n            if (this.world) {\n                return this.world.connection;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return PicaMainUI;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PacketHandler\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicaMainUI/PicaMainUI.ts?");

/***/ }),

/***/ "./src/ui/PicaMainUI/PicaMainUIMediator.ts":
/*!*************************************************!*\
  !*** ./src/ui/PicaMainUI/PicaMainUIMediator.ts ***!
  \*************************************************/
/*! exports provided: PicaMainUIMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PicaMainUIMediator\", function() { return PicaMainUIMediator; });\n/* harmony import */ var _PicaMainUIPanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PicaMainUIPanel */ \"./src/ui/PicaMainUI/PicaMainUIPanel.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\n/* harmony import */ var _PicaMainUI__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PicaMainUI */ \"./src/ui/PicaMainUI/PicaMainUI.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar PicaMainUIMediator = /** @class */ (function (_super) {\n    __extends(PicaMainUIMediator, _super);\n    function PicaMainUIMediator(layerManager, scene, worldService) {\n        var _this = _super.call(this) || this;\n        _this.layerManager = layerManager;\n        _this.scene = scene;\n        _this.world = worldService;\n        _this.mainUI = new _PicaMainUI__WEBPACK_IMPORTED_MODULE_2__[\"PicaMainUI\"](worldService);\n        _this.mainUI.on(\"updateplayer\", _this.onUpdatePlayerHandler, _this);\n        _this.mainUI.on(\"updateroom\", _this.onUpdateRoomHandler, _this);\n        return _this;\n    }\n    PicaMainUIMediator.prototype.show = function (param) {\n        if (this.mView) {\n            this.update(param);\n            return;\n        }\n        if (!this.mView) {\n            this.mView = new _PicaMainUIPanel__WEBPACK_IMPORTED_MODULE_0__[\"PicaMainUIPanel\"](this.scene, this.world);\n            this.mView.on(\"showPanel\", this.onShowPanelHandler, this);\n            this.mView.on(\"openroompanel\", this.onOpenRoomHandler, this);\n        }\n        this.mView.show(param);\n        this.layerManager.addToUILayer(this.mView);\n    };\n    PicaMainUIMediator.prototype.destroy = function () {\n        if (this.mainUI) {\n            this.mainUI.destroy();\n        }\n        _super.prototype.destroy.call(this);\n    };\n    Object.defineProperty(PicaMainUIMediator.prototype, \"playerInfo\", {\n        get: function () {\n            return this.mPlayerInfo;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(PicaMainUIMediator.prototype, \"roomInfo\", {\n        get: function () {\n            return this.mRoomInfo;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(PicaMainUIMediator.prototype, \"isSelfRoom\", {\n        get: function () {\n            if (!this.playerInfo || !this.roomInfo)\n                return false;\n            var rooms = this.playerInfo.rooms;\n            var curRoomid = this.roomInfo.roomId;\n            for (var _i = 0, rooms_1 = rooms; _i < rooms_1.length; _i++) {\n                var room = rooms_1[_i];\n                if (room.roomId === curRoomid)\n                    return true;\n            }\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    PicaMainUIMediator.prototype.onOpenRoomHandler = function () {\n        if (!this.roomInfo || this.roomInfo.roomType !== \"room\" && this.roomInfo.roomType !== \"store\")\n            return;\n        var uimanager = this.world.uiManager;\n        uimanager.showMed(\"PicHouse\");\n    };\n    PicaMainUIMediator.prototype.onUpdateHandler = function (data) {\n        this.show(data);\n    };\n    PicaMainUIMediator.prototype.onUpdatePlayerHandler = function (content) {\n        this.onUpdateHandler(content);\n        this.mPlayerInfo = content;\n    };\n    PicaMainUIMediator.prototype.onUpdateRoomHandler = function (content) {\n        this.onUpdateHandler(content);\n        this.mRoomInfo = content;\n    };\n    PicaMainUIMediator.prototype.onShowPanelHandler = function (panel, data) {\n        if (!panel || !this.world) {\n            return;\n        }\n        var uiManager = this.world.uiManager;\n        if (data)\n            uiManager.showMed(panel, data);\n        else\n            uiManager.showMed(panel);\n    };\n    PicaMainUIMediator.NAME = \"PicaMainUIMediator\";\n    return PicaMainUIMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_1__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicaMainUI/PicaMainUIMediator.ts?");

/***/ }),

/***/ "./src/ui/PicaMainUI/PicaMainUIPanel.ts":
/*!**********************************************!*\
  !*** ./src/ui/PicaMainUI/PicaMainUIPanel.ts ***!
  \**********************************************/
/*! exports provided: PicaMainUIPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PicaMainUIPanel\", function() { return PicaMainUIPanel; });\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\n/* harmony import */ var _components_nine_patch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/nine.patch */ \"./src/ui/components/nine.patch.ts\");\n/* harmony import */ var _utils_log__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/log */ \"./src/utils/log.ts\");\n/* harmony import */ var _tips_TextToolTip__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../tips/TextToolTip */ \"./src/ui/tips/TextToolTip.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar PicaMainUIPanel = /** @class */ (function (_super) {\n    __extends(PicaMainUIPanel, _super);\n    function PicaMainUIPanel(scene, worldService) {\n        var _this = _super.call(this, scene, worldService) || this;\n        _this.key = \"main_ui\";\n        _this.isSceneNameActive = false;\n        return _this;\n    }\n    PicaMainUIPanel.prototype.show = function (param) {\n        _super.prototype.show.call(this, param);\n        if (this.mInitialized) {\n            this.setInteractive();\n            this.update(param);\n            this.checkUpdateActive();\n        }\n    };\n    PicaMainUIPanel.prototype.resize = function (w, h) {\n        var width = this.scene.cameras.main.width / this.scale;\n        var height = this.scene.cameras.main.height / this.scale;\n        _super.prototype.resize.call(this, width, height);\n        this.mCoinValue.x = width - this.mCoinValue.width / 2 - 5 * this.dpr;\n        this.mDiamondValue.x = width - this.mDiamondValue.width / 2 - 5 * this.dpr;\n    };\n    PicaMainUIPanel.prototype.preload = function () {\n        this.addAtlas(this.key, \"main_ui/main_ui.png\", \"main_ui/main_ui.json\");\n        _super.prototype.preload.call(this);\n    };\n    PicaMainUIPanel.prototype.addListen = function () {\n        if (!this.mInitialized)\n            return;\n        if (!this.mSceneName) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_3__[\"Logger\"].getInstance().fatal(PicaMainUIPanel.name + \": sceneName does not exist!\");\n            return;\n        }\n        this.mSceneName.on(\"pointerup\", this.onOpenRoomPanel, this);\n    };\n    PicaMainUIPanel.prototype.removeListen = function () {\n        if (!this.mInitialized)\n            return;\n        if (!this.mSceneName) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_3__[\"Logger\"].getInstance().fatal(PicaMainUIPanel.name + \": sceneName does not exist!\");\n            return;\n        }\n        this.mSceneName.off(\"pointerup\", this.onOpenRoomPanel, this);\n    };\n    PicaMainUIPanel.prototype.update = function (param) {\n        Object.assign(this.mShowData, param);\n        _super.prototype.update.call(this, this.mShowData);\n        if (!param) {\n            return;\n        }\n        if (!this.mInitialized) {\n            return;\n        }\n        if (param.hasOwnProperty(\"level\")) {\n            var level = param.level;\n            var curExp = (level.currentLevelExp === undefined ? 0 : level.currentLevelExp);\n            this.mExpProgress.setLv(level.level, curExp / level.nextLevelExp);\n        }\n        if (param.hasOwnProperty(\"coin\"))\n            this.mCoinValue.setText(param.coin.toString());\n        if (param.hasOwnProperty(\"diamond\"))\n            this.mDiamondValue.setText(param.diamond.toString());\n        if (param.hasOwnProperty(\"energy\")) {\n            var energy = param.energy;\n            if (energy) {\n                this.mStrengthValue.setValue(energy.currentValue, energy.max);\n            }\n            else {\n                this.mStrengthValue.setValue(0, 100);\n            }\n        }\n        if (param.hasOwnProperty(\"name\")) {\n            this.mSceneName.setText(param.name);\n            var bound = this.mSceneName.getBounds();\n            this.mSceneName.setSize(bound.width, bound.height);\n            this.mSceneName.setInteractive(new Phaser.Geom.Rectangle(this.mSceneName.width / 2, 0, this.mSceneName.width, this.mSceneName.height), Phaser.Geom.Rectangle.Contains);\n            this.isSceneNameActive = true;\n        }\n        if (param.hasOwnProperty(\"ownerName\")) {\n            this.mSceneType.setText(param.ownerName);\n        }\n        if (param.hasOwnProperty(\"playerCount\")) {\n            // TODO \n            this.mCounter.setText(param.playerCount + \"\\u4EBA\");\n        }\n    };\n    PicaMainUIPanel.prototype.updateUIState = function (active) {\n        if (!this.mInitialized) {\n            return;\n        }\n        if (active.name === \"mainui.playerinfo\") {\n            this.playerCon.visible = active.visible;\n        }\n        if (active.name === \"mainui.roominfo\") {\n            this.roomCon.visible = active.visible;\n        }\n        if (active.name === \"mainui.headbtn\") {\n            // this.playerIcon.visible = active.visible;\n            if (!active.disabled) {\n                this.playerIcon.setInteractive();\n            }\n            else {\n                this.playerIcon.removeInteractive();\n            }\n        }\n        if (active.name === \"mainui.entereditorbtn\") {\n            this.mSceneName.visible = active.visible;\n            if (this.isSceneNameActive) {\n                if (!active.disabled) {\n                    this.mSceneName.setInteractive(new Phaser.Geom.Rectangle(this.mSceneName.width / 2, 0, this.mSceneName.width, this.mSceneName.height), Phaser.Geom.Rectangle.Contains);\n                }\n                else {\n                    this.mSceneName.removeInteractive();\n                }\n            }\n        }\n    };\n    PicaMainUIPanel.prototype.init = function () {\n        var w = this.scene.cameras.main.width;\n        var h = this.scene.cameras.main.height;\n        this.playerCon = this.scene.make.container(undefined, false);\n        this.add(this.playerCon);\n        this.mCoinValue = new ValueContainer(this.scene, this.key, \"coin\", this.dpr);\n        this.mCoinValue.y = 28 * this.dpr;\n        this.mDiamondValue = new ValueContainer(this.scene, this.key, \"diamond\", this.dpr);\n        this.mDiamondValue.y = 68 * this.dpr;\n        var frame = this.scene.textures.getFrame(this.key, \"strength_progress\");\n        this.mStrengthValue = new ProgressValue(this.scene, this.key, \"strength_icon\", this.dpr);\n        this.mStrengthValue.x = 78 * this.dpr;\n        this.mStrengthValue.y = 27 * this.dpr;\n        var ninePatch = new _components_nine_patch__WEBPACK_IMPORTED_MODULE_2__[\"NinePatch\"](this.scene, 60 * this.dpr / 2, this.mStrengthValue.height / 2 - frame.height - 1 * this.dpr, 62 * this.dpr, frame.height, this.key, \"strength_progress\", {\n            left: 8 * this.dpr,\n            top: 3 * this.dpr,\n            right: frame.width - 2 - 8 * this.dpr,\n            bottom: frame.height - 1 - 3 * this.dpr\n        });\n        this.mStrengthValue.setProgress(ninePatch, this.scale);\n        this.playerIcon = this.scene.make.image({ key: this.key, frame: \"head\" });\n        this.playerIcon.x = -this.mStrengthValue.width * 0.5 - 18 * this.dpr;\n        this.mStrengthValue.add(this.playerIcon);\n        this.playerIcon.on(\"pointerup\", this.onHeadHandler, this);\n        this.playerIcon.setInteractive();\n        this.mStrengthValue.setValue(1000, 1000);\n        this.mStrengthValue.setInteractive();\n        this.mStrengthValue.on(\"pointerup\", this.onStrengthHandler, this);\n        this.mExpProgress = new ExpProgress(this.scene, this.key, this.dpr, this.scale, this.mWorld);\n        this.playerCon.add([this.mExpProgress, this.mStrengthValue, this.mCoinValue, this.mDiamondValue]);\n        this.roomCon = this.scene.make.container(undefined, false);\n        this.add(this.roomCon);\n        this.mSceneName = new SceneName(this.scene, this.key, \"room_icon\", \"setting_icon\", this.dpr);\n        this.mSceneName.setText(\"\");\n        this.mSceneName.x = 15 * this.dpr;\n        this.mSceneName.y = 55 * this.dpr;\n        this.mSceneType = new IconText(this.scene, this.key, \"star_icon\", this.dpr);\n        this.mSceneType.setText(\"\");\n        this.mSceneType.x = 15 * this.dpr;\n        this.mSceneType.y = 80 * this.dpr;\n        this.mSceneType.setColor(\"#FFFF00\");\n        this.mCounter = new IconText(this.scene, this.key, \"counter_icon\", this.dpr);\n        this.mCounter.setText(\"1\");\n        this.mCounter.x = 15 * this.dpr;\n        this.mCounter.y = 105 * this.dpr;\n        this.mCounter.setColor(\"#27f6ff\");\n        this.textToolTip = new _tips_TextToolTip__WEBPACK_IMPORTED_MODULE_4__[\"TextToolTips\"](this.scene, this.key, \"tips_bg\", this.dpr, this.scale);\n        this.textToolTip.setSize(160 * this.dpr, 45).visible = false;\n        this.roomCon.add([this.mSceneName, this.mSceneType, this.mCounter, this.textToolTip]);\n        // frame = this.scene.textures.getFrame(this.key, \"health_progress\");\n        // const healthValue = new ProgressValue(this.scene, this.key, \"health_con\", this.dpr);\n        // healthValue.x = 150 * this.dpr;\n        // healthValue.y = 27 * this.dpr;\n        // const healthNinePatch = new NinePatch(this.scene, 60 * this.dpr / 2, healthValue.height / 2 - frame.height - 1 * this.dpr, 62 * this.dpr, frame.height, this.key, \"health_progress\", {\n        //     left: 8 * this.dpr,\n        //     top: 3 * this.dpr,\n        //     right: frame.width - 2 - 8 * this.dpr,\n        //     bottom: frame.height - 1 - 3 * this.dpr\n        // });\n        // healthValue.setProgress(healthNinePatch, this.scale);\n        // this.add(healthValue);\n        // healthValue.setValue(200, 1000);\n        this.resize(w, h);\n        _super.prototype.init.call(this);\n    };\n    PicaMainUIPanel.prototype.onOpenRoomPanel = function () {\n        this.emit(\"openroompanel\");\n    };\n    PicaMainUIPanel.prototype.onHeadHandler = function () {\n        this.emit(\"showPanel\", \"CharacterInfo\");\n    };\n    PicaMainUIPanel.prototype.onStrengthHandler = function () {\n        var width = this.scaleWidth;\n        var height = this.scaleHeight;\n        var energy = this.showData.energy;\n        var text = \"\" + (energy.currentValue + \"/\" + energy.max + \"\\n\") + \"101\";\n        this.textToolTip.setTextData(text, 3000);\n        this.textToolTip.setPosition(120 * this.dpr, 80 * this.dpr);\n    };\n    PicaMainUIPanel.prototype.checkUpdateActive = function () {\n        var arr = this.mWorld.uiManager.getActiveUIData(\"PicaMainUI\");\n        if (arr) {\n            for (var _i = 0, arr_1 = arr; _i < arr_1.length; _i++) {\n                var data = arr_1[_i];\n                this.updateUIState(data);\n            }\n        }\n    };\n    return PicaMainUIPanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\nvar ValueContainer = /** @class */ (function (_super) {\n    __extends(ValueContainer, _super);\n    function ValueContainer(scene, key, leftIcon, dpr) {\n        if (dpr === void 0) { dpr = 1; }\n        var _this = _super.call(this, scene) || this;\n        _this.init(key, leftIcon, dpr);\n        return _this;\n    }\n    ValueContainer.prototype.setText = function (val) {\n        this.mText.setText(val);\n    };\n    ValueContainer.prototype.init = function (key, leftIcon, dpr) {\n        var bg = this.scene.make.image({\n            key: key,\n            frame: \"price_bg\"\n        }, false);\n        var left = this.scene.make.image({\n            key: key,\n            frame: leftIcon,\n        }, false);\n        this.mText = this.scene.make.text({\n            text: \"0\",\n            width: bg.width,\n            height: bg.height,\n            style: {\n                fontSize: 14 * dpr,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT\n            }\n        }, false).setOrigin(1, 0);\n        this.mText.setStroke(\"#000000\", 1 * dpr);\n        this.mAddBtn = this.scene.make.image({\n            key: key,\n            frame: \"add_btn\"\n        });\n        this.setSize(bg.width, bg.height);\n        left.x = -this.width * this.originX + 10 * dpr;\n        this.mAddBtn.x = this.width * this.originX - this.mAddBtn.width * this.originX;\n        this.mAddBtn.y = (this.height - this.mAddBtn.height) / 2 + 2 * dpr;\n        this.mText.x = this.width / 2 - 30 * dpr;\n        this.mText.y = -(this.height - 12 * dpr) / 2;\n        this.add([bg, left, this.mText, this.mAddBtn]);\n        this.mAddBtn.visible = false;\n    };\n    return ValueContainer;\n}(Phaser.GameObjects.Container));\nvar IconText = /** @class */ (function (_super) {\n    __extends(IconText, _super);\n    function IconText(scene, key, frame, dpr) {\n        if (dpr === void 0) { dpr = 1; }\n        var _this = _super.call(this, scene) || this;\n        var icon = scene.make.image({\n            key: key,\n            frame: frame\n        }, false);\n        _this.mText = scene.make.text({\n            style: {\n                fontSize: 14 * dpr,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT\n            }\n        }, false).setOrigin(0, 0.5);\n        _this.mText.x = icon.width / 2 + 8 * dpr;\n        // this.mText.y = -icon.height / 2;\n        _this.mText.setStroke(\"#000000\", 2 * dpr);\n        _this.add([icon, _this.mText]);\n        return _this;\n    }\n    IconText.prototype.setText = function (val) {\n        this.mText.setText(val);\n    };\n    IconText.prototype.setStroke = function (color, thickness) {\n        this.mText.setStroke(color, thickness);\n    };\n    IconText.prototype.setColor = function (color) {\n        this.mText.setColor(color);\n    };\n    return IconText;\n}(Phaser.GameObjects.Container));\nvar SceneName = /** @class */ (function (_super) {\n    __extends(SceneName, _super);\n    function SceneName(scene, key, leftFrame, rightFrame, dpr) {\n        if (dpr === void 0) { dpr = 1; }\n        var _this = _super.call(this, scene, key, leftFrame, dpr) || this;\n        _this.mDpr = dpr;\n        _this.mRightIcon = scene.make.image({\n            y: 2 * dpr,\n            key: key,\n            frame: rightFrame\n        }, false);\n        _this.add(_this.mRightIcon);\n        _this.mRightIcon.y = -1 * dpr;\n        return _this;\n    }\n    SceneName.prototype.setText = function (val) {\n        _super.prototype.setText.call(this, val);\n        this.mRightIcon.x = this.mText.x + this.mText.width + this.mRightIcon.width / 2 + 2 * this.mDpr;\n    };\n    return SceneName;\n}(IconText));\nvar ExpProgress = /** @class */ (function (_super) {\n    __extends(ExpProgress, _super);\n    function ExpProgress(scene, key, dpr, scale, world) {\n        var _this = _super.call(this, scene) || this;\n        var width = world.getSize().width / scale;\n        var frame = _this.scene.textures.getFrame(key, \"exp_bg\");\n        _this.setSize(width, frame.height);\n        var progressW = _this.width;\n        var progressH = _this.height;\n        _this.mProgressBar = new ProgressBar(scene, dpr);\n        _this.mProgressBar.setSize(_this.width, _this.height);\n        var bg = new _components_nine_patch__WEBPACK_IMPORTED_MODULE_2__[\"NinePatch\"](_this.scene, progressW / 2, progressH / 2, progressW, progressH, key, \"exp_bg\", {\n            left: 8 * dpr,\n            top: 3 * dpr,\n            right: frame.width - 2 - 8 * dpr,\n            bottom: frame.height - 1 - 3 * dpr\n        });\n        _this.mProgressBar.setBackground(bg);\n        frame = _this.scene.textures.getFrame(key, \"exp_progress\");\n        var progres = new _components_nine_patch__WEBPACK_IMPORTED_MODULE_2__[\"NinePatch\"](_this.scene, progressW / 2, progressH / 2, width, frame.height, key, \"exp_progress\", {\n            left: 8 * dpr,\n            top: 3 * dpr,\n            right: frame.width - 2 - 10 * dpr,\n            bottom: frame.height - 1 - 5 * dpr\n        });\n        _this.mProgressBar.setProgress(progres, _this.x, _this.y, scale);\n        _this.mProgressBar.setRatio(0.5);\n        _this.mCurrentLv = scene.make.text({\n            text: \"Lv. 57\",\n            style: {\n                fontSize: 10 * dpr,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT\n            }\n        }, false);\n        _this.mCurrentLv.setStroke(\"#000000\", 1 * dpr);\n        _this.mNextLv = scene.make.text({\n            text: \"Lv. 58\",\n            style: {\n                fontSize: 10 * dpr,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT\n            }\n        }, false).setOrigin(0, 0);\n        _this.mNextLv.setStroke(\"#000000\", 1 * dpr);\n        _this.mNextLv.x = _this.width - _this.mNextLv.width;\n        _this.add([_this.mProgressBar, _this.mCurrentLv, _this.mNextLv]);\n        return _this;\n    }\n    ExpProgress.prototype.setLv = function (val, ratio) {\n        this.mCurrentLv.setText(val.toString());\n        this.mNextLv.setText((val + 1).toString());\n        this.mNextLv.x = this.width - this.mNextLv.width;\n        this.mProgressBar.setRatio(ratio);\n    };\n    return ExpProgress;\n}(Phaser.GameObjects.Container));\nvar ProgressValue = /** @class */ (function (_super) {\n    __extends(ProgressValue, _super);\n    function ProgressValue(scene, key, leftIcon, dpr) {\n        return _super.call(this, scene, key, leftIcon, dpr) || this;\n    }\n    ProgressValue.prototype.setProgress = function (progres, scale) {\n        this.mProgress.setProgress(progres, this.x + this.mProgress.x, this.y + this.mProgress.y, scale);\n    };\n    ProgressValue.prototype.setValue = function (val, maxValue) {\n        if (this.mText) {\n            this.mText.text = val.toString();\n            this.mProgress.setRatio(val / maxValue);\n        }\n    };\n    ProgressValue.prototype.setInteractive = function (shape) {\n        shape = shape || new Phaser.Geom.Rectangle(0, 0, this.width, this.height);\n        _super.prototype.setInteractive.call(this, shape, Phaser.Geom.Rectangle.Contains);\n        return this;\n    };\n    ProgressValue.prototype.init = function (key, leftIcon, dpr) {\n        var bg = this.scene.make.image({\n            key: key,\n            frame: \"strength_bg\"\n        }, false);\n        this.setSize(bg.width, bg.height);\n        var left = this.scene.make.image({\n            key: key,\n            frame: leftIcon,\n        }, false);\n        this.mProgress = new ProgressBar(this.scene, dpr);\n        this.mProgress.x = -this.width / 2 + 10 * dpr;\n        this.mProgress.y = 4 * dpr;\n        this.mText = this.scene.make.text({\n            text: \"0\",\n            width: bg.width,\n            height: bg.height,\n            style: {\n                fontSize: 10 * dpr,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT\n            }\n        }, false).setOrigin(0.5);\n        this.mText.setStroke(\"#000000\", 1 * dpr);\n        this.mAddBtn = this.scene.make.image({\n            key: key,\n            frame: \"add_btn\"\n        });\n        this.setSize(bg.width, bg.height);\n        left.x = -this.width * this.originX + 10 * dpr;\n        this.mAddBtn.x = this.width * this.originX - 10 * dpr;\n        this.mAddBtn.y = 6 * dpr;\n        // this.mText.x = this.width / 2\n        this.mText.y = (this.height - this.mText.height) / 2;\n        this.add([bg, this.mProgress, left, this.mText, this.mAddBtn]);\n        this.mAddBtn.visible = false;\n    };\n    return ProgressValue;\n}(ValueContainer));\nvar ProgressBar = /** @class */ (function (_super) {\n    __extends(ProgressBar, _super);\n    function ProgressBar(scene, dpr) {\n        var _this = _super.call(this, scene) || this;\n        _this.offsetX = 0;\n        _this.offsetY = 0;\n        _this.dpr = dpr;\n        return _this;\n    }\n    ProgressBar.prototype.setBackground = function (bg) {\n        this.addAt(bg, 0);\n    };\n    ProgressBar.prototype.setProgress = function (progress, offsetX, offsetY, scale) {\n        this.offsetX = offsetX;\n        this.offsetY = offsetY;\n        this.mScale = scale;\n        this.mProgress = progress;\n        this.setSize(progress.width * this.mScale, progress.height * this.mScale);\n        this.mMaskGraphics = this.scene.make.graphics(undefined, false);\n        this.mMaskGraphics.fillStyle(0xFF9900);\n        this.mMaskGraphics.fillRoundedRect(0, progress.y * this.mScale - progress.height * this.mScale / 2, this.width, progress.height, 10);\n        this.add(this.mProgress);\n        this.mProgress.mask = new Phaser.Display.Masks.GeometryMask(this.scene, this.mMaskGraphics);\n        this.mMaskGraphics.x = offsetX * scale;\n        this.mMaskGraphics.y = offsetY * scale;\n    };\n    ProgressBar.prototype.setRatio = function (ratio) {\n        if (!this.mMaskGraphics) {\n            return;\n        }\n        this.mMaskGraphics.x = ((this.width * ratio) - this.width + this.offsetX);\n        // setInterval(() => {\n        //     this.mMaskGraphics.x += 1 * this.dpr;\n        // }, 100);\n    };\n    return ProgressBar;\n}(Phaser.GameObjects.Container));\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicaMainUI/PicaMainUIPanel.ts?");

/***/ }),

/***/ "./src/ui/PicaMessageBox/PicaMessageBoxMediator.ts":
/*!*********************************************************!*\
  !*** ./src/ui/PicaMessageBox/PicaMessageBoxMediator.ts ***!
  \*********************************************************/
/*! exports provided: PicaMessageBoxMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PicaMessageBoxMediator\", function() { return PicaMessageBoxMediator; });\n/* harmony import */ var _PicaMessageBoxPanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PicaMessageBoxPanel */ \"./src/ui/PicaMessageBox/PicaMessageBoxPanel.ts\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar PicaMessageBoxMediator = /** @class */ (function (_super) {\n    __extends(PicaMessageBoxMediator, _super);\n    function PicaMessageBoxMediator(layerManager, scene, worldService) {\n        var _this = _super.call(this) || this;\n        _this.layerManager = layerManager;\n        _this.world = worldService;\n        _this.scene = _this.layerManager.scene;\n        return _this;\n    }\n    PicaMessageBoxMediator.prototype.show = function (params) {\n        this.mParam = params;\n        if ((this.mView && this.mView.isShow()) || this.mShow) {\n            return;\n        }\n        if (!this.mView) {\n            this.mView = new _PicaMessageBoxPanel__WEBPACK_IMPORTED_MODULE_0__[\"PicaMessageBoxPanel\"](this.scene, this.world);\n            this.mView.on(\"click\", this.onClickHandler, this);\n        }\n        this.mView.show(params);\n        this.layerManager.addToDialogLayer(this.mView);\n    };\n    PicaMessageBoxMediator.prototype.hide = function () {\n        _super.prototype.hide.call(this);\n        _super.prototype.destroy.call(this);\n    };\n    PicaMessageBoxMediator.prototype.onClickHandler = function (data) {\n        if (data.local) {\n            if (data.clickhandler)\n                data.clickhandler.run();\n            this.hide();\n        }\n        else {\n            var param = this.mParam[0];\n            var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_2__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_TARGET_UI);\n            var content = pkt.content;\n            content.uiId = param.id;\n            content.componentId = data.node.id;\n            this.world.connection.send(pkt);\n        }\n    };\n    return PicaMessageBoxMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_3__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicaMessageBox/PicaMessageBoxMediator.ts?");

/***/ }),

/***/ "./src/ui/PicaMessageBox/PicaMessageBoxPanel.ts":
/*!******************************************************!*\
  !*** ./src/ui/PicaMessageBox/PicaMessageBoxPanel.ts ***!
  \******************************************************/
/*! exports provided: PicaMessageBoxPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PicaMessageBoxPanel\", function() { return PicaMessageBoxPanel; });\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _components_nine_patch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/nine.patch */ \"./src/ui/components/nine.patch.ts\");\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\n/* harmony import */ var _components_ninepatch_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/ninepatch.button */ \"./src/ui/components/ninepatch.button.ts\");\n/* harmony import */ var _lib_rexui_lib_plugins_gameobjects_text_bbcodetext_BBCodeText_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../lib/rexui/lib/plugins/gameobjects/text/bbcodetext/BBCodeText.js */ \"./lib/rexui/lib/plugins/gameobjects/text/bbcodetext/BBCodeText.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar PicaMessageBoxPanel = /** @class */ (function (_super) {\n    __extends(PicaMessageBoxPanel, _super);\n    function PicaMessageBoxPanel(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.key = \"pica_message_box\";\n        return _this;\n        // this.disInteractive();\n    }\n    PicaMessageBoxPanel.prototype.show = function (param) {\n        _super.prototype.show.call(this, param);\n        if (!this.mInitialized) {\n            return;\n        }\n        var data = param[0];\n        this.mButtons = [];\n        if (data) {\n            if (data.text && data.text[0]) {\n                this.mText.setText(data.text[0].text);\n                this.mText.x = -this.mText.width / 2;\n                this.mText.y = -this.mText.height;\n            }\n            if (data.title) {\n                this.mTitleLabel.setText(data.title.text);\n            }\n        }\n        var buttons = data.button;\n        if (buttons) {\n            var btnWid = 114 * this.dpr;\n            var btnHei = 40 * this.dpr;\n            var w = (this.width - 42 * this.dpr) / buttons.length;\n            // const mButtonsContainer = this.mScene.make.container(undefined, false);\n            this.mButtonContaier.y = this.height / 2 - btnHei;\n            var frame = this.scene.textures.getFrame(this.key, \"yellow_btn_normal\");\n            if (!frame) {\n                return;\n            }\n            var config = {\n                left: 13 * this.dpr,\n                top: 13 * this.dpr,\n                bottom: frame.width - 2 - 13 * this.dpr,\n                right: frame.height - 2 - 13 * this.dpr\n            };\n            var totalW = 0;\n            for (var i = 0; i < buttons.length; i++) {\n                var txt = buttons[i] ? buttons[i].text : \"\";\n                var btn = new _components_ninepatch_button__WEBPACK_IMPORTED_MODULE_3__[\"NinePatchButton\"](this.mScene, 0, 0, btnWid, btnHei, this.key, i === 0 ? \"yellow_btn\" : \"red_btn\", buttons[i].text, config, buttons[i]);\n                btn.setTextStyle({\n                    fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_2__[\"Font\"].DEFULT_FONT,\n                    fontSize: 16 * this.dpr\n                });\n                btn.x = i * w + btnWid / 2;\n                totalW += i * w + btnWid / 2;\n                this.mButtons.push(btn);\n                btn.on(\"click\", this.onClickHandler, this);\n            }\n            this.mButtonContaier.add(this.mButtons);\n            // btnSp.setSize((buttons.length - 1) * w + btnWid, btnHei);\n            this.mButtonContaier.x = -totalW / 2;\n        }\n        this.resize(0, 0);\n    };\n    PicaMessageBoxPanel.prototype.resize = function (w, h) {\n        var width = this.scene.cameras.main.width;\n        var height = this.scene.cameras.main.height;\n        this.x = width / 2;\n        this.y = height / 2;\n        _super.prototype.resize.call(this, w, h);\n    };\n    PicaMessageBoxPanel.prototype.preload = function () {\n        this.addAtlas(this.key, \"pica_message_box/pica_message_box.png\", \"pica_message_box/pica_message_box.json\");\n        _super.prototype.preload.call(this);\n    };\n    PicaMessageBoxPanel.prototype.init = function () {\n        var _a = this.scene.cameras.main, width = _a.width, height = _a.height;\n        var border = this.scene.make.graphics(undefined, false);\n        border.fillStyle(0, 0.6);\n        border.fillRect(-width * 0.5, -height * 0.5, width, height);\n        border.setInteractive(new Phaser.Geom.Rectangle(0, 0, width, height), Phaser.Geom.Rectangle.Contains);\n        this.add(border);\n        var frame = this.scene.textures.getFrame(this.key, \"bg\");\n        var background = new _components_nine_patch__WEBPACK_IMPORTED_MODULE_1__[\"NinePatch\"](this.scene, 0, 0, 286 * this.dpr, frame.height, this.key, \"bg\", {\n            left: 22 * this.dpr,\n            top: frame.height,\n            right: 22 * this.dpr,\n            bottom: 0\n        });\n        this.setSize(background.width, background.height);\n        this.mButtonContaier = this.scene.make.container(undefined, false);\n        var title = this.scene.make.image({\n            y: -background.height / 2,\n            key: this.key,\n            frame: \"title\"\n        });\n        this.mTitleLabel = this.scene.make.text({\n            y: title.y - 6 * this.dpr,\n            style: {\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_2__[\"Font\"].DEFULT_FONT,\n                fontSize: 16 * this.dpr,\n                color: \"#3366cc\"\n            }\n        }, false).setOrigin(0.5);\n        this.mText = new _lib_rexui_lib_plugins_gameobjects_text_bbcodetext_BBCodeText_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"](this.mScene, 0, 0, \"\", {\n            fontSize: 14 * this.dpr + \"px\",\n            fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_2__[\"Font\"].DEFULT_FONT,\n            color: \"#000000\",\n            origin: { x: 0.5, y: 0.5 },\n            wrap: {\n                mode: \"char\",\n                width: this.width\n            },\n            align: \"center\"\n        });\n        // this.mText.x = -this.mWidth / 2 + 10;\n        // this.mText.y = -this.mHeight / 2 + 10;\n        this.add([background, title, this.mTitleLabel, this.mText, this.mButtonContaier]);\n        _super.prototype.init.call(this);\n        this.resize(width, height);\n        this.setInteractive(new Phaser.Geom.Rectangle(0, 0, width, height), Phaser.Geom.Rectangle.Contains);\n    };\n    PicaMessageBoxPanel.prototype.onClickHandler = function (pointer, gameobject) {\n        if (!gameobject) {\n            return;\n        }\n        var btn = gameobject.getBtnData();\n        if (!btn) {\n            return;\n        }\n        this.emit(\"click\", btn);\n    };\n    return PicaMessageBoxPanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicaMessageBox/PicaMessageBoxPanel.ts?");

/***/ }),

/***/ "./src/ui/PicaNavigate/PicaNavigate.ts":
/*!*********************************************!*\
  !*** ./src/ui/PicaNavigate/PicaNavigate.ts ***!
  \*********************************************/
/*! exports provided: PicaNavigate */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PicaNavigate\", function() { return PicaNavigate; });\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar PicaNavigate = /** @class */ (function (_super) {\n    __extends(PicaNavigate, _super);\n    function PicaNavigate($world) {\n        var _this = _super.call(this) || this;\n        _this.world = $world;\n        _this.mEvent = new Phaser.Events.EventEmitter();\n        return _this;\n    }\n    PicaNavigate.prototype.register = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.addPacketListener(this);\n        }\n    };\n    PicaNavigate.prototype.unregister = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.removePacketListener(this);\n        }\n    };\n    PicaNavigate.prototype.on = function (event, fn, context) {\n        this.mEvent.on(event, fn, context);\n    };\n    PicaNavigate.prototype.off = function (event, fn, context) {\n        this.mEvent.off(event, fn, context);\n    };\n    PicaNavigate.prototype.destroy = function () {\n        this.unregister();\n        this.mEvent.destroy();\n    };\n    PicaNavigate.prototype.queryGOHomeHandler = function () {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_PKT_GO_HOME);\n        this.connection.send(packet);\n    };\n    Object.defineProperty(PicaNavigate.prototype, \"connection\", {\n        get: function () {\n            if (this.world) {\n                return this.world.connection;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return PicaNavigate;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PacketHandler\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicaNavigate/PicaNavigate.ts?");

/***/ }),

/***/ "./src/ui/PicaNavigate/PicaNavigateMediator.ts":
/*!*****************************************************!*\
  !*** ./src/ui/PicaNavigate/PicaNavigateMediator.ts ***!
  \*****************************************************/
/*! exports provided: PicaNavigateMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PicaNavigateMediator\", function() { return PicaNavigateMediator; });\n/* harmony import */ var _PicaNavigatePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PicaNavigatePanel */ \"./src/ui/PicaNavigate/PicaNavigatePanel.ts\");\n/* harmony import */ var _PicaChat_PicaChatMediator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../PicaChat/PicaChatMediator */ \"./src/ui/PicaChat/PicaChatMediator.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\n/* harmony import */ var _PicaNavigate__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./PicaNavigate */ \"./src/ui/PicaNavigate/PicaNavigate.ts\");\n/* harmony import */ var _PicHandheld_PicHandheldMediator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../PicHandheld/PicHandheldMediator */ \"./src/ui/PicHandheld/PicHandheldMediator.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar PicaNavigateMediator = /** @class */ (function (_super) {\n    __extends(PicaNavigateMediator, _super);\n    function PicaNavigateMediator(layerManager, scene, worldService) {\n        var _this = _super.call(this) || this;\n        _this.layerManager = layerManager;\n        _this.world = worldService;\n        _this.scene = _this.layerManager.scene;\n        return _this;\n    }\n    PicaNavigateMediator.prototype.show = function () {\n        if ((this.mView && this.mView.isShow()) || this.mShow) {\n            this.mView.show();\n            this.layerManager.addToUILayer(this.mView);\n            return;\n        }\n        if (!this.mView) {\n            this.mView = new _PicaNavigatePanel__WEBPACK_IMPORTED_MODULE_0__[\"PicaNavigatePanel\"](this.scene, this.world);\n            this.mView.on(\"showPanel\", this.onShowPanelHandler, this);\n            this.mView.on(\"close\", this.onCloseHandler, this);\n            this.mView.on(\"goHome\", this.onGomeHomeHandler, this);\n        }\n        if (!this.picaNa) {\n            this.picaNa = new _PicaNavigate__WEBPACK_IMPORTED_MODULE_3__[\"PicaNavigate\"](this.world);\n        }\n        this.mView.show();\n        this.layerManager.addToUILayer(this.mView);\n    };\n    PicaNavigateMediator.prototype.isSceneUI = function () {\n        return false;\n    };\n    PicaNavigateMediator.prototype.destroy = function () {\n        if (this.picaNa) {\n            this.picaNa.destroy();\n            this.picaNa = undefined;\n        }\n        _super.prototype.destroy.call(this);\n    };\n    PicaNavigateMediator.prototype.onCloseHandler = function () {\n        if (!this.world) {\n            return;\n        }\n        var uiManager = this.world.uiManager;\n        uiManager.showExistMed(_PicaChat_PicaChatMediator__WEBPACK_IMPORTED_MODULE_1__[\"PicaChatMediator\"].name, \"\");\n        uiManager.showExistMed(_PicHandheld_PicHandheldMediator__WEBPACK_IMPORTED_MODULE_4__[\"PicHandheldMediator\"].name, \"\");\n        this.destroy();\n    };\n    PicaNavigateMediator.prototype.onShowPanelHandler = function (panel, data) {\n        if (!panel || !this.world) {\n            return;\n        }\n        var uiManager = this.world.uiManager;\n        if (data)\n            uiManager.showMed(panel, data);\n        else\n            uiManager.showMed(panel);\n    };\n    PicaNavigateMediator.prototype.onGomeHomeHandler = function () {\n        this.picaNa.queryGOHomeHandler();\n    };\n    PicaNavigateMediator.NAME = \"PicaNavigateMediator\";\n    return PicaNavigateMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_2__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicaNavigate/PicaNavigateMediator.ts?");

/***/ }),

/***/ "./src/ui/PicaNavigate/PicaNavigatePanel.ts":
/*!**************************************************!*\
  !*** ./src/ui/PicaNavigate/PicaNavigatePanel.ts ***!
  \**************************************************/
/*! exports provided: PicaNavigatePanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PicaNavigatePanel\", function() { return PicaNavigatePanel; });\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/interface/baseUI/UIType */ \"./lib/rexui/lib/ui/interface/baseUI/UIType.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar PicaNavigatePanel = /** @class */ (function (_super) {\n    __extends(PicaNavigatePanel, _super);\n    function PicaNavigatePanel(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.key = \"pica_navigate\";\n        _this.UIType = _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_1__[\"UIType\"].Scene;\n        _this.setTween(false);\n        _this.setInteractive();\n        return _this;\n    }\n    PicaNavigatePanel.prototype.resize = function (w, h) {\n        this.setSize(w, h);\n        var zoom = this.scale;\n        var width = this.scene.cameras.main.width / zoom;\n        var height = this.scene.cameras.main.height;\n        var frame = this.scene.textures.getFrame(this.key, \"bg\");\n        var scaleRatio = width / frame.width * this.dpr;\n        this.mBackground.scaleX = scaleRatio;\n        this.mBackground.x = width / 2;\n        this.mBackground.setInteractive();\n        this.mCloseBtn.x = width - this.mCloseBtn.width / 2 - 3 * this.dpr;\n        this.y = height - this.height / 2;\n        _super.prototype.resize.call(this, w, h);\n    };\n    PicaNavigatePanel.prototype.addListen = function () {\n        if (!this.mInitialized || !this.interactiveBoo)\n            return;\n        this.mMapBtn.on(\"pointerup\", this.onShowMapHandler, this);\n        this.mShopBtn.on(\"pointerup\", this.onShowShopHandler, this);\n        this.mBagBtn.on(\"pointerup\", this.onShowBagHandler, this);\n        this.mFamilyBtn.on(\"pointerup\", this.onShowFamilyHandler, this);\n        this.mGoHomeBtn.on(\"pointerup\", this.onShowGoHomeHandler, this);\n        this.mTestBtn.on(\"pointerup\", this.onShowTestHandler, this);\n        this.mCloseBtn.on(\"pointerup\", this.onCloseHandler, this);\n    };\n    PicaNavigatePanel.prototype.removeListen = function () {\n        if (!this.mInitialized)\n            return;\n        this.mMapBtn.off(\"pointerup\", this.onShowMapHandler, this);\n        this.mShopBtn.off(\"pointerup\", this.onShowShopHandler, this);\n        this.mBagBtn.off(\"pointerup\", this.onShowBagHandler, this);\n        this.mFamilyBtn.off(\"pointerup\", this.onShowFamilyHandler, this);\n        this.mGoHomeBtn.on(\"pointerup\", this.onShowGoHomeHandler, this);\n        this.mTestBtn.on(\"pointerup\", this.onShowTestHandler, this);\n        this.mCloseBtn.off(\"pointerup\", this.onCloseHandler, this);\n    };\n    PicaNavigatePanel.prototype.hide = function () {\n        this.mShow = false;\n    };\n    PicaNavigatePanel.prototype.show = function (param) {\n        _super.prototype.show.call(this, param);\n        this.checkUpdateActive();\n    };\n    PicaNavigatePanel.prototype.updateUIState = function (active) {\n        if (!this.mInitialized) {\n            return;\n        }\n        if (active.name === \"picanavigate.mapbtn\") {\n            this.mMapBtn.visible = active.visible;\n            if (!active.disabled)\n                this.mMapBtn.setInteractive();\n            else\n                this.mMapBtn.removeInteractive();\n        }\n        if (active.name === \"picanavigate.marketbtn\") {\n            this.mShopBtn.visible = active.visible;\n            if (!active.disabled)\n                this.mShopBtn.setInteractive();\n            else\n                this.mShopBtn.removeInteractive();\n        }\n        if (active.name === \"picanavigate.bagbtn\") {\n            this.mBagBtn.visible = active.visible;\n            if (!active.disabled)\n                this.mBagBtn.setInteractive();\n            else\n                this.mBagBtn.removeInteractive();\n        }\n        if (active.name === \"picanavigate.gohomebtn\") {\n            this.mGoHomeBtn.visible = active.visible;\n            if (!active.disabled)\n                this.mGoHomeBtn.setInteractive();\n            else\n                this.mGoHomeBtn.removeInteractive();\n        }\n    };\n    PicaNavigatePanel.prototype.preload = function () {\n        this.addAtlas(this.key, \"pica_navigate/pica_navigate.png\", \"pica_navigate/pica_navigate.json\");\n        _super.prototype.preload.call(this);\n    };\n    PicaNavigatePanel.prototype.init = function () {\n        this.mBackground = this.createImage(this.key, \"bg\");\n        this.mBackground.texture.setFilter(Phaser.Textures.FilterMode.LINEAR);\n        this.mMapBtn = this.createImage(this.key, \"map_btn\").setInteractive();\n        this.mShopBtn = this.createImage(this.key, \"shop_btn\").setInteractive();\n        this.mBagBtn = this.createImage(this.key, \"bag_btn\").setInteractive();\n        this.mFamilyBtn = this.createImage(this.key, \"family_btn\").setInteractive();\n        this.mGoHomeBtn = this.createImage(this.key, \"home_btn\").setInteractive();\n        this.mTestBtn = this.createImage(this.key, \"family_btn\").setInteractive();\n        this.mCloseBtn = this.createImage(this.key, \"close_btn\").setInteractive();\n        var list = [this.mMapBtn, this.mMapBtn, this.mShopBtn, this.mBagBtn, this.mGoHomeBtn, this.mTestBtn];\n        this.add([this.mBackground]);\n        this.add(list);\n        this.add(this.mCloseBtn);\n        for (var i = 0; i < list.length; i++) {\n            list[i].x = i * 50 * this.dpr - list[i].width / 2;\n        }\n        var zoom = this.scale;\n        this.resize(this.mBackground.width * zoom, this.mBackground.height * zoom);\n        _super.prototype.init.call(this);\n    };\n    PicaNavigatePanel.prototype.createImage = function (key, frame) {\n        return this.scene.make.image({\n            key: key,\n            frame: frame\n        }, false);\n    };\n    PicaNavigatePanel.prototype.onShowMapHandler = function () {\n        this.emit(\"showPanel\", \"PicaRoomList\");\n    };\n    PicaNavigatePanel.prototype.onShowShopHandler = function () {\n        this.emit(\"showPanel\", \"Market\");\n    };\n    PicaNavigatePanel.prototype.onShowBagHandler = function () {\n        this.emit(\"showPanel\", \"FurniBag\");\n    };\n    PicaNavigatePanel.prototype.onShowFamilyHandler = function () {\n        this.emit(\"showPanel\", \"CharacterInfo\");\n    };\n    PicaNavigatePanel.prototype.onShowGoHomeHandler = function () {\n        this.emit(\"goHome\");\n    };\n    PicaNavigatePanel.prototype.onShowTestHandler = function () {\n        this.emit(\"showPanel\", \"PicBusinessStreet\");\n    };\n    PicaNavigatePanel.prototype.onCloseHandler = function () {\n        this.emit(\"close\");\n    };\n    PicaNavigatePanel.prototype.checkUpdateActive = function () {\n        var arr = this.mWorld.uiManager.getActiveUIData(\"PicHandheld\");\n        if (arr) {\n            for (var _i = 0, arr_1 = arr; _i < arr_1.length; _i++) {\n                var data = arr_1[_i];\n                this.updateUIState(data);\n            }\n        }\n    };\n    return PicaNavigatePanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicaNavigate/PicaNavigatePanel.ts?");

/***/ }),

/***/ "./src/ui/PicaNotice/PicaNoticeMediator.ts":
/*!*************************************************!*\
  !*** ./src/ui/PicaNotice/PicaNoticeMediator.ts ***!
  \*************************************************/
/*! exports provided: PicaNoticeMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PicaNoticeMediator\", function() { return PicaNoticeMediator; });\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\n/* harmony import */ var _PicaNoticePanel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PicaNoticePanel */ \"./src/ui/PicaNotice/PicaNoticePanel.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar PicaNoticeMediator = /** @class */ (function (_super) {\n    __extends(PicaNoticeMediator, _super);\n    function PicaNoticeMediator(layerManager, scene, world) {\n        var _this = _super.call(this) || this;\n        _this.layerManager = layerManager;\n        _this.scene = scene;\n        _this.panelQueue = [];\n        _this.world = world;\n        return _this;\n    }\n    PicaNoticeMediator.prototype.show = function (param) {\n        var view = new _PicaNoticePanel__WEBPACK_IMPORTED_MODULE_1__[\"PicaNoticePanel\"](this.scene, this.world);\n        view.once(\"close\", this.onCloseHandler, this);\n        if (this.mView) {\n            var obj = { param: param, view: view };\n            this.panelQueue.push(obj);\n        }\n        else {\n            this.mView = view;\n            this.mView.show(param);\n        }\n        // this.layerManager.addToToolTipsLayer(this.mView.view);\n    };\n    PicaNoticeMediator.prototype.onCloseHandler = function () {\n        if (this.mView) {\n            this.mView.destroy();\n            this.mView = undefined;\n        }\n        if (this.panelQueue.length > 0) {\n            var obj = this.panelQueue.shift();\n            obj.view.show(obj.param);\n        }\n    };\n    return PicaNoticeMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_0__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicaNotice/PicaNoticeMediator.ts?");

/***/ }),

/***/ "./src/ui/PicaNotice/PicaNoticePanel.ts":
/*!**********************************************!*\
  !*** ./src/ui/PicaNotice/PicaNoticePanel.ts ***!
  \**********************************************/
/*! exports provided: PicaNoticePanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PicaNoticePanel\", function() { return PicaNoticePanel; });\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _lib_rexui_lib_plugins_gameobjects_text_bbcodetext_BBCodeText_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/rexui/lib/plugins/gameobjects/text/bbcodetext/BBCodeText.js */ \"./lib/rexui/lib/plugins/gameobjects/text/bbcodetext/BBCodeText.js\");\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar PicaNoticePanel = /** @class */ (function (_super) {\n    __extends(PicaNoticePanel, _super);\n    function PicaNoticePanel(scene, world) {\n        return _super.call(this, scene, world) || this;\n    }\n    PicaNoticePanel.prototype.show = function (param) {\n        var _this = this;\n        this.mShowData = param;\n        if (!this.mInitialized) {\n            this.preload();\n            return;\n        }\n        if (param && param.length > 0) {\n            var text = param[0].text;\n            if (this.mContent) {\n                this.mContent.setText(text[0].text);\n            }\n            var width = this.scene.cameras.main.width;\n            // this.view.alpha = 0;\n            this.scene.tweens.timeline({\n                targets: this,\n                duration: 500,\n                tweens: [{\n                        y: \"-=\" + 20 * this.dpr,\n                        ease: \"Bounce.easeOut\",\n                    }, {\n                        delay: 2000,\n                        y: \"-=\" + 20 * this.dpr,\n                        ease: \"Linear\",\n                        alpha: 0\n                    }],\n                onComplete: function () {\n                    _this.emit(\"close\");\n                }\n            });\n        }\n    };\n    PicaNoticePanel.prototype.resize = function () {\n        this.x = this.scene.cameras.main.width / 2;\n        this.y = 170 * this.dpr;\n    };\n    PicaNoticePanel.prototype.preload = function () {\n        this.addImage(\"pica_notice_bg\", \"pica_notice/bg.png\");\n        _super.prototype.preload.call(this);\n    };\n    PicaNoticePanel.prototype.init = function () {\n        var bg = this.scene.make.image({\n            key: \"pica_notice_bg\"\n        }, false);\n        this.mContent = new _lib_rexui_lib_plugins_gameobjects_text_bbcodetext_BBCodeText_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.mScene, 0, 0, \"\", {\n            fontSize: 16 * this.dpr + \"px\",\n            fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_2__[\"Font\"].DEFULT_FONT,\n            stroke: \"#000000\",\n            strokeThickness: 1 * this.dpr,\n            align: \"center\",\n            textMask: false,\n            shadow: {\n                offsetX: 0,\n                offsetY: 0,\n                color: \"#000\",\n                blur: 4,\n                stroke: true,\n                fill: true\n            },\n            wrap: {\n                mode: \"char\",\n                width: bg.width * this.scale - 12 * this.dpr\n            }\n        }).setOrigin(0.5, 0.5);\n        this.mContent.setFontStyle(\"bold\");\n        this.add([bg, this.mContent]);\n        this.mWorld.uiManager.getUILayerManager().addToToolTipsLayer(this);\n        _super.prototype.init.call(this);\n        this.resize();\n    };\n    return PicaNoticePanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicaNotice/PicaNoticePanel.ts?");

/***/ }),

/***/ "./src/ui/PicaRoomList/PicaRoomListMediator.ts":
/*!*****************************************************!*\
  !*** ./src/ui/PicaRoomList/PicaRoomListMediator.ts ***!
  \*****************************************************/
/*! exports provided: PicaRoomListMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PicaRoomListMediator\", function() { return PicaRoomListMediator; });\n/* harmony import */ var _PicaRoomListPanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PicaRoomListPanel */ \"./src/ui/PicaRoomList/PicaRoomListPanel.ts\");\n/* harmony import */ var _RoomList__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RoomList */ \"./src/ui/PicaRoomList/RoomList.ts\");\n/* harmony import */ var _utils_log__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/log */ \"./src/utils/log.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar PicaRoomListMediator = /** @class */ (function (_super) {\n    __extends(PicaRoomListMediator, _super);\n    function PicaRoomListMediator(layerManager, scene, worldService) {\n        var _this = _super.call(this) || this;\n        _this.layerManager = layerManager;\n        _this.world = worldService;\n        _this.scene = _this.layerManager.scene;\n        return _this;\n    }\n    PicaRoomListMediator.prototype.show = function () {\n        if ((this.mView && this.mView.isShow()) || this.mShow) {\n            this.layerManager.addToUILayer(this.mView);\n            return;\n        }\n        this.roomList = new _RoomList__WEBPACK_IMPORTED_MODULE_1__[\"RoomList\"](this.world);\n        this.roomList.register();\n        this.roomList.on(\"myRoomList\", this.updateMyRoomListHandler, this);\n        this.roomList.on(\"roomList\", this.updateRoomListHandler, this);\n        this.roomList.on(\"enterRoomResult\", this.onEnterRoomResuleHandler, this);\n        if (!this.mView) {\n            this.mView = new _PicaRoomListPanel__WEBPACK_IMPORTED_MODULE_0__[\"PicaRoomListPanel\"](this.scene, this.world);\n        }\n        this.mView.on(\"close\", this.onCloseHandler, this);\n        this.mView.on(\"getRoomList\", this.onGetRoomListHandler, this);\n        this.mView.on(\"getMyRoomList\", this.onGetMyRoomListHandler, this);\n        this.mView.on(\"enterRoom\", this.onEnterRoomHandler, this);\n        this.mView.show();\n        this.layerManager.addToUILayer(this.mView);\n    };\n    PicaRoomListMediator.prototype.getView = function () {\n        return this.mView;\n    };\n    PicaRoomListMediator.prototype.destroy = function () {\n        if (this.roomList) {\n            this.roomList.destroy();\n        }\n        if (this.mView) {\n            this.mView.destroy();\n            this.mView = undefined;\n        }\n        _super.prototype.destroy.call(this);\n    };\n    PicaRoomListMediator.prototype.onCloseHandler = function () {\n        this.destroy();\n    };\n    PicaRoomListMediator.prototype.updateRoomListHandler = function (content) {\n        if (!this.mView) {\n            return;\n        }\n        this.mView.updateRoomList(content);\n    };\n    PicaRoomListMediator.prototype.updateMyRoomListHandler = function (content) {\n        if (!this.mView) {\n            return;\n        }\n        this.mView.updateMyRoomList(content);\n    };\n    PicaRoomListMediator.prototype.onEnterRoomResuleHandler = function (content) {\n        _utils_log__WEBPACK_IMPORTED_MODULE_2__[\"Logger\"].getInstance().log(\"enter room result:\", content);\n    };\n    PicaRoomListMediator.prototype.onGetRoomListHandler = function () {\n        if (!this.roomList) {\n            return;\n        }\n        this.roomList.sendGetRoomList();\n    };\n    PicaRoomListMediator.prototype.onGetMyRoomListHandler = function () {\n        if (!this.roomList) {\n            return;\n        }\n        this.roomList.sendMyHistory();\n    };\n    PicaRoomListMediator.prototype.onEnterRoomHandler = function (roomID, passworld) {\n        if (!this.roomList) {\n            return;\n        }\n        this.roomList.sendEnterRoom(roomID, passworld);\n        // this.onCloseHandler();\n    };\n    return PicaRoomListMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_3__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicaRoomList/PicaRoomListMediator.ts?");

/***/ }),

/***/ "./src/ui/PicaRoomList/PicaRoomListPanel.ts":
/*!**************************************************!*\
  !*** ./src/ui/PicaRoomList/PicaRoomListPanel.ts ***!
  \**************************************************/
/*! exports provided: PicaRoomListPanel, RoomDelegate, RoomZoon */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PicaRoomListPanel\", function() { return PicaRoomListPanel; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RoomDelegate\", function() { return RoomDelegate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RoomZoon\", function() { return RoomZoon; });\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\n/* harmony import */ var _components_checkbox_group__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/checkbox.group */ \"./src/ui/components/checkbox.group.ts\");\n/* harmony import */ var _i18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../i18n */ \"./src/i18n.ts\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _lib_rexui_lib_ui_scroller_Scroller__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/scroller/Scroller */ \"./lib/rexui/lib/ui/scroller/Scroller.ts\");\n/* harmony import */ var _utils_log__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/log */ \"./src/utils/log.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_button_Button__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/button/Button */ \"./lib/rexui/lib/ui/button/Button.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_tab_TabButton__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/tab/TabButton */ \"./lib/rexui/lib/ui/tab/TabButton.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\n\nvar PicaRoomListPanel = /** @class */ (function (_super) {\n    __extends(PicaRoomListPanel, _super);\n    function PicaRoomListPanel(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.key = \"pica_roomlist\";\n        return _this;\n        // this.scale = 1;\n    }\n    PicaRoomListPanel.prototype.resize = function (w, h) {\n        var width = this.scaleWidth;\n        var height = this.scaleHeight;\n        this.content.x = width >> 1;\n        this.content.y = height >> 1;\n        this.mBackGround.clear();\n        this.mBackGround.fillStyle(0x6AE2FF, 0);\n        this.mBackGround.fillRect(0, 0, width, height);\n        this.mBackGround.setInteractive(new Phaser.Geom.Rectangle(0, 0, width, height), Phaser.Geom.Rectangle.Contains);\n        _super.prototype.resize.call(this, width, height);\n        this.setSize(width, height);\n    };\n    PicaRoomListPanel.prototype.updateRoomList = function (content) {\n        if (!content) {\n            return;\n        }\n        this.mRoomDele.updateList(content);\n    };\n    PicaRoomListPanel.prototype.updateMyRoomList = function (content) {\n        if (!content) {\n            return;\n        }\n        this.mMyRoomDele.updateList(content);\n    };\n    PicaRoomListPanel.prototype.addListen = function () {\n        if (!this.mInitialized)\n            return;\n        this.mCloseBtn.on(\"pointerup\", this.onCloseHandler, this);\n        this.mSeachBtn.on(\"pointerup\", this.onSeachHandler, this);\n    };\n    PicaRoomListPanel.prototype.removeListen = function () {\n        if (!this.mInitialized)\n            return;\n        this.mCloseBtn.off(\"pointerup\", this.onCloseHandler, this);\n        this.mSeachBtn.off(\"pointerup\", this.onSeachHandler, this);\n    };\n    PicaRoomListPanel.prototype.destroy = function () {\n        if (this.mScroller)\n            this.mScroller.destroy();\n        _super.prototype.destroy.call(this);\n    };\n    PicaRoomListPanel.prototype.preload = function () {\n        this.addAtlas(this.key, \"pica_roomlist/pica_roomlist.png\", \"pica_roomlist/pica_roomlist.json\");\n        _super.prototype.preload.call(this);\n    };\n    PicaRoomListPanel.prototype.init = function () {\n        var _this = this;\n        this.setSize(this.scaleWidth, this.scaleWidth);\n        var zoom = this.mWorld.uiScale;\n        var background = this.scene.make.image({\n            key: this.key,\n            frame: \"bg.png\"\n        }, false).setInteractive();\n        this.mBackGround = this.scene.make.graphics(undefined, false);\n        // this.mBackGround.clear();\n        // this.mBackGround.fillStyle(0x6AE2FF, 0);\n        // this.mBackGround.fillRect(0, 0, wid * zoom, hei * zoom);\n        // this.mBackGround.setInteractive(new Phaser.Geom.Rectangle(0, 0, this.scene.cameras.main.width, this.scene.cameras.main.height), Phaser.Geom.Rectangle.Contains);\n        this.mCloseBtn = this.scene.make.image({\n            key: this.key,\n            frame: \"close_btn.png\"\n        }, false).setInteractive();\n        this.mCloseBtn.x = background.width / 2 - this.mCloseBtn.width / 2 - 2 * this.dpr;\n        this.mCloseBtn.y = -background.height / 2 + this.mCloseBtn.height / 2;\n        this.mRoomDeleBtn = new _lib_rexui_lib_ui_tab_TabButton__WEBPACK_IMPORTED_MODULE_8__[\"TabButton\"](this.scene, this.key, \"checkbox_normal\", \"checkbox_down\", _i18n__WEBPACK_IMPORTED_MODULE_3__[\"i18n\"].t(\"room_list.visit\"));\n        this.mRoomDeleBtn.x = -54 * this.dpr;\n        this.mRoomDeleBtn.y = -background.height / 2 + this.mRoomDeleBtn.displayHeight / 2 - 4 * this.dpr;\n        this.mRoomDeleBtn.setTextStyle({\n            color: \"#3333cc\",\n            fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT,\n            fontSize: 14 * this.dpr\n        });\n        this.mRoomDeleBtn.setFontStyle(\"bold\");\n        this.mMyRoomDeleBtn = new _lib_rexui_lib_ui_tab_TabButton__WEBPACK_IMPORTED_MODULE_8__[\"TabButton\"](this.scene, this.key, \"checkbox_normal\", \"checkbox_down\", _i18n__WEBPACK_IMPORTED_MODULE_3__[\"i18n\"].t(\"room_list.my\"));\n        this.mMyRoomDeleBtn.x = 54 * this.dpr;\n        this.mMyRoomDeleBtn.y = this.mRoomDeleBtn.y;\n        this.mMyRoomDeleBtn.setTextStyle({\n            color: \"#3333cc\",\n            fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT,\n            fontSize: 16 * this.dpr\n        });\n        this.mMyRoomDeleBtn.setFontStyle(\"bold\");\n        var checkbox = new _components_checkbox_group__WEBPACK_IMPORTED_MODULE_2__[\"CheckboxGroup\"]();\n        checkbox.appendItemAll([this.mRoomDeleBtn, this.mMyRoomDeleBtn]);\n        checkbox.on(\"selected\", this.onSelectedHandler, this);\n        this.mRoomContainer = this.scene.make.container(undefined, false);\n        this.mRoomContainer.setSize(282 * this.dpr, 362 * this.dpr);\n        this.mRoomContainer.y = -background.height / 2 + 11 * this.dpr * zoom;\n        this.mSeachBtn = this.scene.make.image({\n            key: this.key,\n            frame: \"seach_btn.png\"\n        }, false).setInteractive();\n        this.mSeachBtn.y = background.height / 2 - this.mSeachBtn.height / 2 + 12 * this.dpr;\n        var seachText = this.scene.make.text({\n            x: -35 * this.dpr,\n            y: this.mSeachBtn.y,\n            text: _i18n__WEBPACK_IMPORTED_MODULE_3__[\"i18n\"].t(\"room_list.seach\"),\n            style: {\n                color: \"#996600\",\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT,\n                fontSize: 14 * this.dpr\n            }\n        }, false).setOrigin(0.5);\n        var roomText = this.scene.make.text({\n            x: 35 * this.dpr,\n            y: this.mSeachBtn.y,\n            text: _i18n__WEBPACK_IMPORTED_MODULE_3__[\"i18n\"].t(\"room_list.room\"),\n            style: {\n                color: \"#996600\",\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT,\n                fontSize: 14 * this.dpr\n            }\n        }, false).setOrigin(0.5);\n        this.content = this.scene.make.container(undefined, false);\n        this.content.setSize(background.width, background.height);\n        this.content.add([background, this.mRoomContainer, this.mCloseBtn, this.mSeachBtn, seachText, roomText]);\n        this.add([this.mBackGround, this.content]);\n        _super.prototype.init.call(this);\n        this.resize(0, 0);\n        var w = this.mRoomContainer.width * this.scale;\n        var h = this.mRoomContainer.height * this.scale;\n        var config = {\n            x: this.scaleWidth - w / this.scale >> 1,\n            y: this.content.y - this.content.height / 2 + 20 * this.dpr * this.scale,\n            clickX: 0,\n            clickY: 0,\n            width: this.scaleWidth,\n            height: h,\n            boundPad0: -40 * this.dpr * zoom,\n            zoom: zoom,\n            // bounds: [\n            //   this.y,\n            //   this.y - h - 100 * this.dpr + (350 * this.dpr / 2)\n            // ],\n            value: this.content.y,\n            valuechangeCallback: function (newValue) {\n                _this.mRoomContainer.y = newValue - _this.content.y - h / 2;\n                _utils_log__WEBPACK_IMPORTED_MODULE_6__[\"Logger\"].getInstance().log(_this.mRoomContainer.y + \",\" + _this.content.y);\n            },\n            cellupCallBack: function (gameobject) {\n                gameobject.onEnterRoomHandler();\n                _utils_log__WEBPACK_IMPORTED_MODULE_6__[\"Logger\"].getInstance().log(gameobject.roomData().name);\n            }\n        };\n        this.mScroller = new _lib_rexui_lib_ui_scroller_Scroller__WEBPACK_IMPORTED_MODULE_5__[\"BaseScroller\"](this.scene, this.mRoomContainer, config);\n        this.content.add([this.mRoomDeleBtn, this.mMyRoomDeleBtn, this.mCloseBtn]);\n        checkbox.selectIndex(0);\n    };\n    PicaRoomListPanel.prototype.showRoomList = function () {\n        if (this.mMyRoomDele) {\n            this.mMyRoomDele.removeFromContainer();\n            this.mMyRoomDele.off(\"enterRoom\", this.onEnterRoomHandler, this);\n        }\n        if (!this.mRoomDele)\n            this.mRoomDele = new RoomDelegate(this.mRoomContainer, this.mScroller, this.scene, this.mWorld, this.key, this.dpr);\n        this.mRoomDele.on(\"enterRoom\", this.onEnterRoomHandler, this);\n        this.mRoomDele.addToContainer();\n        this.emit(\"getRoomList\");\n    };\n    PicaRoomListPanel.prototype.showMyRoomList = function () {\n        if (this.mRoomDele) {\n            this.mRoomDele.removeFromContainer();\n            this.mRoomDele.off(\"enterRoom\", this.onEnterRoomHandler, this);\n        }\n        if (!this.mMyRoomDele)\n            this.mMyRoomDele = new MyRoomDelegate(this.mRoomContainer, this.mScroller, this.mWorld, this.scene, this.key, this.dpr);\n        this.mMyRoomDele.on(\"enterRoom\", this.onEnterRoomHandler, this);\n        this.mMyRoomDele.addToContainer();\n        this.emit(\"getMyRoomList\");\n    };\n    PicaRoomListPanel.prototype.onEnterRoomHandler = function (room) {\n        this.emit(\"enterRoom\", room);\n    };\n    PicaRoomListPanel.prototype.onSelectedHandler = function (gameobject, prevButton) {\n        if (!(gameobject instanceof _lib_rexui_lib_ui_button_Button__WEBPACK_IMPORTED_MODULE_7__[\"Button\"])) {\n            return;\n        }\n        this.mRoomContainer.removeAll(false);\n        switch (gameobject) {\n            case this.mRoomDeleBtn:\n                this.showRoomList();\n                break;\n            case this.mMyRoomDeleBtn:\n                this.showMyRoomList();\n                break;\n        }\n        (gameobject).setTextColor(\"#996600\");\n        if (prevButton) {\n            if (prevButton instanceof _lib_rexui_lib_ui_button_Button__WEBPACK_IMPORTED_MODULE_7__[\"Button\"]) {\n                prevButton.setTextColor(\"#3333cc\");\n            }\n        }\n    };\n    PicaRoomListPanel.prototype.onSeachHandler = function () {\n        // TODO seach\n    };\n    PicaRoomListPanel.prototype.onCloseHandler = function () {\n        this.emit(\"close\");\n    };\n    return PicaRoomListPanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\nvar RoomDelegate = /** @class */ (function (_super) {\n    __extends(RoomDelegate, _super);\n    function RoomDelegate(container, scroller, scene, world, key, dpr) {\n        if (dpr === void 0) { dpr = 1; }\n        var _this = _super.call(this) || this;\n        _this.mChildPad = 0;\n        _this.mDpr = 1;\n        _this.mHeight = 0;\n        _this.mDpr = dpr;\n        _this.mWorld = world;\n        _this.mChildPad = 0;\n        _this.mScene = scene;\n        _this.mContainer = container;\n        _this.mScroller = scroller;\n        _this.mKey = key;\n        _this.init();\n        return _this;\n    }\n    RoomDelegate.prototype.addListen = function () {\n        this.mPopularityRoom.on(\"enterRoom\", this.onEnterRoomHandler, this);\n        this.mPlayerRoom.on(\"enterRoom\", this.onEnterRoomHandler, this);\n    };\n    RoomDelegate.prototype.removeListen = function () {\n        this.mPopularityRoom.off(\"enterRoom\", this.onEnterRoomHandler, this);\n        this.mPlayerRoom.off(\"enterRoom\", this.onEnterRoomHandler, this);\n    };\n    RoomDelegate.prototype.updateList = function (content) {\n        this.mContent = content;\n        this.mScroller.clearInteractiveObject();\n        this.mHeight = this.activity.height;\n        this.mChildPad = this.activity.height + 14 * this.mDpr;\n        if (!this.mContent) {\n            return;\n        }\n        this.mPopularityRoom.addItem(content.popularRooms, this.mChildPad);\n    };\n    RoomDelegate.prototype.addToContainer = function () {\n        this.addListen();\n        this.refreshPos();\n    };\n    RoomDelegate.prototype.removeFromContainer = function () {\n        this.removeListen();\n        if (this.mPopularityRoom)\n            this.mPopularityRoom.clear();\n        if (this.mPlayerRoom)\n            this.mPlayerRoom.clear();\n    };\n    RoomDelegate.prototype.destroy = function () {\n        this.removeListen();\n        if (this.mPlayerRoom)\n            this.mPopularityRoom.destroy();\n        if (this.mPopularityRoom)\n            this.mPopularityRoom.destroy();\n        if (this.mScroller)\n            this.mScroller.destroy();\n        if (this.activity)\n            this.activity.destroy();\n        _super.prototype.destroy.call(this);\n    };\n    RoomDelegate.prototype.init = function () {\n        var _this = this;\n        this.activity = this.mScene.make.image({\n            key: this.mKey,\n            frame: \"activity_title.png\"\n        }, false);\n        this.activity.y = this.activity.height / 2 + 2 * this.mDpr;\n        this.mChildPad += this.activity.height / 2 + 18 * this.mDpr;\n        this.mPopularityRoom = new PopularRoomZoon(this.mScene, this.mKey, \"popularity_icon.png\", _i18n__WEBPACK_IMPORTED_MODULE_3__[\"i18n\"].t(\"room_list.popularity_room\"), this.mDpr, this.mWorld.uiScale, 0, this.mChildPad, function (hei) {\n            if (_this.mPopularityRoom.roomList)\n                _this.setScrollInteractive(_this.mPopularityRoom.roomList);\n            _this.mHeight += hei;\n            _this.refreshPos();\n            _this.mChildPad += _this.mPopularityRoom.height;\n            _this.mPlayerRoom.addItem(_this.mContent.playerRooms, _this.mChildPad);\n        });\n        this.mPlayerRoom = new RoomZoon(this.mScene, this.mKey, \"player_icon.png\", _i18n__WEBPACK_IMPORTED_MODULE_3__[\"i18n\"].t(\"room_list.player_room\"), this.mDpr, this.mWorld.uiScale, 0, this.mChildPad, function (hei) {\n            if (_this.mPlayerRoom.roomList)\n                _this.setScrollInteractive(_this.mPlayerRoom.roomList);\n            _this.mHeight += hei;\n            _this.refreshPos();\n            _this.mScroller.refreshBound(_this.mHeight);\n            _this.mScroller.setValue(_this.mContainer.parentContainer.y);\n        });\n        this.mScroller.refreshBound(this.activity.height);\n        this.mScroller.setValue(this.mContainer.parentContainer.y);\n    };\n    RoomDelegate.prototype.refreshPos = function () {\n        if (this.activity) {\n            this.activity.setTexture(this.mKey, \"activity_title.png\");\n            this.mContainer.add(this.activity);\n        }\n        if (this.mPopularityRoom) {\n            if (this.mPopularityRoom.showList) {\n                this.mContainer.add(this.mPopularityRoom.showList);\n                if (this.mPopularityRoom.roomList) {\n                    this.mContainer.add(this.mPopularityRoom.roomList);\n                }\n            }\n        }\n        if (this.mPlayerRoom) {\n            if (this.mPlayerRoom.showList) {\n                this.mContainer.add(this.mPlayerRoom.showList);\n                if (this.mPlayerRoom.roomList) {\n                    this.mContainer.add(this.mPlayerRoom.roomList);\n                }\n            }\n        }\n        // const zoom: number = this.mWorld.uiScale;\n        // const baseHei: number = 362 * this.mDpr;\n        // let topY: number = this.mContainer.parentContainer.y;\n        // Logger.getInstance().log(this.mContainer.height);\n        // let bottomY: number = 0;\n        // if (this.mHeight > baseHei) {\n        //   topY = topY;\n        //   bottomY = topY - this.mHeight + baseHei - 25 * this.mDpr * zoom;\n        // } else {\n        //   topY = topY;\n        //   bottomY = topY;\n        // }\n        // this.mScroller.resize(this.mScroller.width, this.mHeight, topY, bottomY);\n    };\n    RoomDelegate.prototype.onEnterRoomHandler = function (room) {\n        this.emit(\"enterRoom\", room);\n    };\n    RoomDelegate.prototype.setScrollInteractive = function (roomList) {\n        for (var i = 0, len = roomList.length; i < len; i++) {\n            var roomItem = roomList[i];\n            this.mScroller.setInteractiveObject(roomItem);\n        }\n        this.refreshPos();\n    };\n    return RoomDelegate;\n}(Phaser.Events.EventEmitter));\n\nvar MyRoomDelegate = /** @class */ (function (_super) {\n    __extends(MyRoomDelegate, _super);\n    function MyRoomDelegate(container, scroller, world, scene, key, dpr) {\n        if (dpr === void 0) { dpr = 1; }\n        return _super.call(this, container, scroller, scene, world, key, dpr) || this;\n    }\n    MyRoomDelegate.prototype.addListen = function () {\n        this.mMyRoom.on(\"enterRoom\", this.onEnterRoomHandler, this);\n        this.mMyHistory.on(\"enterRoom\", this.onEnterRoomHandler, this);\n    };\n    MyRoomDelegate.prototype.removeListen = function () {\n        this.mMyRoom.off(\"enterRoom\", this.onEnterRoomHandler, this);\n        this.mMyHistory.off(\"enterRoom\", this.onEnterRoomHandler, this);\n    };\n    MyRoomDelegate.prototype.addToContainer = function () {\n        this.addListen();\n        this.refreshPos();\n    };\n    MyRoomDelegate.prototype.removeFromContainer = function () {\n        this.removeListen();\n        if (this.mMyRoom)\n            this.mMyRoom.clear();\n        if (this.mMyHistory)\n            this.mMyHistory.clear();\n    };\n    MyRoomDelegate.prototype.updateList = function (content) {\n        if (!this.mMyRoom) {\n            return;\n        }\n        this.mContent = content;\n        this.mScroller.clearInteractiveObject();\n        this.mHeight = this.activity.height;\n        this.mChildPad = this.activity.height + 14 * this.mDpr;\n        this.mMyRoom.addItem(content.selfRooms, this.mChildPad);\n    };\n    MyRoomDelegate.prototype.destroy = function () {\n        if (this.mMyRoom)\n            this.mMyRoom.destroy();\n        if (this.mMyHistory)\n            this.mMyHistory.destroy();\n        _super.prototype.destroy.call(this);\n    };\n    MyRoomDelegate.prototype.refreshPos = function () {\n        if (this.activity) {\n            this.activity.setTexture(this.mKey, \"activity_title.png\");\n            this.mContainer.add(this.activity);\n        }\n        if (this.mMyRoom) {\n            if (this.mMyRoom.showList) {\n                this.mContainer.add(this.mMyRoom.showList);\n                if (this.mMyRoom.roomList)\n                    this.mContainer.add(this.mMyRoom.roomList);\n            }\n        }\n        if (this.mMyHistory) {\n            if (this.mMyHistory.showList) {\n                this.mContainer.add(this.mMyHistory.showList);\n                if (this.mMyHistory.roomList)\n                    this.mContainer.add(this.mMyHistory.roomList);\n            }\n        }\n        // const zoom: number = this.mWorld.uiScale;\n        // const baseHei: number = 362 * this.mDpr;\n        // let topY: number = this.mContainer.parentContainer.y;\n        // let bottomY: number = 0;\n        // if (this.mHeight > baseHei) {\n        //   topY = topY;\n        //   bottomY = topY - this.mHeight + baseHei - 25 * this.mDpr * zoom;\n        // } else {\n        //   topY = topY;\n        //   bottomY = topY;\n        // }\n        // this.mScroller.resize(this.mScroller.width, this.mHeight, topY, bottomY);\n    };\n    MyRoomDelegate.prototype.init = function () {\n        var _this = this;\n        this.activity = this.mScene.make.image({\n            key: this.mKey,\n            frame: \"activity_title.png\"\n        }, false);\n        this.activity.y = this.activity.height / 2 + 2 * this.mDpr;\n        this.mChildPad = this.activity.height + 14 * this.mDpr;\n        this.mMyRoom = new MyRoomZoon(this.mScene, this.mKey, \"my_room_icon.png\", _i18n__WEBPACK_IMPORTED_MODULE_3__[\"i18n\"].t(\"room_list.my_room\"), this.mDpr, this.mWorld.uiScale, 0, this.mChildPad, function (hei) {\n            if (_this.mMyRoom.roomList)\n                _this.setScrollInteractive(_this.mMyRoom.roomList);\n            _this.mHeight += hei;\n            _this.refreshPos();\n            _this.mChildPad += _this.mMyRoom.height;\n            _this.mMyHistory.addItem(_this.mContent.historyRooms, _this.mChildPad);\n        });\n        this.mMyHistory = new RoomZoon(this.mScene, this.mKey, \"history_icon.png\", _i18n__WEBPACK_IMPORTED_MODULE_3__[\"i18n\"].t(\"room_list.my_history\"), this.mDpr, this.mWorld.uiScale, 0, this.mChildPad, function (hei) {\n            if (_this.mMyHistory.roomList)\n                _this.setScrollInteractive(_this.mMyHistory.roomList);\n            _this.mHeight += hei;\n            _this.refreshPos();\n            _this.mScroller.refreshBound(_this.mHeight);\n            _this.mScroller.setValue(_this.mContainer.parentContainer.y);\n        });\n        this.mScroller.refreshBound(this.activity.height);\n        this.mScroller.setValue(this.mContainer.parentContainer.y);\n    };\n    MyRoomDelegate.prototype.onEnterRoomHandler = function (room) {\n        this.emit(\"enterRoom\", room);\n    };\n    return MyRoomDelegate;\n}(RoomDelegate));\nvar RoomZoon = /** @class */ (function (_super) {\n    __extends(RoomZoon, _super);\n    /**\n     *\n     * @param scene\n     * @param key\n     * @param iconFrame\n     * @param label\n     * @param dpr\n     * @param scrollMode 0   1 \n     * @param pad\n     * @param addCallBack\n     */\n    function RoomZoon(scene, key, iconFrame, label, dpr, uiscale, scrollMode, pad, addCallBack) {\n        if (scrollMode === void 0) { scrollMode = 0; }\n        if (pad === void 0) { pad = 0; }\n        var _this = _super.call(this) || this;\n        _this.mWidth = 0;\n        _this.mHeight = 0;\n        _this.mShowList = [];\n        _this.mScene = scene;\n        _this.mKey = key;\n        _this.mDpr = dpr;\n        _this.uiScale = uiscale;\n        _this.mPad = pad;\n        _this.mOrientaction = scrollMode;\n        _this.mIconFrame = iconFrame;\n        _this.mLabel = label;\n        _this.icon = scene.make.image({\n            key: key,\n            frame: iconFrame\n        }, false);\n        _this.icon.x = scrollMode ? -254 * dpr / 2 + pad : -254 * dpr / 2;\n        _this.icon.y = scrollMode ? 0 : pad;\n        _this.text = scene.make.text({\n            text: label,\n            style: {\n                color: \"#ffcc33\",\n                fontSize: 16 * dpr,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT\n            }\n        }, false).setOrigin(0, 0.5);\n        _this.text.setStroke(\"#663300\", 2 * dpr);\n        _this.text.x = scrollMode ? _this.icon.x + _this.icon.width / 2 + 4 * dpr + pad : _this.icon.x + _this.icon.width / 2 + 4 * dpr;\n        _this.text.y = scrollMode ? 0 : pad;\n        _this.mWidth = _this.icon.width;\n        _this.mHeight = _this.icon.height;\n        _this.mAddCallBack = addCallBack;\n        _this.mRooms = [];\n        return _this;\n    }\n    Object.defineProperty(RoomZoon.prototype, \"showList\", {\n        get: function () {\n            return this.mShowList;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RoomZoon.prototype, \"roomList\", {\n        get: function () {\n            return this.mRooms;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    RoomZoon.prototype.addItem = function (rooms, pad) {\n        if (pad === void 0) { pad = 0; }\n        this.icon = this.mScene.make.image({\n            key: this.mKey,\n            frame: this.mIconFrame\n        }, false);\n        this.text = this.mScene.make.text({\n            text: this.mLabel,\n            style: {\n                color: \"#ffcc33\",\n                fontSize: 16 * this.mDpr,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT\n            }\n        }, false).setOrigin(0, 0.5);\n        this.text.setStroke(\"#663300\", 2 * this.mDpr);\n        this.icon.x = this.mOrientaction ? -254 * this.mDpr / 2 + pad : -254 * this.mDpr / 2;\n        this.icon.y = this.mOrientaction ? 0 : pad;\n        this.text.x = this.mOrientaction ? this.icon.x + this.icon.width / 2 + 4 * this.mDpr + pad : this.icon.x + this.icon.width / 2 + 4 * this.mDpr;\n        this.text.y = this.mOrientaction ? 0 : pad;\n        this.mShowList.push(this.icon);\n        this.mShowList.push(this.text);\n        this.mHeight = this.icon.height;\n        this.mPad = pad ? pad : this.mPad;\n        var len = rooms.length;\n        var zoom = this.uiScale;\n        var tmpWid = this.mOrientaction ? this.mPad + pad : 0;\n        var tmpHei = 6 * this.mDpr * zoom;\n        if (len > 0) {\n            this.mPad += this.icon.height + 12 * this.mDpr * zoom;\n            for (var i = 0; i < len; i++) {\n                var room = new RoomItem(this.mScene, this.mKey, this.mDpr);\n                room.setInfo(rooms[i]);\n                room.on(\"enterRoom\", this.onEnterRoomHandler, this);\n                room.x = tmpWid;\n                var roomY = i * (room.height + tmpHei) + this.mPad;\n                room.y = roomY;\n                this.mHeight += room.height + tmpHei;\n                this.mRooms[i] = room;\n            }\n        }\n        this.mHeight += tmpHei;\n        if (this.mAddCallBack) {\n            this.mAddCallBack(this.mHeight);\n        }\n    };\n    Object.defineProperty(RoomZoon.prototype, \"width\", {\n        get: function () {\n            return this.mWidth;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RoomZoon.prototype, \"height\", {\n        get: function () {\n            return this.mHeight;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    RoomZoon.prototype.destroy = function () {\n        this.clear();\n        _super.prototype.destroy.call(this);\n    };\n    RoomZoon.prototype.clear = function () {\n        for (var _i = 0, _a = this.mRooms; _i < _a.length; _i++) {\n            var room = _a[_i];\n            room.destroy();\n        }\n        for (var _b = 0, _c = this.mShowList; _b < _c.length; _b++) {\n            var show = _c[_b];\n            show.destroy();\n        }\n        this.icon.destroy();\n        this.text.destroy();\n        this.mShowList.length = 0;\n        this.mRooms.length = 0;\n    };\n    RoomZoon.prototype.onEnterRoomHandler = function (room) {\n        this.emit(\"enterRoom\", room);\n    };\n    return RoomZoon;\n}(Phaser.Events.EventEmitter));\n\nvar MyRoomZoon = /** @class */ (function (_super) {\n    __extends(MyRoomZoon, _super);\n    function MyRoomZoon() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    MyRoomZoon.prototype.addItem = function (rooms, pad) {\n        if (pad === void 0) { pad = 0; }\n        // this.clear();\n        this.icon = this.mScene.make.image({\n            key: this.mKey,\n            frame: this.mIconFrame\n        }, false);\n        this.text = this.mScene.make.text({\n            text: this.mLabel,\n            style: {\n                color: \"#ffcc33\",\n                fontSize: 16 * this.mDpr,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT\n            }\n        }, false).setOrigin(0, 0.5);\n        this.text.setStroke(\"#663300\", 2 * this.mDpr);\n        this.icon.x = this.mOrientaction ? -254 * this.mDpr / 2 + pad : -254 * this.mDpr / 2;\n        this.icon.y = this.mOrientaction ? 0 : pad;\n        this.text.x = this.mOrientaction ? this.icon.x + this.icon.width / 2 + 4 * this.mDpr + pad : this.icon.x + this.icon.width / 2 + 4 * this.mDpr;\n        this.text.y = this.mOrientaction ? 0 : pad;\n        this.mShowList.push(this.icon);\n        this.mShowList.push(this.text);\n        this.mHeight = this.icon.height;\n        this.mPad = pad ? pad : this.mPad;\n        var zoom = this.uiScale;\n        var tmpWid = this.mOrientaction ? this.mPad + pad : 0;\n        var tmpHei = 6 * this.mDpr * zoom;\n        if (rooms.length > 0) {\n            this.mPad += this.icon.height + 14 * this.mDpr * zoom;\n            // TODO \n            for (var i = 0; i < rooms.length; i++) {\n                var room = new MyRoomItem(this.mScene, this.mKey, this.mDpr);\n                room.setInfo(rooms[i]);\n                room.on(\"enterRoom\", this.onEnterRoomHandler, this);\n                room.x = tmpWid;\n                var roomY = i * (room.height + tmpHei) + this.mPad;\n                room.y = roomY;\n                this.mHeight += room.height + tmpHei;\n                this.mRooms[i] = room;\n            }\n        }\n        this.mHeight += tmpHei;\n        if (this.mAddCallBack) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_6__[\"Logger\"].getInstance().log(\"myroomheight:\" + this.mHeight);\n            this.mAddCallBack(this.mHeight);\n        }\n    };\n    return MyRoomZoon;\n}(RoomZoon));\nvar PopularRoomZoon = /** @class */ (function (_super) {\n    __extends(PopularRoomZoon, _super);\n    function PopularRoomZoon() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PopularRoomZoon.prototype.addItem = function (rooms, pad) {\n        if (pad === void 0) { pad = 0; }\n        // this.clear();\n        this.icon = this.mScene.make.image({\n            key: this.mKey,\n            frame: this.mIconFrame\n        }, false);\n        this.text = this.mScene.make.text({\n            text: this.mLabel,\n            style: {\n                color: \"#ffcc33\",\n                fontSize: 16 * this.mDpr,\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT\n            }\n        }, false).setOrigin(0, 0.5);\n        this.text.setStroke(\"#663300\", 2 * this.mDpr);\n        this.icon.x = this.mOrientaction ? -254 * this.mDpr / 2 + pad : -254 * this.mDpr / 2;\n        this.icon.y = this.mOrientaction ? 0 : pad;\n        this.text.x = this.mOrientaction ? this.icon.x + this.icon.width / 2 + 4 * this.mDpr + pad : this.icon.x + this.icon.width / 2 + 4 * this.mDpr;\n        this.text.y = this.mOrientaction ? 0 : pad;\n        this.mShowList.push(this.icon);\n        this.mShowList.push(this.text);\n        this.mHeight = this.icon.height;\n        this.mPad = pad ? pad : this.mPad;\n        var zoom = this.uiScale;\n        var tmpWid = this.mOrientaction ? this.mPad : 0;\n        var tmpHei = 6 * this.mDpr * zoom;\n        if (rooms.length > 0) {\n            this.mPad += this.icon.height + 12 * this.mDpr * zoom;\n            for (var i = 0; i < rooms.length; i++) {\n                var room = new PopularRoomItem(this.mScene, this.mKey, this.mDpr);\n                room.setInfo(rooms[i]);\n                room.setRank(i + 1);\n                room.on(\"enterRoom\", this.onEnterRoomHandler, this);\n                room.x = tmpWid;\n                var roomY = i * (room.height + tmpHei) + this.mPad;\n                room.y = roomY;\n                this.mHeight += room.height + tmpHei;\n                this.mRooms[i] = room;\n            }\n        }\n        this.mHeight += tmpHei;\n        if (this.mAddCallBack) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_6__[\"Logger\"].getInstance().log(\"popheight:\" + this.mHeight);\n            this.mAddCallBack(this.mHeight);\n        }\n        return this.mHeight;\n    };\n    return PopularRoomZoon;\n}(RoomZoon));\nvar RoomItem = /** @class */ (function (_super) {\n    __extends(RoomItem, _super);\n    function RoomItem(scene, key, dpr) {\n        if (dpr === void 0) { dpr = 1; }\n        var _this = _super.call(this, scene) || this;\n        _this.mKey = key;\n        _this.mDpr = dpr;\n        _this.init(key, dpr);\n        return _this;\n    }\n    RoomItem.prototype.setInfo = function (room) {\n        if (room) {\n            if (room.name)\n                this.mNickName.setText(room.name);\n            if (room.playerCount)\n                this.mCounter.setText(room.playerCount.toString());\n        }\n        this.mCounterIcon.x = this.mCounter.x - this.mCounter.width / 2 - this.mCounterIcon.width / 2 - 4 * this.mDpr;\n        this.crateLabel(pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_def\"].EditModeRoomPrivacy.EDIT_MODE_ROOM_LOCKED);\n        this.mRoom = room;\n    };\n    RoomItem.prototype.roomData = function () {\n        return this.mRoom;\n    };\n    RoomItem.prototype.onEnterRoomHandler = function (pointer) {\n        if (this.mRoom) {\n            this.emit(\"enterRoom\", this.mRoom.roomId);\n        }\n    };\n    RoomItem.prototype.init = function (key, dpr) {\n        this.mBackground = this.scene.make.image({\n            key: key,\n            frame: \"room_gray.png\"\n        }, false).setInteractive();\n        this.setSize(this.mBackground.width, this.mBackground.height);\n        this.mNickName = this.scene.make.text({\n            style: {\n                color: \"#000000\",\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT,\n                fontSize: 14 * dpr\n            }\n        }, false);\n        this.mNickName.x = -this.width / 2 + 12 * dpr;\n        this.mNickName.y = -(this.mNickName.height) / 2;\n        this.mCounterIcon = this.scene.make.image({\n            key: key,\n            frame: \"counter_icon.png\"\n        }, false);\n        this.mCounter = this.scene.make.text({\n            style: {\n                color: \"#000000\",\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT,\n                fontSize: 14 * dpr\n            }\n        }, false).setOrigin(0.5);\n        this.mCounter.x = this.width / 2 - 23 * dpr;\n        this.add([this.mBackground, this.mNickName, this.mCounterIcon, this.mCounter]);\n    };\n    RoomItem.prototype.crateLabel = function (state) {\n        // TODO \n        var frame = \"\";\n        var text = \"\";\n        if (state === pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_def\"].EditModeRoomPrivacy.EDIT_MODE_ROOM_LOCKED) {\n            frame = \"passworld_label.png\";\n            text = _i18n__WEBPACK_IMPORTED_MODULE_3__[\"i18n\"].t(\"room_list.password\");\n        }\n        else if (state === pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_def\"].EditModeRoomPrivacy.EDIT_MODE_ROOM_PRIVATE) {\n            frame = \"close_label.png\";\n            text = _i18n__WEBPACK_IMPORTED_MODULE_3__[\"i18n\"].t(\"room_list.close\");\n        }\n        if (frame === \"\" || text === \"\") {\n            return;\n        }\n        this.mLabelImg = this.scene.make.image({\n            key: this.mKey,\n            frame: frame\n        }, false);\n        this.mLabelText = this.scene.make.text({\n            text: text,\n            style: {\n                color: \"#666666\",\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT,\n                fontSize: 12 * this.mDpr\n            }\n        }, false).setOrigin(0, 0.5);\n        this.add([this.mLabelImg, this.mLabelText]);\n        this.mLabelImg.x = this.width / 2 - 85 * this.mDpr;\n        this.mLabelText.x = this.mLabelImg.x - 7 * this.mDpr;\n    };\n    return RoomItem;\n}(Phaser.GameObjects.Container));\nvar MyRoomItem = /** @class */ (function (_super) {\n    __extends(MyRoomItem, _super);\n    function MyRoomItem(scene, key, dpr) {\n        if (dpr === void 0) { dpr = 1; }\n        return _super.call(this, scene, key, dpr) || this;\n    }\n    MyRoomItem.prototype.init = function (key, dpr) {\n        _super.prototype.init.call(this, key, dpr);\n        if (this.mBackground) {\n            this.mBackground.setFrame(\"room_yellow.png\");\n        }\n        if (this.mNickName) {\n            this.mNickName.setColor(\"#663300\");\n            this.mCounter.setColor(\"#663300\");\n        }\n    };\n    return MyRoomItem;\n}(RoomItem));\nvar PopularRoomItem = /** @class */ (function (_super) {\n    __extends(PopularRoomItem, _super);\n    function PopularRoomItem(scene, key, dpr) {\n        if (dpr === void 0) { dpr = 1; }\n        return _super.call(this, scene, key, dpr) || this;\n    }\n    PopularRoomItem.prototype.setRank = function (num) {\n        if (this.mRankImage) {\n            this.mRankImage.setTexture(this.mKey, \"rank_\" + num + \".png\");\n            this.mRankImage.x = -this.width / 2 + this.mRankImage.width / 2 - 2 * this.mDpr;\n            this.add(this.mRankImage);\n        }\n    };\n    PopularRoomItem.prototype.init = function (key, dpr) {\n        _super.prototype.init.call(this, key, dpr);\n        this.mRankImage = this.scene.make.image(undefined, false);\n        this.mNickName.x = -this.width / 2 + 37 * dpr;\n    };\n    return PopularRoomItem;\n}(MyRoomItem));\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicaRoomList/PicaRoomListPanel.ts?");

/***/ }),

/***/ "./src/ui/PicaRoomList/RoomList.ts":
/*!*****************************************!*\
  !*** ./src/ui/PicaRoomList/RoomList.ts ***!
  \*****************************************/
/*! exports provided: RoomList */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RoomList\", function() { return RoomList; });\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar RoomList = /** @class */ (function (_super) {\n    __extends(RoomList, _super);\n    function RoomList($world) {\n        var _this = _super.call(this) || this;\n        _this.world = $world;\n        _this.mEvent = new Phaser.Events.EventEmitter();\n        return _this;\n    }\n    RoomList.prototype.register = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.addPacketListener(this);\n            this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_EDIT_MODE_ROOM_LIST, this.onRoomListHandler);\n            this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_EDIT_MODE_GET_PLAYER_ENTER_ROOM_HISTORY, this.onMyRoomListHandler);\n            this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_EDIT_MODE_ENTER_ROOM, this.onEnterRoomResultHandler);\n        }\n    };\n    RoomList.prototype.unregister = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.removePacketListener(this);\n        }\n    };\n    RoomList.prototype.on = function (event, fn, context) {\n        this.mEvent.on(event, fn, context);\n    };\n    RoomList.prototype.off = function (event, fn, context) {\n        this.mEvent.off(event, fn, context);\n    };\n    RoomList.prototype.destroy = function () {\n        this.unregister();\n        this.mEvent.destroy();\n    };\n    RoomList.prototype.sendGetRoomList = function () {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_EDIT_MODE_GET_ROOM_LIST);\n        var content = packet.content;\n        content.page = 1;\n        content.perPage = 30;\n        this.connection.send(packet);\n    };\n    RoomList.prototype.sendMyHistory = function () {\n        this.connection.send(new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_EDIT_MODE_GET_PLAYER_ENTER_ROOM_HISTORY));\n    };\n    RoomList.prototype.sendEnterRoom = function (roomID, password) {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_EDIT_MODE_ENTER_ROOM);\n        var content = packet.content;\n        content.roomId = roomID;\n        content.password = password;\n        this.connection.send(packet);\n    };\n    RoomList.prototype.onRoomListHandler = function (packet) {\n        this.mEvent.emit(\"roomList\", packet.content);\n    };\n    RoomList.prototype.onMyRoomListHandler = function (packet) {\n        this.mEvent.emit(\"myRoomList\", packet.content);\n    };\n    RoomList.prototype.onEnterRoomResultHandler = function (packet) {\n        this.mEvent.emit(\"enterRoomResult\", packet);\n    };\n    Object.defineProperty(RoomList.prototype, \"connection\", {\n        get: function () {\n            if (this.world) {\n                return this.world.connection;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return RoomList;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PacketHandler\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/PicaRoomList/RoomList.ts?");

/***/ }),

/***/ "./src/ui/Rank/BasicRankPanel.ts":
/*!***************************************!*\
  !*** ./src/ui/Rank/BasicRankPanel.ts ***!
  \***************************************/
/*! exports provided: BasicRankPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BasicRankPanel\", function() { return BasicRankPanel; });\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\n/* harmony import */ var _components_nine_patch__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/nine.patch */ \"./src/ui/components/nine.patch.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar BasicRankPanel = /** @class */ (function (_super) {\n    __extends(BasicRankPanel, _super);\n    function BasicRankPanel(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.mTexts = [];\n        _this.disInteractive();\n        return _this;\n    }\n    BasicRankPanel.prototype.addItem = function (items) {\n        this.setData(\"data\", items);\n        if (!this.mInitialized)\n            return;\n        this.clearText();\n        var texts = items.text;\n        if (!texts || texts.length < 1)\n            return;\n        if (this.mTitleLabel) {\n            this.mTitleLabel.setText(texts[0].text);\n            this.mTitleLabel.setData(\"node\", texts[0].node);\n        }\n        var locX = [-this.width / 2 + 15, -this.width / 2 + 63, -this.width / 2 + 241];\n        var tmpY = 0;\n        for (var i = 1; i < 4; i++) {\n            var text = this.scene.make.text({\n                x: locX[i - 1],\n                y: -this.height / 2 + 22,\n                text: texts ? texts[i].text : \"123\",\n                style: { font: _utils_font__WEBPACK_IMPORTED_MODULE_2__[\"Font\"].YAHEI_16_BOLD }\n            }, false);\n            tmpY = text.y;\n            text.setData(\"node\", texts[i].node);\n            text.setStroke(\"#000000\", 2);\n            this.mChildContainer.add(text);\n            this.mTexts.push(text);\n        }\n        tmpY += 20;\n        for (var i = 4; i < texts.length; i++) {\n            var t = texts[i];\n            var x = (i - 4) % 3;\n            var y = Math.floor((i - 4) / 3) * 22; // Math.floor((i - 4) / 3) * (-this.height / 2 + 42);\n            var text = this.scene.make.text({\n                x: locX[x],\n                y: tmpY + y,\n                text: t ? t.text : \"123\",\n                style: { font: _utils_font__WEBPACK_IMPORTED_MODULE_2__[\"Font\"].YAHEI_14_BOLD }\n            }, false);\n            if (x === 0) {\n                // todo center\n            }\n            text.setData(\"node\", t.node);\n            text.setStroke(\"#000000\", 2);\n            this.mChildContainer.add(text);\n            this.mTexts.push(text);\n        }\n    };\n    BasicRankPanel.prototype.tweenView = function (show) {\n    };\n    BasicRankPanel.prototype.update = function (param) {\n        this.addItem(param);\n    };\n    BasicRankPanel.prototype.destroy = function () {\n        if (this.mBackground)\n            this.mBackground.destroy();\n        var len = this.mTexts.length;\n        for (var i = 0; i < len; i++) {\n            var text = this.mTexts[i];\n            if (!text)\n                continue;\n            text.destroy(true);\n            text = null;\n        }\n        if (this.mTitleLabel)\n            this.mTitleLabel.destroy(true);\n        this.mTexts = [];\n        this.mBackground = null;\n        this.mTitleLabel = null;\n        _super.prototype.destroy.call(this);\n    };\n    BasicRankPanel.prototype.preload = function () {\n        this.scene.load.image(_utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Background\"].getName(), _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Background\"].getPNG());\n        this.scene.load.image(_utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Border\"].getName(), _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Border\"].getPNG());\n        this.scene.load.atlas(\"clsBtn\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getRes(\"ui/common/common_clsBtn.png\"), _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getRes(\"ui/common/common_clsBtn.json\"));\n        this.scene.load.atlas(\"rank_atlas\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getRes(\"ui/rank/rank_atlas.png\"), _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getRes(\"ui/rank/rank_atlas.json\"));\n        _super.prototype.preload.call(this);\n    };\n    BasicRankPanel.prototype.init = function () {\n        if (this.mInitialized)\n            return;\n        this.setSize(328, 361);\n        this.mBackground = new _components_nine_patch__WEBPACK_IMPORTED_MODULE_3__[\"NinePatch\"](this.scene, 0, 0, 328, 361, _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Background\"].getName(), null, _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Background\"].getConfig());\n        this.add(this.mBackground);\n        this.mChildContainer = this.scene.make.container({}, false);\n        this.add(this.mChildContainer);\n        var border = new _components_nine_patch__WEBPACK_IMPORTED_MODULE_3__[\"NinePatch\"](this.scene, 0, 0, 315, 318, _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Border\"].getName(), null, _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Border\"].getConfig());\n        this.mChildContainer.add(border);\n        var titleIcon = this.scene.make.image({\n            x: -this.width / 2 + 20,\n            y: -this.height / 2 - 12,\n            key: \"rank_atlas\",\n            frame: \"icon.png\",\n        }, false).setOrigin(0, 0);\n        this.add(titleIcon);\n        this.mTitleLabel = this.scene.make.text({\n            x: -this.width / 2 + 54,\n            y: -this.height / 2 - 10,\n            text: \"\",\n            style: { font: _utils_font__WEBPACK_IMPORTED_MODULE_2__[\"Font\"].YAHEI_20_BOLD }\n        })\n            .setOrigin(0, 0)\n            .setStroke(\"#000000\", 2);\n        this.add(this.mTitleLabel);\n        _super.prototype.init.call(this);\n    };\n    BasicRankPanel.prototype.clearText = function () {\n        for (var _i = 0, _a = this.mTexts; _i < _a.length; _i++) {\n            var text = _a[_i];\n            text.destroy();\n        }\n        this.mTexts.length = 0;\n    };\n    return BasicRankPanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/Rank/BasicRankPanel.ts?");

/***/ }),

/***/ "./src/ui/Rank/RankMediator.ts":
/*!*************************************!*\
  !*** ./src/ui/Rank/RankMediator.ts ***!
  \*************************************/
/*! exports provided: RankMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RankMediator\", function() { return RankMediator; });\n/* harmony import */ var _RankPanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RankPanel */ \"./src/ui/Rank/RankPanel.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/interface/baseUI/UIType */ \"./lib/rexui/lib/ui/interface/baseUI/UIType.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar RankMediator = /** @class */ (function (_super) {\n    __extends(RankMediator, _super);\n    function RankMediator(layerManager, scene, world) {\n        var _this = _super.call(this) || this;\n        _this.world = world;\n        _this.mScene = scene;\n        _this.mlayerManager = layerManager;\n        _this.mUIType = _this.world.game.device.os.desktop ? _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_2__[\"UIType\"].Scene : _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_2__[\"UIType\"].Normal;\n        return _this;\n    }\n    RankMediator.prototype.tweenView = function (show) {\n        if (!this.mView || !this.world.game.device.os.desktop)\n            return;\n        this.mView.tweenView(show);\n    };\n    RankMediator.prototype.getName = function () {\n        return \"\";\n    };\n    RankMediator.prototype.getView = function () {\n        return this.mView;\n    };\n    RankMediator.prototype.hide = function () {\n        this.mShow = false;\n        if (this.mView) {\n            this.mView.hide();\n            this.mView = null;\n            if (!this.world.game.device.os.desktop) {\n                this.world.uiManager.checkUIState(RankMediator.NAME, true);\n            }\n        }\n    };\n    RankMediator.prototype.isSceneUI = function () {\n        return false;\n    };\n    RankMediator.prototype.isShow = function () {\n        return false;\n    };\n    RankMediator.prototype.resize = function () {\n        if (this.mView)\n            this.mView.resize();\n    };\n    RankMediator.prototype.show = function (param) {\n        if (this.mView && this.mView.isShow()) {\n            return;\n        }\n        this.mView = new _RankPanel__WEBPACK_IMPORTED_MODULE_0__[\"RankPanel\"](this.mScene, this.world);\n        this.mlayerManager.addToUILayer(this.mView);\n        if (param && param.length > 0) {\n            this.mView.addItem(param[0]);\n        }\n        this.mView.show();\n        if (!this.world.game.device.os.desktop) {\n            this.world.uiManager.checkUIState(RankMediator.NAME, false);\n        }\n        _super.prototype.show.call(this, param);\n    };\n    RankMediator.prototype.update = function (param) {\n        if (!this.mView)\n            return;\n        if (param && param.length > 0) {\n            this.mView.update(param[0]);\n        }\n    };\n    RankMediator.prototype.destroy = function () {\n        if (this.mView) {\n            if (this.mView.parentContainer) {\n                this.mView.parentContainer.remove(this.mView);\n            }\n            this.mView.destroy();\n            this.mView = null;\n        }\n        this.mScene = null;\n    };\n    RankMediator.NAME = \"RankMediator\";\n    return RankMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_1__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/Rank/RankMediator.ts?");

/***/ }),

/***/ "./src/ui/Rank/RankPanel.ts":
/*!**********************************!*\
  !*** ./src/ui/Rank/RankPanel.ts ***!
  \**********************************/
/*! exports provided: RankPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RankPanel\", function() { return RankPanel; });\n/* harmony import */ var _BasicRankPanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BasicRankPanel */ \"./src/ui/Rank/BasicRankPanel.ts\");\n/* harmony import */ var _baseView_icon_btn__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../baseView/icon.btn */ \"./src/ui/baseView/icon.btn.ts\");\n/* harmony import */ var _RankMediator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./RankMediator */ \"./src/ui/Rank/RankMediator.ts\");\n/* harmony import */ var _ui_mediatorType__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ui.mediatorType */ \"./src/ui/ui.mediatorType.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar RankPanel = /** @class */ (function (_super) {\n    __extends(RankPanel, _super);\n    function RankPanel(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.mCurrentIndex = 0;\n        return _this;\n    }\n    RankPanel.prototype.addListen = function () {\n        if (!this.mInitialized)\n            return;\n        if (!this.mWorld.game.device.os.desktop) {\n            this.mClsBtn.on(\"pointerup\", this.closeHandler, this);\n        }\n        else {\n            this.mZoonInBtn.on(\"pointerup\", this.onZoomHandler, this);\n        }\n    };\n    RankPanel.prototype.removeListen = function () {\n        if (!this.mInitialized)\n            return;\n        if (!this.mWorld.game.device.os.desktop) {\n            this.mClsBtn.off(\"pointerup\", this.closeHandler, this);\n        }\n        else {\n            this.mZoonInBtn.off(\"pointerup\", this.onZoomHandler, this);\n        }\n    };\n    RankPanel.prototype.resize = function (wid, hei) {\n        if (wid === void 0) { wid = 0; }\n        if (hei === void 0) { hei = 0; }\n        if (!this.mWorld) {\n            return;\n        }\n        var size = this.mWorld.getSize();\n        if (this.mWorld.game.device.os.desktop) {\n            this.x = size.width - this.width / 2;\n            this.y = this.height / 2 + 10;\n        }\n        else {\n            if (this.mWorld.game.scale.orientation === Phaser.Scale.Orientation.LANDSCAPE) {\n                this.x = size.width + wid >> 1;\n                this.y = size.height + hei >> 1;\n            }\n            else {\n                this.x = size.width + wid >> 1;\n                this.y = size.height + hei >> 1;\n            }\n        }\n        this.scale = this.mWorld.uiScale;\n    };\n    RankPanel.prototype.tweenView = function (show) {\n        if (!this.scene)\n            return;\n        var baseY = this.height / 2 + 10;\n        var toY = show === true ? baseY : baseY - 300;\n        var toAlpha = show === true ? 1 : 0;\n        this.scene.tweens.add({\n            targets: this,\n            duration: 200,\n            ease: \"Cubic.Out\",\n            props: {\n                y: { value: toY },\n                alpha: { value: toAlpha },\n            },\n        });\n    };\n    RankPanel.prototype.destroy = function () {\n        if (this.mZoonInBtn)\n            this.mZoonInBtn.destroy(true);\n        this.mZoonInBtn = null;\n        this.mCurrentIndex = 0;\n        _super.prototype.destroy.call(this);\n    };\n    RankPanel.prototype.init = function () {\n        _super.prototype.init.call(this);\n        if (!this.mWorld.game.device.os.desktop) {\n            this.mClsBtn = new _baseView_icon_btn__WEBPACK_IMPORTED_MODULE_1__[\"IconBtn\"](this.scene, this.mWorld, {\n                key: _ui_mediatorType__WEBPACK_IMPORTED_MODULE_3__[\"UIMediatorType\"].Close_Btn, bgResKey: \"clsBtn\", bgTextures: [\"btn_normal\", \"btn_over\", \"btn_click\"],\n                iconResKey: \"\", iconTexture: \"\", scale: 1, pngUrl: \"ui/common/common_clsBtn.png\", jsonUrl: \"ui/common/common_clsBtn.json\"\n            });\n            this.mClsBtn.x = this.width / 2 - 35;\n            this.mClsBtn.y = -this.height / 2;\n            this.mClsBtn.scaleX = this.mClsBtn.scaleY = 2;\n            // this.mClsBtn.on(\"pointerup\", this.closeHandler, this);\n            this.add(this.mClsBtn);\n        }\n        else {\n            this.mZoonInBtn = this.scene.make.image({\n                x: 0,\n                y: this.height / 2 - 10,\n                key: \"rank_atlas\",\n                frame: \"arrow.png\"\n            }, false);\n            this.add(this.mZoonInBtn);\n            this.mZoonInBtn.setInteractive();\n            // this.mZoonInBtn.on(\"pointerup\", this.onZoomHandler, this);\n        }\n        this.resize();\n    };\n    RankPanel.prototype.tweenComplete = function (show) {\n        _super.prototype.tweenComplete.call(this, show);\n        if (show) {\n            var items = this.getData(\"data\");\n            if (items)\n                this.addItem(items);\n        }\n    };\n    RankPanel.prototype.closeHandler = function () {\n        var med = this.mWorld.uiManager.getMediator(_RankMediator__WEBPACK_IMPORTED_MODULE_2__[\"RankMediator\"].NAME);\n        med.hide();\n    };\n    RankPanel.prototype.onZoomHandler = function () {\n        this.currentSizeIndex = this.mCurrentIndex === 0 ? 1 : 0;\n    };\n    Object.defineProperty(RankPanel.prototype, \"currentSizeIndex\", {\n        set: function (value) {\n            if (this.mCurrentIndex === value) {\n                return;\n            }\n            this.mCurrentIndex = value;\n            var h = this.mCurrentIndex === 1 ? 30 : this.height;\n            var zoonBtnY = this.mCurrentIndex === 1 ? -this.height / 2 + 20 : this.height / 2 - 10;\n            var bgY = this.mCurrentIndex === 1 ? -this.height / 2 + 15 : 0;\n            this.mBackground.resize(328, h);\n            this.mZoonInBtn.angle = this.mCurrentIndex === 1 ? 180 : 0;\n            if (h > 300) {\n                if (this.parentContainer)\n                    this.add(this.mChildContainer);\n            }\n            else {\n                this.remove(this.mChildContainer);\n            }\n            // this.mBackground.x = this.mBackground.width >> 1;\n            // this.mBackground.y = this.mBackground.height >> 1;\n            this.mBackground.y = bgY;\n            this.mZoonInBtn.y = zoonBtnY;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return RankPanel;\n}(_BasicRankPanel__WEBPACK_IMPORTED_MODULE_0__[\"BasicRankPanel\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/Rank/RankPanel.ts?");

/***/ }),

/***/ "./src/ui/ReAwardTips/ReAwardTip.ts":
/*!******************************************!*\
  !*** ./src/ui/ReAwardTips/ReAwardTip.ts ***!
  \******************************************/
/*! exports provided: ReAwardTips */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ReAwardTips\", function() { return ReAwardTips; });\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar ReAwardTips = /** @class */ (function (_super) {\n    __extends(ReAwardTips, _super);\n    function ReAwardTips(world) {\n        var _this = _super.call(this) || this;\n        _this.world = world;\n        _this.mEvent = new Phaser.Events.EventEmitter();\n        return _this;\n    }\n    ReAwardTips.prototype.on = function (event, fn, context) {\n        this.mEvent.on(event, fn, context);\n    };\n    ReAwardTips.prototype.off = function (event, fn, context) {\n        this.mEvent.off(event, fn, context);\n    };\n    ReAwardTips.prototype.register = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.addPacketListener(this);\n            this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_REQ_CLIENT_SHOW_REWARD_TIPS, this.onReAwardTipsHandler);\n        }\n    };\n    ReAwardTips.prototype.unregister = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.removePacketListener(this);\n        }\n    };\n    ReAwardTips.prototype.destroy = function () {\n        this.unregister();\n    };\n    Object.defineProperty(ReAwardTips.prototype, \"connection\", {\n        get: function () {\n            if (this.world) {\n                return this.world.connection;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ReAwardTips.prototype.onReAwardTipsHandler = function (packet) {\n        this.mEvent.emit(\"showAward\", packet.content);\n    };\n    return ReAwardTips;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PacketHandler\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/ReAwardTips/ReAwardTip.ts?");

/***/ }),

/***/ "./src/ui/ReAwardTips/ReAwardTipsMediator.ts":
/*!***************************************************!*\
  !*** ./src/ui/ReAwardTips/ReAwardTipsMediator.ts ***!
  \***************************************************/
/*! exports provided: ReAwardTipsMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ReAwardTipsMediator\", function() { return ReAwardTipsMediator; });\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\n/* harmony import */ var _ReAwardTip__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ReAwardTip */ \"./src/ui/ReAwardTips/ReAwardTip.ts\");\n/* harmony import */ var _ReAwardTipsPanel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ReAwardTipsPanel */ \"./src/ui/ReAwardTips/ReAwardTipsPanel.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar ReAwardTipsMediator = /** @class */ (function (_super) {\n    __extends(ReAwardTipsMediator, _super);\n    function ReAwardTipsMediator(scene, world) {\n        var _this = _super.call(this) || this;\n        _this.scene = scene;\n        _this.world = world;\n        _this.mReAwardTips = new _ReAwardTip__WEBPACK_IMPORTED_MODULE_1__[\"ReAwardTips\"](world);\n        _this.mReAwardTips.register();\n        _this.mReAwardTips.on(\"showAward\", _this.onShowAwardHandler, _this);\n        return _this;\n    }\n    ReAwardTipsMediator.prototype.show = function (param) {\n        if (this.mView) {\n            this.mView.appendAward(param);\n            return;\n        }\n        this.mView = new _ReAwardTipsPanel__WEBPACK_IMPORTED_MODULE_2__[\"ReAwardTipsPanel\"](this.scene, this.world);\n        this.mView.appendAward(param);\n        _super.prototype.show.call(this);\n        this.world.uiManager.getUILayerManager().addToDialogLayer(this.mView);\n    };\n    ReAwardTipsMediator.prototype.destroy = function () {\n        if (this.mReAwardTips) {\n            this.mReAwardTips.destroy();\n        }\n        _super.prototype.destroy.call(this);\n    };\n    ReAwardTipsMediator.prototype.onShowAwardHandler = function (content) {\n        this.show(content);\n    };\n    return ReAwardTipsMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_0__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/ReAwardTips/ReAwardTipsMediator.ts?");

/***/ }),

/***/ "./src/ui/ReAwardTips/ReAwardTipsPanel.ts":
/*!************************************************!*\
  !*** ./src/ui/ReAwardTips/ReAwardTipsPanel.ts ***!
  \************************************************/
/*! exports provided: ReAwardTipsPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ReAwardTipsPanel\", function() { return ReAwardTipsPanel; });\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _components_dynamic_image__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/dynamic.image */ \"./src/ui/components/dynamic.image.ts\");\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar ReAwardTipsPanel = /** @class */ (function (_super) {\n    __extends(ReAwardTipsPanel, _super);\n    function ReAwardTipsPanel(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.key = \"reaward_tips\";\n        _this.mTips = [];\n        _this.showingList = [];\n        return _this;\n    }\n    ReAwardTipsPanel.prototype.show = function () {\n        _super.prototype.show.call(this);\n        if (this.mInitialized) {\n            if (this.showingList.length === 0)\n                this.showAward();\n        }\n    };\n    ReAwardTipsPanel.prototype.appendAward = function (tips) {\n        // const award = new AwardItem(this.scene);\n        // this.add(award);\n        this.mTips.push(tips);\n        this.show();\n    };\n    ReAwardTipsPanel.prototype.addAward = function () {\n    };\n    ReAwardTipsPanel.prototype.preload = function () {\n        this.addImage(this.key, \"reaward_tips/bg.png\");\n        _super.prototype.preload.call(this);\n    };\n    ReAwardTipsPanel.prototype.init = function () {\n        this.setSize(20, 20);\n        _super.prototype.init.call(this);\n        this.y = 250 * this.dpr;\n    };\n    ReAwardTipsPanel.prototype.showAward = function () {\n        if (this.mTips.length < 1) {\n            return;\n        }\n        if (this.showingList.length >= 3) {\n            return;\n        }\n        for (var _i = 0, _a = this.showingList; _i < _a.length; _i++) {\n            var item = _a[_i];\n            // item.y -= 30 * this.dpr;\n            item.beUp();\n        }\n        // TODO \n        var award = new AwardItem(this.scene, this.key, this.dpr, this.scale);\n        award.once(\"destroy\", this.onDestroyHanlder, this);\n        award.once(\"show\", this.onAwardItemShowHandler, this);\n        award.setProp(this.mTips.pop());\n        // award.y = -(this.showingList.length * 30 * this.dpr);\n        this.add(award);\n        this.showingList.push(award);\n    };\n    ReAwardTipsPanel.prototype.onAwardItemShowHandler = function () {\n        this.showAward();\n    };\n    ReAwardTipsPanel.prototype.onDestroyHanlder = function (item) {\n        var index = this.showingList.indexOf(item);\n        if (index > -1) {\n            this.showingList.splice(index, 1);\n        }\n        this.showAward();\n    };\n    return ReAwardTipsPanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\nvar AwardItem = /** @class */ (function (_super) {\n    __extends(AwardItem, _super);\n    function AwardItem(scene, key, dpr, zoom) {\n        var _this = _super.call(this, scene) || this;\n        _this.mBg = _this.scene.make.image({\n            key: key,\n        }, false);\n        _this.mScaleRatio = dpr * zoom;\n        _this.mImage = new _components_dynamic_image__WEBPACK_IMPORTED_MODULE_1__[\"DynamicImage\"](_this.scene, 0, 0);\n        _this.mImage.setScale(dpr);\n        _this.mImage.setOrigin(0.5, 1);\n        _this.mImage.y = _this.mBg.height * zoom / 2;\n        _this.mLabel = _this.scene.make.text({\n            x: _this.mBg.width * _this.originX - 6 * _this.mScaleRatio,\n            style: {\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_2__[\"Font\"].DEFULT_FONT,\n                fontSize: 11 * _this.mScaleRatio,\n                color: \"#00FF00\"\n            }\n        }, false).setOrigin(1, 0.5);\n        // this.add([this.mBg, this.mImage, this.mLabel]);\n        _this.addAt(_this.mBg, 0);\n        _this.add([_this.mImage, _this.mLabel]);\n        _this.setSize(_this.mBg.width * zoom, _this.mBg.height * zoom);\n        return _this;\n    }\n    AwardItem.prototype.setProp = function (award) {\n        if (!award) {\n            return;\n        }\n        if (award.display && award.display.texturePath) {\n            this.mImage.load(_utils_resUtil__WEBPACK_IMPORTED_MODULE_3__[\"Url\"].getOsdRes(award.display.texturePath));\n        }\n        this.mLabel.setText(award.text);\n        this.showTween();\n    };\n    AwardItem.prototype.showTween = function () {\n        var _this = this;\n        this.scene.tweens.add({\n            targets: this,\n            props: {\n                x: \"+=\" + this.width * 0.3\n            },\n            ease: \"Bounce.easeOut\",\n            onComplete: function () {\n                _this.emit(\"show\");\n                _this.closeDelay = setTimeout(function () {\n                    _this.closeTween();\n                }, 1000);\n            },\n            duration: 300\n        });\n    };\n    AwardItem.prototype.closeTween = function () {\n        var _this = this;\n        if (!this.scene) {\n            return;\n        }\n        this.scene.tweens.add({\n            targets: this,\n            props: {\n                y: \"-=\" + 50 * this.mScaleRatio,\n                alpha: \"0\"\n            },\n            ease: \"Linear\",\n            duration: 300,\n            onComplete: function () {\n                _this.destroy();\n            }\n        });\n    };\n    AwardItem.prototype.beUp = function () {\n        var _this = this;\n        clearTimeout(this.closeDelay);\n        this.scene.tweens.add({\n            targets: this,\n            props: {\n                y: \"-=\" + 50 * this.mScaleRatio\n            },\n            ease: \"Linear\",\n            duration: 300,\n            onComplete: function () {\n                _this.closeDelay = setTimeout(function () {\n                    _this.closeTween();\n                }, 1000);\n            }\n        });\n    };\n    return AwardItem;\n}(Phaser.GameObjects.Container));\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/ReAwardTips/ReAwardTipsPanel.ts?");

/***/ }),

/***/ "./src/ui/Shop/ShopMediator.ts":
/*!*************************************!*\
  !*** ./src/ui/Shop/ShopMediator.ts ***!
  \*************************************/
/*! exports provided: ShopMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ShopMediator\", function() { return ShopMediator; });\n/* harmony import */ var _const_MessageType__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../const/MessageType */ \"./src/const/MessageType.ts\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _ShopPanel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ShopPanel */ \"./src/ui/Shop/ShopPanel.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/interface/baseUI/UIType */ \"./lib/rexui/lib/ui/interface/baseUI/UIType.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\nvar ShopMediator = /** @class */ (function (_super) {\n    __extends(ShopMediator, _super);\n    function ShopMediator(layerManager, scene, world) {\n        var _this = _super.call(this) || this;\n        _this._perPage = 50;\n        _this.isEnd = false;\n        _this.world = world;\n        _this.mScene = scene;\n        _this.mLayerManager = layerManager;\n        _this.mUIType = _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_5__[\"UIType\"].Normal;\n        return _this;\n    }\n    ShopMediator.prototype.isSceneUI = function () {\n        return false;\n    };\n    ShopMediator.prototype.resize = function () {\n        if (this.mView)\n            return this.mView.resize();\n    };\n    ShopMediator.prototype.getView = function () {\n        return this.mView;\n    };\n    ShopMediator.prototype.show = function (param) {\n        if (this.mView && this.mView.isShow() || this.mShow) {\n            return;\n        }\n        this.mView = new _ShopPanel__WEBPACK_IMPORTED_MODULE_3__[\"ShopPanel\"](this.mScene, this.world);\n        this.mView.show(param);\n        this.world.emitter.on(_const_MessageType__WEBPACK_IMPORTED_MODULE_0__[\"MessageType\"].QUERY_PACKAGE, this.queryPackageHandler, this);\n        this.world.emitter.on(_const_MessageType__WEBPACK_IMPORTED_MODULE_0__[\"MessageType\"].SYNC_USER_BALANCE, this.onSyncUserBalanceHandler, this);\n        this.requestVirtualWorldQueryPackage(param[0].id, 1, _ShopPanel__WEBPACK_IMPORTED_MODULE_3__[\"ShopPanel\"].ShopSlotCount);\n        this.mLayerManager.addToUILayer(this.mView);\n        this.world.uiManager.checkUIState(ShopMediator.NAME, false);\n        _super.prototype.show.call(this, param);\n    };\n    ShopMediator.prototype.update = function (param) {\n        if (this.mView)\n            this.mView.update(param);\n    };\n    ShopMediator.prototype.hide = function () {\n        if (!this.mView)\n            return;\n        this.mShow = false;\n        this.world.emitter.off(_const_MessageType__WEBPACK_IMPORTED_MODULE_0__[\"MessageType\"].QUERY_PACKAGE, this.queryPackageHandler, this);\n        this.world.emitter.off(_const_MessageType__WEBPACK_IMPORTED_MODULE_0__[\"MessageType\"].SYNC_USER_BALANCE, this.onSyncUserBalanceHandler, this);\n        this.mView.hide();\n        this.mView = null;\n        this.world.uiManager.checkUIState(ShopMediator.NAME, true);\n        _super.prototype.hide.call(this);\n    };\n    ShopMediator.prototype.destroy = function () {\n        this.world.emitter.off(_const_MessageType__WEBPACK_IMPORTED_MODULE_0__[\"MessageType\"].QUERY_PACKAGE, this.queryPackageHandler, this);\n        this.world.emitter.off(_const_MessageType__WEBPACK_IMPORTED_MODULE_0__[\"MessageType\"].SYNC_USER_BALANCE, this.onSyncUserBalanceHandler, this);\n        this.world = null;\n        this.mScene = null;\n        this._curPage = 0;\n        this.fetching = false;\n        this.isEnd = false;\n        _super.prototype.destroy.call(this);\n    };\n    ShopMediator.prototype.isShow = function () {\n        return this.mView ? this.mView.isShow() : false;\n    };\n    ShopMediator.prototype.requestVirtualWorldQueryPackage = function (bagId, page, perPage) {\n        var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_1__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_QUERY_PACKAGE);\n        var content = pkt.content;\n        content.id = bagId;\n        content.page = page;\n        content.perPage = perPage;\n        this.world.connection.send(pkt);\n    };\n    ShopMediator.prototype.queryShopProps = function (page, perPage) {\n        if (page === void 0) { page = 1; }\n        if (perPage === void 0) { perPage = 50; }\n        if (!!this.mParam === false)\n            return;\n        this.fetching = true;\n        var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_1__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_QUERY_PACKAGE);\n        var content = pkt.content;\n        content.id = this.mParam[0].id;\n        content.page = page;\n        content.perPage = perPage;\n        this.world.connection.send(pkt);\n    };\n    ShopMediator.prototype.queryPackageHandler = function (data) {\n        if (data.items.length > 0 && data.id === this.mParam[0].id) {\n            this.mView.setDataList(data);\n            //  this.mView.addItems(data.items);\n        }\n        else {\n            this.isEnd = true;\n        }\n        this.fetching = false;\n    };\n    ShopMediator.prototype.onShowItemHandler = function (item) {\n        var prices = item.price;\n        for (var _i = 0, prices_1 = prices; _i < prices_1.length; _i++) {\n            var price = prices_1[_i];\n            if (price.coinType === pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].CoinType.TU_DING_COIN) {\n                // if (price.price > this.mView.price) {\n                // todo alert\n                // Globals.PromptManager.showAlert(\"\", this.onPayTuDingHandler, this, AlertmView.OK | AlertmView.CANCEL);\n                // return;\n                // }\n            }\n        }\n        var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_1__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_TARGET_UI);\n        var content = pkt.content;\n        content.uiId = this.mParam[0].id;\n        content.componentId = item.id;\n        this.world.connection.send(pkt);\n        // Globals.SocketManager.send(pkt);\n    };\n    ShopMediator.prototype.syncUserBalance = function () {\n        var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_1__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_SYNC_USER_BALANCE);\n        this.world.connection.send(pkt);\n        // Globals.SocketManager.send(pkt);\n    };\n    ShopMediator.prototype.onChangeIndex = function (rate) {\n        if (rate >= 0.9 && this.fetching === false && this.isEnd === false) {\n            this._curPage++;\n            this.queryShopProps(this._curPage);\n        }\n    };\n    ShopMediator.prototype.onSyncUserBalanceHandler = function (balance) {\n        if (!!this.mView === false) {\n            return;\n        }\n        // this.mView.setUserBalance(balance);\n    };\n    ShopMediator.prototype.onPayTuDingHandler = function () {\n        // shell.openExternal(\"https://www.tooqing.com/recharge\");\n    };\n    ShopMediator.NAME = \"ShopMediator\";\n    return ShopMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_4__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/Shop/ShopMediator.ts?");

/***/ }),

/***/ "./src/ui/Shop/ShopPanel.ts":
/*!**********************************!*\
  !*** ./src/ui/Shop/ShopPanel.ts ***!
  \**********************************/
/*! exports provided: ShopPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ShopPanel\", function() { return ShopPanel; });\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _shop_itemSlot__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./shop.itemSlot */ \"./src/ui/Shop/shop.itemSlot.ts\");\n/* harmony import */ var _ShopMediator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ShopMediator */ \"./src/ui/Shop/ShopMediator.ts\");\n/* harmony import */ var _components_nine_patch__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/nine.patch */ \"./src/ui/components/nine.patch.ts\");\n/* harmony import */ var _baseView_icon_btn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../baseView/icon.btn */ \"./src/ui/baseView/icon.btn.ts\");\n/* harmony import */ var _ui_mediatorType__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ui.mediatorType */ \"./src/ui/ui.mediatorType.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\nvar ShopPanel = /** @class */ (function (_super) {\n    __extends(ShopPanel, _super);\n    function ShopPanel(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.mWorld = world;\n        return _this;\n    }\n    ShopPanel.prototype.resize = function (wid, hei) {\n        var size = this.mWorld.getSize();\n        if (this.mWorld.game.device.os.desktop) {\n            this.x = size.width + wid >> 1;\n            this.y = size.height + hei >> 1;\n        }\n        else {\n            if (this.mWorld.game.scale.orientation === Phaser.Scale.Orientation.LANDSCAPE) {\n                this.x = size.width + wid >> 1;\n                this.y = size.height + hei >> 1;\n            }\n            else {\n                this.x = size.width + wid >> 1;\n                this.y = size.height + hei >> 1;\n            }\n        }\n        this.scale = this.mWorld.uiScale;\n    };\n    ShopPanel.prototype.setDataList = function (value) {\n        this.mShopData = value;\n        if (!this.mInitialized) {\n            return;\n        }\n        this.refreshDataList();\n    };\n    ShopPanel.prototype.destroy = function () {\n        if (this.mShopItemSlotList) {\n            this.mShopItemSlotList.forEach(function (slot) {\n                if (slot)\n                    slot.destroy();\n            });\n            this.mShopItemSlotList.length = 0;\n            this.mShopItemSlotList = null;\n        }\n        this.mShopData = null;\n        this.mInitialized = false;\n        _super.prototype.destroy.call(this);\n    };\n    ShopPanel.prototype.addListen = function () {\n        if (!this.mInitialized)\n            return;\n        this.mClsBtn.on(\"pointerup\", this.shopMedClose, this);\n    };\n    ShopPanel.prototype.removeListen = function () {\n        if (!this.mInitialized)\n            return;\n        this.mClsBtn.off(\"pointerup\", this.shopMedClose, this);\n    };\n    ShopPanel.prototype.preload = function () {\n        if (!this.mScene) {\n            return;\n        }\n        this.mScene.load.image(_utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Border\"].getName(), _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Border\"].getPNG());\n        this.mScene.load.image(_utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Background\"].getName(), _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Background\"].getPNG());\n        this.mScene.load.atlas(\"itemChose\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getRes(\"ui/bag/itemChose.png\"), _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getRes(\"ui/bag/itemChose.json\"));\n        this.mScene.load.atlas(\"clsBtn\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getRes(\"ui/common/common_clsBtn.png\"), _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getRes(\"ui/common/common_clsBtn.json\"));\n        this.mScene.load.atlas(\"shopView\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getRes(\"ui/shop/shopView.png\"), _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getRes(\"ui/shop/shopView.json\"));\n        _super.prototype.preload.call(this);\n    };\n    ShopPanel.prototype.loadComplete = function (loader, totalComplete, totalFailed) {\n        var selectFramesObj = this.mScene.textures.get(\"itemChose\").frames;\n        var tmpSelectFrames = [];\n        for (var key in selectFramesObj) {\n            if (key === \"__BASE\")\n                continue;\n            var frame = selectFramesObj[key];\n            if (!frame)\n                continue;\n            tmpSelectFrames.push(key);\n        }\n        // jsonframesanims\n        this.mScene.anims.create({\n            key: \"itemSelectFrame\",\n            frames: this.mScene.anims.generateFrameNumbers(\"itemChose\", { start: 0, end: 8, frames: tmpSelectFrames }),\n            frameRate: 33,\n            yoyo: true,\n            repeat: -1\n        });\n        _super.prototype.loadComplete.call(this, loader, totalComplete, totalFailed);\n    };\n    ShopPanel.prototype.init = function () {\n        var size = this.mWorld.getSize();\n        this.mBg = new _components_nine_patch__WEBPACK_IMPORTED_MODULE_4__[\"NinePatch\"](this.scene, 0, 0, 500, 350, _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Background\"].getName(), null, _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Background\"].getConfig());\n        this.mBg.x = 0;\n        this.mBg.y = 0;\n        this.setSize(this.mBg.width, this.mBg.height);\n        this.addAt(this.mBg, 0);\n        this.mBorder = new _components_nine_patch__WEBPACK_IMPORTED_MODULE_4__[\"NinePatch\"](this.scene, 0, 0, this.mBg.width - 10, this.mBg.height - 30, _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Border\"].getName(), null, _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Border\"].getConfig());\n        this.mBorder.x = this.mBg.x;\n        this.mBorder.y = this.mBg.y + 10;\n        this.addAt(this.mBorder, 1);\n        if (this.mWorld.game.device.os.desktop) {\n            this.x = size.width >> 1;\n            this.y = size.height - 300;\n        }\n        else {\n            if (this.mWorld.game.scale.orientation === Phaser.Scale.Orientation.LANDSCAPE) {\n                this.x = size.width >> 1;\n                this.y = size.height >> 1;\n            }\n            else {\n                this.x = size.width >> 1;\n                this.y = size.height >> 1;\n            }\n        }\n        var titleCon = this.mScene.make.sprite(undefined, false);\n        titleCon.setTexture(\"shopView\", \"shopView_titleIcon\");\n        titleCon.x = (-this.mBg.width >> 1) + 35;\n        titleCon.y = -this.mBg.height >> 1;\n        this.add(titleCon);\n        var titleTF = this.mScene.make.text(undefined, false);\n        titleTF.setFontFamily(\"Tahoma\");\n        titleTF.setFontStyle(\"bold\");\n        titleTF.setFontSize(20);\n        titleTF.setText(\"\");\n        titleTF.x = titleCon.x + titleCon.width - 10;\n        titleTF.y = titleCon.y - (titleTF.height >> 1);\n        this.add(titleTF);\n        this.mShopItemSlotList = [];\n        var itemSlot;\n        var tmpX;\n        var tmpY;\n        for (var i = 0; i < 20; i++) {\n            tmpX = (i % 5) * 88 - this.mBg.width / 2 + 75;\n            tmpY = Math.floor(i / 5) * 82 - this.mBg.height / 2 + 72;\n            itemSlot = new _shop_itemSlot__WEBPACK_IMPORTED_MODULE_2__[\"ShopItemSlot\"](this.mScene, this.mWorld, this, tmpX, tmpY, \"shopView\", \"ui/shop/shopView.png\", \"ui/shop/shopView.json\", \"shopView_bagSlot\", \"itemSelectFrame\");\n            itemSlot.createUI();\n            this.mShopItemSlotList.push(itemSlot);\n        }\n        this.mClsBtn = new _baseView_icon_btn__WEBPACK_IMPORTED_MODULE_5__[\"IconBtn\"](this.mScene, this.mWorld, {\n            key: _ui_mediatorType__WEBPACK_IMPORTED_MODULE_6__[\"UIMediatorType\"].Close_Btn, bgResKey: \"clsBtn\", bgTextures: [\"btn_normal\", \"btn_over\", \"btn_click\"],\n            iconResKey: \"\", iconTexture: \"\", scale: 1, pngUrl: \"ui/shop/shopView.png\", jsonUrl: \"ui/shop/shopView.json\"\n        });\n        this.mClsBtn.x = (this.width >> 1) - 65;\n        this.mClsBtn.y = -this.height >> 1;\n        this.mClsBtn.scaleX = this.mClsBtn.scaleY = 2;\n        this.add(this.mClsBtn);\n        this.mWorld.uiManager.getUILayerManager().addToToolTipsLayer(this);\n        // ui\n        if (this.mShopData) {\n            this.refreshDataList();\n        }\n        _super.prototype.init.call(this);\n    };\n    ShopPanel.prototype.tweenComplete = function (show) {\n        _super.prototype.tweenComplete.call(this, show);\n        if (show)\n            this.mWorld.uiManager.getMediator(_ShopMediator__WEBPACK_IMPORTED_MODULE_3__[\"ShopMediator\"].NAME).resize();\n    };\n    ShopPanel.prototype.refreshDataList = function () {\n        if (!this.mShopData) {\n            // Logger.getInstance().error(\"this.mDataList is undefiend\");\n            return;\n        }\n        var len = ShopPanel.ShopSlotCount;\n        var item;\n        for (var i = 0; i < len; i++) {\n            item = this.mShopItemSlotList[i];\n            if (!item)\n                continue;\n            item.shopDataChange(this.mShopData.items[i], this.mShopData.id);\n        }\n    };\n    ShopPanel.prototype.shopMedClose = function () {\n        var med = this.mWorld.uiManager.getMediator(_ShopMediator__WEBPACK_IMPORTED_MODULE_3__[\"ShopMediator\"].NAME);\n        med.hide();\n    };\n    ShopPanel.ShopSlotCount = 20;\n    return ShopPanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/Shop/ShopPanel.ts?");

/***/ }),

/***/ "./src/ui/Shop/shop.itemSlot.ts":
/*!**************************************!*\
  !*** ./src/ui/Shop/shop.itemSlot.ts ***!
  \**************************************/
/*! exports provided: ShopItemSlot */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ShopItemSlot\", function() { return ShopItemSlot; });\n/* harmony import */ var _bag_item_slot__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../bag/item.slot */ \"./src/ui/bag/item.slot.ts\");\n/* harmony import */ var _bag_dragDropIcon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../bag/dragDropIcon */ \"./src/ui/bag/dragDropIcon.ts\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _const_res_const__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../const/res.const */ \"./src/const/res.const.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _components_dynamic_image__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/dynamic.image */ \"./src/ui/components/dynamic.image.ts\");\n/* harmony import */ var _tips_toolTip__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../tips/toolTip */ \"./src/ui/tips/toolTip.ts\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_7__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\nvar ShopItemSlot = /** @class */ (function (_super) {\n    __extends(ShopItemSlot, _super);\n    function ShopItemSlot(scene, world, parentCon, x, y, resStr, respng, resjson, resSlot, selectRes, subscriptRes) {\n        return _super.call(this, scene, world, parentCon, x, y, resStr, respng, resjson, resSlot, selectRes) || this;\n    }\n    ShopItemSlot.prototype.shopDataChange = function (val, packID) {\n        if (!val)\n            return;\n        this.mPackageID = packID;\n        _super.prototype.dataChange.call(this, val);\n        var prices = val.price;\n        var priceLen = prices.length;\n        for (var i = 0; i < priceLen; i++) {\n            var png = void 0;\n            var key = void 0;\n            if (prices[i].coinType === pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].CoinType.TU_DING_COIN) {\n                key = _const_res_const__WEBPACK_IMPORTED_MODULE_3__[\"UI\"].TuDing18.getName();\n                png = _const_res_const__WEBPACK_IMPORTED_MODULE_3__[\"UI\"].TuDing18.getPNG();\n            }\n            this.makeCoin(prices[i], i * 20 + 30);\n        }\n    };\n    ShopItemSlot.prototype.destroy = function () {\n        if (this.moneyIcon) {\n            this.moneyIcon.destroy(true);\n            this.moneyIcon = null;\n        }\n        _super.prototype.destroy.call(this);\n    };\n    ShopItemSlot.prototype.makeCoin = function (price, y) {\n        var png;\n        var key;\n        if (price.coinType === pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].CoinType.TU_DING_COIN) {\n            key = _const_res_const__WEBPACK_IMPORTED_MODULE_3__[\"UI\"].TuDing18.getName();\n            png = _const_res_const__WEBPACK_IMPORTED_MODULE_3__[\"UI\"].TuDing18.getPNG();\n        }\n        // const moneyIcon = this.mScene.make.image(undefined, false);\n        this.moneyIcon = new _components_dynamic_image__WEBPACK_IMPORTED_MODULE_5__[\"DynamicImage\"](this.mScene, 0, 0);\n        this.moneyIcon.x = (-this.mWid >> 1) + 15;\n        this.moneyIcon.y = y;\n        this.toolTipCon.add(this.moneyIcon);\n        this.moneyIcon.load(png);\n        var priceText = this.mScene.make.text(undefined, false);\n        priceText.setFontFamily(\"Tahoma\");\n        // priceText.setFontStyle(\"bold\");\n        priceText.setFontSize(15);\n        priceText.x = -this.mWid / 2 + this.moneyIcon.width + 20;\n        priceText.y = y - 9;\n        this.toolTipCon.add(priceText);\n        priceText.setText(price.price.toString());\n    };\n    ShopItemSlot.prototype.onLoadCompleteHandler = function () {\n        this.mWid = 80;\n        this.mHei = 88;\n        this.itemBG = this.mScene.make.sprite(undefined, false);\n        this.itemBG.setTexture(this.mResStr, this.mResSlot);\n        this.itemBG.y = -10;\n        this.toolTipCon.setSize(this.mWid, this.mHei);\n        this.toolTipCon.addAt(this.itemBG, 0);\n        this.mIcon = new _bag_dragDropIcon__WEBPACK_IMPORTED_MODULE_1__[\"DragDropIcon\"](this.mScene, 0, -10);\n        this.toolTipCon.addAt(this.mIcon, 1);\n        if (this.mSubScriptRes) {\n            this.mSubScriptSprite = this.mScene.make.sprite(undefined, false);\n            this.mSubScriptSprite.setTexture(this.mResStr, this.mSubScriptRes);\n            this.mSubScriptSprite.x = this.mSubScriptSprite.width - this.itemBG.width >> 1;\n            this.mSubScriptSprite.y = this.mSubScriptSprite.height - this.itemBG.height >> 1;\n            // this.con.addAt(this.mSubScriptSprite, 2);\n        }\n        if (this.isTipBoo) {\n            this.toolTip = new _tips_toolTip__WEBPACK_IMPORTED_MODULE_6__[\"ToolTip\"](this.mScene, \"itemSlotTip\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_4__[\"Url\"].getRes(\"ui/toolTip/toolTip.json\"), _utils_resUtil__WEBPACK_IMPORTED_MODULE_4__[\"Url\"].getRes(\"ui/toolTip/toolTip.png\"), this.mWorld.uiScale);\n        }\n        this.toolTipCon.setInteractive(new Phaser.Geom.Rectangle(0, 0, this.itemBG.width, 56), Phaser.Geom.Rectangle.Contains);\n        this.toolTipCon.on(\"pointerover\", this.overHandler, this);\n        this.toolTipCon.on(\"pointerout\", this.outHandler, this);\n        this.toolTipCon.on(\"pointerdown\", this.downHandler, this);\n        this.toolTipCon.on(\"pointerup\", this.outHandler, this);\n        this.minitialize = true;\n        if (this.mData) {\n            this.dataChange(this.mData);\n        }\n        this.mSelectSprite = this.mScene.make.sprite(undefined, false);\n        this.createTexture(this.mWid, this.mHei);\n    };\n    ShopItemSlot.prototype.overHandler = function (pointer) {\n        _super.prototype.overHandler.call(this, pointer);\n        this.mSelectSprite.y -= 10;\n    };\n    ShopItemSlot.prototype.downHandler = function (pointer) {\n        if (!this.mData)\n            return;\n        var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_7__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_TARGET_UI);\n        var content = pkt.content;\n        content.uiId = this.mPackageID;\n        content.componentId = this.mData.id;\n        this.mWorld.connection.send(pkt);\n    };\n    ShopItemSlot.prototype.outHandler = function (pointer) {\n        _super.prototype.outHandler.call(this, pointer);\n    };\n    ShopItemSlot.prototype.createTexture = function (wid, hei) {\n        var COLOR_BG = 0xAAA9A9;\n        var COLOR_LINE = 0xAAA9A9;\n        var bgGraphics = this.mScene.add.graphics();\n        bgGraphics.fillStyle(COLOR_BG, .3);\n        bgGraphics.fillRoundedRect(0, 0, wid, hei, 5);\n        bgGraphics.generateTexture(\"selectBg\", wid, hei);\n        bgGraphics.clear();\n    };\n    return ShopItemSlot;\n}(_bag_item_slot__WEBPACK_IMPORTED_MODULE_0__[\"ItemSlot\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/Shop/shop.itemSlot.ts?");

/***/ }),

/***/ "./src/ui/Task/Task.ts":
/*!*****************************!*\
  !*** ./src/ui/Task/Task.ts ***!
  \*****************************/
/*! exports provided: Task */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Task\", function() { return Task; });\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar Task = /** @class */ (function (_super) {\n    __extends(Task, _super);\n    function Task(world) {\n        var _this = _super.call(this) || this;\n        _this.world = world;\n        _this.mEvent = new Phaser.Events.EventEmitter();\n        return _this;\n    }\n    Task.prototype.register = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.addPacketListener(this);\n            this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_PKT_QUERY_QUEST_LIST, this.onRetQuestList);\n            this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_PKT_QUERY_QUEST_DETAIL, this.onRetQuestDetail);\n        }\n    };\n    Task.prototype.unregister = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.removePacketListener(this);\n        }\n    };\n    Task.prototype.on = function (event, fn, context) {\n        this.mEvent.on(event, fn, context);\n    };\n    Task.prototype.off = function (event, fn, context) {\n        this.mEvent.off(event, fn, context);\n    };\n    Task.prototype.destroy = function () {\n        this.unregister();\n        this.mEvent.destroy();\n    };\n    Object.defineProperty(Task.prototype, \"connection\", {\n        get: function () {\n            if (this.world) {\n                return this.world.connection;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Task.prototype.queryQuestList = function () {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_PKT_QUERY_QUEST_LIST);\n        this.connection.send(packet);\n    };\n    Task.prototype.queryQuestDetail = function (id) {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_PKT_QUERY_QUEST_DETAIL);\n        var content = packet.content;\n        content.id = id;\n        this.connection.send(packet);\n    };\n    Task.prototype.querySubmitQuest = function (id) {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_PKT_SUBMIT_QUEST);\n        var content = packet.content;\n        content.id = id;\n        this.connection.send(packet);\n    };\n    Task.prototype.onRetQuestList = function (packet) {\n        var content = packet.content;\n        this.mEvent.emit(\"questlist\", content.quests);\n    };\n    Task.prototype.onRetQuestDetail = function (packet) {\n        var content = packet.content;\n        this.mEvent.emit(\"questdetail\", content.quest);\n    };\n    return Task;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PacketHandler\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/Task/Task.ts?");

/***/ }),

/***/ "./src/ui/Task/TaskMediator.ts":
/*!*************************************!*\
  !*** ./src/ui/Task/TaskMediator.ts ***!
  \*************************************/
/*! exports provided: TaskMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TaskMediator\", function() { return TaskMediator; });\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\n/* harmony import */ var _Task__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Task */ \"./src/ui/Task/Task.ts\");\n/* harmony import */ var _TaskPanel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TaskPanel */ \"./src/ui/Task/TaskPanel.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar TaskMediator = /** @class */ (function (_super) {\n    __extends(TaskMediator, _super);\n    function TaskMediator(layerMgr, scene, worldService) {\n        var _this = _super.call(this) || this;\n        _this.scene = scene;\n        _this.layerMgr = layerMgr;\n        _this.world = worldService;\n        return _this;\n    }\n    TaskMediator.prototype.show = function () {\n        if ((this.mView && this.mView.isShow()) || this.mShow) {\n            return;\n        }\n        if (!this.mView) {\n            this.mView = new _TaskPanel__WEBPACK_IMPORTED_MODULE_2__[\"TaskPanel\"](this.scene, this.world);\n            this.mView.on(\"hide\", this.onHideView, this);\n            this.mView.on(\"questlist\", this.onQueryQuestList, this);\n            this.mView.on(\"questdetail\", this.onQueryQuestDetail, this);\n            this.mView.on(\"submitquest\", this.onQuerySubmitQuest, this);\n        }\n        if (!this.task) {\n            this.task = new _Task__WEBPACK_IMPORTED_MODULE_1__[\"Task\"](this.world);\n            this.task.register();\n            this.task.on(\"questlist\", this.onRetQuestList, this);\n            this.task.on(\"questdetail\", this.onRetQuestDetail, this);\n        }\n        this.layerMgr.addToUILayer(this.mView);\n        this.mView.show();\n    };\n    TaskMediator.prototype.isSceneUI = function () {\n        return true;\n    };\n    TaskMediator.prototype.destroy = function () {\n        if (this.task) {\n            this.task.destroy();\n            this.task = undefined;\n        }\n        if (this.mView) {\n            this.mView.hide();\n            this.mView = undefined;\n        }\n    };\n    TaskMediator.prototype.onHideView = function () {\n        this.destroy();\n    };\n    TaskMediator.prototype.onQueryQuestList = function () {\n        this.task.queryQuestList();\n    };\n    TaskMediator.prototype.onQueryQuestDetail = function (id) {\n        this.task.queryQuestDetail(id);\n    };\n    TaskMediator.prototype.onQuerySubmitQuest = function (id) {\n        this.task.querySubmitQuest(id);\n    };\n    TaskMediator.prototype.onRetQuestList = function (quests) {\n        this.mView.setTaskDatas(quests);\n    };\n    TaskMediator.prototype.onRetQuestDetail = function (quest) {\n        this.mView.setTaskDetail(quest);\n    };\n    return TaskMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_0__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/Task/TaskMediator.ts?");

/***/ }),

/***/ "./src/ui/Task/TaskPanel.ts":
/*!**********************************!*\
  !*** ./src/ui/Task/TaskPanel.ts ***!
  \**********************************/
/*! exports provided: TaskPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TaskPanel\", function() { return TaskPanel; });\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _ui_atals_name__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ui.atals.name */ \"./src/ui/ui.atals.name.ts\");\n/* harmony import */ var _i18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../i18n */ \"./src/i18n.ts\");\n/* harmony import */ var _components_dynamic_image__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/dynamic.image */ \"./src/ui/components/dynamic.image.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_button_Button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/button/Button */ \"./lib/rexui/lib/ui/button/Button.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_scroller_GameScroller__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/scroller/GameScroller */ \"./lib/rexui/lib/ui/scroller/GameScroller.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_button_NineSliceButton__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/button/NineSliceButton */ \"./lib/rexui/lib/ui/button/NineSliceButton.ts\");\n/* harmony import */ var _Handler_Handler__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../Handler/Handler */ \"./src/Handler/Handler.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/ui-components */ \"./lib/rexui/lib/ui/ui-components.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\n\n\n\n\nvar TaskPanel = /** @class */ (function (_super) {\n    __extends(TaskPanel, _super);\n    function TaskPanel(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.key = \"task_ui\";\n        _this.taskItems = [];\n        return _this;\n        // this.scale = 1;\n    }\n    TaskPanel.prototype.resize = function (width, height) {\n        var w = this.scaleWidth;\n        var h = this.scaleHeight;\n        _super.prototype.resize.call(this, w, h);\n        this.setSize(w, h);\n        this.blackBg.clear();\n        this.blackBg.fillStyle(0, 0.5);\n        this.blackBg.fillRoundedRect(-this.x, -this.y, w, h);\n        this.content.x = w * 0.5;\n        this.content.y = h * 0.5;\n        this.mGameScroll.refreshMask();\n        this.blackBg.setInteractive(new Phaser.Geom.Rectangle(0, 0, w, h), Phaser.Geom.Rectangle.Contains);\n    };\n    TaskPanel.prototype.show = function (param) {\n        this.mShowData = param;\n        if (this.mPreLoad)\n            return;\n        if (!this.mInitialized) {\n            this.preload();\n            return;\n        }\n        if (this.mShow)\n            return;\n        if (this.soundGroup && this.soundGroup.open)\n            this.playSound(this.soundGroup.open);\n        if (!this.mTweening && this.mTweenBoo) {\n            this.showTween(true);\n        }\n        else {\n            this.mShow = true;\n        }\n        this.setInteractive();\n        this.addListen();\n    };\n    TaskPanel.prototype.addListen = function () {\n        if (!this.mInitialized)\n            return;\n        this.closeBtn.on(\"pointerup\", this.OnClosePanel, this);\n    };\n    TaskPanel.prototype.removeListen = function () {\n        if (!this.mInitialized)\n            return;\n        this.closeBtn.off(\"pointerup\", this.OnClosePanel, this);\n    };\n    TaskPanel.prototype.preload = function () {\n        this.addAtlas(this.key, \"task/task.png\", \"task/task.json\");\n        this.addAtlas(_ui_atals_name__WEBPACK_IMPORTED_MODULE_3__[\"UIAtlasKey\"].commonKey, _ui_atals_name__WEBPACK_IMPORTED_MODULE_3__[\"UIAtlasName\"].commonUrl + \".png\", _ui_atals_name__WEBPACK_IMPORTED_MODULE_3__[\"UIAtlasName\"].commonUrl + \".json\");\n        _super.prototype.preload.call(this);\n    };\n    TaskPanel.prototype.init = function () {\n        this.setSize(this.scaleWidth, this.scaleWidth);\n        this.blackBg = this.scene.make.graphics(undefined, false);\n        this.add(this.blackBg);\n        var conWdith = 300 * this.dpr;\n        var conHeight = 418 * this.dpr;\n        this.content = this.scene.make.container(undefined, false);\n        this.content.setSize(conWdith, conHeight);\n        this.add(this.content);\n        this.bg = new _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_11__[\"NineSlicePatch\"](this.scene, 0, 0, conWdith, conHeight, _ui_atals_name__WEBPACK_IMPORTED_MODULE_3__[\"UIAtlasKey\"].commonKey, \"bg\", {\n            left: 40,\n            top: 40,\n            bottom: 40,\n            right: 40,\n        });\n        var bgwidth = this.bg.width;\n        var bgHeight = this.bg.height;\n        var posY = -this.bg.height * 0.5;\n        this.titlebg = this.scene.make.image({ x: 0, y: posY, key: this.key, frame: \"title\" });\n        this.titlebg.texture.setFilter(Phaser.Textures.FilterMode.LINEAR);\n        this.titlebg.y = posY - this.titlebg.height * 0.5 + 20 * this.dpr;\n        var mfont = \"bold \" + 15 * this.dpr + \"px Source Han Sans\";\n        this.tilteName = this.scene.make.text({ x: 0, y: posY - 12 * this.dpr, text: _i18n__WEBPACK_IMPORTED_MODULE_4__[\"i18n\"].t(\"task.title\"), style: { font: mfont, color: \"#8F4300\", fontSize: 15 * this.dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT } }).setOrigin(0.5, 0);\n        this.closeBtn = this.scene.make.image({ x: this.bg.width * 0.5 - this.dpr * 5, y: posY + this.dpr * 5, key: _ui_atals_name__WEBPACK_IMPORTED_MODULE_3__[\"UIAtlasKey\"].commonKey, frame: \"close\" });\n        this.tilteName.setStroke(\"#8F4300\", 1);\n        this.closeBtn.texture.setFilter(Phaser.Textures.FilterMode.LINEAR);\n        this.closeBtn.setInteractive();\n        var optionWidth = 253 * this.dpr;\n        var optionHeight = 26 * this.dpr;\n        this.optionBtn = this.scene.make.text({ x: 0, y: 0, text: \"\", style: { color: \"#8F4300\", fontSize: 20 * this.dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT } }).setOrigin(0.5);\n        this.optionBtn.setInteractive();\n        this.optionBtn.on(\"pointerup\", this.onOpenOptionHandler, this);\n        this.optionArrow = this.scene.make.image({ x: 0, y: 0, key: this.key, frame: \"drop_down\" });\n        this.optionArrow.texture.setFilter(Phaser.Textures.FilterMode.LINEAR);\n        this.optionBtn.x = -bgwidth * 0.5 + 50 * this.dpr;\n        this.optionBtn.y = -bgHeight * 0.5 + 30 * this.dpr;\n        this.optionArrow.x = this.optionBtn.x + 30 * this.dpr;\n        this.optionArrow.y = -bgHeight * 0.5 + 30 * this.dpr;\n        var optionLine = this.scene.make.graphics(undefined, false);\n        optionLine.clear();\n        optionLine.fillStyle(0xc0c0c0, 1);\n        optionLine.fillRect(-optionWidth * 0.5, -1, optionWidth, 2);\n        optionLine.y = -bgHeight * 0.5 + 50 * this.dpr;\n        this.optionCon = this.scene.make.container(undefined, false);\n        this.optionCon.visible = false;\n        this.optionCon.y = -bgHeight * 0.5 + 50 * this.dpr;\n        this.mGameScroll = new _lib_rexui_lib_ui_scroller_GameScroller__WEBPACK_IMPORTED_MODULE_7__[\"GameScroller\"](this.scene, {\n            x: 0,\n            y: 18 * this.dpr,\n            width: bgwidth,\n            height: bgHeight - 70 * this.dpr,\n            zoom: this.scale,\n            align: 2,\n            orientation: 0,\n            space: 20 * this.dpr\n        });\n        this.content.add([this.bg, this.closeBtn, this.titlebg, this.tilteName, this.mGameScroll, this.optionBtn, this.optionArrow, optionLine, this.optionCon]);\n        this.resize();\n        _super.prototype.init.call(this);\n        this.emit(\"questlist\");\n    };\n    TaskPanel.prototype.setTaskDatas = function (quests) {\n        if (!this.mInitialized)\n            return;\n        if (this.curTaskItem)\n            this.curTaskItem.setExtend(false);\n        this.taskDatas = quests;\n        this.setTaskOptions();\n        this.setTaskItems(quests);\n        this.onTaskOptionHandler(this.curOptionItem);\n    };\n    TaskPanel.prototype.setTaskOptions = function () {\n        var enumArr = [0];\n        var PKT_Quest_Type = pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_pkt_def\"].PKT_Quest_Type;\n        for (var key in PKT_Quest_Type) {\n            var enumValue = Number(key);\n            if (!isNaN(enumValue)) {\n                var questEnum = enumValue;\n                enumArr.push(questEnum);\n            }\n        }\n        var list = this.optionCon.list;\n        for (var _i = 0, list_1 = list; _i < list_1.length; _i++) {\n            var option = list_1[_i];\n            option.visible = false;\n        }\n        for (var i = 0; i < enumArr.length; i++) {\n            var option = void 0;\n            if (i < list.length) {\n                option = list[i];\n            }\n            else {\n                option = new TaskOption(this.scene, this.key, this.dpr, this.scale);\n                option.setHandler(new _Handler_Handler__WEBPACK_IMPORTED_MODULE_9__[\"Handler\"](this, this.onTaskOptionHandler));\n                this.optionCon.add(option);\n            }\n            option.visible = true;\n            option.setOptionData(enumArr[i]);\n        }\n        var value = 0;\n        var offsety = 2;\n        for (var _a = 0, list_2 = list; _a < list_2.length; _a++) {\n            var item = list_2[_a];\n            item.y = item.height * item.originY + value;\n            value += item.height + offsety;\n        }\n        if (!this.curOptionItem)\n            this.curOptionItem = list[0];\n    };\n    TaskPanel.prototype.setTaskDetail = function (quest) {\n        if (this.curTaskItem && quest) {\n            if (this.curTaskItem.questData.id === quest.id) {\n                this.curTaskItem.setTaskDetail(quest);\n            }\n        }\n    };\n    TaskPanel.prototype.setTaskItems = function (quests) {\n        for (var _i = 0, _a = this.taskItems; _i < _a.length; _i++) {\n            var item = _a[_i];\n            var task = item;\n            task.visible = false;\n        }\n        for (var i = 0; i < quests.length; i++) {\n            var item = void 0;\n            if (i < this.taskItems.length) {\n                item = this.taskItems[i];\n            }\n            else {\n                item = new TaskItem(this.scene, this.key, this.dpr, this.scale);\n                this.mGameScroll.addItem(item);\n                item.setHandler(new _Handler_Handler__WEBPACK_IMPORTED_MODULE_9__[\"Handler\"](this, this.onExtendsHandler), new _Handler_Handler__WEBPACK_IMPORTED_MODULE_9__[\"Handler\"](this, this.onFinishHandler));\n                this.taskItems.push(item);\n            }\n            item.setTaskData(quests[i]);\n            item.visible = true;\n        }\n        this.mGameScroll.Sort();\n    };\n    TaskPanel.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n    };\n    TaskPanel.prototype.OnClosePanel = function () {\n        this.emit(\"hide\");\n    };\n    TaskPanel.prototype.onFinishHandler = function (id) {\n        this.emit(\"submitquest\", id);\n    };\n    TaskPanel.prototype.onExtendsHandler = function (isExtend, item) {\n        if (this.curTaskItem) {\n            this.curTaskItem.setExtend(false, false);\n        }\n        this.curTaskItem = item;\n        if (isExtend) {\n            this.emit(\"questdetail\", item.questData.id);\n        }\n        else\n            this.curTaskItem = null;\n        this.mGameScroll.Sort(true);\n    };\n    TaskPanel.prototype.onOpenOptionHandler = function () {\n        var visible = this.optionCon.visible;\n        this.optionCon.visible = !visible;\n        this.optionArrow.scaleY = (visible ? -1 : 1);\n    };\n    TaskPanel.prototype.onTaskOptionHandler = function (taskOption) {\n        var list = this.optionCon.list;\n        for (var _i = 0, list_3 = list; _i < list_3.length; _i++) {\n            var option = list_3[_i];\n            option.changeNormal();\n        }\n        var optionData = taskOption.optionData;\n        var arr;\n        if (optionData === 0) {\n            arr = this.taskDatas;\n        }\n        else {\n            arr = this.taskDatas.filter(function (data) {\n                if (data.questType === taskOption.optionData)\n                    return true;\n                else\n                    return false;\n            });\n        }\n        this.setTaskItems(arr);\n        this.optionCon.visible = false;\n        this.curOptionItem = taskOption;\n        taskOption.changeDown();\n    };\n    return TaskPanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\nvar TaskItem = /** @class */ (function (_super) {\n    __extends(TaskItem, _super);\n    function TaskItem(scene, key, dpr, zoom) {\n        var _this = _super.call(this, scene) || this;\n        _this.key = key;\n        _this.dpr = dpr;\n        _this.zoom = zoom;\n        var width = 254 * dpr;\n        var height = 45 * dpr;\n        _this.content = scene.make.container(undefined, false);\n        _this.content.setSize(width, height);\n        _this.bg = new _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_11__[\"NineSlicePatch\"](_this.scene, 0, 0, width, height, key, \"main_bg\", {\n            left: 6 * dpr,\n            top: 6 * dpr,\n            bottom: 6 * dpr,\n            right: 6 * dpr,\n        });\n        var posx = -width * 0.5, posy = -height * 0.5;\n        var headbg = scene.make.image({ key: key, frame: \"head_border\" });\n        headbg.texture.setFilter(Phaser.Textures.FilterMode.LINEAR);\n        headbg.x = posx + 25 * dpr;\n        _this.headIcon = new _components_dynamic_image__WEBPACK_IMPORTED_MODULE_5__[\"DynamicImage\"](scene, headbg.x, 0);\n        _this.headIcon.setTexture(key, \"head_test\");\n        _this.typeBg = scene.make.image({ key: key, frame: \"tag_main\" });\n        _this.typeBg.texture.setFilter(Phaser.Textures.FilterMode.LINEAR);\n        _this.typeBg.setPosition(posx + _this.typeBg.width * 0.5, posy + _this.typeBg.height * 0.5 - 2 * dpr);\n        _this.typeTex = scene.make.text({ x: 0, y: 0, text: _i18n__WEBPACK_IMPORTED_MODULE_4__[\"i18n\"].t(\"task.m\"), style: { color: \"#ffffff\", fontSize: 10 * _this.dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT } });\n        _this.typeTex.setOrigin(0.5).setPosition(_this.typeBg.x - 1 * dpr, _this.typeBg.y);\n        _this.taskName = scene.make.text({ x: _this.headIcon.x + 20 * dpr, y: -9 * dpr, text: \"\", style: { color: \"#ffffff\", fontSize: 13 * _this.dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT } }).setOrigin(0, 0.5);\n        _this.taskDes = scene.make.text({ x: _this.headIcon.x + 25 * dpr, y: 10 * dpr, text: \"\", style: { color: \"#ffffff\", fontSize: 12 * _this.dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT } }).setOrigin(0, 0.5);\n        _this.finish = scene.make.image({ key: key, frame: \"done\" });\n        _this.finish.texture.setFilter(Phaser.Textures.FilterMode.LINEAR);\n        _this.finish.setPosition(width * 0.5 - 30 * dpr, 4 * dpr);\n        _this.openBtn = new _lib_rexui_lib_ui_button_Button__WEBPACK_IMPORTED_MODULE_6__[\"Button\"](scene, key, \"open\", \"open\");\n        _this.setExtendBtn(_this.openBtn);\n        _this.openBtn.setPosition(width * 0.5 - 25 * dpr, 4 * dpr);\n        _this.closeBtn = new _lib_rexui_lib_ui_button_Button__WEBPACK_IMPORTED_MODULE_6__[\"Button\"](scene, key, \"close\");\n        _this.setExtendBtn(_this.closeBtn);\n        _this.closeBtn.setPosition(_this.openBtn.x, _this.openBtn.y).visible = false;\n        _this.openBtn.on(\"Tap\", _this.onOpenHandler, _this);\n        _this.closeBtn.on(\"Tap\", _this.onCloseHandler, _this);\n        _this.content.add([_this.bg, headbg, _this.headIcon, _this.typeBg, _this.typeTex, _this.taskName, _this.taskDes, _this.finish, _this.openBtn, _this.closeBtn]);\n        _this.add(_this.content);\n        _this.setSize(width, height);\n        return _this;\n    }\n    TaskItem.prototype.setTaskData = function (data) {\n        this.questData = data;\n        var typeTag = this.getQuestTypeTag(data.questType);\n        this.typeBg.setFrame(typeTag[0]);\n        this.typeTex.text = typeTag[1];\n        this.setTextLimit(this.taskName, typeTag[2] + data.name, 12);\n        this.bg.setFrame(typeTag[3]);\n        // this.taskDes.text = data.detail;\n        this.setTextLimit(this.taskDes, data.detail);\n        this.taskDes.setColor(typeTag[4]);\n        this.finish.visible = (data.stage === pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_pkt_def\"].PKT_Quest_Stage.PKT_QUEST_STAGE_FINISHED);\n    };\n    TaskItem.prototype.setTaskDetail = function (data) {\n        var typeTag = this.getQuestTypeTag(data.questType);\n        if (this.extend)\n            this.extend.setItemData(data, typeTag[5]);\n    };\n    TaskItem.prototype.setHandler = function (extend, finish) {\n        this.extendHandler = extend;\n        this.finishHandler = finish;\n    };\n    TaskItem.prototype.setExtend = function (isExtend, haveCallBack) {\n        if (haveCallBack === void 0) { haveCallBack = true; }\n        if (isExtend) {\n            if (haveCallBack)\n                this.onOpenHandler();\n            else\n                this.openExtend();\n        }\n        else {\n            if (haveCallBack)\n                this.onCloseHandler();\n            else\n                this.closeExtend();\n        }\n    };\n    TaskItem.prototype.onOpenHandler = function () {\n        this.openExtend();\n        if (this.extendHandler)\n            this.extendHandler.runWith([true, this]);\n    };\n    TaskItem.prototype.openExtend = function () {\n        if (!this.extend) {\n            this.extend = new TaskItemExtend(this.scene, this.key, this.dpr, this.zoom);\n            this.extend.setFinishHandler(new _Handler_Handler__WEBPACK_IMPORTED_MODULE_9__[\"Handler\"](this, this.onFinishHandler));\n            this.add(this.extend);\n            this.extend.y = this.height * 0.5 + this.extend.height * 0.5;\n        }\n        this.extend.visible = true;\n        this.height = this.content.height + this.extend.height;\n        this.content.y = -this.height * 0.5 + this.content.height * 0.5;\n        this.extend.y = -this.height * 0.5 + this.content.height + this.extend.height * 0.5;\n        this.openBtn.visible = false;\n        this.closeBtn.visible = true;\n    };\n    TaskItem.prototype.setExtendBtn = function (button) {\n        var width = 60 * this.dpr;\n        var height = 60 * this.dpr;\n        var bg = this.scene.make.graphics(undefined, false);\n        bg.clear();\n        bg.fillStyle(0xF6F6F6, 0);\n        bg.fillRect(-width * 0.5, -height * 0.5, width, height);\n        button.addAt(bg, 0);\n        button.setInteractive(new Phaser.Geom.Rectangle(0, 0, width, height), Phaser.Geom.Rectangle.Contains);\n    };\n    TaskItem.prototype.onFinishHandler = function () {\n        if (this.finishHandler)\n            this.finishHandler.runWith(this.questData.id);\n    };\n    TaskItem.prototype.onCloseHandler = function () {\n        this.closeExtend();\n        if (this.extendHandler)\n            this.extendHandler.runWith([false, this]);\n    };\n    TaskItem.prototype.closeExtend = function () {\n        if (this.extend)\n            this.extend.visible = false;\n        this.height = this.content.height;\n        this.content.y = 0;\n        this.openBtn.visible = true;\n        this.closeBtn.visible = false;\n    };\n    TaskItem.prototype.getQuestTypeTag = function (questType) {\n        var typeTag = [];\n        if (questType === pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_pkt_def\"].PKT_Quest_Type.QUEST_MAIN_MISSION) {\n            typeTag[0] = \"tag_main\";\n            typeTag[1] = _i18n__WEBPACK_IMPORTED_MODULE_4__[\"i18n\"].t(\"task.m\");\n            typeTag[2] = \"\";\n            typeTag[3] = \"main_bg\";\n            typeTag[4] = \"#4C42C8\";\n            typeTag[5] = \"#8780E0\";\n            return typeTag;\n        }\n        else if (questType === pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_pkt_def\"].PKT_Quest_Type.QUEST_SIDE_MISSION) {\n            typeTag[0] = \"tag_side\";\n            typeTag[1] = _i18n__WEBPACK_IMPORTED_MODULE_4__[\"i18n\"].t(\"task.s\");\n            typeTag[2] = \"\";\n            typeTag[3] = \"side_bg\";\n            typeTag[4] = \"#CB0A1D\";\n            typeTag[5] = \"#F4919B\";\n            return typeTag;\n        }\n        else if (questType === pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_pkt_def\"].PKT_Quest_Type.QUEST_DAILY_GOAL) {\n            typeTag[0] = \"tag_daly\";\n            typeTag[1] = _i18n__WEBPACK_IMPORTED_MODULE_4__[\"i18n\"].t(\"task.d\");\n            typeTag[2] = \"\";\n            typeTag[3] = \"daly_bg\";\n            typeTag[4] = \"#866107\";\n            typeTag[5] = \"#F1D56C\";\n            return typeTag;\n        }\n    };\n    TaskItem.prototype.setTextLimit = function (text, content, limit) {\n        if (limit === void 0) { limit = 15; }\n        if (content.length > limit) {\n            var maxWidth = 155 * this.dpr;\n            for (var i = 4; i < content.length; i++) {\n                var str = content.slice(0, i);\n                var width = text.setText(str).width;\n                if (width > maxWidth) {\n                    str += \"...\";\n                    text.setText(str);\n                    break;\n                }\n            }\n        }\n        else {\n            text.setText(content);\n        }\n    };\n    return TaskItem;\n}(Phaser.GameObjects.Container));\nvar TaskItemExtend = /** @class */ (function (_super) {\n    __extends(TaskItemExtend, _super);\n    function TaskItemExtend(scene, key, dpr, zoom) {\n        var _this = _super.call(this, scene) || this;\n        _this.needArr = [];\n        _this.rewardArr = [];\n        _this.dpr = 0;\n        _this.zoom = 0;\n        var width = 253 * dpr;\n        var height = 202 * dpr;\n        _this.dpr = dpr;\n        var bg = new _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_11__[\"NineSlicePatch\"](_this.scene, 0, 0, width, height, key, \"detail_bg\", {\n            left: 4,\n            top: 4,\n            right: 4,\n            bottom: 4\n        });\n        var posx = -width * 0.5 + 10 * dpr;\n        var posy = -height * 0.5 + 5 * dpr;\n        _this.taskLabel = scene.make.text({ x: posx, y: posy, text: _i18n__WEBPACK_IMPORTED_MODULE_4__[\"i18n\"].t(\"task.objective\"), style: { color: \"#8F4300\", fontSize: 12 * _this.dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT } });\n        _this.taskTex = scene.make.text({ x: posx, y: posy + 18 * dpr, text: _i18n__WEBPACK_IMPORTED_MODULE_4__[\"i18n\"].t(\"task.collect_materials\"), style: { color: \"#8F4300\", fontSize: 12 * _this.dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT } });\n        _this.taskTex.setWordWrapWidth(width - 10 * dpr, true);\n        _this.rewardLabel = scene.make.text({ x: posx, y: posy + 90 * dpr, text: _i18n__WEBPACK_IMPORTED_MODULE_4__[\"i18n\"].t(\"task.rewards\"), style: { color: \"#8F4300\", fontSize: 12 * _this.dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT } });\n        var line = scene.make.image({ key: key, frame: \"reward_cutline\" });\n        line.texture.setFilter(Phaser.Textures.FilterMode.LINEAR);\n        line.setPosition(0, posy + 110 * dpr);\n        _this.line = line;\n        _this.finishBtn = new _lib_rexui_lib_ui_button_NineSliceButton__WEBPACK_IMPORTED_MODULE_8__[\"NineSliceButton\"](_this.scene, Math.ceil(width * 0.5 - 40 * _this.dpr), Math.ceil(height * 0.5 - 25 * _this.dpr), 60 * _this.dpr, 30 * _this.dpr, _ui_atals_name__WEBPACK_IMPORTED_MODULE_3__[\"UIAtlasKey\"].commonKey, \"button_g\", _i18n__WEBPACK_IMPORTED_MODULE_4__[\"i18n\"].t(\"task.submit_task\"), _this.dpr, _this.scale, {\n            left: 12 * _this.dpr,\n            top: 12 * _this.dpr,\n            right: 12 * _this.dpr,\n            bottom: 12 * _this.dpr\n        });\n        _this.finishBtn.setTextStyle({ fontSize: 12 * dpr, color: \"#000000\" });\n        _this.finishBtn.on(\"Tap\", _this.onFinishHandler, _this);\n        _this.add([bg, _this.taskLabel, _this.taskTex, _this.rewardLabel, line, _this.finishBtn]);\n        _this.setSize(width, height);\n        _this.key = key;\n        _this.zoom = zoom;\n        _this.finishBtn.visible = false;\n        return _this;\n    }\n    TaskItemExtend.prototype.setItemData = function (questData, color) {\n        this.taskLabel.setColor(color);\n        this.taskTex.setColor(color);\n        this.rewardLabel.setColor(color);\n        var taskPosy = 0;\n        var cellHeight = 33 * this.dpr;\n        this.taskTex.text = this.getTaskTargetText(questData);\n        this.createTaskCells(this.needArr, questData.targets, true);\n        taskPosy = this.taskTex.y + this.taskTex.height + 5 * this.dpr;\n        if (questData.targets.length > 0) {\n            taskPosy += cellHeight * 0.5;\n            this.sortItem(this.needArr, taskPosy);\n            taskPosy += cellHeight * 0.5 + 8 * this.dpr;\n        }\n        this.rewardLabel.y = taskPosy;\n        taskPosy += this.rewardLabel.height + 5 * this.dpr;\n        this.line.y = taskPosy;\n        taskPosy += 5 * this.dpr;\n        this.createTaskCells(this.rewardArr, questData.rewards, false);\n        taskPosy += cellHeight * 0.5;\n        this.sortItem(this.rewardArr, taskPosy);\n        this.finishBtn.visible = (questData.stage === pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_pkt_def\"].PKT_Quest_Stage.PKT_QUEST_STAGE_FINISHED);\n    };\n    TaskItemExtend.prototype.setFinishHandler = function (comp) {\n        this.finishHandler = comp;\n    };\n    TaskItemExtend.prototype.sortItem = function (taskcells, posY) {\n        if (posY === void 0) { posY = 0; }\n        var posx = -this.width * 0.5 + 10 * this.dpr;\n        var list = taskcells;\n        var value = 0;\n        var offsetx = 10 * this.dpr;\n        for (var _i = 0, list_4 = list; _i < list_4.length; _i++) {\n            var item = list_4[_i];\n            item.x = posx + item.width * item.originX + value;\n            item.y = posY;\n            value += item.width + offsetx;\n        }\n    };\n    TaskItemExtend.prototype.createTaskCells = function (arr, dataArr, isTask) {\n        if (isTask === void 0) { isTask = true; }\n        for (var _i = 0, arr_1 = arr; _i < arr_1.length; _i++) {\n            var item = arr_1[_i];\n            item.visible = false;\n        }\n        for (var i = 0; i < dataArr.length; i++) {\n            var item = void 0;\n            if (i < arr.length) {\n                item = arr[i];\n            }\n            else {\n                item = new TaskCell(this.scene, this.key, this.dpr, this.zoom);\n                arr.push(item);\n                this.add(item);\n            }\n            item.visible = true;\n            item.setCellData(dataArr[i], isTask);\n        }\n        return arr;\n    };\n    TaskItemExtend.prototype.onFinishHandler = function () {\n        if (this.finishHandler)\n            this.finishHandler.run();\n    };\n    TaskItemExtend.prototype.getTaskTargetText = function (questData) {\n        var targets = questData.targets;\n        var text = questData.detail;\n        // if (targets.length === 0) {\n        //     text = questData.detail;\n        // } else {\n        //     text = i18n.t(\"task.collect_materials\");\n        //     for (const item of targets) {\n        //         text += `${item.name}*${item.neededCount}`;\n        //     }\n        // }\n        return text;\n    };\n    return TaskItemExtend;\n}(Phaser.GameObjects.Container));\nvar TaskCell = /** @class */ (function (_super) {\n    __extends(TaskCell, _super);\n    function TaskCell(scene, key, dpr, zoom) {\n        var _this = _super.call(this, scene) || this;\n        _this.key = key;\n        _this.dpr = dpr;\n        _this.bg = scene.make.image({ key: key, frame: \"task_bg\" });\n        _this.bg.texture.setFilter(Phaser.Textures.FilterMode.LINEAR);\n        _this.setSize(_this.bg.width, _this.bg.height);\n        _this.itemIcon = new _components_dynamic_image__WEBPACK_IMPORTED_MODULE_5__[\"DynamicImage\"](scene, 0, 0);\n        _this.countTex = new _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_11__[\"BBCodeText\"](_this.scene, 0, 0, {})\n            .setOrigin(0.5).setFontSize(12 * dpr).setFontFamily(_utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT);\n        _this.countTex.setPosition(_this.width * 0.5, _this.height * 0.5 - 2 * dpr);\n        _this.add([_this.bg, _this.itemIcon, _this.countTex]);\n        return _this;\n    }\n    TaskCell.prototype.setCellData = function (itemData, isTask) {\n        var _this = this;\n        if (isTask === void 0) { isTask = true; }\n        var frame = isTask ? \"task_bg\" : \"reward_bg\";\n        this.bg.setTexture(this.key, frame);\n        var url = _utils_resUtil__WEBPACK_IMPORTED_MODULE_10__[\"Url\"].getOsdRes(itemData.display.texturePath);\n        this.itemIcon.load(url, this, function () {\n            _this.itemIcon.scale = _this.dpr * 0.6;\n        });\n        if (!isTask) {\n            this.countTex.text = \"[stroke=#666666][color=#666666]\" + itemData.count + \"[/color][/stroke]/\";\n        }\n        else {\n            this.countTex.text = this.getCountText(itemData.count, itemData.neededCount);\n        }\n    };\n    TaskCell.prototype.getCountText = function (count, needcount) {\n        var color = (count >= needcount ? \"#0054FF\" : \"#FF2B2B\");\n        var countText = \"[stroke=\" + color + \"][color=\" + color + \"]\" + count + \"[/color][/stroke]/\";\n        var needText = \"[stroke=#2D2D2D][color=#2D2D2D]\" + needcount + \"[/color][/stroke]/\";\n        var text = countText + needText;\n        return text;\n    };\n    return TaskCell;\n}(Phaser.GameObjects.Container));\nvar TaskOption = /** @class */ (function (_super) {\n    __extends(TaskOption, _super);\n    function TaskOption(scene, key, dpr, zoom) {\n        var _this = _super.call(this, scene) || this;\n        _this.dpr = 0;\n        var width = 256 * dpr;\n        var height = 30 * dpr;\n        _this.dpr = dpr;\n        _this.bg = scene.make.graphics(undefined, false);\n        _this.text = scene.make.text({ x: 0, y: 0, text: \"\", style: { color: \"#666666\", fontSize: 15 * dpr, fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT } }).setOrigin(0, 0.5);\n        _this.bg.clear();\n        _this.bg.fillStyle(0xF6F6F6, 1);\n        _this.bg.fillRect(-width * 0.5, -height * 0.5, width, height);\n        var optionLine = _this.scene.make.graphics(undefined, false);\n        optionLine.clear();\n        optionLine.fillStyle(0xcccccc, 1);\n        optionLine.fillRect(-width * 0.5, height * 0.5, width, 2);\n        _this.add([_this.bg, _this.text, optionLine]);\n        _this.setSize(width, height);\n        _this.bg.setInteractive(new Phaser.Geom.Rectangle(-width * 0.5, -height * 0.5, width, height), Phaser.Geom.Rectangle.Contains);\n        _this.bg.on(\"pointerup\", _this.onClickHandler, _this);\n        return _this;\n    }\n    TaskOption.prototype.setSize = function (width, height) {\n        _super.prototype.setSize.call(this, width, height);\n        this.text.setPosition(-width * 0.5 + 20 * this.dpr, 0);\n        this.changeNormal();\n        return this;\n    };\n    TaskOption.prototype.setOptionData = function (data) {\n        this.optionData = data;\n        if (data === pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_pkt_def\"].PKT_Quest_Type.QUEST_MAIN_MISSION) {\n            this.text.text = _i18n__WEBPACK_IMPORTED_MODULE_4__[\"i18n\"].t(\"task.main_quest\");\n        }\n        else if (data === pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_pkt_def\"].PKT_Quest_Type.QUEST_SIDE_MISSION) {\n            this.text.text = _i18n__WEBPACK_IMPORTED_MODULE_4__[\"i18n\"].t(\"task.side_quest\");\n        }\n        else if (data === pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_pkt_def\"].PKT_Quest_Type.QUEST_DAILY_GOAL) {\n            this.text.text = _i18n__WEBPACK_IMPORTED_MODULE_4__[\"i18n\"].t(\"task.daily_quest\");\n        }\n        else {\n            this.text.text = _i18n__WEBPACK_IMPORTED_MODULE_4__[\"i18n\"].t(\"task.all_task\");\n        }\n    };\n    TaskOption.prototype.changeDown = function () {\n        this.bg.clear();\n        this.bg.fillStyle(0xDFE6FF, 1);\n        this.bg.fillRect(-this.width * 0.5, -this.height * 0.5, this.width, this.height);\n    };\n    TaskOption.prototype.changeNormal = function () {\n        this.bg.clear();\n        this.bg.fillStyle(0xF6F6F6, 1);\n        this.bg.fillRect(-this.width * 0.5, -this.height * 0.5, this.width, this.height);\n    };\n    TaskOption.prototype.setHandler = function (handler) {\n        this.clickHandler = handler;\n    };\n    TaskOption.prototype.onClickHandler = function () {\n        if (this.clickHandler)\n            this.clickHandler.runWith(this);\n    };\n    return TaskOption;\n}(Phaser.GameObjects.Container));\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/Task/TaskPanel.ts?");

/***/ }),

/***/ "./src/ui/UserInfo/UserInfoMediator.ts":
/*!*********************************************!*\
  !*** ./src/ui/UserInfo/UserInfoMediator.ts ***!
  \*********************************************/
/*! exports provided: UserInfoMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UserInfoMediator\", function() { return UserInfoMediator; });\n/* harmony import */ var _UserInfoPanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./UserInfoPanel */ \"./src/ui/UserInfo/UserInfoPanel.ts\");\n/* harmony import */ var _const_MessageType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../const/MessageType */ \"./src/const/MessageType.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar UserInfoMediator = /** @class */ (function (_super) {\n    __extends(UserInfoMediator, _super);\n    function UserInfoMediator(mLayerManager, mScene, world) {\n        var _this = _super.call(this) || this;\n        _this.mLayerManager = mLayerManager;\n        _this.mScene = mScene;\n        _this.world = world;\n        return _this;\n    }\n    UserInfoMediator.prototype.getView = function () {\n        return this.mView;\n    };\n    UserInfoMediator.prototype.hide = function () {\n        this.mShow = false;\n        this.world.emitter.off(_const_MessageType__WEBPACK_IMPORTED_MODULE_1__[\"MessageType\"].SCENE_BACKGROUND_CLICK, this.onClosePanel, this);\n        if (this.mView) {\n            this.mView.hide();\n            this.mView = null;\n        }\n    };\n    UserInfoMediator.prototype.isSceneUI = function () {\n        return false;\n    };\n    UserInfoMediator.prototype.isShow = function () {\n        if (!this.mView)\n            return false;\n        return this.mView.isShow();\n    };\n    UserInfoMediator.prototype.resize = function () {\n        if (this.mView)\n            this.mView.resize();\n    };\n    UserInfoMediator.prototype.show = function (param) {\n        if (this.mView && this.mView.isShow()) {\n            return;\n        }\n        if (!param || param.length === 0) {\n            return;\n        }\n        this.mView = new _UserInfoPanel__WEBPACK_IMPORTED_MODULE_0__[\"UserInfoPanel\"](this.mScene, this.world);\n        this.mView.show(param[0]);\n        this.mLayerManager.addToUILayer(this.mView);\n        this.world.emitter.on(_const_MessageType__WEBPACK_IMPORTED_MODULE_1__[\"MessageType\"].SCENE_BACKGROUND_CLICK, this.onClosePanel, this);\n        _super.prototype.show.call(this, param);\n    };\n    UserInfoMediator.prototype.destroy = function () {\n        if (this.mView)\n            this.mView.destroy();\n    };\n    UserInfoMediator.prototype.update = function (param) {\n        if (this.mView)\n            this.mView.update(param);\n    };\n    UserInfoMediator.prototype.onClosePanel = function () {\n        this.hide();\n    };\n    UserInfoMediator.NAME = \"UserInfoMediator\";\n    return UserInfoMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_2__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/UserInfo/UserInfoMediator.ts?");

/***/ }),

/***/ "./src/ui/UserInfo/UserInfoPanel.ts":
/*!******************************************!*\
  !*** ./src/ui/UserInfo/UserInfoPanel.ts ***!
  \******************************************/
/*! exports provided: UserInfoPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UserInfoPanel\", function() { return UserInfoPanel; });\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _components_dynamic_image__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/dynamic.image */ \"./src/ui/components/dynamic.image.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _lib_rexui_lib_plugins_gameobjects_ninepatch_NinePatch__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../lib/rexui/lib/plugins/gameobjects/ninepatch/NinePatch */ \"./lib/rexui/lib/plugins/gameobjects/ninepatch/NinePatch.js\");\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\n/* harmony import */ var _components_ninepatch_button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/ninepatch.button */ \"./src/ui/components/ninepatch.button.ts\");\n/* harmony import */ var _UserInfoMediator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./UserInfoMediator */ \"./src/ui/UserInfo/UserInfoMediator.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\nvar UserInfoPanel = /** @class */ (function (_super) {\n    __extends(UserInfoPanel, _super);\n    function UserInfoPanel(scene, worldService) {\n        var _this = _super.call(this, scene, worldService) || this;\n        _this.mBadgeImages = [];\n        _this.mWorld = worldService;\n        return _this;\n    }\n    UserInfoPanel.prototype.show = function (param) {\n        _super.prototype.show.call(this, param);\n        this.setData(\"data\", param);\n        this.setInfo(param);\n    };\n    UserInfoPanel.prototype.hide = function () {\n        this.clearBadge();\n        _super.prototype.hide.call(this);\n    };\n    UserInfoPanel.prototype.resize = function (wid, hei) {\n        var size = this.mWorld.getSize();\n        this.x = size.width - this.width - 8;\n        this.y = size.height - 100 - (this.height);\n    };\n    UserInfoPanel.prototype.setInfo = function (data) {\n        var _this = this;\n        if (!this.mInitialized || !data)\n            return;\n        if (data.actors.length === 0) {\n            return;\n        }\n        var actor = data.actors[0];\n        this.mWorld.httpService.userDetail(actor.platformId).then(function (response) {\n            if (response.code === 200) {\n                var resData = response.data;\n                if (resData) {\n                    _this.mActor.load(_utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Url\"].getOsdRes(\"show/\" + resData.username + \".png\"), _this, undefined, _this.loadDefaultAvatar);\n                    _this.mNickName.setText(resData.nickname);\n                    _this.mLv.setText(resData.level);\n                }\n            }\n        });\n        this.mWorld.httpService.badgecards(actor.platformId).then(function (response) {\n            if (response.code === 200) {\n                _this.createBadge(response.data);\n            }\n        });\n        this.updateFollwer(actor.platformId);\n    };\n    UserInfoPanel.prototype.destroy = function () {\n        if (this.mActor) {\n            this.mActor.destroy(true);\n            this.mActor = null;\n        }\n        if (this.mBadgeImages) {\n            this.mBadgeImages.forEach(function (image) {\n                image.destroy(true);\n                image = null;\n            });\n            this.mBadgeImages = [];\n        }\n        if (this.mNickName) {\n            this.mNickName.destroy(true);\n            this.mNickName = null;\n        }\n        if (this.mLv) {\n            this.mLv.destroy(true);\n            this.mLv = null;\n        }\n        if (this.mFollwerBtn) {\n            this.mFollwerBtn.destroy(true);\n            this.mFollwerBtn = null;\n        }\n        this.mWorld = null;\n        _super.prototype.destroy.call(this);\n    };\n    UserInfoPanel.prototype.preload = function () {\n        this.scene.load.image(_utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Border\"].getName(), _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Border\"].getPNG());\n        this.scene.load.image(_utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Background\"].getName(), _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Background\"].getPNG());\n        this.scene.load.atlas(_utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"BlueButton\"].getName(), _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"BlueButton\"].getPNG(), _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"BlueButton\"].getJSON());\n        _super.prototype.preload.call(this);\n    };\n    UserInfoPanel.prototype.init = function () {\n        this.setSize(359, 199);\n        var background = new _lib_rexui_lib_plugins_gameobjects_ninepatch_NinePatch__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this.scene, {\n            width: 359,\n            height: 199,\n            key: _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Background\"].getName(),\n            columns: _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Background\"].getColumns(),\n            rows: _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Background\"].getRows()\n        }).setOrigin(0, 0);\n        this.add(background);\n        var border = new _lib_rexui_lib_plugins_gameobjects_ninepatch_NinePatch__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this.scene, {\n            x: 7,\n            y: 19,\n            width: 345,\n            height: 173,\n            key: _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Border\"].getName(),\n            columns: _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Border\"].getColumns(),\n            rows: _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Border\"].getRows()\n        }).setOrigin(0, 0);\n        this.add(border);\n        var nickNameLabel = this.scene.make.text({\n            x: 20,\n            y: -5,\n            text: \"\",\n            stroke: \"#000000\",\n            strokeThickness: 2,\n            style: { color: \"#b4b4b4\", font: _utils_font__WEBPACK_IMPORTED_MODULE_4__[\"Font\"].YAHEI_18_BOLD }\n        }, false);\n        this.add(nickNameLabel);\n        var lvLabel = this.scene.make.text({\n            x: 20,\n            y: 30,\n            text: \"\",\n            stroke: \"#000000\",\n            strokeThickness: 2,\n            color: \"#b4b4b4\",\n            style: { color: \"#b4b4b4\", font: _utils_font__WEBPACK_IMPORTED_MODULE_4__[\"Font\"].YAHEI_18_BOLD }\n        }, false);\n        this.add(lvLabel);\n        this.mNickName = this.scene.make.text({\n            x: nickNameLabel.x + 50,\n            y: nickNameLabel.y,\n            stroke: \"#000000\",\n            strokeThickness: 2,\n            color: \"#FFFFFF\",\n            style: { font: _utils_font__WEBPACK_IMPORTED_MODULE_4__[\"Font\"].YAHEI_18_BOLD }\n        }, false);\n        this.add(this.mNickName);\n        this.mLv = this.scene.make.text({\n            x: lvLabel.x + 50,\n            y: lvLabel.y,\n            stroke: \"#000000\",\n            strokeThickness: 2,\n            color: \"#FFFFFF\",\n            style: { font: _utils_font__WEBPACK_IMPORTED_MODULE_4__[\"Font\"].YAHEI_18_BOLD }\n        });\n        this.add(this.mLv);\n        this.mFollwerBtn = new _components_ninepatch_button__WEBPACK_IMPORTED_MODULE_5__[\"NinePatchButton\"](this.scene, 258, 145, 80, 34, _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"BlueButton\"].getName(), _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"BlueButton\"].getName(), \"\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"BlueButton\"].getConfig());\n        this.mFollwerBtn.x = 258 + (this.mFollwerBtn.width >> 1);\n        this.mFollwerBtn.y = 145 + (this.mFollwerBtn.height >> 1);\n        this.mFollwerBtn.setTextStyle({ font: _utils_font__WEBPACK_IMPORTED_MODULE_4__[\"Font\"].YAHEI_16_BOLD });\n        this.add(this.mFollwerBtn);\n        this.mActor = new _components_dynamic_image__WEBPACK_IMPORTED_MODULE_1__[\"DynamicImage\"](this.scene, 300, 125).setOrigin(0.5, 1);\n        this.mActor.scale = 2;\n        this.add(this.mActor);\n        this.mWorld.uiManager.getMediator(_UserInfoMediator__WEBPACK_IMPORTED_MODULE_6__[\"UserInfoMediator\"].NAME).resize();\n        _super.prototype.init.call(this);\n        this.setInfo(this.getData(\"data\"));\n    };\n    UserInfoPanel.prototype.updateFollwer = function (platformId) {\n        var _this = this;\n        var mainPlayer = this.mWorld.roomManager.currentRoom.playerManager.actor.model;\n        if (!mainPlayer)\n            return;\n        if (platformId === mainPlayer.platformId) {\n            // this.mFollwerBtn.visible = false;\n            return;\n        }\n        // this.mFollwerBtn.visible = true;\n        this.mWorld.httpService.checkFollowed([platformId])\n            .then(function (response) {\n            if (response.code === 200) {\n                var resData = response.data;\n                if (resData.length > 0) {\n                    _this.mFollwerBtn.setText(\"\");\n                }\n                else {\n                    _this.mFollwerBtn.setText(\"\");\n                }\n                _this.mFollwerBtn.setData(\"node\", { text: _this.mFollwerBtn.getText(), platformId: platformId });\n            }\n        });\n    };\n    UserInfoPanel.prototype.createBadge = function (badges) {\n        if (!badges)\n            return;\n        for (var i = 0; i < badges.length; i++) {\n            var badge = new _components_dynamic_image__WEBPACK_IMPORTED_MODULE_1__[\"DynamicImage\"](this.scene, i * 70 + 60, 100);\n            badge.load(_utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Url\"].getOsdRes(badges[i].target_entity.thumbnail));\n            this.add(badge);\n            this.mBadgeImages.push(badge);\n        }\n    };\n    UserInfoPanel.prototype.loadDefaultAvatar = function () {\n        this.mActor.load(_utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Url\"].getOsdRes(\"show/avatar_default.png\"));\n    };\n    UserInfoPanel.prototype.clearBadge = function () {\n        for (var _i = 0, _a = this.mBadgeImages; _i < _a.length; _i++) {\n            var badge = _a[_i];\n            badge.destroy();\n            this.remove(badge);\n        }\n        this.mBadgeImages.length = 0;\n    };\n    return UserInfoPanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/UserInfo/UserInfoPanel.ts?");

/***/ }),

/***/ "./src/ui/UserMenu/MenuItem.ts":
/*!*************************************!*\
  !*** ./src/ui/UserMenu/MenuItem.ts ***!
  \*************************************/
/*! exports provided: MenuItem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MenuItem\", function() { return MenuItem; });\n/* harmony import */ var _components_ninepatch_button__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/ninepatch.button */ \"./src/ui/components/ninepatch.button.ts\");\n/* harmony import */ var _components_nine_patch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/nine.patch */ \"./src/ui/components/nine.patch.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar MenuItem = /** @class */ (function (_super) {\n    __extends(MenuItem, _super);\n    function MenuItem(scene, x, y, width, height, key, text, config) {\n        return _super.call(this, scene, x, y, width, height, key, \"\", text, config) || this;\n    }\n    MenuItem.prototype.appendItem = function (menu) {\n        if (!this.mChild) {\n            this.mMenus = [];\n            this.mChild = this.scene.make.container(undefined, false);\n            // this.mChild.x = 42;\n            this.mArrow = this.scene.make.image({\n                x: this.width * this.originX - 3,\n                key: \"usermenu_arrow\"\n            });\n            this.add(this.mArrow);\n            this.mBackground = new _components_nine_patch__WEBPACK_IMPORTED_MODULE_1__[\"NinePatch\"](this.scene, 0, 0, 0, 0, _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Border\"].getName(), null, _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Border\"].getConfig());\n        }\n        this.mChild.add(menu);\n        this.mMenus.push(menu);\n        this.mBackground.resize(74, this.mMenus.length * 32);\n        this.mBackground.x = this.mBackground.width;\n        this.mBackground.y = this.mBackground.height / 2 - 32 / 2;\n        this.mChild.addAt(this.mBackground, 0);\n        this.mChild.setInteractive(new Phaser.Geom.Rectangle(0, 0, this.mBackground.width, this.mBackground.height), Phaser.Geom.Rectangle.Contains);\n    };\n    MenuItem.prototype.show = function () {\n        this.add(this.mChild);\n    };\n    MenuItem.prototype.destroy = function (fromScene) {\n        if (this.mMenus) {\n            var len = this.mMenus.length;\n            for (var i = 0; i < len; i++) {\n                var item = this.mMenus[i];\n                if (!item)\n                    continue;\n                item.destroy(true);\n                item = null;\n            }\n            this.mMenus = [];\n        }\n        if (this.mBackground) {\n            this.mBackground.destroy();\n            this.mBackground = null;\n        }\n        if (this.mChild) {\n            this.mChild.destroy(true);\n            this.mChild = null;\n        }\n        if (this.mArrow) {\n            this.mArrow.destroy(true);\n            this.mArrow = null;\n        }\n        _super.prototype.destroy.call(this, fromScene);\n    };\n    Object.defineProperty(MenuItem.prototype, \"menus\", {\n        get: function () {\n            return this.mMenus || [];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return MenuItem;\n}(_components_ninepatch_button__WEBPACK_IMPORTED_MODULE_0__[\"NinePatchButton\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/UserMenu/MenuItem.ts?");

/***/ }),

/***/ "./src/ui/UserMenu/UserMenuMediator.ts":
/*!*********************************************!*\
  !*** ./src/ui/UserMenu/UserMenuMediator.ts ***!
  \*********************************************/
/*! exports provided: UserMenuMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UserMenuMediator\", function() { return UserMenuMediator; });\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _const_MessageType__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../const/MessageType */ \"./src/const/MessageType.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/interface/baseUI/UIType */ \"./lib/rexui/lib/ui/interface/baseUI/UIType.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar UserMenuMediator = /** @class */ (function (_super) {\n    __extends(UserMenuMediator, _super);\n    function UserMenuMediator(layerManager, scene, worldService) {\n        var _this = _super.call(this) || this;\n        _this.world = worldService;\n        _this.mLayerManager = layerManager;\n        _this.mScene = scene;\n        _this.mUIType = _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_4__[\"UIType\"].Tips;\n        return _this;\n    }\n    UserMenuMediator.prototype.getView = function () {\n        return this.mView;\n    };\n    UserMenuMediator.prototype.hide = function () {\n        this.mShow = false;\n        this.world.emitter.off(_const_MessageType__WEBPACK_IMPORTED_MODULE_2__[\"MessageType\"].SCENE_BACKGROUND_CLICK, this.onClosePanel, this);\n        if (this.mView) {\n            this.mView.off(\"menuClick\", this.onClickMenuHandler, this);\n            this.mView.hide();\n            this.mView = null;\n        }\n    };\n    UserMenuMediator.prototype.isSceneUI = function () {\n        return false;\n    };\n    UserMenuMediator.prototype.isShow = function () {\n        return false;\n    };\n    UserMenuMediator.prototype.resize = function () {\n        if (this.mView)\n            this.mView.resize();\n    };\n    UserMenuMediator.prototype.show = function (param) {\n        // if (this.mView && this.mView.isShow()) {\n        //     return;\n        // }\n        // this.mView = new UserMenuPanel(this.mScene, this.world);\n        // this.mView.show(param[0]);\n        // this.mLayerManager.addToUILayer(this.mView);\n        // this.world.emitter.on(MessageType.SCENE_BACKGROUND_CLICK, this.onClosePanel, this);\n        // this.mView.on(\"menuClick\", this.onClickMenuHandler, this);\n        // super.show(param);\n        // this.mScene.input.on(\"pointerdown\", this.onClosePanel, this);\n    };\n    UserMenuMediator.prototype.update = function (param) {\n        if (this.mView)\n            this.mView.update(param[0]);\n    };\n    UserMenuMediator.prototype.destroy = function () {\n        if (this.mView) {\n            this.mView.destroy();\n            this.mView = null;\n        }\n        this.mScene = null;\n    };\n    UserMenuMediator.prototype.onClickMenuHandler = function (targetNode) {\n        if (!this.mView)\n            return;\n        var uiNode = this.mView.getData(\"data\");\n        if (!targetNode || !uiNode || !this.world || !this.world.connection)\n            return;\n        this.hide();\n        if (targetNode.platformid) {\n            if (targetNode.text === \"\") {\n                this.world.httpService.follow(targetNode.platformid);\n            }\n            else if (targetNode.text === \"\") {\n                this.world.httpService.unfollow(targetNode.platformid);\n            }\n            return;\n        }\n        var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_TARGET_UI);\n        var content = pkt.content;\n        content.uiId = uiNode.id;\n        content.componentId = targetNode.id;\n        this.world.connection.send(pkt);\n    };\n    UserMenuMediator.prototype.onClosePanel = function (pointer, gameObject) {\n        this.hide();\n    };\n    return UserMenuMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_3__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/UserMenu/UserMenuMediator.ts?");

/***/ }),

/***/ "./src/ui/UserMenu/UserMenuPanel.ts":
/*!******************************************!*\
  !*** ./src/ui/UserMenu/UserMenuPanel.ts ***!
  \******************************************/
/*! exports provided: UserMenuPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UserMenuPanel\", function() { return UserMenuPanel; });\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _MenuItem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MenuItem */ \"./src/ui/UserMenu/MenuItem.ts\");\n/* harmony import */ var _components_nine_patch__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/nine.patch */ \"./src/ui/components/nine.patch.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar UserMenuPanel = /** @class */ (function (_super) {\n    __extends(UserMenuPanel, _super);\n    function UserMenuPanel(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.mMenus = [];\n        _this.disInteractive();\n        _this.scale = 2;\n        return _this;\n    }\n    UserMenuPanel.prototype.show = function (param) {\n        _super.prototype.show.call(this, param);\n        if (!this.scene) {\n            return;\n        }\n        this.setData(\"data\", param);\n        this.addItem(param);\n        this.x = this.scene.input.activePointer.x + 32;\n        this.y = this.scene.input.activePointer.y + 32;\n        this.scaleX = this.scaleY = this.scale;\n        // this.scene.input.on(\"gameobjectdown\", this.onClickMenu, this);\n    };\n    UserMenuPanel.prototype.hide = function () {\n        // this.scene.input.off(\"gameobjectdown\", this.onClickMenu, this);\n        this.disInteractive();\n        this.clear();\n        _super.prototype.hide.call(this);\n    };\n    UserMenuPanel.prototype.addListen = function () {\n        if (!this.mInitialized)\n            return;\n        this.scene.input.on(\"gameobjectdown\", this.onClickMenu, this);\n    };\n    UserMenuPanel.prototype.removeListen = function () {\n        if (!this.mInitialized)\n            return;\n        this.scene.input.off(\"gameobjectdown\", this.onClickMenu, this);\n    };\n    UserMenuPanel.prototype.setSize = function (width, height) {\n        _super.prototype.setSize.call(this, width, height);\n        if (this.mBackground) {\n            this.mBackground.resize(width, height);\n            // this.mBackground.x = this.mBackground.width * this.originX;\n            // this.mBackground.y = this.mBackground.height * this.originY;\n        }\n        return this;\n    };\n    UserMenuPanel.prototype.destroy = function () {\n        if (this.mBackground) {\n            this.mBackground.destroy();\n        }\n        if (this.mMenus) {\n            var len = this.mMenus.length;\n            for (var i = 0; i < len; i++) {\n                var item = this.mMenus[i];\n                if (item)\n                    continue;\n                item.destroy(true);\n                item = null;\n            }\n            this.mMenus = [];\n        }\n        _super.prototype.destroy.call(this);\n    };\n    UserMenuPanel.prototype.addItem = function (params) {\n        if (!this.mInitialized)\n            return;\n        this.clear();\n        var menu = params.menuItem;\n        for (var i = 0; i < menu.length; i++) {\n            var btn = this.appendItem(menu[i], 0, i * 32);\n            this.add(btn);\n            this.mMenus.push(btn);\n        }\n        // this.resizeBackground(60, this.mMenus.length * 30);\n        // this.resizeBackground(60, this.mMenus.length * 32);\n        this.setSize(70, this.mMenus.length * 30);\n        var mainPlayer = this.mWorld.roomManager.currentRoom.playerManager.actor.model;\n        if (!mainPlayer)\n            return;\n        var actor = params.actors[0];\n        if (!actor)\n            return;\n        if (mainPlayer.platformId !== actor.platformId) {\n            var fn_1 = { text: \"\", platformid: actor.platformId };\n            var follow_1 = this.appendItem({ text: \"\", node: undefined }, 0, this.mMenus.length * 31);\n            follow_1.setData(\"node\", fn_1);\n            this.add(follow_1);\n            this.mMenus.push(follow_1);\n            this.mWorld.httpService.checkFollowed([actor.platformId])\n                .then(function (response) {\n                if (response.code === 200) {\n                    var data = response.data;\n                    if (data.length > 0) {\n                        follow_1.setText(\"\");\n                    }\n                    fn_1.text = follow_1.getText();\n                    follow_1.setData(\"node\", fn_1);\n                }\n            });\n        }\n    };\n    UserMenuPanel.prototype.preload = function () {\n        this.scene.load.image(_utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"BlackButton\"].getName(), _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"BlackButton\"].getPNG());\n        this.scene.load.image(_utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Border\"].getName(), _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Border\"].getPNG());\n        this.scene.load.image(\"usermenu_arrow\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getRes(\"ui/usermenu/arrow.png\"));\n        this.scene.load.atlas(_utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"TransparentButton\"].getName(), _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"TransparentButton\"].getPNG(), _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"TransparentButton\"].getJSON());\n        _super.prototype.preload.call(this);\n    };\n    UserMenuPanel.prototype.init = function () {\n        this.mBackground = new _components_nine_patch__WEBPACK_IMPORTED_MODULE_3__[\"NinePatch\"](this.scene, 0, 0, 70, 30, _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Border\"].getName(), null, _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Border\"].getConfig());\n        this.add(this.mBackground);\n        // this.mBackground.x = this.mBackground.width * this.mBackground.originX;\n        // this.mBackground.y = this.mBackground.height * this.mBackground.originY;\n        _super.prototype.init.call(this);\n        if (this.mShowData)\n            this.addItem(this.showData);\n    };\n    UserMenuPanel.prototype.appendItem = function (menu, x, y) {\n        var item = new _MenuItem__WEBPACK_IMPORTED_MODULE_2__[\"MenuItem\"](this.scene, 0, 0, 59, 29, _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"TransparentButton\"].getName(), menu.text, _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"TransparentButton\"].getConfig());\n        item.x = x;\n        item.y = y - (item.height >> 1);\n        item.setData(\"node\", menu.node);\n        if (menu.child && menu.child.length > 0) {\n            var menuChild = menu.child;\n            for (var i = 0, len = menuChild.length; i < len; i++) {\n                var child = menuChild[i];\n                // parent\n                var btn = this.appendItem(child, 31 + 42, i * 31 - 31 / 2 + this.mMenus.length * 31);\n                item.appendItem(btn);\n            }\n        }\n        return item;\n    };\n    UserMenuPanel.prototype.onClickMenu = function (pointer, gameobject) {\n        if (gameobject instanceof _MenuItem__WEBPACK_IMPORTED_MODULE_2__[\"MenuItem\"]) {\n            if (gameobject.menus.length > 0) {\n                gameobject.show();\n            }\n            else {\n                this.emit(\"menuClick\", gameobject.getData(\"node\"));\n            }\n        }\n    };\n    UserMenuPanel.prototype.resizeBackground = function (width, height) {\n        if (this.mBackground) {\n            this.mBackground.resize(width, height);\n        }\n    };\n    UserMenuPanel.prototype.clear = function () {\n        for (var _i = 0, _a = this.mMenus; _i < _a.length; _i++) {\n            var menu = _a[_i];\n            this.remove(menu);\n            menu.off(\"pointerup\", this.onClickMenu);\n            menu.destroy();\n        }\n        this.mMenus.length = 0;\n    };\n    return UserMenuPanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/UserMenu/UserMenuPanel.ts?");

/***/ }),

/***/ "./src/ui/alert/PopUpTextUI.ts":
/*!*************************************!*\
  !*** ./src/ui/alert/PopUpTextUI.ts ***!
  \*************************************/
/*! exports provided: PopUpTextUI */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PopUpTextUI\", function() { return PopUpTextUI; });\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar PopUpTextUI = /** @class */ (function (_super) {\n    __extends(PopUpTextUI, _super);\n    function PopUpTextUI(world, scene) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.mWorld = world;\n        _this.scene = scene;\n        _this.disInteractive();\n        return _this;\n    }\n    PopUpTextUI.prototype.show = function (param) {\n        var _this = this;\n        var size = this.mWorld.getSize();\n        var text = this.scene.make.text({\n            x: 0,\n            y: 0,\n            text: param,\n            style: { fill: \"#FF0000\", fontSize: 20 }\n        });\n        this.add(text);\n        this.setSize(text.width, text.height);\n        this.setPosition(size.width - this.width >> 1, size.height >> 1);\n        this.scene.tweens.add({\n            targets: this,\n            duration: 1000,\n            ease: \"Linear\",\n            props: {\n                y: { value: (size.height >> 1) - 80 },\n                alhpa: { value: 0 },\n            },\n            onComplete: function (tween, targets, element) {\n                _this.destroy();\n            },\n            onCompleteParams: [this],\n        });\n        _super.prototype.show.call(this, param);\n    };\n    PopUpTextUI.prototype.resize = function () {\n        if (!this.mInitialized)\n            return;\n        var size = this.mWorld.getSize();\n        this.x = size.width - this.width >> 1;\n    };\n    PopUpTextUI.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n    };\n    return PopUpTextUI;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/alert/PopUpTextUI.ts?");

/***/ }),

/***/ "./src/ui/bag/IListItemRender.ts":
/*!***************************************!*\
  !*** ./src/ui/bag/IListItemRender.ts ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("\n\n//# sourceURL=webpack://TooqingCore/./src/ui/bag/IListItemRender.ts?");

/***/ }),

/***/ "./src/ui/bag/bagView/bagMediator.ts":
/*!*******************************************!*\
  !*** ./src/ui/bag/bagView/bagMediator.ts ***!
  \*******************************************/
/*! exports provided: DragType, DropType, BagMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DragType\", function() { return DragType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DropType\", function() { return DropType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BagMediator\", function() { return BagMediator; });\n/* harmony import */ var _const_MessageType__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../const/MessageType */ \"./src/const/MessageType.ts\");\n/* harmony import */ var _utils_log__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../utils/log */ \"./src/utils/log.ts\");\n/* harmony import */ var _bagPanel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./bagPanel */ \"./src/ui/bag/bagView/bagPanel.ts\");\n/* harmony import */ var _lib_rexui_lib_plugins_gameobjects_inputtext_InputText__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../lib/rexui/lib/plugins/gameobjects/inputtext/InputText */ \"./lib/rexui/lib/plugins/gameobjects/inputtext/InputText.js\");\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../lib/rexui/lib/ui/interface/baseUI/UIType */ \"./lib/rexui/lib/ui/interface/baseUI/UIType.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\nvar DragType;\n(function (DragType) {\n    DragType[DragType[\"DRAG_TYPE_SHORTCUT\"] = 1] = \"DRAG_TYPE_SHORTCUT\";\n    DragType[DragType[\"DRAG_TYPE_BAG\"] = 2] = \"DRAG_TYPE_BAG\";\n})(DragType || (DragType = {}));\nvar DropType;\n(function (DropType) {\n    DropType[DropType[\"DROP_TYPE_SHORTCUT\"] = 1] = \"DROP_TYPE_SHORTCUT\";\n    DropType[DropType[\"DROP_TYPE_BAG\"] = 2] = \"DROP_TYPE_BAG\";\n})(DropType || (DropType = {}));\nvar BagMediator = /** @class */ (function (_super) {\n    __extends(BagMediator, _super);\n    function BagMediator(layerManager, mworld, scene) {\n        var _this = _super.call(this) || this;\n        _this.mPageNum = 0;\n        _this.mLayerManager = layerManager;\n        _this.world = mworld;\n        _this.mScene = scene;\n        _this.mUIType = _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_5__[\"UIType\"].Normal;\n        return _this;\n    }\n    BagMediator.prototype.resize = function (width, height) {\n        if (this.mView)\n            this.mView.resize(width, height);\n    };\n    BagMediator.prototype.isSceneUI = function () {\n        return false;\n    };\n    BagMediator.prototype.isShow = function () {\n        if (this.mView)\n            return this.mView.isShow();\n    };\n    BagMediator.prototype.show = function (param) {\n        if (this.mView && this.mView.isShow()) {\n            return;\n        }\n        if (!this.mView) {\n            this.mView = new _bagPanel__WEBPACK_IMPORTED_MODULE_2__[\"BagPanel\"](this.mScene, this.world);\n        }\n        this.world.emitter.on(_const_MessageType__WEBPACK_IMPORTED_MODULE_0__[\"MessageType\"].SCENE_SYNCHRO_PACKAGE, this.handleSynchroPackage, this);\n        this.world.emitter.on(_const_MessageType__WEBPACK_IMPORTED_MODULE_0__[\"MessageType\"].UPDATED_CHARACTER_PACKAGE, this.onUpdatePackageHandler, this);\n        this.world.emitter.on(_const_MessageType__WEBPACK_IMPORTED_MODULE_0__[\"MessageType\"].QUERY_PACKAGE, this.handleSynchroPackage, this);\n        this.mScene.input.on(\"gameobjectdown\", this.onBtnHandler, this);\n        if (param) {\n            this.world.roomManager.currentRoom.playerManager.actor.getBag().requestVirtualWorldQueryPackage(param[0].id, 1, _bagPanel__WEBPACK_IMPORTED_MODULE_2__[\"BagPanel\"].PageMaxCount);\n        }\n        else {\n            this.world.roomManager.currentRoom.playerManager.actor.getBag().requestVirtualWorldQueryPackage(this.world.roomManager.currentRoom.playerManager.actor.package.id, 1, _bagPanel__WEBPACK_IMPORTED_MODULE_2__[\"BagPanel\"].PageMaxCount);\n        }\n        this.mView.show(param);\n        this.mLayerManager.addToUILayer(this.mView);\n        this.world.uiManager.checkUIState(BagMediator.NAME, false);\n        this.refrehView();\n        _super.prototype.show.call(this, param);\n    };\n    BagMediator.prototype.update = function (param) {\n        if (!this.mView)\n            return;\n        this.mView.update(param);\n    };\n    BagMediator.prototype.hide = function () {\n        this.world.emitter.off(_const_MessageType__WEBPACK_IMPORTED_MODULE_0__[\"MessageType\"].DRAG_TO_DROP, this.handleDrop, this);\n        this.world.emitter.off(_const_MessageType__WEBPACK_IMPORTED_MODULE_0__[\"MessageType\"].SCENE_SYNCHRO_PACKAGE, this.handleSynchroPackage, this);\n        this.world.emitter.off(_const_MessageType__WEBPACK_IMPORTED_MODULE_0__[\"MessageType\"].UPDATED_CHARACTER_PACKAGE, this.onUpdatePackageHandler, this);\n        this.world.emitter.off(_const_MessageType__WEBPACK_IMPORTED_MODULE_0__[\"MessageType\"].QUERY_PACKAGE, this.handleSynchroPackage, this);\n        this.mScene.input.off(\"gameobjectdown\", this.onBtnHandler, this);\n        if (!this.mView)\n            return;\n        this.mView.hide();\n        this.mView = null;\n        this.world.uiManager.checkUIState(BagMediator.NAME, true);\n    };\n    BagMediator.prototype.destroy = function () {\n        this.world.emitter.off(_const_MessageType__WEBPACK_IMPORTED_MODULE_0__[\"MessageType\"].DRAG_TO_DROP, this.handleDrop, this);\n        this.world.emitter.off(_const_MessageType__WEBPACK_IMPORTED_MODULE_0__[\"MessageType\"].SCENE_SYNCHRO_PACKAGE, this.handleSynchroPackage, this);\n        this.world.emitter.off(_const_MessageType__WEBPACK_IMPORTED_MODULE_0__[\"MessageType\"].UPDATED_CHARACTER_PACKAGE, this.onUpdatePackageHandler, this);\n        this.world.emitter.off(_const_MessageType__WEBPACK_IMPORTED_MODULE_0__[\"MessageType\"].QUERY_PACKAGE, this.handleSynchroPackage, this);\n        this.mScene.input.off(\"gameobjectdown\", this.onBtnHandler, this);\n        if (this.mView) {\n            this.mView.destroy();\n            this.mView = null;\n        }\n        this.mPageNum = 0;\n        this.mScene = null;\n        this.world = null;\n    };\n    BagMediator.prototype.handleDrop = function (value) {\n        var drag = value[0];\n        var drop = value[1];\n        if (drop.getDropType() === DropType.DROP_TYPE_BAG && drag.getDragType() === DragType.DRAG_TYPE_SHORTCUT) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_1__[\"Logger\"].getInstance().debug(\"\");\n        }\n    };\n    BagMediator.prototype.refrehView = function (mItems) {\n        var items;\n        if (!mItems) {\n            var packs = this.world.roomManager.currentRoom.playerManager.actor.package;\n            if (packs == null) {\n                return;\n            }\n            items = packs.items;\n        }\n        else {\n            items = mItems;\n        }\n        this.setListData(items);\n    };\n    BagMediator.prototype.onBtnHandler = function (pointer, gameobject) {\n        if (gameobject instanceof _lib_rexui_lib_plugins_gameobjects_inputtext_InputText__WEBPACK_IMPORTED_MODULE_3__[\"default\"])\n            return;\n        if (this.mView)\n            this.mView.setBlur();\n    };\n    BagMediator.prototype.setListData = function (value) {\n        this.mView.setDataList();\n    };\n    BagMediator.prototype.handleSynchroPackage = function () {\n        var itemList = this.world.roomManager.currentRoom.playerManager.actor.package.items;\n        this.refrehView(itemList);\n    };\n    BagMediator.prototype.onUpdatePackageHandler = function () {\n        var itemList = this.world.roomManager.currentRoom.playerManager.actor.package.items;\n        this.refrehView(itemList);\n    };\n    BagMediator.NAME = \"BagMediator\";\n    return BagMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_4__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/bag/bagView/bagMediator.ts?");

/***/ }),

/***/ "./src/ui/bag/bagView/bagPanel.ts":
/*!****************************************!*\
  !*** ./src/ui/bag/bagView/bagPanel.ts ***!
  \****************************************/
/*! exports provided: BagPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BagPanel\", function() { return BagPanel; });\n/* harmony import */ var _item_slot__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../item.slot */ \"./src/ui/bag/item.slot.ts\");\n/* harmony import */ var _utils_log__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../utils/log */ \"./src/utils/log.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _bagMediator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./bagMediator */ \"./src/ui/bag/bagView/bagMediator.ts\");\n/* harmony import */ var _components_nine_patch__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../components/nine.patch */ \"./src/ui/components/nine.patch.ts\");\n/* harmony import */ var _lib_rexui_lib_plugins_gameobjects_inputtext_InputText__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../lib/rexui/lib/plugins/gameobjects/inputtext/InputText */ \"./lib/rexui/lib/plugins/gameobjects/inputtext/InputText.js\");\n/* harmony import */ var _utils_tool__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../utils/tool */ \"./src/utils/tool.ts\");\n/* harmony import */ var _baseView_icon_btn__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../baseView/icon.btn */ \"./src/ui/baseView/icon.btn.ts\");\n/* harmony import */ var _ui_mediatorType__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../ui.mediatorType */ \"./src/ui/ui.mediatorType.ts\");\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\n\n\nvar BagPanel = /** @class */ (function (_super) {\n    __extends(BagPanel, _super);\n    // private mInitalize: boolean = false;\n    function BagPanel(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.mPageNum = 0;\n        _this.mPageIndex = 1;\n        _this.mBaseStr = \"\";\n        _this.bagSlotList = [];\n        _this.mCheckList = [];\n        return _this;\n    }\n    BagPanel.prototype.resize = function (wid, hei) {\n        var size = this.mWorld.getSize();\n        if (this.mWorld.game.device.os.desktop) {\n            this.x = size.width >> 1;\n            this.y = size.height >> 1;\n        }\n        else {\n            if (this.mWorld.game.scale.orientation === Phaser.Scale.Orientation.LANDSCAPE) {\n                this.x = size.width >> 1;\n                this.y = size.height >> 1;\n            }\n            else {\n                this.x = size.width >> 1;\n                this.y = size.height - (this.height / 2) * this.mWorld.uiScale >> 1;\n            }\n        }\n    };\n    BagPanel.prototype.setDataList = function () {\n        var itemList = this.mWorld.roomManager.currentRoom.playerManager.actor.package.items;\n        this.mPageNum = Math.ceil(itemList.length / BagPanel.PageMaxCount);\n        this.mDataList = itemList;\n        if (!this.mInitialized) {\n            return;\n        }\n        this.checkChinese();\n    };\n    BagPanel.prototype.getPageNum = function () {\n        return this.mPageNum;\n    };\n    BagPanel.prototype.destroy = function () {\n        if (this.bagSlotList) {\n            this.bagSlotList.forEach(function (slot) {\n                if (slot)\n                    slot.destroy();\n            });\n            this.bagSlotList.length = 0;\n            this.bagSlotList = null;\n        }\n        this.mWorld = null;\n        this.mPageNum = 0;\n        this.mPageIndex = 1;\n        _super.prototype.destroy.call(this);\n    };\n    BagPanel.prototype.getCurPageIndex = function () {\n        return this.mPageIndex;\n    };\n    BagPanel.prototype.show = function (param) {\n        _super.prototype.show.call(this, param);\n        if (this.mInitialized) {\n            this.mPreBtn.play(\"slipBtn\");\n            this.mNextBtn.play(\"slipBtn\");\n        }\n    };\n    BagPanel.prototype.setBlur = function () {\n        if (this.mInputText)\n            this.mInputText.setBlur();\n    };\n    BagPanel.prototype.addListen = function () {\n        if (!this.mInitialized)\n            return;\n        this.mInputText.on(\"focus\", this.onFocusHandler, this);\n        this.mInputText.on(\"blur\", this.onBlurHandler, this);\n        this.mNextBtn.on(\"pointerup\", this.nextHandler, this);\n        this.mPreBtn.on(\"pointerup\", this.preHandler, this);\n        this.mClsBtn.on(\"pointerup\", this.closeHandler, this);\n    };\n    BagPanel.prototype.removeListen = function () {\n        if (!this.mInitialized)\n            return;\n        this.mInputText.off(\"focus\", this.onFocusHandler, this);\n        this.mInputText.off(\"blur\", this.onBlurHandler, this);\n        this.mNextBtn.off(\"pointerup\", this.nextHandler, this);\n        this.mPreBtn.off(\"pointerup\", this.preHandler, this);\n        this.mClsBtn.off(\"pointerup\", this.closeHandler, this);\n    };\n    BagPanel.prototype.init = function () {\n        if (this.mInitialized)\n            return;\n        var size = this.mWorld.getSize();\n        if (this.mWorld.game.device.os.desktop) {\n            this.x = size.width >> 1;\n            this.y = size.height >> 1;\n        }\n        else {\n            if (this.mWorld.game.scale.orientation === Phaser.Scale.Orientation.LANDSCAPE) {\n                this.x = size.width >> 1;\n                this.y = size.height >> 1;\n            }\n            else {\n                this.x = size.width >> 1;\n                this.y = size.height - (this.height / 2) * this.mWorld.uiScale >> 1;\n            }\n        }\n        // ============\n        var itemSlot;\n        var tmpX = 0;\n        var tmpY = 0;\n        // ================\n        this.mBg = new _components_nine_patch__WEBPACK_IMPORTED_MODULE_4__[\"NinePatch\"](this.scene, 0, 0, 500, 350, _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Background\"].getName(), null, _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Background\"].getConfig());\n        // this.mBg.x = size.width - this.width >> 1;\n        // this.mBg.y = size.height - this.mBg.height >> 1;\n        this.addAt(this.mBg, 0);\n        this.setSize(this.mBg.width, this.mBg.height);\n        this.mBorder = new _components_nine_patch__WEBPACK_IMPORTED_MODULE_4__[\"NinePatch\"](this.scene, 0, 0, this.mBg.width - 10, this.mBg.height - 30, _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Border\"].getName(), null, _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Border\"].getConfig());\n        this.mBorder.x = this.mBg.x;\n        this.mBorder.y = this.mBg.y + 10;\n        this.addAt(this.mBorder, 1);\n        var txtBg = new _components_nine_patch__WEBPACK_IMPORTED_MODULE_4__[\"NinePatch\"](this.scene, this.mBorder.width / 4 + 5, -this.mBg.height / 2 + 65, this.mBorder.width / 2 - 40, 35, _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Border\"].getName(), null, _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Border\"].getConfig());\n        this.add(txtBg);\n        this.mInputText = new _lib_rexui_lib_plugins_gameobjects_inputtext_InputText__WEBPACK_IMPORTED_MODULE_5__[\"default\"](this.scene, 0, 0, 10, 10, {\n            type: \"input\",\n            fontSize: \"14px\",\n            color: \"#808080\"\n        })\n            .resize(txtBg.width, txtBg.height)\n            .setOrigin(0, 0)\n            .setStyle({ font: \"bold 16px YaHei\" });\n        this.mInputText.x = txtBg.x - txtBg.width / 2;\n        this.mInputText.y = txtBg.y - txtBg.height / 2;\n        this.mInputText.setText(this.mBaseStr);\n        this.add(this.mInputText);\n        // \n        this.bagSlotList = [];\n        for (var i = 0; i < BagPanel.PageMaxCount; i++) {\n            tmpX = i % 8 * 60 - 210;\n            tmpY = Math.floor(i / 8) * 60 - this.mBorder.height / 2 + this.mBorder.y + this.mBorder.height / 2 - 55;\n            itemSlot = new _item_slot__WEBPACK_IMPORTED_MODULE_0__[\"ItemSlot\"](this.scene, this.mWorld, this, tmpX, tmpY, this.mResStr, this.mResPng, this.mResJson, \"bagView_slot.png\", \"itemSelectFrame\");\n            itemSlot.createUI();\n            this.bagSlotList.push(itemSlot);\n        }\n        this.mPreBtn = this.scene.make.sprite(undefined, false);\n        this.mPreBtn.x = -this.mBg.width >> 1;\n        // // ===============\n        this.mNextBtn = this.scene.make.sprite(undefined, false);\n        this.mNextBtn.scaleX = -1;\n        this.mNextBtn.x = this.mBg.width >> 1;\n        var titleCon = this.scene.make.sprite(undefined, false);\n        titleCon.setTexture(this.mResStr, \"bagView_titleBtn.png\");\n        titleCon.x = (-this.mBg.width >> 1) + 50;\n        titleCon.y = (-this.mBg.height >> 1);\n        this.add(titleCon);\n        var titleTF = this.scene.make.text(undefined, false);\n        titleTF.setFontFamily(\"Tahoma\");\n        titleTF.setFontStyle(\"bold\");\n        titleTF.setFontSize(20);\n        titleTF.setText(\"\");\n        titleTF.x = titleCon.x + titleCon.width - 10;\n        titleTF.y = titleCon.y - (titleTF.height >> 1);\n        this.add(titleTF);\n        this.add(this.mPreBtn);\n        this.add(this.mNextBtn);\n        this.mNextBtn.setInteractive();\n        this.mPreBtn.setInteractive();\n        this.width = this.mBg.width;\n        this.height = this.mBg.height;\n        this.mClsBtn = new _baseView_icon_btn__WEBPACK_IMPORTED_MODULE_7__[\"IconBtn\"](this.scene, this.mWorld, {\n            key: _ui_mediatorType__WEBPACK_IMPORTED_MODULE_8__[\"UIMediatorType\"].Close_Btn, bgResKey: \"clsBtn\", bgTextures: [\"btn_normal\", \"btn_over\", \"btn_click\"],\n            iconResKey: \"\", iconTexture: \"\", scale: 1, pngUrl: this.mResPng, jsonUrl: this.mResJson\n        });\n        this.mClsBtn.x = (this.width >> 1) - 65;\n        this.mClsBtn.y = -this.height >> 1;\n        this.mClsBtn.scaleX = this.mClsBtn.scaleY = 2;\n        this.add(this.mClsBtn);\n        this.mInitialized = true;\n        if (this.mDataList) {\n            this.refreshDataList(this.mDataList);\n        }\n        this.setInteractive();\n        this.mWorld.uiManager.getMediator(_bagMediator__WEBPACK_IMPORTED_MODULE_3__[\"BagMediator\"].NAME).resize(this.width, this.height);\n        _super.prototype.init.call(this);\n    };\n    BagPanel.prototype.preload = function () {\n        if (!this.scene) {\n            return;\n        }\n        this.mResStr = \"bagView\";\n        this.mResPng = \"ui/bag/bagView.png\";\n        this.mResJson = \"ui/bag/bagView.json\";\n        this.scene.load.atlas(\"itemChose\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Url\"].getRes(\"ui/bag/itemChose.png\"), _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Url\"].getRes(\"ui/bag/itemChose.json\"));\n        this.scene.load.atlas(\"slip\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Url\"].getRes(\"ui/bag/slip.png\"), _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Url\"].getRes(\"ui/bag/slip.json\"));\n        this.scene.load.image(_utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Border\"].getName(), _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Border\"].getPNG());\n        this.scene.load.image(_utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Background\"].getName(), _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Background\"].getPNG());\n        this.scene.load.atlas(\"clsBtn\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Url\"].getRes(\"ui/common/common_clsBtn.png\"), _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Url\"].getRes(\"ui/common/common_clsBtn.json\"));\n        this.scene.load.atlas(this.mResStr, _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Url\"].getRes(this.mResPng), _utils_resUtil__WEBPACK_IMPORTED_MODULE_2__[\"Url\"].getRes(this.mResJson));\n        _super.prototype.preload.call(this);\n    };\n    BagPanel.prototype.loadComplete = function (loader, totalComplete, totalFailed) {\n        var selectFramesObj = this.scene.textures.get(\"itemChose\").frames;\n        var tmpSelectFrames = [];\n        for (var key in selectFramesObj) {\n            if (key === \"__BASE\")\n                continue;\n            var frame = selectFramesObj[key];\n            if (!frame)\n                continue;\n            tmpSelectFrames.push(key);\n        }\n        // jsonframesanims\n        this.scene.anims.create({\n            key: \"itemSelectFrame\",\n            frames: this.scene.anims.generateFrameNumbers(\"itemChose\", { start: 0, end: 8, frames: tmpSelectFrames }),\n            frameRate: 33,\n            yoyo: true,\n            repeat: -1\n        });\n        var framesObj = this.scene.textures.get(\"slip\").frames;\n        var tmpFrames = [];\n        for (var key in framesObj) {\n            if (key === \"__BASE\")\n                continue;\n            var frame = framesObj[key];\n            if (!frame)\n                continue;\n            tmpFrames.push(key);\n        }\n        // jsonframesanims\n        this.scene.anims.create({\n            key: \"slipBtn\",\n            frames: this.scene.anims.generateFrameNumbers(\"slip\", { start: 0, end: 14, frames: tmpFrames }),\n            frameRate: 33,\n            yoyo: true,\n            repeat: -1\n        });\n        _super.prototype.loadComplete.call(this, loader, totalComplete, totalFailed);\n    };\n    BagPanel.prototype.tweenComplete = function (show) {\n        _super.prototype.tweenComplete.call(this, show);\n        if (show)\n            this.mWorld.uiManager.getMediator(_bagMediator__WEBPACK_IMPORTED_MODULE_3__[\"BagMediator\"].NAME).resize(this.width, this.height);\n    };\n    BagPanel.prototype.nextHandler = function (pointer, gameObject) {\n        this.preNextBtnScaleHandler(this.mNextBtn, -1);\n        if (this.mPageIndex >= this.mPageNum) {\n            return;\n        }\n        this.mPageIndex++;\n        var list = this.mCheckList.length > 0 ? this.mCheckList : this.mDataList;\n        this.refreshDataList(list);\n    };\n    BagPanel.prototype.preHandler = function (pointer, gameObject) {\n        this.preNextBtnScaleHandler(this.mPreBtn);\n        if (this.mPageIndex <= 1) {\n            return;\n        }\n        this.mPageIndex--;\n        var list = this.mCheckList.length > 0 ? this.mCheckList : this.mDataList;\n        this.refreshDataList(list);\n    };\n    BagPanel.prototype.preNextBtnScaleHandler = function (gameObject, scaleX) {\n        if (scaleX === void 0) { scaleX = 1; }\n        this.scene.tweens.add({\n            targets: gameObject,\n            duration: 50,\n            ease: \"Linear\",\n            props: {\n                scaleX: { value: .5 * scaleX },\n                scaleY: { value: .5 },\n            },\n            yoyo: true,\n            repeat: 0,\n        });\n        gameObject.scaleX = scaleX;\n        gameObject.scaleY = 1;\n    };\n    BagPanel.prototype.refreshDataList = function (checkItemList) {\n        if (!checkItemList) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_1__[\"Logger\"].getInstance().error(\"checkItemList is undefiend\");\n            return;\n        }\n        var items = checkItemList.slice((this.mPageIndex - 1) * BagPanel.PageMaxCount, this.mPageIndex * BagPanel.PageMaxCount);\n        var len = BagPanel.PageMaxCount;\n        var item;\n        for (var i = 0; i < len; i++) {\n            item = this.bagSlotList[i];\n            if (!item)\n                continue;\n            item.dataChange(items[i]);\n        }\n    };\n    BagPanel.prototype.closeHandler = function () {\n        var med = this.mWorld.uiManager.getMediator(_bagMediator__WEBPACK_IMPORTED_MODULE_3__[\"BagMediator\"].NAME);\n        med.hide();\n    };\n    BagPanel.prototype.onFocusHandler = function () {\n        if (!this.mWorld || !this.mWorld.inputManager) {\n            return;\n        }\n        // this.mWorld.inputManager.enable = false;\n        if (!this.mInputText)\n            return;\n        this.mInputText.on(\"textchange\", this.checkChinese, this);\n        this.mInputText.setText(\"\");\n    };\n    BagPanel.prototype.onBlurHandler = function () {\n        if (!this.mWorld || !this.mWorld.inputManager || !this.mInputText) {\n            return;\n        }\n        // this.mWorld.inputManager.enable = false;\n        this.mInputText.on(\"textchange\", this.checkChinese, this);\n        this.mInputText.setText(this.mBaseStr);\n    };\n    BagPanel.prototype.checkChinese = function () {\n        var _this = this;\n        var str = this.mInputText.text;\n        if (str.length < 1 || !_utils_tool__WEBPACK_IMPORTED_MODULE_6__[\"Tool\"].checkChinese(str) || str === this.mBaseStr) {\n            this.refreshDataList(this.mDataList);\n            return;\n        }\n        var itemList = this.mWorld.roomManager.currentRoom.playerManager.actor.package.items;\n        itemList.forEach(function (item) {\n            if (item) {\n                if (_utils_tool__WEBPACK_IMPORTED_MODULE_6__[\"Tool\"].checkItemName(item.name, _this.mInputText.text)) {\n                    _this.mCheckList.push(item);\n                }\n            }\n        });\n        this.refreshDataList(this.mCheckList);\n    };\n    BagPanel.PageMaxCount = 32;\n    return BagPanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_9__[\"BasePanel\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/bag/bagView/bagPanel.ts?");

/***/ }),

/***/ "./src/ui/bag/basebag.ts":
/*!*******************************!*\
  !*** ./src/ui/bag/basebag.ts ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("\n\n//# sourceURL=webpack://TooqingCore/./src/ui/bag/basebag.ts?");

/***/ }),

/***/ "./src/ui/bag/baseitem.ts":
/*!********************************!*\
  !*** ./src/ui/bag/baseitem.ts ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("\n\n//# sourceURL=webpack://TooqingCore/./src/ui/bag/baseitem.ts?");

/***/ }),

/***/ "./src/ui/bag/dragDropIcon.ts":
/*!************************************!*\
  !*** ./src/ui/bag/dragDropIcon.ts ***!
  \************************************/
/*! exports provided: DragDropIcon */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DragDropIcon\", function() { return DragDropIcon; });\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _components_dynamic_image__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/dynamic.image */ \"./src/ui/components/dynamic.image.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar DragDropIcon = /** @class */ (function (_super) {\n    __extends(DragDropIcon, _super);\n    function DragDropIcon(mScene, x, y, texture) {\n        var _this = _super.call(this, mScene, x, y) || this;\n        _this.mScene = mScene;\n        _this.mIcon = new _components_dynamic_image__WEBPACK_IMPORTED_MODULE_1__[\"DynamicImage\"](_this.mScene, 0, 0); // this.mScene.make.image(undefined, false);\n        _this.add(_this.mIcon);\n        return _this;\n    }\n    DragDropIcon.prototype.load = function (value, thisArg, onLoadComplete) {\n        var _this = this;\n        this.mUrl = value;\n        var key = this.resKey;\n        this.mIcon.load(_utils_resUtil__WEBPACK_IMPORTED_MODULE_0__[\"Url\"].getOsdRes(this.mUrl), function () {\n            if (_this.mCallBack)\n                _this.mCallBack();\n        });\n        // if (!this.mScene.cache.obj.has(key)) {\n        //     this.mScene.load.image(key, Url.getOsdRes(this.mUrl));\n        //     this.mScene.load.once(Phaser.Loader.Events.COMPLETE, this.onLoadCompleteHandler, this);\n        //     this.mScene.load.start();\n        // } else {\n        //     this.onLoadCompleteHandler();\n        // }\n        this.mCallBack = onLoadComplete;\n    };\n    DragDropIcon.prototype.dragStart = function () {\n    };\n    DragDropIcon.prototype.dragStop = function (acceptDrag) {\n    };\n    DragDropIcon.prototype.dragDrop = function (dragable) {\n    };\n    DragDropIcon.prototype.dragOver = function (dragable) {\n    };\n    DragDropIcon.prototype.getDragData = function () {\n    };\n    DragDropIcon.prototype.getDropData = function () {\n    };\n    DragDropIcon.prototype.getDragImage = function () {\n        return this.mIcon;\n    };\n    DragDropIcon.prototype.getVisualDisplay = function () {\n        return undefined;\n    };\n    DragDropIcon.prototype.getBound = function () {\n        var bound = this.getBounds();\n        return new Phaser.Geom.Rectangle(bound.x, bound.y, bound.width, bound.height);\n    };\n    Object.defineProperty(DragDropIcon.prototype, \"resKey\", {\n        get: function () {\n            if (this.mUrl === undefined)\n                return \"\";\n            var key = _utils_resUtil__WEBPACK_IMPORTED_MODULE_0__[\"Url\"].getOsdRes((this.mUrl)); // Load.Image.getKey(this.mUrl);\n            return key;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    DragDropIcon.prototype.destroy = function () {\n        this.mCallBack = null;\n        _super.prototype.destroy.call(this, true);\n    };\n    Object.defineProperty(DragDropIcon.prototype, \"icon\", {\n        get: function () {\n            return this.mIcon;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    DragDropIcon.prototype.setDragType = function (value) {\n        this.mDragType = value;\n    };\n    DragDropIcon.prototype.setDropType = function (value) {\n        this.mDropType = value;\n    };\n    DragDropIcon.prototype.getDropType = function () {\n        return this.mDropType;\n    };\n    DragDropIcon.prototype.getDragType = function () {\n        return this.mDragType;\n    };\n    return DragDropIcon;\n}(Phaser.GameObjects.Container));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/bag/dragDropIcon.ts?");

/***/ }),

/***/ "./src/ui/bag/idragable.ts":
/*!*********************************!*\
  !*** ./src/ui/bag/idragable.ts ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("\n\n//# sourceURL=webpack://TooqingCore/./src/ui/bag/idragable.ts?");

/***/ }),

/***/ "./src/ui/bag/idropable.ts":
/*!*********************************!*\
  !*** ./src/ui/bag/idropable.ts ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("\n\n//# sourceURL=webpack://TooqingCore/./src/ui/bag/idropable.ts?");

/***/ }),

/***/ "./src/ui/bag/item.slot.ts":
/*!*********************************!*\
  !*** ./src/ui/bag/item.slot.ts ***!
  \*********************************/
/*! exports provided: ItemSlot */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ItemSlot\", function() { return ItemSlot; });\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _dragDropIcon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dragDropIcon */ \"./src/ui/bag/dragDropIcon.ts\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _tips_toolTip__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../tips/toolTip */ \"./src/ui/tips/toolTip.ts\");\n\n\n\n\n\nvar ItemSlot = /** @class */ (function () {\n    function ItemSlot(scene, world, parentCon, x, y, resStr, respng, resjson, resSlot, selectRes, subscriptRes) {\n        this.minitialize = false;\n        this.mWid = 0;\n        this.mHei = 0;\n        this.isTipBoo = true;\n        this.mScene = scene;\n        this.mWorld = world;\n        this.toolTipCon = scene.make.container(undefined, false); // new ToolTipContainer(this.mScene, world);\n        this.toolTipCon.x = x;\n        this.toolTipCon.y = y;\n        parentCon.add(this.toolTipCon);\n        this.mResStr = resStr;\n        this.mResPng = respng;\n        this.mResJson = resjson;\n        this.mResSlot = resSlot;\n        this.mSubScriptRes = subscriptRes;\n        this.mSelectRes = selectRes;\n    }\n    Object.defineProperty(ItemSlot.prototype, \"hasTip\", {\n        get: function () {\n            return this.isTipBoo;\n        },\n        set: function (value) {\n            this.isTipBoo = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ItemSlot.prototype.createUI = function () {\n        this.onLoadCompleteHandler();\n    };\n    ItemSlot.prototype.getView = function () {\n        return this.toolTipCon;\n    };\n    ItemSlot.prototype.getBg = function () {\n        return this.itemBG;\n    };\n    ItemSlot.prototype.getIcon = function () {\n        return this.mIcon;\n    };\n    ItemSlot.prototype.dataChange = function (val) {\n        var _this = this;\n        if (!this.minitialize)\n            return;\n        this.mData = val;\n        if (this.mIcon) {\n            var url = void 0;\n            if (this.mData && this.mData.display) {\n                url = this.mData.display.texturePath;\n                var des = this.mData.des ? \"\\n\" + this.mData.des : \"\";\n                this.setToolTipData(this.mData.name + this.mData.des);\n            }\n            else {\n                this.mIcon.icon.visible = false;\n            }\n            if (!url)\n                return;\n            if (this.mScene.textures.exists(_utils_resUtil__WEBPACK_IMPORTED_MODULE_3__[\"Url\"].getOsdRes(url))) {\n                if (this.mData) {\n                    this.mIcon.icon.setTexture(_utils_resUtil__WEBPACK_IMPORTED_MODULE_3__[\"Url\"].getOsdRes(url));\n                    this.mIcon.icon.visible = true;\n                }\n            }\n            else {\n                this.mIcon.load(url, this, function () {\n                    if (_this.mData) {\n                        _this.mIcon.icon.visible = true;\n                    }\n                });\n            }\n        }\n        else {\n            this.mIcon.icon.visible = false;\n        }\n    };\n    ItemSlot.prototype.destroy = function () {\n        if (this.mSubScriptSprite) {\n            this.mSubScriptSprite.destroy(true);\n            this.mSubScriptSprite = null;\n        }\n        if (this.mSelectSprite) {\n            this.mSelectSprite.destroy(true);\n            this.mSelectSprite = null;\n        }\n        if (this.mIcon) {\n            this.mIcon.destroy();\n        }\n        if (this.toolTipCon) {\n            this.toolTipCon.destroy();\n            this.toolTipCon = null;\n        }\n        if (this.toolTip) {\n            this.toolTip.destroy();\n            this.toolTip = null;\n        }\n        if (this.mAnimationCon) {\n            this.mAnimationCon.destroy(true);\n            this.mAnimationCon = null;\n        }\n        if (this.itemBG) {\n            this.itemBG.destroy(true);\n            this.itemBG = null;\n        }\n        this.index = 0;\n        this.mData = null;\n        this.mScene = null;\n        this.mWorld = null;\n        this.mResStr = null;\n        this.mResPng = null;\n        this.mResSlot = null;\n        this.mResJson = null;\n        this.mSubScriptRes = null;\n        this.mSelectRes = null;\n        this.mWorld = null;\n        this.minitialize = false;\n        this.mWid = 0;\n        this.mHei = 0;\n        this.mData = null;\n        this.isTipBoo = true;\n    };\n    ItemSlot.prototype.setToolTipData = function (text) {\n        if (this.toolTip) {\n            this.toolTip.setToolTipData(text);\n        }\n    };\n    ItemSlot.prototype.onLoadCompleteHandler = function () {\n        this.itemBG = this.mScene.make.sprite(undefined, false);\n        this.itemBG.setTexture(this.mResStr, this.mResSlot);\n        this.toolTipCon.addAt(this.itemBG, 0);\n        this.toolTipCon.setSize(this.itemBG.width, this.itemBG.height);\n        this.mIcon = new _dragDropIcon__WEBPACK_IMPORTED_MODULE_1__[\"DragDropIcon\"](this.mScene, 0, 0);\n        this.toolTipCon.addAt(this.mIcon, 1);\n        if (this.mSubScriptRes) {\n            this.mSubScriptSprite = this.mScene.make.sprite(undefined, false);\n            this.mSubScriptSprite.setTexture(this.mResStr, this.mSubScriptRes);\n            this.mSubScriptSprite.x = this.mSubScriptSprite.width - this.itemBG.width >> 1;\n            this.mSubScriptSprite.y = this.mSubScriptSprite.height - this.itemBG.height >> 1;\n            // this.con.addAt(this.mSubScriptSprite, 2);\n        }\n        if (this.isTipBoo) {\n            this.toolTip = new _tips_toolTip__WEBPACK_IMPORTED_MODULE_4__[\"ToolTip\"](this.mScene, \"itemSlotTip\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_3__[\"Url\"].getRes(\"ui/toolTip/toolTip.json\"), _utils_resUtil__WEBPACK_IMPORTED_MODULE_3__[\"Url\"].getRes(\"ui/toolTip/toolTip.png\"), this.mWorld.uiScale);\n        }\n        this.toolTipCon.setInteractive(new Phaser.Geom.Rectangle(0, 0, this.itemBG.width, 56), Phaser.Geom.Rectangle.Contains);\n        this.toolTipCon.on(\"pointerover\", this.overHandler, this);\n        this.toolTipCon.on(\"pointerout\", this.outHandler, this);\n        this.toolTipCon.on(\"pointerdown\", this.downHandler, this);\n        this.toolTipCon.on(\"pointerup\", this.outHandler, this);\n        this.minitialize = true;\n        if (this.mData) {\n            this.dataChange(this.mData);\n        }\n        this.mWid += this.itemBG.width;\n        this.mHei += this.itemBG.height;\n        // this.toolTipCon.setToolTip(\"itemSlotTip\", Url.getRes(\"ui/toolTip/toolTip.json\"), Url.getRes(\"ui/toolTip/toolTip.png\"));\n    };\n    ItemSlot.prototype.downHandler = function (pointer) {\n        if (!this.mData || !this.mWorld.roomManager.currentRoom.playerManager.actor || !this.mWorld.roomManager.currentRoom || !this.mWorld.roomManager.currentRoom.playerManager)\n            return;\n        // if (this.mWorld.game.device.os.desktop) {\n        var pack = this.mWorld.roomManager.currentRoom.playerManager.actor.package;\n        var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_2__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_0__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_TARGET_UI);\n        var content = pkt.content;\n        content.uiId = pack.id;\n        content.componentId = this.mData.id;\n        this.mWorld.connection.send(pkt);\n        // } else {\n        //     // this.overHandler(pointer);\n        // }\n    };\n    ItemSlot.prototype.overHandler = function (pointer) {\n        if (this.toolTip && this.mData) {\n            this.mWorld.uiManager.getUILayerManager().addToToolTipsLayer(this.toolTip);\n            this.toolTip.setToolTipData(this.mData.name + this.mData.des);\n            this.toolTip.x = pointer.x;\n            this.toolTip.y = pointer.y;\n        }\n        if (this.mSelectRes && this.mSelectRes.length > 0) {\n            this.mSelectSprite = this.mScene.make.sprite(undefined, false);\n            this.mSelectSprite.play(this.mSelectRes);\n            this.toolTipCon.add(this.mSelectSprite);\n        }\n    };\n    ItemSlot.prototype.outHandler = function (pointer) {\n        if (this.toolTip) {\n            if (this.toolTip.parentContainer) {\n                this.toolTip.parentContainer.remove(this.toolTip);\n            }\n        }\n        if (this.mSelectSprite && this.mSelectSprite.parentContainer) {\n            this.mSelectSprite.parentContainer.remove(this.mSelectSprite);\n            this.mSelectSprite.destroy(true);\n            this.mSelectSprite = null;\n        }\n    };\n    return ItemSlot;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/bag/item.slot.ts?");

/***/ }),

/***/ "./src/ui/bag/storage/storageMediator.ts":
/*!***********************************************!*\
  !*** ./src/ui/bag/storage/storageMediator.ts ***!
  \***********************************************/
/*! exports provided: StorageMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"StorageMediator\", function() { return StorageMediator; });\n/* harmony import */ var _storagePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./storagePanel */ \"./src/ui/bag/storage/storagePanel.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../lib/rexui/lib/ui/interface/baseUI/UIType */ \"./lib/rexui/lib/ui/interface/baseUI/UIType.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar StorageMediator = /** @class */ (function (_super) {\n    __extends(StorageMediator, _super);\n    function StorageMediator(layerManager, mworld, scene) {\n        var _this = _super.call(this) || this;\n        _this.mLayerManager = layerManager;\n        _this.world = mworld;\n        _this.mScene = scene;\n        _this.mUIType = _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_2__[\"UIType\"].Normal;\n        return _this;\n    }\n    StorageMediator.prototype.isShow = function () {\n        return this.mView.isShow();\n    };\n    StorageMediator.prototype.resize = function () {\n        if (this.mView)\n            this.mView.resize();\n    };\n    StorageMediator.prototype.show = function (param) {\n        if (this.mView && this.mView.isShow()) {\n            return;\n        }\n        if (!this.mView) {\n            this.mView = new _storagePanel__WEBPACK_IMPORTED_MODULE_0__[\"StoragePanel\"](this.mScene, this.world);\n        }\n        this.mView.show(param);\n        this.world.uiManager.checkUIState(StorageMediator.NAME, false);\n        _super.prototype.show.call(this, param);\n    };\n    StorageMediator.prototype.update = function (param) {\n        if (this.mView)\n            this.mView.update(param);\n    };\n    StorageMediator.prototype.hide = function () {\n        if (this.mView) {\n            this.mView.hide();\n            this.world.uiManager.checkUIState(StorageMediator.NAME, true);\n        }\n    };\n    StorageMediator.prototype.destroy = function () {\n        if (this.mView) {\n            this.mView.destroy();\n            this.mView = null;\n        }\n    };\n    StorageMediator.NAME = \"StorageMediator\";\n    return StorageMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_1__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/bag/storage/storageMediator.ts?");

/***/ }),

/***/ "./src/ui/bag/storage/storagePanel.ts":
/*!********************************************!*\
  !*** ./src/ui/bag/storage/storagePanel.ts ***!
  \********************************************/
/*! exports provided: StoragePanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"StoragePanel\", function() { return StoragePanel; });\n/* harmony import */ var _item_slot__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../item.slot */ \"./src/ui/bag/item.slot.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _baseView_icon_btn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../baseView/icon.btn */ \"./src/ui/baseView/icon.btn.ts\");\n/* harmony import */ var _components_nine_patch__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../components/nine.patch */ \"./src/ui/components/nine.patch.ts\");\n/* harmony import */ var _storageMediator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./storageMediator */ \"./src/ui/bag/storage/storageMediator.ts\");\n/* harmony import */ var _ui_mediatorType__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../ui.mediatorType */ \"./src/ui/ui.mediatorType.ts\");\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\nvar StoragePanel = /** @class */ (function (_super) {\n    __extends(StoragePanel, _super);\n    function StoragePanel(scene, world) {\n        return _super.call(this, scene, world) || this;\n    }\n    StoragePanel.prototype.resize = function (wid, hei) {\n        var size = this.mWorld.getSize();\n        this.x = size.width + wid >> 1;\n        this.y = size.height + hei - 200;\n    };\n    StoragePanel.prototype.destroy = function () {\n        if (this.mBagItemSlotList) {\n            var len = this.mBagItemSlotList.length;\n            for (var i = 0; i < len; i++) {\n                var item = this.mBagItemSlotList[i];\n                if (!item)\n                    continue;\n                item.destroy();\n                item = null;\n            }\n            this.mBagItemSlotList = null;\n        }\n        this.mWorld = null;\n        _super.prototype.destroy.call(this);\n    };\n    StoragePanel.prototype.addListen = function () {\n        this.mClsBtn.on(\"pointerup\", this.hide, this);\n    };\n    StoragePanel.prototype.removeListen = function () {\n        this.mClsBtn.off(\"pointerup\", this.hide, this);\n    };\n    StoragePanel.prototype.init = function () {\n        if (this.mInitialized)\n            return;\n        _super.prototype.init.call(this);\n        this.mBg = new _components_nine_patch__WEBPACK_IMPORTED_MODULE_3__[\"NinePatch\"](this.scene, 0, 0, 500, 350, _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Background\"].getName(), null, _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Background\"].getConfig());\n        this.addAt(this.mBg, 0);\n        this.setSize(this.mBg.width, this.mBg.height);\n        this.mBorder = new _components_nine_patch__WEBPACK_IMPORTED_MODULE_3__[\"NinePatch\"](this.scene, 0, 0, this.mBg.width - 10, this.mBg.height - 30, _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Border\"].getName(), null, _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Border\"].getConfig());\n        this.mBorder.x = this.mBg.x;\n        this.mBorder.y = this.mBg.y + 10;\n        this.addAt(this.mBorder, 1);\n        this.setSize(this.mBg.width, this.mBg.height);\n        var titleIcon = this.scene.make.image(undefined, false);\n        titleIcon.setTexture(this.mResStr, \"itemBagView_title.png\");\n        titleIcon.x = (-this.mBg.width >> 1) + 80;\n        titleIcon.y = -this.mBg.height >> 1;\n        this.add(titleIcon);\n        var titleTF = this.scene.make.text(undefined, false);\n        titleTF.setFontFamily(\"Tahoma\");\n        titleTF.setFontStyle(\"bold\");\n        titleTF.setFontSize(20);\n        titleTF.setText(\"\");\n        titleTF.x = titleIcon.x + titleIcon.width - 10;\n        titleTF.y = titleIcon.y - (titleTF.height >> 1);\n        this.add(titleTF);\n        var itemSlot;\n        var tmpX = 0;\n        var tmpY = 0;\n        // \n        this.mBagItemSlotList = [];\n        for (var i = 0; i < 9; i++) {\n            tmpX = i % 9 * 60 + 32 - 724 / 2;\n            tmpY = Math.floor(i / 9) * 60 - 55;\n            itemSlot = new _item_slot__WEBPACK_IMPORTED_MODULE_0__[\"ItemSlot\"](this.scene, this.mWorld, this, tmpX, tmpY, this.mResStr, this.mResPng, this.mResJson, \"bagView_slot.png\", \"bagView_itemSelect.png\");\n            itemSlot.createUI();\n            this.mBagItemSlotList.push(itemSlot);\n        }\n        this.mClsBtn = new _baseView_icon_btn__WEBPACK_IMPORTED_MODULE_2__[\"IconBtn\"](this.scene, this.mWorld, {\n            key: _ui_mediatorType__WEBPACK_IMPORTED_MODULE_5__[\"UIMediatorType\"].Close_Btn, bgResKey: \"clsBtn\", bgTextures: [\"btn_normal\", \"btn_over\", \"btn_click\"],\n            iconResKey: \"\", iconTexture: \"\", scale: 1, pngUrl: \"ui/common/common_clsBtn.png\", jsonUrl: \"ui/common/common_clsBtn.json\"\n        });\n        this.mClsBtn.x = (this.width >> 1) - 65;\n        this.mClsBtn.y = -this.height >> 1;\n        this.mClsBtn.scaleX = this.mClsBtn.scaleY = 2;\n        this.add(this.mClsBtn);\n    };\n    StoragePanel.prototype.preload = function () {\n        if (!this.scene) {\n            return;\n        }\n        this.mResStr = \"bagView\";\n        this.mResPng = \"ui/bag/bagView.png\";\n        this.mResJson = \"ui/bag/bagView.json\";\n        this.scene.load.image(_utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Border\"].getName(), _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Border\"].getPNG());\n        this.scene.load.image(_utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Background\"].getName(), _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Background\"].getPNG());\n        this.scene.load.atlas(\"clsBtn\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getRes(\"ui/common/common_clsBtn.png\"), _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getRes(\"ui/common/common_clsBtn.json\"));\n        this.scene.load.atlas(this.mResStr, _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getRes(this.mResPng), _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getRes(this.mResJson));\n        _super.prototype.preload.call(this);\n    };\n    StoragePanel.prototype.tweenComplete = function (show) {\n        _super.prototype.tweenComplete.call(this, show);\n        if (show)\n            this.mWorld.uiManager.getMediator(_storageMediator__WEBPACK_IMPORTED_MODULE_4__[\"StorageMediator\"].NAME).resize();\n    };\n    return StoragePanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_6__[\"BasePanel\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/bag/storage/storagePanel.ts?");

/***/ }),

/***/ "./src/ui/baseView/bagGroup/bag.group.mediator.ts":
/*!********************************************************!*\
  !*** ./src/ui/baseView/bagGroup/bag.group.mediator.ts ***!
  \********************************************************/
/*! exports provided: BagGroupMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BagGroupMediator\", function() { return BagGroupMediator; });\n/* harmony import */ var _baseFace_mediator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../baseFace.mediator */ \"./src/ui/baseView/baseFace.mediator.ts\");\n/* harmony import */ var _const_MessageType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../const/MessageType */ \"./src/const/MessageType.ts\");\n/* harmony import */ var _bag_group__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./bag.group */ \"./src/ui/baseView/bagGroup/bag.group.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../lib/rexui/lib/ui/interface/baseUI/UIType */ \"./lib/rexui/lib/ui/interface/baseUI/UIType.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n/**\n * UIslotpc\n */\nvar BagGroupMediator = /** @class */ (function (_super) {\n    __extends(BagGroupMediator, _super);\n    function BagGroupMediator(mWorld, scene) {\n        var _this = _super.call(this, mWorld, scene) || this;\n        _this.mUIType = _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_3__[\"UIType\"].Scene;\n        return _this;\n    }\n    BagGroupMediator.prototype.isSceneUI = function () {\n        return true;\n    };\n    BagGroupMediator.prototype.isShow = function () {\n        if (this.mView) {\n            return this.mView.isShow();\n        }\n    };\n    BagGroupMediator.prototype.show = function (param) {\n        if (this.mView && this.mView.isShow()) {\n            return;\n        }\n        var size = this.world.getSize();\n        this.mView = new _bag_group__WEBPACK_IMPORTED_MODULE_2__[\"BagGroup\"](this.mScene, this.world, (size.width >> 1) - 29, size.height - 50);\n        this.mView.show(param);\n        this.addListen();\n        _super.prototype.show.call(this, param);\n    };\n    BagGroupMediator.prototype.update = function (param) {\n        if (this.mView)\n            this.mView.update(param);\n    };\n    BagGroupMediator.prototype.hide = function () {\n        this.mShow = false;\n        this.removeListen();\n        if (this.mView) {\n            this.mView.hide();\n            this.mView = null;\n        }\n    };\n    BagGroupMediator.prototype.addListen = function () {\n        this.world.emitter.on(_const_MessageType__WEBPACK_IMPORTED_MODULE_1__[\"MessageType\"].QUERY_PACKAGE, this.queryPackAge, this);\n        this.world.emitter.on(_const_MessageType__WEBPACK_IMPORTED_MODULE_1__[\"MessageType\"].UPDATED_CHARACTER_PACKAGE, this.heroItemChange, this);\n        this.world.emitter.on(_const_MessageType__WEBPACK_IMPORTED_MODULE_1__[\"MessageType\"].PACKAGE_ITEM_ADD, this.heroItemChange, this);\n    };\n    BagGroupMediator.prototype.removeListen = function () {\n        this.world.emitter.off(_const_MessageType__WEBPACK_IMPORTED_MODULE_1__[\"MessageType\"].QUERY_PACKAGE, this.queryPackAge, this);\n        this.world.emitter.off(_const_MessageType__WEBPACK_IMPORTED_MODULE_1__[\"MessageType\"].UPDATED_CHARACTER_PACKAGE, this.heroItemChange, this);\n        this.world.emitter.off(_const_MessageType__WEBPACK_IMPORTED_MODULE_1__[\"MessageType\"].PACKAGE_ITEM_ADD, this.heroItemChange, this);\n    };\n    BagGroupMediator.prototype.heroItemChange = function () {\n        if (!this.world.roomManager.currentRoom || !this.world.roomManager.currentRoom.playerManager || !this.world.roomManager.currentRoom.playerManager.actor)\n            return;\n        var itemList = this.world.roomManager.currentRoom.playerManager.actor.package.items;\n        if (this.mView) {\n            this.mView.setDataList(itemList);\n        }\n    };\n    BagGroupMediator.prototype.queryPackAge = function (data) {\n        if (!this.world.roomManager.currentRoom || !this.world.roomManager.currentRoom.playerManager || !this.world.roomManager.currentRoom.playerManager.actor)\n            return;\n        if (data.id !== this.world.roomManager.currentRoom.playerManager.actor.package.id)\n            return;\n        if (this.mView) {\n            this.mView.setDataList(data.items);\n        }\n    };\n    BagGroupMediator.NAME = \"BagGroupMediator\";\n    return BagGroupMediator;\n}(_baseFace_mediator__WEBPACK_IMPORTED_MODULE_0__[\"BaseFaceMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/baseView/bagGroup/bag.group.mediator.ts?");

/***/ }),

/***/ "./src/ui/baseView/bagGroup/bag.group.ts":
/*!***********************************************!*\
  !*** ./src/ui/baseView/bagGroup/bag.group.ts ***!
  \***********************************************/
/*! exports provided: BagGroup */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BagGroup\", function() { return BagGroup; });\n/* harmony import */ var _bag_item_slot__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../bag/item.slot */ \"./src/ui/bag/item.slot.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _components_radio__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../components/radio */ \"./src/ui/components/radio.ts\");\n/* harmony import */ var _chat_chat_mediator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../chat/chat.mediator */ \"./src/ui/chat/chat.mediator.ts\");\n/* harmony import */ var _bag_bagView_bagMediator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../bag/bagView/bagMediator */ \"./src/ui/bag/bagView/bagMediator.ts\");\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n/**\n * ui pc\n */\nvar BagGroup = /** @class */ (function (_super) {\n    __extends(BagGroup, _super);\n    function BagGroup(scene, world, x, y) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.tmpWid = 0;\n        _this.x = x;\n        _this.y = y;\n        world.uiManager.getUILayerManager().addToToolTipsLayer(_this);\n        _this.bagSlotList = [];\n        return _this;\n    }\n    BagGroup.prototype.show = function (param) {\n        _super.prototype.show.call(this);\n    };\n    BagGroup.prototype.resize = function (wid, hei) {\n        var size = this.mWorld.getSize();\n        var chatMed = this.mWorld.uiManager.getMediator(_chat_chat_mediator__WEBPACK_IMPORTED_MODULE_3__[\"ChatMediator\"].NAME);\n        this.x = (size.width - this.tmpWid) / 2 < chatMed.getView().width ? chatMed.getView().width + this.width / 2 : (size.width - this.tmpWid) / 2;\n        this.y = size.height - 50;\n    };\n    BagGroup.prototype.tweenExpand = function (show) {\n        if (!this.scene)\n            return;\n        var size = this.mWorld.getSize();\n        var baseY = size.height - 50;\n        var toY = show === true ? baseY : baseY + 100;\n        var toAlpha = show === true ? 1 : 0;\n        this.scene.tweens.add({\n            targets: this,\n            duration: 200,\n            ease: \"Cubic.Out\",\n            props: {\n                y: { value: toY },\n                alpha: { value: toAlpha },\n            },\n        });\n    };\n    BagGroup.prototype.destroy = function () {\n        if (this.bagSlotList) {\n            this.bagSlotList.forEach(function (slot) {\n                if (slot)\n                    slot.destroy();\n            });\n            this.bagSlotList.length = 0;\n            this.bagSlotList = null;\n        }\n        this.tmpWid = 0;\n        this.baseBagBgWid = 0;\n        this.mResStr = null;\n        this.mResPng = null;\n        this.mResJson = null;\n        _super.prototype.destroy.call(this);\n    };\n    BagGroup.prototype.addListen = function () {\n        if (this.mBagBtnCon) {\n            this.mBagBtnCon.on(\"pointerdown\", this.bagHandler, this);\n            this.mBagBtnCon.on(\"pointerover\", this.bagBtnOver, this);\n            this.mBagBtnCon.on(\"pointerout\", this.bagBtnOut, this);\n        }\n    };\n    BagGroup.prototype.removeListen = function () {\n        if (this.mBagBtnCon) {\n            this.mBagBtnCon.off(\"pointerdown\", this.bagHandler, this);\n            this.mBagBtnCon.off(\"pointerover\", this.bagBtnOver, this);\n            this.mBagBtnCon.off(\"pointerout\", this.bagBtnOut, this);\n        }\n    };\n    BagGroup.prototype.setDataList = function (items) {\n        if (this.bagSlotList) {\n            this.bagSlotList.forEach(function (itemslot) {\n                if (itemslot)\n                    itemslot.getView().visible = false;\n            });\n        }\n        var childList = [];\n        var len = items.length > BagGroup.SlotMaxCount ? BagGroup.SlotMaxCount : items.length;\n        var tempWid = this.baseBagBgWid + 5;\n        for (var i = 0; i < len; i++) {\n            var itemSlot = this.bagSlotList[i];\n            itemSlot.getView().visible = true;\n            childList.push(itemSlot.toolTipCon);\n            itemSlot.dataChange(items[i]);\n            tempWid += 56 + 5;\n        }\n        if (this.width !== tempWid) {\n            this.width = tempWid;\n            if (this.buttons) {\n                this.buttons.destroy(true);\n                this.buttons = null;\n            }\n            this.buttons = this.scene.rexUI.add.buttons({\n                x: (tempWid + this.mBagBg.width) / 2,\n                y: 0,\n                width: 56,\n                height: 56,\n                orientation: 0,\n                buttons: childList,\n                groupName: \"bagBtn\",\n                align: \"right\",\n                click: {\n                    mode: \"pointerup\",\n                    clickInterval: 100\n                },\n                space: 5,\n                name: \"bag\",\n            });\n            this.buttons.layout();\n            // this.buttons.on(\"button.click\", function (button, groupName, index, pointer) {\n            //     if (index === 0) {\n            //     }\n            // }, this);\n            this.setSize(tempWid, 65);\n            this.mWorld.uiManager.baseFaceResize();\n        }\n    };\n    BagGroup.prototype.preload = function () {\n        if (!this.scene) {\n            return;\n        }\n        this.mResStr = \"bag\";\n        this.mResPng = \"ui/bag/bag.png\";\n        this.mResJson = \"ui/bag/bag.json\";\n        this.scene.load.atlas(this.mResStr, _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getRes(this.mResPng), _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getRes(this.mResJson));\n        _super.prototype.preload.call(this);\n    };\n    BagGroup.prototype.init = function () {\n        this.mBagBtnCon = this.scene.add.container(0, 0);\n        this.mBagBg = this.scene.add.sprite(0, 0, this.mResStr, \"bag_BtnBg\");\n        this.baseBagBgWid = this.mBagBg.width;\n        this.tmpWid += this.mBagBg.width + 5;\n        this.bagBtn = this.scene.add.sprite(this.mBagBg.x, this.mBagBg.y, this.mResStr, \"bag_Btn\");\n        this.mSubScriptSprite = this.scene.make.sprite(undefined, false);\n        this.mSubScriptSprite.setTexture(this.mResStr, \"bag_SubScripta\");\n        this.mSubScriptSprite.x = this.mSubScriptSprite.width - this.mBagBg.width >> 1;\n        this.mSubScriptSprite.y = this.mSubScriptSprite.height - this.mBagBg.height >> 1;\n        this.mBagBtnCon.addAt(this.mBagBg, 0);\n        this.mBagBtnCon.addAt(this.bagBtn, 1);\n        // this.mBagBtnCon.addAt(this.mSubScriptSprite, 2);\n        this.mBagBtnCon.setSize(56, 56);\n        this.mBagBtnCon.setInteractive(new Phaser.Geom.Rectangle(0, 0, this.mBagBg.width, this.mBagBg.height), Phaser.Geom.Rectangle.Contains);\n        this.initBagSlot();\n        this.setSize(this.tmpWid, 65);\n        if (this.mWorld.roomManager.currentRoom && this.mWorld.roomManager.currentRoom.playerManager && this.mWorld.roomManager.currentRoom.playerManager.actor) {\n            var mPackage = this.mWorld.roomManager.currentRoom.playerManager.actor.package;\n            if (mPackage && mPackage.items)\n                this.setDataList(mPackage.items);\n        }\n        this.add(this.mBagBtnCon);\n        _super.prototype.init.call(this);\n    };\n    BagGroup.prototype.tweenComplete = function (show) {\n        _super.prototype.tweenComplete.call(this, show);\n        if (show)\n            this.mWorld.uiManager.baseFaceResize();\n    };\n    BagGroup.prototype.initBagSlot = function () {\n        var subScriptList = [\"0\", \"b\", \"c\"];\n        var subScriptRes;\n        for (var i = 0; i < BagGroup.SlotMaxCount; i++) {\n            if (i >= 9) {\n                subScriptRes = \"bag_SubScript\" + subScriptList[i % 9];\n            }\n            else {\n                subScriptRes = \"bag_SubScript\" + (i + 1);\n            }\n            var itemSlot = new _bag_item_slot__WEBPACK_IMPORTED_MODULE_0__[\"ItemSlot\"](this.scene, this.mWorld, this, 0, 0, this.mResStr, this.mResPng, this.mResJson, \"bag_Slot\", \"\", subScriptRes);\n            itemSlot.createUI();\n            itemSlot.getView().visible = false;\n            this.bagSlotList.push(itemSlot);\n        }\n    };\n    BagGroup.prototype.bagHandler = function () {\n        // this.mWorld.uiManager.getMediator(FriendMediator.NAME).show();\n        var med = this.mWorld.uiManager.getMediator(_bag_bagView_bagMediator__WEBPACK_IMPORTED_MODULE_4__[\"BagMediator\"].NAME);\n        if (med.isShow()) {\n            med.hide();\n            return;\n        }\n        med.show();\n    };\n    BagGroup.prototype.tmpLoad = function () {\n        var _this = this;\n        if (!this.radio) {\n            this.radio = new _components_radio__WEBPACK_IMPORTED_MODULE_2__[\"Radio\"](this.scene, {\n                wid: 328,\n                hei: 142,\n                resKey: \"juqingRadio\",\n                resPng: \"./resources/ui/juqing/juqing.png\",\n                resJson: \"./resources/ui/juqing/juqing.json\",\n                resBg: \"radio_bg.png\",\n                resArrow: \"radio_arrow.png\",\n                fontStyle: { size: 20, color: \"#ffcc00\", bold: false },\n                completeBack: function () {\n                    _this.radioComplete();\n                },\n                clickCallBack: function () {\n                    if (_this.radio && _this.radio.parentContainer) {\n                        _this.radio.clearRadioData();\n                        _this.radio.parentContainer.remove(_this.radio);\n                    }\n                }\n            });\n            return;\n        }\n        if (this.radio.isShow) {\n            return;\n        }\n        this.radioComplete();\n    };\n    BagGroup.prototype.radioComplete = function () {\n        this.radio.setRadioData([\"1111111111\", \"2222222222\", \"333333333333\", \"444444444444\"]);\n        this.radio.x = this.bagBtn.x;\n        this.radio.y = this.bagBtn.y - 142;\n        this.add(this.radio);\n    };\n    BagGroup.prototype.bagBtnOver = function (pointer) {\n        this.mBagSelect = this.scene.make.sprite(undefined, false);\n        this.mBagSelect.setTexture(this.mResStr, \"bag_BtnSelect\");\n        this.mBagBtnCon.add(this.mBagSelect);\n        // this.tmpLoad();\n    };\n    BagGroup.prototype.bagBtnOut = function (pointer) {\n        if (this.mBagSelect && this.mBagSelect.parentContainer) {\n            this.mBagSelect.parentContainer.remove(this.mBagSelect);\n        }\n    };\n    BagGroup.SlotMaxCount = 12;\n    return BagGroup;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_5__[\"BasePanel\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/baseView/bagGroup/bag.group.ts?");

/***/ }),

/***/ "./src/ui/baseView/baseFace.mediator.ts":
/*!**********************************************!*\
  !*** ./src/ui/baseView/baseFace.mediator.ts ***!
  \**********************************************/
/*! exports provided: BaseFaceMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BaseFaceMediator\", function() { return BaseFaceMediator; });\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/interface/baseUI/UIType */ \"./lib/rexui/lib/ui/interface/baseUI/UIType.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n/**\n * UImediator\n */\nvar BaseFaceMediator = /** @class */ (function (_super) {\n    __extends(BaseFaceMediator, _super);\n    function BaseFaceMediator(world, scene) {\n        var _this = _super.call(this) || this;\n        _this.mScene = scene;\n        _this.world = world;\n        _this.mUIType = _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_1__[\"UIType\"].Scene;\n        return _this;\n    }\n    BaseFaceMediator.prototype.getView = function () {\n        return this.mView;\n    };\n    BaseFaceMediator.prototype.isSceneUI = function () {\n        return true;\n    };\n    BaseFaceMediator.prototype.isShow = function () {\n        if (!this.mView)\n            return false;\n        return this.mView.isShow();\n    };\n    BaseFaceMediator.prototype.resize = function () {\n        var size = this.world.getSize();\n        var view = this.getView();\n        if (this.mView && view.isShow()) {\n            return this.mView.resize(size.width, size.height);\n        }\n    };\n    BaseFaceMediator.prototype.hide = function () {\n        this.mShow = false;\n        if (this.mView)\n            this.mView.hide();\n    };\n    BaseFaceMediator.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n    };\n    return BaseFaceMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_0__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/baseView/baseFace.mediator.ts?");

/***/ }),

/***/ "./src/ui/baseView/bottomGroup/bottom.btn.group.ts":
/*!*********************************************************!*\
  !*** ./src/ui/baseView/bottomGroup/bottom.btn.group.ts ***!
  \*********************************************************/
/*! exports provided: BottomBtnGroup */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BottomBtnGroup\", function() { return BottomBtnGroup; });\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _icon_btn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../icon.btn */ \"./src/ui/baseView/icon.btn.ts\");\n/* harmony import */ var _ui_mediatorType__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../ui.mediatorType */ \"./src/ui/ui.mediatorType.ts\");\n/* harmony import */ var _chat_chat_mediator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../chat/chat.mediator */ \"./src/ui/chat/chat.mediator.ts\");\n/* harmony import */ var _components_check_button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../components/check.button */ \"./src/ui/components/check.button.ts\");\n/* harmony import */ var _bag_bagView_bagMediator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../bag/bagView/bagMediator */ \"./src/ui/bag/bagView/bagMediator.ts\");\n/* harmony import */ var _rightGroup_right_mediator__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../rightGroup/right.mediator */ \"./src/ui/baseView/rightGroup/right.mediator.ts\");\n/* harmony import */ var _ElementStorage_ElementStorageMediator__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../ElementStorage/ElementStorageMediator */ \"./src/ui/ElementStorage/ElementStorageMediator.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\n\nvar BottomBtnGroup = /** @class */ (function (_super) {\n    __extends(BottomBtnGroup, _super);\n    // private mOrientation: Phaser.Scale.Orientation;\n    function BottomBtnGroup(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.mExpandBoo = false;\n        _this.tmpWid = 0;\n        _this.tmpHei = 0;\n        _this.disInteractive();\n        return _this;\n    }\n    BottomBtnGroup.prototype.show = function (param) {\n        _super.prototype.show.call(this, param);\n    };\n    BottomBtnGroup.prototype.addListen = function () {\n        this.mChatContainer.on(\"pointerdown\", this.chatHandler, this);\n        this.mVoiceBtn.on(\"selected\", this.onSelectedVoiceHandler, this);\n        this.mMicBtn.on(\"selected\", this.onSelectedMicHandler, this);\n    };\n    BottomBtnGroup.prototype.removeListen = function () {\n        this.mChatContainer.off(\"pointerdown\", this.chatHandler, this);\n        this.mVoiceBtn.off(\"selected\", this.onSelectedVoiceHandler, this);\n        this.mMicBtn.off(\"selected\", this.onSelectedMicHandler, this);\n    };\n    BottomBtnGroup.prototype.resize = function () {\n        var size = this.mWorld.getSize();\n        this.scale = this.mWorld.uiScale;\n        if (this.mWorld.game.scale.orientation === Phaser.Scale.Orientation.LANDSCAPE) {\n            this.x = size.width >> 1;\n            this.mVoiceBtn.x = this.mVoiceBtn.width * this.mMicBtn.scaleX - this.mChatContainer.width / 2;\n            this.mVoiceBtn.y = -this.mVoiceBtn.height / 2 * this.mVoiceBtn.scaleY - this.mChatContainer.height / 2;\n            this.mMicBtn.x = this.mVoiceBtn.x + this.mVoiceBtn.width * this.mMicBtn.scaleX + 20;\n            this.mMicBtn.y = this.mVoiceBtn.y;\n        }\n        else if (this.mWorld.game.scale.orientation === Phaser.Scale.Orientation.PORTRAIT) {\n            this.x = size.width - (this.width / 2 + 40) * this.mWorld.uiScale;\n            this.mVoiceBtn.x = this.mVoiceBtn.width - this.mChatContainer.width / 2;\n            this.mVoiceBtn.y = this.mChatContainer.y - this.mChatContainer.height / 2 - this.mVoiceBtn.height / 2 * this.mMicBtn.scaleX;\n            this.mMicBtn.x = this.mVoiceBtn.x + this.mMicBtn.width * this.mMicBtn.scaleX + 20;\n            this.mMicBtn.y = this.mVoiceBtn.y;\n        }\n        this.y = size.height - 120 * this.mWorld.uiScale;\n        var rightMediator = this.mWorld.uiManager.getMediator(_rightGroup_right_mediator__WEBPACK_IMPORTED_MODULE_7__[\"RightMediator\"].NAME);\n        var rightBtnGroup;\n        if (rightMediator) {\n            rightBtnGroup = rightMediator.getView();\n        }\n        if (rightMediator) {\n            if (this.mWorld.inputManager) {\n                var joyStick = this.mWorld.inputManager;\n                joyStick.resize();\n            }\n            if (rightBtnGroup)\n                rightBtnGroup.resize();\n        }\n        this.mChatText.setStyle({ \"fontSize\": Math.floor(30 * this.mWorld.uiScale) });\n    };\n    BottomBtnGroup.prototype.tweenView = function (show) {\n        var size = this.mWorld.getSize();\n        var baseY = size.height - 120 * this.mWorld.uiScale;\n        var toY = show === true ? baseY : baseY + 50;\n        var toAlpha = show === true ? 1 : 0;\n        this.scene.tweens.add({\n            targets: this,\n            duration: 200,\n            ease: \"Linear\",\n            props: {\n                y: { value: toY },\n                alpha: { value: toAlpha },\n            },\n        });\n    };\n    BottomBtnGroup.prototype.preload = function () {\n        if (!this.scene) {\n            return;\n        }\n        this.mResKey = \"baseView\";\n        this.scene.load.atlas(\"chat_atlas\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getRes(\"ui/chat/chat_atlas.png\"), _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getRes(\"ui/chat/chat_atlas.json\"));\n        this.scene.load.atlas(this.mResKey, _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getRes(\"ui/baseView/mainui_mobile.png\"), _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getRes(\"ui/baseView/mainui_mobile.json\"));\n        _super.prototype.preload.call(this);\n    };\n    BottomBtnGroup.prototype.init = function () {\n        var _this = this;\n        this.mBtnList = [];\n        var size = this.mWorld.getSize();\n        this.mWorld.uiManager.getUILayerManager().addToUILayer(this);\n        var chatBgWidth = 430;\n        var chatBgHeight = 230;\n        this.mChatContainer = this.scene.make.container(undefined, false);\n        this.mChatBg = this.scene.make.image(undefined, false);\n        this.mChatBg.setTexture(this.mResKey, \"btnGroup_chatBg.png\");\n        this.mChatContainer.addAt(this.mChatBg, 0);\n        this.mChatText = this.scene.make.text({\n            width: chatBgWidth,\n            height: chatBgHeight,\n            style: { font: \"bold YaHei\", color: \"#666666\", fontSize: Math.floor(30 * this.mWorld.uiScale), wordWrap: { width: 430, useAdvancedWrap: true } }\n        }, false);\n        this.mChatText.setText(\"\");\n        this.mChatContainer.addAt(this.mChatText, 1);\n        this.mChatContainer.setSize(chatBgWidth, chatBgHeight);\n        this.mChatText.x = -this.mChatContainer.width >> 1;\n        this.mChatText.y = -this.mChatContainer.height >> 1;\n        this.mChatContainer.setInteractive(new Phaser.Geom.Rectangle(0, 0, chatBgWidth, chatBgHeight), Phaser.Geom.Rectangle.Contains);\n        this.add(this.mChatContainer);\n        this.tmpWid += this.mChatContainer.width;\n        this.tmpHei += this.mChatContainer.height;\n        this.mTurnBtn = new _icon_btn__WEBPACK_IMPORTED_MODULE_2__[\"IconBtn\"](this.scene, this.mWorld, {\n            key: _ui_mediatorType__WEBPACK_IMPORTED_MODULE_3__[\"UIMediatorType\"].Turn_Btn_Bottom, bgResKey: this.mResKey, bgTextures: [\"btnGroup_white_normal.png\", \"btnGroup_white_light.png\", \"btnGroup_white_select.png\"],\n            iconResKey: this.mResKey, iconTexture: \"btnGroup_bottom_expand.png\", scale: 1, pngUrl: \"ui/baseView/mainui_mobile.png\", jsonUrl: \"ui/baseView/mainui_mobile.json\"\n        });\n        this.mTurnBtn.x = (this.tmpWid >> 1) + 30;\n        this.mTurnBtn.y = this.tmpHei - this.mTurnBtn.height >> 1;\n        this.mTurnBtn.setPos(this.mTurnBtn.x, this.mTurnBtn.y);\n        this.add(this.mTurnBtn);\n        this.mBagBtn = new _icon_btn__WEBPACK_IMPORTED_MODULE_2__[\"IconBtn\"](this.scene, this.mWorld, {\n            key: _bag_bagView_bagMediator__WEBPACK_IMPORTED_MODULE_6__[\"BagMediator\"].NAME, bgResKey: this.mResKey, bgTextures: [\"btnGroup_yellow_normal.png\", \"btnGroup_yellow_light.png\", \"btnGroup_yellow_select.png\"],\n            iconResKey: this.mResKey, iconTexture: \"btnGroup_bag_icon.png\", scale: 1, pngUrl: \"ui/baseView/mainui_mobile.png\", jsonUrl: \"ui/baseView/mainui_mobile.json\"\n        });\n        this.mBagBtn.x = this.mTurnBtn.x;\n        this.mBagBtn.y = this.mTurnBtn.y - this.mTurnBtn.height / 2 - this.mBagBtn.height / 2 - 10;\n        this.mBagBtn.setPos(this.mBagBtn.x, this.mBagBtn.y);\n        this.tmpWid += this.mBagBtn.width + 30;\n        this.add(this.mBagBtn);\n        this.mBtnList.push(this.mBagBtn);\n        this.mTurnBtn.setClick(function () {\n            _this.turnHandler();\n        });\n        this.mBagBtn.setClick(function () {\n            _this.bagHandler();\n        });\n        this.mMarketBag = new _icon_btn__WEBPACK_IMPORTED_MODULE_2__[\"IconBtn\"](this.scene, this.mWorld, {\n            key: _bag_bagView_bagMediator__WEBPACK_IMPORTED_MODULE_6__[\"BagMediator\"].NAME, bgResKey: this.mResKey, bgTextures: [\"btnGroup_yellow_normal.png\", \"btnGroup_yellow_light.png\", \"btnGroup_yellow_select.png\"],\n            iconResKey: this.mResKey, iconTexture: \"btnGroup_bag_icon.png\", scale: 1, pngUrl: \"ui/baseView/mainui_mobile.png\", jsonUrl: \"ui/baseView/mainui_mobile.json\"\n        });\n        this.mMarketBag.x = this.mTurnBtn.x;\n        this.mMarketBag.y = this.mTurnBtn.y - this.mTurnBtn.height / 2 - this.mBagBtn.height / 2 - 60 - this.mMarketBag.height / 2;\n        this.mMarketBag.setPos(this.mMarketBag.x, this.mBagBtn.y);\n        this.tmpWid += this.mMarketBag.width + 30;\n        this.add(this.mMarketBag);\n        this.setSize(this.tmpWid, this.tmpHei);\n        this.mBtnList.push(this.mMarketBag);\n        this.mMarketBag.setClick(function () {\n            _this.marketBagHandler();\n        });\n        this.mVoiceBtn = new _components_check_button__WEBPACK_IMPORTED_MODULE_5__[\"CheckButton\"](this.scene, 0, 0, \"chat_atlas\", \"voice_normal.png\", \"voice_selected.png\");\n        this.mVoiceBtn.x = this.width - 60 * this.mWorld.uiScale;\n        this.mVoiceBtn.y = size.height - this.height;\n        this.add(this.mVoiceBtn);\n        this.mMicBtn = new _components_check_button__WEBPACK_IMPORTED_MODULE_5__[\"CheckButton\"](this.scene, 0, 0, \"chat_atlas\", \"mic_normal.png\", \"mic_selected.png\");\n        this.mMicBtn.x = this.width - 20 * this.mWorld.uiScale;\n        this.mMicBtn.y = size.height - this.height;\n        this.add(this.mMicBtn);\n        this.mVoiceBtn.scaleX = this.mVoiceBtn.scaleY = 1.5;\n        this.mMicBtn.scaleX = this.mMicBtn.scaleY = 1.5;\n        this.setSize(this.tmpWid, this.tmpHei);\n        this.resize();\n        _super.prototype.init.call(this);\n    };\n    BottomBtnGroup.prototype.tweenComplete = function (show) {\n        this.resize();\n        _super.prototype.tweenComplete.call(this, show);\n    };\n    BottomBtnGroup.prototype.onSelectedVoiceHandler = function (val) {\n        if (val === false) {\n            this.mMicBtn.selected = false;\n        }\n        this.emit(\"selectedVoice\", val);\n    };\n    BottomBtnGroup.prototype.onSelectedMicHandler = function (val) {\n        if (this.mVoiceBtn.selected === false) {\n            this.mMicBtn.selected = false;\n            return;\n        }\n        this.mMicBtn.selected = val;\n        this.emit(\"selectedMic\", val);\n    };\n    BottomBtnGroup.prototype.turnHandler = function () {\n        var _this = this;\n        // const med: MainUIMediator = this.mWorld.uiManager.getMediator(MainUIMediator.NAME) as MainUIMediator;\n        // (med.getView() as MainUIMobile).getTopView().removeBtn({ medKey: \"RankMediator\" });\n        // return;\n        this.mVoiceBtn.visible = this.mExpandBoo;\n        this.mMicBtn.visible = this.mExpandBoo;\n        var easeType = this.mExpandBoo ? \"Sine.easeIn\" : \"Sine.easeOut\";\n        if (this.mChatContainer && this.mChatContainer.parentContainer) {\n            var toScaleX = this.mExpandBoo ? 1 : 0;\n            var toScaleY = this.mExpandBoo ? 1 : 0;\n            this.scene.tweens.add({\n                targets: this.mChatContainer,\n                duration: 300,\n                ease: easeType,\n                props: {\n                    scaleX: { value: toScaleX },\n                    scaleY: { value: toScaleY }\n                }\n            });\n        }\n        if (!this.mBtnList || this.mBtnList.length < 1) {\n            this.mExpandBoo = !this.mExpandBoo;\n            return;\n        }\n        var len = this.mBtnList.length;\n        var rightMediator = this.mWorld.uiManager.getMediator(_rightGroup_right_mediator__WEBPACK_IMPORTED_MODULE_7__[\"RightMediator\"].NAME);\n        var rightBtnGroup;\n        if (rightMediator) {\n            rightBtnGroup = rightMediator.getView();\n        }\n        var _loop_1 = function (i) {\n            var btn = this_1.mBtnList[i];\n            // const angle: number = (90 * (i + 2) / -180) * Math.PI;\n            var toX = this_1.mExpandBoo ? btn.getPos().x : this_1.mChatContainer.width / 2 - Math.abs(btn.getPos().y) - 20;\n            var toY = this_1.mExpandBoo ? btn.getPos().y : this_1.mTurnBtn.y;\n            this_1.scene.tweens.add({\n                targets: btn,\n                duration: 300,\n                ease: easeType,\n                props: {\n                    x: { value: toX },\n                    y: { value: toY }\n                },\n                onComplete: function (tween, targets, ship) {\n                    if (i === len - 1) {\n                        _this.mExpandBoo = !_this.mExpandBoo;\n                        if (!_this.mExpandBoo) {\n                            _this.setSize(_this.tmpWid, _this.tmpHei);\n                        }\n                        else {\n                            _this.setSize(_this.tmpWid, btn.height * 2);\n                        }\n                        if (rightMediator) {\n                            if (_this.mWorld.inputManager) {\n                                var joyStick = _this.mWorld.inputManager;\n                                joyStick.resize();\n                            }\n                            if (rightBtnGroup)\n                                rightBtnGroup.resize();\n                        }\n                    }\n                },\n                onCompleteParams: [this_1]\n            });\n        };\n        var this_1 = this;\n        for (var i = 0; i < len; i++) {\n            _loop_1(i);\n        }\n    };\n    BottomBtnGroup.prototype.chatHandler = function () {\n        // ======================show chatView\n        var chatMed = this.mWorld.uiManager.getMediator(_chat_chat_mediator__WEBPACK_IMPORTED_MODULE_4__[\"ChatMediator\"].NAME);\n        if (chatMed === undefined) {\n            chatMed = new _chat_chat_mediator__WEBPACK_IMPORTED_MODULE_4__[\"ChatMediator\"](this.mWorld, this.scene);\n            this.mWorld.uiManager.setMediator(_chat_chat_mediator__WEBPACK_IMPORTED_MODULE_4__[\"ChatMediator\"].NAME, chatMed);\n        }\n        var showBoo = chatMed.isShow();\n        if (showBoo) {\n            // chatMed.hide();\n        }\n        else {\n            chatMed.show();\n        }\n        // =====================tween out/in baseView\n        this.mWorld.uiManager.baseFaceTween(false);\n    };\n    BottomBtnGroup.prototype.bagHandler = function () {\n        // this.mWorld.closeGame();\n        this.mWorld.uiManager.getMediator(_ui_mediatorType__WEBPACK_IMPORTED_MODULE_3__[\"UIMediatorType\"].BagMediator).show();\n        // =============index = 0 \n    };\n    BottomBtnGroup.prototype.marketBagHandler = function () {\n        // test code\n        var mediator = this.mWorld.uiManager.getMediator(_ElementStorage_ElementStorageMediator__WEBPACK_IMPORTED_MODULE_8__[\"ElementStorageMediator\"].name);\n        if (!mediator) {\n            mediator = new _ElementStorage_ElementStorageMediator__WEBPACK_IMPORTED_MODULE_8__[\"ElementStorageMediator\"](this.mWorld.uiManager.getUILayerManager(), this.scene, this.mWorld);\n            this.mWorld.uiManager.setMediator(_ElementStorage_ElementStorageMediator__WEBPACK_IMPORTED_MODULE_8__[\"ElementStorageMediator\"].name, mediator);\n        }\n        if (mediator.isShow()) {\n            mediator.hide();\n        }\n        else {\n            mediator.show(true);\n        }\n    };\n    return BottomBtnGroup;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/baseView/bottomGroup/bottom.btn.group.ts?");

/***/ }),

/***/ "./src/ui/baseView/bottomGroup/bottom.mediator.ts":
/*!********************************************************!*\
  !*** ./src/ui/baseView/bottomGroup/bottom.mediator.ts ***!
  \********************************************************/
/*! exports provided: BottomMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BottomMediator\", function() { return BottomMediator; });\n/* harmony import */ var _baseFace_mediator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../baseFace.mediator */ \"./src/ui/baseView/baseFace.mediator.ts\");\n/* harmony import */ var _bottom_btn_group__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./bottom.btn.group */ \"./src/ui/baseView/bottomGroup/bottom.btn.group.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar BottomMediator = /** @class */ (function (_super) {\n    __extends(BottomMediator, _super);\n    function BottomMediator(mWorld, scene) {\n        return _super.call(this, mWorld, scene) || this;\n    }\n    BottomMediator.prototype.show = function (param) {\n        if (this.mView && this.isShow()) {\n            return;\n        }\n        this.mView = new _bottom_btn_group__WEBPACK_IMPORTED_MODULE_1__[\"BottomBtnGroup\"](this.mScene, this.world);\n        this.mView.show(param);\n        _super.prototype.show.call(this, param);\n    };\n    BottomMediator.NAME = \"BottomMediator\";\n    return BottomMediator;\n}(_baseFace_mediator__WEBPACK_IMPORTED_MODULE_0__[\"BaseFaceMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/baseView/bottomGroup/bottom.mediator.ts?");

/***/ }),

/***/ "./src/ui/baseView/icon.btn.ts":
/*!*************************************!*\
  !*** ./src/ui/baseView/icon.btn.ts ***!
  \*************************************/
/*! exports provided: IconBtn */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IconBtn\", function() { return IconBtn; });\n/* harmony import */ var _utils_pos__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/pos */ \"./src/utils/pos.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n/**\n * \n */\nvar IconBtn = /** @class */ (function (_super) {\n    __extends(IconBtn, _super);\n    // // name\n    // private medName: string;\n    function IconBtn(scene, world, data) {\n        var _this = _super.call(this, scene) || this;\n        _this.mScene = scene;\n        _this.mWorld = world;\n        _this.mBtnBg = scene.make.image(undefined, false);\n        _this.mBgResKey = data.bgResKey;\n        _this.mBgTexture = data.bgTextures;\n        _this.mData = data;\n        if (!_this.mScene.textures.exists(_this.mBgResKey) && data.pngUrl && data.jsonUrl) {\n            _this.mScene.load.atlas(data.key, _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getRes(data.pngUrl), _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getRes(data.jsonUrl));\n            _this.mScene.load.once(Phaser.Loader.Events.COMPLETE, _this.loadComplete, _this);\n            _this.mScene.load.start();\n            return _this;\n        }\n        _this.loadComplete();\n        return _this;\n    }\n    // public setMedName(name: string) {\n    //     this.medName = name;\n    // }\n    IconBtn.prototype.getKey = function () {\n        return this.mData.key;\n    };\n    IconBtn.prototype.setPos = function (x, y) {\n        if (!this.mBasePos) {\n            this.mBasePos = new _utils_pos__WEBPACK_IMPORTED_MODULE_0__[\"Pos\"]();\n        }\n        this.mBasePos.x = x;\n        this.mBasePos.y = y;\n    };\n    /**\n     * tween\n     */\n    IconBtn.prototype.getPos = function () {\n        return this.mBasePos;\n    };\n    IconBtn.prototype.setBtnData = function (value) {\n        this.mBtnData = value;\n    };\n    IconBtn.prototype.getBtnData = function () {\n        return this.mBtnData;\n    };\n    IconBtn.prototype.setClick = function (func) {\n        this.monClick = func;\n    };\n    IconBtn.prototype.destroy = function () {\n        if (this.mBtnBg) {\n            this.mBtnBg.destroy(true);\n        }\n        if (this.mBtnIcon) {\n            this.mBtnIcon.destroy(true);\n        }\n        this.monClick = null;\n        this.mBtnBg = null;\n        this.mBtnIcon = null;\n        this.mBtnData = null;\n        this.mScene = null;\n        _super.prototype.destroy.call(this);\n    };\n    IconBtn.prototype.loadComplete = function () {\n        this.mBtnBg.setTexture(this.mBgResKey, this.mBgTexture[0]);\n        this.mBtnBg.scaleX = this.mBtnBg.scaleY = this.mData.scale;\n        this.addAt(this.mBtnBg, 0);\n        if (this.mData.iconResKey && this.mData.iconTexture && this.mData.iconTexture.length > 0) {\n            this.mBtnIcon = this.mScene.make.image(undefined, false);\n            this.mBtnIcon.setTexture(this.mData.iconResKey, this.mData.iconTexture);\n            this.add(this.mBtnIcon);\n        }\n        this.setSize(this.mBtnBg.width, this.mBtnBg.height);\n        this.setInteractive();\n        this.on(\"pointerup\", this.upHandler, this);\n        this.on(\"pointerdown\", this.downHandler, this);\n        this.on(\"pointerover\", this.overHandler, this);\n        this.on(\"pointerout\", this.outHandler, this);\n    };\n    IconBtn.prototype.overHandler = function (pointer) {\n        if (this.mBgTexture.length < 2) {\n            return;\n        }\n        this.mBtnBg.setTexture(this.mBgResKey, this.mBgTexture[1]);\n    };\n    IconBtn.prototype.outHandler = function (pointer) {\n        if (this.mBgTexture.length < 2) {\n            return;\n        }\n        this.mBtnBg.setTexture(this.mBgResKey, this.mBgTexture[0]);\n    };\n    IconBtn.prototype.upHandler = function () {\n        if (this.monClick) {\n            this.monClick();\n        }\n        if (this.mData && this.mData.callBack) {\n            this.mData.callBack.apply(this);\n        }\n        this.emit(\"click\", this);\n        if (this.mBgTexture.length < 3) {\n            return;\n        }\n        this.mBtnBg.setTexture(this.mBgResKey, this.mBgTexture[2]);\n    };\n    IconBtn.prototype.downHandler = function () {\n        // this.scaleHandler();\n        if (this.mBgTexture.length < 4) {\n            return;\n        }\n        this.mBtnBg.setTexture(this.mBgResKey, this.mBgTexture[3]);\n    };\n    IconBtn.prototype.scaleHandler = function () {\n        this.mScene.tweens.add({\n            targets: this,\n            duration: 50,\n            ease: \"Linear\",\n            props: {\n                scaleX: { value: .5 },\n                scaleY: { value: .5 },\n            },\n            yoyo: true,\n            repeat: 0,\n        });\n        this.scaleX = this.scaleY = 1;\n    };\n    return IconBtn;\n}(Phaser.GameObjects.Container));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/baseView/icon.btn.ts?");

/***/ }),

/***/ "./src/ui/baseView/icon.select.btn.ts":
/*!********************************************!*\
  !*** ./src/ui/baseView/icon.select.btn.ts ***!
  \********************************************/
/*! exports provided: IconSelectBtn */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IconSelectBtn\", function() { return IconSelectBtn; });\n/* harmony import */ var _utils_pos__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/pos */ \"./src/utils/pos.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n/**\n * ()\n */\nvar IconSelectBtn = /** @class */ (function (_super) {\n    __extends(IconSelectBtn, _super);\n    function IconSelectBtn(scene, world, bgResKey, bgTexture, scale) {\n        if (scale === void 0) { scale = 28 / 43; }\n        var _this = _super.call(this, scene) || this;\n        _this.mScene = scene;\n        _this.mWorld = world;\n        _this.mBtnBg = scene.make.image(undefined, false);\n        _this.mBgTexture = bgTexture;\n        _this.mBgResKey = bgResKey;\n        _this.mBtnBg.setTexture(bgResKey, bgTexture[0]);\n        _this.mBtnBg.scaleX = _this.mBtnBg.scaleY = scale;\n        _this.addAt(_this.mBtnBg, 0);\n        _this.setSize(_this.mBtnBg.width, _this.mBtnBg.height);\n        _this.setInteractive();\n        _this.on(\"pointerup\", _this.upHandler, _this);\n        _this.on(\"pointerdown\", _this.downHandler, _this);\n        _this.on(\"pointerover\", _this.overHandler, _this);\n        _this.on(\"pointerout\", _this.outHandler, _this);\n        return _this;\n    }\n    IconSelectBtn.prototype.setPos = function (x, y) {\n        if (!this.mBasePos) {\n            this.mBasePos = new _utils_pos__WEBPACK_IMPORTED_MODULE_0__[\"Pos\"]();\n        }\n        this.mBasePos.x = x;\n        this.mBasePos.y = y;\n    };\n    /**\n     * tween\n     */\n    IconSelectBtn.prototype.getPos = function () {\n        return this.mBasePos;\n    };\n    IconSelectBtn.prototype.setBtnData = function (value) {\n        this.mBtnData = value;\n    };\n    IconSelectBtn.prototype.getBtnData = function () {\n        return this.mBtnData;\n    };\n    IconSelectBtn.prototype.setClick = function (func) {\n        this.monClick = func;\n    };\n    IconSelectBtn.prototype.setBgRes = function (index) {\n        this.mBtnBg.setTexture(this.mBgResKey, this.mBgTexture[index] || 0);\n    };\n    IconSelectBtn.prototype.destroy = function () {\n        if (this.mBtnBg) {\n            this.mBtnBg.destroy(true);\n        }\n        if (this.mBtnIcon) {\n            this.mBtnIcon.destroy(true);\n        }\n        this.monClick = null;\n        this.mBtnBg = null;\n        this.mBtnIcon = null;\n        this.mBtnData = null;\n        this.mScene = null;\n        _super.prototype.destroy.call(this);\n    };\n    IconSelectBtn.prototype.overHandler = function (pointer) {\n    };\n    IconSelectBtn.prototype.outHandler = function (pointer) {\n    };\n    IconSelectBtn.prototype.upHandler = function () {\n        if (this.monClick) {\n            this.monClick();\n        }\n    };\n    IconSelectBtn.prototype.downHandler = function () {\n        this.scaleHandler();\n    };\n    IconSelectBtn.prototype.scaleHandler = function () {\n        this.mScene.tweens.add({\n            targets: this,\n            duration: 50,\n            ease: \"Linear\",\n            props: {\n                scaleX: { value: .5 },\n                scaleY: { value: .5 },\n            },\n            yoyo: true,\n            repeat: 0,\n        });\n        this.scaleX = this.scaleY = 1;\n    };\n    return IconSelectBtn;\n}(Phaser.GameObjects.Container));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/baseView/icon.select.btn.ts?");

/***/ }),

/***/ "./src/ui/baseView/leftGroup/left.btn.group.ts":
/*!*****************************************************!*\
  !*** ./src/ui/baseView/leftGroup/left.btn.group.ts ***!
  \*****************************************************/
/*! exports provided: LeftBtnGroup */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LeftBtnGroup\", function() { return LeftBtnGroup; });\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _icon_select_btn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../icon.select.btn */ \"./src/ui/baseView/icon.select.btn.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar LeftBtnGroup = /** @class */ (function (_super) {\n    __extends(LeftBtnGroup, _super);\n    function LeftBtnGroup(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.mCollapse = false;\n        _this.disInteractive();\n        return _this;\n    }\n    LeftBtnGroup.prototype.show = function (param) {\n        this.scale = this.mWorld.uiScale;\n        _super.prototype.show.call(this, param);\n    };\n    LeftBtnGroup.prototype.resize = function () {\n        this.x = this.width + 5 * this.mWorld.uiScale;\n        this.y = this.height / 2 + 10 * this.mWorld.uiScale;\n        this.scale = this.mWorld.uiScale;\n    };\n    LeftBtnGroup.prototype.destroy = function () {\n        if (this.mExpandBtn) {\n            this.mExpandBtn.destroy();\n        }\n        this.mResKey = \"\";\n        this.mExpandBtn = null;\n        this.mCollapse = false;\n        _super.prototype.destroy.call(this);\n    };\n    LeftBtnGroup.prototype.tweenView = function (show) {\n        var baseX = this.width + 5 * this.mWorld.uiScale;\n        var toX = show === true ? baseX : baseX - 50;\n        var toAlpha = show === true ? 1 : 0;\n        this.scene.tweens.add({\n            targets: this,\n            duration: 200,\n            ease: \"Linear\",\n            props: {\n                x: { value: toX },\n                alpha: { value: toAlpha },\n            },\n        });\n    };\n    LeftBtnGroup.prototype.addListen = function () {\n    };\n    LeftBtnGroup.prototype.removeListen = function () {\n    };\n    LeftBtnGroup.prototype.preload = function () {\n        if (!this.scene) {\n            return;\n        }\n        this.mResKey = \"baseView\";\n        this.scene.load.atlas(this.mResKey, _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getRes(\"ui/baseView/mainui_mobile.png\"), _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getRes(\"ui/baseView/mainui_mobile.json\"));\n        _super.prototype.preload.call(this);\n    };\n    LeftBtnGroup.prototype.init = function () {\n        var _this = this;\n        this.mWorld.uiManager.getUILayerManager().addToUILayer(this);\n        var hei = 0;\n        // const btnResList: string[] = this.mCollapse === false ? [\"btnGroup_expand.png\", \"btnGroup_expand.png\", \"btnGroup_collapse.png\", \"btnGroup_collapse.png\"] : [\"btnGroup_collapse.png\", \"btnGroup_collapse.png\", \"btnGroup_expand.png\", \"btnGroup_expand.png\"];\n        if (this.mWorld.getConfig().platform !== \"app\") {\n            this.mExpandBtn = new _icon_select_btn__WEBPACK_IMPORTED_MODULE_2__[\"IconSelectBtn\"](this.scene, this.mWorld, this.mResKey, [\"btnGroup_expand.png\", \"btnGroup_collapse.png\"], 1);\n            this.add(this.mExpandBtn);\n            this.mExpandBtn.setClick(function () {\n                if (!_this.mCollapse) {\n                    _this.mWorld.startFullscreen();\n                }\n                else {\n                    _this.mWorld.stopFullscreen();\n                }\n                _this.mExpandBtn.setBgRes(Number(!_this.mCollapse));\n                _this.mCollapse = !_this.mCollapse;\n            });\n            hei += this.mExpandBtn.height / 2 + 20;\n            this.setSize(this.mExpandBtn.width, hei);\n        }\n        this.resize();\n        _super.prototype.init.call(this);\n    };\n    return LeftBtnGroup;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/baseView/leftGroup/left.btn.group.ts?");

/***/ }),

/***/ "./src/ui/baseView/leftGroup/left.mediator.ts":
/*!****************************************************!*\
  !*** ./src/ui/baseView/leftGroup/left.mediator.ts ***!
  \****************************************************/
/*! exports provided: LeftMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LeftMediator\", function() { return LeftMediator; });\n/* harmony import */ var _baseFace_mediator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../baseFace.mediator */ \"./src/ui/baseView/baseFace.mediator.ts\");\n/* harmony import */ var _left_btn_group__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./left.btn.group */ \"./src/ui/baseView/leftGroup/left.btn.group.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar LeftMediator = /** @class */ (function (_super) {\n    __extends(LeftMediator, _super);\n    function LeftMediator(mWorld, scene) {\n        return _super.call(this, mWorld, scene) || this;\n    }\n    LeftMediator.prototype.show = function (param) {\n        if (this.mView && this.isShow()) {\n            return;\n        }\n        this.mView = new _left_btn_group__WEBPACK_IMPORTED_MODULE_1__[\"LeftBtnGroup\"](this.mScene, this.world);\n        this.mView.show(param);\n        _super.prototype.show.call(this, param);\n    };\n    LeftMediator.NAME = \"LeftMediator\";\n    return LeftMediator;\n}(_baseFace_mediator__WEBPACK_IMPORTED_MODULE_0__[\"BaseFaceMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/baseView/leftGroup/left.mediator.ts?");

/***/ }),

/***/ "./src/ui/baseView/rightGroup/right.btn.group.ts":
/*!*******************************************************!*\
  !*** ./src/ui/baseView/rightGroup/right.btn.group.ts ***!
  \*******************************************************/
/*! exports provided: RightBtnGroup */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RightBtnGroup\", function() { return RightBtnGroup; });\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _icon_btn__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../icon.btn */ \"./src/ui/baseView/icon.btn.ts\");\n/* harmony import */ var _bag_item_slot__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../bag/item.slot */ \"./src/ui/bag/item.slot.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _bag_bagView_bagMediator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../bag/bagView/bagMediator */ \"./src/ui/bag/bagView/bagMediator.ts\");\n/* harmony import */ var _bottomGroup_bottom_mediator__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../bottomGroup/bottom.mediator */ \"./src/ui/baseView/bottomGroup/bottom.mediator.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\nvar RightBtnGroup = /** @class */ (function (_super) {\n    __extends(RightBtnGroup, _super);\n    function RightBtnGroup(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.mBtnY = 0;\n        _this.mWid = 0;\n        _this.mHei = 0;\n        _this.disInteractive();\n        return _this;\n    }\n    RightBtnGroup.prototype.show = function (param) {\n        _super.prototype.show.call(this, param);\n    };\n    RightBtnGroup.prototype.resize = function () {\n        var size = this.mWorld.getSize();\n        this.refreshSlot();\n        var bottomMed = this.mWorld.uiManager.getMediator(_bottomGroup_bottom_mediator__WEBPACK_IMPORTED_MODULE_7__[\"BottomMediator\"].NAME);\n        var padHei = !bottomMed ? this.height / 2 : bottomMed.getView().height;\n        this.scale = this.mWorld.uiScale;\n        if (this.mWorld.game.scale.orientation === Phaser.Scale.Orientation.LANDSCAPE) {\n            var mPackage = this.mWorld.roomManager.currentRoom.playerManager.actor.package;\n            this.y = size.height - (this.height) * this.mWorld.uiScale;\n            this.x = size.width - (this.width / 2) * this.mWorld.uiScale;\n            if (mPackage && mPackage.items && mPackage.items.length > 0) {\n                this.y = size.height - (this.height / 2) * this.mWorld.uiScale;\n                this.x = size.width - (this.width / 4) * this.mWorld.uiScale;\n            }\n            else {\n                this.y = size.height - (this.height) * this.mWorld.uiScale;\n                this.x = size.width - (this.width / 2) * this.mWorld.uiScale;\n            }\n        }\n        else if (this.mWorld.game.scale.orientation === Phaser.Scale.Orientation.PORTRAIT) {\n            this.y = size.height - (padHei + this.height / 2) * this.mWorld.uiScale;\n            this.x = size.width - (this.width / 2) * this.mWorld.uiScale;\n        }\n    };\n    RightBtnGroup.prototype.hide = function () {\n        _super.prototype.hide.call(this);\n        this.destroy();\n    };\n    RightBtnGroup.prototype.destroy = function () {\n        this.mBtnY = 0;\n        this.mWid = 0;\n        this.mHei = 0;\n        if (this.mBagSlotList) {\n            this.mBagSlotList.forEach(function (itemslot) {\n                if (itemslot) {\n                    itemslot.destroy();\n                    itemslot = null;\n                }\n            });\n        }\n        this.mResKey = \"\";\n        this.mBagSlotList = null;\n        _super.prototype.destroy.call(this);\n    };\n    RightBtnGroup.prototype.tweenView = function (show) {\n        var size = this.mWorld.getSize();\n        var baseX;\n        if (this.mWorld.game.scale.orientation === Phaser.Scale.Orientation.LANDSCAPE) {\n            var mPackage = this.mWorld.roomManager.currentRoom.playerManager.actor.package;\n            if (mPackage && mPackage.items && mPackage.items.length > 0) {\n                baseX = size.width - (this.width / 4) * this.mWorld.uiScale;\n            }\n            else {\n                baseX = size.width - (this.width / 2) * this.mWorld.uiScale;\n            }\n        }\n        else {\n            baseX = size.width - (this.width / 2) * this.mWorld.uiScale;\n        }\n        var toX = show === true ? baseX : baseX + this.width;\n        var toAlpha = show === true ? 1 : 0;\n        this.scene.tweens.add({\n            targets: this,\n            duration: 200,\n            ease: \"Linear\",\n            props: {\n                x: { value: toX },\n                alpha: { value: toAlpha },\n            },\n        });\n    };\n    RightBtnGroup.prototype.refreshSlot = function () {\n        if (!this.handBtn)\n            return;\n        this.mHei = this.handBtn.height;\n        if (this.mBagSlotList) {\n            this.mBagSlotList.forEach(function (itemslot) {\n                if (itemslot) {\n                    itemslot.getView().visible = false;\n                }\n            });\n            // =============\n            var mPackage = this.mWorld.roomManager.currentRoom.playerManager.actor.package;\n            if (mPackage && mPackage.items) {\n                var items = mPackage.items;\n                var len = items.length > RightBtnGroup.SlotMaxCount ? RightBtnGroup.SlotMaxCount : items.length;\n                var posX = 0;\n                var posY = 0;\n                var radio = 110;\n                var slotSize = 56;\n                var baseAngle = 38;\n                for (var i = 0; i < len; i++) {\n                    if (this.mWorld.game.scale.orientation === Phaser.Scale.Orientation.LANDSCAPE) {\n                        var angle = (baseAngle * (i + 2) / -180) * Math.PI;\n                        posX = radio * Math.cos(angle);\n                        posY = this.handBtn.y + radio * Math.sin(angle);\n                        if (i === len - 1) {\n                            this.mWid = radio + this.handBtn.width + 30 + slotSize / 2;\n                            this.mHei = radio + this.handBtn.height + 30 + slotSize / 2;\n                        }\n                    }\n                    else {\n                        posX = 0;\n                        posY = -slotSize * (i + 1) - 20 * i;\n                        if (i === len - 1) {\n                            this.mWid = this.handBtn.width;\n                            this.mHei = slotSize * (len - 1) + 5 * (len - 2) + this.handBtn.height + 5;\n                        }\n                    }\n                    var itemSlot = this.mBagSlotList[i];\n                    itemSlot.getView().visible = true;\n                    itemSlot.toolTipCon.x = posX;\n                    itemSlot.toolTipCon.y = posY;\n                    itemSlot.dataChange(items[i]);\n                }\n            }\n        }\n        this.setSize(this.mWid, this.mHei);\n    };\n    RightBtnGroup.prototype.tweenComplete = function (show) {\n        this.resize();\n        _super.prototype.tweenComplete.call(this, show);\n    };\n    RightBtnGroup.prototype.preload = function () {\n        this.mResKey = \"baseView\";\n        this.scene.load.atlas(this.mResKey, _utils_resUtil__WEBPACK_IMPORTED_MODULE_3__[\"Url\"].getRes(\"ui/baseView/mainui_mobile.png\"), _utils_resUtil__WEBPACK_IMPORTED_MODULE_3__[\"Url\"].getRes(\"ui/baseView/mainui_mobile.json\"));\n        _super.prototype.preload.call(this);\n    };\n    RightBtnGroup.prototype.init = function () {\n        var _this = this;\n        var size = this.mWorld.getSize();\n        this.mWorld.uiManager.getUILayerManager().addToUILayer(this);\n        this.mBtnY = 0;\n        this.handBtn = new _icon_btn__WEBPACK_IMPORTED_MODULE_1__[\"IconBtn\"](this.scene, this.mWorld, {\n            key: _bag_bagView_bagMediator__WEBPACK_IMPORTED_MODULE_6__[\"BagMediator\"].NAME, bgResKey: this.mResKey, bgTextures: [\"btnGroup_bg.png\"],\n            iconResKey: this.mResKey, iconTexture: \"btnGroup_hand.png\", scale: 1, pngUrl: \"ui/baseView/mainui_mobile.png\", jsonUrl: \"ui/baseView/mainui_mobile.json\"\n        });\n        this.handBtn.x = 0;\n        this.handBtn.y = this.mBtnY + this.handBtn.height / 2;\n        this.handBtn.setClick(function () {\n            // f70\n            var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_5__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_GATEWAY_KEYBOARD_DOWN);\n            var content = pkt.content;\n            content.keyCodes = [70];\n            _this.mWorld.connection.send(pkt);\n            // ========\n            // const mainUIMed: MainUIMediator = this.mWorld.uiManager.getMediator(MainUIMediator.NAME) as MainUIMediator;\n            // mainUIMed.tweenView(false);\n            // this.mWorld.uiManager.getMediator(BagMediator.NAME).show();\n        });\n        this.add(this.handBtn);\n        this.mWid = this.handBtn.width;\n        this.mHei = this.handBtn.height;\n        this.initBagSlotData();\n        _super.prototype.init.call(this);\n    };\n    RightBtnGroup.prototype.initBagSlotData = function () {\n        this.mBagSlotList = [];\n        var size = this.mWorld.getSize();\n        var len = RightBtnGroup.SlotMaxCount;\n        var posX = 0;\n        var posY = 0;\n        for (var i = 0; i < len; i++) {\n            var itemSlot = new _bag_item_slot__WEBPACK_IMPORTED_MODULE_2__[\"ItemSlot\"](this.scene, this.mWorld, this, posX, posY, this.mResKey, _utils_resUtil__WEBPACK_IMPORTED_MODULE_3__[\"Url\"].getRes(\"ui/baseView/mainui_mobile.png\"), _utils_resUtil__WEBPACK_IMPORTED_MODULE_3__[\"Url\"].getRes(\"ui/baseView/mainui_mobile.json\"), \"btnGroup_bg.png\");\n            itemSlot.createUI();\n            itemSlot.getBg().scaleX = itemSlot.getBg().scaleY = 0.8;\n            itemSlot.getIcon().scaleX = itemSlot.getIcon().scaleY = 1.2;\n            this.mBagSlotList.push(itemSlot);\n            this.add(itemSlot.toolTipCon);\n            itemSlot.getView().visible = false;\n        }\n        this.resize();\n    };\n    RightBtnGroup.SlotMaxCount = 4;\n    return RightBtnGroup;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/baseView/rightGroup/right.btn.group.ts?");

/***/ }),

/***/ "./src/ui/baseView/rightGroup/right.mediator.ts":
/*!******************************************************!*\
  !*** ./src/ui/baseView/rightGroup/right.mediator.ts ***!
  \******************************************************/
/*! exports provided: RightMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RightMediator\", function() { return RightMediator; });\n/* harmony import */ var _baseFace_mediator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../baseFace.mediator */ \"./src/ui/baseView/baseFace.mediator.ts\");\n/* harmony import */ var _right_btn_group__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./right.btn.group */ \"./src/ui/baseView/rightGroup/right.btn.group.ts\");\n/* harmony import */ var _const_MessageType__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../const/MessageType */ \"./src/const/MessageType.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar RightMediator = /** @class */ (function (_super) {\n    __extends(RightMediator, _super);\n    function RightMediator(mWorld, scene) {\n        return _super.call(this, mWorld, scene) || this;\n    }\n    RightMediator.prototype.tweenView = function (show) {\n        if (this.mView)\n            this.mView.tweenView(show);\n    };\n    RightMediator.prototype.show = function (param) {\n        if (this.mView && this.isShow()) {\n            return;\n        }\n        this.mView = new _right_btn_group__WEBPACK_IMPORTED_MODULE_1__[\"RightBtnGroup\"](this.mScene, this.world);\n        this.mView.show(param);\n        this.world.emitter.on(_const_MessageType__WEBPACK_IMPORTED_MODULE_2__[\"MessageType\"].UPDATED_CHARACTER_PACKAGE, this.heroItemChange, this);\n        this.world.emitter.on(_const_MessageType__WEBPACK_IMPORTED_MODULE_2__[\"MessageType\"].PACKAGE_ITEM_ADD, this.heroItemChange, this);\n        _super.prototype.show.call(this, param);\n    };\n    RightMediator.prototype.hide = function () {\n        this.mShow = false;\n        this.world.emitter.off(_const_MessageType__WEBPACK_IMPORTED_MODULE_2__[\"MessageType\"].UPDATED_CHARACTER_PACKAGE, this.heroItemChange, this);\n        this.world.emitter.off(_const_MessageType__WEBPACK_IMPORTED_MODULE_2__[\"MessageType\"].PACKAGE_ITEM_ADD, this.heroItemChange, this);\n        if (this.mView) {\n            this.mView.hide();\n            this.mView = null;\n        }\n    };\n    RightMediator.prototype.heroItemChange = function () {\n        if (!this.world.roomManager.currentRoom || !this.world.roomManager.currentRoom.playerManager || !this.world.roomManager.currentRoom.playerManager.actor)\n            return;\n        if (this.mView) {\n            if (this.mView)\n                this.mView.refreshSlot();\n        }\n    };\n    RightMediator.NAME = \"RightMediator\";\n    return RightMediator;\n}(_baseFace_mediator__WEBPACK_IMPORTED_MODULE_0__[\"BaseFaceMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/baseView/rightGroup/right.mediator.ts?");

/***/ }),

/***/ "./src/ui/baseView/top.menu/top.menu.container.ts":
/*!********************************************************!*\
  !*** ./src/ui/baseView/top.menu/top.menu.container.ts ***!
  \********************************************************/
/*! exports provided: TopMenuContainer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TopMenuContainer\", function() { return TopMenuContainer; });\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../utils/resUtil */ \"./src/utils/resUtil.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar TopMenuContainer = /** @class */ (function (_super) {\n    __extends(TopMenuContainer, _super);\n    function TopMenuContainer(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.maxNum = 3;\n        _this.setTween(false);\n        _this.mButtons = [];\n        return _this;\n    }\n    TopMenuContainer.prototype.resize = function () {\n        var size = this.mWorld.getSize();\n        this.x = size.width - 50 * this.mWorld.uiScale;\n        this.y = this.height / 2 + 120 * this.mWorld.uiScale;\n        this.scale = this.dpr;\n        // this.scaleX = this.scaleY = this.mWorld.uiScale;\n    };\n    TopMenuContainer.prototype.show = function () {\n        if (this.mWorld) {\n            this.mWorld.uiManager.getUILayerManager().addToUILayer(this);\n        }\n        _super.prototype.show.call(this);\n    };\n    TopMenuContainer.prototype.hide = function () {\n        if (this.parentContainer) {\n            this.parentContainer.remove(this);\n        }\n    };\n    TopMenuContainer.prototype.addItem = function (data) {\n        // if (!this.mShowing) {\n        //   this.show();\n        // }\n        // // TODO dynamic load texture\n        // const iconBtn = new IconBtn(this.scene, this.mWorld, data);\n        // iconBtn.setName(data.name);\n        // iconBtn.y = iconBtn.height >> 1;\n        // this.add(iconBtn);\n        // iconBtn.on(\"click\", this.onGameObjectUpHandler, this);\n        // this.mButtons.push(iconBtn);\n        // if (this.mButtons.length > 3) {\n        //   // TODO add turn button\n        // }\n        // this.refresh();\n    };\n    TopMenuContainer.prototype.removeItem = function (name) {\n        var index = this.mButtons.findIndex(function (icon) { return icon.name === name; });\n        if (index >= 0) {\n            this.mButtons[index].destroy();\n            this.mButtons.splice(index, 1);\n        }\n        if (this.mButtons.length < this.maxNum) {\n            // TODO remove turn button\n        }\n        if (this.mButtons.length === 0) {\n            // TODO remove\n            this.hide();\n        }\n        this.refresh();\n    };\n    TopMenuContainer.prototype.preload = function () {\n        this.scene.load.atlas(\"baseView\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getRes(\"ui/baseView/mainui_mobile.png\"), _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getRes(\"ui/baseView/mainui_mobile.json\"));\n        _super.prototype.preload.call(this);\n    };\n    TopMenuContainer.prototype.init = function () {\n        if (this.mInitialized) {\n            return;\n        }\n        _super.prototype.init.call(this);\n        // this.addItem({ key: \"Turn_Btn_Top\", bgResKey: \"baseView\", bgTextures: [\"btnGroup_yellow_normal.png\", \"btnGroup_yellow_light.png\", \"btnGroup_yellow_select.png\"], iconResKey: \"\", iconTexture: \"btnGroup_top_expand.png\", scale: 1 });\n        this.resize();\n    };\n    TopMenuContainer.prototype.refresh = function () {\n        for (var i = 0; i < this.mButtons.length; i++) {\n            this.mButtons[i].x = -(i * 60 + 30);\n        }\n    };\n    TopMenuContainer.prototype.expand = function () {\n    };\n    TopMenuContainer.prototype.collapse = function () {\n    };\n    TopMenuContainer.prototype.destroy = function () {\n        this.mButtons.map(function (btn) { return btn.destroy(); });\n        this.mButtons.length = 0;\n        _super.prototype.destroy.call(this);\n    };\n    TopMenuContainer.prototype.onGameObjectUpHandler = function (btn) {\n        switch (btn.name) {\n            case \"SaveDecorate\":\n                this.emit(\"saveDecorate\");\n                break;\n            case \"EnterDecorate\":\n                this.emit(\"enterDecorate\");\n                break;\n            case \"Market\":\n                this.emit(\"showMarket\");\n                break;\n        }\n    };\n    return TopMenuContainer;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/baseView/top.menu/top.menu.container.ts?");

/***/ }),

/***/ "./src/ui/baseView/top.menu/top.menu.mediator.ts":
/*!*******************************************************!*\
  !*** ./src/ui/baseView/top.menu/top.menu.mediator.ts ***!
  \*******************************************************/
/*! exports provided: TopMenuMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TopMenuMediator\", function() { return TopMenuMediator; });\n/* harmony import */ var _const_MessageType__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../const/MessageType */ \"./src/const/MessageType.ts\");\n/* harmony import */ var _top_menu_container__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./top.menu.container */ \"./src/ui/baseView/top.menu/top.menu.container.ts\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar TopMenuMediator = /** @class */ (function (_super) {\n    __extends(TopMenuMediator, _super);\n    function TopMenuMediator(scene, world) {\n        var _this = _super.call(this) || this;\n        _this.scene = scene;\n        _this.world = world;\n        return _this;\n        // this.mMenuPanel = new TopMenuContainer(scene, world);\n        // this.onAddIconHandler({ key: \"Turn_Btn_Top\", name: \"SaveDecorate\", bgResKey: \"baseView\", bgTextures: [\"btnGroup_yellow_normal.png\", \"btnGroup_yellow_light.png\", \"btnGroup_yellow_select.png\"], iconResKey: \"\", iconTexture: \"btnGroup_top_expand.png\", scale: 1 });\n    }\n    TopMenuMediator.prototype.show = function () {\n        this.register();\n    };\n    TopMenuMediator.prototype.hide = function () {\n        this.unregister();\n    };\n    TopMenuMediator.prototype.isSceneUI = function () {\n        return true;\n    };\n    TopMenuMediator.prototype.register = function () {\n        this.world.emitter.on(_const_MessageType__WEBPACK_IMPORTED_MODULE_0__[\"MessageType\"].ADD_ICON_TO_TOP, this.onAddIconHandler, this);\n        this.world.emitter.on(_const_MessageType__WEBPACK_IMPORTED_MODULE_0__[\"MessageType\"].REMOVE_ICON_FROM_TOP, this.onAddIconHandler, this);\n    };\n    TopMenuMediator.prototype.unregister = function () {\n        this.world.emitter.off(_const_MessageType__WEBPACK_IMPORTED_MODULE_0__[\"MessageType\"].ADD_ICON_TO_TOP, this.onAddIconHandler, this);\n        this.world.emitter.off(_const_MessageType__WEBPACK_IMPORTED_MODULE_0__[\"MessageType\"].REMOVE_ICON_FROM_TOP, this.onRemoveIcon, this);\n    };\n    TopMenuMediator.prototype.destroy = function () {\n        this.hide();\n        _super.prototype.destroy.call(this);\n    };\n    TopMenuMediator.prototype.addItem = function (data) {\n        if (!this.mView) {\n            this.mView = new _top_menu_container__WEBPACK_IMPORTED_MODULE_1__[\"TopMenuContainer\"](this.scene, this.world);\n            this.mView.on(\"saveDecorate\", this.onSaveDecorateHandler, this);\n            this.mView.on(\"enterDecorate\", this.onEnterDecorateHandler, this);\n            this.mView.on(\"showMarket\", this.onShowMarketHandler, this);\n        }\n        this.mView.addItem(data);\n    };\n    TopMenuMediator.prototype.removeItem = function (name) {\n        if (!this.mView) {\n            return;\n        }\n        this.mView.removeItem(name);\n    };\n    TopMenuMediator.prototype.onAddIconHandler = function (data) {\n        this.addItem(data);\n    };\n    TopMenuMediator.prototype.onRemoveIcon = function (name) {\n        this.removeItem(name);\n    };\n    TopMenuMediator.prototype.onSaveDecorateHandler = function () {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_2__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_3__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_EDIT_MODE_LEAVE);\n        var content = packet.content;\n        content.needSaveEditScene = true;\n        this.world.connection.send(packet);\n    };\n    TopMenuMediator.prototype.onEnterDecorateHandler = function () {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_2__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_3__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_EDIT_MODE_ENTER);\n        this.world.connection.send(packet);\n    };\n    TopMenuMediator.prototype.onShowMarketHandler = function () {\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_2__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_3__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_SHOW_UI);\n        var content = packet.content;\n        content.name = \"Market\";\n        this.world.emitter.emit(_const_MessageType__WEBPACK_IMPORTED_MODULE_0__[\"MessageType\"].SHOW_UI, packet);\n    };\n    TopMenuMediator.NAME = \"TopMenuMediator\";\n    return TopMenuMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_4__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/baseView/top.menu/top.menu.mediator.ts?");

/***/ }),

/***/ "./src/ui/baseView/topGroup/top.btn.group.ts":
/*!***************************************************!*\
  !*** ./src/ui/baseView/topGroup/top.btn.group.ts ***!
  \***************************************************/
/*! exports provided: TopBtnGroup */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TopBtnGroup\", function() { return TopBtnGroup; });\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _icon_btn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../icon.btn */ \"./src/ui/baseView/icon.btn.ts\");\n/* harmony import */ var _DebugLogger_DebugLoggerMediator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../DebugLogger/DebugLoggerMediator */ \"./src/ui/DebugLogger/DebugLoggerMediator.ts\");\n/* harmony import */ var _ui_mediatorType__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../ui.mediatorType */ \"./src/ui/ui.mediatorType.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar TopBtnGroup = /** @class */ (function (_super) {\n    __extends(TopBtnGroup, _super);\n    function TopBtnGroup(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        // private mWid: number = 0;\n        _this.mBtnPad = 10;\n        _this.mBtnX = 0;\n        _this.mExpandBoo = false;\n        _this.mOrientation = Phaser.Scale.Orientation.LANDSCAPE;\n        _this.disInteractive();\n        return _this;\n    }\n    TopBtnGroup.prototype.show = function (param) {\n        this.scale = this.mWorld.uiScale;\n        _super.prototype.show.call(this, param);\n    };\n    TopBtnGroup.prototype.resize = function () {\n        var size = this.mWorld.getSize();\n        this.x = size.width - 50 * this.mWorld.uiScale;\n        this.y = this.height / 2 + 10 * this.mWorld.uiScale;\n        this.scale = this.mWorld.uiScale;\n    };\n    TopBtnGroup.prototype.destroy = function () {\n        this.mBtnX = 0;\n        if (this.mTurnBtn) {\n            this.mTurnBtn.destroy();\n        }\n        if (this.mReturnBtn) {\n            this.mReturnBtn.destroy();\n        }\n        if (this.mDebugBtn) {\n            this.mDebugBtn.destroy();\n        }\n        if (this.mBtnList) {\n            this.mBtnList.forEach(function (btn) {\n                if (btn) {\n                    btn.destroy();\n                    btn = null;\n                }\n            });\n        }\n        this.mResKey = \"\";\n        this.mBtnList = null;\n        this.mTurnBtn = null;\n        this.mReturnBtn = null;\n        _super.prototype.destroy.call(this);\n    };\n    TopBtnGroup.prototype.tweenView = function (show) {\n        if (!this.scene)\n            return;\n        var baseY = this.height / 2 + 10 * this.mWorld.uiScale;\n        var toY = show === true ? baseY : baseY - 50;\n        var toAlpha = show === true ? 1 : 0;\n        this.scene.tweens.add({\n            targets: this,\n            duration: 200,\n            ease: \"Cubic.Out\",\n            props: {\n                y: { value: toY },\n                alpha: { value: toAlpha },\n            },\n        });\n    };\n    TopBtnGroup.prototype.addBtn = function (data) {\n        if (!this.mAddBtnDataList)\n            this.mAddBtnDataList = [];\n        if (!this.mInitialized) {\n            this.mAddBtnDataList.push(data);\n            return;\n        }\n        var btn = new _icon_btn__WEBPACK_IMPORTED_MODULE_2__[\"IconBtn\"](this.scene, this.mWorld, data);\n        this.mBtnList.push(btn);\n        this.btnRefreshPos();\n    };\n    TopBtnGroup.prototype.removeBtn = function (key) {\n        if (this.mRemoveBtnKeyList)\n            this.mRemoveBtnKeyList = [];\n        if (!this.mInitialized) {\n            this.mRemoveBtnKeyList.push(key);\n            return;\n        }\n        for (var i = 0, len = this.mBtnList.length; i < len; i++) {\n            var btn = this.mBtnList[i];\n            if (!btn)\n                continue;\n            var btnKey = btn.getKey();\n            if (btnKey && btnKey === key) {\n                btn.destroy();\n                btn = null;\n                this.mBtnList.splice(i, 1);\n                break;\n            }\n        }\n        this.btnRefreshPos();\n    };\n    TopBtnGroup.prototype.preload = function () {\n        if (!this.scene) {\n            return;\n        }\n        this.mResKey = \"baseView\";\n        this.scene.load.atlas(this.mResKey, _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getRes(\"ui/baseView/mainui_mobile.png\"), _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getRes(\"ui/baseView/mainui_mobile.json\"));\n        _super.prototype.preload.call(this);\n    };\n    TopBtnGroup.prototype.init = function () {\n        var _this = this;\n        var hei = 0;\n        var wid = 0;\n        this.mWorld.uiManager.getUILayerManager().addToToolTipsLayer(this);\n        this.mBtnList = [];\n        this.mBtnX = 0;\n        this.mTurnBtn = new _icon_btn__WEBPACK_IMPORTED_MODULE_2__[\"IconBtn\"](this.scene, this.mWorld, {\n            key: _ui_mediatorType__WEBPACK_IMPORTED_MODULE_4__[\"UIMediatorType\"].Turn_Btn_Top, bgResKey: this.mResKey, bgTextures: [\"btnGroup_yellow_normal.png\", \"btnGroup_yellow_light.png\", \"btnGroup_yellow_select.png\"],\n            iconResKey: this.mResKey, iconTexture: \"btnGroup_top_expand.png\", scale: 1, pngUrl: \"ui/baseView/mainui_mobile.png\", jsonUrl: \"ui/baseView/mainui_mobile.json\"\n        });\n        this.mTurnBtn.x = this.mBtnX;\n        this.mTurnBtn.setPos(this.mBtnX, 0);\n        wid += this.mTurnBtn.width + this.mBtnPad;\n        this.add(this.mTurnBtn);\n        this.mBtnX += -this.mTurnBtn.width - this.mBtnPad;\n        hei += this.mTurnBtn.height / 2 + 20;\n        if (!this.mWorld.game.device.os.desktop) {\n            this.mReturnBtn = new _icon_btn__WEBPACK_IMPORTED_MODULE_2__[\"IconBtn\"](this.scene, this.mWorld, {\n                key: _ui_mediatorType__WEBPACK_IMPORTED_MODULE_4__[\"UIMediatorType\"].App_Back, bgResKey: this.mResKey, bgTextures: [\"btnGroup_white_normal.png\", \"btnGroup_white_light.png\", \"btnGroup_white_select.png\"],\n                iconResKey: this.mResKey, iconTexture: \"btnGroup_top_expand.png\", scale: 1, pngUrl: \"ui/baseView/mainui_mobile.png\", jsonUrl: \"ui/baseView/mainui_mobile.json\"\n            });\n            this.mReturnBtn.x = this.mBtnX;\n            this.mReturnBtn.setPos(this.mBtnX, 0);\n            this.mBtnList.push(this.mReturnBtn);\n            wid += this.mReturnBtn.width + this.mBtnPad;\n            this.add(this.mReturnBtn);\n            this.mBtnX += -this.mReturnBtn.width - this.mBtnPad;\n            this.mDebugBtn = new _icon_btn__WEBPACK_IMPORTED_MODULE_2__[\"IconBtn\"](this.scene, this.mWorld, {\n                key: _DebugLogger_DebugLoggerMediator__WEBPACK_IMPORTED_MODULE_3__[\"DebugLoggerMediator\"].NAME, bgResKey: this.mResKey, bgTextures: [\"btnGroup_blue_normal.png\", \"btnGroup_blue_light.png\", \"btnGroup_blue_select.png\"],\n                iconResKey: this.mResKey, iconTexture: \"btnGroup_top_expand.png\", scale: 1, pngUrl: \"ui/baseView/mainui_mobile.png\", jsonUrl: \"ui/baseView/mainui_mobile.json\"\n            });\n            this.mDebugBtn.x = this.mBtnX;\n            this.mDebugBtn.setPos(this.mBtnX, 0);\n            this.mBtnList.push(this.mDebugBtn);\n            wid += this.mDebugBtn.width + this.mBtnPad;\n            this.add(this.mDebugBtn);\n            this.mReturnBtn.setClick(function () {\n                _this.mWorld.closeGame();\n            });\n            this.mDebugBtn.setClick(function () {\n                var debugLogMed = _this.mWorld.uiManager.getMediator(_DebugLogger_DebugLoggerMediator__WEBPACK_IMPORTED_MODULE_3__[\"DebugLoggerMediator\"].NAME);\n                if (!debugLogMed) {\n                    _this.mWorld.uiManager.setMediator(_DebugLogger_DebugLoggerMediator__WEBPACK_IMPORTED_MODULE_3__[\"DebugLoggerMediator\"].NAME, new _DebugLogger_DebugLoggerMediator__WEBPACK_IMPORTED_MODULE_3__[\"DebugLoggerMediator\"](_this.mWorld.uiManager.getUILayerManager(), _this.scene, _this.mWorld));\n                    debugLogMed = _this.mWorld.uiManager.getMediator(_DebugLogger_DebugLoggerMediator__WEBPACK_IMPORTED_MODULE_3__[\"DebugLoggerMediator\"].NAME);\n                }\n                if (debugLogMed.isShow()) {\n                    debugLogMed.hide();\n                    return;\n                }\n                debugLogMed.show();\n            });\n        }\n        this.setSize(wid, hei);\n        this.mTurnBtn.setClick(function () {\n            _this.turnHandler();\n        });\n        this.resize();\n        _super.prototype.init.call(this);\n    };\n    TopBtnGroup.prototype.tweenComplete = function (show) {\n        var _this = this;\n        _super.prototype.tweenComplete.call(this, show);\n        if (show) {\n            if (this.mAddBtnDataList) {\n                this.mAddBtnDataList.forEach(function (btnData) {\n                    _this.addBtn(btnData);\n                });\n            }\n            if (this.mRemoveBtnKeyList) {\n                this.mRemoveBtnKeyList.forEach(function (key) {\n                    _this.removeBtn(key);\n                });\n            }\n        }\n    };\n    TopBtnGroup.prototype.turnHandler = function () {\n        var _this = this;\n        if (!this.mBtnList && this.mBtnList.length < 1) {\n            return;\n        }\n        var len = this.mBtnList.length;\n        var _loop_1 = function (i) {\n            var btn = this_1.mBtnList[i];\n            var toX = this_1.mExpandBoo ? btn.getPos().x : this_1.mTurnBtn.width >> 1;\n            var toAlpha = this_1.mExpandBoo ? 1 : 0;\n            var easeType = this_1.mExpandBoo ? \"Sine.easeIn\" : \"Sine.easeOut\";\n            this_1.scene.tweens.add({\n                targets: btn,\n                duration: 300,\n                ease: easeType,\n                props: {\n                    x: { value: toX },\n                    alpha: { value: toAlpha }\n                },\n                onComplete: function (tween, targets, ship) {\n                    if (i === len - 1) {\n                        _this.mExpandBoo = !_this.mExpandBoo;\n                    }\n                },\n                onCompleteParams: [this_1]\n            });\n        };\n        var this_1 = this;\n        for (var i = 0; i < len; i++) {\n            _loop_1(i);\n        }\n    };\n    TopBtnGroup.prototype.btnRefreshPos = function () {\n        var _this = this;\n        if (this.mBtnList && this.mBtnList.length > 1) {\n            this.mBtnX = -this.mTurnBtn.width - this.mBtnPad;\n            var hei = this.mTurnBtn.height / 2 + 20;\n            var wid_1 = 0;\n            this.mBtnList.forEach(function (btn) {\n                if (!btn)\n                    return;\n                btn.x = _this.mBtnX;\n                // btn.setBtnData({});\n                btn.setPos(_this.mBtnX, 0);\n                _this.mBtnX += -btn.width - _this.mBtnPad;\n                wid_1 += btn.width + _this.mBtnPad;\n                // btn.setClick(() => {\n                //     // todo connect\n                // });\n                _this.add(btn);\n            });\n            this.setSize(wid_1, hei);\n        }\n        this.resize();\n    };\n    return TopBtnGroup;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/baseView/topGroup/top.btn.group.ts?");

/***/ }),

/***/ "./src/ui/baseView/topGroup/top.mediator.ts":
/*!**************************************************!*\
  !*** ./src/ui/baseView/topGroup/top.mediator.ts ***!
  \**************************************************/
/*! exports provided: TopMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TopMediator\", function() { return TopMediator; });\n/* harmony import */ var _baseFace_mediator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../baseFace.mediator */ \"./src/ui/baseView/baseFace.mediator.ts\");\n/* harmony import */ var _top_btn_group__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./top.btn.group */ \"./src/ui/baseView/topGroup/top.btn.group.ts\");\n/* harmony import */ var _Rank_RankMediator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Rank/RankMediator */ \"./src/ui/Rank/RankMediator.ts\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar TopMediator = /** @class */ (function (_super) {\n    __extends(TopMediator, _super);\n    function TopMediator(mWorld, scene) {\n        return _super.call(this, mWorld, scene) || this;\n    }\n    TopMediator.prototype.preRefreshBtn = function (medName) {\n        if (!this.refreshMedList)\n            this.refreshMedList = [];\n        this.refreshMedList.push(medName);\n    };\n    TopMediator.prototype.refreshBtn = function (medName, addBoo) {\n        var _this = this;\n        var topBtnGroup = this.mView;\n        switch (medName) {\n            case _Rank_RankMediator__WEBPACK_IMPORTED_MODULE_2__[\"RankMediator\"].NAME:\n                if (addBoo) {\n                    topBtnGroup.addBtn({\n                        key: medName, bgResKey: \"baseView\", bgTextures: [\"btnGroup_red_normal.png\", \"btnGroup_red_light.png\", \"btnGroup_red_select.png\"],\n                        iconResKey: \"baseView\", iconTexture: \"btnGroup_rank_icon.png\", scale: 1, pngUrl: \"ui/baseView/mainui_mobile.png\", jsonUrl: \"ui/baseView/mainui_mobile.json\",\n                        callBack: function () {\n                            var med = _this.world.uiManager.getMediator(medName);\n                            if (med) {\n                                // uishowui\n                                // ui\n                                var param = med.getParam();\n                                med.show(param);\n                            }\n                            else {\n                                // todo pimednamebtnres\n                                // mednameshowui\n                            }\n                        }\n                    });\n                }\n                else {\n                    topBtnGroup.removeBtn(medName);\n                }\n                break;\n            case \"EnterDecorate\":\n                if (addBoo) {\n                    topBtnGroup.addBtn({\n                        key: medName, bgResKey: \"baseView\", bgTextures: [\"btnGroup_red_normal.png\", \"btnGroup_red_light.png\", \"btnGroup_red_select.png\"],\n                        iconResKey: \"baseView\", iconTexture: \"btnGroup_rank_icon.png\", scale: 1, pngUrl: \"ui/baseView/mainui_mobile.png\", jsonUrl: \"ui/baseView/mainui_mobile.json\",\n                        callBack: function () {\n                            _this.onEnterDecorate();\n                        }\n                    });\n                }\n                else {\n                    topBtnGroup.removeBtn(medName);\n                }\n                break;\n            case \"SaveDecorate\":\n                if (addBoo) {\n                    topBtnGroup.addBtn({\n                        key: medName, bgResKey: \"baseView\", bgTextures: [\"btnGroup_red_normal.png\", \"btnGroup_red_light.png\", \"btnGroup_red_select.png\"],\n                        iconResKey: \"baseView\", iconTexture: \"btnGroup_rank_icon.png\", scale: 1, pngUrl: \"ui/baseView/mainui_mobile.png\", jsonUrl: \"ui/baseView/mainui_mobile.json\",\n                        callBack: function () {\n                            _this.onEnterDecorate();\n                        }\n                    });\n                }\n                else {\n                    topBtnGroup.removeBtn(medName);\n                }\n                break;\n        }\n    };\n    TopMediator.prototype.tweenView = function (show) {\n        if (this.mView)\n            this.mView.tweenView(show);\n    };\n    TopMediator.prototype.show = function (param) {\n        var _this = this;\n        if (this.mView && this.isShow()) {\n            return;\n        }\n        this.mView = new _top_btn_group__WEBPACK_IMPORTED_MODULE_1__[\"TopBtnGroup\"](this.mScene, this.world);\n        this.mView.show(param);\n        _super.prototype.show.call(this, param);\n        if (this.refreshMedList) {\n            this.refreshMedList.forEach(function (medName) {\n                _this.refreshBtn(medName, true);\n            });\n        }\n    };\n    TopMediator.prototype.hide = function () {\n        var _this = this;\n        this.mShow = false;\n        if (this.refreshMedList) {\n            this.refreshMedList.forEach(function (medName) {\n                _this.refreshBtn(medName, false);\n            });\n        }\n        if (this.mView) {\n            this.mView.hide();\n            this.mView = null;\n        }\n    };\n    TopMediator.prototype.addBtn = function (data) {\n        if (this.mView)\n            this.mView.addBtn(data);\n    };\n    TopMediator.prototype.onEnterDecorate = function () {\n        if (this.world && this.world.connection) {\n            var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_3__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_EDIT_MODE_ENTER);\n            this.world.connection.send(packet);\n        }\n    };\n    TopMediator.prototype.onSaveDecorate = function () {\n        if (this.world && this.world.connection) {\n            // Alert.\n            var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_3__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_4__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_EDIT_MODE_SAVE);\n            this.world.connection.send(packet);\n        }\n    };\n    TopMediator.NAME = \"TopMediator\";\n    return TopMediator;\n}(_baseFace_mediator__WEBPACK_IMPORTED_MODULE_0__[\"BaseFaceMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/baseView/topGroup/top.mediator.ts?");

/***/ }),

/***/ "./src/ui/chat/Chat.ts":
/*!*****************************!*\
  !*** ./src/ui/chat/Chat.ts ***!
  \*****************************/
/*! exports provided: Chat */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Chat\", function() { return Chat; });\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar Chat = /** @class */ (function (_super) {\n    __extends(Chat, _super);\n    function Chat(world) {\n        var _this = _super.call(this) || this;\n        _this.world = world;\n        _this.mEvent = new Phaser.Events.EventEmitter();\n        return _this;\n    }\n    Chat.prototype.on = function (event, fn, context) {\n        this.mEvent.on(event, fn, context);\n    };\n    Chat.prototype.off = function (event, fn, context) {\n        this.mEvent.off(event, fn, context);\n    };\n    Chat.prototype.register = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.addPacketListener(this);\n            this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_CHAT, this.handleCharacterChat);\n            this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_QCLOUD_GME_AUTHBUFFER, this.handleQCLoudGME);\n        }\n    };\n    Chat.prototype.unregister = function () {\n        var connection = this.connection;\n        if (connection) {\n            this.connection.removePacketListener(this);\n        }\n    };\n    Object.defineProperty(Chat.prototype, \"connection\", {\n        get: function () {\n            if (this.world) {\n                return this.world.connection;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Chat.prototype.handleCharacterChat = function (packet) {\n        var content = packet.content;\n        this.mEvent.emit(\"characterChat\", packet);\n    };\n    Chat.prototype.handleQCLoudGME = function (packet) {\n        var authBuffer = packet.content;\n        this.mEvent.emit(\"QCLoundGME\", packet);\n    };\n    return Chat;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PacketHandler\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/chat/Chat.ts?");

/***/ }),

/***/ "./src/ui/chat/base.chat.panel.ts":
/*!****************************************!*\
  !*** ./src/ui/chat/base.chat.panel.ts ***!
  \****************************************/
/*! exports provided: BaseChatPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BaseChatPanel\", function() { return BaseChatPanel; });\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar BaseChatPanel = /** @class */ (function (_super) {\n    __extends(BaseChatPanel, _super);\n    function BaseChatPanel(scene, world) {\n        return _super.call(this, scene, world) || this;\n    }\n    BaseChatPanel.prototype.appendChat = function (val) {\n    };\n    Object.defineProperty(BaseChatPanel.prototype, \"outChannel\", {\n        get: function () {\n            return 0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return BaseChatPanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/chat/base.chat.panel.ts?");

/***/ }),

/***/ "./src/ui/chat/chat.mediator.ts":
/*!**************************************!*\
  !*** ./src/ui/chat/chat.mediator.ts ***!
  \**************************************/
/*! exports provided: ChatMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ChatMediator\", function() { return ChatMediator; });\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_log__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/log */ \"./src/utils/log.ts\");\n/* harmony import */ var _chatPanel_pc__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chatPanel.pc */ \"./src/ui/chat/chatPanel.pc.ts\");\n/* harmony import */ var _mobile_chatPanel_mobile__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./mobile/chatPanel.mobile */ \"./src/ui/chat/mobile/chatPanel.mobile.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\n/* harmony import */ var _Chat__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Chat */ \"./src/ui/chat/Chat.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/interface/baseUI/UIType */ \"./lib/rexui/lib/ui/interface/baseUI/UIType.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\nvar ChatMediator = /** @class */ (function (_super) {\n    __extends(ChatMediator, _super);\n    function ChatMediator(world, scene) {\n        var _this = _super.call(this) || this;\n        _this.mInRoom = false;\n        _this.mAllMessage = [];\n        _this.mMaxMessageNum = 50;\n        _this.world = world;\n        _this.mScene = scene;\n        _this.chat = new _Chat__WEBPACK_IMPORTED_MODULE_6__[\"Chat\"](world);\n        _this.mUIType = _this.world.game.device.os.desktop ? _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_7__[\"UIType\"].Scene : _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_7__[\"UIType\"].Normal;\n        return _this;\n    }\n    ChatMediator.prototype.getUIType = function () {\n        return this.mUIType;\n    };\n    ChatMediator.prototype.enterRoom = function () {\n        if (!this.room)\n            return;\n        if (!this.room.playerManager.actor)\n            return;\n        if (!this.mGMEApi)\n            return;\n        var playerID = this.room.playerManager.actor.id;\n        var roomID = this.room.id;\n        this.mGMEApi.EnterRoom(roomID.toString(), 1, this.mQCLoudAuth);\n        this.mInRoom = true;\n        this.sendVoiceRoomStatus(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].ChatChannel.CurrentScene, roomID, pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].VoiceRoomStatus.InVoiceRoom);\n    };\n    ChatMediator.prototype.exitRoom = function () {\n        if (!this.mGMEApi)\n            return;\n        this.mGMEApi.EnableMic(false);\n        this.mGMEApi.ExitRoom();\n        this.mInRoom = false;\n        if (!this.room) {\n            return;\n        }\n        this.sendVoiceRoomStatus(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].ChatChannel.CurrentScene, this.room.id, pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].VoiceRoomStatus.OutsideVoiceRoom);\n    };\n    ChatMediator.prototype.isSceneUI = function () {\n        return true;\n    };\n    ChatMediator.prototype.tweenView = function (show) {\n        if (!this.mView)\n            return;\n        this.mView.tweenExpand(show);\n    };\n    ChatMediator.prototype.isShow = function () {\n        if (!this.mView) {\n            return false;\n        }\n        return this.mView.isShow();\n    };\n    ChatMediator.prototype.showing = function () {\n        return true;\n    };\n    ChatMediator.prototype.resize = function () {\n        var size = this.world.getSize();\n        if (this.mView) {\n            this.mView.resize(size.width, size.height);\n        }\n    };\n    ChatMediator.prototype.show = function (param) {\n        if (this.mView && this.mView.isShow()) {\n            return;\n        }\n        if (this.world.game.device.os.desktop) {\n            this.mView = new _chatPanel_pc__WEBPACK_IMPORTED_MODULE_3__[\"ChatPanelPC\"](this.mScene, this.world);\n        }\n        else {\n            this.mView = new _mobile_chatPanel_mobile__WEBPACK_IMPORTED_MODULE_4__[\"ChatPanelMobile\"](this.mScene, this.world);\n            this.world.uiManager.checkUIState(ChatMediator.NAME, false);\n        }\n        this.world.uiManager.getUILayerManager().addToUILayer(this.mView);\n        this.addListen();\n        this.mView.show();\n        this.mView.scale = this.world.uiScale;\n    };\n    ChatMediator.prototype.update = function (param) {\n        this.mView.update(param);\n        this.mParam = param;\n    };\n    ChatMediator.prototype.hide = function () {\n        this.removeListen();\n        this.mView.hide();\n        if (!this.world.game.device.os.desktop)\n            this.world.uiManager.checkUIState(ChatMediator.NAME, true);\n    };\n    ChatMediator.prototype.setParam = function (param) {\n        this.mParam = param;\n    };\n    ChatMediator.prototype.getParam = function () {\n        return this.mParam;\n    };\n    ChatMediator.prototype.destroy = function () {\n        this.removeListen();\n        if (this.chat) {\n            this.chat.unregister();\n            this.chat = null;\n        }\n        if (this.mGMEApi) {\n            this.mGMEApi = null;\n        }\n        this.mScene = null;\n        this.world = null;\n        this.mInRoom = false;\n        this.mQCLoudAuth = null;\n        this.mAllMessage.forEach(function (message) {\n            if (message)\n                message = null;\n        });\n        this.mAllMessage = null;\n        _super.prototype.destroy.call(this);\n    };\n    ChatMediator.prototype.addListen = function () {\n        this.chat.on(\"characterChat\", this.handleCharacterChat, this);\n        this.chat.on(\"QCLoundGME\", this.handleQCLoudGME, this);\n        this.mView.on(\"sendChat\", this.onSendChatHandler, this);\n        this.mView.on(\"selectedVoice\", this.onSelectedVoiceHandler, this);\n        this.mView.on(\"selectedMic\", this.onSelectedMicHandler, this);\n        this.chat.register();\n    };\n    ChatMediator.prototype.removeListen = function () {\n        this.chat.off(\"characterChat\", this.handleCharacterChat, this);\n        this.chat.off(\"QCLoundGME\", this.handleQCLoudGME, this);\n        this.mView.off(\"sendChat\", this.onSendChatHandler, this);\n        this.mView.off(\"selectedVoice\", this.onSelectedVoiceHandler, this);\n        this.mView.off(\"selectedMic\", this.onSelectedMicHandler, this);\n        this.chat.unregister();\n    };\n    ChatMediator.prototype.initGME = function () {\n        var _this = this;\n        // TODO just for test, need get sdkAppId from settings\n        var sdkAppId = \"1400209172\";\n        if (!this.room.playerManager.actor)\n            return;\n        var playerID = this.room.playerManager.actor.id;\n        this.mGMEApi = new WebGMEAPI();\n        this.mGMEApi.Init(document, sdkAppId, playerID.toString());\n        this.mGMEApi.SetTMGDelegate(function (event, result) {\n            switch (event) {\n                case _this.mGMEApi.event.ITMG_MAIN_EVENT_TYPE_ENTER_ROOM:\n                    _utils_log__WEBPACK_IMPORTED_MODULE_2__[\"Logger\"].getInstance().log(\"[GME]: EnterRoom: \" + result);\n                    break;\n                case _this.mGMEApi.event.ITMG_MAIN_EVNET_TYPE_USER_UPDATE:\n                    break;\n                case _this.mGMEApi.event.ITMG_MAIN_EVENT_TYPE_EXIT_ROOM:\n                    _utils_log__WEBPACK_IMPORTED_MODULE_2__[\"Logger\"].getInstance().log(\"[GME]: ExitRoom\");\n                    break;\n                case _this.mGMEApi.event.ITMG_MAIN_EVENT_TYPE_ROOM_DISCONNECT:\n                    _utils_log__WEBPACK_IMPORTED_MODULE_2__[\"Logger\"].getInstance().log(\"[GME]: Room Disconnect!!!\");\n                    break;\n                default:\n                    _utils_log__WEBPACK_IMPORTED_MODULE_2__[\"Logger\"].getInstance().log(\"[GME]: Sth wrong...\");\n                    break;\n            }\n        });\n    };\n    ChatMediator.prototype.appendMessage = function (messages, message) {\n        messages.push(message);\n        if (messages.length > this.mMaxMessageNum) {\n            messages.shift();\n        }\n    };\n    ChatMediator.prototype.changeMessageChannel = function () {\n        var _this = this;\n        if (!this.mView)\n            return;\n        var showMessages = this.mAllMessage.filter(function (msg) { return msg.channel === _this.mView.outChannel || msg.channel === pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].ChatChannel.System || _this.mView.outChannel === null; });\n        var len = showMessages.length;\n        var message = null;\n        var wrapStr = \"\\n\";\n        for (var i = 0; i < len; i++) {\n            message = showMessages[i];\n            if (i === len - 1)\n                wrapStr = \"\";\n            this.mView.appendChat(message.chat + wrapStr);\n        }\n    };\n    ChatMediator.prototype.handleCharacterChat = function (packet) {\n        var content = packet.content;\n        if (!this.world || !this.world.emitter || !this.room || !this.mView) {\n            return;\n        }\n        var playerManager = this.world.roomManager.currentRoom.playerManager;\n        if (!playerManager) {\n            return;\n        }\n        var player = playerManager.get(content.chatSenderid);\n        // const chatSendName = player ? player.name : \"\";\n        // this.mChatPanel.appendChat(content.chatContext);\n        var nickname = player ? player.model.nickname + \":\" : \"\";\n        var color = content.chatSetting && content.chatSetting.textColor ? content.chatSetting.textColor : \"#FFFFFF\";\n        this.appendMessage(this.mAllMessage, { chat: \"[color=\" + color + \"]\" + nickname + \":\" + content.chatContext + \"[/color]\", channel: content.chatChannel });\n        this.mView.appendChat(\"[b][color=\" + color + \"]\" + nickname + content.chatContext + \"[/color][/b]\\n\");\n    };\n    ChatMediator.prototype.onSendChatHandler = function (text) {\n        if (this.world.connection) {\n            var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_GATEWAY_REQ_VIRTUAL_WORLD_CHAT);\n            var content = pkt.content;\n            content.chatChannel = 0;\n            content.chatContext = text;\n            this.world.connection.send(pkt);\n        }\n    };\n    ChatMediator.prototype.sendVoiceRoomStatus = function (voiceChannel, voiceRoomId, voiceRoomStatus) {\n        if (!this.room.connection) {\n            return;\n        }\n        var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_VOICE_ROOM_STATUS);\n        var context = pkt.content;\n        context.voiceChannel = voiceChannel;\n        context.voiceRoomId = voiceRoomId;\n        context.voiceRoomStatus = voiceRoomStatus;\n        this.room.connection.send(pkt);\n    };\n    ChatMediator.prototype.handleQCLoudGME = function (packet) {\n        var authBuffer = packet.content;\n        this.mQCLoudAuth = authBuffer.signature;\n        this.initGME();\n    };\n    ChatMediator.prototype.onSelectedVoiceHandler = function (val) {\n        if (val) {\n            this.enterRoom();\n        }\n        else {\n            this.exitRoom();\n        }\n    };\n    ChatMediator.prototype.onSelectedMicHandler = function (val) {\n        if (!this.mGMEApi) {\n            return;\n        }\n        if (this.mInRoom) {\n            this.mGMEApi.EnableMic(val);\n        }\n        if (this.world.connection) {\n            var pkt = new net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PBpacket\"]((pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_VOICE_ROOM_STATUS));\n            this.world.connection.send(pkt);\n        }\n    };\n    Object.defineProperty(ChatMediator.prototype, \"room\", {\n        get: function () {\n            if (!this.world) {\n                return;\n            }\n            if (!this.world.roomManager) {\n                return;\n            }\n            return this.world.roomManager.currentRoom;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ChatMediator.NAME = \"ChatMediator\";\n    return ChatMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_5__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/chat/chat.mediator.ts?");

/***/ }),

/***/ "./src/ui/chat/chatPanel.pc.ts":
/*!*************************************!*\
  !*** ./src/ui/chat/chatPanel.pc.ts ***!
  \*************************************/
/*! exports provided: ChatPanelPC */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ChatPanelPC\", function() { return ChatPanelPC; });\n/* harmony import */ var _lib_rexui_lib_plugins_gameobjects_shape_roundrectangle_RoundRectangle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/rexui/lib/plugins/gameobjects/shape/roundrectangle/RoundRectangle */ \"./lib/rexui/lib/plugins/gameobjects/shape/roundrectangle/RoundRectangle.js\");\n/* harmony import */ var _lib_rexui_lib_ui_textarea_TextArea__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/textarea/TextArea */ \"./lib/rexui/lib/ui/textarea/TextArea.js\");\n/* harmony import */ var _lib_rexui_lib_plugins_gameobjects_inputtext_InputText__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/rexui/lib/plugins/gameobjects/inputtext/InputText */ \"./lib/rexui/lib/plugins/gameobjects/inputtext/InputText.js\");\n/* harmony import */ var _components_ninepatch_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/ninepatch.button */ \"./src/ui/components/ninepatch.button.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _components_check_button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/check.button */ \"./src/ui/components/check.button.ts\");\n/* harmony import */ var _lib_rexui_lib_plugins_gameobjects_text_bbcodetext_BBCodeText_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../lib/rexui/lib/plugins/gameobjects/text/bbcodetext/BBCodeText.js */ \"./lib/rexui/lib/plugins/gameobjects/text/bbcodetext/BBCodeText.js\");\n/* harmony import */ var _components_nine_patch__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/nine.patch */ \"./src/ui/components/nine.patch.ts\");\n/* harmony import */ var _base_chat_panel__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./base.chat.panel */ \"./src/ui/chat/base.chat.panel.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\n\nvar ChatPanelPC = /** @class */ (function (_super) {\n    __extends(ChatPanelPC, _super);\n    function ChatPanelPC(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.mPreHei = 0;\n        _this.mPreWid = 0;\n        return _this;\n    }\n    ChatPanelPC.prototype.appendChat = function (val) {\n        if (this.mTextArea) {\n            this.mTextArea.appendText(val);\n            this.mTextArea.scrollToBottom();\n        }\n    };\n    ChatPanelPC.prototype.tweenExpand = function (show) {\n        if (!this.scene)\n            return;\n        var baseX = 0;\n        var toX = show === true ? baseX : baseX - 200;\n        var toAlpha = show === true ? 1 : 0;\n        this.scene.tweens.add({\n            targets: this,\n            duration: 200,\n            ease: \"Cubic.Out\",\n            props: {\n                x: { value: toX },\n                alpha: { value: toAlpha },\n            },\n        });\n    };\n    ChatPanelPC.prototype.setPosition = function (x, y) {\n        if (!this.mInitialized)\n            return;\n        // DefaultMaskTextBlockTextBlock\n        var size = this.mWorld.getSize();\n        _super.prototype.setPosition.call(this, 0, size.height - this.mPreHei);\n        if (this.mTextArea) {\n            // this.mTextArea.childrenMap.child.setMinSize(width, (h - 16 * this.dpr) * zoom);\n            // this.mTextArea.layout();\n            // this.mTextArea.setPosition(this.width / 2 + 4 * this.dpr, this.y + this.mTextArea.height / 2 + 10 * this.dpr * zoom);\n            var textMask = this.mTextArea.childrenMap.text;\n            textMask.y = size.height - this.height + 25 * this.dpr;\n            this.mTextArea.scrollToBottom();\n            // resizetextBlocktextMask\n            // this.mTextArea.childrenMap.child.textMask.setPosition(undefined, size.height - this.height + 30).resize();\n        }\n        return this;\n    };\n    ChatPanelPC.prototype.addListen = function () {\n        if (!this.mInitialized)\n            return;\n        if (this.sendMsgBtn)\n            this.sendMsgBtn.on(\"pointerdown\", this.onSendMsgHandler, this);\n        if (this.mVoiceBtn)\n            this.mVoiceBtn.on(\"selected\", this.onSelectedVoiceHandler, this);\n        if (this.mMicBtn)\n            this.mMicBtn.on(\"selected\", this.onSelectedMicHandler, this);\n        if (this.mInputText) {\n            this.mInputText.on(\"focus\", this.onFocusHandler, this);\n            this.mInputText.on(\"blur\", this.onBlurHandler, this);\n        }\n    };\n    ChatPanelPC.prototype.removeListen = function () {\n        _super.prototype.removeListen.call(this);\n        if (!this.mInitialized)\n            return;\n        if (this.sendMsgBtn)\n            this.sendMsgBtn.off(\"pointerdown\", this.onSendMsgHandler, this);\n        if (this.mVoiceBtn)\n            this.mVoiceBtn.off(\"selected\", this.onSelectedVoiceHandler, this);\n        if (this.mMicBtn)\n            this.mMicBtn.off(\"selected\", this.onSelectedMicHandler, this);\n        if (this.mInputText) {\n            this.mInputText.off(\"focus\", this.onFocusHandler, this);\n            this.mInputText.off(\"blur\", this.onBlurHandler, this);\n        }\n    };\n    ChatPanelPC.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n    };\n    ChatPanelPC.prototype.preload = function () {\n        if (!this.scene) {\n            return;\n        }\n        this.scene.load.image(\"button\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_4__[\"Url\"].getRes(\"ui/common/button.png\"));\n        this.scene.load.image(\"thumbTexture\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_4__[\"Url\"].getRes(\"ui/common/common_thumb_texture.png\"));\n        this.scene.load.image(\"track\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_4__[\"Url\"].getRes(\"ui/common/common_track.png\"));\n        this.scene.load.image(\"chat_input_bg\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_4__[\"Url\"].getRes(\"ui/chat/input_bg.png\"));\n        // this.scene.load.image(\"chat_border_bg\", Url.getRes(\"ui/chat/bg.png\"));\n        this.scene.load.image(_utils_resUtil__WEBPACK_IMPORTED_MODULE_4__[\"Border\"].getName(), _utils_resUtil__WEBPACK_IMPORTED_MODULE_4__[\"Border\"].getPNG());\n        this.scene.load.atlas(\"chat_atlas\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_4__[\"Url\"].getRes(\"ui/chat/chat_atlas.png\"), _utils_resUtil__WEBPACK_IMPORTED_MODULE_4__[\"Url\"].getRes(\"ui/chat/chat_atlas.json\"));\n        _super.prototype.preload.call(this);\n    };\n    ChatPanelPC.prototype.init = function () {\n        if (this.mInitialized)\n            return;\n        var size = this.mWorld.getSize();\n        this.mPreHei = size.height;\n        this.mPreWid = size.width;\n        this.setSize(464, 281);\n        var border = new _components_nine_patch__WEBPACK_IMPORTED_MODULE_7__[\"NinePatch\"](this.scene, 0, 0, this.width, this.height, _utils_resUtil__WEBPACK_IMPORTED_MODULE_4__[\"Border\"].getName(), null, _utils_resUtil__WEBPACK_IMPORTED_MODULE_4__[\"Border\"].getConfig());\n        border.x = 4 * this.mWorld.uiScale + border.width * border.originX;\n        border.y = size.height - 260 * this.mWorld.uiScale + border.height * border.originY;\n        this.add(border);\n        this.outPut = this.scene.make.container(undefined, false);\n        this.add(this.outPut);\n        var background = new _lib_rexui_lib_plugins_gameobjects_shape_roundrectangle_RoundRectangle__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.scene, 0, 0, 2, 2, 3, 0x808080, 0.5);\n        this.outPut.add(background);\n        var track = new _components_ninepatch_button__WEBPACK_IMPORTED_MODULE_3__[\"NinePatchButton\"](this.scene, 0, 0, 4, 7, \"track\", \"\", \"\", {\n            left: 0,\n            top: 2,\n            right: 0,\n            bottom: 2\n        });\n        track.x = 100 * this.mWorld.uiScale;\n        track.y = 10 * this.mWorld.uiScale;\n        this.outPut.add(track);\n        var text = new _lib_rexui_lib_plugins_gameobjects_text_bbcodetext_BBCodeText_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"](this.scene, 0, 0, \"\", {\n            fontSize: \"14px\",\n            wrap: {\n                mode: \"char\",\n                width: 400 * this.mWorld.uiScale\n            },\n        });\n        this.outPut.add(text);\n        var thumb = new _components_ninepatch_button__WEBPACK_IMPORTED_MODULE_3__[\"NinePatchButton\"](this.scene, 0, 0, 20, 35, \"button\", \"\", \"\", {\n            left: 4,\n            top: 4,\n            right: 4,\n            bottom: 4\n        });\n        // const indicator = new NinePatchButton(this.scene, 0, 0, 8, 10, \"thumbTexture\", \"\", {\n        //     left: 0,\n        //     top: 0,\n        //     right: 0,\n        //     bottom: 0\n        // });\n        this.outPut.add(thumb);\n        // this.outPut.add(indicator);\n        this.mTextArea = new _lib_rexui_lib_ui_textarea_TextArea__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.scene, {\n            x: 230 * this.mWorld.uiScale,\n            y: size.height - 155 * this.mWorld.uiScale,\n            textWidth: 430,\n            textHeight: 200,\n            text: text,\n            slider: {\n                track: track,\n                // indicator,\n                thumb: thumb,\n            },\n        })\n            .layout();\n        this.outPut.add(this.mTextArea);\n        var tracks = this.mTextArea.getElement(\"child\");\n        if (tracks) {\n            // tracks.x += 150;\n        }\n        var inputContainer = this.scene.make.container(undefined, false);\n        this.add(inputContainer);\n        var inputBg = new _components_nine_patch__WEBPACK_IMPORTED_MODULE_7__[\"NinePatch\"](this.scene, 0, 0, 370, 32, \"chat_input_bg\", null, { left: 4, top: 4, right: 4, bottom: 4 });\n        inputBg.x = 8 * this.mWorld.uiScale + inputBg.width * inputBg.originX;\n        inputBg.y = size.height - 46 * this.mWorld.uiScale + inputBg.height * inputBg.originY;\n        inputContainer.add(inputBg);\n        this.mInputText = new _lib_rexui_lib_plugins_gameobjects_inputtext_InputText__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this.scene, 0, 0, 10, 10, {\n            type: \"input\",\n            fontSize: \"14px\",\n            color: \"#808080\"\n        })\n            .resize(360, 20)\n            .setOrigin(0, 0)\n            .setStyle({ font: \"bold 16px YaHei\" });\n        this.mInputText.x = 12 * this.mWorld.uiScale;\n        this.mInputText.y = size.height - 40 * this.mWorld.uiScale;\n        inputContainer.add(this.mInputText);\n        this.sendMsgBtn = new _components_ninepatch_button__WEBPACK_IMPORTED_MODULE_3__[\"NinePatchButton\"](this.scene, 0, 0, 60, 30, \"button\", \"\", \"\", {\n            left: 4,\n            top: 4,\n            right: 4,\n            bottom: 4\n        });\n        this.sendMsgBtn.x = this.width - this.sendMsgBtn.width + 10 * this.mWorld.uiScale;\n        this.sendMsgBtn.y = size.height - this.sendMsgBtn.height;\n        this.add(this.sendMsgBtn);\n        this.mSendKey = this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.ENTER);\n        this.mVoiceBtn = new _components_check_button__WEBPACK_IMPORTED_MODULE_5__[\"CheckButton\"](this.scene, 0, 0, \"chat_atlas\", \"voice_normal.png\", \"voice_selected.png\");\n        this.mVoiceBtn.x = this.width - 60 * this.mWorld.uiScale;\n        this.mVoiceBtn.y = size.height - this.height;\n        this.add(this.mVoiceBtn);\n        this.mMicBtn = new _components_check_button__WEBPACK_IMPORTED_MODULE_5__[\"CheckButton\"](this.scene, 0, 0, \"chat_atlas\", \"mic_normal.png\", \"mic_selected.png\");\n        this.mMicBtn.x = this.width - 20 * this.mWorld.uiScale;\n        this.mMicBtn.y = size.height - this.height;\n        this.add(this.mMicBtn);\n        this.setPosition();\n        _super.prototype.init.call(this);\n    };\n    ChatPanelPC.prototype.onSelectedVoiceHandler = function (val) {\n        if (val === false) {\n            this.mMicBtn.selected = false;\n        }\n        this.emit(\"selectedVoice\", val);\n    };\n    ChatPanelPC.prototype.onSelectedMicHandler = function (val) {\n        if (this.mVoiceBtn.selected === false) {\n            this.mMicBtn.selected = false;\n            return;\n        }\n        this.mMicBtn.selected = val;\n        this.emit(\"selectedMic\", val);\n    };\n    ChatPanelPC.prototype.onSendMsgHandler = function () {\n        var text = this.mInputText.text;\n        if (text.length > 0) {\n            this.emit(\"sendChat\", text);\n            this.mInputText.setText(\"\");\n            this.mInputText.setBlur();\n        }\n    };\n    ChatPanelPC.prototype.onFocusHandler = function () {\n        if (!this.mWorld || !this.mWorld.inputManager) {\n            return;\n        }\n        if (this.mSendKey) {\n            this.mSendKey.on(\"down\", this.onDownEnter, this);\n        }\n    };\n    ChatPanelPC.prototype.onBlurHandler = function () {\n        if (!this.mWorld || !this.mWorld.inputManager) {\n            return;\n        }\n        if (this.mSendKey) {\n            this.mSendKey.off(\"down\", this.onDownEnter, this);\n        }\n    };\n    ChatPanelPC.prototype.onDownEnter = function () {\n        this.onSendMsgHandler();\n    };\n    Object.defineProperty(ChatPanelPC.prototype, \"outChannel\", {\n        get: function () {\n            return 0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return ChatPanelPC;\n}(_base_chat_panel__WEBPACK_IMPORTED_MODULE_8__[\"BaseChatPanel\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/chat/chatPanel.pc.ts?");

/***/ }),

/***/ "./src/ui/chat/message.ts":
/*!********************************!*\
  !*** ./src/ui/chat/message.ts ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("\n\n//# sourceURL=webpack://TooqingCore/./src/ui/chat/message.ts?");

/***/ }),

/***/ "./src/ui/chat/mobile/chatPanel.mobile.ts":
/*!************************************************!*\
  !*** ./src/ui/chat/mobile/chatPanel.mobile.ts ***!
  \************************************************/
/*! exports provided: ChatPanelMobile */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ChatPanelMobile\", function() { return ChatPanelMobile; });\n/* harmony import */ var _base_chat_panel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../base.chat.panel */ \"./src/ui/chat/base.chat.panel.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_textarea_TextArea_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../lib/rexui/lib/ui/textarea/TextArea.js */ \"./lib/rexui/lib/ui/textarea/TextArea.js\");\n/* harmony import */ var _lib_rexui_lib_plugins_gameobjects_inputtext_InputText_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../lib/rexui/lib/plugins/gameobjects/inputtext/InputText.js */ \"./lib/rexui/lib/plugins/gameobjects/inputtext/InputText.js\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _components_nine_patch__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../components/nine.patch */ \"./src/ui/components/nine.patch.ts\");\n/* harmony import */ var _lib_rexui_lib_plugins_gameobjects_text_bbcodetext_BBCodeText_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../lib/rexui/lib/plugins/gameobjects/text/bbcodetext/BBCodeText.js */ \"./lib/rexui/lib/plugins/gameobjects/text/bbcodetext/BBCodeText.js\");\n/* harmony import */ var _components_ninepatch_button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../components/ninepatch.button */ \"./src/ui/components/ninepatch.button.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\nvar ChatPanelMobile = /** @class */ (function (_super) {\n    __extends(ChatPanelMobile, _super);\n    function ChatPanelMobile(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.setTween(false);\n        return _this;\n    }\n    ChatPanelMobile.prototype.addListen = function () {\n        this.mSendBtn.on(\"pointerdown\", this.onSendMsgHandler, this);\n        this.clickContainer.on(\"pointerdown\", this.clickHandler, this);\n        this.mInputText.on(\"focus\", this.onFocusHandler, this);\n        this.mInputText.on(\"blur\", this.onBlurHandler, this);\n    };\n    ChatPanelMobile.prototype.removeListen = function () {\n        this.mSendBtn.off(\"pointerdown\", this.onSendMsgHandler, this);\n        this.clickContainer.off(\"pointerdown\", this.clickHandler, this);\n        this.mInputText.off(\"focus\", this.onFocusHandler, this);\n        this.mInputText.off(\"blur\", this.onBlurHandler, this);\n    };\n    ChatPanelMobile.prototype.appendChat = function (val) {\n        if (this.mTextArea) {\n            this.mTextArea.appendText(val);\n            this.mTextArea.scrollToBottom();\n        }\n    };\n    ChatPanelMobile.prototype.show = function (param) {\n        _super.prototype.show.call(this, param);\n        this.tweenExpand(true);\n    };\n    ChatPanelMobile.prototype.setPosition = function (x, y) {\n        if (!this.mShow)\n            return;\n        // DefaultMaskTextBlockTextBlock\n        var size = this.mWorld.getSize();\n        var track;\n        var thumb;\n        var text;\n        if (this.mTextArea) {\n            this.mTextArea.destroy();\n            this.mTextArea = null;\n            text = new _lib_rexui_lib_plugins_gameobjects_text_bbcodetext_BBCodeText_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"](this.scene, 0, 0, \"\", {\n                fontSize: \"20px\",\n                wrap: {\n                    mode: \"char\",\n                    width: this.width >> 1\n                },\n            });\n            track = new _components_ninepatch_button__WEBPACK_IMPORTED_MODULE_6__[\"NinePatchButton\"](this.scene, 0, 0, 4, 7, \"track\", \"\", \"\", {\n                left: 0,\n                top: 2,\n                right: 0,\n                bottom: 2\n            });\n            // track.x = this.width / 2;\n            // track.y = 8 * this.mWorld.uiScale;\n            thumb = new _components_ninepatch_button__WEBPACK_IMPORTED_MODULE_6__[\"NinePatchButton\"](this.scene, 0, 0, 20, 35, \"button\", \"\", \"\", {\n                left: 4,\n                top: 4,\n                right: 4,\n                bottom: 4\n            });\n            this.add(text);\n            this.add(track);\n            this.add(thumb);\n        }\n        if (this.mInputText) {\n            this.mInputText.destroy();\n            this.mInputText = null;\n            this.mInputText = new _lib_rexui_lib_plugins_gameobjects_inputtext_InputText_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this.scene, 0, 0, 10, 10, {\n                type: \"input\",\n                fontSize: \"20px\",\n                color: \"#808080\"\n            })\n                .resize(328, 26)\n                .setOrigin(0, 0)\n                .setStyle({ font: \"bold 20px YaHei\" });\n            // .on(\"focus\", this.onFocusHandler, this)\n            // .on(\"blur\", this.onBlurHandler, this);\n        }\n        if (this.mWorld.game.scale.orientation === Phaser.Scale.Orientation.LANDSCAPE) {\n            this.width = size.width >> 1;\n            this.height = size.height;\n            this.mBorder.resize(this.width / this.mWorld.uiScale, this.height / this.mWorld.uiScale);\n            this.x = 0;\n            this.y = 0;\n            this.clickContainer.x = this.width / this.mWorld.uiScale + this.clickContainer.width / 2;\n            this.clickContainer.y = this.height / (this.mWorld.uiScale * 2);\n            this.clickContainer.rotation = Math.PI * .5;\n            this.arrow.rotation = Math.PI * .5;\n            this.mInputBg.y = this.mBorder.height - this.mInputBg.height / 2;\n            this.mTextArea = new _lib_rexui_lib_ui_textarea_TextArea_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.scene, {\n                x: this.width * .5 / this.mWorld.uiScale,\n                y: this.height / 2,\n                textWidth: this.mBorder.width - 20 * this.mWorld.uiScale,\n                textHeight: this.height,\n                text: text,\n                slider: {\n                    track: track,\n                    thumb: thumb,\n                },\n                clamplChildOY: true,\n            });\n            this.mInputText.setPosition(2, this.mInputBg.y - 12 * this.mWorld.uiScale);\n        }\n        else {\n            this.width = size.width;\n            this.height = size.height / 2;\n            this.mBorder.resize(this.width / this.mWorld.uiScale, this.height / this.mWorld.uiScale);\n            this.x = 0;\n            this.y = this.height + 20 * this.mWorld.uiScale;\n            this.mInputBg.y = this.mBorder.height - this.mInputBg.height;\n            this.mTextArea = new _lib_rexui_lib_ui_textarea_TextArea_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.scene, {\n                x: (this.width - 15) / this.mWorld.uiScale >> 1,\n                y: (size.height / 2 - this.mSendBtn.height - 20) / this.mWorld.uiScale >> 1,\n                textWidth: this.mBorder.width - 20 * this.mWorld.uiScale,\n                textHeight: (size.height / 2 - this.mSendBtn.height - 20) / this.mWorld.uiScale,\n                text: text,\n                slider: {\n                    track: track,\n                    thumb: thumb,\n                },\n                scroller: {\n                    bounds: [0, this.height >> 1],\n                },\n                clamplChildOY: true,\n                backDeceleration: true,\n            });\n            // this.mTextArea.x = this.mTextArea.childrenMap.child.minWidth >> 1;\n            // this.mTextArea.y = this.mTextArea.childrenMap.child.minHeight >> 1;\n            this.clickContainer.x = size.width / (this.mWorld.uiScale * 2);\n            this.clickContainer.y = -this.clickContainer.height >> 1;\n            var silder = this.mTextArea.getElement(\"slider\");\n            silder.y = this.height >> 1;\n            this.clickContainer.rotation = Math.PI;\n            this.arrow.rotation = Math.PI * 1.5;\n            this.mInputText.setPosition(2, this.mInputBg.y - 6 * this.mWorld.uiScale);\n        }\n        this.mTextArea.layout();\n        this.add(this.mTextArea);\n        this.mTextArea.childrenMap.child.textMask.setPosition(-5, size.height - this.height).resize(this.width + 18, this.height - this.mSendBtn.height);\n        // this.mBorder = new NinePatch(this.scene, 0, 0, this.width / this.mWorld.uiScale, this.height / this.mWorld.uiScale, Border.getName(), null, Border.getConfig());\n        this.mBorder.x = this.mBorder.width / 2;\n        this.mBorder.y = this.mBorder.height / 2;\n        this.setSize(this.width, this.height);\n        // this.mTextArea.x = this.mBorder.width + 100 * this.mWorld.uiScale >> 1;\n        this.mInputBg.x = this.mInputBg.width >> 1;\n        this.mSendBtn.x = this.mBorder.width - this.mSendBtn.width;\n        this.mSendBtn.y = this.mInputBg.y;\n        this.scale = this.mWorld.uiScale;\n        this.add(this.mInputText);\n        return this;\n    };\n    ChatPanelMobile.prototype.destroy = function () {\n        // if (this.mSendBtn) this.mSendBtn.destroy(true);\n        // if (this.mInputBg) this.mInputBg.destroy(true);\n        // if (this.clickContainer) this.clickContainer.destroy(true);\n        // if (this.arrow) this.arrow.destroy(true);\n        // if (this.mBorder) this.mBorder.destroy(true);\n        // if (this.mTextArea) this.mTextArea.destroy();\n        // if (this.mInputText) this.mInputText.destroy();\n        // this.mTextArea = null;\n        // this.mInputText = null;\n        // this.mSendBtn = null;\n        // this.clickContainer = null;\n        // this.arrow = null;\n        // this.mBorder = null;\n        // this.mInputBg = null;\n        _super.prototype.destroy.call(this);\n    };\n    ChatPanelMobile.prototype.tweenExpand = function (show) {\n        var _this = this;\n        var toAlpha = show === true ? 1 : 0;\n        this.scene.tweens.add({\n            targets: this,\n            duration: 200,\n            ease: \"Linear\",\n            props: {\n                alpha: { value: toAlpha },\n            },\n            onComplete: function (tween, targets, ship) {\n                if (!show)\n                    _this.hide();\n                _this.addListen();\n            },\n        });\n        if (show)\n            this.setPosition();\n    };\n    ChatPanelMobile.prototype.hide = function () {\n        this.removeListen();\n        _super.prototype.hide.call(this);\n    };\n    ChatPanelMobile.prototype.preload = function () {\n        if (!this.scene) {\n            return;\n        }\n        this.scene.load.image(\"button\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_3__[\"Url\"].getRes(\"ui/common/button.png\"));\n        this.scene.load.image(\"thumbTexture\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_3__[\"Url\"].getRes(\"ui/common/common_thumb_texture.png\"));\n        this.scene.load.image(\"track\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_3__[\"Url\"].getRes(\"ui/common/common_track.png\"));\n        this.scene.load.image(\"channelSelect\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_3__[\"Url\"].getRes(\"ui/common/common_channelSelect.png\"));\n        this.scene.load.image(\"channelUnSelect\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_3__[\"Url\"].getRes(\"ui/common/common_channelUnSelect.png\"));\n        this.scene.load.image(\"arrow\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_3__[\"Url\"].getRes(\"ui/common/common_arrow.png\"));\n        this.scene.load.image(\"chat_input_bg\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_3__[\"Url\"].getRes(\"ui/chat/input_bg.png\"));\n        this.scene.load.image(_utils_resUtil__WEBPACK_IMPORTED_MODULE_3__[\"Border\"].getName(), _utils_resUtil__WEBPACK_IMPORTED_MODULE_3__[\"Border\"].getPNG());\n        this.scene.load.atlas(_utils_resUtil__WEBPACK_IMPORTED_MODULE_3__[\"WhiteButton\"].getName(), _utils_resUtil__WEBPACK_IMPORTED_MODULE_3__[\"WhiteButton\"].getPNG(), _utils_resUtil__WEBPACK_IMPORTED_MODULE_3__[\"WhiteButton\"].getJSON());\n        this.scene.load.atlas(\"chat_atlas\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_3__[\"Url\"].getRes(\"ui/chat/chat_atlas.png\"), _utils_resUtil__WEBPACK_IMPORTED_MODULE_3__[\"Url\"].getRes(\"ui/chat/chat_atlas.json\"));\n        _super.prototype.preload.call(this);\n    };\n    ChatPanelMobile.prototype.init = function () {\n        if (this.mInitialized)\n            return;\n        var size = this.mWorld.getSize();\n        if (this.mWorld.game.scale.orientation === Phaser.Scale.Orientation.LANDSCAPE) {\n            this.width = size.width >> 1;\n            this.height = size.height;\n        }\n        else {\n            this.width = size.width;\n            this.height = size.height >> 1;\n        }\n        this.setSize(this.width, this.height);\n        this.mBorder = new _components_nine_patch__WEBPACK_IMPORTED_MODULE_4__[\"NinePatch\"](this.scene, 0, 0, this.width / this.mWorld.uiScale, this.height / this.mWorld.uiScale, _utils_resUtil__WEBPACK_IMPORTED_MODULE_3__[\"Border\"].getName(), null, _utils_resUtil__WEBPACK_IMPORTED_MODULE_3__[\"Border\"].getConfig());\n        this.mBorder.x = this.mBorder.width / 2;\n        this.mBorder.y = this.mBorder.height / 2;\n        this.addAt(this.mBorder, 0);\n        var text = new _lib_rexui_lib_plugins_gameobjects_text_bbcodetext_BBCodeText_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"](this.scene, 0, 0, \"\", {\n            fontSize: \"20px\",\n            wrap: {\n                mode: \"char\",\n                width: this.width >> 1\n            },\n        });\n        var track = new _components_ninepatch_button__WEBPACK_IMPORTED_MODULE_6__[\"NinePatchButton\"](this.scene, 0, 0, 4, 7, \"track\", \"\", \"\", {\n            left: 0,\n            top: 2,\n            right: 0,\n            bottom: 2\n        });\n        track.x = this.width / 2;\n        track.y = 8 * this.mWorld.uiScale;\n        var thumb = new _components_ninepatch_button__WEBPACK_IMPORTED_MODULE_6__[\"NinePatchButton\"](this.scene, 0, 0, 20, 35, \"button\", \"\", \"\", {\n            left: 4,\n            top: 4,\n            right: 4,\n            bottom: 4\n        });\n        this.add(text);\n        this.add(track);\n        this.add(thumb);\n        this.mTextArea = new _lib_rexui_lib_ui_textarea_TextArea_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.scene, {\n            x: this.width >> 1,\n            y: this.height + 178 * this.mWorld.uiScale >> 1,\n            textWidth: this.width,\n            textHeight: this.height + 150 * this.mWorld.uiScale,\n            text: text,\n            slider: {\n                track: track,\n                thumb: thumb,\n            },\n        })\n            .layout();\n        this.add(this.mTextArea);\n        this.mInputBg = new _components_nine_patch__WEBPACK_IMPORTED_MODULE_4__[\"NinePatch\"](this.scene, 0, 0, 340, 30, \"chat_input_bg\", null, { left: 4, top: 4, right: 4, bottom: 4 });\n        this.add(this.mInputBg);\n        this.mInputText = new _lib_rexui_lib_plugins_gameobjects_inputtext_InputText_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this.scene, 0, 0, 10, 10, {\n            type: \"input\",\n            fontSize: \"20px\",\n            color: \"#808080\"\n        })\n            .resize(328, 26)\n            .setOrigin(0, 0)\n            .setStyle({ font: \"bold 20px YaHei\" })\n            .on(\"focus\", this.onFocusHandler, this)\n            .on(\"blur\", this.onBlurHandler, this);\n        this.mSendBtn = new _components_ninepatch_button__WEBPACK_IMPORTED_MODULE_6__[\"NinePatchButton\"](this.scene, 0, 0, 60, 30, _utils_resUtil__WEBPACK_IMPORTED_MODULE_3__[\"WhiteButton\"].getName(), \"\", \"\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_3__[\"WhiteButton\"].getConfig());\n        this.add(this.mSendBtn);\n        this.clickContainer = this.scene.make.container(undefined, false);\n        var btnBg = new _components_nine_patch__WEBPACK_IMPORTED_MODULE_4__[\"NinePatch\"](this.scene, 0, 0, 53 / this.mWorld.uiScale, 30 / this.mWorld.uiScale, _utils_resUtil__WEBPACK_IMPORTED_MODULE_3__[\"Border\"].getName(), null, _utils_resUtil__WEBPACK_IMPORTED_MODULE_3__[\"Border\"].getConfig());\n        this.arrow = this.scene.make.image(undefined, false);\n        this.arrow.setTexture(\"arrow\");\n        this.clickContainer.setSize(btnBg.width + 4, btnBg.height + 10);\n        this.clickContainer.add(btnBg);\n        this.clickContainer.add(this.arrow);\n        this.clickContainer.setInteractive();\n        this.add(this.clickContainer);\n        this.add(this.mInputText);\n        this.setPosition();\n        _super.prototype.init.call(this);\n    };\n    ChatPanelMobile.prototype.clickHandler = function () {\n        this.scene.tweens.add({\n            targets: this.clickContainer,\n            duration: 50,\n            ease: \"Linear\",\n            props: {\n                scaleX: { value: .5 },\n                scaleY: { value: .5 },\n            },\n            yoyo: true,\n            repeat: 0,\n        });\n        this.clickContainer.scaleX = this.clickContainer.scaleY = 1;\n        this.tweenExpand(false);\n        this.mWorld.uiManager.baseFaceTween(true);\n    };\n    ChatPanelMobile.prototype.onSendMsgHandler = function () {\n        var text = this.mInputText.text;\n        if (text.length > 0) {\n            this.emit(\"sendChat\", text);\n            this.mInputText.setText(\"\");\n            this.mInputText.setBlur();\n        }\n        // // =====================tween out/in baseView\n        // const baseViewMed: MainUIMediator = this.mWorld.uiManager.getMediator(MainUIMediator.NAME) as MainUIMediator;\n        // if (baseViewMed) {\n        //     baseViewMed.tweenView(true);\n        // }\n    };\n    ChatPanelMobile.prototype.onFocusHandler = function () {\n        if (!this.mWorld || !this.mWorld.inputManager) {\n            return;\n        }\n        // this.mWorld.inputManager.enable = false;\n    };\n    ChatPanelMobile.prototype.onBlurHandler = function () {\n        if (!this.mWorld || !this.mWorld.inputManager) {\n            return;\n        }\n        // this.mWorld.inputManager.enable = true;\n    };\n    return ChatPanelMobile;\n}(_base_chat_panel__WEBPACK_IMPORTED_MODULE_0__[\"BaseChatPanel\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/chat/mobile/chatPanel.mobile.ts?");

/***/ }),

/***/ "./src/ui/components/BasePanel.ts":
/*!****************************************!*\
  !*** ./src/ui/components/BasePanel.ts ***!
  \****************************************/
/*! exports provided: BasePanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BasePanel\", function() { return BasePanel; });\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_panel_Panel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/panel/Panel */ \"./lib/rexui/lib/ui/panel/Panel.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar BasePanel = /** @class */ (function (_super) {\n    __extends(BasePanel, _super);\n    function BasePanel(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.mTweening = false;\n        _this.mWidth = 0;\n        _this.mHeight = 0;\n        _this.mReloadTimes = 0;\n        _this.mScene = scene;\n        _this.mWorld = world;\n        _this.mInitialized = false;\n        if (world) {\n            _this.dpr = Math.round(world.uiRatio || 1);\n            _this.scale = _this.mWorld.uiScale;\n        }\n        return _this;\n    }\n    BasePanel.prototype.addResources = function (key, resource) {\n        _super.prototype.addResources.call(this, key, resource);\n        if (resource.type) {\n            if (this.scene.load[resource.type]) {\n                this.scene.load[resource.type](key, _utils_resUtil__WEBPACK_IMPORTED_MODULE_0__[\"Url\"].getUIRes(resource.dpr, resource.texture), _utils_resUtil__WEBPACK_IMPORTED_MODULE_0__[\"Url\"].getUIRes(resource.dpr, resource.data));\n            }\n        }\n    };\n    Object.defineProperty(BasePanel.prototype, \"scaleWidth\", {\n        get: function () {\n            var width = this.scene.cameras.main.width / this.scale;\n            return width;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BasePanel.prototype, \"scaleHeight\", {\n        get: function () {\n            var height = this.scene.cameras.main.height / this.scale;\n            return height;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BasePanel.prototype, \"cameraWidth\", {\n        get: function () {\n            var width = this.scene.cameras.main.width;\n            return width;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BasePanel.prototype, \"cameraHeight\", {\n        get: function () {\n            var height = this.scene.cameras.main.height;\n            return height;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return BasePanel;\n}(_lib_rexui_lib_ui_panel_Panel__WEBPACK_IMPORTED_MODULE_1__[\"Panel\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/components/BasePanel.ts?");

/***/ }),

/***/ "./src/ui/components/alert.view.ts":
/*!*****************************************!*\
  !*** ./src/ui/components/alert.view.ts ***!
  \*****************************************/
/*! exports provided: AlertView, Buttons */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AlertView\", function() { return AlertView; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Buttons\", function() { return Buttons; });\n/* harmony import */ var _BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\n/* harmony import */ var _lib_rexui_lib_plugins_gameobjects_text_bbcodetext_BBCodeText_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/rexui/lib/plugins/gameobjects/text/bbcodetext/BBCodeText.js */ \"./lib/rexui/lib/plugins/gameobjects/text/bbcodetext/BBCodeText.js\");\n/* harmony import */ var _lib_rexui_lib_ui_button_Button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/button/Button */ \"./lib/rexui/lib/ui/button/Button.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar AlertView = /** @class */ (function (_super) {\n    __extends(AlertView, _super);\n    function AlertView(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.key = \"pica_alert\";\n        _this.disInteractive();\n        return _this;\n    }\n    AlertView.prototype.show = function (config) {\n        this.mShowData = config;\n        _super.prototype.show.call(this, config);\n        if (this.mInitialized) {\n            this.mWorld.uiManager.getUILayerManager().addToDialogLayer(this);\n            var ox = config.ox, oy = config.oy;\n            this.x = (ox || this.scene.cameras.main.width / 2);\n            this.y = (oy || this.scene.cameras.main.height / 2);\n            this.mContent.setText(config.text);\n            if (config.title) {\n                this.mTitleLabel.setText(config.title);\n            }\n            // if (config.btns === Buttons.Ok) {\n            // }\n            var btns = config.btns;\n            if (btns === Buttons.Cancel) {\n                this.remove(this.mOkBtn);\n                this.mCancelBtn.x = 0;\n            }\n            else if (btns === Buttons.Ok) {\n                this.remove(this.mCancelBtn);\n                this.mOkBtn.x = 0;\n            }\n        }\n    };\n    AlertView.prototype.preload = function () {\n        this.addAtlas(this.key, \"pica_alert/pica_alert.png\", \"pica_alert/pica_alert.json\");\n        _super.prototype.preload.call(this);\n    };\n    AlertView.prototype.setOKText = function (val) {\n        this.mOkText = val;\n        if (this.mOkBtn) {\n            this.mOkBtn.setText(val);\n        }\n        return this;\n    };\n    AlertView.prototype.init = function () {\n        var zoom = this.mWorld.uiScale || 1;\n        var bg = this.scene.make.image({\n            key: this.key,\n            frame: \"bg.png\"\n        }, false);\n        var title = this.scene.make.image({\n            key: this.key,\n            frame: \"title.png\"\n        }, false);\n        title.y = -bg.height / 2;\n        this.mTitleLabel = this.scene.make.text({\n            text: \"\",\n            style: {\n                fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT,\n                fontSize: 12 * this.dpr * zoom,\n                color: \"#905B06\"\n            }\n        }, false).setOrigin(0.5);\n        this.mTitleLabel.y = title.y;\n        this.mContent = new _lib_rexui_lib_plugins_gameobjects_text_bbcodetext_BBCodeText_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this.scene, 0, -11 * this.dpr, \"\", {\n            fontSize: 12 * this.dpr * zoom + \"px\",\n            fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT,\n            color: \"#0\",\n            wrap: {\n                mode: \"char\",\n                width: 218 * this.dpr\n            }\n        });\n        this.mContent.setOrigin(0.5, 0.5);\n        this.mOkBtn = new _lib_rexui_lib_ui_button_Button__WEBPACK_IMPORTED_MODULE_3__[\"Button\"](this.scene, this.key, \"yellow_btn.png\", undefined, this.mOkText || \"\");\n        this.mOkBtn.setTextStyle({\n            color: \"#905B06\",\n            fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT,\n            fontSize: 13 * this.dpr * zoom\n        });\n        this.mOkBtn.x = -(bg.width - this.mOkBtn.displayWidth) / 2 + 38 * this.dpr;\n        this.mOkBtn.y = (bg.height - this.mOkBtn.displayHeight) / 2 - 16 * this.dpr;\n        this.mOkBtn.on(\"Tap\", this.onOkHandler, this);\n        this.mCancelBtn = new _lib_rexui_lib_ui_button_Button__WEBPACK_IMPORTED_MODULE_3__[\"Button\"](this.scene, this.key, \"red_btn.png\", undefined, \"\");\n        this.mCancelBtn.setTextStyle({\n            fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT,\n            fontSize: 13 * this.dpr * zoom\n        });\n        this.mCancelBtn.x = (bg.width - this.mCancelBtn.displayWidth) / 2 - 38 * this.dpr;\n        this.mCancelBtn.y = this.mOkBtn.y;\n        this.mCancelBtn.on(\"Tap\", this.onCancelHandler, this);\n        this.add([bg, title, this.mTitleLabel, this.mTitleLabel, this.mContent, this.mOkBtn, this.mCancelBtn]);\n        _super.prototype.init.call(this);\n    };\n    AlertView.prototype.onOkHandler = function () {\n        if (!this.mShowData) {\n            return;\n        }\n        var callback = this.mShowData.callback;\n        if (callback) {\n            callback.call(this.mShowData.content);\n        }\n        this.onCancelHandler();\n    };\n    AlertView.prototype.onCancelHandler = function () {\n        if (this.parentContainer) {\n            this.parentContainer.remove(this);\n        }\n    };\n    return AlertView;\n}(_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\nvar Buttons;\n(function (Buttons) {\n    Buttons[Buttons[\"Ok\"] = 0] = \"Ok\";\n    Buttons[Buttons[\"Cancel\"] = 1] = \"Cancel\";\n    Buttons[Buttons[\"OKAndCancel\"] = 2] = \"OKAndCancel\";\n})(Buttons || (Buttons = {}));\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/components/alert.view.ts?");

/***/ }),

/***/ "./src/ui/components/check.button.ts":
/*!*******************************************!*\
  !*** ./src/ui/components/check.button.ts ***!
  \*******************************************/
/*! exports provided: CheckButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CheckButton\", function() { return CheckButton; });\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar CheckButton = /** @class */ (function (_super) {\n    __extends(CheckButton, _super);\n    function CheckButton(scene, x, y, key, normalFrames, selectFrame) {\n        var _this = _super.call(this, scene, x, y, key, normalFrames) || this;\n        _this.mSelected = false;\n        _this.mNormalFrame = normalFrames;\n        _this.mSelectFrame = selectFrame;\n        _this.texture.setFilter(Phaser.Textures.FilterMode.LINEAR);\n        _this.setInteractive(new Phaser.Geom.Rectangle(0, 0, _this.width, _this.height), Phaser.Geom.Rectangle.Contains);\n        _this.on(\"pointerup\", _this.onSelected, _this);\n        return _this;\n    }\n    CheckButton.prototype.onSelected = function () {\n        this.selected = !this.mSelected;\n        this.emit(\"selected\", this.mSelected);\n    };\n    Object.defineProperty(CheckButton.prototype, \"selected\", {\n        get: function () {\n            return this.mSelected;\n        },\n        set: function (val) {\n            if (this.mSelected !== val) {\n                this.mSelected = val;\n                var frame = val ? this.mSelectFrame : this.mNormalFrame;\n                this.setFrame(frame);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return CheckButton;\n}(Phaser.GameObjects.Image));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/components/check.button.ts?");

/***/ }),

/***/ "./src/ui/components/checkbox.group.ts":
/*!*********************************************!*\
  !*** ./src/ui/components/checkbox.group.ts ***!
  \*********************************************/
/*! exports provided: CheckboxGroup */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CheckboxGroup\", function() { return CheckboxGroup; });\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar CheckboxGroup = /** @class */ (function (_super) {\n    __extends(CheckboxGroup, _super);\n    function CheckboxGroup() {\n        var _this = _super.call(this) || this;\n        _this.mList = [];\n        return _this;\n    }\n    CheckboxGroup.prototype.appendItem = function (item) {\n        this.mList.push(item);\n        item.on(\"Tap\", this.onGameObjectUpHandler, this);\n        return this;\n    };\n    CheckboxGroup.prototype.appendItemAll = function (items) {\n        this.mList = this.mList.concat(items);\n        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n            var item = items_1[_i];\n            item.on(\"Tap\", this.onGameObjectUpHandler, this);\n        }\n        return this;\n    };\n    CheckboxGroup.prototype.removeItem = function (item) {\n        this.mList = this.mList.filter(function (button) { return button !== item; });\n        item.removeAllListeners();\n        return this;\n    };\n    CheckboxGroup.prototype.selectIndex = function (index) {\n        if (index < 0) {\n            index = 0;\n        }\n        if (index >= this.mList.length) {\n            index = this.mList.length - 1;\n        }\n        if (this.mList.length > 0) {\n            this.select(this.mList[index]);\n        }\n        return this;\n    };\n    CheckboxGroup.prototype.select = function (item) {\n        if (this.mPrevButton === item) {\n            return;\n        }\n        if (this.mPrevButton) {\n            this.mPrevButton.changeNormal();\n        }\n        item.changeDown();\n        this.emit(\"selected\", item, this.mPrevButton);\n        this.mPrevButton = item;\n    };\n    CheckboxGroup.prototype.reset = function () {\n        var _this = this;\n        if (this.mList) {\n            this.mList.forEach(function (item) {\n                _this.removeItem(item);\n            });\n        }\n    };\n    CheckboxGroup.prototype.destroy = function () {\n        var _this = this;\n        if (this.mList) {\n            this.mList.forEach(function (item) {\n                _this.removeItem(item);\n                item.destroy();\n            });\n        }\n        _super.prototype.destroy.call(this);\n    };\n    CheckboxGroup.prototype.onGameObjectUpHandler = function (pointer, gameobject) {\n        this.select(gameobject);\n    };\n    return CheckboxGroup;\n}(Phaser.Events.EventEmitter));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/components/checkbox.group.ts?");

/***/ }),

/***/ "./src/ui/components/dynamic.image.ts":
/*!********************************************!*\
  !*** ./src/ui/components/dynamic.image.ts ***!
  \********************************************/
/*! exports provided: DynamicImage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DynamicImage\", function() { return DynamicImage; });\n/* harmony import */ var _utils_log__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/log */ \"./src/utils/log.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar DynamicImage = /** @class */ (function (_super) {\n    __extends(DynamicImage, _super);\n    function DynamicImage(scene, x, y) {\n        return _super.call(this, scene, x, y, undefined) || this;\n    }\n    DynamicImage.prototype.load = function (value, loadContext, completeCallBack, errorCallBack) {\n        this.mLoadCompleteCallbak = completeCallBack;\n        this.mLoadErrorCallback = errorCallBack;\n        this.mLoadContext = loadContext;\n        if (!this.scene) {\n            _utils_log__WEBPACK_IMPORTED_MODULE_0__[\"Logger\"].getInstance().fatal(DynamicImage.name + \" Create failed does not exist\");\n            return;\n        }\n        this.mUrl = value;\n        if (this.scene.textures.exists(value)) {\n            this.onLoadComplete(value);\n        }\n        else {\n            this.scene.load.image(value, value);\n            this.scene.load.on(Phaser.Loader.Events.FILE_COMPLETE, this.onLoadComplete, this);\n            this.scene.load.on(Phaser.Loader.Events.FILE_LOAD_ERROR, this.onLoadError, this);\n            this.scene.load.start();\n        }\n    };\n    DynamicImage.prototype.destroy = function (fromScene) {\n        if (fromScene === void 0) { fromScene = false; }\n        this.mLoadCompleteCallbak = null;\n        this.mLoadContext = null;\n        this.mLoadErrorCallback = null;\n        this.mUrl = \"\";\n        if (this.scene) {\n            this.scene.load.off(Phaser.Loader.Events.FILE_COMPLETE, this.onLoadComplete, this);\n            this.scene.load.off(Phaser.Loader.Events.FILE_LOAD_ERROR, this.onLoadError, this);\n        }\n        _super.prototype.destroy.call(this, fromScene);\n    };\n    DynamicImage.prototype.onLoadComplete = function (file) {\n        if (file === this.mUrl) {\n            this.scene.load.off(Phaser.Loader.Events.FILE_COMPLETE, this.onLoadComplete, this);\n            this.scene.load.off(Phaser.Loader.Events.FILE_LOAD_ERROR, this.onLoadError, this);\n            this.setTexture(this.mUrl);\n            this.texture.setFilter(Phaser.Textures.FilterMode.LINEAR);\n            if (this.mLoadCompleteCallbak) {\n                var cb = this.mLoadCompleteCallbak;\n                this.mLoadCompleteCallbak = null;\n                cb.call(this.mLoadContext);\n                this.mLoadContext = null;\n            }\n        }\n    };\n    DynamicImage.prototype.onLoadError = function (file) {\n        if (this.mUrl === file.url) {\n            if (this.mLoadErrorCallback) {\n                var cb = this.mLoadErrorCallback;\n                this.mLoadErrorCallback = null;\n                cb.call(this.mLoadContext);\n                this.mLoadContext = null;\n            }\n        }\n    };\n    return DynamicImage;\n}(Phaser.GameObjects.Image));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/components/dynamic.image.ts?");

/***/ }),

/***/ "./src/ui/components/dynamic.ninepatch.ts":
/*!************************************************!*\
  !*** ./src/ui/components/dynamic.ninepatch.ts ***!
  \************************************************/
/*! exports provided: DynamicNinepatch */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DynamicNinepatch\", function() { return DynamicNinepatch; });\n/* harmony import */ var _lib_rexui_lib_plugins_gameobjects_ninepatch_NinePatch__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/rexui/lib/plugins/gameobjects/ninepatch/NinePatch */ \"./lib/rexui/lib/plugins/gameobjects/ninepatch/NinePatch.js\");\n\nvar DynamicNinepatch = /** @class */ (function () {\n    function DynamicNinepatch(mScene, mParent) {\n        this.mScene = mScene;\n        this.mParent = mParent;\n    }\n    DynamicNinepatch.prototype.load = function (value, config, completeCallBack, loadContext) {\n        this.mLoadCompleteCallBack = completeCallBack;\n        this.mLoadContext = loadContext;\n        this.mConfig = config;\n        this.mUrl = value;\n        if (this.mScene.cache.obj.get(value)) {\n            this.onLoadCompleteHandler();\n        }\n        else {\n            this.mScene.load.image(this.mUrl, this.mUrl);\n            this.mScene.load.once(Phaser.Loader.Events.COMPLETE, this.onLoadCompleteHandler, this);\n            this.mScene.load.start();\n        }\n    };\n    DynamicNinepatch.prototype.onLoadCompleteHandler = function () {\n        this.mImage = new _lib_rexui_lib_plugins_gameobjects_ninepatch_NinePatch__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.mScene, this.mConfig);\n        if (this.mLoadCompleteCallBack) {\n            this.mLoadCompleteCallBack.call(this.mLoadContext, this.mImage);\n            this.mLoadCompleteCallBack = null;\n            this.mLoadContext = null;\n        }\n    };\n    Object.defineProperty(DynamicNinepatch.prototype, \"image\", {\n        get: function () {\n            return this.mImage;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return DynamicNinepatch;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/components/dynamic.ninepatch.ts?");

/***/ }),

/***/ "./src/ui/components/dynamic.sprite.ts":
/*!*********************************************!*\
  !*** ./src/ui/components/dynamic.sprite.ts ***!
  \*********************************************/
/*! exports provided: DynamicSprite */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DynamicSprite\", function() { return DynamicSprite; });\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar DynamicSprite = /** @class */ (function (_super) {\n    __extends(DynamicSprite, _super);\n    function DynamicSprite(scene, x, y) {\n        var _this = _super.call(this, scene, x, y, undefined) || this;\n        scene.sys.updateList.add(_this);\n        return _this;\n    }\n    DynamicSprite.prototype.load = function (textureURL, atlasURL, loadContext, completeCallBack, errorCallBack) {\n        this.mLoadCompleteCallbak = completeCallBack;\n        this.mLoadErrorCallback = errorCallBack;\n        this.mLoadContext = loadContext;\n        this.mUrl = textureURL + atlasURL;\n        if (this.scene.cache.obj.get(this.mUrl)) {\n            this.onLoadComplete();\n        }\n        else {\n            this.scene.load.atlas(this.mUrl, textureURL, atlasURL);\n            this.scene.load.once(Phaser.Loader.Events.COMPLETE, this.onLoadComplete, this);\n            this.scene.load.once(Phaser.Loader.Events.FILE_LOAD_ERROR, this.onLoadError, this);\n            this.scene.load.start();\n        }\n    };\n    DynamicSprite.prototype.destroy = function (fromScene) {\n        this.scene.sys.updateList.remove(this);\n        _super.prototype.destroy.call(this, fromScene);\n    };\n    DynamicSprite.prototype.onLoadComplete = function () {\n        if (this.mLoadCompleteCallbak) {\n            var cb = this.mLoadCompleteCallbak;\n            this.mLoadCompleteCallbak = null;\n            cb.call(this.mLoadContext);\n            this.mLoadContext = null;\n        }\n        this.scene.anims.create({\n            key: this.mUrl,\n            frames: this.scene.anims.generateFrameNames(this.mUrl),\n            repeat: 1\n        });\n        this.play(this.mUrl);\n        // this.setTexture(this.mUrl);\n    };\n    DynamicSprite.prototype.onLoadError = function (file) {\n        if (this.mUrl === file.url) {\n            if (this.mLoadErrorCallback) {\n                var cb = this.mLoadErrorCallback;\n                this.mLoadErrorCallback = null;\n                cb.call(this.mLoadContext);\n                this.mLoadContext = null;\n            }\n        }\n    };\n    return DynamicSprite;\n}(Phaser.GameObjects.Sprite));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/components/dynamic.sprite.ts?");

/***/ }),

/***/ "./src/ui/components/input.panel.ts":
/*!******************************************!*\
  !*** ./src/ui/components/input.panel.ts ***!
  \******************************************/
/*! exports provided: InputPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"InputPanel\", function() { return InputPanel; });\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar InputPanel = /** @class */ (function (_super) {\n    __extends(InputPanel, _super);\n    function InputPanel(scene, world, text) {\n        var _this = _super.call(this) || this;\n        var width = scene.cameras.main.width;\n        var height = scene.cameras.main.height;\n        _this.mBackground = scene.add.graphics();\n        _this.mBackground.fillStyle(0x0, 0.6);\n        _this.mBackground.fillRect(0, 0, width, height).setInteractive(new Phaser.Geom.Rectangle(0, 0, width, height), Phaser.Geom.Rectangle.Contains);\n        _this.mInput = scene.add.rexInputText(6 * world.uiRatio, 6 * world.uiRatio, width - 12 * world.uiRatio, 40 * world.uiRatio, {\n            fontSize: 20 * world.uiRatio + \"px\",\n            color: \"#0\",\n            text: text,\n            backgroundColor: \"#FFFFFF\",\n            borderColor: \"#FF9900\"\n        }).setOrigin(0, 0).setFocus();\n        // this.mInput.y = -height / 2;\n        _this.mInput.node.addEventListener(\"keypress\", function (e) {\n            var keycode = e.keyCode || e.which;\n            if (keycode === 13) {\n                _this.onCloseHandler();\n            }\n        });\n        return _this;\n    }\n    InputPanel.prototype.onCloseHandler = function () {\n        this.emit(\"close\", this.mInput.text);\n        this.mBackground.destroy();\n        this.mInput.destroy();\n        this.destroy();\n    };\n    return InputPanel;\n}(Phaser.Events.EventEmitter));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/components/input.panel.ts?");

/***/ }),

/***/ "./src/ui/components/inputPanel.ts":
/*!*****************************************!*\
  !*** ./src/ui/components/inputPanel.ts ***!
  \*****************************************/
/*! exports provided: InputPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"InputPanel\", function() { return InputPanel; });\n/* harmony import */ var _inputTextFactory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./inputTextFactory */ \"./src/ui/components/inputTextFactory.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar InputPanel = /** @class */ (function (_super) {\n    __extends(InputPanel, _super);\n    function InputPanel(scene, world) {\n        var _this = _super.call(this, scene) || this;\n        var width = world.getSize().width;\n        var height = world.getSize().height;\n        _this.mBg.clear();\n        _this.mBg.fillStyle(0x0000, .5);\n        _this.mBg.fillRect(0, 0, width, height);\n        _this.setInteractive(new Phaser.Geom.Rectangle(0, 0, width, height), Phaser.Geom.Rectangle.Contains);\n        _this.mInputText = world.uiManager.getInputTextFactory().getInputText(scene);\n        _this.mInputText.on(_inputTextFactory__WEBPACK_IMPORTED_MODULE_0__[\"InputTextFieldEvent\"].textExit, _this.hide, _this);\n        _this.add(_this.mBg);\n        _this.add(_this.mInputText.getSkin());\n        return _this;\n    }\n    Object.defineProperty(InputPanel.prototype, \"text\", {\n        get: function () {\n            return this.mInputText.getText();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    InputPanel.prototype.hide = function () {\n        if (this.mInputText) {\n            this.mInputText.onBlur();\n            this.mInputText.off(_inputTextFactory__WEBPACK_IMPORTED_MODULE_0__[\"InputTextFieldEvent\"].textExit, this.hide, this);\n            this.mInputText.destroy();\n            this.mInputText = null;\n        }\n        if (this.mBg) {\n            this.mBg.destroy();\n            this.mBg = null;\n        }\n        _super.prototype.destroy.call(this);\n    };\n    return InputPanel;\n}(Phaser.GameObjects.Container));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/components/inputPanel.ts?");

/***/ }),

/***/ "./src/ui/components/inputTextFactory.ts":
/*!***********************************************!*\
  !*** ./src/ui/components/inputTextFactory.ts ***!
  \***********************************************/
/*! exports provided: InputTextFactory, InputTextFieldEvent, InputTextField */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"InputTextFactory\", function() { return InputTextFactory; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"InputTextFieldEvent\", function() { return InputTextFieldEvent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"InputTextField\", function() { return InputTextField; });\n/* harmony import */ var _lib_rexui_lib_plugins_gameobjects_inputtext_InputText__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/rexui/lib/plugins/gameobjects/inputtext/InputText */ \"./lib/rexui/lib/plugins/gameobjects/inputtext/InputText.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar InputTextFactory = /** @class */ (function () {\n    function InputTextFactory(world) {\n        this.mWorld = world;\n    }\n    InputTextFactory.prototype.getInputText = function (scene, style) {\n        var inputtext = new InputTextField(scene, this.mWorld, style);\n        return inputtext;\n    };\n    return InputTextFactory;\n}());\n\nvar InputTextFieldEvent = {\n    textchange: \"textchange\",\n    textclick: \"textclick\",\n    textdblclick: \"textdblclick\",\n    textfocus: \"textfocus\",\n    textblur: \"textblur\",\n    textExit: \"textExit\",\n};\nvar InputTextField = /** @class */ (function (_super) {\n    __extends(InputTextField, _super);\n    function InputTextField(scene, world, config) {\n        var _this = _super.call(this) || this;\n        _this.mDelayTime = 300;\n        _this.mScene = scene;\n        _this.mWorld = world;\n        _this.textConfig = config;\n        _this.mTextField = scene.make.text({\n            x: config.x || 0,\n            y: config.y || 0,\n            stroke: \"#000000\",\n            strokeThickness: 2,\n            align: config.align || \"left\",\n            style: {\n                color: config.color || \"#fff\",\n                font: config.font || \"16px YaHei\",\n                wordWrap: {\n                    width: config.textWidt || null,\n                }\n            }\n        }, false).setInteractive(new Phaser.Geom.Rectangle(0, 0, config.textWidth, config.textHeight), Phaser.Geom.Rectangle.Contains);\n        _this.mTextField.setOrigin(0.5, 0.5);\n        _this.mTextField.setAlign(config.align);\n        _this.mTextField.setText(config.text || \"\");\n        _this.mTextField.on(\"pointerdown\", _this.showText, _this);\n        return _this;\n    }\n    InputTextField.prototype.onBlur = function () {\n        this.mInputText.onBlur();\n    };\n    InputTextField.prototype.onFocus = function () {\n        this.mInputText.onFocus();\n    };\n    InputTextField.prototype.getText = function () {\n        return this.mTextField.text;\n    };\n    InputTextField.prototype.getSkin = function () {\n        return this.mTextField;\n    };\n    InputTextField.prototype.destroy = function () {\n        if (this.mInputText) {\n            this.mInputText.destroy();\n        }\n        this.mInputText = null;\n    };\n    InputTextField.prototype.showText = function () {\n        var _this = this;\n        var textX = this.textConfig.posType === 1 ? -this.textConfig.textWidth >> 1 : -this.mWorld.getSize().width >> 1;\n        var defaultText = this.mTextField.text && this.mTextField.text.length > 0 ?\n            this.mTextField.text : this.textConfig.minNum;\n        if (!this.mInputText) {\n            this.mInputText = new _lib_rexui_lib_plugins_gameobjects_inputtext_InputText__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.mScene, {\n                id: this.textConfig.id || \"input\",\n                x: textX || 0,\n                y: this.textConfig.y || 0,\n                width: this.textConfig.textWidth || 100,\n                height: this.textConfig.textHeight || 100,\n                type: this.textConfig.type || \"\",\n                fontSize: this.textConfig.font || \"16px YaHei\",\n                color: this.textConfig.color || \"#fff\",\n                \"z-index\": 999,\n                align: \"left\",\n                text: defaultText,\n                posType: this.textConfig.posType\n            });\n            this.mInputText.setOrigin(0, 0.6);\n        }\n        else {\n            this.mInputText.setText(defaultText);\n        }\n        // 0  1 \n        if (this.textConfig.posType === 1) {\n            this.mTextField.visible = false;\n            if (!this.mInputText.parentContainer)\n                this.mTextField.parentContainer.add(this.mInputText);\n        }\n        this.mInputText.visible = true;\n        this.mInputText.on(\"textchange\", this.onTextchange, this);\n        this.mInputText.on(\"onclick\", this.onTextClick, this);\n        this.mInputText.on(\"ondblclick\", this.onTextDbclick, this);\n        this.mInputText.on(\"focus\", this.onTextFocus, this);\n        this.mInputText.on(\"blur\", this.onTextBlur, this);\n        // enterenter\n        this.mInputText.node.addEventListener(\"keypress\", function (e) {\n            var keycode = e.keyCode || e.which;\n            if (keycode === 13) {\n                _this.emit(InputTextFieldEvent.textExit);\n                _this.hideText();\n            }\n        });\n        this.mScene.input.on(\"gameobjectdown\", this.sceneDown, this);\n        if (this.mWorld.game.device.os.iOS && !this.mWorld.game.device.os.desktop) {\n            this.setInputFocus();\n        }\n        else {\n            this.mInputTimeID = this.mScene.setTimeout(function () {\n                _this.setInputFocus();\n            }, this.mDelayTime);\n        }\n    };\n    InputTextField.prototype.hideText = function () {\n        this.mTextField.visible = true;\n        if (!this.mInputText)\n            return;\n        this.mInputText.off(\"textchange\", this.onTextchange, this);\n        this.mInputText.off(\"onclick\", this.onTextClick, this);\n        this.mInputText.off(\"ondblclick\", this.onTextDbclick, this);\n        this.mInputText.off(\"focus\", this.onTextFocus, this);\n        this.mInputText.off(\"blur\", this.onTextBlur, this);\n        this.mScene.input.off(\"gameobjectdown\", this.sceneDown, this);\n        var text = this.mInputText.text;\n        if (text.length > 0) {\n            this.mTextField.setText(text);\n        }\n        this.mInputText.setText(\"\");\n        this.mInputText.setBlur();\n        this.mInputText.visible = false;\n        if (this.mInputTimeID) {\n            this.mScene.clearTimeout(this.mInputTimeID);\n        }\n        if (this.textConfig.posType === 1) {\n            this.mTextField.visible = true;\n        }\n    };\n    InputTextField.prototype.setInputFocus = function () {\n        // domid\n        var input = document.all.namedItem(this.textConfig.id);\n        if (input) {\n            input.focus();\n        }\n    };\n    InputTextField.prototype.sceneDown = function (pointer, gameobject) {\n        if (gameobject && gameobject === this.mTextField) {\n            return;\n        }\n        this.onTextBlur();\n    };\n    InputTextField.prototype.onTextchange = function () {\n        if (this.textConfig.type === \"number\") {\n            var num = Number(this.mInputText.text);\n            if (isNaN(num)) {\n                num = 0;\n            }\n            if (this.textConfig.minNum && this.textConfig.maxNum) {\n                if (num < this.textConfig.minNum) {\n                    num = this.textConfig.minNum;\n                }\n                else if (num > this.textConfig.maxNum) {\n                    num = this.textConfig.maxNum;\n                }\n            }\n            this.mInputText.text = num + \"\";\n        }\n        this.emit(InputTextFieldEvent.textchange);\n    };\n    InputTextField.prototype.onTextClick = function () {\n        this.emit(InputTextFieldEvent.textclick);\n    };\n    InputTextField.prototype.onTextDbclick = function () {\n        this.emit(InputTextFieldEvent.textdblclick);\n    };\n    InputTextField.prototype.onTextFocus = function () {\n        this.onFocus();\n        this.emit(InputTextFieldEvent.textfocus);\n    };\n    InputTextField.prototype.onTextBlur = function () {\n        this.onBlur();\n        this.hideText();\n        this.emit(InputTextFieldEvent.textblur);\n    };\n    return InputTextField;\n}(Phaser.Events.EventEmitter));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/components/inputTextFactory.ts?");

/***/ }),

/***/ "./src/ui/components/label.input.ts":
/*!******************************************!*\
  !*** ./src/ui/components/label.input.ts ***!
  \******************************************/
/*! exports provided: LabelInput */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LabelInput\", function() { return LabelInput; });\n/* harmony import */ var _lib_rexui_lib_plugins_gameobjects_inputtext_InputText__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/rexui/lib/plugins/gameobjects/inputtext/InputText */ \"./lib/rexui/lib/plugins/gameobjects/inputtext/InputText.js\");\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar LabelInput = /** @class */ (function (_super) {\n    __extends(LabelInput, _super);\n    function LabelInput(scene, config) {\n        var _this = _super.call(this, scene) || this;\n        var labelConfig = {\n            fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT\n        };\n        var clickW = config.width || 100;\n        var clickH = config.height || 100;\n        _this.mLabel = _this.scene.make.text({\n            style: Object.assign(labelConfig, config)\n        }, false).setInteractive(new Phaser.Geom.Rectangle(-(clickW >> 1), -(clickH >> 1), clickW, clickH), Phaser.Geom.Rectangle.Contains);\n        _this.mLabel.on(\"pointerup\", _this.onShowInputHandler, _this);\n        _this.add(_this.mLabel);\n        _this.mInputConfig = config;\n        return _this;\n    }\n    LabelInput.prototype.setText = function (val) {\n        this.mLabel.setText(val);\n        if (this.mInputText) {\n            this.mInputText.text = val;\n        }\n    };\n    LabelInput.prototype.setOrigin = function (x, y) {\n        this.mLabel.setOrigin(x, y);\n        if (this.mInputText)\n            this.mInputText.setOrigin(x, y);\n    };\n    LabelInput.prototype.setBlur = function () {\n        this.onShowLabel();\n    };\n    LabelInput.prototype.destroy = function () {\n        this.mLabel.destroy();\n        this.destroyInput();\n        _super.prototype.destroy.call(this);\n    };\n    LabelInput.prototype.createInputText = function () {\n        var _this = this;\n        if (this.mInputText) {\n            this.mInputText.destroy();\n        }\n        this.mInputText = new _lib_rexui_lib_plugins_gameobjects_inputtext_InputText__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.scene, Object.assign({}, this.mInputConfig));\n        this.mInputText.on(\"textchange\", this.onTextChangeHandler, this);\n        this.mInputText.node.addEventListener(\"keypress\", function (e) {\n            var keycode = e.keyCode || e.which;\n            if (keycode === 13) {\n                _this.onShowLabel();\n            }\n        });\n    };\n    LabelInput.prototype.onShowInputHandler = function () {\n        this.createInputText();\n        this.remove(this.mLabel);\n        this.add(this.mInputText);\n        this.mInputText.setText(this.mLabel.text);\n        this.mInputText.setFocus();\n    };\n    LabelInput.prototype.onShowLabel = function () {\n        if (this.mInputText) {\n            this.mLabel.setText(this.mInputText.text);\n            this.destroyInput();\n        }\n        this.add(this.mLabel);\n    };\n    LabelInput.prototype.destroyInput = function () {\n        if (this.mInputText) {\n            this.mInputText.destroy();\n            this.mInputText = undefined;\n        }\n    };\n    LabelInput.prototype.onTextChangeHandler = function () {\n        this.emit(\"textchange\");\n    };\n    Object.defineProperty(LabelInput.prototype, \"object\", {\n        get: function () {\n            return this.mInputText || this.mLabel;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(LabelInput.prototype, \"text\", {\n        get: function () {\n            if (this.mInputText) {\n                return this.mInputText.text;\n            }\n            return this.mLabel.text;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return LabelInput;\n}(Phaser.GameObjects.Container));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/components/label.input.ts?");

/***/ }),

/***/ "./src/ui/components/message.box.ts":
/*!******************************************!*\
  !*** ./src/ui/components/message.box.ts ***!
  \******************************************/
/*! exports provided: MessageBoxUI, MessageBtn */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MessageBoxUI\", function() { return MessageBoxUI; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MessageBtn\", function() { return MessageBtn; });\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar MessageBoxUI = /** @class */ (function (_super) {\n    __extends(MessageBoxUI, _super);\n    function MessageBoxUI(scene, config) {\n        var _this = _super.call(this, scene) || this;\n        _this.mScene = scene;\n        _this.mConfig = config;\n        _this.init();\n        return _this;\n    }\n    MessageBoxUI.prototype.selectCall = function (itemData) {\n        this.mtxt.text = itemData.text;\n        this.mtxt.x = this.mConfig.wid - this.mtxt.width >> 1;\n        this.mtxt.y = this.mConfig.hei - this.mtxt.height >> 1;\n        if (this.mConfig.clickCallBack) {\n            this.mConfig.clickCallBack.call(this, itemData);\n        }\n    };\n    MessageBoxUI.prototype.init = function () {\n        var resKey = this.mConfig.resKey;\n        var resPng = this.mConfig.resPng;\n        var resJson = this.mConfig.resJson;\n        if (!this.mScene.cache.obj.has(resKey)) {\n            this.mScene.load.atlas(resKey, resPng, resJson);\n            this.mScene.load.once(Phaser.Loader.Events.COMPLETE, this.onLoadCompleteHandler, this);\n            this.mScene.load.start();\n        }\n        else {\n            this.onLoadCompleteHandler();\n        }\n    };\n    MessageBoxUI.prototype.onLoadCompleteHandler = function () {\n        var resKey = this.mConfig.resKey;\n        var resBtn = this.mConfig.resBtn;\n        this.mBg = this.mScene.make.image(undefined, false);\n        this.mBg.setTexture(resKey, this.mConfig.resBg);\n        this.mBg.x = this.mConfig.wid / 2;\n        this.mBg.y = this.mConfig.hei / 2;\n        this.mBg.setSize(this.mConfig.wid, this.mConfig.hei);\n        this.mBtnList = [];\n        if (this.mConfig.btnData) {\n            var len = this.mConfig.btnData.length;\n            var btn = void 0;\n            for (var i = 0; i < len; i++) {\n                btn = new MessageBtn(this.mScene, this, resKey, resBtn, this.mConfig.btnWid, this.mConfig.btnHei);\n                this.mBtnList.push(btn);\n            }\n        }\n        this.mtxt = this.mScene.make.text({\n            x: 0, y: 0,\n            style: { fill: \"#F7EDED\", fontSize: 18 }\n        }, false);\n        this.add(this.mBg);\n        this.add(this.mtxt);\n    };\n    return MessageBoxUI;\n}(Phaser.GameObjects.Container));\n\nvar MessageBtn = /** @class */ (function (_super) {\n    __extends(MessageBtn, _super);\n    function MessageBtn(scene, messageBoxUI, resKey, resBtn, wid, hei) {\n        var _this = _super.call(this, scene) || this;\n        _this.messageBoxUI = messageBoxUI;\n        _this.mBtn = scene.make.image(undefined, false);\n        _this.mBtn.setTexture(resKey, resBtn);\n        _this.mText = _this.scene.make.text({\n            x: -wid >> 1, y: -hei >> 1,\n            style: { fill: \"#F7EDED\", fontSize: 18 }\n        }, false);\n        _this.add(_this.mBtn);\n        _this.add(_this.mText);\n        _this.setSize(wid, hei);\n        _this.setInteractive();\n        _this.on(\"pointerdown\", _this.selectHandler, _this);\n        return _this;\n    }\n    Object.defineProperty(MessageBtn.prototype, \"itemData\", {\n        get: function () {\n            return this.mData;\n        },\n        set: function (val) {\n            this.mData = val;\n            this.mText.text = this.mData.text;\n            this.mText.x = -this.width / 2 + (this.width - this.mText.width >> 1);\n            this.mText.y = -this.height / 2 + (this.height - this.mText.height >> 1);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    MessageBtn.prototype.destroy = function () {\n        this.mText.destroy(true);\n        this.mBtn.destroy(true);\n        this.mData = null;\n        _super.prototype.destroy.call(this, true);\n    };\n    MessageBtn.prototype.selectHandler = function () {\n        this.addTween(this.mBtn);\n        this.messageBoxUI.selectCall(this.itemData);\n    };\n    MessageBtn.prototype.addTween = function (img) {\n        this.scene.tweens.add({\n            targets: img,\n            duration: 50,\n            ease: \"Linear\",\n            props: {\n                scaleX: { value: .5 },\n                scaleY: { value: .5 },\n            },\n            yoyo: true,\n            repeat: 0,\n        });\n        img.scaleX = img.scaleY = 1;\n    };\n    return MessageBtn;\n}(Phaser.GameObjects.Container));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/components/message.box.ts?");

/***/ }),

/***/ "./src/ui/components/nine.patch.ts":
/*!*****************************************!*\
  !*** ./src/ui/components/nine.patch.ts ***!
  \*****************************************/
/*! exports provided: NinePatch */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NinePatch\", function() { return NinePatch; });\n/* harmony import */ var _patches_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./patches.config */ \"./src/ui/components/patches.config.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar NinePatch = /** @class */ (function (_super) {\n    __extends(NinePatch, _super);\n    function NinePatch(scene, x, y, width, height, key, frame, config) {\n        var _this = _super.call(this, scene, x, y) || this;\n        _this.config = config || _this.scene.cache.custom.ninePatch.get(frame ? \"\" + frame : key);\n        // config\n        _this.config.top = Math.round(_this.config.top);\n        if (_this.config.right)\n            _this.config.right = Math.round(_this.config.right);\n        if (_this.config.bottom)\n            _this.config.bottom = Math.round(_this.config.bottom);\n        if (_this.config.left)\n            _this.config.left = Math.round(_this.config.left);\n        Object(_patches_config__WEBPACK_IMPORTED_MODULE_0__[\"normalizePatchesConfig\"])(_this.config);\n        _this.setSize(width, height);\n        _this.setTexture(key, frame);\n        return _this;\n    }\n    NinePatch.prototype.resize = function (width, height) {\n        width = Math.round(width);\n        height = Math.round(height);\n        if (!this.config) {\n            return this;\n        }\n        if (this.width === width && this.height === height) {\n            return this;\n        }\n        //  1\n        width = Math.max(width, this.config.left + this.config.right + 1);\n        height = Math.max(height, this.config.top + this.config.bottom + 1);\n        this.setSize(width, height);\n        this.drawPatches();\n        return;\n    };\n    NinePatch.prototype.setTexture = function (key, frame) {\n        this.originTexture = this.scene.textures.get(key);\n        this.setFrame(frame);\n        this.originTexture.setFilter(Phaser.Textures.FilterMode.LINEAR);\n        return this;\n    };\n    NinePatch.prototype.setFrame = function (frame) {\n        this.originFrame = this.originTexture.frames[frame] || this.originTexture.frames[NinePatch.__BASE];\n        this.createPatches();\n        this.drawPatches();\n        return this;\n    };\n    NinePatch.prototype.setSize = function (width, height) {\n        _super.prototype.setSize.call(this, width, height);\n        this.finalXs = [0, this.config.left, this.width - this.config.right, this.width];\n        this.finalYs = [0, this.config.top, this.height - this.config.bottom, this.height];\n        return this;\n    };\n    NinePatch.prototype.setTint = function (tint) {\n        this.tint = tint;\n        return this;\n    };\n    NinePatch.prototype.setTintFill = function (tint) {\n        this.tint = tint;\n        this.tintFill = true;\n        return this;\n    };\n    Object.defineProperty(NinePatch.prototype, \"tintFill\", {\n        get: function () {\n            return this.first && this.first.tintFill;\n        },\n        set: function (value) {\n            this.each(function (patch) { return patch.tintFill = value; });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(NinePatch.prototype, \"tint\", {\n        set: function (value) {\n            this.each(function (patch) { return patch.setTintFill(value); });\n            this.internalTint = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(NinePatch.prototype, \"isTinted\", {\n        get: function () {\n            return this.first && this.first.isTinted;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    NinePatch.prototype.clearTint = function () {\n        this.each(function (patch) { return patch.clearTint(); });\n        this.internalTint = undefined;\n        this.tintFill = false;\n    };\n    NinePatch.prototype.createPatches = function () {\n        // The positions we want from the base texture\n        var textureXs = [0, this.config.left, this.originFrame.width - this.config.right, this.originFrame.width];\n        var textureYs = [0, this.config.top, this.originFrame.height - this.config.bottom, this.originFrame.height];\n        var patchIndex = 0;\n        for (var yi = 0; yi < 3; yi++) {\n            for (var xi = 0; xi < 3; xi++) {\n                this.createPatchFrame(this.getPatchNameByIndex(patchIndex), textureXs[xi], // x\n                textureYs[yi], // y\n                textureXs[xi + 1] - textureXs[xi], // width\n                textureYs[yi + 1] - textureYs[yi] // height\n                );\n                ++patchIndex;\n            }\n        }\n    };\n    // private drawPatches(): void {\n    //     const tintFill = this.tintFill;\n    //     this.removeAll(true);\n    //     let patchIndex = 0;\n    //     for (let yi = 0; yi < 3; yi++) {\n    //         for (let xi = 0; xi < 3; xi++) {\n    //             const patch: Phaser.Textures.Frame = this.originTexture.frames[this.getPatchNameByIndex(patchIndex)];\n    //             const patchImg = new Phaser.GameObjects.Image(this.scene, 0, 0, patch.texture.key, patch.name);\n    //             patchImg.setOrigin(0);\n    //             patchImg.setPosition(this.finalXs[xi] - this.width * this.originX, this.finalYs[yi] - this.height * this.originY);\n    //             patchImg.setScale(\n    //                 (this.finalXs[xi + 1] - this.finalXs[xi]) / patch.width,\n    //                 (this.finalYs[yi + 1] - this.finalYs[yi]) / patch.height\n    //             );\n    //             this.add(patchImg);\n    //             patchImg.setTint(this.internalTint);\n    //             patchImg.tintFill = tintFill;\n    //             ++patchIndex;\n    //         }\n    //     }\n    // }\n    NinePatch.prototype.drawPatches = function () {\n        var tintFill = this.tintFill;\n        this.removeAll(true);\n        var patchIndex = 0;\n        // const info = [];\n        for (var yi = 0; yi < 3; yi++) {\n            for (var xi = 0; xi < 3; xi++) {\n                var patch = this.originTexture.frames[this.getPatchNameByIndex(patchIndex)];\n                var patchImg = new Phaser.GameObjects.Image(this.scene, 0, 0, patch.texture.key, patch.name);\n                patchImg.setOrigin(0);\n                patchImg.setPosition((this.finalXs[xi] * 1000 - this.width * this.originX * 1000) / 1000, (this.finalYs[yi] * 1000 - this.height * this.originY * 1000) / 1000);\n                // patchImg.setScale(\n                //     (this.finalXs[xi + 1] * 1000 - this.finalXs[xi] * 1000) / patch.width / 1000,\n                //     (this.finalYs[yi + 1] * 1000 - this.finalYs[yi] * 1000) / patch.height / 1000\n                // );\n                // displayWidth\n                patchImg.displayWidth = this.finalXs[xi + 1] - this.finalXs[xi];\n                patchImg.displayHeight = this.finalYs[yi + 1] - this.finalYs[yi];\n                this.add(patchImg);\n                if (this.internalTint)\n                    patchImg.setTint(this.internalTint);\n                patchImg.tintFill = tintFill;\n                patchImg.texture.setFilter(Phaser.Textures.FilterMode.LINEAR);\n                ++patchIndex;\n                // info.push({ x: patchImg.x, y: patchImg.y, w: patchImg.width, h: patchImg.height, s: patchImg.scale, sx: patchImg.scaleX, sy: patchImg.scaleY });\n            }\n        }\n        // Logger.getInstance().log(\"ZW-- drawPatches: \", info);\n        // Logger.getInstance().log(\"ZW-- lines: \" + (info[0].w * info[0].sx + info[0].x) + \"; \" + (info[1].w * info[1].sx + info[1].x));\n    };\n    NinePatch.prototype.createPatchFrame = function (patch, x, y, width, height) {\n        if (this.originTexture.frames.hasOwnProperty(patch)) {\n            return;\n        }\n        this.originTexture.add(patch, this.originFrame.sourceIndex, this.originFrame.cutX + x, this.originFrame.cutY + y, width, height);\n    };\n    NinePatch.prototype.getPatchNameByIndex = function (index) {\n        return this.originFrame.name + \"|\" + NinePatch.patches[index];\n    };\n    NinePatch.__BASE = \"__BASE\";\n    NinePatch.patches = [\"[0][0]\", \"[1][0]\", \"[2][0]\", \"[0][1]\", \"[1][1]\", \"[2][1]\", \"[0][2]\", \"[1][2]\", \"[2][2]\"];\n    return NinePatch;\n}(Phaser.GameObjects.Container));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/components/nine.patch.ts?");

/***/ }),

/***/ "./src/ui/components/ninepatch.button.ts":
/*!***********************************************!*\
  !*** ./src/ui/components/ninepatch.button.ts ***!
  \***********************************************/
/*! exports provided: NinePatchButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NinePatchButton\", function() { return NinePatchButton; });\n/* harmony import */ var _nine_patch__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./nine.patch */ \"./src/ui/components/nine.patch.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar NinePatchButton = /** @class */ (function (_super) {\n    __extends(NinePatchButton, _super);\n    function NinePatchButton(scene, x, y, width, height, key, frame, text, config, data) {\n        var _this = _super.call(this, scene, x, y) || this;\n        _this.mScene = scene;\n        _this.mKey = key;\n        _this.mFrame = frame ? frame : \"__BASE\";\n        _this.initFrame();\n        _this.setSize(width, height);\n        _this.mNingBg = new _nine_patch__WEBPACK_IMPORTED_MODULE_0__[\"NinePatch\"](_this.scene, 0, 0, width, height, key, _this.mFrame_nrmal, config);\n        _this.add(_this.mNingBg);\n        if (data) {\n            _this.btnData = data;\n        }\n        _this.mLabel = _this.scene.make.text(undefined, false)\n            .setOrigin(0.5, 0.5)\n            .setSize(_this.width, _this.height)\n            .setAlign(\"center\")\n            .setText(text);\n        _this.add(_this.mLabel);\n        // this.setSize(this.mNingBg.width, this.mNingBg.height);\n        _this.setInteractive(new Phaser.Geom.Rectangle(0, 0, width, height), Phaser.Geom.Rectangle.Contains);\n        _this.on(\"pointerdown\", _this.onPointerDown, _this);\n        _this.on(\"pointerup\", _this.onPointerUp, _this);\n        return _this;\n        // this.on(\"pointerout\", this.changeNormal, this);\n        // this.on(\"pointerover\", this.changeOver, this);\n    }\n    Object.defineProperty(NinePatchButton.prototype, \"enable\", {\n        set: function (value) {\n            if (value) {\n                this.mNingBg.clearTint();\n                this.mLabel.clearTint();\n                this.setInteractive();\n            }\n            else {\n                this.mNingBg.setTintFill(0x666666);\n                this.mLabel.setTintFill(0x777777);\n                this.removeInteractive();\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    NinePatchButton.prototype.getBtnData = function () {\n        return this.btnData;\n    };\n    NinePatchButton.prototype.setText = function (text) {\n        this.mLabel.setText(text);\n    };\n    NinePatchButton.prototype.getText = function () {\n        return this.mLabel.text;\n    };\n    NinePatchButton.prototype.setTextStyle = function (style) {\n        this.mLabel.setStyle(style);\n    };\n    NinePatchButton.prototype.setFontStyle = function (val) {\n        this.mLabel.setFontStyle(val);\n    };\n    NinePatchButton.prototype.setTextOffset = function (x, y) {\n        this.mLabel.setPosition(x, y);\n    };\n    NinePatchButton.prototype.setFrame = function (frame) {\n        this.mNingBg.setFrame(frame);\n        return this;\n    };\n    NinePatchButton.prototype.destroy = function (fromScene) {\n        if (this.mLabel)\n            this.mLabel.destroy();\n        _super.prototype.destroy.call(this, fromScene);\n    };\n    NinePatchButton.prototype.setFrameNormal = function (normal, down, over) {\n        this.mFrame_nrmal = normal;\n        this.mFrame_down = (down ? down : normal);\n        this.mFrame_over = (over ? over : normal);\n        this.changeNormal();\n        return this;\n    };\n    // public setState(val: string) {\n    // }\n    NinePatchButton.prototype.changeNormal = function () {\n        this.setFrame(this.mFrame_nrmal);\n    };\n    NinePatchButton.prototype.changeDown = function () {\n        // this.scale = 0.9;\n        this.setFrame(this.mFrame_down);\n    };\n    NinePatchButton.prototype.changeOver = function () {\n        // this.setTexture()\n        this.setFrame(this.mFrame_over);\n    };\n    NinePatchButton.prototype.isExists = function (frame) {\n        var originTexture = this.scene.textures.get(this.mKey);\n        if (originTexture && originTexture.has(frame))\n            return true;\n        return false;\n    };\n    NinePatchButton.prototype.onPointerDown = function (pointer) {\n        this.changeDown();\n    };\n    NinePatchButton.prototype.onPointerUp = function (pointer) {\n        this.changeNormal();\n        this.emit(\"click\", pointer, this);\n    };\n    Object.defineProperty(NinePatchButton.prototype, \"label\", {\n        get: function () {\n            return this.mLabel;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    NinePatchButton.prototype.scaleHandler = function () {\n        this.mScene.tweens.add({\n            targets: this,\n            duration: 50,\n            ease: \"Linear\",\n            props: {\n                scaleX: { value: .5 },\n                scaleY: { value: .5 },\n            },\n            yoyo: true,\n            repeat: 0,\n        });\n        this.scaleX = this.scaleY = 1;\n    };\n    NinePatchButton.prototype.initFrame = function () {\n        var frame = this.mFrame ? this.mFrame : this.mKey;\n        this.mFrame_nrmal = frame + \"_normal\";\n        var down = frame + \"_down\";\n        if (!this.isExists(down)) {\n            down = frame + \"_normal\";\n        }\n        this.mFrame_down = down;\n        var over = frame + \"_over\";\n        if (!this.isExists(over)) {\n            over = frame + \"_normal\";\n        }\n        this.mFrame_over = over;\n    };\n    return NinePatchButton;\n}(Phaser.GameObjects.Container));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/components/ninepatch.button.ts?");

/***/ }),

/***/ "./src/ui/components/patches.config.ts":
/*!*********************************************!*\
  !*** ./src/ui/components/patches.config.ts ***!
  \*********************************************/
/*! exports provided: normalizePatchesConfig */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"normalizePatchesConfig\", function() { return normalizePatchesConfig; });\nvar normalizePatchesConfig = function (config) {\n    config.bottom = (config.bottom !== undefined) ? config.bottom : config.top;\n    config.left = (config.left !== undefined) ? config.left : config.top;\n    config.right = (config.right !== undefined) ? config.right : config.left;\n    return config;\n};\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/components/patches.config.ts?");

/***/ }),

/***/ "./src/ui/components/radio.ts":
/*!************************************!*\
  !*** ./src/ui/components/radio.ts ***!
  \************************************/
/*! exports provided: Radio, RadioItemRender */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Radio\", function() { return Radio; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RadioItemRender\", function() { return RadioItemRender; });\n/* harmony import */ var _nine_patch__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./nine.patch */ \"./src/ui/components/nine.patch.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _lib_rexui_lib_plugins_gameobjects_text_bbcodetext_BBCodeText_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/rexui/lib/plugins/gameobjects/text/bbcodetext/BBCodeText.js */ \"./lib/rexui/lib/plugins/gameobjects/text/bbcodetext/BBCodeText.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar Radio = /** @class */ (function (_super) {\n    __extends(Radio, _super);\n    // private mArrow: Phaser.GameObjects.Image;\n    function Radio(scene, config) {\n        var _this = _super.call(this, scene) || this;\n        _this.mIsShow = false;\n        _this.mInit = false;\n        _this.mScene = scene;\n        _this.mConfig = config;\n        _this.init();\n        return _this;\n    }\n    Radio.prototype.setRadioData = function (value) {\n        this.clearRadioData();\n        this.itemList = [];\n        var len = value.length;\n        for (var i = 0; i < len; i++) {\n            var item = new RadioItemRender(this.mScene, this, this.mConfig.wid + 10, 20, this.mConfig.resKey, this.mConfig.resArrow);\n            var renderData = value[i];\n            item.itemData = {\n                index: i,\n                text: renderData.text,\n                data: renderData.node.id,\n                selected: false,\n                enabled: true,\n            };\n            item.x = this.mConfig.wid / 2 + 25;\n            item.y = i * 33 + 23;\n            this.add(item);\n            this.itemList.push(item);\n        }\n        // 0\n        //  this.selectCall(this.itemList[0].itemData);\n    };\n    Radio.prototype.clearRadioData = function () {\n        if (this.itemList) {\n            var itemLen = this.itemList.length;\n            for (var i = 0; i < itemLen; i++) {\n                var item = this.itemList[i];\n                if (!item)\n                    continue;\n                item.destroy();\n                item = null;\n            }\n            this.itemList.length = 0;\n        }\n    };\n    Object.defineProperty(Radio.prototype, \"isShow\", {\n        get: function () {\n            return this.mIsShow;\n        },\n        set: function (value) {\n            this.mIsShow = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Radio.prototype.selectCall = function (itemData) {\n        if (this.mConfig.clickCallBack) {\n            this.mConfig.clickCallBack.call(this, itemData);\n        }\n    };\n    Radio.prototype.destroy = function () {\n        if (this.itemList) {\n            var len = this.itemList.length;\n            for (var i = 0; i < len; i++) {\n                var item = this.itemList[i];\n                if (!item)\n                    continue;\n                item.destroy();\n            }\n            this.itemList.length = 0;\n            this.itemList = null;\n        }\n        this.removeAll();\n        this.removeAllListeners();\n        if (this.parentContainer) {\n            this.parentContainer.remove(this);\n        }\n        _super.prototype.destroy.call(this, true);\n    };\n    Radio.prototype.init = function () {\n        var resKey = this.mConfig.resKey;\n        var resPng = this.mConfig.resPng;\n        var resJson = this.mConfig.resJson;\n        if (!this.mScene.cache.obj.has(resKey)) {\n            this.mScene.load.atlas(resKey, resPng, resJson);\n            this.mScene.load.once(Phaser.Loader.Events.COMPLETE, this.onLoadCompleteHandler, this);\n            this.mScene.load.start();\n        }\n        else {\n            this.onLoadCompleteHandler();\n        }\n    };\n    Radio.prototype.onLoadCompleteHandler = function () {\n        this.mInit = true;\n        var resKey = this.mConfig.resKey;\n        this.mBg = new _nine_patch__WEBPACK_IMPORTED_MODULE_0__[\"NinePatch\"](this.scene, 0, 0, this.mConfig.wid + 20, this.mConfig.hei, _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Background\"].getName(), null, _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Background\"].getConfig());\n        this.mBg.setTexture(resKey, this.mConfig.resBg);\n        this.mBg.x = this.mConfig.wid / 2 - 2;\n        this.mBg.y = this.mConfig.hei / 2;\n        this.addAt(this.mBg, 0);\n        this.setSize(this.mConfig.wid, this.mConfig.hei);\n        if (this.mConfig.completeBack) {\n            this.mConfig.completeBack();\n        }\n    };\n    return Radio;\n}(Phaser.GameObjects.Container));\n\nvar RadioItemRender = /** @class */ (function (_super) {\n    __extends(RadioItemRender, _super);\n    function RadioItemRender(scene, selectCallUI, wid, hei, resKey, arrowRes) {\n        var _this = _super.call(this, scene) || this;\n        _this.mSelectCallUI = selectCallUI;\n        _this.mText = new _lib_rexui_lib_plugins_gameobjects_text_bbcodetext_BBCodeText_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](scene, 0, 0, \"\", {\n            fontSize: \"20px\",\n            wrap: {\n                mode: \"char\",\n                width: wid\n            },\n        });\n        // this.mText = this.scene.make.text({\n        //     x: -wid >> 1, y: -hei >> 1,\n        //     style: { font: \"bold 20px YaHei\", fill: \"#F7EDED\" }\n        // }, false);\n        // this.mText.style.align = \"left\";\n        var COLOR = 0xffcc00;\n        _this.mSelectBG = scene.make.graphics(undefined, false);\n        _this.mSelectBG.fillStyle(COLOR, .8);\n        _this.mSelectBG.fillRect(-wid >> 1, -hei >> 1, wid - 36, hei);\n        _this.mSelectBG.visible = false;\n        _this.setSize(wid, hei);\n        _this.setInteractive(new Phaser.Geom.Rectangle(0, 0, wid, hei), Phaser.Geom.Rectangle.Contains);\n        _this.addListen();\n        _this.mArrow = scene.make.image(undefined, false);\n        _this.mArrow.setTexture(resKey, arrowRes);\n        _this.mArrow.x = -wid / 2 - 10;\n        _this.mArrow.y = 0;\n        _this.mArrow.visible = false;\n        _this.add([_this.mSelectBG, _this.mText, _this.mArrow]);\n        return _this;\n    }\n    RadioItemRender.prototype.addListen = function () {\n        this.on(\"pointerover\", this.overHandler, this);\n        this.on(\"pointerout\", this.outHandler, this);\n        this.on(\"pointerdown\", this.selectHandler, this);\n    };\n    RadioItemRender.prototype.removeListen = function () {\n        this.off(\"pointerover\", this.overHandler, this);\n        this.off(\"pointerout\", this.outHandler, this);\n        this.off(\"pointerdown\", this.selectHandler, this);\n    };\n    Object.defineProperty(RadioItemRender.prototype, \"itemData\", {\n        get: function () {\n            return this.mData;\n        },\n        set: function (val) {\n            this.mData = val;\n            this.mText.text = this.mData.text;\n            this.mText.x = -this.width >> 1;\n            this.mText.y = -this.height / 2 + (this.height - this.mText.height >> 1);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    RadioItemRender.prototype.destroy = function () {\n        this.removeListen();\n        this.mText.destroy(true);\n        this.mSelectBG.destroy(true);\n        this.mArrow.destroy(true);\n        this.mText = null;\n        this.mData = null;\n        this.mSelectCallUI = null;\n        this.mArrow = null;\n        _super.prototype.destroy.call(this, true);\n    };\n    RadioItemRender.prototype.setSelected = function (val) {\n        this.mSelectBG.visible = val;\n        this.mArrow.visible = val;\n        if (this.mSelectCallUI)\n            this.mSelectCallUI.selectCall(this.itemData);\n    };\n    RadioItemRender.prototype.overHandler = function () {\n        this.mSelectBG.visible = true;\n        this.mArrow.visible = true;\n    };\n    RadioItemRender.prototype.outHandler = function () {\n        this.mSelectBG.visible = false;\n        this.mArrow.visible = false;\n    };\n    RadioItemRender.prototype.selectHandler = function () {\n        this.overHandler();\n        this.mSelectCallUI.selectCall(this.itemData);\n    };\n    return RadioItemRender;\n}(Phaser.GameObjects.Container));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/components/radio.ts?");

/***/ }),

/***/ "./src/ui/components/tab.button.ts":
/*!*****************************************!*\
  !*** ./src/ui/components/tab.button.ts ***!
  \*****************************************/
/*! exports provided: TabButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TabButton\", function() { return TabButton; });\n/* harmony import */ var _ninepatch_button__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ninepatch.button */ \"./src/ui/components/ninepatch.button.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar TabButton = /** @class */ (function (_super) {\n    __extends(TabButton, _super);\n    function TabButton(scene, x, y, width, height, key, frame, text, config, data) {\n        var _this = _super.call(this, scene, x, y, width, height, key, frame, text, config, data) || this;\n        _this.setInteractive(new Phaser.Geom.Rectangle(0, 0, width, height), Phaser.Geom.Rectangle.Contains);\n        return _this;\n    }\n    TabButton.prototype.onPointerUp = function () { };\n    return TabButton;\n}(_ninepatch_button__WEBPACK_IMPORTED_MODULE_0__[\"NinePatchButton\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/components/tab.button.ts?");

/***/ }),

/***/ "./src/ui/decorate/decorate.manager.ts":
/*!*********************************************!*\
  !*** ./src/ui/decorate/decorate.manager.ts ***!
  \*********************************************/
/*! exports provided: DecorateManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DecorateManager\", function() { return DecorateManager; });\n/* harmony import */ var _decorate_panel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./decorate.panel */ \"./src/ui/decorate/decorate.panel.ts\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar DecorateManager = /** @class */ (function (_super) {\n    __extends(DecorateManager, _super);\n    function DecorateManager(scene, roomService) {\n        var _this = _super.call(this) || this;\n        _this.mPanel = new _decorate_panel__WEBPACK_IMPORTED_MODULE_0__[\"DecoratePanel\"](scene, roomService);\n        _this.mPanel.on(\"moveElement\", _this.onMoveElementHandler, _this);\n        _this.mPanel.on(\"addSprite\", _this.onAddSpriteHandler, _this);\n        _this.mPanel.on(\"addSingleSprite\", _this.onAddSingleSprtieHandle, _this);\n        _this.mRoomService = roomService;\n        _this.mLayerManager = roomService.layerManager;\n        return _this;\n    }\n    DecorateManager.prototype.setElement = function (ele) {\n        this.mPanel.setElement(ele);\n        this.mLayerManager.addToSceneToUI(this.mPanel);\n        this.mPanel.show();\n    };\n    DecorateManager.prototype.canPut = function (val) {\n        if (this.mPanel) {\n            this.mPanel.canPUt(val);\n        }\n    };\n    DecorateManager.prototype.remove = function () {\n        // TODO paneldestroy\n        if (this.mPanel.parentContainer) {\n            this.mPanel.parentContainer.remove(this.mPanel);\n        }\n        this.mPanel.removeListen();\n    };\n    DecorateManager.prototype.updatePos = function (x, y) {\n        if (!this.mPanel) {\n            return;\n        }\n        this.mPanel.setPos(x, y);\n    };\n    DecorateManager.prototype.destroy = function () {\n        if (this.mPanel) {\n            this.mPanel.destroy();\n        }\n        _super.prototype.destroy.call(this);\n    };\n    DecorateManager.prototype.onMoveElementHandler = function (pos) {\n        this.emit(\"moveElement\", pos);\n    };\n    DecorateManager.prototype.onAddSpriteHandler = function (sprite, points) {\n        this.sendAddSpriteByType(sprite, points);\n    };\n    DecorateManager.prototype.onAddSingleSprtieHandle = function (sprite, points) {\n        this.sendAddSingleSprite(sprite, points);\n    };\n    DecorateManager.prototype.sendAddSpriteByType = function (sprite, points) {\n        if (!sprite || !points || points.length < 1) {\n            return;\n        }\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_1__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_EDIT_MODE_ADD_SPRITE_BY_TYPE);\n        var content = packet.content;\n        var pos = [];\n        for (var _i = 0, points_1 = points; _i < points_1.length; _i++) {\n            var point = points_1[_i];\n            var p = pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].PBPoint3f.create();\n            p.x = point.x;\n            p.y = point.y;\n            pos.push(p);\n        }\n        content.nodeType = pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].NodeType.ElementNodeType;\n        content.sprite = sprite.toSprite();\n        content.points = pos;\n        this.mRoomService.connection.send(packet);\n    };\n    DecorateManager.prototype.sendAddSingleSprite = function (sprite, points) {\n        if (!sprite || !points || points.length < 1) {\n            return;\n        }\n        var packet = new net_socket_packet__WEBPACK_IMPORTED_MODULE_1__[\"PBpacket\"](pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_virtual_world\"].OPCODE._OP_CLIENT_REQ_VIRTUAL_WORLD_EDIT_MODE_ADD_SINGLE_SPRITE_BY_TYPE);\n        var content = packet.content;\n        var pos = [];\n        for (var _i = 0, points_2 = points; _i < points_2.length; _i++) {\n            var point = points_2[_i];\n            var p = pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].PBPoint3f.create();\n            p.x = point.x;\n            p.y = point.y;\n            pos.push(p);\n        }\n        content.nodeType = pixelpai_proto__WEBPACK_IMPORTED_MODULE_2__[\"op_def\"].NodeType.ElementNodeType;\n        content.sprite = sprite.toSprite();\n        content.points = pos;\n        this.mRoomService.connection.send(packet);\n    };\n    return DecorateManager;\n}(Phaser.Events.EventEmitter));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/decorate/decorate.manager.ts?");

/***/ }),

/***/ "./src/ui/decorate/decorate.panel.ts":
/*!*******************************************!*\
  !*** ./src/ui/decorate/decorate.panel.ts ***!
  \*******************************************/
/*! exports provided: DecoratePanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DecoratePanel\", function() { return DecoratePanel; });\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _utils_pos__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/pos */ \"./src/utils/pos.ts\");\n/* harmony import */ var _utils_position45__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/position45 */ \"./src/utils/position45.ts\");\n/* harmony import */ var _const_MessageType__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../const/MessageType */ \"./src/const/MessageType.ts\");\n/* harmony import */ var _rooms_element_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../rooms/element/element */ \"./src/rooms/element/element.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_button_Button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/button/Button */ \"./lib/rexui/lib/ui/button/Button.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\nvar DecoratePanel = /** @class */ (function (_super) {\n    __extends(DecoratePanel, _super);\n    function DecoratePanel(scene, mRoomService) {\n        var _this = _super.call(this, scene, mRoomService.world) || this;\n        _this.mRoomService = mRoomService;\n        _this.resKey = \"decorate\";\n        _this.minGrid = 2;\n        _this.maxGrid = 10;\n        _this.key = \"decorate_edit_menu\";\n        _this.offset = new _utils_pos__WEBPACK_IMPORTED_MODULE_1__[\"Pos\"]();\n        _this.mScaleRatio = 1;\n        _this.setTween(false);\n        if (_this.mWorld)\n            _this.mScaleRatio = _this.mWorld.scaleRatio;\n        return _this;\n    }\n    DecoratePanel.prototype.show = function (param) {\n        this.mShowData = param;\n        if (!this.mInitialized) {\n            this.preload();\n            return;\n        }\n        if (this.mShow)\n            return;\n        if (this.soundGroup && this.soundGroup.open)\n            this.playSound(this.soundGroup.open);\n        if (!this.mTweening && this.mTweenBoo) {\n            this.showTween(true);\n        }\n        else {\n            this.mShow = true;\n        }\n    };\n    DecoratePanel.prototype.addListen = function () {\n        if (this.mCancelBtn)\n            this.mCancelBtn.on(\"pointerup\", this.onCancelHandler, this);\n        if (this.mOkBtn)\n            this.mOkBtn.on(\"pointerup\", this.onAddHandler, this);\n        if (this.mRecycleBtn)\n            this.mRecycleBtn.on(\"pointerup\", this.onRecycleHandler, this);\n        if (this.mTurnBtn)\n            this.mTurnBtn.on(\"pointerup\", this.onTurnHandler, this);\n        if (this.mMoveBtn)\n            this.mMoveBtn.on(\"pointerup\", this.onShowMoveMenuHandler, this);\n        if (this.mRepeatBtn)\n            this.mRepeatBtn.on(\"pointerup\", this.onShowRepeatHandler, this);\n        if (this.mExtendBtn)\n            this.mExtendBtn.on(\"pointerup\", this.onShowExtendsHandler, this);\n        if (this.mMoveMenuContainer) {\n            this.mMoveMenuContainer.register();\n            this.mMoveMenuContainer.on(\"tap\", this.onMoveHandler, this);\n        }\n        if (this.mRepeatMenuContainer) {\n            this.mRepeatMenuContainer.register();\n            this.mRepeatMenuContainer.on(\"tap\", this.onRepeatHandler, this);\n            this.mRepeatMenuContainer.on(\"hold\", this.onHoldRepeatHandler, this);\n        }\n    };\n    DecoratePanel.prototype.removeListen = function () {\n        if (this.mCancelBtn)\n            this.mCancelBtn.off(\"pointerup\", this.onCancelHandler, this);\n        if (this.mOkBtn)\n            this.mOkBtn.off(\"pointerup\", this.onAddHandler, this);\n        if (this.mRecycleBtn)\n            this.mRecycleBtn.off(\"pointerup\", this.onRecycleHandler, this);\n        if (this.mTurnBtn)\n            this.mTurnBtn.off(\"pointerup\", this.onTurnHandler, this);\n        if (this.mMoveBtn)\n            this.mMoveBtn.off(\"pointerup\", this.onShowMoveMenuHandler, this);\n        if (this.mRepeatBtn)\n            this.mRepeatBtn.off(\"pointerup\", this.onShowRepeatHandler, this);\n        if (this.mExtendBtn)\n            this.mExtendBtn.off(\"pointerup\", this.onShowExtendsHandler, this);\n        if (this.mMoveMenuContainer) {\n            this.mMoveMenuContainer.unRegister();\n            this.mMoveMenuContainer.off(\"tap\", this.onMoveHandler, this);\n        }\n        if (this.mRepeatMenuContainer) {\n            this.mRepeatMenuContainer.unRegister();\n            this.mRepeatMenuContainer.off(\"tap\", this.onRepeatHandler, this);\n            this.mRepeatMenuContainer.off(\"hold\", this.onHoldRepeatHandler, this);\n        }\n    };\n    DecoratePanel.prototype.setElement = function (ele) {\n        this.mDisplayObject = ele;\n        this.mSprite = ele.model;\n        if (!this.mInitialized) {\n            return;\n        }\n        var pos = this.mDisplayObject.getPosition();\n        this.x = pos.x;\n        this.y = pos.y;\n        this.updateArrowPos(ele);\n        this.addListen();\n    };\n    DecoratePanel.prototype.canPUt = function (val) {\n        if (val !== this.mCanPut) {\n            this.mCanPut = val;\n            if (!this.mOkBtn) {\n                return;\n            }\n            if (val) {\n                this.mOkBtn.clearTint();\n            }\n            else {\n                this.mOkBtn.setTint(0x666666);\n            }\n        }\n    };\n    DecoratePanel.prototype.setPos = function (x, y, z) {\n        this.x = x * this.mScaleRatio;\n        this.y = (y + this.offset.y) * this.mScaleRatio;\n        this.z = z || 0;\n        return this;\n    };\n    DecoratePanel.prototype.preload = function () {\n        // this.scene.load.image(Border.getName(), Border.getPNG());\n        // this.scene.load.image(\"arrow\", Url.getRes(\"ui/common/common_arrow.png\"));\n        // this.scene.load.atlas(this.resKey, Url.getRes(\"ui/decorate/decorate_atlas.png\"), Url.getRes(\"ui/decorate/decorate_atlas.json\"));\n        this.addAtlas(this.key, \"decorate_edit_menu/decorate_edit_menu.png\", \"decorate_edit_menu/decorate_edit_menu.json\");\n        _super.prototype.preload.call(this);\n    };\n    DecoratePanel.prototype.init = function () {\n        var w = this.scene.cameras.main.width / this.scale;\n        var h = this.scene.cameras.main.height / this.scale;\n        this.mMainMenus = [];\n        this.mMenuContainer = this.scene.make.container({\n            x: w >> 1,\n        }, false);\n        this.mSubMenus = this.scene.make.container({\n            x: w >> 1,\n            y: 60 * this.dpr\n        }, false);\n        this.mOkBtn = this.scene.make.image({\n            key: this.key,\n            frame: \"ok_btn.png\"\n        }, false).setInteractive().setOrigin(0);\n        this.mRecycleBtn = this.scene.make.image({\n            key: this.key,\n            frame: \"recycly_btn.png\"\n        }, false).setInteractive().setOrigin(0);\n        this.mTurnBtn = this.scene.make.image({\n            key: this.key,\n            frame: \"turn_btn.png\"\n        }, false).setInteractive().setOrigin(0);\n        this.mCancelBtn = this.scene.make.image({\n            key: this.key,\n            frame: \"cancel_btn.png\"\n        }, false).setInteractive().setOrigin(0);\n        // this.add([this.mControllContainer, this.mArrow1, this.mArrow7, this.mArrow3, this.mArrow5]);\n        this.mHorizontalBtn = this.scene.make.image({\n            key: this.key,\n            frame: \"horizontal_btn.png\"\n        }, false).setInteractive().setOrigin(0);\n        this.mMoveBtn = this.scene.make.image({\n            key: this.key,\n            frame: \"move_btn.png\"\n        }, false).setInteractive().setOrigin(0);\n        this.mRepeatBtn = this.scene.make.image({\n            key: this.key,\n            frame: \"repeat_btn.png\"\n        }, false).setInteractive().setOrigin(0);\n        this.mExtendBtn = this.scene.make.image({\n            key: this.key,\n            frame: \"extend_btn.png\"\n        }, false).setInteractive().setOrigin(0);\n        this.mMoveMenuContainer = new MoveMenu(this.scene, this.key, this.dpr, this.scale);\n        this.mMoveMenuContainer.y = this.mSubMenus.y + 60 * this.dpr + this.mMoveMenuContainer.height / 2;\n        this.mRepeatMenuContainer = new MoveMenu(this.scene, this.key, this.dpr, this.scale);\n        this.mRepeatMenuContainer.y = this.mMoveMenuContainer.y;\n        var zoom = this.scale;\n        // this.add(this.mMenuGroup);\n        // this.mMenuGroup.addMultiple([this.mOkBtn, this.mTurnBtn, this.mRecycleBtn, this.mCancelBtn])\n        // this.mMainMenus = ;\n        // this.mSubMenus = ;\n        this.add([this.mMenuContainer, this.mSubMenus]);\n        this.mMenuContainer.add([this.mOkBtn, this.mTurnBtn, this.mRecycleBtn, this.mCancelBtn]);\n        this.mSubMenus.add([this.mHorizontalBtn, this.mMoveBtn, this.mRepeatBtn, this.mExtendBtn]);\n        // this.add(this.mSubMenus);\n        var mainMenuW = w - 55 * this.dpr * this.mWorld.uiScale * 2;\n        this.mMenuContainer.x = -mainMenuW >> 1;\n        var list = this.mMenuContainer.list;\n        list.map(function (btn) { return mainMenuW -= btn.width; });\n        var margin = mainMenuW / (list.length - 1) / zoom;\n        for (var i = 1; i < list.length; i++) {\n            var preButton = list[i - 1];\n            var button = list[i];\n            button.x = preButton.width + preButton.x + margin;\n        }\n        mainMenuW = w - 70 * this.dpr * this.mWorld.uiScale * 2;\n        this.mSubMenus.x = -mainMenuW >> 1;\n        var subList = this.mSubMenus.list;\n        subList.map(function (btn) { return mainMenuW -= btn.width; });\n        margin = mainMenuW / (subList.length - 1) / zoom;\n        for (var i = 1; i < subList.length; i++) {\n            var preButton = subList[i - 1];\n            var button = subList[i];\n            button.x = preButton.width + preButton.x + margin;\n        }\n        this.mMoveMenuContainer.x = this.mSubMenus.x + this.mMoveBtn.x + this.mMoveBtn.width / 2 + 29 * this.dpr;\n        this.mRepeatMenuContainer.x = this.mSubMenus.x + this.mRepeatBtn.x + this.mRepeatBtn.width / 2 + 29 * this.dpr;\n        if (this.mCanPut) {\n            this.mOkBtn.clearTint();\n        }\n        else {\n            this.mOkBtn.setTint(0x666666);\n        }\n        // this.mControllContainer.add([border, this.mTurnBtn, this.mRecycleBtn, this.mConfirmBtn]);\n        _super.prototype.init.call(this);\n        this.setElement(this.mDisplayObject);\n    };\n    // protected register() {\n    //     if (!this.mInitialized) {\n    //         return;\n    //     }\n    //     this.mCancelBtn.on(\"pointerup\", this.onCancelHandler, this);\n    //     this.mOkBtn.on(\"pointerup\", this.onAddHandler, this);\n    //     this.mRecycleBtn.on(\"pointerup\", this.onRecycleHandler, this);\n    //     this.mTurnBtn.on(\"pointerup\", this.onTurnHandler, this);\n    //     this.mMoveBtn.on(\"pointerup\", this.onShowMoveMenuHandler, this);\n    //     this.mRepeatBtn.on(\"pointerup\", this.onShowRepeatHandler, this);\n    //     this.mExtendBtn.on(\"pointerup\", this.onShowExtendsHandler, this);\n    //     this.mMoveMenuContainer.register();\n    //     this.mMoveMenuContainer.on(\"move\", this.onMoveHandler, this);\n    //     this.mRepeatMenuContainer.register();\n    //     this.mRepeatMenuContainer.on(\"move\", this.onRepeatHandler, this);\n    //     this.mRepeatMenuContainer.on(\"hold\", this.onHoldRepeatHandler, this);\n    //     // this.mTurnBtn.on(\"pointerup\", this.onTurnHandler, this);\n    //     // this.mRecycleBtn.on(\"pointerup\", this.onRecycleHandler, this);\n    //     // this.mOkBtn.on(\"pointerup\", this.onPutHandler, this);\n    // }\n    // protected unregister() {\n    //     if (!this.mInitialized) {\n    //         return;\n    //     }\n    //     this.mCancelBtn.off(\"pointerup\", this.onCancelHandler, this);\n    //     this.mOkBtn.off(\"pointerup\", this.onAddHandler, this);\n    //     this.mRecycleBtn.off(\"pointerup\", this.onRecycleHandler, this);\n    //     this.mTurnBtn.off(\"pointerup\", this.onTurnHandler, this);\n    //     this.mMoveBtn.off(\"pointerup\", this.onShowMoveMenuHandler, this);\n    //     this.mRepeatBtn.off(\"pointerup\", this.onShowRepeatHandler, this);\n    //     this.mExtendBtn.off(\"pointerup\", this.onShowExtendsHandler, this);\n    //     this.mMoveMenuContainer.off(\"move\", this.onMoveHandler, this);\n    //     this.mMoveMenuContainer.unRegister();\n    //     this.mRepeatMenuContainer.off(\"move\", this.onRepeatHandler, this);\n    //     this.mRepeatMenuContainer.off(\"hold\", this.onHoldRepeatHandler, this);\n    //     this.mRepeatMenuContainer.unRegister();\n    //     // this.mTurnBtn.off(\"pointerup\", this.onTurnHandler, this);\n    //     // this.mRecycleBtn.off(\"pointerup\", this.onRecycleHandler, this);\n    //     // this.mOkBtn.off(\"pointerup\", this.onPutHandler, this);\n    // }\n    DecoratePanel.prototype.onLeftUpHandler = function () {\n        if (!this.mDisplayObject) {\n            return;\n        }\n        var pos45 = this.mRoomService.transformToMini45(this.mDisplayObject.getPosition());\n        pos45.x -= 1;\n        this.onMoveElement(pos45);\n    };\n    DecoratePanel.prototype.onLeftDownHandler = function () {\n        var pos45 = this.mRoomService.transformToMini45(this.mDisplayObject.getPosition());\n        pos45.y += 1;\n        this.onMoveElement(pos45);\n    };\n    DecoratePanel.prototype.onRightUpHandler = function () {\n        var pos45 = this.mRoomService.transformToMini45(this.mDisplayObject.getPosition());\n        pos45.y -= 1;\n        this.onMoveElement(pos45);\n    };\n    DecoratePanel.prototype.onRightDownHandler = function () {\n        var pos45 = this.mRoomService.transformToMini45(this.mDisplayObject.getPosition());\n        pos45.x = pos45.x + 1;\n        this.onMoveElement(pos45);\n    };\n    DecoratePanel.prototype.getNorthWestPoints = function (count) {\n        if (count === void 0) { count = 10; }\n        var area = this.mSprite.currentCollisionArea;\n        var origin = this.mSprite.currentCollisionPoint;\n        var posList = [];\n        var pos45 = this.mRoomService.transformToMini45(this.mSprite.pos);\n        for (var i = 0; i < count; i++) {\n            posList[i] = this.mRoomService.transformToMini90(pos45);\n            pos45.x -= area[0].length;\n        }\n        return this.checkNextPos(posList, area, origin);\n    };\n    DecoratePanel.prototype.getWestSouthPoints = function (count) {\n        if (count === void 0) { count = 10; }\n        var area = this.mSprite.currentCollisionArea;\n        var origin = this.mSprite.currentCollisionPoint;\n        var posList = [];\n        var pos45 = this.mRoomService.transformToMini45(this.mSprite.pos);\n        for (var i = 0; i < count; i++) {\n            posList[i] = this.mRoomService.transformToMini90(pos45);\n            pos45.y += area.length;\n        }\n        return this.checkNextPos(posList, area, origin);\n    };\n    DecoratePanel.prototype.getSouthEastPoints = function (count) {\n        if (count === void 0) { count = 10; }\n        var area = this.mSprite.currentCollisionArea;\n        var origin = this.mSprite.currentCollisionPoint;\n        var posList = [];\n        var pos45 = this.mRoomService.transformToMini45(this.mSprite.pos);\n        for (var i = 0; i < count; i++) {\n            posList[i] = this.mRoomService.transformToMini90(pos45);\n            pos45.x += area[0].length;\n        }\n        return this.checkNextPos(posList, area, origin);\n    };\n    DecoratePanel.prototype.getEastNorthPoints = function (count) {\n        if (count === void 0) { count = 10; }\n        var area = this.mSprite.currentCollisionArea;\n        var origin = this.mSprite.currentCollisionPoint;\n        var posList = [];\n        var pos45 = this.mRoomService.transformToMini45(this.mSprite.pos);\n        for (var i = 0; i < count; i++) {\n            posList[i] = this.mRoomService.transformToMini90(pos45);\n            pos45.y -= area.length;\n        }\n        return this.checkNextPos(posList, area, origin);\n    };\n    DecoratePanel.prototype.checkNextPos = function (pos45, collisionArea, origin) {\n        var result = [];\n        for (var _i = 0, pos45_1 = pos45; _i < pos45_1.length; _i++) {\n            var pos = pos45_1[_i];\n            var nextPos = this.getNextRepeatPos(pos, collisionArea, origin);\n            if (nextPos) {\n                result.push(nextPos);\n            }\n            else {\n                break;\n            }\n        }\n        return result;\n    };\n    DecoratePanel.prototype.getNextRepeatPos = function (pos, collisionArea, origin) {\n        if (this.mRoomService.canPut(pos, collisionArea, origin)) {\n            return pos;\n        }\n    };\n    DecoratePanel.prototype.onMoveElement = function (pos45) {\n        if (!this.mDisplayObject) {\n            return;\n        }\n        var position = this.mRoomService.transformToMini90(pos45);\n        this.emit(\"moveElement\", position);\n    };\n    DecoratePanel.prototype.createImage = function (key, frame, x, y) {\n        return this.scene.make.image({ key: key, frame: frame, x: x, y: y }, false).setInteractive().setOrigin(0);\n    };\n    DecoratePanel.prototype.validateGrid = function (val) {\n        if (val > this.maxGrid) {\n            val = this.maxGrid;\n        }\n        if (val < this.minGrid) {\n            val = this.minGrid;\n        }\n        return val;\n    };\n    DecoratePanel.prototype.updateArrowPos = function (ele) {\n        var _a;\n        if (!ele || !ele.model || !ele.getDisplay()) {\n            return;\n        }\n        // return;\n        var display = ele.getDisplay();\n        var rows = ele.model.currentCollisionArea.length;\n        var cols = ele.model.currentCollisionArea[0].length;\n        rows = this.validateGrid(rows);\n        cols = this.validateGrid(cols);\n        if (ele.getDisplay().scaleX === -1) {\n            _a = [cols, rows], rows = _a[0], cols = _a[1];\n        }\n        var miniSize = this.mRoomService.roomSize;\n        var position = {\n            rows: rows,\n            cols: cols,\n            tileWidth: miniSize.tileWidth / 2,\n            tileHeight: miniSize.tileHeight / 2,\n        };\n        // const reference = ele.getElement(\"reference\");\n        // if (!reference) {\n        //     return;\n        // }\n        var sprite = ele.model;\n        var pos = _utils_position45__WEBPACK_IMPORTED_MODULE_2__[\"Position45\"].transformTo90(new _utils_pos__WEBPACK_IMPORTED_MODULE_1__[\"Pos\"](cols - sprite.currentCollisionPoint.y, rows - sprite.currentCollisionPoint.x), position);\n        this.offset.y = pos.y;\n        // let pos = Position45.transformTo90(new Pos(cols, (rows / 2)), position);\n        // if (this.mArrow5) {\n        //     this.mArrow5.x = pos.x + reference.x;\n        //     this.mArrow5.y = pos.y + reference.y;\n        // }\n        // pos = Position45.transformTo90(new Pos((cols / 2), rows), position);\n        // if (this.mArrow3) {\n        //     this.mArrow3.x = pos.x - this.mArrow3.width + reference.x;\n        //     this.mArrow3.y = pos.y + reference.y;\n        // }\n        // pos = Position45.transformTo90(new Pos(0, (rows / 2)), position);\n        // if (this.mArrow1) {\n        //     this.mArrow1.x = pos.x - this.mArrow1.width + reference.x;\n        //     this.mArrow1.y = pos.y - this.mArrow1.height + reference.y;\n        // }\n        // pos = Position45.transformTo90(new Pos((cols / 2), 0), position);\n        // if (this.mArrow7) {\n        //     this.mArrow7.x = pos.x + reference.x;\n        //     this.mArrow7.y = pos.y - this.mArrow7.height + reference.y;\n        // }\n    };\n    DecoratePanel.prototype.onTurnHandler = function () {\n        this.mWorld.emitter.emit(_const_MessageType__WEBPACK_IMPORTED_MODULE_3__[\"MessageType\"].TURN_ELEMENT, this.mDisplayObject);\n    };\n    DecoratePanel.prototype.onRecycleHandler = function () {\n        this.mWorld.emitter.emit(_const_MessageType__WEBPACK_IMPORTED_MODULE_3__[\"MessageType\"].RECYCLE_ELEMENT, this.mDisplayObject);\n    };\n    DecoratePanel.prototype.onCancelHandler = function () {\n        this.mWorld.emitter.emit(_const_MessageType__WEBPACK_IMPORTED_MODULE_3__[\"MessageType\"].CANCEL_PUT, this.mDisplayObject);\n    };\n    DecoratePanel.prototype.onAddHandler = function () {\n        if (this.mCanPut) {\n            this.mWorld.emitter.emit(_const_MessageType__WEBPACK_IMPORTED_MODULE_3__[\"MessageType\"].PUT_ELEMENT, this.mDisplayObject);\n        }\n    };\n    DecoratePanel.prototype.onMoveHandler = function (dir) {\n        if (typeof dir !== \"number\") {\n            return;\n        }\n        switch (dir) {\n            case _rooms_element_element__WEBPACK_IMPORTED_MODULE_4__[\"Direction\"].north_west:\n                this.onLeftUpHandler();\n                break;\n            case _rooms_element_element__WEBPACK_IMPORTED_MODULE_4__[\"Direction\"].west_south:\n                this.onLeftDownHandler();\n                break;\n            case _rooms_element_element__WEBPACK_IMPORTED_MODULE_4__[\"Direction\"].south_east:\n                this.onRightDownHandler();\n                break;\n            case _rooms_element_element__WEBPACK_IMPORTED_MODULE_4__[\"Direction\"].east_north:\n                this.onRightUpHandler();\n                break;\n        }\n    };\n    DecoratePanel.prototype.onPutHandler = function () {\n        this.mWorld.emitter.emit(_const_MessageType__WEBPACK_IMPORTED_MODULE_3__[\"MessageType\"].PUT_ELEMENT, this.mDisplayObject);\n    };\n    DecoratePanel.prototype.onRepeatHandler = function (dir) {\n        var result = null;\n        switch (dir) {\n            case _rooms_element_element__WEBPACK_IMPORTED_MODULE_4__[\"Direction\"].north_west:\n                result = this.getNorthWestPoints(2);\n                break;\n            case _rooms_element_element__WEBPACK_IMPORTED_MODULE_4__[\"Direction\"].west_south:\n                result = this.getWestSouthPoints(2);\n                break;\n            case _rooms_element_element__WEBPACK_IMPORTED_MODULE_4__[\"Direction\"].south_east:\n                result = this.getSouthEastPoints(2);\n                break;\n            case _rooms_element_element__WEBPACK_IMPORTED_MODULE_4__[\"Direction\"].east_north:\n                result = this.getEastNorthPoints(2);\n                break;\n        }\n        this.onSendAddSingleSprite(result);\n    };\n    DecoratePanel.prototype.onHoldRepeatHandler = function (dir) {\n        var result = null;\n        switch (dir) {\n            case _rooms_element_element__WEBPACK_IMPORTED_MODULE_4__[\"Direction\"].north_west:\n                result = this.getNorthWestPoints();\n                break;\n            case _rooms_element_element__WEBPACK_IMPORTED_MODULE_4__[\"Direction\"].west_south:\n                result = this.getWestSouthPoints();\n                break;\n            case _rooms_element_element__WEBPACK_IMPORTED_MODULE_4__[\"Direction\"].south_east:\n                result = this.getSouthEastPoints();\n                break;\n            case _rooms_element_element__WEBPACK_IMPORTED_MODULE_4__[\"Direction\"].east_north:\n                result = this.getEastNorthPoints();\n                break;\n        }\n        this.onSendAddSprites(result);\n    };\n    DecoratePanel.prototype.onShowMoveMenuHandler = function () {\n        this.add(this.mMoveMenuContainer);\n        this.remove(this.mRepeatMenuContainer);\n    };\n    DecoratePanel.prototype.onShowRepeatHandler = function () {\n        this.add(this.mRepeatMenuContainer);\n        this.remove(this.mMoveMenuContainer);\n    };\n    DecoratePanel.prototype.onShowExtendsHandler = function () {\n        // this.mRoomService.canPut()\n        // this.mDisplayObject.\n    };\n    DecoratePanel.prototype.onSendAddSprites = function (points) {\n        if (points.length > 1) {\n            this.emit(\"addSprite\", this.mSprite, points);\n        }\n    };\n    DecoratePanel.prototype.onSendAddSingleSprite = function (points) {\n        if (points.length > 1) {\n            this.emit(\"addSingleSprite\", this.mSprite, points);\n        }\n    };\n    return DecoratePanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\nvar MoveMenu = /** @class */ (function (_super) {\n    __extends(MoveMenu, _super);\n    function MoveMenu(scene, key, dpr, uiScale) {\n        if (dpr === void 0) { dpr = 1; }\n        if (uiScale === void 0) { uiScale = 1; }\n        var _this = _super.call(this, scene) || this;\n        var bg = scene.make.image({\n            key: key,\n            frame: \"bg.png\"\n        }, false);\n        _this.setSize(bg.displayWidth, bg.displayHeight);\n        // this.mArrow1 = scene.make.image({\n        //     key,\n        //     frame: \"arrow_1.png\"\n        // }, false).setInteractive().setData(\"dir\", 1);\n        // this.mArrow3 = scene.make.image({\n        //     key,\n        //     frame: \"arrow_3.png\"\n        // }, false).setInteractive().setData(\"dir\", 3);\n        // this.mArrow5 = scene.make.image({\n        //     key,\n        //     frame: \"arrow_5.png\"\n        // }, false).setInteractive().setData(\"dir\", 5);\n        // this.mArrow7 = scene.make.image({\n        //     key,\n        //     frame: \"arrow_7.png\"\n        // }, false).setInteractive().setData(\"dir\", 7);\n        _this.mArrow1 = new _lib_rexui_lib_ui_button_Button__WEBPACK_IMPORTED_MODULE_5__[\"Button\"](_this.scene, key, \"arrow_1.png\");\n        _this.mArrow1.setData(\"dir\", _rooms_element_element__WEBPACK_IMPORTED_MODULE_4__[\"Direction\"].north_west);\n        _this.mArrow3 = new _lib_rexui_lib_ui_button_Button__WEBPACK_IMPORTED_MODULE_5__[\"Button\"](_this.scene, key, \"arrow_3.png\");\n        _this.mArrow3.setData(\"dir\", _rooms_element_element__WEBPACK_IMPORTED_MODULE_4__[\"Direction\"].west_south);\n        _this.mArrow5 = new _lib_rexui_lib_ui_button_Button__WEBPACK_IMPORTED_MODULE_5__[\"Button\"](_this.scene, key, \"arrow_5.png\");\n        _this.mArrow5.setData(\"dir\", _rooms_element_element__WEBPACK_IMPORTED_MODULE_4__[\"Direction\"].south_east);\n        _this.mArrow7 = new _lib_rexui_lib_ui_button_Button__WEBPACK_IMPORTED_MODULE_5__[\"Button\"](_this.scene, key, \"arrow_7.png\");\n        _this.mArrow7.setData(\"dir\", _rooms_element_element__WEBPACK_IMPORTED_MODULE_4__[\"Direction\"].east_north);\n        _this.mBtns = [_this.mArrow1, _this.mArrow3, _this.mArrow5, _this.mArrow7];\n        _this.add(bg);\n        _this.add(_this.mBtns);\n        var w = _this.width;\n        var totalWidth = _this.width - 20 * dpr;\n        _this.mBtns.map(function (btn) { return totalWidth -= btn.displayWidth; });\n        var space = totalWidth = totalWidth / (_this.mBtns.length - 1);\n        var arrowH = (3 * dpr);\n        for (var i = 0; i < _this.mBtns.length; i++) {\n            if (i === 0) {\n                _this.mBtns[i].x = 10 * dpr + _this.mBtns[i].width / 2 - _this.width / 2;\n            }\n            else {\n                _this.mBtns[i].x = space + _this.mBtns[i - 1].x + _this.mBtns[i - 1].width;\n            }\n            _this.mBtns[i].y = arrowH;\n        }\n        _this.setInteractive();\n        return _this;\n    }\n    MoveMenu.prototype.register = function () {\n        // for (const btn of this.mBtns) {\n        //     btn.on(\"pointerup\", this.onArrowHandler, this);\n        // }\n        this.mArrow1.on(\"Hold\", this.onHoldHandler, this);\n        this.mArrow1.on(\"Tap\", this.onClickHandler, this);\n        this.mArrow3.on(\"Hold\", this.onHoldHandler, this);\n        this.mArrow3.on(\"Tap\", this.onClickHandler, this);\n        this.mArrow5.on(\"Hold\", this.onHoldHandler, this);\n        this.mArrow5.on(\"Tap\", this.onClickHandler, this);\n        this.mArrow7.on(\"Hold\", this.onHoldHandler, this);\n        this.mArrow7.on(\"Tap\", this.onClickHandler, this);\n    };\n    MoveMenu.prototype.unRegister = function () {\n        this.mArrow1.off(\"Hold\", this.onHoldHandler, this);\n        this.mArrow1.off(\"Tap\", this.onClickHandler, this);\n        this.mArrow3.off(\"Hold\", this.onHoldHandler, this);\n        this.mArrow3.off(\"Tap\", this.onClickHandler, this);\n        this.mArrow5.off(\"Hold\", this.onHoldHandler, this);\n        this.mArrow5.off(\"Tap\", this.onClickHandler, this);\n        this.mArrow7.off(\"Hold\", this.onHoldHandler, this);\n        this.mArrow7.off(\"Tap\", this.onClickHandler, this);\n    };\n    MoveMenu.prototype.onHoldHandler = function (gameobject) {\n        this.emit(\"hold\", gameobject.getData(\"dir\"));\n    };\n    MoveMenu.prototype.onClickHandler = function (pointer, gameobject) {\n        this.emit(\"tap\", gameobject.getData(\"dir\"));\n    };\n    return MoveMenu;\n}(Phaser.GameObjects.Container));\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/decorate/decorate.panel.ts?");

/***/ }),

/***/ "./src/ui/friend/friend.mediator.ts":
/*!******************************************!*\
  !*** ./src/ui/friend/friend.mediator.ts ***!
  \******************************************/
/*! exports provided: FriendMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FriendMediator\", function() { return FriendMediator; });\n/* harmony import */ var _friend_panel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./friend.panel */ \"./src/ui/friend/friend.panel.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/baseUI/BaseMediator */ \"./lib/rexui/lib/ui/baseUI/BaseMediator.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/interface/baseUI/UIType */ \"./lib/rexui/lib/ui/interface/baseUI/UIType.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar FriendMediator = /** @class */ (function (_super) {\n    __extends(FriendMediator, _super);\n    function FriendMediator(scene, world) {\n        var _this = _super.call(this) || this;\n        _this.mUIType = _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_2__[\"UIType\"].Normal;\n        _this.mScene = scene;\n        _this.world = world;\n        return _this;\n    }\n    FriendMediator.prototype.isShow = function () {\n        if (!this.mView)\n            return false;\n        return this.mView.isShow();\n    };\n    FriendMediator.prototype.isSceneUI = function () {\n        return false;\n    };\n    FriendMediator.prototype.resize = function () {\n        if (this.mView)\n            return this.mView.resize();\n    };\n    FriendMediator.prototype.show = function (param) {\n        var friendMed = this;\n        if (this.mView && this.isShow()) {\n            return;\n        }\n        this.mView = new _friend_panel__WEBPACK_IMPORTED_MODULE_0__[\"FriendPanel\"](this.mScene, this.world);\n        this.mView.show(param);\n        _super.prototype.show.call(this, param);\n    };\n    FriendMediator.prototype.hide = function () {\n        this.mShow = false;\n        if (this.mView)\n            this.mView = null;\n    };\n    FriendMediator.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n    };\n    FriendMediator.NAME = \"FriendMediator\";\n    return FriendMediator;\n}(_lib_rexui_lib_ui_baseUI_BaseMediator__WEBPACK_IMPORTED_MODULE_1__[\"BaseMediator\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/friend/friend.mediator.ts?");

/***/ }),

/***/ "./src/ui/friend/friend.panel.ts":
/*!***************************************!*\
  !*** ./src/ui/friend/friend.panel.ts ***!
  \***************************************/
/*! exports provided: FriendPanel, FriendItem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FriendPanel\", function() { return FriendPanel; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FriendItem\", function() { return FriendItem; });\n/* harmony import */ var _components_BasePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/BasePanel */ \"./src/ui/components/BasePanel.ts\");\n/* harmony import */ var _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/resUtil */ \"./src/utils/resUtil.ts\");\n/* harmony import */ var _components_nine_patch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/nine.patch */ \"./src/ui/components/nine.patch.ts\");\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\n/* harmony import */ var _components_dynamic_image__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/dynamic.image */ \"./src/ui/components/dynamic.image.ts\");\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! phaser */ \"./node_modules/phaser/dist/phaser.js-exposed\");\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(phaser__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _baseView_icon_btn__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../baseView/icon.btn */ \"./src/ui/baseView/icon.btn.ts\");\n/* harmony import */ var _friend_mediator__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./friend.mediator */ \"./src/ui/friend/friend.mediator.ts\");\n/* harmony import */ var _ui_mediatorType__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../ui.mediatorType */ \"./src/ui/ui.mediatorType.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\n\nvar FriendPanel = /** @class */ (function (_super) {\n    __extends(FriendPanel, _super);\n    function FriendPanel(scene, world) {\n        var _this = _super.call(this, scene, world) || this;\n        _this.mIndex = 0;\n        return _this;\n    }\n    FriendPanel.prototype.resize = function (wid, hei) {\n        var size = this.mWorld.getSize();\n        if (!this.mShow)\n            return;\n        if (this.mWorld.game.device.os.desktop) {\n            this.x = size.width + wid >> 1;\n            this.y = size.height + hei >> 1;\n        }\n        else {\n            if (this.mWorld.game.scale.orientation === Phaser.Scale.Orientation.LANDSCAPE) {\n                this.mBg.resize((size.width * .5 - 20) / this.mWorld.uiScale, (size.height - 20) / this.mWorld.uiScale);\n                // new NinePatch(this.scene, 0, 0, size.width * .6 / this.mWorld.uiScale - 30, size.height / this.mWorld.uiScale - 30, Border.getName(), null, Border.getConfig());\n                this.setSize(this.mBg.width, this.mBg.height);\n                this.x = (this.width / 2 + 10) * this.mWorld.uiScale;\n                this.y = (this.height / 2 + 10) * this.mWorld.uiScale;\n            }\n            else {\n                this.mBg.resize((size.width - 20) / this.mWorld.uiScale, (size.height * .5 - 20) / this.mWorld.uiScale);\n                // = new NinePatch(this.scene, 0, 0, size.width / this.mWorld.uiScale - 30, size.height / this.mWorld.uiScale - 30, Border.getName(), null, Border.getConfig());\n                this.setSize(this.mBg.width, this.mBg.height);\n                this.x = (this.width / 2 + 15) * this.mWorld.uiScale;\n                this.y = size.height - this.mBg.height * .5 * this.mWorld.uiScale - 10;\n            }\n        }\n        this.scale = this.mWorld.uiScale;\n        this.mUpBtn.y = (this.mUpBtn.height / 2 - this.mBg.height) / 2;\n        this.mDownBtn.y = (this.mBg.height - this.mDownBtn.height / 2) / 2;\n        this.mTitleTxt.x = (-this.mBg.width / 2 + 15);\n        this.mTitleTxt.y = (-this.mBg.height / 2 + 8);\n        if (this.mClsBtn) {\n            this.mClsBtn.x = (this.mBg.width >> 1) - 65;\n            this.mClsBtn.y = (-this.mBg.height >> 1);\n        }\n        this.initFriendItem();\n        this.addAt(this.mBg, 0);\n        this.add(this.mTitleTxt);\n    };\n    FriendPanel.prototype.addListen = function () {\n        _super.prototype.addListen.call(this);\n        this.mDownBtn.on(\"pointerup\", this.downHandler, this);\n        this.mUpBtn.on(\"pointerup\", this.upHandler, this);\n        this.mClsBtn.on(\"pointerup\", this.hide, this);\n    };\n    FriendPanel.prototype.removeListen = function () {\n        _super.prototype.removeListen.call(this);\n        this.mDownBtn.off(\"pointerup\", this.downHandler, this);\n        this.mUpBtn.off(\"pointerup\", this.upHandler, this);\n        this.mClsBtn.off(\"pointerup\", this.hide, this);\n    };\n    FriendPanel.prototype.show = function (param) {\n        var size = this.mWorld.getSize();\n        this.mShowData = param;\n        if (!this.mInitialized) {\n            this.preload();\n            return;\n        }\n        _super.prototype.show.call(this, param);\n    };\n    FriendPanel.prototype.destroy = function () {\n        // if (this.mBg) this.mBg.destroy(true);\n        // if (this.mTitleTxt) this.mTitleTxt.destroy(true);\n        // if (this.mUpBtn) this.mUpBtn.destroy(true);\n        // if (this.mDownBtn) this.mDownBtn.destroy(true);\n        if (this.mFriendList) {\n            this.mFriendList.forEach(function (item) {\n                if (item) {\n                    item.destory();\n                    item = null;\n                }\n            });\n        }\n        // this.mIndex = 0;\n        // this.mBg = null;\n        // this.mTitleTxt = null;\n        // this.mUpBtn = null;\n        // this.mDownBtn = null;\n        // this.mFriendList = null;\n        _super.prototype.destroy.call(this);\n    };\n    FriendPanel.prototype.friendChat = function (id) {\n    };\n    FriendPanel.prototype.friendGo = function (gameId) {\n    };\n    FriendPanel.prototype.btnScaleHandler = function (gameObject, scaleX) {\n        if (scaleX === void 0) { scaleX = 1; }\n        this.mScene.tweens.add({\n            targets: gameObject,\n            duration: 50,\n            ease: \"Linear\",\n            props: {\n                scaleX: { value: .5 * scaleX },\n                scaleY: { value: .5 },\n            },\n            yoyo: true,\n            repeat: 0,\n        });\n        gameObject.scaleX = scaleX;\n        gameObject.scaleY = 1;\n    };\n    FriendPanel.prototype.hide = function () {\n        this.mWorld.uiManager.baseFaceTween(true);\n        _super.prototype.hide.call(this);\n    };\n    FriendPanel.prototype.preload = function () {\n        if (!this.mScene) {\n            return;\n        }\n        this.mScene.load.image(_utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Border\"].getName(), _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Border\"].getPNG());\n        this.mScene.load.image(_utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Background\"].getName(), _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Background\"].getPNG());\n        this.mScene.load.atlas(\"clsBtn\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getRes(\"ui/common/common_clsBtn.png\"), _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getRes(\"ui/common/common_clsBtn.json\"));\n        this.scene.load.image(\"friendChat\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getRes(\"ui/friend/friend_chat.png\"));\n        this.scene.load.image(\"friendGo\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getRes(\"ui/friend/friend_go.png\"));\n        this.mScene.load.atlas(\"bagView\", _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getRes(\"ui/bag/bagView.png\"), _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getRes(\"ui/bag/bagView.json\"));\n        _super.prototype.preload.call(this);\n    };\n    FriendPanel.prototype.init = function () {\n        this.mWorld.uiManager.getUILayerManager().addToToolTipsLayer(this);\n        var size = this.mWorld.getSize();\n        this.mBg = new _components_nine_patch__WEBPACK_IMPORTED_MODULE_2__[\"NinePatch\"](this.scene, 0, 0, 600 / this.mWorld.uiScale, size.height * .5 * this.mWorld.uiScale, _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Border\"].getName(), null, _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Border\"].getConfig());\n        this.setSize(this.mBg.width, this.mBg.height);\n        // this.addAt(this.mBg, 0);\n        this.mTitleTxt = this.mScene.make.text(undefined, false);\n        this.mTitleTxt.setFontFamily(\"YaHei\");\n        this.mTitleTxt.setFontStyle(\"bold\");\n        this.mTitleTxt.setFontSize(14);\n        this.mTitleTxt.style.align = \"left\";\n        this.mTitleTxt.setText(\"\");\n        // this.add(this.mTitleTxt);\n        this.mUpBtn = this.mScene.make.sprite(undefined, false);\n        this.mUpBtn.setTexture(\"bagView\", \"bagView_tab.png\");\n        this.mUpBtn.rotation = Math.PI / 2;\n        this.mDownBtn = this.mScene.make.sprite(undefined, false);\n        this.mDownBtn.setTexture(\"bagView\", \"bagView_tab.png\");\n        this.mDownBtn.rotation = -Math.PI / 2;\n        this.mDownBtn.setInteractive();\n        this.mUpBtn.setInteractive();\n        var image = this.scene.make.image(undefined, false);\n        image.setTexture(this.mWorld.roomManager.currentRoom.playerManager.actor.getDisplay().mDisplayInfo.id + \"\");\n        this.add(image);\n        this.mBg = new _components_nine_patch__WEBPACK_IMPORTED_MODULE_2__[\"NinePatch\"](this.scene, 0, 0, 500, 350, _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Background\"].getName(), null, _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Background\"].getConfig());\n        this.addAt(this.mBg, 0);\n        this.setSize(this.mBg.width, this.mBg.height);\n        this.initFriendItem();\n        this.mClsBtn = new _baseView_icon_btn__WEBPACK_IMPORTED_MODULE_6__[\"IconBtn\"](this.mScene, this.mWorld, {\n            key: _ui_mediatorType__WEBPACK_IMPORTED_MODULE_8__[\"UIMediatorType\"].Close_Btn, bgResKey: \"clsBtn\", bgTextures: [\"btn_normal\", \"btn_over\", \"btn_click\"],\n            iconResKey: \"\", iconTexture: \"\", scale: 1, pngUrl: \"ui/common/common_clsBtn.png\", jsonUrl: \"ui/common/common_clsBtn.json\"\n        });\n        this.mClsBtn.x = (this.mWidth >> 1) - 65;\n        this.mClsBtn.y = -this.mHeight >> 1;\n        this.mClsBtn.scaleX = this.mClsBtn.scaleY = 2;\n        this.add(this.mClsBtn);\n        _super.prototype.init.call(this);\n    };\n    FriendPanel.prototype.tweenComplete = function (show) {\n        var _this = this;\n        _super.prototype.tweenComplete.call(this, show);\n        this.mWorld.roomManager.currentRoom.playerManager.actor.getFriend().requestFriend(function (data) {\n            _this.setDataList(data);\n        });\n        if (show)\n            this.mWorld.uiManager.getMediator(_friend_mediator__WEBPACK_IMPORTED_MODULE_7__[\"FriendMediator\"].NAME).resize();\n    };\n    FriendPanel.prototype.downHandler = function () {\n        this.btnScaleHandler(this.mDownBtn);\n        var len = this.mFriendDataList ? this.mFriendDataList.length : 0;\n        var pageNum = Math.floor(len / FriendPanel.count);\n        this.mIndex = this.mIndex + 1 > pageNum ? pageNum : this.mIndex + 1;\n        this.refreshDataList();\n    };\n    FriendPanel.prototype.upHandler = function () {\n        this.btnScaleHandler(this.mUpBtn);\n        this.mIndex = this.mIndex - 1 > 0 ? this.mIndex - 1 : 0;\n        this.refreshDataList();\n    };\n    FriendPanel.prototype.setDataList = function (data) {\n        if (!this.mFriendList)\n            return;\n        this.mFriendDataList = data;\n        var len = data.length > FriendPanel.count ? FriendPanel.count : data.length;\n        for (var i = 0; i < 4; i++) {\n            var item = this.mFriendList[i];\n            var dat = data[this.mIndex * FriendPanel.count + i];\n            if (!dat) {\n                item.visible = false;\n                // this.add(item);\n                continue;\n            }\n            item.visible = true;\n            dat.index = i;\n            // item.dataChange(dat);\n            // this.add(item);\n        }\n        this.add(this.mUpBtn);\n        this.add(this.mDownBtn);\n    };\n    FriendPanel.prototype.refreshDataList = function () {\n        // if (!this.mFriendDataList || !this.mFriendList) return;\n        // const len: number = this.mFriendDataList.length > FriendPanel.count ? FriendPanel.count : this.mFriendDataList.length;\n        // for (let i: number = 0; i < len; i++) {\n        //     const item: FriendItem = this.mFriendList[i];\n        //     let dat = this.mFriendDataList[this.mIndex * FriendPanel.count + i];\n        //     if (!dat) dat = {};\n        //     dat.index = i;\n        //     item.dataChange(dat);\n        // }\n    };\n    FriendPanel.prototype.initFriendItem = function () {\n        var len = this.mFriendList ? this.mFriendList.length : FriendPanel.count;\n        if (this.mFriendList && this.mFriendList.length > 0) {\n            for (var i = 0; i < len; i++) {\n                var item = this.mFriendList[i];\n                item.resize();\n                item.y = this.mWorld.game.device.os.desktop ? (-this.mBg.height / 2 + this.mTitleTxt.height + i * (item.height + 10) + (item.height / 2 + 10)) * this.mWorld.uiScale :\n                    (i - 1.5) * (item.height + 10);\n            }\n        }\n        else {\n            this.mFriendList = [];\n            var resList = [{\n                    res: \"friendChat\",\n                    name: \"\"\n                }, {\n                    res: \"friendGo\",\n                    name: \"\"\n                }];\n            for (var i = 0; i < len; i++) {\n                var item = new FriendItem(this.mWorld, this.mScene, this, resList);\n                item.y = this.mWorld.game.device.os.desktop ? (-this.mBg.height / 2 + this.mTitleTxt.height + i * (item.height + 10) + (item.height / 2 + 10)) * this.mWorld.uiScale :\n                    (i - 1.5) * (item.height + 10);\n                this.mFriendList.push(item);\n            }\n        }\n    };\n    FriendPanel.count = 4;\n    return FriendPanel;\n}(_components_BasePanel__WEBPACK_IMPORTED_MODULE_0__[\"BasePanel\"]));\n\nvar FriendItem = /** @class */ (function (_super) {\n    __extends(FriendItem, _super);\n    function FriendItem(world, scene, panel, iconResList) {\n        var _this = _super.call(this, scene) || this;\n        _this.iconResList = [];\n        _this.mPanel = panel;\n        _this.mWorld = world;\n        _this.mScene = scene;\n        var size = _this.mWorld.getSize();\n        _this.mBg = new _components_nine_patch__WEBPACK_IMPORTED_MODULE_2__[\"NinePatch\"](_this.mScene, 0, 0, _this.mPanel.width, 90, _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Border\"].getName(), null, _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Border\"].getConfig());\n        _this.addAt(_this.mBg, 0);\n        _this.setSize(_this.mBg.width, _this.mBg.height);\n        _this.mRoleIcon = new _components_dynamic_image__WEBPACK_IMPORTED_MODULE_4__[\"DynamicImage\"](_this.mScene, -_this.mBg.width / 2, 0);\n        _this.nameTF = _this.mScene.make.text({\n            align: \"left\",\n            style: { font: _utils_font__WEBPACK_IMPORTED_MODULE_3__[\"Font\"].YAHEI_20_BOLD, fill: \"#FFCC00\" }\n        }, false);\n        _this.statusTF = _this.mScene.make.text({\n            align: \"left\",\n            style: { font: \"14px YaHei\" }\n        }, false);\n        if (iconResList) {\n            var len = iconResList.length;\n            var _loop_1 = function (i) {\n                var icon = this_1.mScene.make.image(undefined, false);\n                var iconCon = this_1.mScene.make.container(undefined, false);\n                var bg = new _components_nine_patch__WEBPACK_IMPORTED_MODULE_2__[\"NinePatch\"](this_1.mScene, 0, 0, 60, 60, _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Border\"].getName(), null, _utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Border\"].getConfig());\n                var txt = this_1.mScene.make.text(undefined, false);\n                var friendIconData = iconResList[i];\n                txt.setText(friendIconData.name);\n                icon.setTexture(friendIconData.res);\n                icon.scaleX = icon.scaleY = .8;\n                iconCon.add(icon);\n                iconCon.add(txt);\n                iconCon.addAt(bg, 0);\n                iconCon.setSize(60, 60);\n                iconCon.setInteractive(new phaser__WEBPACK_IMPORTED_MODULE_5__[\"Geom\"].Rectangle(0, 0, 60, 60), Phaser.Geom.Rectangle.Contains);\n                iconCon.on(\"pointerdown\", function () {\n                    _this.mPanel.btnScaleHandler(iconCon);\n                }, this_1);\n                icon.y = -bg.height / 2 + icon.height / 2;\n                txt.x = -txt.width >> 1;\n                txt.y = iconCon.height / 2 - txt.height - 4;\n                // iconCon.x = this.width / 2 - (i + 1) * 70 - 20;\n                this_1.add(iconCon);\n                this_1.iconResList.push(iconCon);\n            };\n            var this_1 = this;\n            for (var i = 0; i < len; i++) {\n                _loop_1(i);\n            }\n        }\n        _this.add(_this.mRoleIcon);\n        _this.add(_this.nameTF);\n        _this.add(_this.statusTF);\n        _this.refreshUIPos();\n        return _this;\n    }\n    FriendItem.prototype.resize = function () {\n        if (this.mWorld.game.device.os.desktop)\n            return;\n        this.mBg.resize(this.mPanel.width * .95, 90);\n        this.setSize(this.mBg.width, this.mBg.height);\n        this.addAt(this.mBg, 0);\n        this.refreshUIPos();\n    };\n    FriendItem.prototype.getView = function () {\n        return this;\n    };\n    FriendItem.prototype.dataChange = function (data) {\n        var _this = this;\n        var lv = data.level || 0;\n        var id = data.id || \"1\";\n        var name = data.nickname || \"test\";\n        this.nameTF.setText(name);\n        this.mRoleIcon.load(_utils_resUtil__WEBPACK_IMPORTED_MODULE_1__[\"Url\"].getOsdRes(data.avatar || \"1\"), this, function () {\n            _this.mRoleIcon.scaleX = _this.height / _this.mRoleIcon.width;\n            _this.mRoleIcon.scaleY = _this.height / _this.mRoleIcon.height;\n        }, function () {\n            _this.mRoleIcon.scaleX = _this.mRoleIcon.scaleY = 1;\n        });\n        this.mRoleIcon.x = -this.width / 2 + 64;\n        this.nameTF.x = this.mRoleIcon.x + 54;\n        this.index = data.index;\n    };\n    FriendItem.prototype.destory = function () {\n        this.index = 0;\n        if (this.nameTF) {\n            this.nameTF.destroy(true);\n        }\n        if (this.statusTF) {\n            this.statusTF.destroy(true);\n        }\n        if (this.mRoleIcon) {\n            this.mRoleIcon.destroy(true);\n        }\n        this.nameTF = null;\n        this.statusTF = null;\n        this.mPanel = null;\n        this.mWorld = null;\n        _super.prototype.destroy.call(this, true);\n    };\n    FriendItem.prototype.refreshUIPos = function () {\n        this.mRoleIcon.x = -this.width / 2 + 64;\n        this.nameTF.x = this.mRoleIcon.x + 54;\n        this.mRoleIcon.y = 0;\n        this.nameTF.y = 10 - this.mBg.height / 2;\n        this.statusTF.x = this.nameTF.x;\n        if (this.iconResList) {\n            var len = this.iconResList.length;\n            for (var i = 0; i < len; i++) {\n                var iconCon = this.iconResList[i];\n                iconCon.x = this.width / 2 - (i + 1) * 70 + 20;\n            }\n        }\n    };\n    return FriendItem;\n}(Phaser.GameObjects.Container));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/friend/friend.panel.ts?");

/***/ }),

/***/ "./src/ui/layer.manager.ts":
/*!*********************************!*\
  !*** ./src/ui/layer.manager.ts ***!
  \*********************************/
/*! exports provided: LayerManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LayerManager\", function() { return LayerManager; });\nvar LayerManager = /** @class */ (function () {\n    function LayerManager() {\n    }\n    LayerManager.prototype.setScene = function (scene) {\n        if (!scene)\n            return;\n        this.destroy();\n        this.mScene = scene;\n        // const view = scene.cameras.main;\n        // this.mInteractive = scene.add.container(view.width >> 1, view.height >> 1);\n        // this.mInteractive.setSize(view.width, view.height);\n        // const rect = scene.add.graphics();\n        // rect.lineStyle(1, 0, 1);\n        // rect.fillRect(0, 0, view.width, view.height);\n        // this.mInteractive.setInteractive();\n        this.mUILayer = scene.add.container(0, 0);\n        this.mDialogLayer = scene.add.container(0, 0);\n        this.mToolTipsLyaer = scene.add.container(0, 0);\n    };\n    LayerManager.prototype.addToUILayer = function (obj, index) {\n        if (index === void 0) { index = -1; }\n        if (!this.mUILayer) {\n            return;\n        }\n        if (index === -1 || index === undefined) {\n            this.mUILayer.add(obj);\n        }\n        else {\n            this.mUILayer.addAt(obj, index);\n        }\n    };\n    LayerManager.prototype.addToDialogLayer = function (obj) {\n        if (!this.mDialogLayer) {\n            return;\n        }\n        this.mDialogLayer.add(obj);\n    };\n    LayerManager.prototype.addToToolTipsLayer = function (obj) {\n        if (!this.mToolTipsLyaer) {\n            return;\n        }\n        this.mToolTipsLyaer.add(obj);\n    };\n    LayerManager.prototype.removeToUILayer = function (obj) {\n        this.mUILayer.remove(obj);\n    };\n    LayerManager.prototype.removeToDialogLayer = function (obj) {\n        this.mDialogLayer.remove(obj);\n    };\n    LayerManager.prototype.removeToToolTipsLayer = function (obj) {\n        this.mToolTipsLyaer.remove(obj);\n    };\n    LayerManager.prototype.destroy = function () {\n        if (this.mUILayer) {\n            this.mUILayer.destroy();\n            this.mUILayer = null;\n        }\n        if (this.mDialogLayer) {\n            this.mDialogLayer.destroy();\n            this.mDialogLayer = null;\n        }\n        if (this.mToolTipsLyaer) {\n            this.mToolTipsLyaer.destroy();\n            this.mToolTipsLyaer = null;\n        }\n    };\n    Object.defineProperty(LayerManager.prototype, \"interactive\", {\n        get: function () {\n            return this.mInteractive;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(LayerManager.prototype, \"scene\", {\n        get: function () {\n            return this.mScene;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return LayerManager;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/layer.manager.ts?");

/***/ }),

/***/ "./src/ui/loadview.ts":
/*!****************************!*\
  !*** ./src/ui/loadview.ts ***!
  \****************************/
/*! exports provided: LoadingView */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LoadingView\", function() { return LoadingView; });\nvar LoadingView = /** @class */ (function () {\n    function LoadingView(mScene) {\n        this.mScene = mScene;\n        this.mShowing = false;\n        this.createPanel();\n    }\n    LoadingView.prototype.setFollow = function (gameObject, fromScene, callBack) {\n    };\n    LoadingView.prototype.isShow = function () {\n        return this.mShowing;\n    };\n    LoadingView.prototype.show = function (param) {\n        this.mTween = this.mScene.tweens.add({\n            targets: this.mBg,\n            duration: 2000000,\n            ease: \"Linear\",\n            props: {\n                rotation: 360,\n            }\n        });\n    };\n    LoadingView.prototype.update = function (param) {\n    };\n    LoadingView.prototype.hide = function () {\n        if (this.mTween) {\n            this.mTween.stop();\n            this.mTween.remove();\n            // this.mTween = null;\n        }\n    };\n    LoadingView.prototype.tweenExpand = function (show) {\n    };\n    LoadingView.prototype.resize = function () {\n    };\n    LoadingView.prototype.destroy = function () {\n        if (this.mBg) {\n            this.mBg.destroy();\n        }\n    };\n    LoadingView.prototype.createPanel = function () {\n        var size = this.mScene.game.scale.gameSize;\n        this.mBg = this.mScene.add.sprite(size.width >> 1, size.height >> 1, \"stars\");\n        this.mBg.scaleX = this.mBg.scaleY = 1.3;\n    };\n    return LoadingView;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/loadview.ts?");

/***/ }),

/***/ "./src/ui/tips/TextToolTip.ts":
/*!************************************!*\
  !*** ./src/ui/tips/TextToolTip.ts ***!
  \************************************/
/*! exports provided: TextToolTips */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TextToolTips\", function() { return TextToolTips; });\n/* harmony import */ var _components_nine_patch__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/nine.patch */ \"./src/ui/components/nine.patch.ts\");\n/* harmony import */ var _utils_font__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/font */ \"./src/utils/font.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/rexui/lib/ui/ui-components */ \"./lib/rexui/lib/ui/ui-components.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar TextToolTips = /** @class */ (function (_super) {\n    __extends(TextToolTips, _super);\n    function TextToolTips(scene, key, frame, dpr, zoom) {\n        var _this = _super.call(this, scene) || this;\n        var tempframe = scene.textures.getFrame(key, frame);\n        var tipsWidth = tempframe.width;\n        var tipsHeight = tempframe.height;\n        _this.dpr = dpr;\n        _this.bg = new _components_nine_patch__WEBPACK_IMPORTED_MODULE_0__[\"NinePatch\"](_this.scene, 0, 0, tipsWidth, tipsHeight, key, frame, {\n            left: 20 * dpr,\n            top: 20 * dpr,\n            right: 20 * dpr,\n            bottom: 20 * dpr\n        });\n        _this.text = new _lib_rexui_lib_ui_ui_components__WEBPACK_IMPORTED_MODULE_2__[\"BBCodeText\"](_this.scene, 0, 0, \"\", {\n            color: \"#333333\",\n            fontSize: 13 * _this.dpr,\n            fontFamily: _utils_font__WEBPACK_IMPORTED_MODULE_1__[\"Font\"].DEFULT_FONT,\n            wrap: {\n                width: 90 * _this.dpr,\n                mode: \"string\"\n            }\n        }).setOrigin(0);\n        _this.add([_this.bg, _this.text]);\n        _this.setSize(tipsWidth + 20 * dpr, tipsHeight + 20 * dpr);\n        return _this;\n    }\n    TextToolTips.prototype.setSize = function (width, height) {\n        _super.prototype.setSize.call(this, width, height);\n        this.bg.resize(width, height);\n        this.bg.setPosition(0, 0);\n        var textWidth = width - 16 * this.dpr;\n        var textHeight = height - 16 * this.dpr;\n        this.text.setSize(textWidth, textHeight);\n        this.text.setWrapWidth(textWidth);\n        this.text.setPosition(-textWidth * 0.5, -textHeight * 0.5);\n        return this;\n    };\n    TextToolTips.prototype.setText = function (text) {\n        this.text.text = text;\n        if (this.text.height > this.height) {\n            this.setSize(this.width, this.text.height + 16 * this.dpr);\n        }\n    };\n    TextToolTips.prototype.setTextData = function (text, delay) {\n        var _this = this;\n        this.visible = true;\n        this.setText(text);\n        if (this.timeID)\n            clearTimeout(this.timeID);\n        this.timeID = setTimeout(function () {\n            _this.visible = false;\n        }, delay);\n    };\n    return TextToolTips;\n}(Phaser.GameObjects.Container));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/tips/TextToolTip.ts?");

/***/ }),

/***/ "./src/ui/tips/itoolTip.ts":
/*!*********************************!*\
  !*** ./src/ui/tips/itoolTip.ts ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("\n\n//# sourceURL=webpack://TooqingCore/./src/ui/tips/itoolTip.ts?");

/***/ }),

/***/ "./src/ui/tips/toolTip.ts":
/*!********************************!*\
  !*** ./src/ui/tips/toolTip.ts ***!
  \********************************/
/*! exports provided: ToolTip */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ToolTip\", function() { return ToolTip; });\n/* harmony import */ var _utils_tool__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/tool */ \"./src/utils/tool.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar ToolTip = /** @class */ (function (_super) {\n    __extends(ToolTip, _super);\n    function ToolTip(mScene, resStr, resJson, resUrl, uiScale) {\n        var _this = _super.call(this, mScene) || this;\n        _this.mScene = mScene;\n        _this.resStr = resStr;\n        _this.resJson = resJson;\n        _this.resUrl = resUrl;\n        _this.uiScale = uiScale;\n        _this.mWidth = 0;\n        _this.mHeight = 0;\n        _this.mBaseMidHeight = 0;\n        _this.preLoad();\n        return _this;\n    }\n    ToolTip.prototype.setToolTipData = function (value) {\n        if (!this.mText)\n            return;\n        var str = _utils_tool__WEBPACK_IMPORTED_MODULE_0__[\"Tool\"].formatChineseString(value, this.mText.style.fontSize, this.mWidth - 20);\n        this.mText.setText(str);\n        this.refreshTip();\n    };\n    ToolTip.prototype.destroy = function () {\n        if (this.topImage)\n            this.topImage.destroy(true);\n        if (this.midImage)\n            this.midImage.destroy(true);\n        if (this.botImage)\n            this.botImage.destroy(true);\n        if (this.mText)\n            this.mText.destroy(true);\n        this.mWidth = 0;\n        this.mHeight = 0;\n        this.removeAllListeners();\n        this.removeAll();\n        _super.prototype.destroy.call(this, true);\n    };\n    ToolTip.prototype.preLoad = function () {\n        this.scene.load.atlas(this.resStr, this.resUrl, this.resJson);\n        this.scene.load.once(Phaser.Loader.Events.COMPLETE, this.onLoadComplete, this);\n        this.scene.load.start();\n    };\n    ToolTip.prototype.init = function () {\n        this.topImage = this.scene.make.image(undefined, false);\n        this.topImage.setOrigin(0, 0);\n        this.topImage.setTexture(this.resStr, ToolTip.TOP);\n        this.midImage = this.scene.make.image(undefined, false);\n        this.midImage.setOrigin(0, 0);\n        this.midImage.setTexture(this.resStr, ToolTip.MID);\n        this.botImage = this.scene.make.image(undefined, false);\n        this.botImage.setOrigin(0, 0);\n        this.botImage.setTexture(this.resStr, ToolTip.BOT);\n        this.mText = this.scene.make.text(undefined, false);\n        this.mText.setFontFamily(\"YaHei\");\n        this.mText.setFontStyle(\"bold\");\n        this.mText.setFontSize(14);\n        this.mText.style.align = \"center\";\n        this.mText.lineSpacing = 15;\n        this.mWidth = this.topImage.width;\n        this.mBaseMidHeight = this.midImage.height;\n        this.mText.style.fixedWidth = this.mWidth - 20;\n        this.mText.style.setWordWrapWidth(this.mWidth - 20, true);\n        // this.mText.style.setMaxLines(10);\n        this.add(this.topImage);\n        this.add(this.midImage);\n        this.add(this.botImage);\n        this.add(this.mText);\n    };\n    ToolTip.prototype.refreshTip = function () {\n        this.midImage.scaleY = (this.mText.height + 20) / this.mBaseMidHeight;\n        this.mHeight = this.topImage.height + this.midImage.height * this.midImage.scaleY + this.botImage.height;\n        this.topImage.y = -this.topImage.height >> 1;\n        this.midImage.y = this.topImage.y + this.topImage.height;\n        this.botImage.y = this.midImage.y + this.midImage.height * this.midImage.scaleY;\n        this.mText.x = this.mWidth - this.mText.style.fixedWidth >> 1;\n        this.mText.y = this.mHeight - this.mText.height - 10 >> 1;\n        this.setSize(this.mWidth, this.mHeight);\n    };\n    ToolTip.prototype.onLoadComplete = function () {\n        this.init();\n    };\n    ToolTip.TOP = \"tip_top.png\";\n    ToolTip.MID = \"tip_mid.png\";\n    ToolTip.BOT = \"tip_bot.png\";\n    return ToolTip;\n}(Phaser.GameObjects.Container));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/tips/toolTip.ts?");

/***/ }),

/***/ "./src/ui/ui.atals.name.ts":
/*!*********************************!*\
  !*** ./src/ui/ui.atals.name.ts ***!
  \*********************************/
/*! exports provided: UIAtlasName, UIAtlasKey */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UIAtlasName\", function() { return UIAtlasName; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UIAtlasKey\", function() { return UIAtlasKey; });\nvar UIAtlasName = /** @class */ (function () {\n    function UIAtlasName() {\n    }\n    UIAtlasName.commonUrl = \"common/ui_base\";\n    UIAtlasName.common2Url = \"ui_base2/ui_base2\";\n    return UIAtlasName;\n}());\n\nvar UIAtlasKey = /** @class */ (function () {\n    function UIAtlasKey() {\n    }\n    UIAtlasKey.commonKey = \"common_key\";\n    UIAtlasKey.common2Key = \"common2_key\";\n    return UIAtlasKey;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/ui.atals.name.ts?");

/***/ }),

/***/ "./src/ui/ui.manager.ts":
/*!******************************!*\
  !*** ./src/ui/ui.manager.ts ***!
  \******************************/
/*! exports provided: UiManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UiManager\", function() { return UiManager; });\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! net-socket-packet */ \"./node_modules/net-socket-packet/dist/index.js\");\n/* harmony import */ var net_socket_packet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _chat_chat_mediator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chat/chat.mediator */ \"./src/ui/chat/chat.mediator.ts\");\n/* harmony import */ var _layer_manager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./layer.manager */ \"./src/ui/layer.manager.ts\");\n/* harmony import */ var _Notice_NoticeMediator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Notice/NoticeMediator */ \"./src/ui/Notice/NoticeMediator.ts\");\n/* harmony import */ var _bag_bagView_bagMediator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./bag/bagView/bagMediator */ \"./src/ui/bag/bagView/bagMediator.ts\");\n/* harmony import */ var _friend_friend_mediator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./friend/friend.mediator */ \"./src/ui/friend/friend.mediator.ts\");\n/* harmony import */ var _Rank_RankMediator__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Rank/RankMediator */ \"./src/ui/Rank/RankMediator.ts\");\n/* harmony import */ var _baseView_rightGroup_right_mediator__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./baseView/rightGroup/right.mediator */ \"./src/ui/baseView/rightGroup/right.mediator.ts\");\n/* harmony import */ var _baseView_leftGroup_left_mediator__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./baseView/leftGroup/left.mediator */ \"./src/ui/baseView/leftGroup/left.mediator.ts\");\n/* harmony import */ var _baseView_bottomGroup_bottom_mediator__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./baseView/bottomGroup/bottom.mediator */ \"./src/ui/baseView/bottomGroup/bottom.mediator.ts\");\n/* harmony import */ var _baseView_bagGroup_bag_group_mediator__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./baseView/bagGroup/bag.group.mediator */ \"./src/ui/baseView/bagGroup/bag.group.mediator.ts\");\n/* harmony import */ var _baseView_top_menu_top_menu_mediator__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./baseView/top.menu/top.menu.mediator */ \"./src/ui/baseView/top.menu/top.menu.mediator.ts\");\n/* harmony import */ var _const_MessageType__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../const/MessageType */ \"./src/const/MessageType.ts\");\n/* harmony import */ var _components_inputTextFactory__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./components/inputTextFactory */ \"./src/ui/components/inputTextFactory.ts\");\n/* harmony import */ var _DecorateControl_DecorateControlMediator__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./DecorateControl/DecorateControlMediator */ \"./src/ui/DecorateControl/DecorateControlMediator.ts\");\n/* harmony import */ var _Activity_ActivityMediator__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./Activity/ActivityMediator */ \"./src/ui/Activity/ActivityMediator.ts\");\n/* harmony import */ var _PicaChat_PicaChatMediator__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./PicaChat/PicaChatMediator */ \"./src/ui/PicaChat/PicaChatMediator.ts\");\n/* harmony import */ var _MineCar_MineCarMediator__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./MineCar/MineCarMediator */ \"./src/ui/MineCar/MineCarMediator.ts\");\n/* harmony import */ var _ui_mediatorType__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./ui.mediatorType */ \"./src/ui/ui.mediatorType.ts\");\n/* harmony import */ var _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../lib/rexui/lib/ui/interface/baseUI/UIType */ \"./lib/rexui/lib/ui/interface/baseUI/UIType.ts\");\n/* harmony import */ var _ReAwardTips_ReAwardTipsMediator__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./ReAwardTips/ReAwardTipsMediator */ \"./src/ui/ReAwardTips/ReAwardTipsMediator.ts\");\n/* harmony import */ var _Compose_ComposeMediator__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./Compose/ComposeMediator */ \"./src/ui/Compose/ComposeMediator.ts\");\n/* harmony import */ var _MineSettle_MineSettleMediator__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./MineSettle/MineSettleMediator */ \"./src/ui/MineSettle/MineSettleMediator.ts\");\n/* harmony import */ var _EquipUpgrade_EquipUpgradeMediator__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./EquipUpgrade/EquipUpgradeMediator */ \"./src/ui/EquipUpgrade/EquipUpgradeMediator.ts\");\n/* harmony import */ var _Market_MarketMediator__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./Market/MarketMediator */ \"./src/ui/Market/MarketMediator.ts\");\n/* harmony import */ var _PicaMainUI_PicaMainUIMediator__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./PicaMainUI/PicaMainUIMediator */ \"./src/ui/PicaMainUI/PicaMainUIMediator.ts\");\n/* harmony import */ var _PicFurniFun_PicFurniFunMediator__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./PicFurniFun/PicFurniFunMediator */ \"./src/ui/PicFurniFun/PicFurniFunMediator.ts\");\n/* harmony import */ var _PicHandheld_PicHandheldMediator__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./PicHandheld/PicHandheldMediator */ \"./src/ui/PicHandheld/PicHandheldMediator.ts\");\n/* harmony import */ var _Bubble_InteractiveBubbleMediator__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./Bubble/InteractiveBubbleMediator */ \"./src/ui/Bubble/InteractiveBubbleMediator.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// export const enum UIType {\n//     NoneUIType,\n// Scene, // ui\n// Normal, // ui\n// Pop, // ui\n// Tips, // tipsui\n// Monopoly, // ui\n// Activity, // uiui\n// }\nvar UiManager = /** @class */ (function (_super) {\n    __extends(UiManager, _super);\n    function UiManager(worldService) {\n        var _this = _super.call(this) || this;\n        _this.worldService = worldService;\n        _this.mCache = [];\n        _this.mNoneUIMap = new Map();\n        _this.mSceneUIMap = new Map();\n        _this.mNormalUIMap = new Map();\n        _this.mPopUIMap = new Map();\n        _this.mTipUIMap = new Map();\n        _this.mMonopolyUIMap = new Map();\n        _this.mActivityUIMap = new Map();\n        // ui,2\n        _this.mShowuiList = [];\n        _this.mStackList = []; // \n        _this.isShowMainUI = false;\n        _this.mConnect = worldService.connection;\n        _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_SHOW_UI, _this.handleShowUI);\n        _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_UPDATE_UI, _this.handleUpdateUI);\n        _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_RES_CLIENT_CLOSE_UI, _this.handleCloseUI);\n        _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_REQ_CLIENT_ENABLE_MARKET, _this.onEnableMarket);\n        // this.addHandlerFun(op_client.OPCODE._OP_VIRTUAL_WORLD_REQ_CLIENT_ENABLE_EDIT_MODE, this.onEnableEditMode);\n        _this.addHandlerFun(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_client\"].OPCODE._OP_VIRTUAL_WORLD_REQ_CLIENT_PKT_REFRESH_ACTIVE_UI, _this.onUIStateHandler);\n        _this.mUILayerManager = new _layer_manager__WEBPACK_IMPORTED_MODULE_3__[\"LayerManager\"]();\n        _this.mInputTextFactory = new _components_inputTextFactory__WEBPACK_IMPORTED_MODULE_14__[\"InputTextFactory\"](worldService);\n        return _this;\n    }\n    UiManager.prototype.getInputTextFactory = function () {\n        return this.mInputTextFactory;\n    };\n    UiManager.prototype.addPackListener = function () {\n        if (this.mConnect) {\n            this.mConnect.addPacketListener(this);\n            this.worldService.emitter.on(_const_MessageType__WEBPACK_IMPORTED_MODULE_13__[\"MessageType\"].SHOW_UI, this.handleShowUI, this);\n        }\n    };\n    UiManager.prototype.removePackListener = function () {\n        if (this.mConnect) {\n            this.mConnect.removePacketListener(this);\n            this.worldService.emitter.off(_const_MessageType__WEBPACK_IMPORTED_MODULE_13__[\"MessageType\"].SHOW_UI, this.handleShowUI, this);\n        }\n    };\n    UiManager.prototype.getUILayerManager = function () {\n        return this.mUILayerManager;\n    };\n    UiManager.prototype.getActiveUIData = function (name) {\n        if (!this.mAtiveUIData)\n            return null;\n        var arr = [];\n        for (var _i = 0, _a = this.mAtiveUIData.ui; _i < _a.length; _i++) {\n            var data = _a[_i];\n            var tagName = data.name.split(\".\")[0];\n            var paneName = this.getPanelNameByStateTag(tagName);\n            if (paneName === name) {\n                arr.push(data);\n            }\n        }\n        return arr;\n    };\n    UiManager.prototype.setScene = function (scene) {\n        this.mScene = scene;\n        this.mUILayerManager.setScene(scene);\n        if (this.mCacheUI) {\n            this.mCacheUI();\n            this.mCacheUI = undefined;\n        }\n    };\n    UiManager.prototype.showMainUI = function () {\n        var _this = this;\n        if (!this.mScene) {\n            this.mCacheUI = this.showMainUI;\n            return;\n        }\n        var scene = this.mScene;\n        this.clearMediator();\n        if (!this.mMedMap) {\n            this.mMedMap = new Map();\n            // ============ui\n            if (this.worldService.game.device.os.desktop) {\n                this.mMedMap.set(_baseView_bagGroup_bag_group_mediator__WEBPACK_IMPORTED_MODULE_11__[\"BagGroupMediator\"].NAME, new _baseView_bagGroup_bag_group_mediator__WEBPACK_IMPORTED_MODULE_11__[\"BagGroupMediator\"](this.worldService, scene));\n            }\n            else {\n                // this.mMedMap.set(BottomMediator.NAME, new BottomMediator(this.worldService, scene));\n                // this.mMedMap.set(LeftMediator.NAME, new LeftMediator(this.worldService, scene));\n                // this.mMedMap.set(TopMediator.NAME, new TopMediator(this.worldService, scene));\n                // this.mMedMap.set(RightMediator.NAME, new RightMediator(this.worldService, scene));\n                this.mMedMap.set(_Activity_ActivityMediator__WEBPACK_IMPORTED_MODULE_16__[\"ActivityMediator\"].name, new _Activity_ActivityMediator__WEBPACK_IMPORTED_MODULE_16__[\"ActivityMediator\"](this.mUILayerManager, scene, this.worldService));\n                this.mMedMap.set(_PicaMainUI_PicaMainUIMediator__WEBPACK_IMPORTED_MODULE_26__[\"PicaMainUIMediator\"].name, new _PicaMainUI_PicaMainUIMediator__WEBPACK_IMPORTED_MODULE_26__[\"PicaMainUIMediator\"](this.mUILayerManager, scene, this.worldService));\n                this.mMedMap.set(_PicaChat_PicaChatMediator__WEBPACK_IMPORTED_MODULE_17__[\"PicaChatMediator\"].name, new _PicaChat_PicaChatMediator__WEBPACK_IMPORTED_MODULE_17__[\"PicaChatMediator\"](this.mUILayerManager, scene, this.worldService));\n                this.mMedMap.set(_PicHandheld_PicHandheldMediator__WEBPACK_IMPORTED_MODULE_28__[\"PicHandheldMediator\"].name, new _PicHandheld_PicHandheldMediator__WEBPACK_IMPORTED_MODULE_28__[\"PicHandheldMediator\"](this.mUILayerManager, scene, this.worldService));\n                // this.mMedMap.set(PicaNavigateMediator.name, new PicaNavigateMediator(this.mUILayerManager, scene, this.worldService));\n                this.mMedMap.set(_MineCar_MineCarMediator__WEBPACK_IMPORTED_MODULE_18__[\"MineCarMediator\"].name, new _MineCar_MineCarMediator__WEBPACK_IMPORTED_MODULE_18__[\"MineCarMediator\"](this.mUILayerManager, scene, this.worldService));\n                this.mMedMap.set(_MineSettle_MineSettleMediator__WEBPACK_IMPORTED_MODULE_23__[\"MineSettleMediator\"].name, new _MineSettle_MineSettleMediator__WEBPACK_IMPORTED_MODULE_23__[\"MineSettleMediator\"](this.mUILayerManager, scene, this.worldService));\n                this.mMedMap.set(_Compose_ComposeMediator__WEBPACK_IMPORTED_MODULE_22__[\"ComposeMediator\"].name, new _Compose_ComposeMediator__WEBPACK_IMPORTED_MODULE_22__[\"ComposeMediator\"](this.mUILayerManager, scene, this.worldService));\n                this.mMedMap.set(_EquipUpgrade_EquipUpgradeMediator__WEBPACK_IMPORTED_MODULE_24__[\"EquipUpgradeMediator\"].name, new _EquipUpgrade_EquipUpgradeMediator__WEBPACK_IMPORTED_MODULE_24__[\"EquipUpgradeMediator\"](this.mUILayerManager, scene, this.worldService));\n                this.mMedMap.set(_Market_MarketMediator__WEBPACK_IMPORTED_MODULE_25__[\"MarketMediator\"].name, new _Market_MarketMediator__WEBPACK_IMPORTED_MODULE_25__[\"MarketMediator\"](this.mUILayerManager, scene, this.worldService));\n                this.mMedMap.set(_PicFurniFun_PicFurniFunMediator__WEBPACK_IMPORTED_MODULE_27__[\"PicFurniFunMediator\"].name, new _PicFurniFun_PicFurniFunMediator__WEBPACK_IMPORTED_MODULE_27__[\"PicFurniFunMediator\"](this.mUILayerManager, scene, this.worldService));\n                this.mMedMap.set(_Bubble_InteractiveBubbleMediator__WEBPACK_IMPORTED_MODULE_29__[\"InteractiveBubbleMediator\"].name, new _Bubble_InteractiveBubbleMediator__WEBPACK_IMPORTED_MODULE_29__[\"InteractiveBubbleMediator\"](this.mUILayerManager, scene, this.worldService));\n            }\n            // this.mMedMap.set(UBaseMediatorType.MainUBaseMediator, new MainUBaseMediator(this.worldService, scene));\n            this.mMedMap.set(_ui_mediatorType__WEBPACK_IMPORTED_MODULE_19__[\"UIMediatorType\"].BagMediator, new _bag_bagView_bagMediator__WEBPACK_IMPORTED_MODULE_5__[\"BagMediator\"](this.mUILayerManager, this.worldService, scene));\n            if (this.worldService.game.device.os.desktop)\n                this.mMedMap.set(_ui_mediatorType__WEBPACK_IMPORTED_MODULE_19__[\"UIMediatorType\"].ChatMediator, new _chat_chat_mediator__WEBPACK_IMPORTED_MODULE_2__[\"ChatMediator\"](this.worldService, scene));\n            this.mMedMap.set(_ui_mediatorType__WEBPACK_IMPORTED_MODULE_19__[\"UIMediatorType\"].NOTICE, new _Notice_NoticeMediator__WEBPACK_IMPORTED_MODULE_4__[\"NoticeMediator\"](this.mUILayerManager, scene, this.worldService));\n            this.mMedMap.set(_friend_friend_mediator__WEBPACK_IMPORTED_MODULE_6__[\"FriendMediator\"].NAME, new _friend_friend_mediator__WEBPACK_IMPORTED_MODULE_6__[\"FriendMediator\"](scene, this.worldService));\n            this.mMedMap.set(_ReAwardTips_ReAwardTipsMediator__WEBPACK_IMPORTED_MODULE_21__[\"ReAwardTipsMediator\"].name, new _ReAwardTips_ReAwardTipsMediator__WEBPACK_IMPORTED_MODULE_21__[\"ReAwardTipsMediator\"](scene, this.worldService));\n            // this.mMedMap.set(ComposeMediator.name, new ComposeMediator(this.mUILayerManager,scene, this.worldService));\n            // this.mMedMap.set(CharacterInfoMediator.name, new CharacterInfoMediator(this.mUILayerManager, scene, this.worldService));\n            // this.mMedMap.set(NpcDialogueMediator.name, new NpcDialogueMediator(this.mUILayerManager,scene, this.worldService));\n            // this.mMedMap.set(MineCarMediator.name, new MineCarMediator(this.mUILayerManager, scene, this.worldService));\n            // this.mMedMap.set(TopMenuMediator.name, new TopMenuMediator(scene, this.worldService));\n            // this.mMedMap.set(MineSettleMediator.name, new MineSettleMediator(this.mUILayerManager, scene, this.worldService));\n            // this.mMedMap.set(EquipUpgradeMediator.name, new EquipUpgradeMediator(this.mUILayerManager, scene, this.worldService));\n            // this.mMedMap.set(DebugLoggerMediator.NAME, new DebugLoggerMediator(scene, this.worldService));\n            // this.mMedMap.set(ElementStorageMediator.NAME, new ElementStorageMediator(this.mUILayerManager, scene, this.worldService));\n            // for (const tmp of this.mCache) {\n            //     const ui = tmp[0];\n            //     this.showMed(ui.name, ui);\n            // }\n            // this.mCache.length = 0;\n        }\n        // TOOD \n        this.mMedMap.forEach(function (mediator, key) {\n            var map;\n            var deskBoo = _this.worldService.game.device.os.desktop ? true : false;\n            switch (key) {\n                case _baseView_leftGroup_left_mediator__WEBPACK_IMPORTED_MODULE_9__[\"LeftMediator\"].NAME:\n                case _baseView_rightGroup_right_mediator__WEBPACK_IMPORTED_MODULE_8__[\"RightMediator\"].NAME:\n                case _baseView_bottomGroup_bottom_mediator__WEBPACK_IMPORTED_MODULE_10__[\"BottomMediator\"].NAME:\n                    map = _this.mSceneUIMap;\n                    break;\n                // case TopMediator.NAME:\n                //     if (deskBoo) {\n                //         map = this.mSceneUIMap;\n                //     }\n                //     break;\n                case _baseView_bagGroup_bag_group_mediator__WEBPACK_IMPORTED_MODULE_11__[\"BagGroupMediator\"].NAME:\n                    if (deskBoo) {\n                        map = _this.mSceneUIMap;\n                    }\n                    break;\n                case _ui_mediatorType__WEBPACK_IMPORTED_MODULE_19__[\"UIMediatorType\"].ChatMediator:\n                    if (deskBoo) {\n                        map = _this.mSceneUIMap;\n                    }\n                    break;\n                case _Rank_RankMediator__WEBPACK_IMPORTED_MODULE_7__[\"RankMediator\"].NAME:\n                    if (deskBoo) {\n                        map = _this.mSceneUIMap;\n                    }\n                    break;\n            }\n            if (map)\n                map.set(key, mediator);\n            if (mediator.isSceneUI()) {\n                mediator.show();\n            }\n        });\n        if (this.mAtiveUIData) {\n            this.updateUIState(this.mAtiveUIData);\n        }\n        if (this.mCache) {\n            for (var _i = 0, _a = this.mCache; _i < _a.length; _i++) {\n                var tmp = _a[_i];\n                var ui = tmp[0];\n                this.showMed(ui.name, ui);\n            }\n            this.mCache.length = 0;\n        }\n    };\n    UiManager.prototype.showDecorateUI = function () {\n        if (!this.mScene) {\n            this.mCacheUI = this.showDecorateUI;\n            return;\n        }\n        this.clearMediator();\n        if (!this.mMedMap) {\n            this.mMedMap = new Map();\n        }\n        // const topMenu = new TopMenuMediator(this.mScene, this.worldService);\n        // this.mMedMap.set(ElementStorageMediator.NAME, new ElementStorageMediator(this.mUILayerManager, this.mScene, this.worldService));\n        this.mMedMap.set(_DecorateControl_DecorateControlMediator__WEBPACK_IMPORTED_MODULE_15__[\"DecorateControlMediator\"].NAME, new _DecorateControl_DecorateControlMediator__WEBPACK_IMPORTED_MODULE_15__[\"DecorateControlMediator\"](this.mUILayerManager, this.mScene, this.worldService));\n        this.mMedMap.set(_ui_mediatorType__WEBPACK_IMPORTED_MODULE_19__[\"UIMediatorType\"].NOTICE, new _Notice_NoticeMediator__WEBPACK_IMPORTED_MODULE_4__[\"NoticeMediator\"](this.mUILayerManager, this.mScene, this.worldService));\n        // this.mMedMap.set(TopMenuMediator.name, topMenu);\n        // topMenu.addItem({\n        //     key: \"Turn_Btn_Top\", name: \"SaveDecorate\", bgResKey: \"baseView\", bgTextures: [\"btnGroup_yellow_normal.png\", \"btnGroup_yellow_light.png\", \"btnGroup_yellow_select.png\"],\n        //     iconResKey: \"\", iconTexture: \"btnGroup_top_expand.png\", scale: 1, pngUrl: \"ui/baseView/mainui_mobile.png\", jsonUrl: \"ui/baseView/mainui_mobile.json\"\n        // });\n        this.showAll();\n    };\n    UiManager.prototype.resize = function (width, height) {\n        if (this.mMedMap) {\n            this.mMedMap.forEach(function (mediator) {\n                if (mediator.isShow)\n                    mediator.resize();\n            });\n        }\n    };\n    UiManager.prototype.setMediator = function (value, mediator) {\n        this.mMedMap.set(value, mediator);\n    };\n    UiManager.prototype.getMediator = function (type) {\n        if (!this.mMedMap)\n            return;\n        return this.mMedMap.get(type);\n    };\n    UiManager.prototype.clearMediator = function () {\n        if (!this.mMedMap) {\n            return;\n        }\n        this.mMedMap.forEach(function (med) { return med.destroy(); });\n        this.mMedMap.clear();\n        this.mMedMap = null;\n    };\n    UiManager.prototype.destroy = function () {\n        this.removePackListener();\n        this.clearMediator();\n        this.mMedMap = undefined;\n        this.clearCache();\n        this.mScene = undefined;\n    };\n    UiManager.prototype.baseFaceResize = function () {\n        var bottomMed = this.getMediator(_baseView_bottomGroup_bottom_mediator__WEBPACK_IMPORTED_MODULE_10__[\"BottomMediator\"].NAME);\n        var rightMed = this.getMediator(_baseView_rightGroup_right_mediator__WEBPACK_IMPORTED_MODULE_8__[\"RightMediator\"].NAME);\n        var leftMed = this.getMediator(_baseView_leftGroup_left_mediator__WEBPACK_IMPORTED_MODULE_9__[\"LeftMediator\"].NAME);\n        // const topMed = this.getMediator(TopMediator.NAME);\n        if (rightMed && rightMed.getView())\n            rightMed.getView().resize(0, 0);\n        if (leftMed && leftMed.getView())\n            leftMed.getView().resize(0, 0);\n        if (bottomMed && bottomMed.getView())\n            bottomMed.getView().resize(0, 0);\n        // if (topMed && topMed.getView()) topMed.getView().resize(0, 0);\n    };\n    UiManager.prototype.baseFaceTween = function (show) {\n        // if (!this.worldService.game.device.os.desktop) {\n        //     (this.worldService.inputManager as JoyStickManager).tweenExpand(show);\n        // }\n        var rightMed = this.getMediator(_baseView_rightGroup_right_mediator__WEBPACK_IMPORTED_MODULE_8__[\"RightMediator\"].NAME);\n        var leftMed = this.getMediator(_baseView_leftGroup_left_mediator__WEBPACK_IMPORTED_MODULE_9__[\"LeftMediator\"].NAME);\n        var bottomMed = this.getMediator(_baseView_bottomGroup_bottom_mediator__WEBPACK_IMPORTED_MODULE_10__[\"BottomMediator\"].NAME);\n        // const topMed = this.getMediator(TopMediator.NAME);\n        if (rightMed && rightMed.getView())\n            rightMed.getView().tweenExpand(show);\n        if (leftMed && leftMed.getView())\n            leftMed.getView().tweenExpand(show);\n        if (bottomMed && bottomMed.getView())\n            bottomMed.getView().tweenExpand(show);\n        // if (topMed && topMed.getView()) topMed.getView().tweenExpand(show);\n    };\n    UiManager.prototype.checkUIState = function (medName, show) {\n        var mediator = this.mMedMap.get(medName);\n        if (!mediator)\n            return;\n        var uiType = mediator.UIType;\n        var deskBoo = this.worldService.game.device.os.desktop;\n        var map;\n        switch (uiType) {\n            case _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_20__[\"UIType\"].None:\n                map = this.mNoneUIMap;\n                break;\n            case _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_20__[\"UIType\"].Scene:\n                map = this.mSceneUIMap;\n                break;\n            case _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_20__[\"UIType\"].Normal:\n                map = this.mNormalUIMap;\n                // pcuiui\n                if (deskBoo) {\n                    this.checkNormalUITween(show, medName);\n                }\n                else {\n                    this.checkBaseUImap(show);\n                }\n                break;\n            case _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_20__[\"UIType\"].Monopoly:\n                map = this.mMonopolyUIMap;\n                this.checkBaseUImap(show);\n                this.checkNormalUImap(show);\n                this.chekcTipUImap(show);\n                break;\n            case _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_20__[\"UIType\"].Tips:\n                map = this.mTipUIMap;\n                break;\n            case _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_20__[\"UIType\"].Pop:\n                map = this.mPopUIMap;\n                break;\n            case _lib_rexui_lib_ui_interface_baseUI_UIType__WEBPACK_IMPORTED_MODULE_20__[\"UIType\"].Activity:\n                map = this.mActivityUIMap;\n                break;\n        }\n        if (map)\n            map.set(medName, mediator);\n    };\n    UiManager.prototype.showMed = function (type) {\n        var param = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            param[_i - 1] = arguments[_i];\n        }\n        if (!this.mScene) {\n            this.mCache.push(param);\n            return;\n        }\n        if (!this.mMedMap) {\n            this.mMedMap = new Map();\n        }\n        type = this.getPanelNameByAlias(type);\n        var className = type + \"Mediator\";\n        var mediator = this.mMedMap.get(className);\n        if (!mediator) {\n            var path = \"./\" + type + \"/\" + type + \"Mediator\";\n            var ns = __webpack_require__(\"./src/ui sync recursive ^\\\\.\\\\/.*$\")(\"./\" + type + \"/\" + className);\n            mediator = new ns[className](this.mUILayerManager, this.mScene, this.worldService);\n            if (!mediator) {\n                // Logger.getInstance().error(`error ${type} no panel can show!!!`);\n                return;\n            }\n            this.mMedMap.set(type + \"Mediator\", mediator);\n            // mediator.setName(type);\n        }\n        // if (mediator.showing) return;\n        if (param)\n            mediator.setParam(param);\n        // if (className === \"RankMediator\") {\n        //     if (!this.worldService.game.device.os.desktop) {\n        //         const med: TopMediator = this.getMediator(TopMediator.NAME) as TopMediator;\n        //         if (med) {\n        //             if (!med.isShow()) {\n        //                 med.preRefreshBtn(className);\n        //             } else {\n        //                 med.refreshBtn(className, true);\n        //             }\n        //         }\n        //         return;\n        //     }\n        // }\n        this.checkUIState(className, false);\n        mediator.show(param);\n        // this.mStackList.unshift(className);\n        // if (this.mStackList.length > 2) this.mStackList.splice(this.mStackList.length - 1, 1);\n    };\n    UiManager.prototype.hideMed = function (type) {\n        if (!this.mMedMap) {\n            return;\n        }\n        type = this.getPanelNameByAlias(type);\n        var medName = type + \"Mediator\";\n        var mediator = this.mMedMap.get(medName);\n        if (!mediator) {\n            // Logger.getInstance().error(`error ${type} no panel can show!!!`);\n            return;\n        }\n        this.checkUIState(medName, true);\n        mediator.hide();\n    };\n    UiManager.prototype.showExistMed = function (type, extendName) {\n        if (extendName === void 0) { extendName = \"Mediator\"; }\n        if (!this.mMedMap) {\n            return;\n        }\n        type = this.getPanelNameByAlias(type);\n        var className = type + extendName;\n        var mediator = this.mMedMap.get(className);\n        if (mediator)\n            mediator.show();\n    };\n    UiManager.prototype.handleShowUI = function (packet) {\n        var ui = packet.content;\n        this.showMed(ui.name, ui);\n    };\n    UiManager.prototype.handleUpdateUI = function (packet) {\n        var ui = packet.content;\n        this.updateMed(ui.name, ui);\n    };\n    UiManager.prototype.handleCloseUI = function (packet) {\n        var ui = packet.content;\n        this.hideMed(ui.name);\n    };\n    UiManager.prototype.onEnableEditMode = function (packet) {\n        var topMenu = this.mMedMap.get(_baseView_top_menu_top_menu_mediator__WEBPACK_IMPORTED_MODULE_12__[\"TopMenuMediator\"].NAME);\n        if (!topMenu) {\n            topMenu = new _baseView_top_menu_top_menu_mediator__WEBPACK_IMPORTED_MODULE_12__[\"TopMenuMediator\"](this.mScene, this.worldService);\n            this.mMedMap.set(_baseView_top_menu_top_menu_mediator__WEBPACK_IMPORTED_MODULE_12__[\"TopMenuMediator\"].NAME, topMenu);\n        }\n        topMenu.addItem({\n            key: \"Turn_Btn_Top\", name: \"EnterDecorate\", bgResKey: \"baseView\", bgTextures: [\"btnGroup_yellow_normal.png\", \"btnGroup_yellow_light.png\", \"btnGroup_yellow_select.png\"],\n            iconResKey: \"\", iconTexture: \"btnGroup_top_expand.png\", scale: 1, pngUrl: \"ui/baseView/mainui_mobile.png\", jsonUrl: \"ui/baseView/mainui_mobile.json\"\n        });\n    };\n    UiManager.prototype.onEnableMarket = function () {\n        if (!this.mMedMap) {\n            return;\n        }\n        var topMenu = this.mMedMap.get(_baseView_top_menu_top_menu_mediator__WEBPACK_IMPORTED_MODULE_12__[\"TopMenuMediator\"].NAME);\n        if (!topMenu) {\n            topMenu = new _baseView_top_menu_top_menu_mediator__WEBPACK_IMPORTED_MODULE_12__[\"TopMenuMediator\"](this.mScene, this.worldService);\n            this.mMedMap.set(_baseView_top_menu_top_menu_mediator__WEBPACK_IMPORTED_MODULE_12__[\"TopMenuMediator\"].NAME, topMenu);\n        }\n        topMenu.addItem({\n            key: \"Turn_Btn_Top\", name: \"Market\", bgResKey: \"baseView\", bgTextures: [\"btnGroup_yellow_normal.png\", \"btnGroup_yellow_light.png\", \"btnGroup_yellow_select.png\"],\n            iconResKey: \"\", iconTexture: \"btnGroup_top_expand.png\", scale: 1, pngUrl: \"ui/baseView/mainui_mobile.png\", jsonUrl: \"ui/baseView/mainui_mobile.json\"\n        });\n    };\n    UiManager.prototype.checkBaseUImap = function (show) {\n        this.mSceneUIMap.forEach(function (med) {\n            if (med)\n                med.tweenExpand(show);\n        });\n    };\n    UiManager.prototype.checkNormalUITween = function (show, medName) {\n        var size = this.worldService.getSize();\n        var len = this.mShowuiList.length;\n        var tmpName;\n        var med;\n        if (!show) {\n            if (this.mShowuiList.indexOf(medName) === -1)\n                this.mShowuiList.push(medName);\n            len = this.mShowuiList.length;\n            var mPad = len > 1 ? size.width / 3 : 0;\n            for (var i = 0; i < len; i++) {\n                tmpName = this.mShowuiList[i];\n                med = this.mMedMap.get(tmpName);\n                if (len > 2 && i === 0) {\n                    med.hide();\n                }\n                else {\n                    med.resize((i * 2 - 1) * mPad, 0);\n                }\n            }\n            if (len > 2)\n                this.mShowuiList.shift();\n        }\n        else {\n            var index = void 0;\n            for (var i = 0; i < len; i++) {\n                tmpName = this.mShowuiList[i];\n                med = this.mMedMap.get(tmpName);\n                if (tmpName === medName) {\n                    index = i;\n                    continue;\n                }\n                med.resize(0, 0);\n            }\n            this.mShowuiList.splice(index, 1);\n        }\n    };\n    UiManager.prototype.checkNormalUImap = function (show) {\n        this.mNormalUIMap.forEach(function (med) {\n            if (med) {\n                if (show) {\n                    // med.show();\n                }\n                else {\n                    med.hide();\n                }\n            }\n        });\n        if (!show)\n            this.mNormalUIMap.clear();\n    };\n    UiManager.prototype.chekcTipUImap = function (show) {\n        this.mTipUIMap.forEach(function (med) {\n            if (med) {\n                if (show) {\n                    // med.show();\n                }\n                else {\n                    med.hide();\n                }\n            }\n        });\n        if (!show)\n            this.mNormalUIMap.clear();\n    };\n    UiManager.prototype.updateMed = function (type) {\n        var param = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            param[_i - 1] = arguments[_i];\n        }\n        if (!this.mMedMap) {\n            return;\n        }\n        var name = type + \"Mediator\";\n        var mediator = this.mMedMap.get(name);\n        if (!mediator) {\n            // Logger.getInstance().error(`error ${type} no panel can show!!!`);\n            return;\n        }\n        if (param)\n            mediator.setParam(param);\n        mediator.update(param);\n    };\n    UiManager.prototype.showAll = function () {\n        if (!this.mMedMap) {\n            return;\n        }\n        this.mMedMap.forEach(function (med) {\n            if (med.isSceneUI()) {\n                med.show();\n            }\n        });\n    };\n    UiManager.prototype.clearCache = function () {\n        this.mCacheUI = undefined;\n        this.mCache = [];\n    };\n    UiManager.prototype.closeAll = function () {\n        if (!this.mMedMap) {\n            return;\n        }\n        this.mMedMap.forEach(function (med) { return med.hide(); });\n    };\n    UiManager.prototype.onUIStateHandler = function (packge) {\n        this.mAtiveUIData = packge.content;\n        if (this.mAtiveUIData && this.mMedMap) {\n            this.updateUIState(this.mAtiveUIData);\n        }\n    };\n    UiManager.prototype.updateUIState = function (data) {\n        for (var _i = 0, _a = data.ui; _i < _a.length; _i++) {\n            var ui = _a[_i];\n            var tag = ui.name;\n            var paneltags = tag.split(\".\");\n            var panelName = this.getPanelNameByStateTag(paneltags[0]);\n            if (panelName) {\n                var mediator = this.mMedMap.get(panelName + \"Mediator\");\n                if (mediator) {\n                    if (paneltags.length === 1) {\n                        if (ui.visible || ui.visible === undefined) {\n                            this.showMed(panelName);\n                        }\n                        else {\n                            this.hideMed(panelName);\n                        }\n                    }\n                    else {\n                        var view = mediator.getView();\n                        if (view)\n                            view.updateUIState(ui);\n                    }\n                }\n            }\n        }\n    };\n    UiManager.prototype.getPanelNameByStateTag = function (tag) {\n        switch (tag) {\n            case \"mainui\":\n                return \"PicaMainUI\";\n            case \"activity\":\n                return \"Activity\";\n            case \"picachat\":\n                return \"PicaChat\";\n            case \"picanavigate\":\n                return \"PicaNavigate\";\n        }\n        return null;\n    };\n    UiManager.prototype.getPanelNameByAlias = function (alias) {\n        switch (alias) {\n            case \"MessageBox\":\n                return \"PicaMessageBox\";\n        }\n        return alias;\n    };\n    return UiManager;\n}(net_socket_packet__WEBPACK_IMPORTED_MODULE_0__[\"PacketHandler\"]));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/ui.manager.ts?");

/***/ }),

/***/ "./src/ui/ui.mediatorType.ts":
/*!***********************************!*\
  !*** ./src/ui/ui.mediatorType.ts ***!
  \***********************************/
/*! exports provided: UIMediatorType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UIMediatorType\", function() { return UIMediatorType; });\nvar UIMediatorType = /** @class */ (function () {\n    function UIMediatorType() {\n    }\n    UIMediatorType.BagMediator = \"BagMediator\"; // \n    UIMediatorType.ChatMediator = \"ChatMediator\"; // \n    UIMediatorType.NOTICE = \"Notice\";\n    UIMediatorType.DIALOGO = \"DIALOGO\";\n    UIMediatorType.Turn_Btn_Top = \"Turn_Btn_Top\";\n    UIMediatorType.Turn_Btn_Bottom = \"Turn_Btn_Bottom\";\n    UIMediatorType.App_Back = \"App_Back\";\n    UIMediatorType.Editor_Save = \"Editor_Save\";\n    UIMediatorType.Editor_Cancel = \"Editor_Cancel\";\n    UIMediatorType.Close_Btn = \"Close_Btn\";\n    UIMediatorType.ControlF = \"ControlF\"; // \n    UIMediatorType.Storage = \"Storage\"; // \n    UIMediatorType.UserInfo = \"UserInfo\"; // \n    UIMediatorType.UserMenu = \"UserMenu\"; // \n    UIMediatorType.MessageBox = \"MessageBox\"; // \n    UIMediatorType.ComponentRank = \"ComponentRank\"; // \n    UIMediatorType.Rank = \"Rank\"; // \n    UIMediatorType.VoteResult = \"VoteResult\"; // \n    UIMediatorType.Shop = \"Shop\"; // \n    UIMediatorType.MineSettle = \"MineSettle\"; // \n    UIMediatorType.EquipUpgrade = \"EquipUpgrade\"; // \n    return UIMediatorType;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/ui/ui.mediatorType.ts?");

/***/ }),

/***/ "./src/utils/algorithm.ts":
/*!********************************!*\
  !*** ./src/utils/algorithm.ts ***!
  \********************************/
/*! exports provided: Algorithm */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Algorithm\", function() { return Algorithm; });\nvar Algorithm = /** @class */ (function () {\n    function Algorithm() {\n    }\n    Algorithm.median = function (arr) {\n        var op_arr = arr.sort(function (x, y) {\n            return y - x;\n        });\n        var med = Math.floor(op_arr.length / 2);\n        if (op_arr.length % 2 === 0) {\n            var h = op_arr[med - 1], l = op_arr[med];\n            return (h + l) / 2;\n        }\n        return op_arr[med];\n    };\n    return Algorithm;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/utils/algorithm.ts?");

/***/ }),

/***/ "./src/utils/font.ts":
/*!***************************!*\
  !*** ./src/utils/font.ts ***!
  \***************************/
/*! exports provided: Font */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Font\", function() { return Font; });\n/* harmony import */ var _i18n__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../i18n */ \"./src/i18n.ts\");\n\nvar Font = /** @class */ (function () {\n    function Font() {\n    }\n    Object.defineProperty(Font, \"DEFULT_FONT\", {\n        get: function () {\n            if (_i18n__WEBPACK_IMPORTED_MODULE_0__[\"i18n\"].language === \"en\") {\n                return this.EN_MAINT;\n            }\n            else {\n                return this.ZH_MAIN;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Font, \"BOLD_FONT\", {\n        get: function () {\n            if (_i18n__WEBPACK_IMPORTED_MODULE_0__[\"i18n\"].language === \"en\") {\n                return this.EN_BOLD;\n            }\n            else {\n                return this.ZH_MAIN;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Font.YAHEI_14_BOLD = \"bold 14px YaHei\";\n    Font.YAHEI_16_BOLD = \"bold 16px YaHei\";\n    Font.YAHEI_18_BOLD = \"bold 18px YaHei\";\n    Font.YAHEI_20_BOLD = \"bold 20px YaHei\";\n    // static readonly DEFULT_FONT = \"-apple-system, 'Noto Sans', 'Helvetica Neue', Helvetica, 'Nimbus Sans L', Arial, 'Liberation Sans', 'PingFang SC', 'Hiragino Sans GB', 'Noto Sans CJK SC', 'Source Han Sans SC', 'Source Han Sans CN', 'Microsoft YaHei'\";\n    Font.ZH_MAIN = \"Source Han Sans\";\n    Font.EN_MAINT = \"tt0503m_\";\n    Font.EN_BOLD = \"tt0173m_\";\n    return Font;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/utils/font.ts?");

/***/ }),

/***/ "./src/utils/helpers.ts":
/*!******************************!*\
  !*** ./src/utils/helpers.ts ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var chance__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! chance */ \"./node_modules/chance/chance.js\");\n/* harmony import */ var chance__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(chance__WEBPACK_IMPORTED_MODULE_0__);\nvar __spreadArrays = (undefined && undefined.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\n\nvar Helpers = /** @class */ (function () {\n    function Helpers() {\n    }\n    Helpers.genId = function () {\n        return new chance__WEBPACK_IMPORTED_MODULE_0__().natural({\n            min: 10000,\n            max: Helpers.MAX_ID\n        });\n    };\n    Helpers.flipArray = function (source) {\n        if (!source)\n            return;\n        var array = __spreadArrays(source);\n        var result = [];\n        if (array.length > 0) {\n            var len = array[0].length;\n            for (var i = 0; i < len; i++) {\n                result[i] = [];\n                for (var _i = 0, array_1 = array; _i < array_1.length; _i++) {\n                    var j = array_1[_i];\n                    result[i].push(j[i]);\n                }\n            }\n        }\n        return result;\n    };\n    Helpers.openUrl = function (url) {\n        var tempwindow = window.open(\"\", \"_blank\"); // \n        if (tempwindow)\n            tempwindow.location.href = url; // \n    };\n    Helpers.MAX_ID = Math.pow(2, 31);\n    return Helpers;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (Helpers);\n\n\n//# sourceURL=webpack://TooqingCore/./src/utils/helpers.ts?");

/***/ }),

/***/ "./src/utils/http.ts":
/*!***************************!*\
  !*** ./src/utils/http.ts ***!
  \***************************/
/*! exports provided: load, checkIsFriend */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"load\", function() { return load; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkIsFriend\", function() { return checkIsFriend; });\nfunction load(path, responseType) {\n    return new Promise(function (resolve, reject) {\n        var http = new XMLHttpRequest();\n        http.onload = function (response) {\n            resolve(response.currentTarget);\n        };\n        http.onerror = function () {\n            // Logger.getInstance().warn(`${path} load error`);\n            reject(path + \" load error\");\n        };\n        http.open(\"GET\", path);\n        http.responseType = responseType || \"\";\n        http.send();\n    });\n}\nfunction checkIsFriend(uids) {\n    var data = {\n        body: JSON.stringify({ uids: uids }),\n        method: \"POST\",\n        headers: {\n            \"X-Pixelpai-TK\": \"\"\n        }\n    };\n    return fetch(\"https://api-dev.tooqing.com/\" + \"/user/check_followed\", data);\n}\nfunction get(input, init) {\n    return fetch(input, init);\n}\n\n\n//# sourceURL=webpack://TooqingCore/./src/utils/http.ts?");

/***/ }),

/***/ "./src/utils/pos.ts":
/*!**************************!*\
  !*** ./src/utils/pos.ts ***!
  \**************************/
/*! exports provided: Pos */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Pos\", function() { return Pos; });\nvar Pos = /** @class */ (function () {\n    function Pos(x, y, z, depth) {\n        this.x = x || 0;\n        this.y = y || 0;\n        this.z = z || 0;\n        this.depth = depth | 0;\n    }\n    Pos.prototype.add = function (x, y, z) {\n        this.x += x;\n        this.x += y;\n        this.z += z ? z : 0;\n        return this;\n    };\n    Pos.prototype.equal = function (p) {\n        return p.x === this.x && p.y === this.y && p.z === this.z && p.depth === this.depth;\n    };\n    Pos.prototype.toString = function () {\n        return \"Pos >> x: \" + this.x + \", y: \" + this.y + \", z: \" + this.z + \", depth: \" + this.depth;\n    };\n    Pos.prototype.toPoint = function () {\n        return new Phaser.Geom.Point(this.x, this.y);\n    };\n    return Pos;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/utils/pos.ts?");

/***/ }),

/***/ "./src/utils/position45.ts":
/*!*********************************!*\
  !*** ./src/utils/position45.ts ***!
  \*********************************/
/*! exports provided: Position45 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Position45\", function() { return Position45; });\n/* harmony import */ var _pos__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pos */ \"./src/utils/pos.ts\");\n\nvar Position45 = /** @class */ (function () {\n    function Position45() {\n    }\n    Position45.transformTo90 = function (point, position) {\n        var offsetX = position.rows * (position.tileWidth / 2); // + position.tileWidth / 2;\n        return new _pos__WEBPACK_IMPORTED_MODULE_0__[\"Pos\"]((point.x - point.y) * (position.tileWidth / 2) + offsetX, ((point.x + point.y)) * (position.tileHeight / 2));\n    };\n    Position45.transformTo45 = function (point3, position) {\n        var offsetX = position.rows * (position.tileWidth / 2);\n        // const offsetX = position.sceneWidth / 2; // - position.tileWidth / 2;\n        return new _pos__WEBPACK_IMPORTED_MODULE_0__[\"Pos\"](Math.floor((point3.y + point3.z) / position.tileHeight + (point3.x - offsetX) / position.tileWidth), Math.floor((point3.y + point3.z) / position.tileHeight - (point3.x - offsetX) / position.tileWidth));\n    };\n    return Position45;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/utils/position45.ts?");

/***/ }),

/***/ "./src/utils/rectangle45.ts":
/*!**********************************!*\
  !*** ./src/utils/rectangle45.ts ***!
  \**********************************/
/*! exports provided: Rectangle45 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Rectangle45\", function() { return Rectangle45; });\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar Rectangle = Phaser.Geom.Rectangle;\nvar Rectangle45 = /** @class */ (function (_super) {\n    __extends(Rectangle45, _super);\n    function Rectangle45(row, col, endRow, endCol) {\n        var _this = _super.call(this, row, col, endRow, endCol) || this;\n        _this.row = row;\n        _this.col = col;\n        _this.endRow = endRow;\n        _this.endCol = endCol;\n        return _this;\n    }\n    return Rectangle45;\n}(Rectangle));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/utils/rectangle45.ts?");

/***/ }),

/***/ "./src/utils/resUtil.ts":
/*!******************************!*\
  !*** ./src/utils/resUtil.ts ***!
  \******************************/
/*! exports provided: Url, ResUtils, BlackButton, BlueButton, WhiteButton, CloseButton, Background, Border, TransparentButton, Coin */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Url\", function() { return Url; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ResUtils\", function() { return ResUtils; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BlackButton\", function() { return BlackButton; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BlueButton\", function() { return BlueButton; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"WhiteButton\", function() { return WhiteButton; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CloseButton\", function() { return CloseButton; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Background\", function() { return Background; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Border\", function() { return Border; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TransparentButton\", function() { return TransparentButton; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Coin\", function() { return Coin; });\n/* harmony import */ var _const_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../const/constants */ \"./src/const/constants.ts\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixelpai_proto */ \"./node_modules/pixelpai_proto/protocols.js\");\n/* harmony import */ var pixelpai_proto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__);\n\n\nvar Url = /** @class */ (function () {\n    function Url() {\n    }\n    Url.getRes = function (value) {\n        //  CONFIG.BUNDLE_RESOURCES_ROOT\n        if (Object({\"debug\":true,\"api_root\":\"https://api-dev.tooqing.com/\",\"osd\":\"https://osd-alpha.tooqing.com/\",\"gateway\":Object({\"host\":\"gdev.tooqing.com\",\"port\":11100,\"secure\":true}),\"game_id\":\"5e719a0a68196e416ecf7aad\",\"virtual_world_id\":\"0\"}).BUNDLE_RESOURCES_ROOT) {\n            return Object({\"debug\":true,\"api_root\":\"https://api-dev.tooqing.com/\",\"osd\":\"https://osd-alpha.tooqing.com/\",\"gateway\":Object({\"host\":\"gdev.tooqing.com\",\"port\":11100,\"secure\":true}),\"game_id\":\"5e719a0a68196e416ecf7aad\",\"virtual_world_id\":\"0\"}).BUNDLE_RESOURCES_ROOT\n                + value;\n        }\n        return Url.RES_PATH + value;\n    };\n    Url.getUIRes = function (dpr, value) {\n        if (Object({\"debug\":true,\"api_root\":\"https://api-dev.tooqing.com/\",\"osd\":\"https://osd-alpha.tooqing.com/\",\"gateway\":Object({\"host\":\"gdev.tooqing.com\",\"port\":11100,\"secure\":true}),\"game_id\":\"5e719a0a68196e416ecf7aad\",\"virtual_world_id\":\"0\"}).BUNDLE_RESOURCES_ROOT) {\n            return Object({\"debug\":true,\"api_root\":\"https://api-dev.tooqing.com/\",\"osd\":\"https://osd-alpha.tooqing.com/\",\"gateway\":Object({\"host\":\"gdev.tooqing.com\",\"port\":11100,\"secure\":true}),\"game_id\":\"5e719a0a68196e416ecf7aad\",\"virtual_world_id\":\"0\"}).BUNDLE_RESOURCES_ROOT\n                + dpr + \"x\" + value;\n        }\n        return Url.RESUI_PATH + (dpr + \"x/\" + value);\n    };\n    Url.getOsdRes = function (value) {\n        if (Url.OSD_PATH) {\n            if (_const_constants__WEBPACK_IMPORTED_MODULE_0__[\"HTTP_REGEX\"].test(Url.OSD_PATH)) {\n                return Url.OSD_PATH + value;\n            }\n            return \"https://osd-alpha.tooqing.com/\" + value;\n        }\n        return value;\n    };\n    Url.OSD_PATH = \"\";\n    Url.RES_PATH = \"\";\n    Url.RESUI_PATH = \"\";\n    return Url;\n}());\n\nvar ResUtils = /** @class */ (function () {\n    function ResUtils() {\n    }\n    ResUtils.getPartName = function (value) {\n        return value + \"_png\";\n    };\n    ResUtils.getPartUrl = function (value) {\n        // TOOD Avatarcdn\n        if (_const_constants__WEBPACK_IMPORTED_MODULE_0__[\"HTTP_REGEX\"].test(Url.OSD_PATH)) {\n            return Url.OSD_PATH + \"avatar/part/\" + value + \".png\";\n        }\n        return \"https://osd-alpha.tooqing.com/\" + \"avatar/part/\" + value + \".png\";\n    };\n    ResUtils.getGameConfig = function (value) {\n        if (_const_constants__WEBPACK_IMPORTED_MODULE_0__[\"HTTP_REGEX\"].test(value)) {\n            return value;\n        }\n        return Url.OSD_PATH + value;\n    };\n    return ResUtils;\n}());\n\nvar BlackButton = /** @class */ (function () {\n    function BlackButton() {\n    }\n    BlackButton.getName = function () {\n        return \"black_button\";\n    };\n    BlackButton.getPNG = function () {\n        return Url.getRes(\"ui/common/button.png\");\n    };\n    BlackButton.getColumns = function () {\n        return [4, 2, 4];\n    };\n    BlackButton.getRows = function () {\n        return [4, 2, 4];\n    };\n    BlackButton.getConfig = function () {\n        return {\n            top: 4,\n            left: 4,\n            right: 4,\n            bottom: 4\n        };\n    };\n    return BlackButton;\n}());\n\nvar BlueButton = /** @class */ (function () {\n    function BlueButton() {\n    }\n    BlueButton.getName = function () {\n        return \"button_blue\";\n    };\n    BlueButton.getPNG = function () {\n        return Url.getRes(\"ui/common/button_blue.png\");\n    };\n    BlueButton.getJSON = function () {\n        return Url.getRes(\"ui/common/button_blue.json\");\n    };\n    BlueButton.getColumns = function () {\n        return [7, 1, 7];\n    };\n    BlueButton.getRows = function () {\n        return [7, 1, 7];\n    };\n    BlueButton.getConfig = function () {\n        return {\n            left: 7,\n            top: 7,\n            right: 7,\n            bottom: 7\n        };\n    };\n    return BlueButton;\n}());\n\nvar WhiteButton = /** @class */ (function () {\n    function WhiteButton() {\n    }\n    WhiteButton.getName = function () {\n        return \"button_white\";\n    };\n    WhiteButton.getPNG = function () {\n        return Url.getRes(\"ui/common/button_white.png\");\n    };\n    WhiteButton.getJSON = function () {\n        return Url.getRes(\"ui/common/button_white.json\");\n    };\n    WhiteButton.getColumns = function () {\n        return [7, 1, 7];\n    };\n    WhiteButton.getRows = function () {\n        return [7, 1, 7];\n    };\n    WhiteButton.getConfig = function () {\n        return {\n            left: 7,\n            top: 7,\n            right: 7,\n            bottom: 7\n        };\n    };\n    return WhiteButton;\n}());\n\nvar CloseButton = /** @class */ (function () {\n    function CloseButton() {\n    }\n    CloseButton.getName = function () {\n        return \"common_clsBtn\";\n    };\n    CloseButton.getPNG = function () {\n        return Url.getRes(\"ui/common/common_clsBtn.png\");\n    };\n    CloseButton.getJSON = function () {\n        return Url.getRes(\"ui/common/common_clsBtn.json\");\n    };\n    CloseButton.getFrameConfig = function () {\n        return { frameWidth: 16, frameHeight: 16, startFrame: 1, endFrame: 3 };\n    };\n    return CloseButton;\n}());\n\nvar Background = /** @class */ (function () {\n    function Background() {\n    }\n    Background.getName = function () {\n        return \"common_background\";\n    };\n    Background.getPNG = function () {\n        return Url.getRes(\"ui/common/common_panelBg.png\");\n    };\n    Background.getColumns = function () {\n        return [11, 9, 11];\n    };\n    Background.getRows = function () {\n        return [14, 13, 14];\n    };\n    Background.getConfig = function () {\n        return {\n            left: 10,\n            top: 15,\n            right: 10,\n            bottom: 15,\n        };\n    };\n    return Background;\n}());\n\nvar Border = /** @class */ (function () {\n    function Border() {\n    }\n    Border.getName = function () {\n        return \"common_border\";\n    };\n    Border.getPNG = function () {\n        return Url.getRes(\"ui/common/common_border.png\");\n    };\n    Border.getColumns = function () {\n        return [4, 2, 4];\n    };\n    Border.getRows = function () {\n        return [4, 2, 4];\n    };\n    Border.getConfig = function () {\n        return {\n            left: 4,\n            top: 4,\n            right: 4,\n            bottom: 4\n        };\n    };\n    return Border;\n}());\n\nvar TransparentButton = /** @class */ (function () {\n    function TransparentButton() {\n    }\n    TransparentButton.getName = function () {\n        return \"button_transparent\";\n    };\n    TransparentButton.getPNG = function () {\n        return Url.getRes(\"ui/common/button_transparent.png\");\n    };\n    TransparentButton.getJSON = function () {\n        return Url.getRes(\"ui/common/button_transparent.json\");\n    };\n    TransparentButton.getConfig = function () {\n        return {\n            left: 4,\n            top: 4,\n            right: 4,\n            bottom: 4\n        };\n    };\n    return TransparentButton;\n}());\n\nvar Coin = /** @class */ (function () {\n    function Coin() {\n    }\n    Coin.getIcon = function (coinType) {\n        var res = \"tuding_icon\";\n        var type = coinType;\n        if (type === pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].CoinType.COIN) {\n            res = \"iv_coin\";\n        }\n        else if (type === pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].CoinType.DIAMOND) {\n            res = \"iv_diamond\";\n        }\n        else if (type === pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].CoinType.GOLD_COIN) {\n            // res = \"\";\n        }\n        else if (type === pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].CoinType.QING_SONG_TANG) {\n            // res = \"\";\n        }\n        else if (type === pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].CoinType.TU_DING_COIN) {\n            // res = \"\";\n        }\n        return res;\n    };\n    Coin.getName = function (coinType) {\n        var res = \"\";\n        var type = coinType;\n        if (type === pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].CoinType.COIN) {\n            res = \"\";\n        }\n        else if (type === pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].CoinType.DIAMOND) {\n            res = \"\";\n        }\n        else if (type === pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].CoinType.GOLD_COIN) {\n            res = \"\";\n        }\n        else if (type === pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].CoinType.QING_SONG_TANG) {\n            // res = \"\";\n        }\n        else if (type === pixelpai_proto__WEBPACK_IMPORTED_MODULE_1__[\"op_def\"].CoinType.TU_DING_COIN) {\n            // res = \"\";\n        }\n        return res;\n    };\n    return Coin;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/utils/resUtil.ts?");

/***/ }),

/***/ "./src/utils/size.ts":
/*!***************************!*\
  !*** ./src/utils/size.ts ***!
  \***************************/
/*! exports provided: Size */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Size\", function() { return Size; });\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar Size = /** @class */ (function (_super) {\n    __extends(Size, _super);\n    function Size(width, height) {\n        return _super.call(this, width, height) || this;\n    }\n    return Size;\n}(Phaser.Structs.Size));\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/utils/size.ts?");

/***/ }),

/***/ "./src/utils/tool.ts":
/*!***************************!*\
  !*** ./src/utils/tool.ts ***!
  \***************************/
/*! exports provided: Tool */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Tool\", function() { return Tool; });\n/* harmony import */ var _pos__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pos */ \"./src/utils/pos.ts\");\n\nvar Tool = /** @class */ (function () {\n    function Tool() {\n    }\n    /**\n     * scene\n     * @param fromScene scene\n     * @param pos sceneposition\n     */\n    Tool.getPosByScenes = function (fromScene, pos) {\n        var camera = fromScene.cameras.main;\n        var px = pos.x - camera.scrollX;\n        var py = pos.y - camera.scrollY;\n        return new _pos__WEBPACK_IMPORTED_MODULE_0__[\"Pos\"](px, py);\n    };\n    /*\n    * \n    */\n    Tool.twoPointDistance = function (p1, p2) {\n        var dis = Math.sqrt(Math.pow((p1.x - p2.x), 2) + Math.pow((p1.y - p2.y), 2));\n        return dis;\n    };\n    /**\n     * \n     * @param baseP\n     * @param moveP\n     */\n    Tool.twoPointRadin = function (baseP, moveP) {\n        var x = baseP.x - moveP.x;\n        var y = baseP.y - moveP.y;\n        var dis = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));\n        var rad = Math.acos(x / dis);\n        // Y<Y-0~-180\n        if (moveP.y < baseP.y) {\n            rad = -rad;\n        }\n        return rad;\n    };\n    Tool.formatChineseString = function (context, fontSize, lineWidth) {\n        if (typeof fontSize === \"string\")\n            fontSize = parseInt(fontSize, 10);\n        var wrapWidth = Math.floor(lineWidth / fontSize);\n        return this.chunk(context, wrapWidth).join(\" \");\n    };\n    Tool.checkChinese = function (name) {\n        var pattern = /[\\u4e00-\\u9fa5]+/;\n        var arr = name.split(\"\");\n        for (var i = 0, len = arr.length; i < len; i++) {\n            if (pattern.test(arr[i])) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Tool.checkItemName = function (name, checkStr) {\n        var checkStrList = checkStr.split(\"\") || [];\n        var checkBoo = false;\n        checkStrList.forEach(function (str) {\n            if (str) {\n                var pattern = new RegExp(str);\n                var arr = name.split(\"\");\n                for (var i = 0, len = arr.length; i < len; i++) {\n                    if (pattern.test(arr[i])) {\n                        checkBoo = true;\n                        break;\n                    }\n                }\n            }\n        });\n        return checkBoo;\n    };\n    Tool.checkPointerContains = function (gameObject, pointer) {\n        if (!gameObject)\n            return false;\n        var left = -gameObject.width / 2;\n        var right = gameObject.width / 2;\n        var top = -gameObject.height / 2;\n        var bottom = gameObject.height / 2;\n        if (pointer) {\n            var worldMatrix = gameObject.getWorldTransformMatrix();\n            var x = pointer.x - worldMatrix.tx - gameObject.x;\n            var y = pointer.y - worldMatrix.ty - gameObject.y;\n            if (left <= x && right >= x && top <= y && bottom >= y) {\n                return true;\n            }\n            return false;\n        }\n        return false;\n    };\n    Tool.baseName = function (str) {\n        var base = new String(str).substring(str.lastIndexOf(\"/\") + 1);\n        if (base.lastIndexOf(\".\") !== -1)\n            base = base.substring(0, base.lastIndexOf(\".\"));\n        return base;\n    };\n    Tool.chunk = function (str, n) {\n        var result = [];\n        for (var i = 0; i < str.length; i += n) {\n            result.push(str.substr(i, n));\n        }\n        return result;\n    };\n    return Tool;\n}());\n\n\n\n//# sourceURL=webpack://TooqingCore/./src/utils/tool.ts?");

/***/ })

}]);