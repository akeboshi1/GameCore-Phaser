(this.webpackJsonpTooqingCore=this.webpackJsonpTooqingCore||[]).push([[2],{109:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=r(468);n.PacketHandler=o.PacketHandler;var i=r(477);n.Packet=i.Packet,n.PBpacket=i.PBpacket;var a=r(44);n.Buffer=a.Buffer},134:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=Object.prototype.hasOwnProperty;function isFunction(e){return"function"==typeof e}function isUndefined(e){return void 0===e}function isString(e){return"[object String]"===Object.prototype.toString.call(e)}n.has=function(e,n){return o.call(e,n)},n.defaultCompare=function defaultCompare(e,n){return e<n?-1:e===n?0:1},n.defaultEquals=function defaultEquals(e,n){return e===n},n.defaultToString=function defaultToString(e){return null===e?"COLLECTION_NULL":isUndefined(e)?"COLLECTION_UNDEFINED":isString(e)?"$s"+e:"$o"+e.toString()},n.makeString=function makeString(e,r){if(void 0===r&&(r=","),null===e)return"COLLECTION_NULL";if(isUndefined(e))return"COLLECTION_UNDEFINED";if(isString(e))return e.toString();var o="{",i=!0;for(var a in e)n.has(e,a)&&(i?i=!1:o+=r,o=o+a+":"+e[a]);return o+"}"},n.isFunction=isFunction,n.isUndefined=isUndefined,n.isString=isString,n.reverseCompareFunction=function reverseCompareFunction(e){return isUndefined(e)||!isFunction(e)?function(e,n){return e<n?1:e===n?0:-1}:function(n,r){return-1*e(n,r)}},n.compareToEquals=function compareToEquals(e){return function(n,r){return 0===e(n,r)}}},156:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=r(134),i=function(){function Dictionary(e){this.table={},this.nElements=0,this.toStr=e||o.defaultToString}return Dictionary.prototype.getValue=function(e){var n=this.table["$"+this.toStr(e)];if(!o.isUndefined(n))return n.value},Dictionary.prototype.setValue=function(e,n){if(!o.isUndefined(e)&&!o.isUndefined(n)){var r,i="$"+this.toStr(e),a=this.table[i];return o.isUndefined(a)?(this.nElements++,r=void 0):r=a.value,this.table[i]={key:e,value:n},r}},Dictionary.prototype.remove=function(e){var n="$"+this.toStr(e),r=this.table[n];if(!o.isUndefined(r))return delete this.table[n],this.nElements--,r.value},Dictionary.prototype.keys=function(){var e=[];for(var n in this.table)if(o.has(this.table,n)){var r=this.table[n];e.push(r.key)}return e},Dictionary.prototype.values=function(){var e=[];for(var n in this.table)if(o.has(this.table,n)){var r=this.table[n];e.push(r.value)}return e},Dictionary.prototype.forEach=function(e){for(var n in this.table)if(o.has(this.table,n)){var r=this.table[n];if(!1===e(r.key,r.value))return}},Dictionary.prototype.containsKey=function(e){return!o.isUndefined(this.getValue(e))},Dictionary.prototype.clear=function(){this.table={},this.nElements=0},Dictionary.prototype.size=function(){return this.nElements},Dictionary.prototype.isEmpty=function(){return this.nElements<=0},Dictionary.prototype.toString=function(){var e="{";return this.forEach((function(n,r){e+="\n\t"+n+" : "+r})),e+"\n}"},Dictionary}();n.default=i},163:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=r(134);function indexOf(e,n,r){for(var i=r||o.defaultEquals,a=e.length,s=0;s<a;s++)if(i(e[s],n))return s;return-1}n.indexOf=indexOf,n.lastIndexOf=function lastIndexOf(e,n,r){for(var i=r||o.defaultEquals,a=e.length-1;a>=0;a--)if(i(e[a],n))return a;return-1},n.contains=function contains(e,n,r){return indexOf(e,n,r)>=0},n.remove=function remove(e,n,r){var o=indexOf(e,n,r);return!(o<0)&&(e.splice(o,1),!0)},n.frequency=function frequency(e,n,r){for(var i=r||o.defaultEquals,a=e.length,s=0,u=0;u<a;u++)i(e[u],n)&&s++;return s},n.equals=function equals(e,n,r){var i=r||o.defaultEquals;if(e.length!==n.length)return!1;for(var a=e.length,s=0;s<a;s++)if(!i(e[s],n[s]))return!1;return!0},n.copy=function copy(e){return e.concat()},n.swap=function swap(e,n,r){if(n<0||n>=e.length||r<0||r>=e.length)return!1;var o=e[n];return e[n]=e[r],e[r]=o,!0},n.toString=function toString(e){return"["+e.toString()+"]"},n.forEach=function forEach(e,n){for(var r=0,o=e;r<o.length;r++){if(!1===n(o[r]))return}}},217:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=r(134),i=r(163),a=function(){function LinkedList(){this.firstNode=null,this.lastNode=null,this.nElements=0}return LinkedList.prototype.add=function(e,n){if(o.isUndefined(n)&&(n=this.nElements),n<0||n>this.nElements||o.isUndefined(e))return!1;var r=this.createNode(e);if(0===this.nElements||null===this.lastNode)this.firstNode=r,this.lastNode=r;else if(n===this.nElements)this.lastNode.next=r,this.lastNode=r;else if(0===n)r.next=this.firstNode,this.firstNode=r;else{var i=this.nodeAtIndex(n-1);if(null===i)return!1;r.next=i.next,i.next=r}return this.nElements++,!0},LinkedList.prototype.first=function(){if(null!==this.firstNode)return this.firstNode.element},LinkedList.prototype.last=function(){if(null!==this.lastNode)return this.lastNode.element},LinkedList.prototype.elementAtIndex=function(e){var n=this.nodeAtIndex(e);if(null!==n)return n.element},LinkedList.prototype.indexOf=function(e,n){var r=n||o.defaultEquals;if(o.isUndefined(e))return-1;for(var i=this.firstNode,a=0;null!==i;){if(r(i.element,e))return a;a++,i=i.next}return-1},LinkedList.prototype.contains=function(e,n){return this.indexOf(e,n)>=0},LinkedList.prototype.remove=function(e,n){var r=n||o.defaultEquals;if(this.nElements<1||o.isUndefined(e))return!1;for(var i=null,a=this.firstNode;null!==a;){if(r(a.element,e))return null===i?(this.firstNode=a.next,a===this.lastNode&&(this.lastNode=null)):a===this.lastNode?(this.lastNode=i,i.next=a.next,a.next=null):(i.next=a.next,a.next=null),this.nElements--,!0;i=a,a=a.next}return!1},LinkedList.prototype.clear=function(){this.firstNode=null,this.lastNode=null,this.nElements=0},LinkedList.prototype.equals=function(e,n){var r=n||o.defaultEquals;return e instanceof LinkedList&&(this.size()===e.size()&&this.equalsAux(this.firstNode,e.firstNode,r))},LinkedList.prototype.equalsAux=function(e,n,r){for(;null!==e&&null!==n;){if(!r(e.element,n.element))return!1;e=e.next,n=n.next}return!0},LinkedList.prototype.removeElementAtIndex=function(e){if(!(e<0||e>=this.nElements||null===this.firstNode||null===this.lastNode)){var n;if(1===this.nElements)n=this.firstNode.element,this.firstNode=null,this.lastNode=null;else{var r=this.nodeAtIndex(e-1);null===r?(n=this.firstNode.element,this.firstNode=this.firstNode.next):r.next===this.lastNode&&(n=this.lastNode.element,this.lastNode=r),null!==r&&null!==r.next&&(n=r.next.element,r.next=r.next.next)}return this.nElements--,n}},LinkedList.prototype.forEach=function(e){for(var n=this.firstNode;null!==n&&!1!==e(n.element);)n=n.next},LinkedList.prototype.reverse=function(){for(var e=null,n=this.firstNode,r=null;null!==n;)r=n.next,n.next=e,e=n,n=r;r=this.firstNode,this.firstNode=this.lastNode,this.lastNode=r},LinkedList.prototype.toArray=function(){for(var e=[],n=this.firstNode;null!==n;)e.push(n.element),n=n.next;return e},LinkedList.prototype.size=function(){return this.nElements},LinkedList.prototype.isEmpty=function(){return this.nElements<=0},LinkedList.prototype.toString=function(){return i.toString(this.toArray())},LinkedList.prototype.nodeAtIndex=function(e){if(e<0||e>=this.nElements)return null;if(e===this.nElements-1)return this.lastNode;for(var n=this.firstNode,r=0;r<e&&null!==n;r++)n=n.next;return n},LinkedList.prototype.createNode=function(e){return{element:e,next:null}},LinkedList}();n.default=a},218:function(e,n,r){"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r.d(n,"a",(function(){return _typeof}))},219:function(e,n,r){"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}r.d(n,"a",(function(){return _classCallCheck}))},220:function(e,n,r){"use strict";function _defineProperties(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,n,r){return n&&_defineProperties(e.prototype,n),r&&_defineProperties(e,r),e}r.d(n,"a",(function(){return _createClass}))},394:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=r(134),i=r(163),a=r(156),s=function(){function Set(e){this.dictionary=new a.default(e)}return Set.prototype.contains=function(e){return this.dictionary.containsKey(e)},Set.prototype.add=function(e){return!this.contains(e)&&!o.isUndefined(e)&&(this.dictionary.setValue(e,e),!0)},Set.prototype.intersection=function(e){var n=this;this.forEach((function(r){return e.contains(r)||n.remove(r),!0}))},Set.prototype.union=function(e){var n=this;e.forEach((function(e){return n.add(e),!0}))},Set.prototype.difference=function(e){var n=this;e.forEach((function(e){return n.remove(e),!0}))},Set.prototype.isSubsetOf=function(e){if(this.size()>e.size())return!1;var n=!0;return this.forEach((function(r){return!!e.contains(r)||(n=!1,!1)})),n},Set.prototype.remove=function(e){return!!this.contains(e)&&(this.dictionary.remove(e),!0)},Set.prototype.forEach=function(e){this.dictionary.forEach((function(n,r){return e(r)}))},Set.prototype.toArray=function(){return this.dictionary.values()},Set.prototype.isEmpty=function(){return this.dictionary.isEmpty()},Set.prototype.size=function(){return this.dictionary.size()},Set.prototype.clear=function(){this.dictionary.clear()},Set.prototype.toString=function(){return i.toString(this.toArray())},Set}();n.default=s},395:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=r(134),i=r(396),a=function(){function BSTreeKV(e){this.root=null,this.compare=e||o.defaultCompare,this.nElements=0}return BSTreeKV.prototype.add=function(e){return!o.isUndefined(e)&&(null!==this.insertNode(this.createNode(e))&&(this.nElements++,!0))},BSTreeKV.prototype.clear=function(){this.root=null,this.nElements=0},BSTreeKV.prototype.isEmpty=function(){return 0===this.nElements},BSTreeKV.prototype.size=function(){return this.nElements},BSTreeKV.prototype.contains=function(e){return!o.isUndefined(e)&&null!==this.searchNode(this.root,e)},BSTreeKV.prototype.search=function(e){var n=this.searchNode(this.root,e);if(null!==n)return n.element},BSTreeKV.prototype.remove=function(e){var n=this.searchNode(this.root,e);return null!==n&&(this.removeNode(n),this.nElements--,!0)},BSTreeKV.prototype.inorderTraversal=function(e){this.inorderTraversalAux(this.root,e,{stop:!1})},BSTreeKV.prototype.preorderTraversal=function(e){this.preorderTraversalAux(this.root,e,{stop:!1})},BSTreeKV.prototype.postorderTraversal=function(e){this.postorderTraversalAux(this.root,e,{stop:!1})},BSTreeKV.prototype.levelTraversal=function(e){this.levelTraversalAux(this.root,e)},BSTreeKV.prototype.minimum=function(){if(!this.isEmpty()&&null!==this.root)return this.minimumAux(this.root).element},BSTreeKV.prototype.maximum=function(){if(!this.isEmpty()&&null!==this.root)return this.maximumAux(this.root).element},BSTreeKV.prototype.forEach=function(e){this.inorderTraversal(e)},BSTreeKV.prototype.toArray=function(){var e=[];return this.inorderTraversal((function(n){return e.push(n),!0})),e},BSTreeKV.prototype.height=function(){return this.heightAux(this.root)},BSTreeKV.prototype.searchNode=function(e,n){for(var r=1;null!==e&&0!==r;)(r=this.compare(n,e.element))<0?e=e.leftCh:r>0&&(e=e.rightCh);return e},BSTreeKV.prototype.transplant=function(e,n){null===e.parent?this.root=n:e===e.parent.leftCh?e.parent.leftCh=n:e.parent.rightCh=n,null!==n&&(n.parent=e.parent)},BSTreeKV.prototype.removeNode=function(e){if(null===e.leftCh)this.transplant(e,e.rightCh);else if(null===e.rightCh)this.transplant(e,e.leftCh);else{var n=this.minimumAux(e.rightCh);n.parent!==e&&(this.transplant(n,n.rightCh),n.rightCh=e.rightCh,n.rightCh.parent=n),this.transplant(e,n),n.leftCh=e.leftCh,n.leftCh.parent=n}},BSTreeKV.prototype.inorderTraversalAux=function(e,n,r){null===e||r.stop||(this.inorderTraversalAux(e.leftCh,n,r),r.stop||(r.stop=!1===n(e.element),r.stop||this.inorderTraversalAux(e.rightCh,n,r)))},BSTreeKV.prototype.levelTraversalAux=function(e,n){var r=new i.default;for(null!==e&&r.enqueue(e),e=r.dequeue()||null;null!=e;){if(!1===n(e.element))return;null!==e.leftCh&&r.enqueue(e.leftCh),null!==e.rightCh&&r.enqueue(e.rightCh),e=r.dequeue()||null}},BSTreeKV.prototype.preorderTraversalAux=function(e,n,r){null===e||r.stop||(r.stop=!1===n(e.element),r.stop||(this.preorderTraversalAux(e.leftCh,n,r),r.stop||this.preorderTraversalAux(e.rightCh,n,r)))},BSTreeKV.prototype.postorderTraversalAux=function(e,n,r){null===e||r.stop||(this.postorderTraversalAux(e.leftCh,n,r),r.stop||(this.postorderTraversalAux(e.rightCh,n,r),r.stop||(r.stop=!1===n(e.element))))},BSTreeKV.prototype.minimumAux=function(e){for(;null!=e&&null!==e.leftCh;)e=e.leftCh;return e},BSTreeKV.prototype.maximumAux=function(e){for(;null!=e&&null!==e.rightCh;)e=e.rightCh;return e},BSTreeKV.prototype.heightAux=function(e){return null===e?-1:Math.max(this.heightAux(e.leftCh),this.heightAux(e.rightCh))+1},BSTreeKV.prototype.insertNode=function(e){for(var n=null,r=this.root;null!==r;){var o=this.compare(e.element,r.element);if(0===o)return null;o<0?(n=r,r=r.leftCh):(n=r,r=r.rightCh)}return e.parent=n,null===n?this.root=e:this.compare(e.element,n.element)<0?n.leftCh=e:n.rightCh=e,e},BSTreeKV.prototype.createNode=function(e){return{element:e,leftCh:null,rightCh:null,parent:null}},BSTreeKV}();n.default=a},396:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=r(217),i=function(){function Queue(){this.list=new o.default}return Queue.prototype.enqueue=function(e){return this.list.add(e)},Queue.prototype.add=function(e){return this.list.add(e)},Queue.prototype.dequeue=function(){if(0!==this.list.size()){var e=this.list.first();return this.list.removeElementAtIndex(0),e}},Queue.prototype.peek=function(){if(0!==this.list.size())return this.list.first()},Queue.prototype.size=function(){return this.list.size()},Queue.prototype.contains=function(e,n){return this.list.contains(e,n)},Queue.prototype.isEmpty=function(){return this.list.size()<=0},Queue.prototype.clear=function(){this.list.clear()},Queue.prototype.forEach=function(e){this.list.forEach(e)},Queue}();n.default=i},397:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=r(134),i=r(163),a=function(){function Heap(e){this.data=[],this.compare=e||o.defaultCompare}return Heap.prototype.leftChildIndex=function(e){return 2*e+1},Heap.prototype.rightChildIndex=function(e){return 2*e+2},Heap.prototype.parentIndex=function(e){return Math.floor((e-1)/2)},Heap.prototype.minIndex=function(e,n){return n>=this.data.length?e>=this.data.length?-1:e:this.compare(this.data[e],this.data[n])<=0?e:n},Heap.prototype.siftUp=function(e){for(var n=this.parentIndex(e);e>0&&this.compare(this.data[n],this.data[e])>0;)i.swap(this.data,n,e),e=n,n=this.parentIndex(e)},Heap.prototype.siftDown=function(e){for(var n=this.minIndex(this.leftChildIndex(e),this.rightChildIndex(e));n>=0&&this.compare(this.data[e],this.data[n])>0;)i.swap(this.data,n,e),e=n,n=this.minIndex(this.leftChildIndex(e),this.rightChildIndex(e))},Heap.prototype.peek=function(){return this.data.length>0?this.data[0]:void 0},Heap.prototype.add=function(e){return!o.isUndefined(e)&&(this.data.push(e),this.siftUp(this.data.length-1),!0)},Heap.prototype.removeRoot=function(){if(this.data.length>0){var e=this.data[0];return this.data[0]=this.data[this.data.length-1],this.data.splice(this.data.length-1,1),this.data.length>0&&this.siftDown(0),e}},Heap.prototype.contains=function(e){var n=o.compareToEquals(this.compare);return i.contains(this.data,e,n)},Heap.prototype.size=function(){return this.data.length},Heap.prototype.isEmpty=function(){return this.data.length<=0},Heap.prototype.clear=function(){this.data.length=0},Heap.prototype.forEach=function(e){i.forEach(this.data,e)},Heap}();n.default=a},398:function(e,n,r){"use strict";var o,i=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])},function(e,n){function __(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)});Object.defineProperty(n,"__esModule",{value:!0});var a=r(156),s=r(134),u=function(e){function FactoryDictionary(n,r){var o=e.call(this,r)||this;return o.defaultFactoryFunction=n,o}return i(FactoryDictionary,e),FactoryDictionary.prototype.setDefault=function(n,r){var o=e.prototype.getValue.call(this,n);return s.isUndefined(o)?(this.setValue(n,r),r):o},FactoryDictionary.prototype.getValue=function(e){return this.setDefault(e,this.defaultFactoryFunction())},FactoryDictionary}(a.default);n.default=u},399:function(e,n,r){"use strict";function _defineProperty(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}r.d(n,"a",(function(){return _defineProperty}))},401:function(e,n,r){!function webpackUniversalModuleDefinition(n,r){e.exports=r()}("undefined"!=typeof self&&self,(function(){return function(e){var n={};function __webpack_require__(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,__webpack_require__),o.l=!0,o.exports}return __webpack_require__.m=e,__webpack_require__.c=n,__webpack_require__.d=function(e,n,r){__webpack_require__.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},__webpack_require__.n=function(e){var n=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(n,"a",n),n},__webpack_require__.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=3)}([function(e,n,r){var o=r(5),i=r(1),a=i.toHex,s=i.ceilHeapSize,u=r(6),padlen=function(e){for(e+=9;e%64>0;e+=1);return e},getRawDigest=function(e,n){var r=new Int32Array(e,n+320,5),o=new Int32Array(5),i=new DataView(o.buffer);return i.setInt32(0,r[0],!1),i.setInt32(4,r[1],!1),i.setInt32(8,r[2],!1),i.setInt32(12,r[3],!1),i.setInt32(16,r[4],!1),o},c=function(){function Rusha(e){if(function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,Rusha),(e=e||65536)%64>0)throw new Error("Chunk size must be a multiple of 128 bit");this._offset=0,this._maxChunkLen=e,this._padMaxChunkLen=padlen(e),this._heap=new ArrayBuffer(s(this._padMaxChunkLen+320+20)),this._h32=new Int32Array(this._heap),this._h8=new Int8Array(this._heap),this._core=new o({Int32Array:Int32Array},{},this._heap)}return Rusha.prototype._initState=function _initState(e,n){this._offset=0;var r=new Int32Array(e,n+320,5);r[0]=1732584193,r[1]=-271733879,r[2]=-1732584194,r[3]=271733878,r[4]=-1009589776},Rusha.prototype._padChunk=function _padChunk(e,n){var r=padlen(e),o=new Int32Array(this._heap,0,r>>2);return function(e,n){var r=new Uint8Array(e.buffer),o=n%4,i=n-o;switch(o){case 0:r[i+3]=0;case 1:r[i+2]=0;case 2:r[i+1]=0;case 3:r[i+0]=0}for(var a=1+(n>>2);a<e.length;a++)e[a]=0}(o,e),function(e,n,r){e[n>>2]|=128<<24-(n%4<<3),e[14+(2+(n>>2)&-16)]=r/(1<<29)|0,e[15+(2+(n>>2)&-16)]=r<<3}(o,e,n),r},Rusha.prototype._write=function _write(e,n,r,o){u(e,this._h8,this._h32,n,r,o||0)},Rusha.prototype._coreCall=function _coreCall(e,n,r,o,i){var a=r;this._write(e,n,r),i&&(a=this._padChunk(r,o)),this._core.hash(a,this._padMaxChunkLen)},Rusha.prototype.rawDigest=function rawDigest(e){var n=e.byteLength||e.length||e.size||0;this._initState(this._heap,this._padMaxChunkLen);var r=0,o=this._maxChunkLen;for(r=0;n>r+o;r+=o)this._coreCall(e,r,o,n,!1);return this._coreCall(e,r,n-r,n,!0),getRawDigest(this._heap,this._padMaxChunkLen)},Rusha.prototype.digest=function digest(e){return a(this.rawDigest(e).buffer)},Rusha.prototype.digestFromString=function digestFromString(e){return this.digest(e)},Rusha.prototype.digestFromBuffer=function digestFromBuffer(e){return this.digest(e)},Rusha.prototype.digestFromArrayBuffer=function digestFromArrayBuffer(e){return this.digest(e)},Rusha.prototype.resetState=function resetState(){return this._initState(this._heap,this._padMaxChunkLen),this},Rusha.prototype.append=function append(e){var n=0,r=e.byteLength||e.length||e.size||0,o=this._offset%this._maxChunkLen,i=void 0;for(this._offset+=r;n<r;)i=Math.min(r-n,this._maxChunkLen-o),this._write(e,n,i,o),n+=i,(o+=i)===this._maxChunkLen&&(this._core.hash(this._maxChunkLen,this._padMaxChunkLen),o=0);return this},Rusha.prototype.getState=function getState(){var e=void 0;if(this._offset%this._maxChunkLen)e=this._heap.slice(0);else{var n=new Int32Array(this._heap,this._padMaxChunkLen+320,5);e=n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength)}return{offset:this._offset,heap:e}},Rusha.prototype.setState=function setState(e){(this._offset=e.offset,20===e.heap.byteLength)?new Int32Array(this._heap,this._padMaxChunkLen+320,5).set(new Int32Array(e.heap)):this._h32.set(new Int32Array(e.heap));return this},Rusha.prototype.rawEnd=function rawEnd(){var e=this._offset,n=e%this._maxChunkLen,r=this._padChunk(n,e);this._core.hash(r,this._padMaxChunkLen);var o=getRawDigest(this._heap,this._padMaxChunkLen);return this._initState(this._heap,this._padMaxChunkLen),o},Rusha.prototype.end=function end(){return a(this.rawEnd().buffer)},Rusha}();e.exports=c,e.exports._core=o},function(e,n){for(var r=new Array(256),o=0;o<256;o++)r[o]=(o<16?"0":"")+o.toString(16);e.exports.toHex=function(e){for(var n=new Uint8Array(e),o=new Array(e.byteLength),i=0;i<o.length;i++)o[i]=r[n[i]];return o.join("")},e.exports.ceilHeapSize=function(e){var n=0;if(e<=65536)return 65536;if(e<16777216)for(n=1;n<e;n<<=1);else for(n=16777216;n<e;n+=16777216);return n},e.exports.isDedicatedWorkerScope=function(e){var n="WorkerGlobalScope"in e&&e instanceof e.WorkerGlobalScope,r="SharedWorkerGlobalScope"in e&&e instanceof e.SharedWorkerGlobalScope,o="ServiceWorkerGlobalScope"in e&&e instanceof e.ServiceWorkerGlobalScope;return n&&!r&&!o}},function(e,n,r){e.exports=function(){var e=r(0),hashFile=function(e,n,r,o,i){var a=new self.FileReader;a.onloadend=function onloadend(){if(a.error)return i(a.error);var s=a.result;n+=a.result.byteLength;try{e.append(s)}catch(e){return void i(e)}n<o.size?hashFile(e,n,r,o,i):i(null,e.end())},a.readAsArrayBuffer(o.slice(n,n+r))},n=!0;return self.onmessage=function(r){if(n){var o=r.data.data,i=r.data.file,a=r.data.id;if(void 0!==a&&(i||o)){var s=r.data.blockSize||4194304,u=new e(s);u.resetState();var done=function(e,n){e?self.postMessage({id:a,error:e.name}):self.postMessage({id:a,hash:n})};o&&function(e,n,r){try{r(null,e.digest(n))}catch(e){return r(e)}}(u,o,done),i&&hashFile(u,0,s,i,done)}}},function(){n=!1}}},function(e,n,r){var o=r(4),i=r(0),a=r(7),s=r(2),u=r(1).isDedicatedWorkerScope,c="undefined"!=typeof self&&u(self);i.disableWorkerBehaviour=c?s():function(){},i.createWorker=function(){var e=o(2),n=e.terminate;return e.terminate=function(){URL.revokeObjectURL(e.objectURL),n.call(e)},e},i.createHash=a,e.exports=i},function(e,n,r){function webpackBootstrapFunc(e){var n={};function __webpack_require__(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,__webpack_require__),o.l=!0,o.exports}__webpack_require__.m=e,__webpack_require__.c=n,__webpack_require__.i=function(e){return e},__webpack_require__.d=function(e,n,r){__webpack_require__.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},__webpack_require__.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.n=function(e){var n=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(n,"a",n),n},__webpack_require__.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},__webpack_require__.p="/",__webpack_require__.oe=function(e){throw console.error(e),e};var r=__webpack_require__(__webpack_require__.s=ENTRY_MODULE);return r.default||r}function quoteRegExp(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function getModuleDependencies(e,n,o){var i={};i[o]=[];var a=n.toString(),s=a.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!s)return i;for(var u,c=s[1],l=new RegExp("(\\\\n|\\W)"+quoteRegExp(c)+"\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g");u=l.exec(a);)"dll-reference"!==u[3]&&i[o].push(u[3]);for(l=new RegExp("\\("+quoteRegExp(c)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");u=l.exec(a);)e[u[2]]||(i[o].push(u[1]),e[u[2]]=r(u[1]).m),i[u[2]]=i[u[2]]||[],i[u[2]].push(u[4]);return i}function hasValuesInQueues(e){return Object.keys(e).reduce((function(n,r){return n||e[r].length>0}),!1)}e.exports=function(e,n){n=n||{};var o={main:r.m},i=n.all?{main:Object.keys(o)}:function getRequiredModules(e,n){for(var r={main:[n]},o={main:[]},i={main:{}};hasValuesInQueues(r);)for(var a=Object.keys(r),s=0;s<a.length;s++){var u=a[s],c=r[u].pop();if(i[u]=i[u]||{},!i[u][c]&&e[u][c]){i[u][c]=!0,o[u]=o[u]||[],o[u].push(c);for(var l=getModuleDependencies(e,e[u][c],u),f=Object.keys(l),p=0;p<f.length;p++)r[f[p]]=r[f[p]]||[],r[f[p]]=r[f[p]].concat(l[f[p]])}}return o}(o,e),a="";Object.keys(i).filter((function(e){return"main"!==e})).forEach((function(e){for(var n=0;i[e][n];)n++;i[e].push(n),o[e][n]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",a=a+"var "+e+" = ("+webpackBootstrapFunc.toString().replace("ENTRY_MODULE",JSON.stringify(n))+")({"+i[e].map((function(n){return JSON.stringify(n)+": "+o[e][n].toString()})).join(",")+"});\n"})),a=a+"("+webpackBootstrapFunc.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+i.main.map((function(e){return JSON.stringify(e)+": "+o.main[e].toString()})).join(",")+"})(self);";var s=new window.Blob([a],{type:"text/javascript"});if(n.bare)return s;var u=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(s),c=new window.Worker(u);return c.objectURL=u,c}},function(e,n){e.exports=function RushaCore(e,n,r){"use asm";var o=new e.Int32Array(r);function hash$850(e,n){e=e|0;n=n|0;var r=0,i=0,a=0,s=0,u=0,c=0,l=0,f=0,p=0,h=0,d=0,g=0,y=0,v=0;a=o[n+320>>2]|0;u=o[n+324>>2]|0;l=o[n+328>>2]|0;p=o[n+332>>2]|0;d=o[n+336>>2]|0;for(r=0;(r|0)<(e|0);r=r+64|0){s=a;c=u;f=l;h=p;g=d;for(i=0;(i|0)<64;i=i+4|0){v=o[r+i>>2]|0;y=((a<<5|a>>>27)+(u&l|~u&p)|0)+((v+d|0)+1518500249|0)|0;d=p;p=l;l=u<<30|u>>>2;u=a;a=y;o[e+i>>2]=v}for(i=e+64|0;(i|0)<(e+80|0);i=i+4|0){v=(o[i-12>>2]^o[i-32>>2]^o[i-56>>2]^o[i-64>>2])<<1|(o[i-12>>2]^o[i-32>>2]^o[i-56>>2]^o[i-64>>2])>>>31;y=((a<<5|a>>>27)+(u&l|~u&p)|0)+((v+d|0)+1518500249|0)|0;d=p;p=l;l=u<<30|u>>>2;u=a;a=y;o[i>>2]=v}for(i=e+80|0;(i|0)<(e+160|0);i=i+4|0){v=(o[i-12>>2]^o[i-32>>2]^o[i-56>>2]^o[i-64>>2])<<1|(o[i-12>>2]^o[i-32>>2]^o[i-56>>2]^o[i-64>>2])>>>31;y=((a<<5|a>>>27)+(u^l^p)|0)+((v+d|0)+1859775393|0)|0;d=p;p=l;l=u<<30|u>>>2;u=a;a=y;o[i>>2]=v}for(i=e+160|0;(i|0)<(e+240|0);i=i+4|0){v=(o[i-12>>2]^o[i-32>>2]^o[i-56>>2]^o[i-64>>2])<<1|(o[i-12>>2]^o[i-32>>2]^o[i-56>>2]^o[i-64>>2])>>>31;y=((a<<5|a>>>27)+(u&l|u&p|l&p)|0)+((v+d|0)-1894007588|0)|0;d=p;p=l;l=u<<30|u>>>2;u=a;a=y;o[i>>2]=v}for(i=e+240|0;(i|0)<(e+320|0);i=i+4|0){v=(o[i-12>>2]^o[i-32>>2]^o[i-56>>2]^o[i-64>>2])<<1|(o[i-12>>2]^o[i-32>>2]^o[i-56>>2]^o[i-64>>2])>>>31;y=((a<<5|a>>>27)+(u^l^p)|0)+((v+d|0)-899497514|0)|0;d=p;p=l;l=u<<30|u>>>2;u=a;a=y;o[i>>2]=v}a=a+s|0;u=u+c|0;l=l+f|0;p=p+h|0;d=d+g|0}o[n+320>>2]=a;o[n+324>>2]=u;o[n+328>>2]=l;o[n+332>>2]=p;o[n+336>>2]=d}return{hash:hash$850}}},function(e,n){var r=this,o=void 0;"undefined"!=typeof self&&void 0!==self.FileReaderSync&&(o=new self.FileReaderSync);var convBuf=function(e,n,r,o,i,a){var s=void 0,u=a%4,c=(i+u)%4,l=i-c;switch(u){case 0:n[a]=e[o+3];case 1:n[a+1-(u<<1)|0]=e[o+2];case 2:n[a+2-(u<<1)|0]=e[o+1];case 3:n[a+3-(u<<1)|0]=e[o]}if(!(i<c+(4-u))){for(s=4-u;s<l;s=s+4|0)r[a+s>>2|0]=e[o+s]<<24|e[o+s+1]<<16|e[o+s+2]<<8|e[o+s+3];switch(c){case 3:n[a+l+1|0]=e[o+l+2];case 2:n[a+l+2|0]=e[o+l+1];case 1:n[a+l+3|0]=e[o+l]}}};e.exports=function(e,n,i,a,s,u){if("string"==typeof e)return function(e,n,r,o,i,a){var s=void 0,u=a%4,c=(i+u)%4,l=i-c;switch(u){case 0:n[a]=e.charCodeAt(o+3);case 1:n[a+1-(u<<1)|0]=e.charCodeAt(o+2);case 2:n[a+2-(u<<1)|0]=e.charCodeAt(o+1);case 3:n[a+3-(u<<1)|0]=e.charCodeAt(o)}if(!(i<c+(4-u))){for(s=4-u;s<l;s=s+4|0)r[a+s>>2]=e.charCodeAt(o+s)<<24|e.charCodeAt(o+s+1)<<16|e.charCodeAt(o+s+2)<<8|e.charCodeAt(o+s+3);switch(c){case 3:n[a+l+1|0]=e.charCodeAt(o+l+2);case 2:n[a+l+2|0]=e.charCodeAt(o+l+1);case 1:n[a+l+3|0]=e.charCodeAt(o+l)}}}(e,n,i,a,s,u);if(e instanceof Array)return convBuf(e,n,i,a,s,u);if(r&&r.Buffer&&r.Buffer.isBuffer(e))return convBuf(e,n,i,a,s,u);if(e instanceof ArrayBuffer)return convBuf(new Uint8Array(e),n,i,a,s,u);if(e.buffer instanceof ArrayBuffer)return convBuf(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n,i,a,s,u);if(e instanceof Blob)return function(e,n,r,i,a,s){var u=void 0,c=s%4,l=(a+c)%4,f=a-l,p=new Uint8Array(o.readAsArrayBuffer(e.slice(i,i+a)));switch(c){case 0:n[s]=p[3];case 1:n[s+1-(c<<1)|0]=p[2];case 2:n[s+2-(c<<1)|0]=p[1];case 3:n[s+3-(c<<1)|0]=p[0]}if(!(a<l+(4-c))){for(u=4-c;u<f;u=u+4|0)r[s+u>>2|0]=p[u]<<24|p[u+1]<<16|p[u+2]<<8|p[u+3];switch(l){case 3:n[s+f+1|0]=p[f+2];case 2:n[s+f+2|0]=p[f+1];case 1:n[s+f+3|0]=p[f]}}}(e,n,i,a,s,u);throw new Error("Unsupported data type.")}},function(e,n,r){var o=r(0),i=r(1).toHex,a=function(){function Hash(){!function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,Hash),this._rusha=new o,this._rusha.resetState()}return Hash.prototype.update=function update(e){return this._rusha.append(e),this},Hash.prototype.digest=function digest(e){var digest=this._rusha.rawEnd().buffer;if(!e)return digest;if("hex"===e)return i(digest);throw new Error("unsupported digest encoding")},Hash}();e.exports=function(){return new a}}])}))},468:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=r(469),i=function(){function PacketHandler(){this.mOnReceivedFunDict=new o.Dictionary}return PacketHandler.prototype.onPacketArrived=function(e){var n=this.mOnReceivedFunDict.getValue(e.opcode);if(n)try{return n.call(this,e),console.info("Finish handle OPCODE: 0x"+e.opcode.toString(16)+" / "+e.opcode.toString()),!0}catch(e){console.error(e)}return!1},PacketHandler.prototype.addHandlerFun=function(e,n){this.mOnReceivedFunDict.setValue(e,n)},PacketHandler}();n.PacketHandler=i},469:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=r(163);n.arrays=o;var i=r(470);n.Bag=i.default;var a=r(471);n.BSTree=a.default;var s=r(395);n.BSTreeKV=s.default;var u=r(156);n.Dictionary=u.default;var c=r(397);n.Heap=c.default;var l=r(472);n.LinkedDictionary=l.default;var f=r(217);n.LinkedList=f.default;var p=r(473);n.MultiDictionary=p.default;var h=r(398);n.FactoryDictionary=h.default;var d=r(398);n.DefaultDictionary=d.default;var g=r(396);n.Queue=g.default;var y=r(474);n.PriorityQueue=y.default;var v=r(394);n.Set=v.default;var m=r(475);n.Stack=m.default;var b=r(476);n.MultiRootTree=b.default;var k=r(134);n.util=k},470:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=r(134),i=r(156),a=r(394),s=function(){function Bag(e){this.toStrF=e||o.defaultToString,this.dictionary=new i.default(this.toStrF),this.nElements=0}return Bag.prototype.add=function(e,n){if(void 0===n&&(n=1),o.isUndefined(e)||n<=0)return!1;if(this.contains(e))this.dictionary.getValue(e).copies+=n;else{var r={value:e,copies:n};this.dictionary.setValue(e,r)}return this.nElements+=n,!0},Bag.prototype.count=function(e){return this.contains(e)?this.dictionary.getValue(e).copies:0},Bag.prototype.contains=function(e){return this.dictionary.containsKey(e)},Bag.prototype.remove=function(e,n){if(void 0===n&&(n=1),o.isUndefined(e)||n<=0)return!1;if(this.contains(e)){var r=this.dictionary.getValue(e);return n>r.copies?this.nElements-=r.copies:this.nElements-=n,r.copies-=n,r.copies<=0&&this.dictionary.remove(e),!0}return!1},Bag.prototype.toArray=function(){for(var e=[],n=0,r=this.dictionary.values();n<r.length;n++)for(var o=r[n],i=o.value,a=o.copies,s=0;s<a;s++)e.push(i);return e},Bag.prototype.toSet=function(){for(var e=new a.default(this.toStrF),n=0,r=this.dictionary.values();n<r.length;n++){var o=r[n].value;e.add(o)}return e},Bag.prototype.forEach=function(e){this.dictionary.forEach((function(n,r){for(var o=r.value,i=r.copies,a=0;a<i;a++)if(!1===e(o))return!1;return!0}))},Bag.prototype.size=function(){return this.nElements},Bag.prototype.isEmpty=function(){return 0===this.nElements},Bag.prototype.clear=function(){this.nElements=0,this.dictionary.clear()},Bag}();n.default=s},471:function(e,n,r){"use strict";var o,i=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])},function(e,n){function __(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function BSTree(){return null!==e&&e.apply(this,arguments)||this}return i(BSTree,e),BSTree}(r(395).default);n.default=a},472:function(e,n,r){"use strict";var o,i=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])},function(e,n){function __(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)});Object.defineProperty(n,"__esModule",{value:!0});var a=r(156),s=r(134),u=function(){function LinkedDictionaryPair(e,n){this.key=e,this.value=n}return LinkedDictionaryPair.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},LinkedDictionaryPair}(),c=function(){function HeadOrTailLinkedDictionaryPair(){this.key=null,this.value=null}return HeadOrTailLinkedDictionaryPair.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},HeadOrTailLinkedDictionaryPair}();var l=function(e){function LinkedDictionary(n){var r=e.call(this,n)||this;return r.head=new c,r.tail=new c,r.head.next=r.tail,r.tail.prev=r.head,r}return i(LinkedDictionary,e),LinkedDictionary.prototype.appendToTail=function(e){var n=this.tail.prev;n.next=e,e.prev=n,e.next=this.tail,this.tail.prev=e},LinkedDictionary.prototype.getLinkedDictionaryPair=function(e){if(!s.isUndefined(e)){var n="$"+this.toStr(e);return this.table[n]}},LinkedDictionary.prototype.getValue=function(e){var n=this.getLinkedDictionaryPair(e);if(!s.isUndefined(n))return n.value},LinkedDictionary.prototype.remove=function(n){var r=this.getLinkedDictionaryPair(n);if(!s.isUndefined(r))return e.prototype.remove.call(this,n),r.unlink(),r.value},LinkedDictionary.prototype.clear=function(){e.prototype.clear.call(this),this.head.next=this.tail,this.tail.prev=this.head},LinkedDictionary.prototype.replace=function(e,n){var r="$"+this.toStr(n.key);n.next=e.next,n.prev=e.prev,this.remove(e.key),n.prev.next=n,n.next.prev=n,this.table[r]=n,++this.nElements},LinkedDictionary.prototype.setValue=function(e,n){if(!s.isUndefined(e)&&!s.isUndefined(n)){var r=this.getLinkedDictionaryPair(e),o=new u(e,n),i="$"+this.toStr(e);return s.isUndefined(r)?(this.appendToTail(o),this.table[i]=o,void++this.nElements):(this.replace(r,o),r.value)}},LinkedDictionary.prototype.keys=function(){var e=[];return this.forEach((function(n,r){e.push(n)})),e},LinkedDictionary.prototype.values=function(){var e=[];return this.forEach((function(n,r){e.push(r)})),e},LinkedDictionary.prototype.forEach=function(e){for(var n=this.head.next;n.next;){if(!1===e(n.key,n.value))return;n=n.next}},LinkedDictionary}(a.default);n.default=l},473:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=r(134),i=r(156),a=r(163),s=function(){function MultiDictionary(e,n,r){void 0===r&&(r=!1),this.dict=new i.default(e),this.equalsF=n||o.defaultEquals,this.allowDuplicate=r}return MultiDictionary.prototype.getValue=function(e){var n=this.dict.getValue(e);return o.isUndefined(n)?[]:a.copy(n)},MultiDictionary.prototype.setValue=function(e,n){if(o.isUndefined(e)||o.isUndefined(n))return!1;var r=this.dict.getValue(e);return o.isUndefined(r)?(this.dict.setValue(e,[n]),!0):!(!this.allowDuplicate&&a.contains(r,n,this.equalsF))&&(r.push(n),!0)},MultiDictionary.prototype.remove=function(e,n){if(o.isUndefined(n)){var r=this.dict.remove(e);return!o.isUndefined(r)}var i=this.dict.getValue(e);return!(o.isUndefined(i)||!a.remove(i,n,this.equalsF))&&(0===i.length&&this.dict.remove(e),!0)},MultiDictionary.prototype.keys=function(){return this.dict.keys()},MultiDictionary.prototype.values=function(){for(var e=[],n=0,r=this.dict.values();n<r.length;n++)for(var o=0,i=r[n];o<i.length;o++){var a=i[o];e.push(a)}return e},MultiDictionary.prototype.containsKey=function(e){return this.dict.containsKey(e)},MultiDictionary.prototype.clear=function(){this.dict.clear()},MultiDictionary.prototype.size=function(){return this.dict.size()},MultiDictionary.prototype.isEmpty=function(){return this.dict.isEmpty()},MultiDictionary}();n.default=s},474:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=r(134),i=r(397),a=function(){function PriorityQueue(e){this.heap=new i.default(o.reverseCompareFunction(e))}return PriorityQueue.prototype.enqueue=function(e){return this.heap.add(e)},PriorityQueue.prototype.add=function(e){return this.heap.add(e)},PriorityQueue.prototype.dequeue=function(){if(0!==this.heap.size()){var e=this.heap.peek();return this.heap.removeRoot(),e}},PriorityQueue.prototype.peek=function(){return this.heap.peek()},PriorityQueue.prototype.contains=function(e){return this.heap.contains(e)},PriorityQueue.prototype.isEmpty=function(){return this.heap.isEmpty()},PriorityQueue.prototype.size=function(){return this.heap.size()},PriorityQueue.prototype.clear=function(){this.heap.clear()},PriorityQueue.prototype.forEach=function(e){this.heap.forEach(e)},PriorityQueue}();n.default=a},475:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=r(217),i=function(){function Stack(){this.list=new o.default}return Stack.prototype.push=function(e){return this.list.add(e,0)},Stack.prototype.add=function(e){return this.list.add(e,0)},Stack.prototype.pop=function(){return this.list.removeElementAtIndex(0)},Stack.prototype.peek=function(){return this.list.first()},Stack.prototype.size=function(){return this.list.size()},Stack.prototype.contains=function(e,n){return this.list.contains(e,n)},Stack.prototype.isEmpty=function(){return this.list.isEmpty()},Stack.prototype.clear=function(){this.list.clear()},Stack.prototype.forEach=function(e){this.list.forEach(e)},Stack}();n.default=i},476:function(e,n,r){"use strict";var o;Object.defineProperty(n,"__esModule",{value:!0}),function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER",e[e.INSIDE_AT_END=2]="INSIDE_AT_END",e[e.INSIDE_AT_START=3]="INSIDE_AT_START"}(o||(o={}));var i=function(){function MultiRootTree(e,n){void 0===e&&(e=[]),void 0===n&&(n={}),this.rootIds=e,this.nodes=n,this.initRootIds(),this.initNodes()}return MultiRootTree.prototype.initRootIds=function(){for(var e=0,n=this.rootIds;e<n.length;e++){var r=n[e];this.createEmptyNodeIfNotExist(r)}},MultiRootTree.prototype.initNodes=function(){for(var e in this.nodes)if(this.nodes.hasOwnProperty(e))for(var n=0,r=this.nodes[e];n<r.length;n++){var o=r[n];this.createEmptyNodeIfNotExist(o)}},MultiRootTree.prototype.createEmptyNodeIfNotExist=function(e){this.nodes[e]||(this.nodes[e]=[])},MultiRootTree.prototype.getRootIds=function(){return this.rootIds.slice()},MultiRootTree.prototype.getNodes=function(){var e={};for(var n in this.nodes)this.nodes.hasOwnProperty(n)&&(e[n]=this.nodes[n].slice());return e},MultiRootTree.prototype.getObject=function(){return{rootIds:this.getRootIds(),nodes:this.getNodes()}},MultiRootTree.prototype.toObject=function(){return this.getObject()},MultiRootTree.prototype.flatten=function(){for(var e=this,n=[],r=0;r<this.rootIds.length;r++){var o=this.rootIds[r];n.push({id:o,level:0,hasParent:!1,childrenCount:0}),traverse(o,this.nodes,n,0)}for(var i=0,a=n;i<a.length;i++){var s=a[i];s.childrenCount=countChildren(s.id)}return n;function countChildren(n){return e.nodes[n]?e.nodes[n].length:0}function traverse(e,n,r,o){if(void 0===o&&(o=0),e&&n&&r&&n[e]){o++;for(var i=n[e],a=0;a<i.length;a++){var s=i[a];r.push({id:s,level:o,hasParent:!0}),traverse(s,n,r,o)}o--}}},MultiRootTree.prototype.moveIdBeforeId=function(e,n){return this.moveId(e,n,o.BEFORE)},MultiRootTree.prototype.moveIdAfterId=function(e,n){return this.moveId(e,n,o.AFTER)},MultiRootTree.prototype.moveIdIntoId=function(e,n,r){return void 0===r&&(r=!0),r?this.moveId(e,n,o.INSIDE_AT_START):this.moveId(e,n,o.INSIDE_AT_END)},MultiRootTree.prototype.swapRootIdWithRootId=function(e,n){var r=this.findRootId(e),o=this.findRootId(n);this.swapRootPositionWithRootPosition(r,o)},MultiRootTree.prototype.swapRootPositionWithRootPosition=function(e,n){var r=this.rootIds[n];this.rootIds[n]=this.rootIds[e],this.rootIds[e]=r},MultiRootTree.prototype.deleteId=function(e){this.rootDeleteId(e),this.nodeAndSubNodesDelete(e),this.nodeRefrencesDelete(e)},MultiRootTree.prototype.insertIdBeforeId=function(e,n){var r=this.findRootId(e);for(var o in r>-1&&this.insertIdIntoRoot(n,r),this.nodes)if(this.nodes.hasOwnProperty(o)){var i=this.findNodeId(o,e);i>-1&&this.insertIdIntoNode(o,n,i)}},MultiRootTree.prototype.insertIdAfterId=function(e,n){var r=this.findRootId(e);for(var o in r>-1&&this.insertIdIntoRoot(n,r+1),this.nodes)if(this.nodes.hasOwnProperty(o)){var i=this.findNodeId(o,e);i>-1&&this.insertIdIntoNode(o,n,i+1)}},MultiRootTree.prototype.insertIdIntoId=function(e,n){this.nodeInsertAtEnd(e,n),this.nodes[n]=[]},MultiRootTree.prototype.insertIdIntoRoot=function(e,n){if(void 0===n)this.rootInsertAtEnd(e);else if(n<0){var r=this.rootIds.length;this.rootIds.splice(n+r+1,0,e)}else this.rootIds.splice(n,0,e);this.nodes[e]=this.nodes[e]||[]},MultiRootTree.prototype.insertIdIntoNode=function(e,n,r){if(this.nodes[e]=this.nodes[e]||[],this.nodes[n]=this.nodes[n]||[],void 0===r)this.nodeInsertAtEnd(e,n);else if(r<0){var o=this.nodes[e].length;this.nodes[e].splice(r+o+1,0,n)}else this.nodes[e].splice(r,0,n)},MultiRootTree.prototype.moveId=function(e,n,r){var i=e,a=this.findRootId(i);for(var s in this.nodes[n]&&n,this.nodes)if(this.nodes.hasOwnProperty(s)){this.findNodeId(s,n);break}var u=n,c=this.findRootId(u);for(var s in this.nodes[n]&&n,this.nodes)if(this.nodes.hasOwnProperty(s)){this.findNodeId(s,n);break}if(a>-1)if(c>-1)switch(this.rootDelete(a),c>a&&c--,r){case o.BEFORE:this.insertIdIntoRoot(i,c);break;case o.AFTER:this.insertIdIntoRoot(i,c+1);break;case o.INSIDE_AT_START:this.nodeInsertAtStart(u,i);break;case o.INSIDE_AT_END:this.nodeInsertAtEnd(u,i)}else for(var s in this.rootDelete(a),this.nodes){if(this.nodes.hasOwnProperty(s))if((l=this.findNodeId(s,u))>-1){switch(r){case o.BEFORE:this.insertIdIntoNode(s,i,l);break;case o.AFTER:this.insertIdIntoNode(s,i,l+1);break;case o.INSIDE_AT_START:this.nodeInsertAtStart(u,i);break;case o.INSIDE_AT_END:this.nodeInsertAtEnd(u,i)}break}}else if(c>-1){for(var s in this.nodes){if(this.nodes.hasOwnProperty(s))if((l=this.findNodeId(s,i))>-1){this.nodeDeleteAtIndex(s,l);break}}switch(r){case o.BEFORE:this.insertIdIntoRoot(i,c);break;case o.AFTER:this.insertIdIntoRoot(i,c+1);break;case o.INSIDE_AT_START:this.nodeInsertAtStart(u,i);break;case o.INSIDE_AT_END:this.nodeInsertAtEnd(u,i)}}else{for(var s in this.nodes){if(this.nodes.hasOwnProperty(s))if((l=this.findNodeId(s,i))>-1){this.nodeDeleteAtIndex(s,l);break}}for(var s in this.nodes){var l;if(this.nodes.hasOwnProperty(s))if((l=this.findNodeId(s,u))>-1){switch(r){case o.BEFORE:this.insertIdIntoNode(s,i,l);break;case o.AFTER:this.insertIdIntoNode(s,i,l+1);break;case o.INSIDE_AT_START:this.nodeInsertAtStart(u,i);break;case o.INSIDE_AT_END:this.nodeInsertAtEnd(u,i)}break}}}},MultiRootTree.prototype.swapArrayElements=function(e,n,r){var o=e[n];return e[n]=e[r],e[r]=o,e},MultiRootTree.prototype.rootDeleteId=function(e){var n=this.findRootId(e);n>-1&&this.rootDelete(n)},MultiRootTree.prototype.nodeAndSubNodesDelete=function(e){for(var n=[],r=0;r<this.nodes[e].length;r++){var o=this.nodes[e][r];this.nodeAndSubNodesDelete(o),n.push(e)}this.nodeDelete(e);for(r=0;r<n.length;r++)this.nodeDelete(n[r])},MultiRootTree.prototype.nodeRefrencesDelete=function(e){for(var n in this.nodes)if(this.nodes.hasOwnProperty(n))for(var r=0;r<this.nodes[n].length;r++){this.nodes[n][r]===e&&this.nodeDeleteAtIndex(n,r)}},MultiRootTree.prototype.nodeDelete=function(e){delete this.nodes[e]},MultiRootTree.prototype.findRootId=function(e){return this.rootIds.indexOf(e)},MultiRootTree.prototype.findNodeId=function(e,n){return this.nodes[e].indexOf(n)},MultiRootTree.prototype.findNode=function(e){return this.nodes[e]},MultiRootTree.prototype.nodeInsertAtStart=function(e,n){this.nodes[e].unshift(n)},MultiRootTree.prototype.nodeInsertAtEnd=function(e,n){this.nodes[e].push(n)},MultiRootTree.prototype.rootDelete=function(e){this.rootIds.splice(e,1)},MultiRootTree.prototype.nodeDeleteAtIndex=function(e,n){this.nodes[e].splice(n,1)},MultiRootTree.prototype.rootInsertAtStart=function(e){this.rootIds.unshift(e)},MultiRootTree.prototype.rootInsertAtEnd=function(e){this.rootIds.push(e)},MultiRootTree}();n.default=i},477:function(e,n,r){"use strict";var o,i=this&&this.__extends||(o=function(e,n){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])})(e,n)},function(e,n){function __(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)});Object.defineProperty(n,"__esModule",{value:!0});var a=r(44),s=[],u=new String("S").charCodeAt(0),c=new String("D").charCodeAt(0),l=(new String("C").charCodeAt(0),u<<8|c),f=function(){function PacketHeader(e,n){this._head_len=18,this._len=0,this._buf=a.Buffer.alloc(0),this._offset=0,this._opcode=0,this._param=0,this._magic=l,this._uuid=0,"number"==typeof e&&(this._opcode=e),"number"==typeof n&&(this._param=n)}return Object.defineProperty(PacketHeader.prototype,"length",{get:function(){return this._buf.length},enumerable:!0,configurable:!0}),Object.defineProperty(PacketHeader.prototype,"opcode",{get:function(){return this._opcode},set:function(e){this._opcode=e},enumerable:!0,configurable:!0}),Object.defineProperty(PacketHeader.prototype,"param",{get:function(){return this._param},set:function(e){this._param=e},enumerable:!0,configurable:!0}),Object.defineProperty(PacketHeader.prototype,"magic",{get:function(){return this._magic},set:function(e){this._magic=e},enumerable:!0,configurable:!0}),Object.defineProperty(PacketHeader.prototype,"uuid",{get:function(){return this._uuid},set:function(e){this._uuid=e},enumerable:!0,configurable:!0}),Object.defineProperty(PacketHeader.prototype,"blen",{get:function(){return this._len},set:function(e){this._len=e},enumerable:!0,configurable:!0}),PacketHeader.prototype.pack=function(){return this.clean_buf(),this._buf.writeUInt16LE(this._magic,this._offset),this._offset+=2,this._buf.writeUInt32LE(this._len,this._offset),this._offset+=4,this._buf.writeUInt32LE(this._opcode,this._offset),this._offset+=4,this._buf.writeUInt32LE(this._uuid,this._offset),this._offset+=4,this._buf.writeUInt32LE(this._param,this._offset),this._offset+=4,this._buf},PacketHeader.prototype.unpack=function(e){if(e.length<this._head_len)throw new Error("Packet header length invalid.");var n=0;return this._magic=e.readUInt16LE(n),n+=2,this._len=e.readUInt32LE(n),n+=4,this._opcode=e.readUInt32LE(n),n+=4,this._uuid=e.readUInt32LE(n),n+=4,this._param=e.readUInt32LE(n),n+=4},PacketHeader.prototype.clean_buf=function(){this._buf=a.Buffer.alloc(this._head_len),this._offset=0},PacketHeader}();n.PacketHeader=f;var p=function(){function Packet(e,n){this.mContentBuf=a.Buffer.alloc(0),this.mHeader=new f,this._init(e,n)}return Object.defineProperty(Packet.prototype,"header",{get:function(){return this.mHeader},set:function(e){this.mHeader=e},enumerable:!0,configurable:!0}),Object.defineProperty(Packet.prototype,"opcode",{get:function(){return this.mHeader.opcode},enumerable:!0,configurable:!0}),Object.defineProperty(Packet.prototype,"content",{get:function(){return this.mContent},set:function(e){this.mContent=e},enumerable:!0,configurable:!0}),Packet.prototype.Serialization=function(){this._contentEncode();var e=this._mkHead(),n=e.headBuf,r=e.headLength;return a.Buffer.concat([n,this.mContentBuf],r+this.mContentBuf.length)},Packet.prototype.Deserialization=function(e){if(e.length<18)throw new Error("Packet is smaller than header size.");var n=this.mHeader.unpack(e),r=this.mHeader.blen;return this.mContentBuf=a.Buffer.alloc(r),e.copy(this.mContentBuf,0,n),this._contentDecode(),!1},Packet.prototype._init=function(e,n){this.mHeader=void 0!==e?new f(e,n):new f},Packet.prototype._contentEncode=function(){},Packet.prototype._contentDecode=function(){},Packet.prototype._mkHead=function(){this.mHeader.blen=this.mContentBuf.length;var e=this.mHeader.pack();return{headBuf:e,headLength:e.length}},Packet}();n.Packet=p;var h=/^_(OP_.+)/,d=function(e){function PBpacket(n,r){var o=e.call(this)||this;return o._opcode_str="",o._pbClass=void 0,o._init(n,r),o}return i(PBpacket,e),Object.defineProperty(PBpacket.prototype,"pbClass",{get:function(){return this._pbClass},enumerable:!0,configurable:!0}),PBpacket.getProtocol=function(){return s},PBpacket.addProtocol=function(e){s.push(e)},PBpacket.prototype._init=function(n,r){e.prototype._init.call(this,n,r),this._reflection()},PBpacket.prototype._contentEncode=function(){if(void 0!==this._pbClass)return void 0===this.mContent?console.warn(new Error("Content is undefined.")):void(this.mContentBuf=new a.Buffer(this._pbClass.encode(this.mContent).finish()))},PBpacket.prototype._contentDecode=function(){if(this._reflection(),void 0!==this._pbClass){if(void 0===this.mContentBuf)return console.warn(new Error("Content buffer is undefined."));try{this.mContent=this._pbClass.decode(this.mContentBuf)}catch(e){console.error("_contentDecode error: "+e)}}},PBpacket.prototype._reflection=function(){var e=this,n=this.mHeader.opcode;if(void 0!==n){var r=this;s.forEach((function(o){if("OPCODE"in o&&n in o.OPCODE){r._opcode_str=o.OPCODE[n];var i=h.exec(e._opcode_str);if(i&&i.length>0){var a=i[1];a in o&&(r._pbClass=o[a])}}})),void 0!==this._pbClass&&this._buildContent()}},PBpacket.prototype._buildContent=function(){void 0!==this._pbClass&&"create"in this._pbClass&&(this.mContent=new this._pbClass.create)},PBpacket.prototype.toString=function(){return"OP["+this.mHeader.opcode+"] "+this._opcode_str+" - Content_Len: "+this.mContentBuf.length},PBpacket}(p);n.PBpacket=d},478:function(e,n,r){"use strict";var o=r(219),i=r(220),a=r(399),s=r(218),u=[],c=u.forEach,l=u.slice;function defaults(e){return c.call(l.call(arguments,1),(function(n){if(n)for(var r in n)void 0===e[r]&&(e[r]=n[r])})),e}function addQueryString(e,n){if(n&&"object"===Object(s.a)(n)){var r="",o=encodeURIComponent;for(var i in n)r+="&"+o(i)+"="+o(n[i]);if(!r)return e;e=e+(-1!==e.indexOf("?")?"&":"?")+r.slice(1)}return e}function ajax(e,n,r,o,i){o&&"object"===Object(s.a)(o)&&(i||(o._t=new Date),o=addQueryString("",o).slice(1)),n.queryStringParams&&(e=addQueryString(e,n.queryStringParams));try{var a;(a=XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP.3.0")).open(o?"POST":"GET",e,1),n.crossDomain||a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.withCredentials=!!n.withCredentials,o&&a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.overrideMimeType&&a.overrideMimeType("application/json");var u=n.customHeaders;if(u="function"==typeof u?u():u)for(var c in u)a.setRequestHeader(c,u[c]);a.onreadystatechange=function(){a.readyState>3&&r&&r(a.responseText,a)},a.send(o)}catch(e){console&&console.log(e)}}function getDefaults(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:JSON.parse,parsePayload:function parsePayload(e,n,r){return Object(a.a)({},n,r||"")},crossDomain:!1,ajax:ajax}}var f=function(){function Backend(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(o.a)(this,Backend),this.init(e,n),this.type="backend"}return Object(i.a)(Backend,[{key:"init",value:function init(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.services=e,this.options=defaults(n,this.options||{},getDefaults())}},{key:"readMulti",value:function readMulti(e,n,r){var o=this.options.loadPath;"function"==typeof this.options.loadPath&&(o=this.options.loadPath(e,n));var i=this.services.interpolator.interpolate(o,{lng:e.join("+"),ns:n.join("+")});this.loadUrl(i,r)}},{key:"read",value:function read(e,n,r){var o=this.options.loadPath;"function"==typeof this.options.loadPath&&(o=this.options.loadPath([e],[n]));var i=this.services.interpolator.interpolate(o,{lng:e,ns:n});this.loadUrl(i,r)}},{key:"loadUrl",value:function loadUrl(e,n){var r=this;this.options.ajax(e,this.options,(function(o,i){if(i.status>=500&&i.status<600)return n("failed loading "+e,!0);if(i.status>=400&&i.status<500)return n("failed loading "+e,!1);var a,s;try{a=r.options.parse(o,e)}catch(n){s="failed parsing "+e+" to json"}if(s)return n(s,!1);n(null,a)}))}},{key:"create",value:function create(e,n,r,o){var i=this;"string"==typeof e&&(e=[e]);var a=this.options.parsePayload(n,r,o);e.forEach((function(e){var r=i.services.interpolator.interpolate(i.options.addPath,{lng:e,ns:n});i.options.ajax(r,i.options,(function(e,n){}),a)}))}}]),Backend}();f.type="backend",n.a=f},479:function(e,n,r){"use strict";var o=r(219),i=r(220),a=[],s=a.forEach,u=a.slice;function defaults(e){return s.call(u.call(arguments,1),(function(n){if(n)for(var r in n)void 0===e[r]&&(e[r]=n[r])})),e}var c,l=function create(e,n,r,o){var i,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/"};if(r){var s=new Date;s.setTime(s.getTime()+60*r*1e3),i="; expires="+s.toUTCString()}else i="";o=o?"domain="+o+";":"",a=Object.keys(a).reduce((function(e,n){return e+";"+n.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}))+"="+a[n]}),""),document.cookie=e+"="+encodeURIComponent(n)+i+";"+o+a},f=function read(e){for(var n=e+"=",r=document.cookie.split(";"),o=0;o<r.length;o++){for(var i=r[o];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(n))return i.substring(n.length,i.length)}return null},p={name:"cookie",lookup:function lookup(e){var n;if(e.lookupCookie&&"undefined"!=typeof document){var r=f(e.lookupCookie);r&&(n=r)}return n},cacheUserLanguage:function cacheUserLanguage(e,n){n.lookupCookie&&"undefined"!=typeof document&&l(n.lookupCookie,e,n.cookieMinutes,n.cookieDomain,n.cookieOptions)}},h={name:"querystring",lookup:function lookup(e){var n;if("undefined"!=typeof window)for(var r=window.location.search.substring(1).split("&"),o=0;o<r.length;o++){var i=r[o].indexOf("=");if(i>0)r[o].substring(0,i)===e.lookupQuerystring&&(n=r[o].substring(i+1))}return n}};try{c="undefined"!==window&&null!==window.localStorage;window.localStorage.setItem("i18next.translate.boo","foo"),window.localStorage.removeItem("i18next.translate.boo")}catch(e){c=!1}var d,g={name:"localStorage",lookup:function lookup(e){var n;if(e.lookupLocalStorage&&c){var r=window.localStorage.getItem(e.lookupLocalStorage);r&&(n=r)}return n},cacheUserLanguage:function cacheUserLanguage(e,n){n.lookupLocalStorage&&c&&window.localStorage.setItem(n.lookupLocalStorage,e)}};try{d="undefined"!==window&&null!==window.sessionStorage;window.sessionStorage.setItem("i18next.translate.boo","foo"),window.sessionStorage.removeItem("i18next.translate.boo")}catch(e){d=!1}var y={name:"sessionStorage",lookup:function lookup(e){var n;if(e.lookupsessionStorage&&d){var r=window.sessionStorage.getItem(e.lookupsessionStorage);r&&(n=r)}return n},cacheUserLanguage:function cacheUserLanguage(e,n){n.lookupsessionStorage&&d&&window.sessionStorage.setItem(n.lookupsessionStorage,e)}},v={name:"navigator",lookup:function lookup(e){var n=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var r=0;r<navigator.languages.length;r++)n.push(navigator.languages[r]);navigator.userLanguage&&n.push(navigator.userLanguage),navigator.language&&n.push(navigator.language)}return n.length>0?n:void 0}},m={name:"htmlTag",lookup:function lookup(e){var n,r=e.htmlTag||("undefined"!=typeof document?document.documentElement:null);return r&&"function"==typeof r.getAttribute&&(n=r.getAttribute("lang")),n}},b={name:"path",lookup:function lookup(e){var n;if("undefined"!=typeof window){var r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(r instanceof Array)if("number"==typeof e.lookupFromPathIndex){if("string"!=typeof r[e.lookupFromPathIndex])return;n=r[e.lookupFromPathIndex].replace("/","")}else n=r[0].replace("/","")}return n}},k={name:"subdomain",lookup:function lookup(e){var n;if("undefined"!=typeof window){var r=window.location.href.match(/(?:http[s]*\:\/\/)*(.*?)\.(?=[^\/]*\..{2,5})/gi);r instanceof Array&&(n="number"==typeof e.lookupFromSubdomainIndex?r[e.lookupFromSubdomainIndex].replace("http://","").replace("https://","").replace(".",""):r[0].replace("http://","").replace("https://","").replace(".",""))}return n}};var x=function(){function Browser(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(o.a)(this,Browser),this.type="languageDetector",this.detectors={},this.init(e,n)}return Object(i.a)(Browser,[{key:"init",value:function init(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=defaults(n,this.options||{},{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],checkWhitelist:!0,checkForSimilarInWhitelist:!1}),this.options.checkForSimilarInWhitelist&&(this.options.checkWhitelist=!0),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(p),this.addDetector(h),this.addDetector(g),this.addDetector(y),this.addDetector(v),this.addDetector(m),this.addDetector(b),this.addDetector(k)}},{key:"addDetector",value:function addDetector(e){this.detectors[e.name]=e}},{key:"detect",value:function detect(e){var n=this;e||(e=this.options.order);var r,o=[];if(e.forEach((function(e){if(n.detectors[e]){var r=n.detectors[e].lookup(n.options);r&&"string"==typeof r&&(r=[r]),r&&(o=o.concat(r))}})),o.forEach((function(e){if(!r){var o=n.services.languageUtils.formatLanguageCode(e);n.options.checkWhitelist&&!n.services.languageUtils.isWhitelisted(o)||(r=o),!r&&n.options.checkForSimilarInWhitelist&&(r=n.getSimilarInWhitelist(o))}})),!r){var i=this.i18nOptions.fallbackLng;"string"==typeof i&&(i=[i]),i||(i=[]),r="[object Array]"===Object.prototype.toString.apply(i)?i[0]:i[0]||i.default&&i.default[0]}return r}},{key:"cacheUserLanguage",value:function cacheUserLanguage(e,n){var r=this;n||(n=this.options.caches),n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach((function(n){r.detectors[n]&&r.detectors[n].cacheUserLanguage(e,r.options)})))}},{key:"getSimilarInWhitelist",value:function getSimilarInWhitelist(e){var n=this;if(this.i18nOptions.whitelist){if(e.includes("-")){var r=e.split("-")[0],o=this.services.languageUtils.formatLanguageCode(r);if(this.services.languageUtils.isWhitelisted(o))return o;e=o}var i=this.i18nOptions.whitelist.find((function(r){var o=n.services.languageUtils.formatLanguageCode(r);if(o.startsWith(e))return o}));return i||void 0}}}]),Browser}();x.type="languageDetector",n.a=x},482:function(e,n,r){var o=r(401),i=r(483),a=new o,s="undefined"!=typeof window?window:self,u=s.crypto||s.msCrypto||{},c=u.subtle||u.webkitSubtle;function sha1sync(e){return a.digest(e)}try{c.digest({name:"sha-1"},new Uint8Array).catch((function(){c=!1}))}catch(e){c=!1}e.exports=function sha1(e,n){c?("string"==typeof e&&(e=function uint8array(e){for(var n=e.length,r=new Uint8Array(n),o=0;o<n;o++)r[o]=e.charCodeAt(o);return r}(e)),c.digest({name:"sha-1"},e).then((function succeed(e){n(function hex(e){for(var n=e.length,r=[],o=0;o<n;o++){var i=e[o];r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")}(new Uint8Array(e)))}),(function fail(){n(sha1sync(e))}))):"undefined"!=typeof window?i(e,(function onRushaWorkerSha1(r,o){n(r?sha1sync(e):o)})):queueMicrotask(()=>n(sha1sync(e)))},e.exports.sync=sha1sync},483:function(e,n,r){var o,i,a,s=r(401);e.exports=function sha1(e,n){o||function init(){o=s.createWorker(),i=1,a={},o.onmessage=function onRushaMessage(e){var n=e.data.id,r=a[n];delete a[n],null!=e.data.error?r(new Error("Rusha worker error: "+e.data.error)):r(null,e.data.hash)}}(),a[i]=n,o.postMessage({id:i,data:e}),i+=1}},498:function(e,n,r){"use strict";const copyTextToClipboard=(e,{target:n=document.body}={})=>{const r=document.createElement("textarea"),o=document.activeElement;r.value=e,r.setAttribute("readonly",""),r.style.contain="strict",r.style.position="absolute",r.style.left="-9999px",r.style.fontSize="12pt";const i=document.getSelection();let a=!1;i.rangeCount>0&&(a=i.getRangeAt(0)),n.append(r),r.select(),r.selectionStart=0,r.selectionEnd=e.length;let s=!1;try{s=document.execCommand("copy")}catch(e){}return r.remove(),a&&(i.removeAllRanges(),i.addRange(a)),o&&o.focus(),s};e.exports=copyTextToClipboard,e.exports.default=copyTextToClipboard},511:function(e,n,r){"use strict";var o=r(218),i=r(399);function _objectSpread(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?Object(arguments[n]):{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),o.forEach((function(n){Object(i.a)(e,n,r[n])}))}return e}var a=r(219),s=r(220);function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _possibleConstructorReturn(e,n){return!n||"object"!==Object(o.a)(n)&&"function"!=typeof n?_assertThisInitialized(e):n}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,n){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,n){return e.__proto__=n,e})(e,n)}function _inherits(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&_setPrototypeOf(e,n)}var u={type:"logger",log:function log(e){this.output("log",e)},warn:function warn(e){this.output("warn",e)},error:function error(e){this.output("error",e)},output:function output(e,n){console&&console[e]&&console[e].apply(console,n)}},c=new(function(){function Logger(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(a.a)(this,Logger),this.init(e,n)}return Object(s.a)(Logger,[{key:"init",value:function init(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||u,this.options=n,this.debug=n.debug}},{key:"setDebug",value:function setDebug(e){this.debug=e}},{key:"log",value:function log(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}},{key:"warn",value:function warn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}},{key:"error",value:function error(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"error","")}},{key:"deprecate",value:function deprecate(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function forward(e,n,r,o){return o&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(r).concat(this.prefix," ").concat(e[0])),this.logger[n](e))}},{key:"create",value:function create(e){return new Logger(this.logger,_objectSpread({},{prefix:"".concat(this.prefix,":").concat(e,":")},this.options))}}]),Logger}()),l=function(){function EventEmitter(){Object(a.a)(this,EventEmitter),this.observers={}}return Object(s.a)(EventEmitter,[{key:"on",value:function on(e,n){var r=this;return e.split(" ").forEach((function(e){r.observers[e]=r.observers[e]||[],r.observers[e].push(n)})),this}},{key:"off",value:function off(e,n){this.observers[e]&&(n?this.observers[e]=this.observers[e].filter((function(e){return e!==n})):delete this.observers[e])}},{key:"emit",value:function emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];if(this.observers[e]){var i=[].concat(this.observers[e]);i.forEach((function(e){e.apply(void 0,r)}))}if(this.observers["*"]){var a=[].concat(this.observers["*"]);a.forEach((function(n){n.apply(n,[e].concat(r))}))}}}]),EventEmitter}();function defer(){var e,n,r=new Promise((function(r,o){e=r,n=o}));return r.resolve=e,r.reject=n,r}function makeString(e){return null==e?"":""+e}function copy(e,n,r){e.forEach((function(e){n[e]&&(r[e]=n[e])}))}function getLastOfPath(e,n,r){function cleanKey(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function canNotTraverseDeeper(){return!e||"string"==typeof e}for(var o="string"!=typeof n?[].concat(n):n.split(".");o.length>1;){if(canNotTraverseDeeper())return{};var i=cleanKey(o.shift());!e[i]&&r&&(e[i]=new r),e=e[i]}return canNotTraverseDeeper()?{}:{obj:e,k:cleanKey(o.shift())}}function setPath(e,n,r){var o=getLastOfPath(e,n,Object);o.obj[o.k]=r}function getPath(e,n){var r=getLastOfPath(e,n),o=r.obj,i=r.k;if(o)return o[i]}function getPathWithDefaults(e,n,r){var o=getPath(e,r);return void 0!==o?o:getPath(n,r)}function deepExtend(e,n,r){for(var o in n)"__proto__"!==o&&(o in e?"string"==typeof e[o]||e[o]instanceof String||"string"==typeof n[o]||n[o]instanceof String?r&&(e[o]=n[o]):deepExtend(e[o],n[o],r):e[o]=n[o]);return e}function regexEscape(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function i18next_escape(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return f[e]})):e}var p="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,h=function(e){function ResourceStore(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return Object(a.a)(this,ResourceStore),n=_possibleConstructorReturn(this,_getPrototypeOf(ResourceStore).call(this)),p&&l.call(_assertThisInitialized(n)),n.data=e||{},n.options=r,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n}return _inherits(ResourceStore,e),Object(s.a)(ResourceStore,[{key:"addNamespaces",value:function addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function removeNamespaces(e){var n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}},{key:"getResource",value:function getResource(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=void 0!==o.keySeparator?o.keySeparator:this.options.keySeparator,a=[e,n];return r&&"string"!=typeof r&&(a=a.concat(r)),r&&"string"==typeof r&&(a=a.concat(i?r.split(i):r)),e.indexOf(".")>-1&&(a=e.split(".")),getPath(this.data,a)}},{key:"addResource",value:function addResource(e,n,r,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},a=this.options.keySeparator;void 0===a&&(a=".");var s=[e,n];r&&(s=s.concat(a?r.split(a):r)),e.indexOf(".")>-1&&(o=n,n=(s=e.split("."))[1]),this.addNamespaces(n),setPath(this.data,s,o),i.silent||this.emit("added",e,n,r,o)}},{key:"addResources",value:function addResources(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in r)"string"!=typeof r[i]&&"[object Array]"!==Object.prototype.toString.apply(r[i])||this.addResource(e,n,i,r[i],{silent:!0});o.silent||this.emit("added",e,n,r)}},{key:"addResourceBundle",value:function addResourceBundle(e,n,r,o,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},s=[e,n];e.indexOf(".")>-1&&(o=r,r=n,n=(s=e.split("."))[1]),this.addNamespaces(n);var u=getPath(this.data,s)||{};o?deepExtend(u,r,i):u=_objectSpread({},u,r),setPath(this.data,s,u),a.silent||this.emit("added",e,n,r)}},{key:"removeResourceBundle",value:function removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}},{key:"hasResourceBundle",value:function hasResourceBundle(e,n){return void 0!==this.getResource(e,n)}},{key:"getResourceBundle",value:function getResourceBundle(e,n){return n||(n=this.options.defaultNS),"v1"===this.options.compatibilityAPI?_objectSpread({},{},this.getResource(e,n)):this.getResource(e,n)}},{key:"getDataByLanguage",value:function getDataByLanguage(e){return this.data[e]}},{key:"toJSON",value:function toJSON(){return this.data}}]),ResourceStore}(l),d={processors:{},addPostProcessor:function addPostProcessor(e){this.processors[e.name]=e},handle:function handle(e,n,r,o,i){var a=this;return e.forEach((function(e){a.processors[e]&&(n=a.processors[e].process(n,r,o,i))})),n}},g={},y=function(e){function Translator(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(a.a)(this,Translator),n=_possibleConstructorReturn(this,_getPrototypeOf(Translator).call(this)),p&&l.call(_assertThisInitialized(n)),copy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,_assertThisInitialized(n)),n.options=r,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n.logger=c.create("translator"),n}return _inherits(Translator,e),Object(s.a)(Translator,[{key:"changeLanguage",value:function changeLanguage(e){e&&(this.language=e)}},{key:"exists",value:function exists(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},r=this.resolve(e,n);return r&&void 0!==r.res}},{key:"extractFromKey",value:function extractFromKey(e,n){var r=void 0!==n.nsSeparator?n.nsSeparator:this.options.nsSeparator;void 0===r&&(r=":");var o=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,i=n.ns||this.options.defaultNS;if(r&&e.indexOf(r)>-1){var a=e.match(this.interpolator.nestingRegexp);if(a&&a.length>0)return{key:e,namespaces:i};var s=e.split(r);(r!==o||r===o&&this.options.ns.indexOf(s[0])>-1)&&(i=s.shift()),e=s.join(o)}return"string"==typeof i&&(i=[i]),{key:e,namespaces:i}}},{key:"translate",value:function translate(e,n,r){var i=this;if("object"!==Object(o.a)(n)&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),n||(n={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var a=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,s=this.extractFromKey(e[e.length-1],n),u=s.key,c=s.namespaces,l=c[c.length-1],f=n.lng||this.language,p=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f&&"cimode"===f.toLowerCase()){if(p){var h=n.nsSeparator||this.options.nsSeparator;return l+h+u}return u}var d=this.resolve(e,n),g=d&&d.res,y=d&&d.usedKey||u,v=d&&d.exactUsedKey||u,m=Object.prototype.toString.apply(g),b=["[object Number]","[object Function]","[object RegExp]"],k=void 0!==n.joinArrays?n.joinArrays:this.options.joinArrays,x=!this.i18nFormat||this.i18nFormat.handleAsObject,w="string"!=typeof g&&"boolean"!=typeof g&&"number"!=typeof g;if(x&&g&&w&&b.indexOf(m)<0&&("string"!=typeof k||"[object Array]"!==m)){if(!n.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,g,n):"key '".concat(u," (").concat(this.language,")' returned an object instead of string.");if(a){var S="[object Array]"===m,O=S?[]:{},E=S?v:y;for(var L in g)if(Object.prototype.hasOwnProperty.call(g,L)){var C="".concat(E).concat(a).concat(L);O[L]=this.translate(C,_objectSpread({},n,{joinArrays:!1,ns:c})),O[L]===C&&(O[L]=g[L])}g=O}}else if(x&&"string"==typeof k&&"[object Array]"===m)(g=g.join(k))&&(g=this.extendTranslation(g,e,n,r));else{var P=!1,I=!1;if(!this.isValidLookup(g)&&void 0!==n.defaultValue){if(P=!0,void 0!==n.count){var R=this.pluralResolver.getSuffix(f,n.count);g=n["defaultValue".concat(R)]}g||(g=n.defaultValue)}this.isValidLookup(g)||(I=!0,g=u);var T=n.defaultValue&&n.defaultValue!==g&&this.options.updateMissing;if(I||P||T){if(this.logger.log(T?"updateKey":"missingKey",f,l,u,T?n.defaultValue:g),a){var N=this.resolve(u,_objectSpread({},n,{keySeparator:!1}));N&&N.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var j=[],D=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if("fallback"===this.options.saveMissingTo&&D&&D[0])for(var A=0;A<D.length;A++)j.push(D[A]);else"all"===this.options.saveMissingTo?j=this.languageUtils.toResolveHierarchy(n.lng||this.language):j.push(n.lng||this.language);var B=function send(e,r){i.options.missingKeyHandler?i.options.missingKeyHandler(e,l,r,T?n.defaultValue:g,T,n):i.backendConnector&&i.backendConnector.saveMissing&&i.backendConnector.saveMissing(e,l,r,T?n.defaultValue:g,T,n),i.emit("missingKey",e,l,r,g)};if(this.options.saveMissing){var M=void 0!==n.count&&"string"!=typeof n.count;this.options.saveMissingPlurals&&M?j.forEach((function(e){i.pluralResolver.getPluralFormsOfKey(e,u).forEach((function(n){return B([e],n)}))})):B(j,u)}}g=this.extendTranslation(g,e,n,d,r),I&&g===u&&this.options.appendNamespaceToMissingKey&&(g="".concat(l,":").concat(u)),I&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(g))}return g}},{key:"extendTranslation",value:function extendTranslation(e,n,r,o,i){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,r,o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init(_objectSpread({},r,{interpolation:_objectSpread({},this.options.interpolation,r.interpolation)}));var s,u=r.interpolation&&r.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;if(u){var c=e.match(this.interpolator.nestingRegexp);s=c&&c.length}var l=r.replace&&"string"!=typeof r.replace?r.replace:r;if(this.options.interpolation.defaultVariables&&(l=_objectSpread({},this.options.interpolation.defaultVariables,l)),e=this.interpolator.interpolate(e,l,r.lng||this.language,r),u){var f=e.match(this.interpolator.nestingRegexp);s<(f&&f.length)&&(r.nest=!1)}!1!==r.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return i&&i[0]===r[0]?(a.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(n[0])),null):a.translate.apply(a,r.concat([n]))}),r)),r.interpolation&&this.interpolator.reset()}var p=r.postProcess||this.options.postProcess,h="string"==typeof p?[p]:p;return null!=e&&h&&h.length&&!1!==r.applyPostProcessor&&(e=d.handle(h,e,n,this.options&&this.options.postProcessPassResolved?_objectSpread({i18nResolved:o},r):r,this)),e}},{key:"resolve",value:function resolve(e){var n,r,o,i,a,s=this,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!s.isValidLookup(n)){var c=s.extractFromKey(e,u),l=c.key;r=l;var f=c.namespaces;s.options.fallbackNS&&(f=f.concat(s.options.fallbackNS));var p=void 0!==u.count&&"string"!=typeof u.count,h=void 0!==u.context&&"string"==typeof u.context&&""!==u.context,d=u.lngs?u.lngs:s.languageUtils.toResolveHierarchy(u.lng||s.language,u.fallbackLng);f.forEach((function(e){s.isValidLookup(n)||(a=e,!g["".concat(d[0],"-").concat(e)]&&s.utils&&s.utils.hasLoadedNamespace&&!s.utils.hasLoadedNamespace(a)&&(g["".concat(d[0],"-").concat(e)]=!0,s.logger.warn('key "'.concat(r,'" for languages "').concat(d.join(", "),'" won\'t get resolved as namespace "').concat(a,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),d.forEach((function(r){if(!s.isValidLookup(n)){i=r;var a,c,f=l,d=[f];if(s.i18nFormat&&s.i18nFormat.addLookupKeys)s.i18nFormat.addLookupKeys(d,l,r,e,u);else p&&(a=s.pluralResolver.getSuffix(r,u.count)),p&&h&&d.push(f+a),h&&d.push(f+="".concat(s.options.contextSeparator).concat(u.context)),p&&d.push(f+=a);for(;c=d.pop();)s.isValidLookup(n)||(o=c,n=s.getResource(r,e,c,u))}})))}))}})),{res:n,usedKey:r,exactUsedKey:o,usedLng:i,usedNS:a}}},{key:"isValidLookup",value:function isValidLookup(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function getResource(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,r,o):this.resourceStore.getResource(e,n,r,o)}}]),Translator}(l);function capitalize(e){return e.charAt(0).toUpperCase()+e.slice(1)}var v=function(){function LanguageUtil(e){Object(a.a)(this,LanguageUtil),this.options=e,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=c.create("languageUtils")}return Object(s.a)(LanguageUtil,[{key:"getScriptPartFromCode",value:function getScriptPartFromCode(e){if(!e||e.indexOf("-")<0)return null;var n=e.split("-");return 2===n.length?null:(n.pop(),"x"===n[n.length-1].toLowerCase()?null:this.formatLanguageCode(n.join("-")))}},{key:"getLanguagePartFromCode",value:function getLanguagePartFromCode(e){if(!e||e.indexOf("-")<0)return e;var n=e.split("-");return this.formatLanguageCode(n[0])}},{key:"formatLanguageCode",value:function formatLanguageCode(e){if("string"==typeof e&&e.indexOf("-")>-1){var n=["hans","hant","latn","cyrl","cans","mong","arab"],r=e.split("-");return this.options.lowerCaseLng?r=r.map((function(e){return e.toLowerCase()})):2===r.length?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=capitalize(r[1].toLowerCase()))):3===r.length&&(r[0]=r[0].toLowerCase(),2===r[1].length&&(r[1]=r[1].toUpperCase()),"sgn"!==r[0]&&2===r[2].length&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=capitalize(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=capitalize(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isWhitelisted",value:function isWhitelisted(e){return this.logger.deprecate("languageUtils.isWhitelisted",'function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it\'s usage asap.'),this.isSupportedCode(e)}},{key:"isSupportedCode",value:function isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function getBestMatchFromCodes(e){var n,r=this;return e?(e.forEach((function(e){if(!n){var o=r.formatLanguageCode(e);r.options.supportedLngs&&!r.isSupportedCode(o)||(n=o)}})),!n&&this.options.supportedLngs&&e.forEach((function(e){if(!n){var o=r.getLanguagePartFromCode(e);if(r.isSupportedCode(o))return n=o;n=r.options.supportedLngs.find((function(e){if(0===e.indexOf(o))return e}))}})),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n):null}},{key:"getFallbackCodes",value:function getFallbackCodes(e,n){if(!e)return[];if("string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!n)return e.default||[];var r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}},{key:"toResolveHierarchy",value:function toResolveHierarchy(e,n){var r=this,o=this.getFallbackCodes(n||this.options.fallbackLng||[],e),i=[],a=function addCode(e){e&&(r.isSupportedCode(e)?i.push(e):r.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&a(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&a(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&a(this.getLanguagePartFromCode(e))):"string"==typeof e&&a(this.formatLanguageCode(e)),o.forEach((function(e){i.indexOf(e)<0&&a(r.formatLanguageCode(e))})),i}}]),LanguageUtil}(),m=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],b={1:function _(e){return Number(e>1)},2:function _(e){return Number(1!=e)},3:function _(e){return 0},4:function _(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function _(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function _(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function _(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function _(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function _(e){return Number(e>=2)},10:function _(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function _(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function _(e){return Number(e%10!=1||e%100==11)},13:function _(e){return Number(0!==e)},14:function _(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function _(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function _(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function _(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function _(e){return Number(0==e?0:1==e?1:2)},19:function _(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function _(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function _(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function _(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}};function createRules(){var e={};return m.forEach((function(n){n.lngs.forEach((function(r){e[r]={numbers:n.nr,plurals:b[n.fc]}}))})),e}var k=function(){function PluralResolver(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(a.a)(this,PluralResolver),this.languageUtils=e,this.options=n,this.logger=c.create("pluralResolver"),this.rules=createRules()}return Object(s.a)(PluralResolver,[{key:"addRule",value:function addRule(e,n){this.rules[e]=n}},{key:"getRule",value:function getRule(e){return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function needsPlural(e){var n=this.getRule(e);return n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function getPluralFormsOfKey(e,n){var r=this,o=[],i=this.getRule(e);return i?(i.numbers.forEach((function(i){var a=r.getSuffix(e,i);o.push("".concat(n).concat(a))})),o):o}},{key:"getSuffix",value:function getSuffix(e,n){var r=this,o=this.getRule(e);if(o){var i=o.noAbs?o.plurals(n):o.plurals(Math.abs(n)),a=o.numbers[i];this.options.simplifyPluralSuffix&&2===o.numbers.length&&1===o.numbers[0]&&(2===a?a="plural":1===a&&(a=""));var s=function returnSuffix(){return r.options.prepend&&a.toString()?r.options.prepend+a.toString():a.toString()};return"v1"===this.options.compatibilityJSON?1===a?"":"number"==typeof a?"_plural_".concat(a.toString()):s():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===o.numbers.length&&1===o.numbers[0]?s():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}return this.logger.warn("no plural rule found for: ".concat(e)),""}}]),PluralResolver}(),x=function(){function Interpolator(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(a.a)(this,Interpolator),this.logger=c.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(e){return e},this.init(e)}return Object(s.a)(Interpolator,[{key:"init",value:function init(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var n=e.interpolation;this.escape=void 0!==n.escape?n.escape:i18next_escape,this.escapeValue=void 0===n.escapeValue||n.escapeValue,this.useRawValueToEscape=void 0!==n.useRawValueToEscape&&n.useRawValueToEscape,this.prefix=n.prefix?regexEscape(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?regexEscape(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?regexEscape(n.nestingPrefix):n.nestingPrefixEscaped||regexEscape("$t("),this.nestingSuffix=n.nestingSuffix?regexEscape(n.nestingSuffix):n.nestingSuffixEscaped||regexEscape(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=void 0!==n.alwaysFormat&&n.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function reset(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function resetRegExp(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var n="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(n,"g");var r="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(r,"g")}},{key:"interpolate",value:function interpolate(e,n,r,o){var i,a,s,u=this,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function regexSafe(e){return e.replace(/\$/g,"$$$$")}var l=function handleFormat(e){if(e.indexOf(u.formatSeparator)<0){var i=getPathWithDefaults(n,c,e);return u.alwaysFormat?u.format(i,void 0,r):i}var a=e.split(u.formatSeparator),s=a.shift().trim(),l=a.join(u.formatSeparator).trim();return u.format(getPathWithDefaults(n,c,s),l,r,o)};this.resetRegExp();var f=o&&o.missingInterpolationHandler||this.options.missingInterpolationHandler,p=o&&o.interpolation&&o.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function safeValue(e){return regexSafe(e)}},{regex:this.regexp,safeValue:function safeValue(e){return u.escapeValue?regexSafe(u.escape(e)):regexSafe(e)}}].forEach((function(n){for(s=0;i=n.regex.exec(e);){if(void 0===(a=l(i[1].trim())))if("function"==typeof f){var r=f(e,i,o);a="string"==typeof r?r:""}else{if(p){a=i[0];continue}u.logger.warn("missed to pass in variable ".concat(i[1]," for interpolating ").concat(e)),a=""}else"string"==typeof a||u.useRawValueToEscape||(a=makeString(a));if(e=e.replace(i[0],n.safeValue(a)),n.regex.lastIndex=0,++s>=u.maxReplaces)break}})),e}},{key:"nest",value:function nest(e,n){var r,o,i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=_objectSpread({},a);function handleHasOptions(e,n){var r=this.nestingOptionsSeparator;if(e.indexOf(r)<0)return e;var o=e.split(new RegExp("".concat(r,"[ ]*{"))),i="{".concat(o[1]);e=o[0],i=(i=this.interpolate(i,s)).replace(/'/g,'"');try{s=JSON.parse(i),n&&(s=_objectSpread({},n,s))}catch(n){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),n),"".concat(e).concat(r).concat(i)}return delete s.defaultValue,e}for(s.applyPostProcessor=!1,delete s.defaultValue;r=this.nestingRegexp.exec(e);){var u=[],c=!1;if(r[0].includes(this.formatSeparator)&&!/{.*}/.test(r[1])){var l=r[1].split(this.formatSeparator).map((function(e){return e.trim()}));r[1]=l.shift(),u=l,c=!0}if((o=n(handleHasOptions.call(this,r[1].trim(),s),s))&&r[0]===e&&"string"!=typeof o)return o;"string"!=typeof o&&(o=makeString(o)),o||(this.logger.warn("missed to resolve ".concat(r[1]," for nesting ").concat(e)),o=""),c&&(o=u.reduce((function(e,n){return i.format(e,n,a.lng,a)}),o.trim())),e=e.replace(r[0],o),this.regexp.lastIndex=0}return e}}]),Interpolator}();var w=function(e){function Connector(e,n,r){var o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Object(a.a)(this,Connector),o=_possibleConstructorReturn(this,_getPrototypeOf(Connector).call(this)),p&&l.call(_assertThisInitialized(o)),o.backend=e,o.store=n,o.services=r,o.languageUtils=r.languageUtils,o.options=i,o.logger=c.create("backendConnector"),o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(r,i.backend,i),o}return _inherits(Connector,e),Object(s.a)(Connector,[{key:"queueLoad",value:function queueLoad(e,n,r,o){var i=this,a=[],s=[],u=[],c=[];return e.forEach((function(e){var o=!0;n.forEach((function(n){var u="".concat(e,"|").concat(n);!r.reload&&i.store.hasResourceBundle(e,n)?i.state[u]=2:i.state[u]<0||(1===i.state[u]?s.indexOf(u)<0&&s.push(u):(i.state[u]=1,o=!1,s.indexOf(u)<0&&s.push(u),a.indexOf(u)<0&&a.push(u),c.indexOf(n)<0&&c.push(n)))})),o||u.push(e)})),(a.length||s.length)&&this.queue.push({pending:s,loaded:{},errors:[],callback:o}),{toLoad:a,pending:s,toLoadLanguages:u,toLoadNamespaces:c}}},{key:"loaded",value:function loaded(e,n,r){var o=e.split("|"),i=o[0],a=o[1];n&&this.emit("failedLoading",i,a,n),r&&this.store.addResourceBundle(i,a,r),this.state[e]=n?-1:2;var loaded={};this.queue.forEach((function(r){!function pushPath(e,n,r,o){var i=getLastOfPath(e,n,Object),a=i.obj,s=i.k;a[s]=a[s]||[],o&&(a[s]=a[s].concat(r)),o||a[s].push(r)}(r.loaded,[i],a),function remove(e,n){for(var r=e.indexOf(n);-1!==r;)e.splice(r,1),r=e.indexOf(n)}(r.pending,e),n&&r.errors.push(n),0!==r.pending.length||r.done||(Object.keys(r.loaded).forEach((function(e){loaded[e]||(loaded[e]=[]),r.loaded[e].length&&r.loaded[e].forEach((function(n){loaded[e].indexOf(n)<0&&loaded[e].push(n)}))})),r.done=!0,r.errors.length?r.callback(r.errors):r.callback())})),this.emit("loaded",loaded),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function read(e,n,r){var o=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,s=arguments.length>5?arguments[5]:void 0;return e.length?this.backend[r](e,n,(function(u,c){u&&c&&i<5?setTimeout((function(){o.read.call(o,e,n,r,i+1,2*a,s)}),a):s(u,c)})):s(null,{})}},{key:"prepareLoading",value:function prepareLoading(e,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof n&&(n=[n]);var a=this.queueLoad(e,n,o,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach((function(e){r.loadOne(e)}))}},{key:"load",value:function load(e,n,r){this.prepareLoading(e,n,{},r)}},{key:"reload",value:function reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}},{key:"loadOne",value:function loadOne(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=e.split("|"),i=o[0],a=o[1];this.read(i,a,"read",void 0,void 0,(function(o,s){o&&n.logger.warn("".concat(r,"loading namespace ").concat(a," for language ").concat(i," failed"),o),!o&&s&&n.logger.log("".concat(r,"loaded namespace ").concat(a," for language ").concat(i),s),n.loaded(e,o,s)}))}},{key:"saveMissing",value:function saveMissing(e,n,r,o,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)?this.logger.warn('did not save key "'.concat(r,'" as the namespace "').concat(n,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=r&&""!==r&&(this.backend&&this.backend.create&&this.backend.create(e,n,r,o,null,_objectSpread({},a,{isUpdate:i})),e&&e[0]&&this.store.addResource(e[0],n,r,o))}}]),Connector}(l);function get(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function handle(e){var n={};if("object"===Object(o.a)(e[1])&&(n=e[1]),"string"==typeof e[1]&&(n.defaultValue=e[1]),"string"==typeof e[2]&&(n.tDescription=e[2]),"object"===Object(o.a)(e[2])||"object"===Object(o.a)(e[3])){var r=e[3]||e[2];Object.keys(r).forEach((function(e){n[e]=r[e]}))}return n},interpolation:{escapeValue:!0,format:function format(e,n,r,o){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!1}}}function transformOptions(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.whitelist&&(e.whitelist&&e.whitelist.indexOf("cimode")<0&&(e.whitelist=e.whitelist.concat(["cimode"])),e.supportedLngs=e.whitelist),e.nonExplicitWhitelist&&(e.nonExplicitSupportedLngs=e.nonExplicitWhitelist),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function noop(){}var S=new(function(e){function I18n(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(Object(a.a)(this,I18n),e=_possibleConstructorReturn(this,_getPrototypeOf(I18n).call(this)),p&&l.call(_assertThisInitialized(e)),e.options=transformOptions(n),e.services={},e.logger=c,e.modules={external:[]},r&&!e.isInitialized&&!n.isClone){if(!e.options.initImmediate)return e.init(n,r),_possibleConstructorReturn(e,_assertThisInitialized(e));setTimeout((function(){e.init(n,r)}),0)}return e}return _inherits(I18n,e),Object(s.a)(I18n,[{key:"init",value:function init(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;function createClassOnDemand(e){return e?"function"==typeof e?new e:e:null}if("function"==typeof n&&(r=n,n={}),n.whitelist&&!n.supportedLngs&&this.logger.deprecate("whitelist",'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.'),n.nonExplicitWhitelist&&!n.nonExplicitSupportedLngs&&this.logger.deprecate("whitelist",'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.'),this.options=_objectSpread({},get(),this.options,transformOptions(n)),this.format=this.options.interpolation.format,r||(r=noop),!this.options.isClone){this.modules.logger?c.init(createClassOnDemand(this.modules.logger),this.options):c.init(null,this.options);var o=new v(this.options);this.store=new h(this.options.resources,this.options);var i=this.services;i.logger=c,i.resourceStore=this.store,i.languageUtils=o,i.pluralResolver=new k(o,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),i.interpolator=new x(this.options),i.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},i.backendConnector=new w(createClassOnDemand(this.modules.backend),i.resourceStore,i,this.options),i.backendConnector.on("*",(function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];e.emit.apply(e,[n].concat(o))})),this.modules.languageDetector&&(i.languageDetector=createClassOnDemand(this.modules.languageDetector),i.languageDetector.init(i,this.options.detection,this.options)),this.modules.i18nFormat&&(i.i18nFormat=createClassOnDemand(this.modules.i18nFormat),i.i18nFormat.init&&i.i18nFormat.init(this)),this.translator=new y(this.services,this.options),this.translator.on("*",(function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];e.emit.apply(e,[n].concat(o))})),this.modules.external.forEach((function(n){n.init&&n.init(e)}))}this.modules.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var a=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];a.forEach((function(n){e[n]=function(){var r;return(r=e.store)[n].apply(r,arguments)}}));var s=["addResource","addResources","addResourceBundle","removeResourceBundle"];s.forEach((function(n){e[n]=function(){var r;return(r=e.store)[n].apply(r,arguments),e}}));var u=defer(),l=function load(){e.changeLanguage(e.options.lng,(function(n,o){e.isInitialized=!0,e.logger.log("initialized",e.options),e.emit("initialized",e.options),u.resolve(o),r(n,o)}))};return this.options.resources||!this.options.initImmediate?l():setTimeout(l,0),u}},{key:"loadResources",value:function loadResources(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:noop,o=r,i="string"==typeof e?e:this.language;if("function"==typeof e&&(o=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&"cimode"===i.toLowerCase())return o();var a=[],s=function append(e){e&&n.services.languageUtils.toResolveHierarchy(e).forEach((function(e){a.indexOf(e)<0&&a.push(e)}))};if(i)s(i);else{var u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.forEach((function(e){return s(e)}))}this.options.preload&&this.options.preload.forEach((function(e){return s(e)})),this.services.backendConnector.load(a,this.options.ns,o)}else o(null)}},{key:"reloadResources",value:function reloadResources(e,n,r){var o=defer();return e||(e=this.languages),n||(n=this.options.ns),r||(r=noop),this.services.backendConnector.reload(e,n,(function(e){o.resolve(),r(e)})),o}},{key:"use",value:function use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&d.addPostProcessor(e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"changeLanguage",value:function changeLanguage(e,n){var r=this;this.isLanguageChangingTo=e;var o=defer();this.emit("languageChanging",e);var i=function setLng(e){var i="string"==typeof e?e:r.services.languageUtils.getBestMatchFromCodes(e);i&&(r.language||(r.language=i,r.languages=r.services.languageUtils.toResolveHierarchy(i)),r.translator.language||r.translator.changeLanguage(i),r.services.languageDetector&&r.services.languageDetector.cacheUserLanguage(i)),r.loadResources(i,(function(e){!function done(e,i){i?(r.language=i,r.languages=r.services.languageUtils.toResolveHierarchy(i),r.translator.changeLanguage(i),r.isLanguageChangingTo=void 0,r.emit("languageChanged",i),r.logger.log("languageChanged",i)):r.isLanguageChangingTo=void 0,o.resolve((function(){return r.t.apply(r,arguments)})),n&&n(e,(function(){return r.t.apply(r,arguments)}))}(e,i)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(i):i(e):i(this.services.languageDetector.detect()),o}},{key:"getFixedT",value:function getFixedT(e,n){var r=this,i=function fixedT(e,n){var i;if("object"!==Object(o.a)(n)){for(var a=arguments.length,s=new Array(a>2?a-2:0),u=2;u<a;u++)s[u-2]=arguments[u];i=r.options.overloadTranslationOptionHandler([e,n].concat(s))}else i=_objectSpread({},n);return i.lng=i.lng||fixedT.lng,i.lngs=i.lngs||fixedT.lngs,i.ns=i.ns||fixedT.ns,r.t(e,i)};return"string"==typeof e?i.lng=e:i.lngs=e,i.ns=n,i}},{key:"t",value:function t(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function exists(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function setDefaultNamespace(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function hasLoadedNamespace(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var o=this.languages[0],i=!!this.options&&this.options.fallbackLng,a=this.languages[this.languages.length-1];if("cimode"===o.toLowerCase())return!0;var s=function loadNotPending(e,r){var o=n.services.backendConnector.state["".concat(e,"|").concat(r)];return-1===o||2===o};if(r.precheck){var u=r.precheck(this,s);if(void 0!==u)return u}return!!this.hasResourceBundle(o,e)||(!this.services.backendConnector.backend||!(!s(o,e)||i&&!s(a,e)))}},{key:"loadNamespaces",value:function loadNamespaces(e,n){var r=this,o=defer();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){r.options.ns.indexOf(e)<0&&r.options.ns.push(e)})),this.loadResources((function(e){o.resolve(),n&&n(e)})),o):(n&&n(),Promise.resolve())}},{key:"loadLanguages",value:function loadLanguages(e,n){var r=defer();"string"==typeof e&&(e=[e]);var o=this.options.preload||[],i=e.filter((function(e){return o.indexOf(e)<0}));return i.length?(this.options.preload=o.concat(i),this.loadResources((function(e){r.resolve(),n&&n(e)})),r):(n&&n(),Promise.resolve())}},{key:"dir",value:function dir(e){if(e||(e=this.languages&&this.languages.length>0?this.languages[0]:this.language),!e)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>=0?"rtl":"ltr"}},{key:"createInstance",value:function createInstance(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new I18n(e,n)}},{key:"cloneInstance",value:function cloneInstance(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:noop,o=_objectSpread({},this.options,n,{isClone:!0}),i=new I18n(o),a=["store","services","language"];return a.forEach((function(n){i[n]=e[n]})),i.services=_objectSpread({},this.services),i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i.translator=new y(i.services,i.options),i.translator.on("*",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];i.emit.apply(i,[e].concat(r))})),i.init(o,r),i.translator.options=i.options,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}}]),I18n}(l));n.a=S}}]);