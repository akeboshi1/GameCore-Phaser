/*! For license information please see tooqing.js.LICENSE */
!function webpackUniversalModuleDefinition(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.TooqingCore=n():e.TooqingCore=n()}(this,(function(){return function(e){function webpackJsonpCallback(n){for(var t,I,c=n[0],r=n[1],o=0,u=[];o<c.length;o++)I=c[o],g[I]&&u.push(g[I][0]),g[I]=0;for(t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t]);for(i&&i(n);u.length;)u.shift()()}var n={},g={1:0};function __webpack_require__(g){if(n[g])return n[g].exports;var t=n[g]={i:g,l:!1,exports:{}};return e[g].call(t.exports,t,t.exports,__webpack_require__),t.l=!0,t.exports}__webpack_require__.e=function requireEnsure(e){var n=[],t=g[e];if(0!==t)if(t)n.push(t[2]);else{var I=new Promise((function(n,I){t=g[e]=[n,I]}));n.push(t[2]=I);var c,i=document.createElement("script");i.charset="utf-8",i.timeout=120,__webpack_require__.nc&&i.setAttribute("nonce",__webpack_require__.nc),i.src=function jsonpScriptSrc(e){return __webpack_require__.p+"js/"+({0:"game",2:"vendors~game"}[e]||e)+"_v1.0.58.js"}(e);var r=new Error;c=function(n){i.onerror=i.onload=null,clearTimeout(o);var t=g[e];if(0!==t){if(t){var I=n&&("load"===n.type?"missing":n.type),c=n&&n.target&&n.target.src;r.message="Loading chunk "+e+" failed.\n("+I+": "+c+")",r.name="ChunkLoadError",r.type=I,r.request=c,t[1](r)}g[e]=void 0}};var o=setTimeout((function(){c({type:"timeout",target:i})}),12e4);i.onerror=i.onload=c,document.head.appendChild(i)}return Promise.all(n)},__webpack_require__.m=e,__webpack_require__.c=n,__webpack_require__.d=function(e,n,g){__webpack_require__.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:g})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,n){if(1&n&&(e=__webpack_require__(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var g=Object.create(null);if(__webpack_require__.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var t in e)__webpack_require__.d(g,t,function(n){return e[n]}.bind(null,t));return g},__webpack_require__.n=function(e){var n=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(n,"a",n),n},__webpack_require__.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},__webpack_require__.p="",__webpack_require__.oe=function(e){throw console.error(e),e};var t=this.webpackJsonpTooqingCore=this.webpackJsonpTooqingCore||[],I=t.push.bind(t);t.push=webpackJsonpCallback,t=t.slice();for(var c=0;c<t.length;c++)webpackJsonpCallback(t[c]);var i=I;return __webpack_require__(__webpack_require__.s=1)}([function(module,exports){eval("// generated by genversion\nmodule.exports = '1.0.58'\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL1Rvb3FpbmdDb3JlLy4vdmVyc2lvbi5qcz83MTNjIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGdlbmVyYXRlZCBieSBnZW52ZXJzaW9uXG5tb2R1bGUuZXhwb3J0cyA9ICcxLjAuNTgnXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Launcher", function() { return Launcher; });\n/* harmony import */ var _version__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./version */ 0);\n/* harmony import */ var _version__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_version__WEBPACK_IMPORTED_MODULE_0__);\n// 加载器：\n// 1. 在这里接受外部传入的参数并转换为World可以接受的参数\n// 2. 做设备兼容\n\nvar Launcher = /** @class */ (function () {\n    function Launcher(config) {\n        var _this = this;\n        this.minWidth = 1280;\n        this.minHeight = 720;\n        this.maxWidth = 1920;\n        this.maxHeight = 1080;\n        this.mConfig = {\n            auth_token: Object({"api_root":"http://172.18.0.100:17170/","osd":"https://osd.tooqing.com/","gateway":Object({"host":"172.18.0.100","port":12100,"secure":false}),"game_id":"5d28148554ae3d5c17bf1365","virtual_world_id":"65539"}).auth_token,\n            token_expire: Object({"api_root":"http://172.18.0.100:17170/","osd":"https://osd.tooqing.com/","gateway":Object({"host":"172.18.0.100","port":12100,"secure":false}),"game_id":"5d28148554ae3d5c17bf1365","virtual_world_id":"65539"}).token_expire,\n            token_fingerprint: Object({"api_root":"http://172.18.0.100:17170/","osd":"https://osd.tooqing.com/","gateway":Object({"host":"172.18.0.100","port":12100,"secure":false}),"game_id":"5d28148554ae3d5c17bf1365","virtual_world_id":"65539"}).token_fingerprint,\n            server_addr: undefined,\n            game_id: "5d28148554ae3d5c17bf1365",\n            virtual_world_id: "65539",\n            // 16:9 = 3840×2160 2560X1440 1920×1080 1600×900 1366×768 1280×720 1024×576 960×540 854×480 720×405\n            width: this.minWidth,\n            height: this.minHeight,\n            baseWidth: this.maxWidth,\n            baseHeight: this.maxHeight,\n            ui_scale: 1,\n            closeGame: null,\n            platform: "pc",\n        };\n        if (config) {\n            Object.assign(this.mConfig, config);\n        }\n        this.intervalId = setInterval(function () {\n            var xhr = new XMLHttpRequest(); // TODO\n            xhr.open("GET", "./package.json", true);\n            xhr.addEventListener("load", function () {\n                var manifest = JSON.parse(xhr.response);\n                var newVersion = manifest.version;\n                if (_version__WEBPACK_IMPORTED_MODULE_0__["version"] !== newVersion) {\n                    var result = confirm("检测到新版本，是否刷新更新到最新版？");\n                    if (result && _this.mReload) {\n                        _this.mReload();\n                    }\n                }\n            });\n            xhr.send(null);\n        }, 4 * 60 * 60 * 1000 /* ms */);\n        Promise.all(/*! import() | game */[__webpack_require__.e(2), __webpack_require__.e(0)]).then(__webpack_require__.bind(null, /*! ./src/game/world */ 2))\n            .then(function (game) {\n            _this.world = new game.World(_this.config, _this.mCompleteFunc);\n        });\n    }\n    Object.defineProperty(Launcher.prototype, "config", {\n        get: function () {\n            return this.mConfig;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Launcher.start = function (config) {\n        return new this(config);\n    };\n    Launcher.prototype.destory = function () {\n        this.world.destroy();\n    };\n    Launcher.prototype.startFullscreen = function () {\n        if (!this.world) {\n            return;\n        }\n        this.world.startFullscreen();\n    };\n    Launcher.prototype.stopFullscreen = function () {\n        if (!this.world) {\n            return;\n        }\n        this.world.stopFullscreen();\n    };\n    Launcher.prototype.registerReload = function (func) {\n        this.mReload = func;\n    };\n    Launcher.prototype.registerComplete = function (func) {\n        this.mCompleteFunc = func;\n    };\n    Launcher.prototype.onResize = function (width, height, ui_scale) {\n        if (!this.world)\n            return;\n        if (ui_scale)\n            this.mConfig.ui_scale = ui_scale;\n        this.world.resize(width, height);\n    };\n    Launcher.prototype.destroy = function () {\n        if (this.intervalId)\n            clearInterval(this.intervalId);\n        if (this.world)\n            this.world.destroy();\n    };\n    return Launcher;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL1Rvb3FpbmdDb3JlLy4vbGF1bmNoZXIudHM/ZTQ2MyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyDliqDovb3lmajvvJpcbi8vIDEuIOWcqOi/memHjOaOpeWPl+WklumDqOS8oOWFpeeahOWPguaVsOW5tui9rOaNouS4uldvcmxk5Y+v5Lul5o6l5Y+X55qE5Y+C5pWwXG4vLyAyLiDlgZrorr7lpIflhbzlrrlcblxuaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gXCIuL3ZlcnNpb25cIjtcbmltcG9ydCB7IFNlcnZlckFkZHJlc3MgfSBmcm9tIFwiLi9zcmMvbmV0L2FkZHJlc3NcIjtcbmltcG9ydCB7IENvbm5lY3Rpb25TZXJ2aWNlIH0gZnJvbSBcIi4vc3JjL25ldC9jb25uZWN0aW9uLnNlcnZpY2VcIjtcblxuZXhwb3J0IGludGVyZmFjZSBJTGF1bmNoZXJDb25maWcge1xuICAgIGF1dGhfdG9rZW46IHN0cmluZztcbiAgICB0b2tlbl9leHBpcmU6IHN0cmluZyB8IG51bGw7XG4gICAgdG9rZW5fZmluZ2VycHJpbnQ6IHN0cmluZztcbiAgICBzZXJ2ZXJfYWRkcjogU2VydmVyQWRkcmVzcyB8IHVuZGVmaW5lZDtcbiAgICBnYW1lX2lkOiBzdHJpbmc7XG4gICAgdmlydHVhbF93b3JsZF9pZDogc3RyaW5nO1xuICAgIHVpX3NjYWxlPzogbnVtYmVyO1xuICAgIHBsYXRmb3JtPzogc3RyaW5nO1xuICAgIHJlYWRvbmx5IHdpZHRoOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgaGVpZ2h0OiBudW1iZXI7XG4gICAgcmVhZG9ubHkgYmFzZVdpZHRoOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgYmFzZUhlaWdodDogbnVtYmVyO1xuICAgIHJlYWRvbmx5IGdhbWVfY3JlYXRlZD86IEZ1bmN0aW9uO1xuICAgIHJlYWRvbmx5IGNvbm5lY3Rpb24/OiBDb25uZWN0aW9uU2VydmljZTtcbiAgICByZWFkb25seSBpc0VkaXRvcj86IGJvb2xlYW47XG4gICAgcmVhZG9ubHkgb3NkPzogc3RyaW5nO1xuICAgIHJlYWRvbmx5IGNsb3NlR2FtZTogRnVuY3Rpb247XG4gICAgcmVhZG9ubHkgcGFyZW50Pzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdhbWVNYWluIHtcbiAgICByZXNpemUobmV3V2lkdGgsIG5ld0hlaWdodCk7XG4gICAgc2NhbGVDaGFuZ2Uoc2NhbGU6IG51bWJlcik7XG5cbiAgICBzdGFydEZ1bGxzY3JlZW4oKTogdm9pZDtcbiAgICBzdG9wRnVsbHNjcmVlbigpOiB2b2lkO1xuXG4gICAgZGVzdHJveSgpOiB2b2lkO1xufVxuXG5leHBvcnQgY2xhc3MgTGF1bmNoZXIge1xuICAgIGdldCBjb25maWcoKTogSUxhdW5jaGVyQ29uZmlnIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubUNvbmZpZztcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIHN0YXJ0KGNvbmZpZz86IElMYXVuY2hlckNvbmZpZyk6IExhdW5jaGVyIHtcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzKGNvbmZpZyk7XG4gICAgfVxuXG4gICAgcmVhZG9ubHkgbWluV2lkdGggPSAxMjgwO1xuICAgIHJlYWRvbmx5IG1pbkhlaWdodCA9IDcyMDtcbiAgICByZWFkb25seSBtYXhXaWR0aCA9IDE5MjA7XG4gICAgcmVhZG9ubHkgbWF4SGVpZ2h0ID0gMTA4MDtcbiAgICBwcml2YXRlIHdvcmxkOiBHYW1lTWFpbjtcbiAgICBwcml2YXRlIGludGVydmFsSWQ6IGFueTtcbiAgICBwcml2YXRlIG1SZWxvYWQ6IEZ1bmN0aW9uO1xuICAgIHByaXZhdGUgbUNvbXBsZXRlRnVuYzogRnVuY3Rpb247XG4gICAgcHJpdmF0ZSBtQ29uZmlnOiBJTGF1bmNoZXJDb25maWcgPSB7XG4gICAgICAgIGF1dGhfdG9rZW46IENPTkZJRy5hdXRoX3Rva2VuLFxuICAgICAgICB0b2tlbl9leHBpcmU6IENPTkZJRy50b2tlbl9leHBpcmUsXG4gICAgICAgIHRva2VuX2ZpbmdlcnByaW50OiBDT05GSUcudG9rZW5fZmluZ2VycHJpbnQsXG4gICAgICAgIHNlcnZlcl9hZGRyOiB1bmRlZmluZWQsIC8vIOS4jeaMh+WumuS8muS9v+eUqENPTkZJRy5nYXRld2F5LOivt+WOuyAuL2NvbmZpZy/nm67lvZXkuIvkv67mlLnphY3nva7mlofku7ZcbiAgICAgICAgZ2FtZV9pZDogQ09ORklHLmdhbWVfaWQsXG4gICAgICAgIHZpcnR1YWxfd29ybGRfaWQ6IENPTkZJRy52aXJ0dWFsX3dvcmxkX2lkLFxuICAgICAgICAvLyAxNjo5ID0gMzg0MMOXMjE2MCAyNTYwWDE0NDAgMTkyMMOXMTA4MCAxNjAww5c5MDAgMTM2NsOXNzY4IDEyODDDlzcyMCAxMDI0w5c1NzYgOTYww5c1NDAgODU0w5c0ODAgNzIww5c0MDVcbiAgICAgICAgd2lkdGg6IHRoaXMubWluV2lkdGgsXG4gICAgICAgIGhlaWdodDogdGhpcy5taW5IZWlnaHQsXG4gICAgICAgIGJhc2VXaWR0aDogdGhpcy5tYXhXaWR0aCxcbiAgICAgICAgYmFzZUhlaWdodDogdGhpcy5tYXhIZWlnaHQsXG4gICAgICAgIHVpX3NjYWxlOiAxLFxuICAgICAgICBjbG9zZUdhbWU6IG51bGwsXG4gICAgICAgIHBsYXRmb3JtOiBcInBjXCIsXG4gICAgfTtcblxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZz86IElMYXVuY2hlckNvbmZpZykge1xuICAgICAgICBpZiAoY29uZmlnKSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMubUNvbmZpZywgY29uZmlnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmludGVydmFsSWQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsgLy8gVE9ET1xuICAgICAgICAgICAgeGhyLm9wZW4oXCJHRVRcIiwgXCIuL3BhY2thZ2UuanNvblwiLCB0cnVlKTtcbiAgICAgICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWFuaWZlc3QgPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3VmVyc2lvbiA9IG1hbmlmZXN0LnZlcnNpb247XG4gICAgICAgICAgICAgICAgaWYgKHZlcnNpb24gIT09IG5ld1ZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gY29uZmlybShcIuajgOa1i+WIsOaWsOeJiOacrO+8jOaYr+WQpuWIt+aWsOabtOaWsOWIsOacgOaWsOeJiO+8n1wiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAmJiB0aGlzLm1SZWxvYWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubVJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB4aHIuc2VuZChudWxsKTtcbiAgICAgICAgfSwgNCAqIDYwICogNjAgKiAxMDAwIC8qIG1zICovKTtcblxuICAgICAgICBpbXBvcnQoLyogd2VicGFja0NodW5rTmFtZTogXCJnYW1lXCIgKi8gXCIuL3NyYy9nYW1lL3dvcmxkXCIpXG4gICAgICAgICAgICAudGhlbigoZ2FtZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMud29ybGQgPSBuZXcgZ2FtZS5Xb3JsZCh0aGlzLmNvbmZpZywgdGhpcy5tQ29tcGxldGVGdW5jKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBkZXN0b3J5KCkge1xuICAgICAgICB0aGlzLndvcmxkLmRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhcnRGdWxsc2NyZWVuKCkge1xuICAgICAgICBpZiAoIXRoaXMud29ybGQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLndvcmxkLnN0YXJ0RnVsbHNjcmVlbigpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdG9wRnVsbHNjcmVlbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLndvcmxkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy53b3JsZC5zdG9wRnVsbHNjcmVlbigpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZWdpc3RlclJlbG9hZChmdW5jOiBGdW5jdGlvbikge1xuICAgICAgICB0aGlzLm1SZWxvYWQgPSBmdW5jO1xuICAgIH1cblxuICAgIHB1YmxpYyByZWdpc3RlckNvbXBsZXRlKGZ1bmM6IEZ1bmN0aW9uKSB7XG4gICAgICAgIHRoaXMubUNvbXBsZXRlRnVuYyA9IGZ1bmM7XG4gICAgfVxuXG4gICAgcHVibGljIG9uUmVzaXplKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCB1aV9zY2FsZT86IG51bWJlcikge1xuICAgICAgICBpZiAoIXRoaXMud29ybGQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmICh1aV9zY2FsZSkgdGhpcy5tQ29uZmlnLnVpX3NjYWxlID0gdWlfc2NhbGU7XG4gICAgICAgIHRoaXMud29ybGQucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cblxuICAgIHB1YmxpYyBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5pbnRlcnZhbElkKSBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxJZCk7XG4gICAgICAgIGlmICh0aGlzLndvcmxkKSB0aGlzLndvcmxkLmRlc3Ryb3koKTtcbiAgICB9XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFtQ0E7QUFrQ0E7QUFBQTtBQXpCQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXpEQTtBQUFBO0FBQ0E7QUFDQTs7O0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFxREE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBOzsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1\n')}])}));