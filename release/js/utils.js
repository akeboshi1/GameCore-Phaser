!function webpackUniversalModuleDefinition(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.utils=n():t.utils=n()}(this,(function(){return function(t){var n={};function __webpack_require__(r){if(n[r])return n[r].exports;var e=n[r]={i:r,l:!1,exports:{}};return t[r].call(e.exports,e,e.exports,__webpack_require__),e.l=!0,e.exports}return __webpack_require__.m=t,__webpack_require__.c=n,__webpack_require__.d=function(t,n,r){__webpack_require__.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},__webpack_require__.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.t=function(t,n){if(1&n&&(t=__webpack_require__(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(__webpack_require__.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var e in t)__webpack_require__.d(r,e,function(n){return t[n]}.bind(null,e));return r},__webpack_require__.n=function(t){var n=t&&t.__esModule?function getDefault(){return t.default}:function getModuleExports(){return t};return __webpack_require__.d(n,"a",n),n},__webpack_require__.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=3)}({3:function(t,n,r){"use strict";r.r(n),r.d(n,"HTTP_REGEX",(function(){return e})),r.d(n,"Url",(function(){return o})),r.d(n,"ResUtils",(function(){return u})),r.d(n,"BlackButton",(function(){return i})),r.d(n,"BlueButton",(function(){return c})),r.d(n,"WhiteButton",(function(){return a})),r.d(n,"CloseButton",(function(){return f})),r.d(n,"Background",(function(){return s})),r.d(n,"Border",(function(){return l})),r.d(n,"TransparentButton",(function(){return g})),r.d(n,"Tool",(function(){return p})),r.d(n,"load",(function(){return load})),r.d(n,"loadArr",(function(){return loadArr})),r.d(n,"Algorithm",(function(){return d})),r.d(n,"CopyProtoType",(function(){return m})),r.d(n,"StringUtils",(function(){return h})),r.d(n,"ObjectAssign",(function(){return _})),r.d(n,"UiUtils",(function(){return B})),r.d(n,"isMobile",(function(){return isMobile})),r.d(n,"HttpLoadManager",(function(){return b})),r.d(n,"Helpers",(function(){return y})),r.d(n,"NumberUtils",(function(){return T}));var e=/^(http|https):/i,o=function(){function Url(){}return Url.getRes=function(t){return Url.RES_PATH+t},Url.getUIRes=function(t,n){return Url.RESUI_PATH+(t+"x/")+n},Url.getNormalUIRes=function(t){return Url.RESUI_PATH+t},Url.getOsdRes=function(t){if(t)return Url.OSD_PATH?(e.test(Url.OSD_PATH),Url.OSD_PATH+t):t;console.warn("splicing url failed")},Url.OSD_PATH="",Url.RES_PATH="",Url.RESUI_PATH="",Url.RESOURCE_ROOT="",Url}(),u=function(){function ResUtils(){}return ResUtils.getPartName=function(t){return t+"_png"},ResUtils.getPartUrl=function(t){return e.test(o.OSD_PATH),o.OSD_PATH+"avatar/part/"+t+".png"},ResUtils.getUsrAvatarTextureUrls=function(t){return{img:o.OSD_PATH+"user_avatar/texture/"+t+".png",json:o.OSD_PATH+"user_avatar/texture/"+t+".json"}},ResUtils.getGameConfig=function(t){return e.test(t)?t:o.OSD_PATH+t},ResUtils.getResRoot=function(t){return o.RESOURCE_ROOT?o.RESOURCE_ROOT+"/"+t:t},ResUtils}(),i=function(){function BlackButton(){}return BlackButton.getName=function(){return"black_button"},BlackButton.getPNG=function(){return o.getRes("ui/common/button.png")},BlackButton.getColumns=function(){return[4,2,4]},BlackButton.getRows=function(){return[4,2,4]},BlackButton.left=function(){return 4},BlackButton.top=function(){return 4},BlackButton.right=function(){return 4},BlackButton.bottom=function(){return 4},BlackButton.getConfig=function(){return{top:4,left:4,right:4,bottom:4}},BlackButton}(),c=function(){function BlueButton(){}return BlueButton.getName=function(){return"button_blue"},BlueButton.getPNG=function(){return o.getRes("ui/common/button_blue.png")},BlueButton.getJSON=function(){return o.getRes("ui/common/button_blue.json")},BlueButton.getColumns=function(){return[7,1,7]},BlueButton.getRows=function(){return[7,1,7]},BlueButton.left=function(){return 7},BlueButton.top=function(){return 7},BlueButton.right=function(){return 7},BlueButton.bottom=function(){return 7},BlueButton.getConfig=function(){return{left:7,top:7,right:7,bottom:7}},BlueButton}(),a=function(){function WhiteButton(){}return WhiteButton.getName=function(){return"button_white"},WhiteButton.getPNG=function(){return o.getRes("ui/common/button_white.png")},WhiteButton.getJSON=function(){return o.getRes("ui/common/button_white.json")},WhiteButton.getColumns=function(){return[7,1,7]},WhiteButton.getRows=function(){return[7,1,7]},WhiteButton.left=function(){return 7},WhiteButton.top=function(){return 7},WhiteButton.right=function(){return 7},WhiteButton.bottom=function(){return 7},WhiteButton.getConfig=function(){return{left:7,top:7,right:7,bottom:7}},WhiteButton}(),f=function(){function CloseButton(){}return CloseButton.getName=function(){return"common_clsBtn"},CloseButton.getPNG=function(){return o.getRes("ui/common/common_clsBtn.png")},CloseButton.getJSON=function(){return o.getRes("ui/common/common_clsBtn.json")},CloseButton.getFrameConfig=function(){return{frameWidth:16,frameHeight:16,startFrame:1,endFrame:3}},CloseButton}(),s=function(){function Background(){}return Background.getName=function(){return"common_background"},Background.getPNG=function(){return o.getRes("ui/common/common_panelBg.png")},Background.getColumns=function(){return[11,9,11]},Background.getRows=function(){return[14,13,14]},Background.left=function(){return 10},Background.top=function(){return 15},Background.right=function(){return 10},Background.bottom=function(){return 15},Background.getConfig=function(){return{left:10,top:15,right:10,bottom:15}},Background}(),l=function(){function Border(){}return Border.getName=function(){return"common_border"},Border.getPNG=function(){return o.getRes("ui/common/common_border.png")},Border.getColumns=function(){return[4,2,4]},Border.getRows=function(){return[4,2,4]},Border.left=function(){return 4},Border.top=function(){return 4},Border.right=function(){return 4},Border.bottom=function(){return 4},Border.getConfig=function(){return{left:4,top:4,right:4,bottom:4}},Border}(),g=function(){function TransparentButton(){}return TransparentButton.getName=function(){return"button_transparent"},TransparentButton.getPNG=function(){return o.getRes("ui/common/button_transparent.png")},TransparentButton.getJSON=function(){return o.getRes("ui/common/button_transparent.json")},TransparentButton.left=function(){return 4},TransparentButton.top=function(){return 4},TransparentButton.right=function(){return 4},TransparentButton.bottom=function(){return 4},TransparentButton.getConfig=function(){return{left:4,top:4,right:4,bottom:4}},TransparentButton}(),p=function(){function Tool(){}return Tool.equalArr=function(t,n){if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==n[r])return!1;return!0},Tool.getPosByScenes=function(t,n){var r=t.cameras.main;return{x:n.x-r.scrollX,y:n.y-r.scrollY}},Tool.twoPointDistance=function(t,n){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))},Tool.twoPointRadin=function(t,n){var r=t.x-n.x,e=t.y-n.y,o=Math.sqrt(Math.pow(r,2)+Math.pow(e,2)),u=Math.acos(r/o);return n.y<t.y&&(u=-u),u},Tool.formatChineseString=function(t,n,r){"string"==typeof n&&(n=parseInt(n,10));var e=Math.floor(r/n);return this.chunk(t,e).join(" ")},Tool.checkChinese=function(t){for(var n=/[\u4e00-\u9fa5]+/,r=t.split(""),e=0,o=r.length;e<o;e++)if(n.test(r[e]))return!0;return!1},Tool.checkItemName=function(t,n){var r=n.split("")||[],e=!1;return r.forEach((function(n){if(n)for(var r=new RegExp(n),o=t.split(""),u=0,i=o.length;u<i;u++)if(r.test(o[u])){e=!0;break}})),e},Tool.calcAngle=function(t,n){return Math.atan2(n.y-t.y,n.x-t.x)*(180/Math.PI)},Tool.calculateDirectionByRadin=function(t){var n=t*(180/Math.PI);return n>90?3:n>=0?5:n>=-90?7:1},Tool.angleToDirections=function(t,n,r){switch(void 0===r&&(r={}),r.left=!1,r.right=!1,r.up=!1,r.down=!1,t=(t+360)%360,n){case 0:t<180?r.down=!0:r.up=!0;break;case 1:t>90&&t<=270?r.left=!0:r.right=!0;break;case 2:t>45&&t<=135?r.down=!0:t>135&&t<=225?r.left=!0:t>225&&t<=315?r.up=!0:r.right=!0;break;case 3:t>22.5&&t<=67.5?(r.down=!0,r.right=!0):t>67.5&&t<=112.5?r.down=!0:t>112.5&&t<=157.5?(r.down=!0,r.left=!0):t>157.5&&t<=202.5?r.left=!0:t>202.5&&t<=247.5?(r.left=!0,r.up=!0):t>247.5&&t<=292.5?r.up=!0:t>292.5&&t<=337.5?(r.up=!0,r.right=!0):r.right=!0}return r},Tool.checkPointerContains=function(t,n){if(!t)return!1;var r=-t.width/2,e=t.width/2,o=-t.height/2,u=t.height/2;if(n){var i=t.getWorldTransformMatrix(),c=i.scaleX,a=(n.x-i.tx)/c,f=(n.y-i.ty)/c;return r<=a&&e>=a&&o<=f&&u>=f}return!1},Tool.baseName=function(t){var n=new String(t).substring(t.lastIndexOf("/")+1);return-1!==n.lastIndexOf(".")&&(n=n.substring(0,n.lastIndexOf("."))),n},Tool.isNumeric=function(t){return"string"==typeof t&&(!isNaN(t)&&!isNaN(parseFloat(t)))},Tool.chunk=function(t,n){for(var r=[],e=0;e<t.length;e+=n)r.push(t.substr(e,n));return r},Tool}();function load(t,n){return new Promise((function(r,e){var o=new XMLHttpRequest;o.addEventListener("error",(function(){console.log("http error =============>>>>")})),o.timeout=2e4,o.onload=function(n){var o=n.currentTarget;o&&200===o.status?r(n.currentTarget):e(t+" load error "+o.status)},o.onerror=function(){console.log("http error ====>"),e(t+" load error!!!!!")},o.ontimeout=function(n){console.log("http timeout ====>"),e(t+" load ontimeout!!!!!")},o.open("GET",t,!0),o.responseType=n||"",o.send()}))}function loadArr(t){return new Promise((function(n,r){var e=0,o=[],u=new Map,compl=function(){if(t.length===e)0===o.length?n(u):r(o);else{var i=t[e];load(i.path,i.type).then((function(t){u.set(i.resName,t),compl()}),(function(t){o.push(t),compl()}))}e++};compl()}))}var d=function(){function Algorithm(){}return Algorithm.median=function(t){var n=t.sort((function(t,n){return n-t})),r=Math.floor(n.length/2);return n.length%2==0?(n[r-1]+n[r])/2:n[r]},Algorithm}(),m=function(){function CopyProtoType(){}return CopyProtoType.copyProtoParam=function(t){return t.forEach((function(t){for(var n in t)"function"!=typeof t.constructor.prototype[n]&&(t.hasOwnProperty(n)||(t[n]=t.constructor.prototype[n]))})),t},CopyProtoType}(),h=function(){function StringUtils(){}return StringUtils.format=function(t,n){if(0===arguments.length)return this;if("object"==typeof n){for(var r in n)t=t.replace(new RegExp("\\{"+r+"\\}","g"),n[r]);return t}for(var e=0;e<n.length;e++)t=t.replace(new RegExp("\\{"+e+"\\}","g"),n[e]);return t},StringUtils.isNullOrUndefined=function(t){if(null==t)return!0},StringUtils}(),_=function(){function ObjectAssign(){}return ObjectAssign.excludeTagAssign=function(t,n,r){if(void 0===r&&(r="exclude"),t&&n){var e=t[r]||n[r];for(var o in n)if(o!==r&&n.hasOwnProperty(o)){var u=n[o];"object"==typeof u?(t.hasOwnProperty(o)||(Array.isArray(u)?t[o]=[]:t[o]={}),this.excludeTagAssign(t[o],u,r)):e?-1===e.indexOf(o)&&(t[o]=n[o]):t[o]=n[o]}}else console.error("source",t,"target",n)},ObjectAssign.excludeAssign=function(t,n,r){for(var e in n)if(n.hasOwnProperty(e)){var o=n[e];"object"==typeof o?(t.hasOwnProperty(e)||(Array.isArray(o)?t[e]=[]:t[e]={}),this.excludeAssign(t[e],o)):r?-1===r.indexOf(e)&&(t[e]=n[e]):t[e]=n[e]}},ObjectAssign.excludeAllAssign=function(t,n){for(var r in n)if(n.hasOwnProperty(r)){var e=n[r];"object"==typeof e?(t.hasOwnProperty(r)||(Array.isArray(e)?t[r]=[]:t[r]={}),this.excludeAllAssign(t[r],e)):t.hasOwnProperty(r)||(t[r]=e)}},ObjectAssign}(),B=function(){function UiUtils(){}return UiUtils.baseDpr=2,UiUtils.baseScale=1,UiUtils.MaxDpr=3,UiUtils}();function isMobile(t){return!1===t.device.os.desktop}var b=function(){function HttpLoadManager(){this.mCacheList=[],this.mCurLen=0}return HttpLoadManager.prototype.update=function(t,n){if(this.mCacheList&&this.mCurLen<HttpLoadManager.maxLen)for(var r=HttpLoadManager.maxLen-this.mCurLen,e=this.mCacheList.splice(0,r),o=0;o<r;o++){var u=e[o];u&&(this.mCurLen++,u.send())}},HttpLoadManager.prototype.destroy=function(){this.mCacheList.length=0,this.mCacheList=[],this.mCurLen=0},HttpLoadManager.prototype.addLoader=function(t){var n=this;if(this.mCurLen<HttpLoadManager.maxLen){var r=t.path,e=t.responseType;return new Promise((function(t,o){var u=new XMLHttpRequest;u.addEventListener("error",(function(){console.log("http error =============>>>>")})),u.timeout=2e4,u.onload=function(e){n.mCurLen--;var u=e.currentTarget;u&&200===u.status?t(e.currentTarget):o(r+" load error "+u.status)},u.onerror=function(){n.mCurLen--,console.log("http error ====>"),o(r+" load error!!!!!")},u.ontimeout=function(t){n.mCurLen--,console.log("http timeout ====>"),o(r+" load ontimeout!!!!!")},u.open("GET",r,!0),u.responseType=e||"",n.mCurLen++,u.send()}))}this.mCacheList.unshift(t)},HttpLoadManager.prototype.startSingleLoader=function(t){var n=this,r=t.path,e=t.responseType;return new Promise((function(t,o){var u=new XMLHttpRequest;u.addEventListener("error",(function(){console.log("http error =============>>>>")})),u.timeout=2e4,u.onload=function(e){n.mCurLen--;var u=e.currentTarget;u&&200===u.status?t(e.currentTarget):o(r+" load error "+u.status)},u.onerror=function(){n.mCurLen--,console.log("http error ====>"),o(r+" load error!!!!!")},u.ontimeout=function(t){n.mCurLen--,console.log("http timeout ====>"),o(r+" load ontimeout!!!!!")},u.open("GET",r,!0),u.responseType=e||"",n.mCurLen>=HttpLoadManager.maxLen?n.mCacheList.push(u):(n.mCurLen++,u.send())}))},HttpLoadManager.prototype.startListLoader=function(t){var n=this;return new Promise((function(r,e){for(var o=t.length,u=0;u<o;u++){var i=t[u];i&&n.startSingleLoader(i).then((function(t){r(t)})).catch((function(){r(null)}))}}))},HttpLoadManager.maxLen=30,HttpLoadManager}(),y=function(){function Helpers(){}return Helpers.openUrl=function(t){var n=window.open("","_blank");n&&(n.location.href=t)},Helpers}(),T=function(){function NumberUtils(){}return NumberUtils.NumberConvertZHCN=function(t){for(var n={0:"零",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六",7:"七",8:"八",9:"九"},r="",e=0,o=t+"";e<o.length;e++){r+=n[o[e]]}return r},NumberUtils}()}})}));