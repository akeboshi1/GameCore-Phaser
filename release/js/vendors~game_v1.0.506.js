(this.webpackJsonpTooqingCore=this.webpackJsonpTooqingCore||[]).push([[5],{6:function(module,exports,__webpack_require__){var t;t=function(){return function(v){var b={};function r(m){if(b[m])return b[m].exports;var _=b[m]={i:m,l:!1,exports:{}};return v[m].call(_.exports,_,_.exports,r),_.l=!0,_.exports}return r.m=v,r.c=b,r.d=function(v,b,m){r.o(v,b)||Object.defineProperty(v,b,{enumerable:!0,get:m})},r.r=function(v){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(v,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(v,"__esModule",{value:!0})},r.t=function(v,b){if(1&b&&(v=r(v)),8&b)return v;if(4&b&&"object"==typeof v&&v&&v.__esModule)return v;var m=Object.create(null);if(r.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:v}),2&b&&"string"!=typeof v)for(var _ in v)r.d(m,_,function(b){return v[b]}.bind(null,_));return m},r.n=function(v){var b=v&&v.__esModule?function(){return v.default}:function(){return v};return r.d(b,"a",b),b},r.o=function(v,b){return Object.prototype.hasOwnProperty.call(v,b)},r.p="",r(r.s=20)}([function(v,b,m){var _,R,S;R=[m(4)],void 0===(S="function"==typeof(_=function(v){"use strict";var b,m,_,R=v.Reader,S=v.Writer,j=v.util,A=v.roots.default||(v.roots.default={});return A.webworker_rpc=((_={}).MSG_ERR=(b={},(m=Object.create(b))[b[0]="OK"]=0,m),_.Executor=function(){function t(v){if(this.params=[],v)for(var b=Object.keys(v),m=0;m<b.length;++m)null!=v[b[m]]&&(this[b[m]]=v[b[m]])}return t.prototype.method="",t.prototype.context="",t.prototype.params=j.emptyArray,t.create=function(v){return new t(v)},t.encode=function(v,b){if(b||(b=S.create()),b.uint32(10).string(v.method),null!=v.context&&Object.hasOwnProperty.call(v,"context")&&b.uint32(18).string(v.context),null!=v.params&&v.params.length)for(var m=0;m<v.params.length;++m)A.webworker_rpc.Param.encode(v.params[m],b.uint32(26).fork()).ldelim();return b},t.encodeDelimited=function(v,b){return this.encode(v,b).ldelim()},t.decode=function(v,b){v instanceof R||(v=R.create(v));for(var m=void 0===b?v.len:v.pos+b,_=new A.webworker_rpc.Executor;v.pos<m;){var S=v.uint32();switch(S>>>3){case 1:_.method=v.string();break;case 2:_.context=v.string();break;case 3:_.params&&_.params.length||(_.params=[]),_.params.push(A.webworker_rpc.Param.decode(v,v.uint32()));break;default:v.skipType(7&S)}}if(!_.hasOwnProperty("method"))throw j.ProtocolError("missing required 'method'",{instance:_});return _},t.decodeDelimited=function(v){return v instanceof R||(v=new R(v)),this.decode(v,v.uint32())},t.verify=function(v){if("object"!=typeof v||null===v)return"object expected";if(!j.isString(v.method))return"method: string expected";if(null!=v.context&&v.hasOwnProperty("context")&&!j.isString(v.context))return"context: string expected";if(null!=v.params&&v.hasOwnProperty("params")){if(!Array.isArray(v.params))return"params: array expected";for(var b=0;b<v.params.length;++b){var m=A.webworker_rpc.Param.verify(v.params[b]);if(m)return"params."+m}}return null},t.fromObject=function(v){if(v instanceof A.webworker_rpc.Executor)return v;var b=new A.webworker_rpc.Executor;if(null!=v.method&&(b.method=String(v.method)),null!=v.context&&(b.context=String(v.context)),v.params){if(!Array.isArray(v.params))throw TypeError(".webworker_rpc.Executor.params: array expected");b.params=[];for(var m=0;m<v.params.length;++m){if("object"!=typeof v.params[m])throw TypeError(".webworker_rpc.Executor.params: object expected");b.params[m]=A.webworker_rpc.Param.fromObject(v.params[m])}}return b},t.toObject=function(v,b){b||(b={});var m={};if((b.arrays||b.defaults)&&(m.params=[]),b.defaults&&(m.method="",m.context=""),null!=v.method&&v.hasOwnProperty("method")&&(m.method=v.method),null!=v.context&&v.hasOwnProperty("context")&&(m.context=v.context),v.params&&v.params.length){m.params=[];for(var _=0;_<v.params.length;++_)m.params[_]=A.webworker_rpc.Param.toObject(v.params[_],b)}return m},t.prototype.toJSON=function(){return this.constructor.toObject(this,v.util.toJSONOptions)},t}(),_.Param=function(){function t(v){if(v)for(var b=Object.keys(v),m=0;m<b.length;++m)null!=v[b[m]]&&(this[b[m]]=v[b[m]])}var b;return t.prototype.t=0,t.prototype.valStr="",t.prototype.valBool=!1,t.prototype.valNum=0,t.prototype.valBytes=j.newBuffer([]),t.prototype.valExecutor=null,Object.defineProperty(t.prototype,"val",{get:j.oneOfGetter(b=["valStr","valBool","valNum","valBytes","valExecutor"]),set:j.oneOfSetter(b)}),t.create=function(v){return new t(v)},t.encode=function(v,b){return b||(b=S.create()),b.uint32(8).int32(v.t),null!=v.valStr&&Object.hasOwnProperty.call(v,"valStr")&&b.uint32(18).string(v.valStr),null!=v.valBool&&Object.hasOwnProperty.call(v,"valBool")&&b.uint32(24).bool(v.valBool),null!=v.valNum&&Object.hasOwnProperty.call(v,"valNum")&&b.uint32(32).int32(v.valNum),null!=v.valBytes&&Object.hasOwnProperty.call(v,"valBytes")&&b.uint32(42).bytes(v.valBytes),null!=v.valExecutor&&Object.hasOwnProperty.call(v,"valExecutor")&&A.webworker_rpc.Executor.encode(v.valExecutor,b.uint32(50).fork()).ldelim(),b},t.encodeDelimited=function(v,b){return this.encode(v,b).ldelim()},t.decode=function(v,b){v instanceof R||(v=R.create(v));for(var m=void 0===b?v.len:v.pos+b,_=new A.webworker_rpc.Param;v.pos<m;){var S=v.uint32();switch(S>>>3){case 1:_.t=v.int32();break;case 2:_.valStr=v.string();break;case 3:_.valBool=v.bool();break;case 4:_.valNum=v.int32();break;case 5:_.valBytes=v.bytes();break;case 6:_.valExecutor=A.webworker_rpc.Executor.decode(v,v.uint32());break;default:v.skipType(7&S)}}if(!_.hasOwnProperty("t"))throw j.ProtocolError("missing required 't'",{instance:_});return _},t.decodeDelimited=function(v){return v instanceof R||(v=new R(v)),this.decode(v,v.uint32())},t.verify=function(v){if("object"!=typeof v||null===v)return"object expected";var b={};switch(v.t){default:return"t: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:}if(null!=v.valStr&&v.hasOwnProperty("valStr")&&(b.val=1,!j.isString(v.valStr)))return"valStr: string expected";if(null!=v.valBool&&v.hasOwnProperty("valBool")){if(1===b.val)return"val: multiple values";if(b.val=1,"boolean"!=typeof v.valBool)return"valBool: boolean expected"}if(null!=v.valNum&&v.hasOwnProperty("valNum")){if(1===b.val)return"val: multiple values";if(b.val=1,!j.isInteger(v.valNum))return"valNum: integer expected"}if(null!=v.valBytes&&v.hasOwnProperty("valBytes")){if(1===b.val)return"val: multiple values";if(b.val=1,!(v.valBytes&&"number"==typeof v.valBytes.length||j.isString(v.valBytes)))return"valBytes: buffer expected"}if(null!=v.valExecutor&&v.hasOwnProperty("valExecutor")){if(1===b.val)return"val: multiple values";b.val=1;var m=A.webworker_rpc.Executor.verify(v.valExecutor);if(m)return"valExecutor."+m}return null},t.fromObject=function(v){if(v instanceof A.webworker_rpc.Param)return v;var b=new A.webworker_rpc.Param;switch(v.t){case"UNKNOWN":case 0:b.t=0;break;case"str":case 1:b.t=1;break;case"boolean":case 2:b.t=2;break;case"num":case 3:b.t=3;break;case"unit8array":case 4:b.t=4;break;case"executor":case 5:b.t=5}if(null!=v.valStr&&(b.valStr=String(v.valStr)),null!=v.valBool&&(b.valBool=Boolean(v.valBool)),null!=v.valNum&&(b.valNum=0|v.valNum),null!=v.valBytes&&("string"==typeof v.valBytes?j.base64.decode(v.valBytes,b.valBytes=j.newBuffer(j.base64.length(v.valBytes)),0):v.valBytes.length&&(b.valBytes=v.valBytes)),null!=v.valExecutor){if("object"!=typeof v.valExecutor)throw TypeError(".webworker_rpc.Param.valExecutor: object expected");b.valExecutor=A.webworker_rpc.Executor.fromObject(v.valExecutor)}return b},t.toObject=function(v,b){b||(b={});var m={};return b.defaults&&(m.t=b.enums===String?"UNKNOWN":0),null!=v.t&&v.hasOwnProperty("t")&&(m.t=b.enums===String?A.webworker_rpc.ParamType[v.t]:v.t),null!=v.valStr&&v.hasOwnProperty("valStr")&&(m.valStr=v.valStr,b.oneofs&&(m.val="valStr")),null!=v.valBool&&v.hasOwnProperty("valBool")&&(m.valBool=v.valBool,b.oneofs&&(m.val="valBool")),null!=v.valNum&&v.hasOwnProperty("valNum")&&(m.valNum=v.valNum,b.oneofs&&(m.val="valNum")),null!=v.valBytes&&v.hasOwnProperty("valBytes")&&(m.valBytes=b.bytes===String?j.base64.encode(v.valBytes,0,v.valBytes.length):b.bytes===Array?Array.prototype.slice.call(v.valBytes):v.valBytes,b.oneofs&&(m.val="valBytes")),null!=v.valExecutor&&v.hasOwnProperty("valExecutor")&&(m.valExecutor=A.webworker_rpc.Executor.toObject(v.valExecutor,b),b.oneofs&&(m.val="valExecutor")),m},t.prototype.toJSON=function(){return this.constructor.toObject(this,v.util.toJSONOptions)},t}(),_.ParamType=function(){var v={},b=Object.create(v);return b[v[0]="UNKNOWN"]=0,b[v[1]="str"]=1,b[v[2]="boolean"]=2,b[v[3]="num"]=3,b[v[4]="unit8array"]=4,b[v[5]="executor"]=5,b}(),_.Header=function(){function t(v){if(v)for(var b=Object.keys(v),m=0;m<b.length;++m)null!=v[b[m]]&&(this[b[m]]=v[b[m]])}return t.prototype.serviceName="",t.prototype.remoteExecutor=null,t.create=function(v){return new t(v)},t.encode=function(v,b){return b||(b=S.create()),b.uint32(10).string(v.serviceName),A.webworker_rpc.Executor.encode(v.remoteExecutor,b.uint32(18).fork()).ldelim(),b},t.encodeDelimited=function(v,b){return this.encode(v,b).ldelim()},t.decode=function(v,b){v instanceof R||(v=R.create(v));for(var m=void 0===b?v.len:v.pos+b,_=new A.webworker_rpc.Header;v.pos<m;){var S=v.uint32();switch(S>>>3){case 1:_.serviceName=v.string();break;case 2:_.remoteExecutor=A.webworker_rpc.Executor.decode(v,v.uint32());break;default:v.skipType(7&S)}}if(!_.hasOwnProperty("serviceName"))throw j.ProtocolError("missing required 'serviceName'",{instance:_});if(!_.hasOwnProperty("remoteExecutor"))throw j.ProtocolError("missing required 'remoteExecutor'",{instance:_});return _},t.decodeDelimited=function(v){return v instanceof R||(v=new R(v)),this.decode(v,v.uint32())},t.verify=function(v){if("object"!=typeof v||null===v)return"object expected";if(!j.isString(v.serviceName))return"serviceName: string expected";var b=A.webworker_rpc.Executor.verify(v.remoteExecutor);return b?"remoteExecutor."+b:null},t.fromObject=function(v){if(v instanceof A.webworker_rpc.Header)return v;var b=new A.webworker_rpc.Header;if(null!=v.serviceName&&(b.serviceName=String(v.serviceName)),null!=v.remoteExecutor){if("object"!=typeof v.remoteExecutor)throw TypeError(".webworker_rpc.Header.remoteExecutor: object expected");b.remoteExecutor=A.webworker_rpc.Executor.fromObject(v.remoteExecutor)}return b},t.toObject=function(v,b){b||(b={});var m={};return b.defaults&&(m.serviceName="",m.remoteExecutor=null),null!=v.serviceName&&v.hasOwnProperty("serviceName")&&(m.serviceName=v.serviceName),null!=v.remoteExecutor&&v.hasOwnProperty("remoteExecutor")&&(m.remoteExecutor=A.webworker_rpc.Executor.toObject(v.remoteExecutor,b)),m},t.prototype.toJSON=function(){return this.constructor.toObject(this,v.util.toJSONOptions)},t}(),_.ExecutePacket=function(){function t(v){if(v)for(var b=Object.keys(v),m=0;m<b.length;++m)null!=v[b[m]]&&(this[b[m]]=v[b[m]])}return t.prototype.id=0,t.prototype.header=null,t.prototype.bodyLen=0,t.prototype.body=j.newBuffer([]),t.create=function(v){return new t(v)},t.encode=function(v,b){return b||(b=S.create()),b.uint32(8).int32(v.id),A.webworker_rpc.Header.encode(v.header,b.uint32(18).fork()).ldelim(),null!=v.bodyLen&&Object.hasOwnProperty.call(v,"bodyLen")&&b.uint32(24).int32(v.bodyLen),null!=v.body&&Object.hasOwnProperty.call(v,"body")&&b.uint32(34).bytes(v.body),b},t.encodeDelimited=function(v,b){return this.encode(v,b).ldelim()},t.decode=function(v,b){v instanceof R||(v=R.create(v));for(var m=void 0===b?v.len:v.pos+b,_=new A.webworker_rpc.ExecutePacket;v.pos<m;){var S=v.uint32();switch(S>>>3){case 1:_.id=v.int32();break;case 2:_.header=A.webworker_rpc.Header.decode(v,v.uint32());break;case 3:_.bodyLen=v.int32();break;case 4:_.body=v.bytes();break;default:v.skipType(7&S)}}if(!_.hasOwnProperty("id"))throw j.ProtocolError("missing required 'id'",{instance:_});if(!_.hasOwnProperty("header"))throw j.ProtocolError("missing required 'header'",{instance:_});return _},t.decodeDelimited=function(v){return v instanceof R||(v=new R(v)),this.decode(v,v.uint32())},t.verify=function(v){if("object"!=typeof v||null===v)return"object expected";if(!j.isInteger(v.id))return"id: integer expected";var b=A.webworker_rpc.Header.verify(v.header);return b?"header."+b:null!=v.bodyLen&&v.hasOwnProperty("bodyLen")&&!j.isInteger(v.bodyLen)?"bodyLen: integer expected":null!=v.body&&v.hasOwnProperty("body")&&!(v.body&&"number"==typeof v.body.length||j.isString(v.body))?"body: buffer expected":null},t.fromObject=function(v){if(v instanceof A.webworker_rpc.ExecutePacket)return v;var b=new A.webworker_rpc.ExecutePacket;if(null!=v.id&&(b.id=0|v.id),null!=v.header){if("object"!=typeof v.header)throw TypeError(".webworker_rpc.ExecutePacket.header: object expected");b.header=A.webworker_rpc.Header.fromObject(v.header)}return null!=v.bodyLen&&(b.bodyLen=0|v.bodyLen),null!=v.body&&("string"==typeof v.body?j.base64.decode(v.body,b.body=j.newBuffer(j.base64.length(v.body)),0):v.body.length&&(b.body=v.body)),b},t.toObject=function(v,b){b||(b={});var m={};return b.defaults&&(m.id=0,m.header=null,m.bodyLen=0,b.bytes===String?m.body="":(m.body=[],b.bytes!==Array&&(m.body=j.newBuffer(m.body)))),null!=v.id&&v.hasOwnProperty("id")&&(m.id=v.id),null!=v.header&&v.hasOwnProperty("header")&&(m.header=A.webworker_rpc.Header.toObject(v.header,b)),null!=v.bodyLen&&v.hasOwnProperty("bodyLen")&&(m.bodyLen=v.bodyLen),null!=v.body&&v.hasOwnProperty("body")&&(m.body=b.bytes===String?j.base64.encode(v.body,0,v.body.length):b.bytes===Array?Array.prototype.slice.call(v.body):v.body),m},t.prototype.toJSON=function(){return this.constructor.toObject(this,v.util.toJSONOptions)},t}(),_.ResponesPacket=function(){function t(v){if(v)for(var b=Object.keys(v),m=0;m<b.length;++m)null!=v[b[m]]&&(this[b[m]]=v[b[m]])}return t.prototype.id=0,t.prototype.val=null,t.prototype.err="",t.create=function(v){return new t(v)},t.encode=function(v,b){return b||(b=S.create()),b.uint32(8).int32(v.id),null!=v.val&&Object.hasOwnProperty.call(v,"val")&&A.webworker_rpc.Param.encode(v.val,b.uint32(18).fork()).ldelim(),null!=v.err&&Object.hasOwnProperty.call(v,"err")&&b.uint32(26).string(v.err),b},t.encodeDelimited=function(v,b){return this.encode(v,b).ldelim()},t.decode=function(v,b){v instanceof R||(v=R.create(v));for(var m=void 0===b?v.len:v.pos+b,_=new A.webworker_rpc.ResponesPacket;v.pos<m;){var S=v.uint32();switch(S>>>3){case 1:_.id=v.int32();break;case 2:_.val=A.webworker_rpc.Param.decode(v,v.uint32());break;case 3:_.err=v.string();break;default:v.skipType(7&S)}}if(!_.hasOwnProperty("id"))throw j.ProtocolError("missing required 'id'",{instance:_});return _},t.decodeDelimited=function(v){return v instanceof R||(v=new R(v)),this.decode(v,v.uint32())},t.verify=function(v){if("object"!=typeof v||null===v)return"object expected";if(!j.isInteger(v.id))return"id: integer expected";if(null!=v.val&&v.hasOwnProperty("val")){var b=A.webworker_rpc.Param.verify(v.val);if(b)return"val."+b}return null!=v.err&&v.hasOwnProperty("err")&&!j.isString(v.err)?"err: string expected":null},t.fromObject=function(v){if(v instanceof A.webworker_rpc.ResponesPacket)return v;var b=new A.webworker_rpc.ResponesPacket;if(null!=v.id&&(b.id=0|v.id),null!=v.val){if("object"!=typeof v.val)throw TypeError(".webworker_rpc.ResponesPacket.val: object expected");b.val=A.webworker_rpc.Param.fromObject(v.val)}return null!=v.err&&(b.err=String(v.err)),b},t.toObject=function(v,b){b||(b={});var m={};return b.defaults&&(m.id=0,m.val=null,m.err=""),null!=v.id&&v.hasOwnProperty("id")&&(m.id=v.id),null!=v.val&&v.hasOwnProperty("val")&&(m.val=A.webworker_rpc.Param.toObject(v.val,b)),null!=v.err&&v.hasOwnProperty("err")&&(m.err=v.err),m},t.prototype.toJSON=function(){return this.constructor.toObject(this,v.util.toJSONOptions)},t}(),_.RegistryPacket=function(){function t(v){if(this.executors=[],v)for(var b=Object.keys(v),m=0;m<b.length;++m)null!=v[b[m]]&&(this[b[m]]=v[b[m]])}return t.prototype.id=0,t.prototype.serviceName="",t.prototype.executors=j.emptyArray,t.create=function(v){return new t(v)},t.encode=function(v,b){if(b||(b=S.create()),b.uint32(8).int32(v.id),b.uint32(18).string(v.serviceName),null!=v.executors&&v.executors.length)for(var m=0;m<v.executors.length;++m)A.webworker_rpc.Executor.encode(v.executors[m],b.uint32(26).fork()).ldelim();return b},t.encodeDelimited=function(v,b){return this.encode(v,b).ldelim()},t.decode=function(v,b){v instanceof R||(v=R.create(v));for(var m=void 0===b?v.len:v.pos+b,_=new A.webworker_rpc.RegistryPacket;v.pos<m;){var S=v.uint32();switch(S>>>3){case 1:_.id=v.int32();break;case 2:_.serviceName=v.string();break;case 3:_.executors&&_.executors.length||(_.executors=[]),_.executors.push(A.webworker_rpc.Executor.decode(v,v.uint32()));break;default:v.skipType(7&S)}}if(!_.hasOwnProperty("id"))throw j.ProtocolError("missing required 'id'",{instance:_});if(!_.hasOwnProperty("serviceName"))throw j.ProtocolError("missing required 'serviceName'",{instance:_});return _},t.decodeDelimited=function(v){return v instanceof R||(v=new R(v)),this.decode(v,v.uint32())},t.verify=function(v){if("object"!=typeof v||null===v)return"object expected";if(!j.isInteger(v.id))return"id: integer expected";if(!j.isString(v.serviceName))return"serviceName: string expected";if(null!=v.executors&&v.hasOwnProperty("executors")){if(!Array.isArray(v.executors))return"executors: array expected";for(var b=0;b<v.executors.length;++b){var m=A.webworker_rpc.Executor.verify(v.executors[b]);if(m)return"executors."+m}}return null},t.fromObject=function(v){if(v instanceof A.webworker_rpc.RegistryPacket)return v;var b=new A.webworker_rpc.RegistryPacket;if(null!=v.id&&(b.id=0|v.id),null!=v.serviceName&&(b.serviceName=String(v.serviceName)),v.executors){if(!Array.isArray(v.executors))throw TypeError(".webworker_rpc.RegistryPacket.executors: array expected");b.executors=[];for(var m=0;m<v.executors.length;++m){if("object"!=typeof v.executors[m])throw TypeError(".webworker_rpc.RegistryPacket.executors: object expected");b.executors[m]=A.webworker_rpc.Executor.fromObject(v.executors[m])}}return b},t.toObject=function(v,b){b||(b={});var m={};if((b.arrays||b.defaults)&&(m.executors=[]),b.defaults&&(m.id=0,m.serviceName=""),null!=v.id&&v.hasOwnProperty("id")&&(m.id=v.id),null!=v.serviceName&&v.hasOwnProperty("serviceName")&&(m.serviceName=v.serviceName),v.executors&&v.executors.length){m.executors=[];for(var _=0;_<v.executors.length;++_)m.executors[_]=A.webworker_rpc.Executor.toObject(v.executors[_],b)}return m},t.prototype.toJSON=function(){return this.constructor.toObject(this,v.util.toJSONOptions)},t}(),_.WebWorkerMessage=function(){function t(v){if(v)for(var b=Object.keys(v),m=0;m<b.length;++m)null!=v[b[m]]&&(this[b[m]]=v[b[m]])}var b;return t.prototype.key="",t.prototype.dataRegistry=null,t.prototype.dataExecute=null,t.prototype.dataResponse=null,Object.defineProperty(t.prototype,"data",{get:j.oneOfGetter(b=["dataRegistry","dataExecute","dataResponse"]),set:j.oneOfSetter(b)}),t.create=function(v){return new t(v)},t.encode=function(v,b){return b||(b=S.create()),b.uint32(10).string(v.key),null!=v.dataRegistry&&Object.hasOwnProperty.call(v,"dataRegistry")&&A.webworker_rpc.RegistryPacket.encode(v.dataRegistry,b.uint32(18).fork()).ldelim(),null!=v.dataExecute&&Object.hasOwnProperty.call(v,"dataExecute")&&A.webworker_rpc.ExecutePacket.encode(v.dataExecute,b.uint32(26).fork()).ldelim(),null!=v.dataResponse&&Object.hasOwnProperty.call(v,"dataResponse")&&A.webworker_rpc.ResponesPacket.encode(v.dataResponse,b.uint32(34).fork()).ldelim(),b},t.encodeDelimited=function(v,b){return this.encode(v,b).ldelim()},t.decode=function(v,b){v instanceof R||(v=R.create(v));for(var m=void 0===b?v.len:v.pos+b,_=new A.webworker_rpc.WebWorkerMessage;v.pos<m;){var S=v.uint32();switch(S>>>3){case 1:_.key=v.string();break;case 2:_.dataRegistry=A.webworker_rpc.RegistryPacket.decode(v,v.uint32());break;case 3:_.dataExecute=A.webworker_rpc.ExecutePacket.decode(v,v.uint32());break;case 4:_.dataResponse=A.webworker_rpc.ResponesPacket.decode(v,v.uint32());break;default:v.skipType(7&S)}}if(!_.hasOwnProperty("key"))throw j.ProtocolError("missing required 'key'",{instance:_});return _},t.decodeDelimited=function(v){return v instanceof R||(v=new R(v)),this.decode(v,v.uint32())},t.verify=function(v){if("object"!=typeof v||null===v)return"object expected";var b={};if(!j.isString(v.key))return"key: string expected";if(null!=v.dataRegistry&&v.hasOwnProperty("dataRegistry")&&(b.data=1,m=A.webworker_rpc.RegistryPacket.verify(v.dataRegistry)))return"dataRegistry."+m;if(null!=v.dataExecute&&v.hasOwnProperty("dataExecute")){if(1===b.data)return"data: multiple values";if(b.data=1,m=A.webworker_rpc.ExecutePacket.verify(v.dataExecute))return"dataExecute."+m}if(null!=v.dataResponse&&v.hasOwnProperty("dataResponse")){if(1===b.data)return"data: multiple values";var m;if(b.data=1,m=A.webworker_rpc.ResponesPacket.verify(v.dataResponse))return"dataResponse."+m}return null},t.fromObject=function(v){if(v instanceof A.webworker_rpc.WebWorkerMessage)return v;var b=new A.webworker_rpc.WebWorkerMessage;if(null!=v.key&&(b.key=String(v.key)),null!=v.dataRegistry){if("object"!=typeof v.dataRegistry)throw TypeError(".webworker_rpc.WebWorkerMessage.dataRegistry: object expected");b.dataRegistry=A.webworker_rpc.RegistryPacket.fromObject(v.dataRegistry)}if(null!=v.dataExecute){if("object"!=typeof v.dataExecute)throw TypeError(".webworker_rpc.WebWorkerMessage.dataExecute: object expected");b.dataExecute=A.webworker_rpc.ExecutePacket.fromObject(v.dataExecute)}if(null!=v.dataResponse){if("object"!=typeof v.dataResponse)throw TypeError(".webworker_rpc.WebWorkerMessage.dataResponse: object expected");b.dataResponse=A.webworker_rpc.ResponesPacket.fromObject(v.dataResponse)}return b},t.toObject=function(v,b){b||(b={});var m={};return b.defaults&&(m.key=""),null!=v.key&&v.hasOwnProperty("key")&&(m.key=v.key),null!=v.dataRegistry&&v.hasOwnProperty("dataRegistry")&&(m.dataRegistry=A.webworker_rpc.RegistryPacket.toObject(v.dataRegistry,b),b.oneofs&&(m.data="dataRegistry")),null!=v.dataExecute&&v.hasOwnProperty("dataExecute")&&(m.dataExecute=A.webworker_rpc.ExecutePacket.toObject(v.dataExecute,b),b.oneofs&&(m.data="dataExecute")),null!=v.dataResponse&&v.hasOwnProperty("dataResponse")&&(m.dataResponse=A.webworker_rpc.ResponesPacket.toObject(v.dataResponse,b),b.oneofs&&(m.data="dataResponse")),m},t.prototype.toJSON=function(){return this.constructor.toObject(this,v.util.toJSONOptions)},t}(),_),A})?_.apply(b,R):_)||(v.exports=S)},function(v,b,m){"use strict";(function(v){var _=b;function o(v,b,m){for(var _=Object.keys(b),R=0;R<_.length;++R)void 0!==v[_[R]]&&m||(v[_[R]]=b[_[R]]);return v}function i(v){function t(v,b){if(!(this instanceof t))return new t(v,b);Object.defineProperty(this,"message",{get:function(){return v}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),b&&o(this,b)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return v}}),t.prototype.toString=function(){return this.name+": "+this.message},t}_.asPromise=m(7),_.base64=m(8),_.EventEmitter=m(9),_.float=m(10),_.inquire=m(11),_.utf8=m(12),_.pool=m(13),_.LongBits=m(14),_.isNode=Boolean(void 0!==v&&v&&v.process&&v.process.versions&&v.process.versions.node),_.global=_.isNode&&v||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,_.emptyArray=Object.freeze?Object.freeze([]):[],_.emptyObject=Object.freeze?Object.freeze({}):{},_.isInteger=Number.isInteger||function(v){return"number"==typeof v&&isFinite(v)&&Math.floor(v)===v},_.isString=function(v){return"string"==typeof v||v instanceof String},_.isObject=function(v){return v&&"object"==typeof v},_.isset=_.isSet=function(v,b){var m=v[b];return!(null==m||!v.hasOwnProperty(b))&&("object"!=typeof m||(Array.isArray(m)?m.length:Object.keys(m).length)>0)},_.Buffer=function(){try{var v=_.inquire("buffer").Buffer;return v.prototype.utf8Write?v:null}catch(v){return null}}(),_._Buffer_from=null,_._Buffer_allocUnsafe=null,_.newBuffer=function(v){return"number"==typeof v?_.Buffer?_._Buffer_allocUnsafe(v):new _.Array(v):_.Buffer?_._Buffer_from(v):"undefined"==typeof Uint8Array?v:new Uint8Array(v)},_.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,_.Long=_.global.dcodeIO&&_.global.dcodeIO.Long||_.global.Long||_.inquire("long"),_.key2Re=/^true|false|0|1$/,_.key32Re=/^-?(?:0|[1-9][0-9]*)$/,_.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,_.longToHash=function(v){return v?_.LongBits.from(v).toHash():_.LongBits.zeroHash},_.longFromHash=function(v,b){var m=_.LongBits.fromHash(v);return _.Long?_.Long.fromBits(m.lo,m.hi,b):m.toNumber(Boolean(b))},_.merge=o,_.lcFirst=function(v){return v.charAt(0).toLowerCase()+v.substring(1)},_.newError=i,_.ProtocolError=i("ProtocolError"),_.oneOfGetter=function(v){for(var b={},m=0;m<v.length;++m)b[v[m]]=1;return function(){for(var v=Object.keys(this),m=v.length-1;m>-1;--m)if(1===b[v[m]]&&void 0!==this[v[m]]&&null!==this[v[m]])return v[m]}},_.oneOfSetter=function(v){return function(b){for(var m=0;m<v.length;++m)v[m]!==b&&delete this[v[m]]}},_.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},_._configure=function(){var v=_.Buffer;v?(_._Buffer_from=v.from!==Uint8Array.from&&v.from||function(b,m){return new v(b,m)},_._Buffer_allocUnsafe=v.allocUnsafe||function(b){return new v(b)}):_._Buffer_from=_._Buffer_allocUnsafe=null}}).call(this,m(6))},function(v,b,m){"use strict";v.exports=f;var _,R=m(1),S=R.LongBits,j=R.base64,A=R.utf8;function c(v,b,m){this.fn=v,this.len=b,this.next=void 0,this.val=m}function u(){}function l(v){this.head=v.head,this.tail=v.tail,this.len=v.len,this.next=v.states}function f(){this.len=0,this.head=new c(u,0,0),this.tail=this.head,this.states=null}var p=function(){return R.Buffer?function(){return(f.create=function(){return new _})()}:function(){return new f}};function h(v,b,m){b[m]=255&v}function d(v,b){this.len=v,this.next=void 0,this.val=b}function y(v,b,m){for(;v.hi;)b[m++]=127&v.lo|128,v.lo=(v.lo>>>7|v.hi<<25)>>>0,v.hi>>>=7;for(;v.lo>127;)b[m++]=127&v.lo|128,v.lo=v.lo>>>7;b[m++]=v.lo}function w(v,b,m){b[m]=255&v,b[m+1]=v>>>8&255,b[m+2]=v>>>16&255,b[m+3]=v>>>24}f.create=p(),f.alloc=function(v){return new R.Array(v)},R.Array!==Array&&(f.alloc=R.pool(f.alloc,R.Array.prototype.subarray)),f.prototype._push=function(v,b,m){return this.tail=this.tail.next=new c(v,b,m),this.len+=b,this},d.prototype=Object.create(c.prototype),d.prototype.fn=function(v,b,m){for(;v>127;)b[m++]=127&v|128,v>>>=7;b[m]=v},f.prototype.uint32=function(v){return this.len+=(this.tail=this.tail.next=new d((v>>>=0)<128?1:v<16384?2:v<2097152?3:v<268435456?4:5,v)).len,this},f.prototype.int32=function(v){return v<0?this._push(y,10,S.fromNumber(v)):this.uint32(v)},f.prototype.sint32=function(v){return this.uint32((v<<1^v>>31)>>>0)},f.prototype.uint64=function(v){var b=S.from(v);return this._push(y,b.length(),b)},f.prototype.int64=f.prototype.uint64,f.prototype.sint64=function(v){var b=S.from(v).zzEncode();return this._push(y,b.length(),b)},f.prototype.bool=function(v){return this._push(h,1,v?1:0)},f.prototype.fixed32=function(v){return this._push(w,4,v>>>0)},f.prototype.sfixed32=f.prototype.fixed32,f.prototype.fixed64=function(v){var b=S.from(v);return this._push(w,4,b.lo)._push(w,4,b.hi)},f.prototype.sfixed64=f.prototype.fixed64,f.prototype.float=function(v){return this._push(R.float.writeFloatLE,4,v)},f.prototype.double=function(v){return this._push(R.float.writeDoubleLE,8,v)};var M=R.Array.prototype.set?function(v,b,m){b.set(v,m)}:function(v,b,m){for(var _=0;_<v.length;++_)b[m+_]=v[_]};f.prototype.bytes=function(v){var b=v.length>>>0;if(!b)return this._push(h,1,0);if(R.isString(v)){var m=f.alloc(b=j.length(v));j.decode(v,m,0),v=m}return this.uint32(b)._push(M,b,v)},f.prototype.string=function(v){var b=A.length(v);return b?this.uint32(b)._push(A.write,b,v):this._push(h,1,0)},f.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new c(u,0,0),this.len=0,this},f.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(u,0,0),this.len=0),this},f.prototype.ldelim=function(){var v=this.head,b=this.tail,m=this.len;return this.reset().uint32(m),m&&(this.tail.next=v.next,this.tail=b,this.len+=m),this},f.prototype.finish=function(){for(var v=this.head.next,b=this.constructor.alloc(this.len),m=0;v;)v.fn(v.val,b,m),m+=v.len,v=v.next;return b},f._configure=function(v){_=v,f.create=p(),_._configure()}},function(v,b,m){"use strict";v.exports=c;var _,R=m(1),S=R.LongBits,j=R.utf8;function a(v,b){return RangeError("index out of range: "+v.pos+" + "+(b||1)+" > "+v.len)}function c(v){this.buf=v,this.pos=0,this.len=v.length}var A,M="undefined"!=typeof Uint8Array?function(v){if(v instanceof Uint8Array||Array.isArray(v))return new c(v);throw Error("illegal buffer")}:function(v){if(Array.isArray(v))return new c(v);throw Error("illegal buffer")},f=function(){return R.Buffer?function(v){return(c.create=function(v){return R.Buffer.isBuffer(v)?new _(v):M(v)})(v)}:M};function p(){var v=new S(0,0),b=0;if(!(this.len-this.pos>4)){for(;b<3;++b){if(this.pos>=this.len)throw a(this);if(v.lo=(v.lo|(127&this.buf[this.pos])<<7*b)>>>0,this.buf[this.pos++]<128)return v}return v.lo=(v.lo|(127&this.buf[this.pos++])<<7*b)>>>0,v}for(;b<4;++b)if(v.lo=(v.lo|(127&this.buf[this.pos])<<7*b)>>>0,this.buf[this.pos++]<128)return v;if(v.lo=(v.lo|(127&this.buf[this.pos])<<28)>>>0,v.hi=(v.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return v;if(b=0,this.len-this.pos>4){for(;b<5;++b)if(v.hi=(v.hi|(127&this.buf[this.pos])<<7*b+3)>>>0,this.buf[this.pos++]<128)return v}else for(;b<5;++b){if(this.pos>=this.len)throw a(this);if(v.hi=(v.hi|(127&this.buf[this.pos])<<7*b+3)>>>0,this.buf[this.pos++]<128)return v}throw Error("invalid varint encoding")}function h(v,b){return(v[b-4]|v[b-3]<<8|v[b-2]<<16|v[b-1]<<24)>>>0}function d(){if(this.pos+8>this.len)throw a(this,8);return new S(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}c.create=f(),c.prototype._slice=R.Array.prototype.subarray||R.Array.prototype.slice,c.prototype.uint32=(A=4294967295,function(){if(A=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return A;if(A=(A|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return A;if(A=(A|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return A;if(A=(A|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return A;if(A=(A|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return A;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return A}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var v=this.uint32();return v>>>1^-(1&v)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return h(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|h(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var v=R.float.readFloatLE(this.buf,this.pos);return this.pos+=4,v},c.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var v=R.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,v},c.prototype.bytes=function(){var v=this.uint32(),b=this.pos,m=this.pos+v;if(m>this.len)throw a(this,v);return this.pos+=v,Array.isArray(this.buf)?this.buf.slice(b,m):b===m?new this.buf.constructor(0):this._slice.call(this.buf,b,m)},c.prototype.string=function(){var v=this.bytes();return j.read(v,0,v.length)},c.prototype.skip=function(v){if("number"==typeof v){if(this.pos+v>this.len)throw a(this,v);this.pos+=v}else do{if(this.pos>=this.len)throw a(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(v){switch(v){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(v=7&this.uint32());)this.skipType(v);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+v+" at offset "+this.pos)}return this},c._configure=function(v){_=v,c.create=f(),_._configure();var b=R.Long?"toLong":"toNumber";R.merge(c.prototype,{int64:function(){return p.call(this)[b](!1)},uint64:function(){return p.call(this)[b](!0)},sint64:function(){return p.call(this).zzDecode()[b](!1)},fixed64:function(){return d.call(this)[b](!0)},sfixed64:function(){return d.call(this)[b](!1)}})}},function(v,b,m){"use strict";v.exports=m(5)},function(v,b,m){"use strict";var _=b;function o(){_.util._configure(),_.Writer._configure(_.BufferWriter),_.Reader._configure(_.BufferReader)}_.build="minimal",_.Writer=m(2),_.BufferWriter=m(15),_.Reader=m(3),_.BufferReader=m(16),_.util=m(1),_.rpc=m(17),_.roots=m(19),_.configure=o,o()},function(v,b){var m;m=function(){return this}();try{m=m||new Function("return this")()}catch(v){"object"==typeof window&&(m=window)}v.exports=m},function(v,b,m){"use strict";v.exports=function(v,b){for(var m=new Array(arguments.length-1),_=0,R=2,S=!0;R<arguments.length;)m[_++]=arguments[R++];return new Promise((function(R,j){m[_]=function(v){if(S)if(S=!1,v)j(v);else{for(var b=new Array(arguments.length-1),m=0;m<b.length;)b[m++]=arguments[m];R.apply(null,b)}};try{v.apply(b||null,m)}catch(v){S&&(S=!1,j(v))}}))}},function(v,b,m){"use strict";var _=b;_.length=function(v){var b=v.length;if(!b)return 0;for(var m=0;--b%4>1&&"="===v.charAt(b);)++m;return Math.ceil(3*v.length)/4-m};for(var R=new Array(64),S=new Array(123),j=0;j<64;)S[R[j]=j<26?j+65:j<52?j+71:j<62?j-4:j-59|43]=j++;_.encode=function(v,b,m){for(var _,S=null,j=[],A=0,M=0;b<m;){var B=v[b++];switch(M){case 0:j[A++]=R[B>>2],_=(3&B)<<4,M=1;break;case 1:j[A++]=R[_|B>>4],_=(15&B)<<2,M=2;break;case 2:j[A++]=R[_|B>>6],j[A++]=R[63&B],M=0}A>8191&&((S||(S=[])).push(String.fromCharCode.apply(String,j)),A=0)}return M&&(j[A++]=R[_],j[A++]=61,1===M&&(j[A++]=61)),S?(A&&S.push(String.fromCharCode.apply(String,j.slice(0,A))),S.join("")):String.fromCharCode.apply(String,j.slice(0,A))},_.decode=function(v,b,m){for(var _,R=m,j=0,A=0;A<v.length;){var M=v.charCodeAt(A++);if(61===M&&j>1)break;if(void 0===(M=S[M]))throw Error("invalid encoding");switch(j){case 0:_=M,j=1;break;case 1:b[m++]=_<<2|(48&M)>>4,_=M,j=2;break;case 2:b[m++]=(15&_)<<4|(60&M)>>2,_=M,j=3;break;case 3:b[m++]=(3&_)<<6|M,j=0}}if(1===j)throw Error("invalid encoding");return m-R},_.test=function(v){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(v)}},function(v,b,m){"use strict";function n(){this._listeners={}}v.exports=n,n.prototype.on=function(v,b,m){return(this._listeners[v]||(this._listeners[v]=[])).push({fn:b,ctx:m||this}),this},n.prototype.off=function(v,b){if(void 0===v)this._listeners={};else if(void 0===b)this._listeners[v]=[];else for(var m=this._listeners[v],_=0;_<m.length;)m[_].fn===b?m.splice(_,1):++_;return this},n.prototype.emit=function(v){var b=this._listeners[v];if(b){for(var m=[],_=1;_<arguments.length;)m.push(arguments[_++]);for(_=0;_<b.length;)b[_].fn.apply(b[_++].ctx,m)}return this}},function(v,b,m){"use strict";function n(v){return"undefined"!=typeof Float32Array?function(){var b=new Float32Array([-0]),m=new Uint8Array(b.buffer),_=128===m[3];function o(v,_,R){b[0]=v,_[R]=m[0],_[R+1]=m[1],_[R+2]=m[2],_[R+3]=m[3]}function i(v,_,R){b[0]=v,_[R]=m[3],_[R+1]=m[2],_[R+2]=m[1],_[R+3]=m[0]}function s(v,_){return m[0]=v[_],m[1]=v[_+1],m[2]=v[_+2],m[3]=v[_+3],b[0]}function a(v,_){return m[3]=v[_],m[2]=v[_+1],m[1]=v[_+2],m[0]=v[_+3],b[0]}v.writeFloatLE=_?o:i,v.writeFloatBE=_?i:o,v.readFloatLE=_?s:a,v.readFloatBE=_?a:s}():function(){function t(v,b,m,_){var R=b<0?1:0;if(R&&(b=-b),0===b)v(1/b>0?0:2147483648,m,_);else if(isNaN(b))v(2143289344,m,_);else if(b>34028234663852886e22)v((R<<31|2139095040)>>>0,m,_);else if(b<11754943508222875e-54)v((R<<31|Math.round(b/1401298464324817e-60))>>>0,m,_);else{var S=Math.floor(Math.log(b)/Math.LN2);v((R<<31|S+127<<23|8388607&Math.round(b*Math.pow(2,-S)*8388608))>>>0,m,_)}}function r(v,b,m){var _=v(b,m),R=2*(_>>31)+1,S=_>>>23&255,j=8388607&_;return 255===S?j?NaN:R*(1/0):0===S?1401298464324817e-60*R*j:R*Math.pow(2,S-150)*(j+8388608)}v.writeFloatLE=t.bind(null,o),v.writeFloatBE=t.bind(null,i),v.readFloatLE=r.bind(null,s),v.readFloatBE=r.bind(null,a)}(),"undefined"!=typeof Float64Array?function(){var b=new Float64Array([-0]),m=new Uint8Array(b.buffer),_=128===m[7];function o(v,_,R){b[0]=v,_[R]=m[0],_[R+1]=m[1],_[R+2]=m[2],_[R+3]=m[3],_[R+4]=m[4],_[R+5]=m[5],_[R+6]=m[6],_[R+7]=m[7]}function i(v,_,R){b[0]=v,_[R]=m[7],_[R+1]=m[6],_[R+2]=m[5],_[R+3]=m[4],_[R+4]=m[3],_[R+5]=m[2],_[R+6]=m[1],_[R+7]=m[0]}function s(v,_){return m[0]=v[_],m[1]=v[_+1],m[2]=v[_+2],m[3]=v[_+3],m[4]=v[_+4],m[5]=v[_+5],m[6]=v[_+6],m[7]=v[_+7],b[0]}function a(v,_){return m[7]=v[_],m[6]=v[_+1],m[5]=v[_+2],m[4]=v[_+3],m[3]=v[_+4],m[2]=v[_+5],m[1]=v[_+6],m[0]=v[_+7],b[0]}v.writeDoubleLE=_?o:i,v.writeDoubleBE=_?i:o,v.readDoubleLE=_?s:a,v.readDoubleBE=_?a:s}():function(){function t(v,b,m,_,R,S){var j=_<0?1:0;if(j&&(_=-_),0===_)v(0,R,S+b),v(1/_>0?0:2147483648,R,S+m);else if(isNaN(_))v(0,R,S+b),v(2146959360,R,S+m);else if(_>17976931348623157e292)v(0,R,S+b),v((j<<31|2146435072)>>>0,R,S+m);else{var A;if(_<22250738585072014e-324)v((A=_/5e-324)>>>0,R,S+b),v((j<<31|A/4294967296)>>>0,R,S+m);else{var M=Math.floor(Math.log(_)/Math.LN2);1024===M&&(M=1023),v(4503599627370496*(A=_*Math.pow(2,-M))>>>0,R,S+b),v((j<<31|M+1023<<20|1048576*A&1048575)>>>0,R,S+m)}}}function r(v,b,m,_,R){var S=v(_,R+b),j=v(_,R+m),A=2*(j>>31)+1,M=j>>>20&2047,B=4294967296*(1048575&j)+S;return 2047===M?B?NaN:A*(1/0):0===M?5e-324*A*B:A*Math.pow(2,M-1075)*(B+4503599627370496)}v.writeDoubleLE=t.bind(null,o,0,4),v.writeDoubleBE=t.bind(null,i,4,0),v.readDoubleLE=r.bind(null,s,0,4),v.readDoubleBE=r.bind(null,a,4,0)}(),v}function o(v,b,m){b[m]=255&v,b[m+1]=v>>>8&255,b[m+2]=v>>>16&255,b[m+3]=v>>>24}function i(v,b,m){b[m]=v>>>24,b[m+1]=v>>>16&255,b[m+2]=v>>>8&255,b[m+3]=255&v}function s(v,b){return(v[b]|v[b+1]<<8|v[b+2]<<16|v[b+3]<<24)>>>0}function a(v,b){return(v[b]<<24|v[b+1]<<16|v[b+2]<<8|v[b+3])>>>0}v.exports=n(n)},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(v){}return null}module.exports=inquire},function(v,b,m){"use strict";var _=b;_.length=function(v){for(var b=0,m=0,_=0;_<v.length;++_)(m=v.charCodeAt(_))<128?b+=1:m<2048?b+=2:55296==(64512&m)&&56320==(64512&v.charCodeAt(_+1))?(++_,b+=4):b+=3;return b},_.read=function(v,b,m){if(m-b<1)return"";for(var _,R=null,S=[],j=0;b<m;)(_=v[b++])<128?S[j++]=_:_>191&&_<224?S[j++]=(31&_)<<6|63&v[b++]:_>239&&_<365?(_=((7&_)<<18|(63&v[b++])<<12|(63&v[b++])<<6|63&v[b++])-65536,S[j++]=55296+(_>>10),S[j++]=56320+(1023&_)):S[j++]=(15&_)<<12|(63&v[b++])<<6|63&v[b++],j>8191&&((R||(R=[])).push(String.fromCharCode.apply(String,S)),j=0);return R?(j&&R.push(String.fromCharCode.apply(String,S.slice(0,j))),R.join("")):String.fromCharCode.apply(String,S.slice(0,j))},_.write=function(v,b,m){for(var _,R,S=m,j=0;j<v.length;++j)(_=v.charCodeAt(j))<128?b[m++]=_:_<2048?(b[m++]=_>>6|192,b[m++]=63&_|128):55296==(64512&_)&&56320==(64512&(R=v.charCodeAt(j+1)))?(_=65536+((1023&_)<<10)+(1023&R),++j,b[m++]=_>>18|240,b[m++]=_>>12&63|128,b[m++]=_>>6&63|128,b[m++]=63&_|128):(b[m++]=_>>12|224,b[m++]=_>>6&63|128,b[m++]=63&_|128);return m-S}},function(v,b,m){"use strict";v.exports=function(v,b,m){var _=m||8192,R=_>>>1,S=null,j=_;return function(m){if(m<1||m>R)return v(m);j+m>_&&(S=v(_),j=0);var A=b.call(S,j,j+=m);return 7&j&&(j=1+(7|j)),A}}},function(v,b,m){"use strict";v.exports=o;var _=m(1);function o(v,b){this.lo=v>>>0,this.hi=b>>>0}var R=o.zero=new o(0,0);R.toNumber=function(){return 0},R.zzEncode=R.zzDecode=function(){return this},R.length=function(){return 1};var S=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(v){if(0===v)return R;var b=v<0;b&&(v=-v);var m=v>>>0,_=(v-m)/4294967296>>>0;return b&&(_=~_>>>0,m=~m>>>0,++m>4294967295&&(m=0,++_>4294967295&&(_=0))),new o(m,_)},o.from=function(v){if("number"==typeof v)return o.fromNumber(v);if(_.isString(v)){if(!_.Long)return o.fromNumber(parseInt(v,10));v=_.Long.fromString(v)}return v.low||v.high?new o(v.low>>>0,v.high>>>0):R},o.prototype.toNumber=function(v){if(!v&&this.hi>>>31){var b=1+~this.lo>>>0,m=~this.hi>>>0;return b||(m=m+1>>>0),-(b+4294967296*m)}return this.lo+4294967296*this.hi},o.prototype.toLong=function(v){return _.Long?new _.Long(0|this.lo,0|this.hi,Boolean(v)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(v)}};var j=String.prototype.charCodeAt;o.fromHash=function(v){return v===S?R:new o((j.call(v,0)|j.call(v,1)<<8|j.call(v,2)<<16|j.call(v,3)<<24)>>>0,(j.call(v,4)|j.call(v,5)<<8|j.call(v,6)<<16|j.call(v,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var v=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^v)>>>0,this.lo=(this.lo<<1^v)>>>0,this},o.prototype.zzDecode=function(){var v=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^v)>>>0,this.hi=(this.hi>>>1^v)>>>0,this},o.prototype.length=function(){var v=this.lo,b=(this.lo>>>28|this.hi<<4)>>>0,m=this.hi>>>24;return 0===m?0===b?v<16384?v<128?1:2:v<2097152?3:4:b<16384?b<128?5:6:b<2097152?7:8:m<128?9:10}},function(v,b,m){"use strict";v.exports=i;var _=m(2);(i.prototype=Object.create(_.prototype)).constructor=i;var R=m(1);function i(){_.call(this)}function s(v,b,m){v.length<40?R.utf8.write(v,b,m):b.utf8Write?b.utf8Write(v,m):b.write(v,m)}i._configure=function(){i.alloc=R._Buffer_allocUnsafe,i.writeBytesBuffer=R.Buffer&&R.Buffer.prototype instanceof Uint8Array&&"set"===R.Buffer.prototype.set.name?function(v,b,m){b.set(v,m)}:function(v,b,m){if(v.copy)v.copy(b,m,0,v.length);else for(var _=0;_<v.length;)b[m++]=v[_++]}},i.prototype.bytes=function(v){R.isString(v)&&(v=R._Buffer_from(v,"base64"));var b=v.length>>>0;return this.uint32(b),b&&this._push(i.writeBytesBuffer,b,v),this},i.prototype.string=function(v){var b=R.Buffer.byteLength(v);return this.uint32(b),b&&this._push(s,b,v),this},i._configure()},function(v,b,m){"use strict";v.exports=i;var _=m(3);(i.prototype=Object.create(_.prototype)).constructor=i;var R=m(1);function i(v){_.call(this,v)}i._configure=function(){R.Buffer&&(i.prototype._slice=R.Buffer.prototype.slice)},i.prototype.string=function(){var v=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+v,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+v,this.len))},i._configure()},function(v,b,m){"use strict";b.Service=m(18)},function(v,b,m){"use strict";v.exports=o;var _=m(1);function o(v,b,m){if("function"!=typeof v)throw TypeError("rpcImpl must be a function");_.EventEmitter.call(this),this.rpcImpl=v,this.requestDelimited=Boolean(b),this.responseDelimited=Boolean(m)}(o.prototype=Object.create(_.EventEmitter.prototype)).constructor=o,o.prototype.rpcCall=function e(v,b,m,R,S){if(!R)throw TypeError("request must be specified");var j=this;if(!S)return _.asPromise(e,j,v,b,m,R);if(j.rpcImpl)try{return j.rpcImpl(v,b[j.requestDelimited?"encodeDelimited":"encode"](R).finish(),(function(b,_){if(b)return j.emit("error",b,v),S(b);if(null!==_){if(!(_ instanceof m))try{_=m[j.responseDelimited?"decodeDelimited":"decode"](_)}catch(b){return j.emit("error",b,v),S(b)}return j.emit("data",_,v),S(null,_)}j.end(!0)}))}catch(e){return j.emit("error",e,v),void setTimeout((function(){S(e)}),0)}else setTimeout((function(){S(Error("already ended"))}),0)},o.prototype.end=function(v){return this.rpcImpl&&(v||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(v,b,m){"use strict";v.exports={}},function(v,b,m){"use strict";m.r(b),m.d(b,"webworker_rpc",(function(){return R.webworker_rpc})),m.d(b,"RPCEmitter",(function(){return z})),m.d(b,"RPCPeer",(function(){return H})),m.d(b,"LinkListener",(function(){return J})),m.d(b,"ExportAll",(function(){return x})),m.d(b,"Export",(function(){return E})),m.d(b,"RemoteListener",(function(){return O})),m.d(b,"RPCMessage",(function(){return A})),m.d(b,"RPCRegistryPacket",(function(){return M})),m.d(b,"RPCExecutePacket",(function(){return B})),m.d(b,"RPCResponsePacket",(function(){return U})),m.d(b,"RPCExecutor",(function(){return L})),m.d(b,"RPCParam",(function(){return W}));var _,R=m(0),S=function(){function e(){var v=this;this.resolver=null,this.rejecter=null,this.set=function(b,m){if(void 0===m&&(m=null),v.resolver){var _=new Error("Resolver already exists");if(m)return m(_);throw _}v.resolver=b,v.rejecter=m},this.promise=function(b){return new Promise((function(m,_){if(v.set(m,_),b)try{b()}catch(b){v.reject(b)}}))},this.resolve=function(b){if(!v.resolver){var m=new Error("No Resolver");if(v.rejecter)return v.rejecter(m);throw m}v.resolver(b),v.resolver=null,v.rejecter=null},this.reject=function(b){if(!v.rejecter)throw b;v.rejecter(b),v.resolver=null,v.rejecter=null}}return e.create=function(){return new e},e}(),j=(_=function(v,b){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,b){v.__proto__=b}||function(v,b){for(var m in b)b.hasOwnProperty(m)&&(v[m]=b[m])})(v,b)},function(v,b){function r(){this.constructor=v}_(v,b),v.prototype=null===b?Object.create(b):(r.prototype=b.prototype,new r)}),A=function(v){function t(b,m){var _=v.call(this)||this;return _.encodeable=!0,_.key=b,m instanceof M?_.dataRegistry=m:m instanceof B?(_.dataExecute=m,m.header.remoteExecutor.hasUnknownParam&&(_.encodeable=!1)):m instanceof U&&(_.dataResponse=m,m.hasUnknownParam&&(_.encodeable=!1)),_}return j(t,v),t}(R.webworker_rpc.WebWorkerMessage),M=function(v){function t(b,m,_){var R=v.call(this)||this;return R.id=b,R.serviceName=m,R.executors=_,R}return j(t,v),t.checkType=function(v){if(!v)return!1;if(!("id"in v))return!1;if(!("serviceName"in v))return!1;if("executors"in v){if(!Array.isArray(v.executors))return!1;if(v.executors.length>0)for(var b=0,m=v.executors;b<m.length;b++){var _=m[b];if(!L.checkType(_))return!1}}return!0},t}(R.webworker_rpc.RegistryPacket),B=function(v){function t(b,m,_,S,j){var A=v.call(this)||this;return A.id=b,A.header=new R.webworker_rpc.Header,A.header.serviceName=m,A.header.remoteExecutor=new L(_,S,j),A}return j(t,v),t.checkType=function(v){if(!v)return!1;if(!("id"in v))return!1;if(!("header"in v))return!1;var b=v.header;if(!("serviceName"in b))return!1;if(!("remoteExecutor"in b))return!1;var m=b.remoteExecutor;return!!L.checkType(m)},t}(R.webworker_rpc.ExecutePacket),L=function(v){function t(b,m,_){var S=v.call(this)||this;if(S.hasUnknownParam=!1,S.method=b,m&&(S.context=m),_){for(var j=0,A=_;j<A.length;j++)if(A[j].t===R.webworker_rpc.ParamType.UNKNOWN){S.hasUnknownParam=!0;break}S.params=_}return S}return j(t,v),t.checkType=function(v){if(!v)return!1;if(!("method"in v))return!1;if("params"in v){if(!Array.isArray(v.params))return!1;if(v.params.length>0)for(var b=0,m=v.params;b<m.length;b++){var _=m[b];if(!W.checkType(_))return!1}}return!0},t}(R.webworker_rpc.Executor),W=function(v){function t(b,m){var _=v.call(this)||this;switch(_.t=b,b){case R.webworker_rpc.ParamType.UNKNOWN:_.valUnknown=m;break;case R.webworker_rpc.ParamType.str:_.valStr=m;break;case R.webworker_rpc.ParamType.boolean:_.valBool=m;break;case R.webworker_rpc.ParamType.num:_.valNum=m;break;case R.webworker_rpc.ParamType.unit8array:_.valBytes=m;break;case R.webworker_rpc.ParamType.executor:_.valExecutor=m;break;default:console.error("unkonw type : ",b)}return _}return j(t,v),t.checkType=function(v){return!!v&&"t"in v},t.getValue=function(v){switch(v.t){case R.webworker_rpc.ParamType.UNKNOWN:return v.valUnknown;case R.webworker_rpc.ParamType.boolean:return v.valBool;case R.webworker_rpc.ParamType.num:return v.valNum;case R.webworker_rpc.ParamType.str:return v.valStr;case R.webworker_rpc.ParamType.unit8array:return v.valBytes;case R.webworker_rpc.ParamType.executor:return v.valExecutor;default:return null}},t.createByValue=function(v){return null==v?new t(R.webworker_rpc.ParamType.UNKNOWN,v):"string"==typeof v?new t(R.webworker_rpc.ParamType.str,v):"boolean"==typeof v?new t(R.webworker_rpc.ParamType.boolean,v):"number"==typeof v?new t(R.webworker_rpc.ParamType.num,v):v.constructor===Uint8Array?new t(R.webworker_rpc.ParamType.unit8array,v):v instanceof R.webworker_rpc.Executor?new t(R.webworker_rpc.ParamType.executor,v):new t(R.webworker_rpc.ParamType.UNKNOWN,v)},t}(R.webworker_rpc.Param),U=function(v){function t(b,m,_){var S=v.call(this)||this;return S.hasUnknownParam=!1,S.id=b,m&&(S.val=m,m.t===R.webworker_rpc.ParamType.UNKNOWN&&(S.hasUnknownParam=!0)),_&&(S.err=_),S}return j(t,v),t.checkType=function(v){if(!v)return!1;if(!("id"in v))return!1;if("vals"in v){if(!Array.isArray(v.vals))return!1;if(v.vals.length>0)for(var b=0,m=v.vals;b<m.length;b++){var _=m[b];if(!W.checkType(_))return!1}}return!0},t}(R.webworker_rpc.ResponesPacket),G=function(){var e=function(v,b){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,b){v.__proto__=b}||function(v,b){for(var m in b)b.hasOwnProperty(m)&&(v[m]=b[m])})(v,b)};return function(v,b){function n(){this.constructor=v}e(v,b),v.prototype=null===b?Object.create(b):(n.prototype=b.prototype,new n)}}(),d=function(v,b,m,_){var R,S=arguments.length,j=S<3?b:null===_?_=Object.getOwnPropertyDescriptor(b,m):_;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)j=Reflect.decorate(v,b,m,_);else for(var A=v.length-1;A>=0;A--)(R=v[A])&&(j=(S<3?R(j):S>3?R(b,m,j):R(b,m))||j);return S>3&&j&&Object.defineProperty(b,m,j),j},y=function(v,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(v,b)},C=[],D=new Map,I=[],K=new Map,g=function(v,b,m,_){var R="function"==typeof v?v.name+".constructor":v.constructor.name,S=[];if(null!=_)for(var j=0,A=_;j<A.length;j++){var M=A[j];S.push(new W(M))}k(new L(b,R,S))},k=function(v){return C.findIndex((function(b){return b.method===v.method&&b.context===v.context}))<0&&(C.push(v),!0)};function x(){return function(v){return I.push(v.name),v}}function E(v){return function(b,m,_){null!=_?g(b,m,0,v):function(v,b){var m="function"==typeof v?v.name+".constructor":v.constructor.name;K.has(m)||K.set(m,[]),K.get(m).push(b)}(b,m)}}var F=new Map;function O(v,b,m,_){return function(R,S,j){g(R,S,0,_);var A,M="function"==typeof R?R.name+".constructor":R.constructor.name,B=[];if(null!=_)for(var U=0,G=_;U<G.length;U++){var C=G[U];B.push(new W(C))}A=B.length>0?new L(S,M,B):new L(S,M),F.has(v)||F.set(v,[]),F.get(v).push({context:b,event:m,executor:A})}}var P=function(v){if("undefined"!=typeof MessageChannel){var b=new Map,m=null,n=function(v,_){b.has(v)||(0===b.size&&(m=_),b.set(v,_),_.onmessage=function(v){var b=v.data.key;if(null!=b)switch(b){case"requestLink":o(v);break;case"unlink":i(v);break;case"destroyManager":s(v)}})},o=function(v){var _=v.data,R=_.serviceName,S=_.workerName,j=_.workerUrl,A=new MessageChannel;if(b.has(R))if(b.get(R).postMessage({key:"link",workers:[S]},[A.port1]),b.has(S))b.get(S).postMessage({key:"link",workers:[R]},[A.port2]);else{if(null==j)return void console.error("worker url undefined");var M=new MessageChannel;if(null==m)return;m.postMessage({key:"proxyCreateWorker",workerName:S,workerUrl:j,msg:{key:"link",workers:["__MANAGER",R]}},[M.port2,A.port2]),n(S,M.port1)}else console.error("__MANAGER not yet link to "+R)},i=function(v){var m=v.data.worker;b.has(m)&&b.delete(m)},s=function(v){for(var m=0,_=Array.from(b.keys());m<_.length;m++){var R=_[m];b.get(R).postMessage({key:"unlink",worker:"__MANAGER"})}console.log("webworker-rpc: close manager worker"),self.close()};switch(v.data.key){case"link":!function(v){for(var b=v.data.workers,m=v.ports,_=0;_<m.length;_++){var R=m[_],S=b[_];n(S,R)}}(v)}}else console.error("MessageChannel undefined")},Y=["prototype","__proto__","self","worker","remote","getInstance","_instance"],q=["destroy"];function N(){return function(v,b,m){for(var _ in v)Y.includes(_)||Y.push(_);for(var R=0,S=v.constructor;R<S.length;R++)_=S[R],Y.includes(_)||Y.push(_)}}var z=function(){function e(){this.emitFunctions=new Map,D.set(this.constructor.name,this),this.exportFunction("on",[new W(R.webworker_rpc.ParamType.str),new W(R.webworker_rpc.ParamType.executor),new W(R.webworker_rpc.ParamType.str)]),this.exportFunction("off",[new W(R.webworker_rpc.ParamType.str)])}return e.prototype.on=function(v,b,m){this.emitFunctions.has(v)||this.emitFunctions.set(v,[]),this.emitFunctions.get(v).push({worker:m,executor:b})},e.prototype.off=function(v,b,m){if(this.emitFunctions.has(v))if(b&&b instanceof L&&m&&"string"==typeof m){var _=this.emitFunctions.get(v),R=_.findIndex((function(v){return v.worker===m&&v.executor===b}));R>0&&_.splice(R,0)}else this.emitFunctions.delete(v)},e.prototype.emit=function(v){for(var b,m=[],_=1;_<arguments.length;_++)m[_-1]=arguments[_];if(this.emitFunctions.has(v))if(H.getInstance())for(var R=this.emitFunctions.get(v),S=0,j=R;S<j.length;S++){var A=j[S];A.worker in H.getInstance().remote&&(b=H.getInstance().remote[A.worker][A.executor.context])[A.executor.method].apply(b,m)}else console.error("no peer created")},e.prototype.exportFunction=function(v,b){return k(new L(v,this.constructor.name,b))},d([N(),y("design:type",Function),y("design:paramtypes",[String,L,String]),y("design:returntype",void 0)],e.prototype,"on",null),e}(),H=function(v){function t(b){var m=v.call(this)||this;return m.MESSAGEKEY_LINK="link",m.MESSAGEKEY_REQUESTLINK="requestLink",m.MESSAGEKEY_ADDREGISTRY="addRegistry",m.MESSAGEKEY_GOTREGISTRY="gotRegistry",m.MESSAGEKEY_EXECUTE="execute",m.MESSAGEKEY_RESPOND="respond",m.MESSAGEKEY_UNLINK="unlink",m.MESSAGEKEY_PROXYCREATEWORKER="proxyCreateWorker",m.MESSAGEKEY_DESTROYMANAGER="destroyManager",m.exported=!1,"undefined"==typeof MessageChannel?(console.error("MessageChannel undefined"),m):null==b?(console.error("param <name> error"),m):t._instance?(console.error("duplicate RPCPeer created: "+b+" & "+t._instance.name),m):(t._instance=m,console.log("webworker-rpc: new peer: ",b),m.exportFunction("destroy"),m.name=b,m.worker=self,m.registry=new Map,m.channels=new Map,m.linkListeners=new Map,m.linkTasks=[],m.resolvers=new Map,m.registryPackID=0,m.resolverID=0,m.syncRegistryListeners=new Map,m.worker.addEventListener("message",(function(v){var b=v.data.key;void 0!==b&&b===m.MESSAGEKEY_LINK&&m.onMessage_Link(v)})),m)}return G(t,v),t.getInstance=function(){return t._instance},t.prototype.linkTo=function(v,b){if(this.linkListeners.has(v))return console.warn("already requested link to "+v),this.linkListeners.get(v);var m=new J(this.name,v);if(this.linkListeners.set(v,m),!this.channels.has("__MANAGER")){var _=this.worker.name;if(void 0!==_&&_===this.name)return this.linkTasks.push({workerName:v,workerUrl:b}),m;if("undefined"==typeof Worker)return void console.error("Worker undefined! can not create manager worker.");var R=this.getManagerWorkerURL(),S=new Worker(R),j=new MessageChannel;S.postMessage({key:this.MESSAGEKEY_LINK,workers:[this.name]},[j.port2]),this.addLink("__MANAGER",j.port1)}return this.channels.get("__MANAGER").postMessage({key:this.MESSAGEKEY_REQUESTLINK,serviceName:this.name,workerName:v,workerUrl:b}),m},t.prototype.destroyManagerWorker=function(){this.channels.has("__MANAGER")&&this.channels.get("__MANAGER").postMessage({key:this.MESSAGEKEY_DESTROYMANAGER})},t.prototype.destroy=function(){for(var v=0,b=Array.from(this.channels.keys());v<b.length;v++){var m=b[v];if(F.has(m))for(var _=0,R=F.get(m);_<R.length;_++){var S=R[_];this.remote[m][S.context].off(S.event,S.executor,this.name)}this.channels.get(m).postMessage({key:this.MESSAGEKEY_UNLINK,worker:this.name})}void 0!==t._instance&&null!==t._instance&&(t._instance=null),console.log("webworker-rpc: close "+this.name),self.close()},t.prototype.exportProperty=function(v,b,m){if(null==m)for(var _ in b)Object.prototype.hasOwnProperty.call(b,_)&&b[_]===v&&(m=_);if(0!==m.length){b[m]!==v&&(void 0!==b[m]&&null!==b[m]&&console.warn(m+" exist, replaced"),b[m]=v);for(var R="",S=0,j=Array.from(D.keys());S<j.length;S++){var A=j[S];if(D.get(A)===b){R=A;break}}var B=R;if(0===R.length){if(B=b.constructor.name,D.has(B))return void console.error("context name <"+B+"> exist");D.set(B,b)}var L=this.exportObject(v,B+"."+m,!1),W=Array.from(this.channels.keys());this.registryPackID++;var U=new V(this.registryPackID,W);this.syncRegistryListeners.set(this.registryPackID,U);for(var G=0,C=W;G<C.length;G++)A=C[G],this.postRegistry(A,new M(this.registryPackID,this.name,L));return U}console.error(v+" is not in "+b)},t.prototype.onWorkerUnlinked=function(v){console.log(this.name+" onWorkerUnlinked: ",v)},t.prototype.addLink=function(v,b){var m=this;if(this.channels.has(v))this.registry.has(v)&&this.updateLinkState(v);else if(this.channels.set(v,b),b.onmessage=function(v){var b=v.data.key;if(null!=b)switch(b){case m.MESSAGEKEY_LINK:m.onMessage_Link(v);break;case m.MESSAGEKEY_ADDREGISTRY:m.onMessage_AddRegistry(v);break;case m.MESSAGEKEY_GOTREGISTRY:m.onMessage_GotRegistry(v);break;case m.MESSAGEKEY_EXECUTE:m.onMessage_Execute(v);break;case m.MESSAGEKEY_RESPOND:m.onMessage_Respond(v);break;case m.MESSAGEKEY_UNLINK:m.onMessage_Unlink(v);break;case m.MESSAGEKEY_PROXYCREATEWORKER:m.onMessage_ProxyCreateWorker(v)}},this.updateRegistry(),this.postRegistry(v,new M(this.registryPackID,this.name,C)),"__MANAGER"===v)for(var _=this.linkTasks.length,R=0;R<_;R++){var S=this.linkTasks.pop();this.channels.get("__MANAGER").postMessage({key:this.MESSAGEKEY_REQUESTLINK,serviceName:this.name,workerName:S.workerName,workerUrl:S.workerUrl})}},t.prototype.execute=function(v,b,m,_){var j=this;if(this.registry.has(v)){var M=this.registry.get(v).find((function(v){return v.context===m&&v.method===b}));if(null!=M){var L=M.params;if(L&&L.length>0){if(!_||0===_.length)return void console.error("method <"+b+"> execute error! ","param.length = 0");if(L.length>_.length)return void console.error("method <"+b+"> execute error! ","param not enough");for(var W=0;W<L.length;W++){var U=L[W],G=_[W];if(U.t!==G.t)return void console.error("method <"+b+"> execute error! ","param type not match, registry: <",R.webworker_rpc.ParamType[U.t],">; execute: <",R.webworker_rpc.ParamType[G.t],">")}}var C=this.resolverID++,D=new S;return this.resolvers.set(C,D),D.promise((function(){var S=new A(j.MESSAGEKEY_EXECUTE,new B(C,j.name,b,m,_));if(S.encodeable){var M=R.webworker_rpc.WebWorkerMessage.encode(S).finish().buffer;j.channels.has(v)&&j.channels.get(v).postMessage(S,[].concat(M.slice(0)))}else j.channels.has(v)&&j.channels.get(v).postMessage(S)}))}console.error("method <"+b+"> not registed")}else console.error("worker <"+v+"> not registed")},t.prototype.respond=function(v,b,m,_){var S=new A(this.MESSAGEKEY_RESPOND,new U(b,m,_));if(S.encodeable){var j=R.webworker_rpc.WebWorkerMessage.encode(S).finish().buffer;this.channels.has(v)&&this.channels.get(v).postMessage(S,[].concat(j.slice(0)))}else this.channels.has(v)&&this.channels.get(v).postMessage(S)},t.prototype.updateRegistry=function(){if(!this.exported){this.exported=!0;for(var v=0,b=I;v<b.length;v++){var m=b[v];D.has(m)?this.exportObject(D.get(m),m):console.error("ExportAll only decorate Emitter!")}for(var _=0,R=Array.from(K.keys());_<R.length;_++){var S=R[_],j=S.split("."),A=j[0];if(D.has(A))for(var M=0,B=K.get(S);M<B.length;M++){for(var L=B[M],W=D.get(A),U=1;U<j.length;U++)W=W[j[U]];L in W?this.exportObject(W[L],S+"."+L,!1):console.error(L+" not in ",W)}else console.error("Export only decorate Emitter!")}}},t.prototype.postRegistry=function(v,b){if("__MANAGER"!==v){var m=new A(this.MESSAGEKEY_ADDREGISTRY,b),_=R.webworker_rpc.WebWorkerMessage.encode(m).finish().buffer;this.channels.has(v)&&this.channels.get(v).postMessage(m,[].concat(_.slice(0)))}},t.prototype.onMessage_Link=function(v){for(var b=v.data.workers,m=v.ports,_=0;_<m.length;_++){var R=m[_],S=b[_];this.addLink(S,R)}},t.prototype.onMessage_AddRegistry=function(v){var b=v.data.dataRegistry;if(null!=b)if(M.checkType(b)){var m=b;this.registry.has(m.serviceName)||this.registry.set(m.serviceName,[]);var _=this.registry.get(m.serviceName).concat(m.executors);if(this.registry.set(m.serviceName,_),this.addRegistryProperty(m),this.channels.has(m.serviceName)&&this.channels.get(m.serviceName).postMessage({key:this.MESSAGEKEY_GOTREGISTRY,worker:this.name,id:m.id}),this.updateLinkState(m.serviceName),F.has(m.serviceName)){for(var R=0,S=F.get(m.serviceName);R<S.length;R++){var j=S[R];this.remote[m.serviceName][j.context].on(j.event,j.executor,this.name)}F.delete(m.serviceName)}}else console.warn("<data> type error: ",b);else console.warn("<data> not in ev.data")},t.prototype.onMessage_GotRegistry=function(v){var b=v.data,m=b.worker,_=b.id;this.linkListeners.has(m)&&this.linkListeners.get(m).setPortReady(m),this.syncRegistryListeners.has(_)&&this.syncRegistryListeners.get(_).workerGotRegistry(m)},t.prototype.onMessage_Execute=function(v){var b=this,m=v.data.dataExecute;if(null!=m)if(B.checkType(m)){var _=m,R=_.id,S=_.header.serviceName,j=_.header.remoteExecutor,A=[];if(void 0!==j.params&&null!==j.params)for(var M=0,L=j.params;M<L.length;M++){var U=L[M],G=W.getValue(U);A.push(G)}var C=this.executeFunctionByName(j.method,j.context,A);C instanceof Promise?C.then((function(v){b.handlerExcuteResult(S,R,v)})):this.handlerExcuteResult(S,R,C)}else console.warn("<data> type error: ",m);else console.warn("<data> not in ev.data")},t.prototype.onMessage_Respond=function(v){var b=v.data.dataResponse;if(null!=b)if(U.checkType(b)){var m=b;if(this.resolvers.has(m.id)){var _=this.resolvers.get(m.id);if(this.resolvers.delete(m.id),void 0!==m.err&&null!==m.err)return console.error("get error response: ",m.err),void _.reject(m.err);void 0===m.val||null===m.val?_.resolve():_.resolve(W.getValue(m.val))}else console.error("respones.id undefined: ",m.id)}else console.warn("<data> type error: ",b);else console.warn("<data> not in ev.data")},t.prototype.onMessage_Unlink=function(v){var b=v.data.worker;this.channels.has(b)&&this.channels.delete(b),this.registry.has(b)&&this.registry.delete(b),void 0!==this.remote&&null!==this.remote&&b in this.remote&&delete this.remote[b],this.onWorkerUnlinked(b)},t.prototype.onMessage_ProxyCreateWorker=function(v){var b=v.data,m=b.workerName,_=b.workerUrl,R=b.msg;if("undefined"!=typeof Worker){console.log("webworker-rpc ProxyCreateWorker: location: ",location);var S=location.origin+location.pathname;S.endsWith("index.html")?S=S.slice(0,-10):S.endsWith("index.html/")&&(S=S.slice(0,-11)+"/");var j=S+_,A=new Worker(j,{name:m});console.log(this.name+" create worker: ",j,m);for(var M=[],B=0,L=v.ports;B<L.length;B++){var W=L[B];M.push(W)}A.postMessage(R,M)}else console.error("Worker undefined! can not create worker")},t.prototype.exportObject=function(v,b,m){void 0===m&&(m=!0);var _=[];for(var R in v)if(!Y.includes(R)||q.includes(R)){var S=v[R];if("function"==typeof S){var j=new L(R,b);k(j)&&_.push(j)}else if(m&&S instanceof Object){var A=b.concat(".",R);_=_.concat(this.exportObject(S,A))}}var M=b.split(".");if("constructor"!==M[M.length-1]){var B=v.constructor,W=this.exportObject(B,b+".constructor",m);_=_.concat(W)}return _},t.prototype.executeFunctionByName=function(v,b,m){var _=this.getContext(b);return null==_?(console.error("excute function <"+v+"> error, no context <"+b+"> exist"),null):_[v].apply(_,m)},t.prototype.getContext=function(v){var b=v.split(".");if(!D.has(b[0]))return console.error("no context exist: ",b[0]),null;for(var m=D.get(b[0]),_=1;_<b.length;_++){var R=b[_];if(!(R in m))return console.error(R+" is undefined in ",m),null;m=m[R]}return m},t.prototype.addRegistryProperty=function(v){var b=this;void 0!==this.remote&&null!==this.remote||(this.remote={});var m=v.serviceName,_=v.executors,R={};m in this.remote?R=this.remote[m]:T(this.remote,m,R);for(var i=function(v){for(var _=v.context.split("."),S=R,j=0,A=_;j<A.length;j++){var M=A[j];"constructor"!==M&&(M in S||T(S,M,{}),S=S[M])}T(S,v.method,(function(){for(var _=[],R=0;R<arguments.length;R++)_[R]=arguments[R];var S=[];if(null!=_)for(var j=0,A=_;j<A.length;j++){var M=A[j];S.push(W.createByValue(M))}return b.execute(m,v.method,v.context,S)}))},S=0,j=_;S<j.length;S++)i(j[S]);console.log(this.name+".remote: ",this.remote)},t.prototype.getManagerWorkerURL=function(){var v=P.toString(),b=new Blob(["\n            self.addEventListener('message', function(e) {\n                (("+v+")(e));\n            });\n        "],{type:"text/javascript"});return URL.createObjectURL(b)},t.prototype.updateLinkState=function(v){this.linkListeners.has(v)&&this.linkListeners.get(v).setPortReady(this.name)},t.prototype.handlerExcuteResult=function(v,b,m){this.respond(v,b,W.createByValue(m))},d([N(),y("design:type",Function),y("design:paramtypes",[String,String]),y("design:returntype",J)],t.prototype,"linkTo",null),t}(z),J=function(){function e(v,b){this.port1="",this.port2="",this.port1Ready=!1,this.port2Ready=!1,this.port1=v,this.port2=b}return e.prototype.onceReady=function(v){this.readyFunc=v},e.prototype.setPortReady=function(v){this.port1!==v&&this.port2!==v||(this.port1Ready||(this.port1Ready=this.port1===v),this.port2Ready||(this.port2Ready=this.port2===v),this.port1Ready&&this.port2Ready&&this.readyFunc&&(this.readyFunc(),this.readyFunc=null))},e}(),V=function(){function e(v,b){this.id=v,this.workersState=new Map;for(var m=0,_=b;m<_.length;m++){var R=_[m];"__MANAGER"!==R&&this.workersState.set(R,!1)}}return e.prototype.onceReady=function(v){this.readyFunc=v},e.prototype.workerGotRegistry=function(v){if(this.workersState.has(v)){this.workersState.set(v,!0);for(var b=!0,m=0,_=Array.from(this.workersState.keys());m<_.length;m++){var R=_[m];if(!this.workersState.get(R)){b=!1;break}}b&&this.readyFunc&&(this.readyFunc(),this.readyFunc=null)}},e}();function T(v,b,m){return b in v?(console.error("key exist, add property failed!",v,b),v):(v[b]=m,v)}}])},module.exports=t()},647:function(v,b,m){"use strict";const copyTextToClipboard=(v,{target:b=document.body}={})=>{const m=document.createElement("textarea"),_=document.activeElement;m.value=v,m.setAttribute("readonly",""),m.style.contain="strict",m.style.position="absolute",m.style.left="-9999px",m.style.fontSize="12pt";const R=document.getSelection();let S=!1;R.rangeCount>0&&(S=R.getRangeAt(0)),b.append(m),m.select(),m.selectionStart=0,m.selectionEnd=v.length;let j=!1;try{j=document.execCommand("copy")}catch(v){}return m.remove(),S&&(R.removeAllRanges(),R.addRange(S)),_&&_.focus(),j};v.exports=copyTextToClipboard,v.exports.default=copyTextToClipboard}}]);